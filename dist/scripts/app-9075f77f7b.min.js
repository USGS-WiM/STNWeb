!function(){"use strict";{var STNControllers=(angular.module("SettingsControllers",["ngInputModified","ui.validate","angular.filter","xeditable","checklist-model","ngFileUpload"]),angular.module("STNControllers",[]));angular.module("ModalControllers",[])}STNControllers.constant("RegExp",{PASSWORD:/^(((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[A-Z])(?=.*[!@@?#$%^&_:;-]))|((?=.*[a-z])(?=.*[0-9])(?=.*[!@@?#$%^&_:;-]))|((?=.*[A-Z])(?=.*[0-9])(?=.*[!@@?#$%^&_:;-]))).{8,}$/})}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.directive("barsChart",["$parse",function($parse){var directiveDefinitionObject={restrict:"E",replace:!1,scope:{data:"=elevationData"},link:function(scope,element,attrs){var chart=(attrs.elevationData.split(","),d3.select(element[0]));chart.append("div").attr("class","chart").selectAll("div").data(scope.data).enter().append("div").transition().ease("elastic").style("width",function(d){return d+"%"}).text(function(d){return d+"%"}),scope.$watch("data",function(newValue,oldValue){scope.data=newValue})}};return directiveDefinitionObject}]),STNControllers.directive("siteSearch",function(){return{restrict:"E",scope:{model:"=ngModel",searchBy:"=",searchTerm:"="},replace:!0,template:'<div class="searchnav"><div class="searchby"><b>Search By:</b><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteId" />ID</div><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteNo" />Number</div><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteName" />Name</div></div><div class="search-input"><input ng-focus="goSearch" type="text" ng-model="searchTerm" ng-enter="IndexSearchSites()" placeholder="Search Sites..." /><button type="button" class="borderLess" ng-click="IndexSearchSites()">Search <i class="ion-search"></i></button></div></div>',controller:["$scope","$state","$http","SITE","$uibModal",function($scope,$state,$http,SITE,$uibModal){$scope.searchTerm="",$scope.searchBy={val:"bySiteNo"},$scope.placeholder="...",$scope.IndexSearchSites=function(){if(""!==$scope.searchTerm)switch($http.defaults.headers.common.Accept="application/json",$scope.searchBy.val){case"bySiteNo":SITE.getSearchedSite({bySiteNo:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)});break;case"bySiteId":SITE.getSearchedSite({bySiteId:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)});break;case"bySiteName":SITE.getSearchedSite({bySiteName:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)})}};var siteSearchResponse=function(s){if(void 0!==s.status){var errorModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>No site found. For more site search options, go to the Sites navigation tab to search for sites.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});errorModal.result.then(function(){$scope.searchTerm="",$scope.searchBy={val:"bySiteNo"}})}else $scope.searchTerm="",$scope.searchBy={val:"bySiteNo"},$state.go("site.dashboard",{id:s.site_id})}}]}}),STNControllers.directive("ngEnter",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval(attrs.ngEnter)}),event.preventDefault())})}}),STNControllers.directive("numericOnly",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){var transformedInput=inputValue?inputValue.replace(/[^\d.-]/g,""):null;return transformedInput!=inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}}),STNControllers.directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(scope,element,attr,controller){controller.$formatters.shift()}}}),STNControllers.directive("focus",function(){return function(scope,element,attributes){element[0].focus()}}),STNControllers.directive("backButton",function(){return{restrict:"A",link:function(scope,element,attrs){function goBack(){history.back(),scope.$apply()}element.bind("click",goBack)}}}),STNControllers.directive("passwordValidate",["RegExp",function(regex){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){elm.unbind("keydown").unbind("change"),elm.bind("blur",function(viewValue){scope.$apply(function(){return regex.PASSWORD.test(viewValue.target.value)?(ctrl.$setValidity("passwordValidate",!0),viewValue):void ctrl.$setValidity("passwordValidate",!1)})})}}}]),STNControllers.directive("sameAs",["$parse",function($parse){return{require:"ngModel",restrict:"A",link:function(scope,elm,attrs,ctrl){elm.unbind("keydown").unbind("change"),elm.bind("blur",function(viewValue){scope.$watch(function(){return $parse(attrs.sameAs)(scope)===ctrl.$modelValue},function(currentValue){ctrl.$setValidity("passwordMismatch",currentValue)})})}}}]),STNControllers.directive("elastic",["$timeout",function($timeout){return{restrict:"A",link:function($scope,element){$scope.initialHeight=$scope.initialHeight||element[0].style.height;var resize=function(){element[0].style.height=$scope.initialHeight,element[0].style.height=""+element[0].scrollHeight+"px"};element.on("input change",resize),$timeout(resize,0)}}}]),STNControllers.directive("myInputMask",function(){return{restrict:"AC",link:function(scope,el,attrs){el.inputmask(scope.$eval(attrs.myInputMask)),el.on("change",function(){scope.$eval(attrs.ngModel+"='"+el.val()+"'")})}}}),STNControllers.directive("fileModel",["$parse",function($parse){return{restrict:"A",link:function(scope,element,attrs){var model=$parse(attrs.fileModel),modelSetter=model.assign;element.bind("change",function(){scope.$apply(function(){modelSetter(scope,element[0].files[0])})})}}}]),STNControllers.directive("inputRestrictor",[function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(!text)return text;var transformedInput=text.replace(pattern,"");return transformedInput!==text&&(ngModelCtrl.$setViewValue(transformedInput),ngModelCtrl.$render()),transformedInput}var pattern=/[^a-zA-Z0-9- _]/g;ngModelCtrl.$parsers.push(fromUser)}}}]),STNControllers.directive("labelLimitLength",function(){return{restrict:"A",link:function(scope,elem,attrs){var limit=parseInt(attrs.labelLimitLength);angular.element(elem).on("keypress",function(e){this.value.length==limit&&e.preventDefault()})}}}),STNControllers.directive("hcChart",function(){return{restrict:"E",template:"<div></div>",scope:{options:"="},link:function(scope,element){Highcharts.chart(element[0],scope.options)}}})}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("settingsCtrl",["$scope","$rootScope","$cookies","$location","$state",function($scope,$rootScope,$cookies,$location,$state){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings",$rootScope.activeMenu="settings",$scope.settings="Welcome to the new STN Settings Page!!",$scope.changeView=function(view){$state.go(view)})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteSearchCtrl",["$scope","$cookies","$rootScope","$location","stateList","sensorTypes","networkNames","SITE",function($scope,$cookies,$rootScope,$location,stateList,sensorTypes,networkNames,SITE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{if($rootScope.thisPage="Site Search",$rootScope.activeMenu="sites",$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"}),$scope.states=stateList,$scope.senTypes=sensorTypes,$scope.netNames=networkNames,$scope.Chosen={},$scope.chosenStates=[],$scope.siteResponse=!1,$scope.checkboxModel={hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},void 0!==$rootScope.searchParams){var thisSearch=$rootScope.searchParams;$scope.sessionEvent=Number(thisSearch.event);for(var i=0;i<$scope.states.length;i++){for(var y=0;y<thisSearch.state.length;y++)thisSearch.state[y]==$scope.states[i].state_abbrev?($scope.states[i].selected=!0,y=thisSearch.state.length):$scope.states[i].selected=!1;0===thisSearch.state.length&&($scope.states[i].selected=!1)}$scope.chosenStates=thisSearch.state,$scope.Chosen.sensor=thisSearch.SensorType,$scope.Chosen.network=thisSearch.NetworkName,$scope.Chosen.survey=thisSearch.HWMSurveyed,$scope.checkboxModel.hwmOnly=thisSearch.HWMOnly,$scope.checkboxModel.senOnly=thisSearch.SensorOnly,$scope.checkboxModel.rdgOnly=thisSearch.RDGOnly,$scope.checkboxModel.opDefined=thisSearch.OPDefined,SITE.getFilteredSites({Event:$scope.sessionEvent,State:$scope.chosenStates.join(),SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){$scope.siteList=response,$scope.siteResponse=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}$scope.searchSites=function(){$rootScope.stateIsLoading.showLoading=!0;var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[];var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$rootScope.searchParams={event:evID,state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},SITE.getFilteredSites({Event:evID,State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){$scope.siteList=response,$scope.siteResponse=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error filtered sites: "+errorResponse.statusText)})},$scope.stateClick=function(data){if(data.selected===!0&&$scope.chosenStates.push(data.state_abbrev),data.selected===!1){var ind=$scope.chosenStates.indexOf(data.state_abbrev);ind>=0&&$scope.chosenStates.splice(ind,1)}},$scope.clearFilters=function(){$scope.checkboxModel={hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.Chosen={},$scope.chosenStates=[],angular.forEach($scope.states,function(st){st.selected=!1})}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("sensorModalCtrl",["$scope","$rootScope","$timeout","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDropdowns","agencyList","Site_Files","allDepTypes","thisSensor","SensorSite","siteOPs","allMembers","INSTRUMENT","INSTRUMENT_STATUS","DATA_FILE","FILE","SOURCE","OP_MEASURE",function($scope,$rootScope,$timeout,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDropdowns,agencyList,Site_Files,allDepTypes,thisSensor,SensorSite,siteOPs,allMembers,INSTRUMENT,INSTRUMENT_STATUS,DATA_FILE,FILE,SOURCE,OP_MEASURE){$scope.sensorTypeList=allDropdowns[0],$scope.sensorBrandList=allDropdowns[1],$scope.houseTypeList=allDropdowns[2],$scope.eventList=allDropdowns[3],$scope.fileTypeList=allDropdowns[4],$scope.vertDatumList=allDropdowns[5],$scope.depSenfileIsUploading=!1,$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.DepSensorFiles="empty"!==thisSensor?$scope.allSFiles.filter(function(sf){return sf.instrument_id==thisSensor.instrument_id}):[],$scope.depSensImageFiles=$scope.DepSensorFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.showNWISFileForm=!1,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.OPsForTapeDown=siteOPs,$scope.removeOPList=[],$scope.tapeDownTable=[],$scope.depTypeList=allDepTypes,$scope.filteredDeploymentTypes=[],$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.userRole=$cookies.get("usersRole"),$scope.showEventDD=!1,$scope.adminChanged={},$scope.IntervalType={},$scope.whichButton="",$scope.serverURL=SERVER_URL,$scope.nwisHeaderTip=$sce.trustAsHtml("Connect your transmitting sensor with NWIS via <em>Station ID for USGS gage</em> from the Site details."),$scope.view={DEPval:"detail",RETval:"detail"},$scope.sensorDataNWIS=!1,$scope.s={depOpen:!0,sFileOpen:!1,NWISFileOpen:!1},$scope.chopperResponse1=!1,$scope.chopperResponse1Keys=[],$scope.chartOptions1={},$scope.chartData=[],Array.prototype.zip=function(arr){return this.map(function(e,i){return[e,arr[i]]})},$scope.runChopper=function(){if($scope.chartData=[],$scope.chartOptions1={},$scope.chopperResponse1=!1,$scope.chopperResponse1Keys=[],$scope.chartObj&&($scope.chartObj.xAxis[0].removePlotLine("start"),$scope.chartObj.xAxis[0].removePlotLine("end")),void 0!==$scope.aFile.File){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var fileParts={FileEntity:{site_id:$scope.thisSensorSite.site_id,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),$scope.smlallLoaderGo=!0,DATA_FILE.runChopperScript(fd).$promise.then(function(response){if($scope.smlallLoaderGo=!1,$scope.chopperResponse1Keys=Object.keys(response),response.Error){var errorMessage=response.Error;$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error running the chopper.</p><p>Error: {{errorMessage}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance","message",function($scope,$uibModalInstance,message){$scope.errorMessage=message,$scope.ok=function(){$uibModalInstance.dismiss()}}],resolve:{message:function(){return errorMessage}},size:"sm"})}else{$scope.chartData=response.time.zip(response.pressure);var sDate=new Date(response.time[0]).toISOString(),eDate=new Date(response.time[response.time.length-1]).toISOString(),sd=getDateTimeParts(sDate),ed=getDateTimeParts(eDate);$scope.datafile.good_start=sd,$scope.datafile.good_end=ed,$scope.chartOptions1={chart:{events:{load:function(){$scope.chartObj=this}},zoomType:"x",resetZoomButton:{position:{align:"left",verticalAlign:"bottom",y:70}},panning:!0,panKey:"shift"},boostThreshold:2e3,plotOptions:{series:{events:{click:function(event){var pointClick=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Would you like to set this ({{thisDate}}) as:</p><div style="text-align:center;"><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="start" />Good Start Date</span><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="end" />Good End Date</span></div></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance","chosenDate","xEvent",function($scope,$uibModalInstance,chosenDate,xEvent){$scope.ok=function(){if(""==$scope.whichDate)alert("No Date chosen");else{var parts=[$scope.whichDate,chosenDate,xEvent];$uibModalInstance.close(parts)}},$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.whichDate="",$scope.thisDate=new Date(chosenDate)}],resolve:{chosenDate:event.point.category,xEvent:event.chartX},size:"sm"});pointClick.result.then(function(parts){var chart=$scope.chartObj.xAxis[0];chart.removePlotLine(parts[0]),chart.addPlotLine({value:chart.toValue(parts[2]),color:"start"==parts[0]?"#00ff00":"#ff0000",width:2,id:parts[0],zIndex:19999,label:{text:parts[0]}});var theDate=new Date(parts[1]).toISOString(),d=getDateTimeParts(theDate);"start"==parts[0]?$scope.datafile.good_start=d:$scope.datafile.good_end=d})}},allowPointSelect:!0,cursor:"pointer",point:{events:{mouseOver:function(){this.series.halo&&this.series.halo.attr({"class":"highcharts-tracker"}).toFront()}}},marker:{enabled:!1}}},title:{text:"Preview of Pressure Data"},subtitle:{text:"Click and drag to zoom in. Hold down shift key to pan. To select Good Start/End Date, click point on line."},xAxis:{title:{text:$scope.chopperResponse1Keys[1]},type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"},offset:10},yAxis:{title:{text:$scope.chopperResponse1Keys[0]},labels:{format:"{value} psi"},offset:10},series:[{data:$scope.chartData}]},$scope.chopperResponse1=!0}},function(error){console.log(error)})}else alert("You need to choose a file first")};var getDateTimeParts=function(d){var theDate,isDate="[object Date]"===Object.prototype.toString.call(d);if(isDate===!1){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2);theDate=new Date(y,m,da,h,mi,sec)}else theDate=d;return theDate};$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){if(void 0==$scope.aFile.File1&&void 0==$scope.aFile.File)alert("You need to choose a file first");else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo=2==$scope.aFile.filetype_id?"DataFile File":"Sensor File",1===fresponse.filetype_id&&($scope.depSensImageFiles.splice($scope.existIMGFileIndex,1),$scope.depSensImageFiles.push(fresponse)),$scope.DepSensorFiles[$scope.existFileIndex]=fresponse,$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},$scope.datafile={},0!==file){if($scope.existFileIndex=$scope.DepSensorFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.depSensImageFiles.length>0?$scope.depSensImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)}),void 0!==file.data_file_id&&DATA_FILE.query({id:file.data_file_id}).$promise.then(function(df){$scope.datafile=df,$scope.processor=allMembers.filter(function(m){return m.member_id==$scope.datafile.processor_id})[0],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})}else{$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.processor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0];var dt=getTimeZoneStamp();$scope.datafile.collect_date=dt[0],$scope.datafile.time_zone="UTC",$scope.datafile.good_start=null,$scope.datafile.good_end=null}$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(void 0==s||void 0==e){valid=!1;var missingDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good data start date or good data end date is missing. Either choose a date, or click Preview Data to get a chart of the data, where you can choose the dates.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});missingDate.result.then(function(){valid=!1})}}if(valid)if($scope.depSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",2==$scope.aFile.filetype_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}$scope.datafile.instrument_id=thisSensor.instrument_id,$scope.datafile.processor_id=$cookies.get("mID");var datafileID=0;DATA_FILE.save($scope.datafile).$promise.then(function(dfResponse){datafileID=dfResponse.data_file_id;var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,data_file_id:dfResponse.data_file_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="DataFile File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.depSensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,DATA_FILE["delete"]({id:datafileID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.depSensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisSensorSite.site_id,$scope.aFile.instrument_id=thisSensor.instrument_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("You need to choose a file first")},$scope.saveFile=function(valid){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.depSenfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",
void 0!==$scope.datafile.data_file_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.datafile.data_file_id},$scope.datafile).$promise.then(function(){FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.DepSensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file': "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.DepSensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.depSensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1},$scope.showNWISFile=function(f){$scope.existFileIndex=-1,$scope.allSFileIndex=-1,0!==f?($scope.existFileIndex=$scope.sensorNWISFiles.indexOf(f),$scope.allSFileIndex=$scope.allSFiles.indexOf(f),$scope.NWISFile=angular.copy(f),$scope.NWISFile.file_date=new Date($scope.NWISFile.file_date),$scope.NWISFile.FileType="Data",DATA_FILE.query({id:f.data_file_id}).$promise.then(function(df){$scope.NWISDF=df,$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$scope.NWISDF.processor_id})[0],$scope.NWISDF.collect_date=new Date($scope.NWISDF.collect_date),$scope.NWISDF.good_start=getDateTimeParts($scope.NWISDF.good_start),$scope.NWISDF.good_end=getDateTimeParts($scope.NWISDF.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})):($scope.NWISFile={name:"https://waterdata.usgs.gov/nwis/uv?site_no="+$scope.thisSensorSite.usgs_sid,path:"<link>",file_date:new Date,filetype_id:2,FileType:"Data",site_id:$scope.aSensor.site_id,data_file_id:0,instrument_id:$scope.aSensor.instrument_id,is_nwis:1},$scope.NWISDF={processor_id:$cookies.get("mID"),instrument_id:$scope.aSensor.instrument_id,collect_date:dt[0],time_zone:dt[1],good_start:new Date,good_end:new Date},$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]),$scope.showNWISFileForm=!0};var postApprovalForNWISfile=function(DFid){DATA_FILE.approveNWISDF({id:DFid}).$promise.then(function(approvalResponse){$scope.NWISDF.approval_id=approvalResponse.approval_id},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving nwis data file: "+errorResponse.statusText)})};$scope.createNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($scope.depNWISSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}var datafileID=0;DATA_FILE.save($scope.NWISDF).$promise.then(function(NdfResponse){datafileID=NdfResponse.data_file_id,$scope.NWISDF.data_file_id=NdfResponse.data_file_id,postApprovalForNWISfile(NdfResponse.data_file_id),$scope.NWISFile.data_file_id=NdfResponse.data_file_id,$scope.NWISFile.path="<link>",delete $scope.NWISFile.FileType,FILE.save($scope.NWISFile).$promise.then(function(Fresponse){toastr.success("File created"),Fresponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles.push(Fresponse),$scope.allSFiles.push(Fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1,$scope.depNWISSenfileIsUploading=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1,$scope.depNWISSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depNWISSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}},$scope.saveNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.NWISDF.data_file_id},$scope.NWISDF).$promise.then(function(){FILE.update({id:$scope.NWISFile.file_id},$scope.NWISFile).$promise.then(function(fileResponse){toastr.success("File Data Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}},$scope.deleteNWISFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.NWISFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorNWISFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelNWISFile=function(){$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1},$scope.OPchosen=function(opChosen){var opI=$scope.OPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(opChosen.objective_point_id);if(opChosen.selected)$scope.OPMeasure={},$scope.OPMeasure.op_name=opChosen.name,$scope.OPMeasure.elevation=opChosen.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==opChosen.vdatum_id})[0].datum_abbreviation,$scope.OPMeasure.objective_point_id=opChosen.objective_point_id,void 0!==$scope.aSensor.instrument_id&&4!==$scope.aSensStatus.status_type_id?($scope.depTapeCopy.push($scope.OPMeasure),$scope.depStuffCopy[1].vdatum_id=opChosen.vdatum_id):($scope.tapeDownTable.push($scope.OPMeasure),$scope.aSensStatus.vdatum_id=opChosen.vdatum_id);else{var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var createOrEdit=void 0!==$scope.aSensor.instrument_id&&4!==$scope.aSensStatus.status_type_id?"edit":"create",tapeDownToRemove="edit"==createOrEdit?$scope.depTapeCopy.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0]:$scope.tapeDownTable.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0],tInd="edit"==createOrEdit?$scope.depTapeCopy.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id):$scope.tapeDownTable.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id);void 0!==tapeDownToRemove.op_measurements_id&&$scope.removeOPList.push(tapeDownToRemove.op_measurements_id),"edit"==createOrEdit?$scope.depTapeCopy.splice(tInd,1):$scope.tapeDownTable.splice(tInd,1),"edit"==createOrEdit?0===$scope.depTapeCopy.length&&($scope.depStuffCopy[1].vdatum_id=0,$scope.depStuffCopy[1].gs_elevation="",$scope.depStuffCopy[1].ws_elevation="",$scope.depStuffCopy[1].sensor_elevation=""):0===$scope.tapeDownTable.length&&($scope.aSensStatus.vdatum_id=0,$scope.aSensStatus.gs_elevation="",$scope.aSensStatus.ws_elevation="",$scope.aSensStatus.sensor_elevation="")}else $scope.OPsForTapeDown[opI].selected=!0})}};var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.ChangeEvent=function(){$scope.EventName=$scope.eventList.filter(function(el){return el.event_id==$scope.adminChanged.event_id})[0].event_name},$scope.getDepTypes=function(){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=$scope.sensorTypeList.filter(function(sd){return sd.sensor_type_id==$scope.aSensor.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes,1==$scope.filteredDeploymentTypes.length&&($scope.aSensor.deployment_type_id=$scope.filteredDeploymentTypes[0].deployment_type_id)},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSensor={},$scope.aSensStatus={},$scope.thisSensorSite=SensorSite,$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sensorObjectToSendBack=thisSensor;$timeout(function(){var sendBack=[sensorObjectToSendBack];$uibModalInstance.close(sendBack)})},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())};var dealWithTimeStampb4Send=function(w){if("saving"==w)if("UTC"!=$scope.depStuffCopy[1].time_zone){var utcDateTimeS=new Date($scope.depStuffCopy[1].time_stamp).toUTCString();$scope.depStuffCopy[1].time_stamp=utcDateTimeS,$scope.depStuffCopy[1].time_zone="UTC"}else{var i=$scope.depStuffCopy[1].time_stamp.toString().indexOf("GMT")+3;$scope.depStuffCopy[1].time_stamp=$scope.depStuffCopy[1].time_stamp.toString().substring(0,i)}else if("UTC"!=$scope.aSensStatus.time_zone){var utcDateTimeD=new Date($scope.aSensStatus.time_stamp).toUTCString();$scope.aSensStatus.time_stamp=utcDateTimeD,$scope.aSensStatus.time_zone="UTC"}else{var Di=$scope.aSensStatus.time_stamp.toString().indexOf("GMT")+3;$scope.aSensStatus.time_stamp=$scope.aSensStatus.time_stamp.toString().substring(0,Di)}};if($scope.save=function(valid){if(valid){var updatedSensor={},updatedSenStat={};void 0!==$scope.adminChanged.event_id&&($scope.depStuffCopy[0].event_id=$scope.adminChanged.event_id),"Minutes"==$scope.IntervalType.type&&($scope.depStuffCopy[0].interval=60*$scope.depStuffCopy[0].interval),dealWithTimeStampb4Send("saving"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.depStuffCopy[0].instrument_id},$scope.depStuffCopy[0]).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.depStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id==$scope.depStuffCopy[0].deployment_type_id})[0].method:"",updatedSensor.housingType=$scope.depStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id==$scope.depStuffCopy[0].housing_type_id})[0].type_name:"",updatedSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==$scope.depStuffCopy[0].sensor_brand_id})[0].brand_name,updatedSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==$scope.depStuffCopy[0].sensor_type_id})[0].sensor,INSTRUMENT_STATUS.update({id:$scope.depStuffCopy[1].instrument_status_id},$scope.depStuffCopy[1]).$promise.then(function(statResponse){for(var rt=0;rt<$scope.removeOPList.length;rt++){var idToRemove=$scope.removeOPList[rt];OP_MEASURE["delete"]({id:idToRemove}).$promise}$scope.tapeDownTable=$scope.depTapeCopy.length>0?[]:$scope.tapeDownTable;for(var at=0;at<$scope.depTapeCopy.length;at++){var DEPthisTape=$scope.depTapeCopy[at];void 0!==DEPthisTape.op_measurements_id?OP_MEASURE.update({id:DEPthisTape.op_measurements_id},DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.tapeDownTable.push(tapeResponse)}):(DEPthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.tapeDownTable.push(tapeResponse)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating measurement: "+errorResponse.headers(["usgswim-messages"]):"Error creating measurement: "+errorResponse.statusText)}))}updatedSenStat=statResponse,updatedSenStat.status="Deployed";var instrument_statusesHolder=$scope.aSensor.instrument_status;$scope.aSensor=updatedSensor,thisSensor=updatedSensor,thisSensor.instrument_status=instrument_statusesHolder,$scope.aSensStatus=updatedSenStat,$scope.aSensStatus.time_stamp=getDateTimeParts($scope.aSensStatus.time_stamp);var ind=thisSensor.instrument_status.map(function(i){return i.status_type_id}).indexOf(1);thisSensor.instrument_status[ind]=$scope.aSensStatus,$scope.depStuffCopy=[],$scope.IntervalType={type:"Seconds"},$scope.view.DEPval="detail",toastr.success("Sensor Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.deploy=function(){if(this.SensorForm.$valid)if("Proposed sensor at this site. Change description when deploying sensor."!==$scope.aSensor.location_description){"Minutes"==$scope.IntervalType.type&&($scope.aSensor.interval=60*$scope.aSensor.interval),$scope.aSensor.event_id=$cookies.get("SessionEventID"),$scope.aSensor.site_id=SensorSite.site_id;var storeTZ=angular.copy($scope.aSensStatus.time_zone);dealWithTimeStampb4Send("deploy"),$scope.aSensStatus.status_type_id=1,$scope.aSensStatus.member_id=$cookies.get("mID");var createdSensor={},depSenStat={};if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSensor.instrument_id)INSTRUMENT.update({id:$scope.aSensor.instrument_id},$scope.aSensor).$promise.then(function(response){createdSensor=response,createdSensor.deploymentType=$scope.aSensor.deploymentType,createdSensor.housingType=response.housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id==response.housing_type_id})[0].type_name:"",createdSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==response.sensor_brand_id})[0].brand_name,createdSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==response.sensor_type_id})[0].sensor,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}depSenStat=statResponse,depSenStat.status="Deployed",createdSensor.instrument_status=[depSenStat,$scope.previousStateStatus],$timeout(function(){toastr.success("Sensor deployed");var state="deployP"==$scope.whichButton?"proposedDeployed":"newDeployed",sendBack=[createdSensor,state];$uibModalInstance.close(sendBack)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)});else{var instrumentID=0;INSTRUMENT.save($scope.aSensor).$promise.then(function(response){instrumentID=response.instrument_id,createdSensor=response,createdSensor.deploymentType=null!==response.deployment_type_id&&void 0!==response.deployment_type_id?$scope.depTypeList.filter(function(d){return d.deployment_type_id==response.deployment_type_id})[0].method:"",createdSensor.housingType=null!==response.housing_type_id&&void 0!==response.housing_type_id?$scope.houseTypeList.filter(function(h){return h.housing_type_id==response.housing_type_id})[0].type_name:"",createdSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==response.sensor_brand_id})[0].brand_name,createdSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==response.sensor_type_id})[0].sensor,$scope.aSensStatus.instrument_id=response.instrument_id;var statDate=angular.copy(new Date($scope.aSensStatus.time_stamp).getFullYear()+"-"+("0"+(new Date($scope.aSensStatus.time_stamp).getMonth()+1)).slice(-2)+"-"+new Date($scope.aSensStatus.time_stamp).getDate()+"T"+("0"+new Date($scope.aSensStatus.time_stamp).getHours()).slice(-2)+":"+new Date($scope.aSensStatus.time_stamp).getMinutes());INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}depSenStat=statResponse,depSenStat.status="Deployed",createdSensor.instrument_status=[depSenStat],toastr.success("Sensor deployed");var state="deployP"==$scope.whichButton?"proposedDeployed":"newDeployed",sendBack=[createdSensor,state];$uibModalInstance.close(sendBack)},function(errorResponse){$scope.aSensStatus.time_stamp=getDateTimeParts(statDate),$scope.aSensStatus.time_zone=storeTZ,INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must update the Location Description when deploying a proposed sensor.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.deleteS=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",backdrop:"static",keyboard:!1,resolve:{nameToRemove:function(){return $scope.aSensor},what:function(){return"Sensor"}}});DeleteModalInstance.result.then(function(sensorToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:sensorToRemove.instrument_id}).$promise.then(function(){$scope.DepSensorFiles=[],$scope.depSensImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].instrument_id==sensorToRemove.instrument_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Sensor Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor: "+errorResponse.statusText)})})},"empty"!=thisSensor){if($scope.aSensor=angular.copy(thisSensor),$scope.aSensStatus=angular.copy(thisSensor.instrument_status[0]),$scope.sensorDataNWIS=2==$scope.aSensor.sensor_type_id||5==$scope.aSensor.sensor_type_id||6==$scope.aSensor.sensor_type_id?!0:!1,$scope.getDepTypes(),$scope.IntervalType.type="Seconds",$scope.sensorDataNWIS){$scope.sensorNWISFiles=[];for(var ai=$scope.DepSensorFiles.length-1;ai>=0;ai--)1==$scope.DepSensorFiles[ai].is_nwis&&($scope.sensorNWISFiles.push($scope.DepSensorFiles[ai]),$scope.DepSensorFiles.splice(ai,1));var dt=getTimeZoneStamp();$scope.NWISFile={},$scope.NWISDF={}}if("Proposed"==thisSensor.instrument_status[0].status){$scope.previousStateStatus=angular.copy(thisSensor.instrument_status[0]),$scope.whichButton="deployP",$scope.aSensor.interval=0===$scope.aSensor.interval?null:$scope.aSensor.interval;var timeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=timeParts[0],$scope.aSensStatus.time_zone=timeParts[1],$scope.aSensStatus.member_id=$cookies.get("mID"),$scope.EventName=$cookies.get("SessionEventName"),$scope.Deployer=$scope.LoggedInMember}else $scope.whichButton="edit",$scope.aSensor.interval=0===$scope.aSensor.interval?null:$scope.aSensor.interval,$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aSensor.event_id})[0].event_name,$scope.aSensStatus.time_stamp=getDateTimeParts($scope.aSensStatus.time_stamp),$scope.Deployer=null!==$scope.aSensStatus.member_id||void 0!==$scope.aSensStatus.member_id?allMembers.filter(function(m){return m.member_id==$scope.aSensStatus.member_id})[0]:{},OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.aSensStatus.instrument_status_id}).$promise.then(function(response){for(var r=0;r<response.length;r++){var sensMeasures=response[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==response[r].objective_point_id})[0];sensMeasures.elevation=whichOP.elev_ft,sensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,sensMeasures.op_name=whichOP.name,$scope.tapeDownTable.push(sensMeasures)}for(var i=0;i<$scope.OPsForTapeDown.length;i++){for(var y=0;y<response.length;y++)response[y].objective_point_id==$scope.OPsForTapeDown[i].objective_point_id?($scope.OPsForTapeDown[i].selected=!0,y=response.length):$scope.OPsForTapeDown[i].selected=!1;0===response.length&&($scope.OPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)});$rootScope.stateIsLoading.showLoading=!1}else{$scope.whichButton="deploy",$scope.IntervalType.type="Seconds";var DeptimeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=DeptimeParts[0],$scope.aSensStatus.time_zone="UTC",$scope.aSensStatus.member_id=$cookies.get("mID"),$scope.EventName=$cookies.get("SessionEventName"),$scope.Deployer=$scope.LoggedInMember,$rootScope.stateIsLoading.showLoading=!1}$scope.myData=[$scope.aSensStatus.sensor_elevation,$scope.aSensStatus.ws_elevation,$scope.aSensStatus.gs_elevation],$scope.wannaEditDep=function(){$scope.view.DEPval="edit",$scope.depStuffCopy=[angular.copy($scope.aSensor),angular.copy($scope.aSensStatus)],$scope.depTapeCopy=angular.copy($scope.tapeDownTable)},$scope.cancelDepEdit=function(){$scope.view.DEPval="detail",$scope.depStuffCopy=[],$scope.depTapeCopy=[];for(var i=0;i<$scope.OPsForTapeDown.length;i++){for(var y=0;y<$scope.tapeDownTable.length;y++)$scope.tapeDownTable[y].objective_point_id==$scope.OPsForTapeDown[i].objective_point_id?($scope.OPsForTapeDown[i].selected=!0,y=$scope.tapeDownTable.length):$scope.OPsForTapeDown[i].selected=!1;0===$scope.tapeDownTable.length&&($scope.OPsForTapeDown[i].selected=!1)}}}]),ModalControllers.controller("sensorRetrievalModalCtrl",["$scope","$rootScope","$timeout","$cookies","$http","$uibModalInstance","$uibModal","thisSensor","SensorSite","siteOPs","allEventList","allVDatumList","allMembers","allStatusTypes","allInstCollCond","INSTRUMENT","INSTRUMENT_STATUS","OP_MEASURE",function($scope,$rootScope,$timeout,$cookies,$http,$uibModalInstance,$uibModal,thisSensor,SensorSite,siteOPs,allEventList,allVDatumList,allMembers,allStatusTypes,allInstCollCond,INSTRUMENT,INSTRUMENT_STATUS,OP_MEASURE){$scope.aSensor=thisSensor,$scope.EventName=allEventList.filter(function(r){return r.event_id==$scope.aSensor.event_id})[0].event_name,$scope.depSensStatus=angular.copy(thisSensor.instrument_status[0]);var isDate="[object Date]"===Object.prototype.toString.call($scope.depSensStatus.time_stamp);if(isDate===!1){var y=$scope.depSensStatus.time_stamp.substr(0,4),m=$scope.depSensStatus.time_stamp.substr(5,2)-1,d=$scope.depSensStatus.time_stamp.substr(8,2),h=$scope.depSensStatus.time_stamp.substr(11,2),mi=$scope.depSensStatus.time_stamp.substr(14,2),sec=$scope.depSensStatus.time_stamp.substr(17,2);$scope.depSensStatus.time_stamp=new Date(y,m,d,h,mi,sec)}void 0!==$scope.depSensStatus.vdatum_id&&$scope.depSensStatus.vdatum_id>0&&($scope.depSensStatus.VDatum=allVDatumList.filter(function(v){return v.datum_id==$scope.depSensStatus.vdatum_id})[0].datum_abbreviation),$scope.OPsForTapeDown=siteOPs,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.vertDatumList=allVDatumList,$scope.removeOPList=[],$scope.tapeDownTable=[],$scope.DEPtapeDownTable=[],$scope.Deployer=allMembers.filter(function(m){return m.member_id==$scope.depSensStatus.member_id})[0],$scope.whichButton="Retrieve",$scope.statusTypeList=allStatusTypes.filter(function(s){return"Retrieved"==s.status||"Lost"==s.status}),$scope.collectCondList=allInstCollCond,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.userRole=$cookies.get("usersRole");var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){
case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.OPchosen=function(opChosen){var opI=$scope.OPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(opChosen.objective_point_id);if(opChosen.selected)$scope.OPMeasure={},$scope.OPMeasure.op_name=opChosen.name,$scope.OPMeasure.elevation=opChosen.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==opChosen.vdatum_id})[0].datum_abbreviation,$scope.OPMeasure.objective_point_id=opChosen.objective_point_id,$scope.tapeDownTable.push($scope.OPMeasure),$scope.aRetrieval.vdatum_id=opChosen.vdatum_id;else{var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var tapeDownToRemove=$scope.tapeDownTable.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0],tInd=$scope.tapeDownTable.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id);void 0!==tapeDownToRemove.op_measurements_id&&$scope.removeOPList.push(tapeDownToRemove.op_measurements_id),$scope.tapeDownTable.splice(tInd,1),0===$scope.tapeDownTable.length&&($scope.aRetrieval.vdatum_id=0,$scope.aRetrieval.gs_elevation="",$scope.aRetrieval.ws_elevation="",$scope.aRetrieval.sensor_elevation="")}else $scope.OPsForTapeDown[opI].selected=!0})}},OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.depSensStatus.instrument_status_id}).$promise.then(function(response){for(var r=0;r<response.length;r++){var sensMeasures=response[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==response[r].objective_point_id})[0];sensMeasures.elevation=whichOP.elev_ft,sensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,sensMeasures.op_name=whichOP.name,$scope.DEPtapeDownTable.push(sensMeasures)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)});var dtparts=getTimeZoneStamp();$scope.aRetrieval={time_stamp:dtparts[0],time_zone:dtparts[1],instrument_id:$scope.aSensor.instrument_id,member_id:$cookies.get("mID")},$scope.Retriever=allMembers.filter(function(am){return am.member_id==$cookies.get("mID")})[0];var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aRetrieval.time_zone){var utcDateTime=new Date($scope.aRetrieval.time_stamp).toUTCString();$scope.aRetrieval.time_stamp=utcDateTime,$scope.aRetrieval.time_zone="UTC"}else{var i=$scope.aRetrieval.time_stamp.toString().indexOf("GMT")+3;$scope.aRetrieval.time_stamp=$scope.aRetrieval.time_stamp.toString().substring(0,i)}};$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")};var depTimeStampb4Send=function(){var returnThis,i=$scope.depSensStatus.time_stamp.toString().indexOf("GMT")+3;return returnThis=$scope.depSensStatus.time_stamp.toString().substring(0,i)};$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.retrieveS=function(valid){if(valid){dealWithTimeStampb4Send();var depSenTS=depTimeStampb4Send(),retSenTS=angular.copy($scope.aRetrieval.time_stamp.replace(/\,/g,""));if(new Date(retSenTS)<new Date(depSenTS)){var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The retrieval date must be after the deployed date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){$scope.aRetrieval.time_stamp="",$scope.aRetrieval.time_stamp=getTimeZoneStamp()[0],$scope.aRetrieval.time_zone=getTimeZoneStamp()[1],angular.element("#retrievalDate").trigger("focus")})}else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var updatedSensor={},createRetSens={};INSTRUMENT.update({id:$scope.aSensor.instrument_id},$scope.aSensor).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.aSensor.deploymentType,updatedSensor.housingType=$scope.aSensor.housingType,updatedSensor.sensorBrand=$scope.aSensor.sensorBrand,updatedSensor.sensorType=$scope.aSensor.sensorType,updatedSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.aSensor.inst_collection_id})[0].condition,INSTRUMENT_STATUS.save($scope.aRetrieval).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}createRetSens=statResponse,createRetSens.status=2==statResponse.status_type_id?"Retrieved":"Lost",updatedSensor.instrument_status=[createRetSens,thisSensor.instrument_status[0]],$timeout(function(){toastr.success("Sensor retrieved");var state="retrieved",sendBack=[updatedSensor,state];$uibModalInstance.close(sendBack)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error retrieving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error retrieving sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}}},$rootScope.stateIsLoading.showLoading=!1}]),ModalControllers.controller("fullSensorModalCtrl",["$scope","$rootScope","$filter","$timeout","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDepDropdowns","agencyList","Site_Files","allStatusTypes","allInstCollCond","allEvents","allDepTypes","thisSensor","SensorSite","siteOPs","allMembers","allEventDataFiles","INSTRUMENT","INSTRUMENT_STATUS","DATA_FILE","FILE","SOURCE","OP_MEASURE","Site_Script",function($scope,$rootScope,$filter,$timeout,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDepDropdowns,agencyList,Site_Files,allStatusTypes,allInstCollCond,allEvents,allDepTypes,thisSensor,SensorSite,siteOPs,allMembers,allEventDataFiles,INSTRUMENT,INSTRUMENT_STATUS,DATA_FILE,FILE,SOURCE,OP_MEASURE,Site_Script){function calcDistance(lat1,lon1){var radlat1=Math.PI*lat1/180,radlat2=Math.PI*$scope.thisSensorSite.latitude_dd/180,theta=lon1-$scope.thisSensorSite.longitude_dd,radtheta=Math.PI*theta/180,dist=Math.sin(radlat1)*Math.sin(radlat2)+Math.cos(radlat1)*Math.cos(radlat2)*Math.cos(radtheta);return dist=Math.acos(dist),dist=180*dist/Math.PI,dist=60*dist*1.1515}$scope.serverURL=SERVER_URL,$scope.fullSenfileIsUploading=!1,$scope.showProcessing=!1,$scope.stormSection=!1,$scope.sensorTypeList=allDepDropdowns[0],$scope.sensorBrandList=allDepDropdowns[1],$scope.houseTypeList=allDepDropdowns[2],$scope.fileTypeList=allDepDropdowns[3],$scope.vertDatumList=allDepDropdowns[4],$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.sensorFiles="empty"!==thisSensor?$scope.allSFiles.filter(function(sf){return sf.instrument_id==thisSensor.instrument_id}):[],$scope.sensImageFiles=$scope.sensorFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.showNWISFileForm=!1,$scope.sensorDataNWIS=!1,$scope.collectCondList=allInstCollCond,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.DEPOPsForTapeDown=angular.copy(siteOPs),$scope.RETOPsForTapeDown=angular.copy(siteOPs),$scope.depTypeList=allDepTypes,$scope.filteredDeploymentTypes=[],$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.statusTypeList=allStatusTypes.filter(function(s){return"Retrieved"==s.status||"Lost"==s.status}),$scope.eventDataFiles=[],$scope.is4Hz={selected:!1},$scope.IntervalType={type:"Seconds"},$scope.view={DEPval:"detail",RETval:"detail"};var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]},getDateTimeParts=function(d){var theDate,isDate="[object Date]"===Object.prototype.toString.call(d);if(isDate===!1){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2);theDate=new Date(y,m,da,h,mi,sec)}else theDate=d;return theDate};$scope.thisSensorSite=SensorSite,$scope.userRole=$cookies.get("usersRole"),$scope.sensor=angular.copy(thisSensor),$scope.sensorDataNWIS=2==$scope.sensor.sensor_type_id||5==$scope.sensor.sensor_type_id||6==$scope.sensor.sensor_type_id?!0:!1,$scope.DeployedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Deployed"===inst.status})[0]),$scope.DeployedSensorStat.time_stamp=getDateTimeParts($scope.DeployedSensorStat.time_stamp),$scope.Deployer=allMembers.filter(function(m){return m.member_id===$scope.DeployedSensorStat.member_id})[0],$scope.DEPremoveOPList=[],$scope.DEPtapeDownTable=[],$scope.DEPOPchosen=function(DEPopChosen){var opI=$scope.DEPOPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(DEPopChosen.objective_point_id);if(DEPopChosen.selected)$scope.DEPOPMeasure={},$scope.DEPOPMeasure.op_name=DEPopChosen.name,$scope.DEPOPMeasure.elevation=DEPopChosen.elev_ft,$scope.DEPOPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==DEPopChosen.vdatum_id})[0].datum_abbreviation,$scope.DEPOPMeasure.objective_point_id=DEPopChosen.objective_point_id,$scope.depTapeCopy.push($scope.DEPOPMeasure),$scope.depStuffCopy[1].vdatum_id=DEPopChosen.vdatum_id;else{var DEPremoveOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this deployed sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="DEPok()">OK</button><button class="btn btn-primary" ng-click="DEPcancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.DEPok=function(){$uibModalInstance.close("remove")},$scope.DEPcancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});DEPremoveOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var DEPtapeDownToRemove=$scope.depTapeCopy.filter(function(a){return a.objective_point_id==DEPopChosen.objective_point_id})[0],DEPtInd=$scope.depTapeCopy.map(function(o){return o.objective_point_id}).indexOf(DEPtapeDownToRemove.objective_point_id);void 0!==DEPtapeDownToRemove.op_measurements_id&&$scope.DEPremoveOPList.push(DEPtapeDownToRemove.op_measurements_id),$scope.depTapeCopy.splice(DEPtInd,1),0===$scope.depTapeCopy.length&&($scope.depStuffCopy[1].vdatum_id=0,$scope.depStuffCopy[1].gs_elevation="",$scope.depStuffCopy[1].ws_elevation="",$scope.depStuffCopy[1].sensor_elevation="")}else $scope.DEPOPsForTapeDown[opI].selected=!0})}},$scope.OPsPresent&&OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.DeployedSensorStat.instrument_status_id}).$promise.then(function(DEPresponse){for(var r=0;r<DEPresponse.length;r++){var DEPsensMeasures=DEPresponse[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==DEPresponse[r].objective_point_id})[0];DEPsensMeasures.elevation=whichOP.elev_ft,DEPsensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,DEPsensMeasures.op_name=$scope.DEPOPsForTapeDown.filter(function(op){return op.objective_point_id==DEPresponse[r].objective_point_id})[0].name,$scope.DEPtapeDownTable.push(DEPsensMeasures)}for(var i=0;i<$scope.DEPOPsForTapeDown.length;i++){for(var y=0;y<DEPresponse.length;y++)DEPresponse[y].objective_point_id==$scope.DEPOPsForTapeDown[i].objective_point_id?($scope.DEPOPsForTapeDown[i].selected=!0,y=DEPresponse.length):$scope.DEPOPsForTapeDown[i].selected=!1;0===DEPresponse.length&&($scope.DEPOPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)}),$scope.RetrievedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Retrieved"===inst.status})[0]),void 0===$scope.RetrievedSensorStat?($scope.RetrievedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Lost"===inst.status})[0]),$scope.mostRecentStatus="Lost"):$scope.mostRecentStatus="Retrieved",void 0!==$scope.RetrievedSensorStat.vdatum_id&&$scope.RetrievedSensorStat.vdatum_id>0&&($scope.RetrievedSensorStat.vdatumName=$scope.vertDatumList.filter(function(vd){return vd.datum_id==$scope.RetrievedSensorStat.vdatum_id})[0].datum_abbreviation),$scope.RetrievedSensorStat.time_stamp=getDateTimeParts($scope.RetrievedSensorStat.time_stamp),$scope.Retriever=allMembers.filter(function(m){return m.member_id===$scope.RetrievedSensorStat.member_id})[0],$scope.RETremoveOPList=[],$scope.RETtapeDownTable=[],$scope.RETOPchosen=function(RETopChosen){var opI=$scope.RETOPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(RETopChosen.objective_point_id);if(RETopChosen.selected)$scope.RETOPMeasure={},$scope.RETOPMeasure.op_name=RETopChosen.name,$scope.RETOPMeasure.elevation=RETopChosen.elev_ft,$scope.RETOPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==RETopChosen.vdatum_id})[0].datum_abbreviation,$scope.RETOPMeasure.objective_point_id=RETopChosen.objective_point_id,$scope.retTapeCopy.push($scope.RETOPMeasure),$scope.retStuffCopy[1].vdatum_id=RETopChosen.vdatum_id;else{var RETremoveOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this retrieved sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="RETok()">OK</button><button class="btn btn-primary" ng-click="RETcancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.RETok=function(){$uibModalInstance.close("remove")},$scope.RETcancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});RETremoveOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var RETtapeDownToRemove=$scope.retTapeCopy.filter(function(a){return a.objective_point_id==RETopChosen.objective_point_id})[0],RETtInd=$scope.retTapeCopy.map(function(o){return o.objective_point_id}).indexOf(RETtapeDownToRemove.objective_point_id);$scope.RETremoveOPList.push(RETtapeDownToRemove.op_measurements_id),$scope.retTapeCopy.splice(RETtInd,1),0===$scope.retTapeCopy.length&&($scope.retStuffCopy[1].vdatum_id=0,$scope.retStuffCopy[1].gs_elevation="",$scope.retStuffCopy[1].ws_elevation="",$scope.retStuffCopy[1].sensor_elevation="")}else $scope.RETOPsForTapeDown[opI].selected=!0})}},$scope.OPsPresent&&OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.RetrievedSensorStat.instrument_status_id}).$promise.then(function(RETresponse){for(var r=0;r<RETresponse.length;r++){var RETsensMeasures=RETresponse[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==RETresponse[r].objective_point_id})[0];RETsensMeasures.elevation=whichOP.elev_ft,RETsensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,RETsensMeasures.op_name=$scope.RETOPsForTapeDown.filter(function(op){return op.objective_point_id==RETresponse[r].objective_point_id})[0].name,$scope.RETtapeDownTable.push(RETsensMeasures)}for(var i=0;i<$scope.RETOPsForTapeDown.length;i++){for(var y=0;y<RETresponse.length;y++)RETresponse[y].objective_point_id==$scope.RETOPsForTapeDown[i].objective_point_id?($scope.RETOPsForTapeDown[i].selected=!0,y=RETresponse.length):$scope.RETOPsForTapeDown[i].selected=!1;0===RETresponse.length&&($scope.RETOPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)}),$scope.EventName=allEvents.filter(function(e){return e.event_id===$scope.sensor.event_id})[0].event_name,$scope.s={depOpen:!1,retOpen:!0,sFileOpen:!1,NWISFileOpen:!1},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getDepTypes=function(sensType){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=$scope.sensorTypeList.filter(function(sd){return sd.sensor_type_id==sensType.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes},$scope.getDepTypes($scope.sensor),$scope.cancel=function(){$timeout(function(){var sendBack=[thisSensor];$uibModalInstance.close(sendBack)})};var dealWithTimeStampb4Send=function(w){var utcDateTime,i;"deployed"===w?"UTC"!=$scope.depStuffCopy[1].time_zone?(utcDateTime=new Date($scope.depStuffCopy[1].time_stamp).toUTCString(),$scope.depStuffCopy[1].time_stamp=utcDateTime,$scope.depStuffCopy[1].time_zone="UTC"):(i=$scope.depStuffCopy[1].time_stamp.toString().indexOf("GMT")+3,$scope.depStuffCopy[1].time_stamp=$scope.depStuffCopy[1].time_stamp.toString().substring(0,i)):"UTC"!=$scope.retStuffCopy[1].time_zone?(utcDateTime=new Date($scope.retStuffCopy[1].time_stamp).toUTCString(),$scope.retStuffCopy[1].time_stamp=utcDateTime,$scope.retStuffCopy[1].time_zone="UTC"):(i=$scope.retStuffCopy[1].time_stamp.toString().indexOf("GMT")+3,$scope.retStuffCopy[1].time_stamp=$scope.retStuffCopy[1].time_stamp.toString().substring(0,i))};$scope.wannaEditDep=function(){$scope.view.DEPval="edit",$scope.depStuffCopy=[angular.copy($scope.sensor),angular.copy($scope.DeployedSensorStat)],$scope.depTapeCopy=angular.copy($scope.DEPtapeDownTable)},$scope.saveDeployed=function(valid){if(valid){var updatedSensor={},updatedSenStat={};"Minutes"==$scope.IntervalType.type&&($scope.depStuffCopy[0].interval=60*$scope.depStuffCopy[0].interval),dealWithTimeStampb4Send("deployed"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.depStuffCopy[0].instrument_id},$scope.depStuffCopy[0]).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.depStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id===$scope.depStuffCopy[0].deployment_type_id})[0].method:"",updatedSensor.housingType=$scope.depStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id===$scope.depStuffCopy[0].housing_type_id})[0].type_name:"",updatedSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id===$scope.depStuffCopy[0].sensor_brand_id})[0].brand_name,updatedSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id===$scope.depStuffCopy[0].sensor_type_id})[0].sensor,updatedSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.depStuffCopy[0].inst_collection_id})[0].condition,INSTRUMENT_STATUS.update({id:$scope.depStuffCopy[1].instrument_status_id},$scope.depStuffCopy[1]).$promise.then(function(statResponse){for(var rt=0;rt<$scope.DEPremoveOPList.length;rt++){var DEPidToRemove=$scope.DEPremoveOPList[rt];OP_MEASURE["delete"]({id:DEPidToRemove}).$promise}$scope.DEPtapeDownTable=$scope.depTapeCopy.length>0?[]:$scope.DEPtapeDownTable;for(var at=0;at<$scope.depTapeCopy.length;at++){var DEPthisTape=$scope.depTapeCopy[at];void 0!==DEPthisTape.op_measurements_id?OP_MEASURE.update({id:DEPthisTape.op_measurements_id},DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.DEPtapeDownTable.push(tapeResponse)}):(DEPthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.DEPtapeDownTable.push(tapeResponse)}))}updatedSenStat=statResponse,updatedSenStat.status="Deployed",$scope.sensor=updatedSensor;var allStatusHolder=thisSensor.instrument_status;thisSensor=updatedSensor,$scope.DeployedSensorStat=updatedSenStat,$scope.DeployedSensorStat.time_stamp=getDateTimeParts($scope.DeployedSensorStat.time_stamp),thisSensor.instrument_status=allStatusHolder;var ind=thisSensor.instrument_status.map(function(i){return i.status_type_id}).indexOf(1);thisSensor.instrument_status[ind]=$scope.DeployedSensorStat,$scope.sensor.instrument_status=thisSensor.instrument_status,$scope.depStuffCopy=[],$scope.depTapeCopy=[],$scope.IntervalType={type:"Seconds"},$scope.view.DEPval="detail",toastr.success("Sensor Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.cancelDepEdit=function(){$scope.view.DEPval="detail",$scope.depStuffCopy=[],$scope.depTapeCopy=[];for(var i=0;i<$scope.DEPOPsForTapeDown.length;i++){for(var y=0;y<$scope.DEPtapeDownTable.length;y++)$scope.DEPtapeDownTable[y].objective_point_id==$scope.DEPOPsForTapeDown[i].objective_point_id?($scope.DEPOPsForTapeDown[i].selected=!0,y=$scope.DEPtapeDownTable.length):$scope.DEPOPsForTapeDown[i].selected=!1;0===$scope.DEPtapeDownTable.length&&($scope.DEPOPsForTapeDown[i].selected=!1)}},$scope.wannaEditRet=function(){$scope.view.RETval="edit",$scope.retStuffCopy=[angular.copy($scope.sensor),angular.copy($scope.RetrievedSensorStat)],$scope.retTapeCopy=angular.copy($scope.RETtapeDownTable)},$scope.saveRetrieved=function(valid){if(valid){var updatedRetSensor={};dealWithTimeStampb4Send("retrieved"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.retStuffCopy[0].instrument_id},$scope.retStuffCopy[0]).$promise.then(function(response){updatedRetSensor=response,updatedRetSensor.deploymentType=$scope.retStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id===$scope.retStuffCopy[0].deployment_type_id})[0].method:"",updatedRetSensor.housingType=$scope.retStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id===$scope.retStuffCopy[0].housing_type_id})[0].type_name:"",updatedRetSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id===$scope.retStuffCopy[0].sensor_brand_id})[0].brand_name,updatedRetSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id===$scope.retStuffCopy[0].sensor_type_id})[0].sensor,updatedRetSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.retStuffCopy[0].inst_collection_id})[0].condition,$scope.sensor=updatedRetSensor;var statsHolder=thisSensor.instrument_status;thisSensor=updatedRetSensor,thisSensor.instrument_status=statsHolder,INSTRUMENT_STATUS.update({id:$scope.retStuffCopy[1].instrument_status_id},$scope.retStuffCopy[1]).$promise.then(function(statResponse){$scope.mostRecentStatus=2==statResponse.status_type_id?"Retrieved":"Lost",$scope.RetrievedSensorStat=statResponse,$scope.RetrievedSensorStat.status=2==statResponse.status_type_id?"Retrieved":"Lost",$scope.RetrievedSensorStat.time_stamp=getDateTimeParts($scope.RetrievedSensorStat.time_stamp),thisSensor.instrument_status[0]=$scope.RetrievedSensorStat;for(var rt=0;rt<$scope.RETremoveOPList.length;rt++){var RETidToRemove=$scope.RETremoveOPList[rt];OP_MEASURE["delete"]({id:RETidToRemove}).$promise}$scope.RETtapeDownTable=$scope.retTapeCopy.length>0?[]:$scope.RETtapeDownTable;for(var at=0;at<$scope.retTapeCopy.length;at++){var RETthisTape=$scope.retTapeCopy[at];void 0!==RETthisTape.op_measurements_id?OP_MEASURE.update({id:RETthisTape.op_measurements_id},RETthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=RETthisTape.op_name,tapeResponse.Vdatum=RETthisTape.Vdatum,$scope.RETtapeDownTable.push(tapeResponse)}):(RETthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(RETthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=RETthisTape.op_name,tapeResponse.Vdatum=RETthisTape.Vdatum,$scope.RETtapeDownTable.push(tapeResponse)}))}$scope.retStuffCopy=[],$scope.retTapeCopy=[],$scope.view.RETval="detail",toastr.success("Sensor updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.cancelRetEdit=function(){$scope.view.RETval="detail",$scope.retStuffCopy=[],$scope.retTapeCopy=[];for(var i=0;i<$scope.RETOPsForTapeDown.length;i++){for(var y=0;y<$scope.RETtapeDownTable.length;y++)$scope.RETtapeDownTable[y].objective_point_id==$scope.RETOPsForTapeDown[i].objective_point_id?($scope.RETOPsForTapeDown[i].selected=!0,y=$scope.RETtapeDownTable.length):$scope.RETOPsForTapeDown[i].selected=!1;0===$scope.RETtapeDownTable.length&&($scope.RETOPsForTapeDown[i].selected=!1)}},$scope.deleteS=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.sensor},what:function(){return"Sensor"}}});DeleteModalInstance.result.then(function(sensorToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:sensorToRemove.instrument_id}).$promise.then(function(){$scope.sensorFiles=[],$scope.sensImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].instrument_id==sensorToRemove.instrument_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Sensor Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor: "+errorResponse.statusText)})})},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){if(void 0==$scope.aFile.File&&void 0==$scope.aFile.File1)alert("You need to choose a file first");else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo=2==$scope.aFile.filetype_id?"DataFile File":"Sensor File",1===fresponse.filetype_id&&($scope.sensImageFiles.splice($scope.existIMGFileIndex,1),$scope.sensImageFiles.push(fresponse)),$scope.sensorFiles[$scope.existFileIndex]=fresponse,$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},$scope.datafile={},0!==file){if($scope.existFileIndex=$scope.sensorFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.sensImageFiles.length>0?$scope.sensImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1;

}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)}),void 0!==file.data_file_id&&($scope.ApprovalInfo={},DATA_FILE.query({id:file.data_file_id}).$promise.then(function(df){$scope.datafile=df,$scope.processor=allMembers.filter(function(m){return m.member_id==$scope.datafile.processor_id})[0],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end),void 0!==df.approval_id&&null!==df.approval_id&&df.approval_id>=1&&DATA_FILE.getDFApproval({id:df.data_file_id},function(approvalResponse){$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file approval: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file approval: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)}))}else{$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.processor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0];var dt=getTimeZoneStamp();$scope.datafile.collect_date=dt[0],$scope.datafile.time_zone=dt[1],$scope.datafile.good_start=null,$scope.datafile.good_end=null}$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(void 0==s||void 0==e){valid=!1;var missingDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good data start date or good data end date is missing. Either choose a date, or click Preview Data to get a chart of the data, where you can choose the dates.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});missingDate.result.then(function(){valid=!1})}}if(valid)if($scope.fullSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",2==$scope.aFile.filetype_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}$scope.datafile.instrument_id=thisSensor.instrument_id,$scope.datafile.processor_id=$cookies.get("mID");var datafileID=0;DATA_FILE.save($scope.datafile).$promise.then(function(dfResponse){datafileID=dfResponse.data_file_id;var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,data_file_id:dfResponse.data_file_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="DataFile File",$scope.sensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.sensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.sensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.sensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("You need to choose a file first")},$scope.saveFile=function(valid){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.fullSenfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.datafile.data_file_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.datafile.data_file_id},$scope.datafile).$promise.then(function(){FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Sensor File",$scope.sensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,$scope.showProcessing=!1,$scope.stormSection=!1,$scope.eventDataFiles=[],$scope.is4Hz={selected:!1}},$scope.approveDF=function(){var thisDF=$scope.datafile,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve Data File</h3></div><div class='modal-body'><p>Are you ready to approve this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});approveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.approveDF({id:df.data_file_id}).$promise.then(function(approvalResponse){df.approval_id=approvalResponse.approval_id,$scope.datafile=df,toastr.success("Data File Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving data file: "+errorResponse.statusText)})})},$scope.unApproveDF=function(){var thisDF=$scope.datafile,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});unapproveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.unApproveDF({id:df.data_file_id}).$promise.then(function(){df.approval_id=null,$scope.datafile=df,toastr.success("Data File Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving data file: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving data file: "+errorResponse.statusText)})})},$scope.runAirScript=function(){if(void 0!==$scope.DeployedSensorStat.sensor_elevation&&void 0!==$scope.RetrievedSensorStat.sensor_elevation)if("true"==$scope.aFile.script_parent){var rerunModal=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The Air Script has already been processed for this sensor data file. Would you like to delete the output files and rerun the script?</p><div class="modal-footer"><button class="btn btn-warning" ng-enter="no()" ng-click="no()">Cancel</button><button class="btn btn-primary" ng-enter="yes()" ng-click="yes()">Rerun Script</button></div>',controller:["$scope","$uibModalInstance","theFile",function($scope,$uibModalInstance,theFile){$scope.no=function(){$uibModalInstance.dismiss()},$scope.yes=function(){$uibModalInstance.close(theFile)}}],size:"sm",resolve:{theFile:function(){return $scope.aFile}}});rerunModal.result.then(function(afile){$scope.showProcessing=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds");var processedFileCount=$scope.sensorFiles.filter(function(f){return f.script_parent==afile.file_id.toString()}),matchCnt=0;0==processedFileCount&&(DATA_FILE.runAirScript({airDFID:afile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile()),$scope.sensorFiles.forEach(function(f){f.script_parent==afile.file_id.toString()&&FILE["delete"]({id:f.file_id}).$promise.then(function(){matchCnt++,$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),matchCnt==processedFileCount.length&&(DATA_FILE.runAirScript({airDFID:afile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile())},function(errorResponse){toastr.error("Error deleting output file: "+errorResponse.statusText)})})})}else $scope.showProcessing=!0,DATA_FILE.runAirScript({airDFID:$scope.datafile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile();else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This Pressure Transducer Sensor does not have a sensor elevation.</p><p>Please update the sensor, providing a sensor elevation for both the deployed section and retrieved section. This is required for the script.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.showStormSection=function(){$scope.stormSection=!0;angular.forEach(allEventDataFiles,function(df){df.selected=!1,df.distance=calcDistance(df.latitude_dd,df.longitude_dd),(void 0===df.script_parent||"true"==df.script_parent)&&$scope.eventDataFiles.push(df)}),$scope.eventDataFiles.sort(function(a,b){return parseFloat(a.distance)-parseFloat(b.distance)})},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.pagination={currentPage:1,maxPaginationSize:200},$scope.itemsPerPage=10,$scope.updatePageIndexes=function(a){console.log("Page changed to: "+$scope.pagination.currentPage),$scope.firstIndex=($scope.pagination.currentPage-1)*$scope.itemsPerPage,$scope.lastIndex=$scope.pagination.currentPage*$scope.itemsPerPage},$scope.updatePageIndexes(),$scope.updateChosenAirRadio=function(dfile){for(var i=0;i<$scope.eventDataFiles.length;i++)dfile.data_file_id!=$scope.eventDataFiles[i].data_file_id&&($scope.eventDataFiles[i].selected="false")};var runTheStormScript=function(airDF){INSTRUMENT.getFullInstrument({id:airDF.instrument_id}).$promise.then(function(airSensor){var waterDF=(airSensor.instrument_status,$scope.datafile.data_file_id),boolVal=$scope.is4Hz.selected;DATA_FILE.runStormScript({seaDFID:waterDF,airDFID:airDF.data_file_id,hertz:boolVal,username:$cookies.get("STNUsername")}).$promise.then(function(){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile()},function(error){toastr.error("Error retrieving Air Sensor: "+error.statusText)})};if($scope.runStormScript=function(){var airDF=$scope.eventDataFiles.filter(function(d){return"true"==d.selected})[0];if(void 0!==airDF){var waterFile=$scope.sensorFiles.filter(function(f){return f.data_file_id==$scope.datafile.data_file_id})[0],watAirIDS=waterFile.file_id+"_"+airDF.file_id,alreadyRan=!1;if($scope.sensorFiles.forEach(function(sensFile){sensFile.script_parent==watAirIDS&&(alreadyRan=!0)}),alreadyRan){var rerunStormModal=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The Storm Script has already been processed for this sensor data file with this air data file. Would you like to delete the output files and rerun the script?</p><div class="modal-footer"><button class="btn btn-warning" ng-enter="no()" ng-click="no()">Cancel</button><button class="btn btn-primary" ng-enter="yes()" ng-click="yes()">Rerun Script</button></div>',controller:["$scope","$uibModalInstance","theAirFile","theWaterFile",function($scope,$uibModalInstance,theAirFile,theWaterFile){$scope.no=function(){$uibModalInstance.dismiss()},$scope.yes=function(){var filesArray=[theAirFile,theWaterFile];$uibModalInstance.close(filesArray)}}],size:"sm",resolve:{theAirFile:function(){return airDF},theWaterFile:function(){return waterFile}}});rerunStormModal.result.then(function(bothFiles){$scope.showProcessing=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds");var processedFileCount=$scope.sensorFiles.filter(function(f){return f.script_parent==bothFiles[1].file_id.toString()+"_"+bothFiles[0].file_id.toString()}),matchCnt=0;$scope.sensorFiles.forEach(function(f){if(f.script_parent==bothFiles[1].file_id.toString()+"_"+bothFiles[0].file_id.toString()){{f.file_id}FILE["delete"]({id:f.file_id}).$promise.then(function(){matchCnt++,$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),matchCnt==processedFileCount.length&&runTheStormScript(airDF)},function(errorResponse){toastr.error("Error deleting output file: "+errorResponse.statusText)})}})})}else runTheStormScript(airDF)}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please choose an air data file to use for the storm script.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.chopperResponse2=!1,$scope.chopperResponse2Keys=[],$scope.chartOptions2={},$scope.chartData=[],Array.prototype.zip=function(arr){return this.map(function(e,i){return[e,arr[i]]})},$scope.runChopper=function(){if($scope.chartData=[],$scope.chartOptions2={},$scope.chopperResponse2=!1,$scope.chopperResponse2Keys=[],$scope.chartObj&&($scope.chartObj.xAxis[0].removePlotLine("start"),$scope.chartObj.xAxis[0].removePlotLine("end")),void 0!==$scope.aFile.File){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var fileParts={FileEntity:{site_id:$scope.thisSensorSite.site_id,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),$scope.smlallLoaderGo=!0,DATA_FILE.runChopperScript(fd).$promise.then(function(response){if($scope.smlallLoaderGo=!1,$scope.chopperResponse2Keys=Object.keys(response),response.Error){var errorMessage=response.Error;$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error running the chopper.</p><p>Error: {{errorMessage}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance","message",function($scope,$uibModalInstance,message){$scope.errorMessage=message,$scope.ok=function(){$uibModalInstance.dismiss()}}],resolve:{message:function(){return errorMessage}},size:"sm"})}else $scope.chartData=response.time.zip(response.pressure),$scope.chartOptions2={chart:{events:{load:function(){$scope.chartObj=this}},zoomType:"x",panning:!0,panKey:"shift"},boostThreshold:2e3,plotOptions:{series:{events:{click:function(event){var pointClick=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Would you like to set this ({{thisDate}}) as:</p><div style="text-align:center;"><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="start" />Good Start Date</span><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="end" />Good End Date</span></div></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance","chosenDate","xEvent",function($scope,$uibModalInstance,chosenDate,xEvent){$scope.ok=function(){if(""==$scope.whichDate)alert("No Date chosen");else{var parts=[$scope.whichDate,chosenDate,xEvent];$uibModalInstance.close(parts)}},$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.whichDate="",$scope.thisDate=new Date(chosenDate)}],resolve:{chosenDate:event.point.category,xEvent:event.chartX},size:"sm"});pointClick.result.then(function(parts){var chart=$scope.chartObj.xAxis[0];chart.removePlotLine(parts[0]),chart.addPlotLine({value:chart.toValue(parts[2]),color:"start"==parts[0]?"#00ff00":"#ff0000",width:2,id:parts[0],zIndex:19999,label:{text:parts[0]}});var theDate=new Date(parts[1]).toISOString(),d=getDateTimeParts(theDate);"start"==parts[0]?$scope.datafile.good_start=d:$scope.datafile.good_end=d})}},allowPointSelect:!0,cursor:"pointer",point:{events:{mouseOver:function(){this.series.halo&&this.series.halo.attr({"class":"highcharts-tracker"}).toFront()}}},marker:{enabled:!1}}},title:{text:"Preview of Pressure Data"},subtitle:{text:"Click and drag to zoom in. Hold down shift key to pan. To select Good Start/End Date, click point on line."},xAxis:{title:{text:$scope.chopperResponse2Keys[1]},type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"},offset:10},yAxis:{title:{text:$scope.chopperResponse2Keys[0]},labels:{format:"{value} psi"},offset:10},series:[{data:$scope.chartData}]},$scope.chopperResponse2=!0},function(error){console.log(error)})}else alert("You need to choose a file first")},$scope.sensorDataNWIS){$scope.sensorNWISFiles=[];for(var ai=$scope.sensorFiles.length-1;ai>=0;ai--)1==$scope.sensorFiles[ai].is_nwis&&($scope.sensorNWISFiles.push($scope.sensorFiles[ai]),$scope.sensorFiles.splice(ai,1));var dt=getTimeZoneStamp();$scope.NWISFile={},$scope.NWISDF={}}$scope.showNWISFile=function(f){$scope.existFileIndex=-1,$scope.allSFileIndex=-1,0!==f?($scope.existFileIndex=$scope.sensorNWISFiles.indexOf(f),$scope.allSFileIndex=$scope.allSFiles.indexOf(f),$scope.NWISFile=angular.copy(f),$scope.NWISFile.file_date=new Date($scope.NWISFile.file_date),$scope.NWISFile.FileType="Data",DATA_FILE.query({id:f.data_file_id}).$promise.then(function(df){$scope.NWISDF=df,$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$scope.NWISDF.processor_id})[0],$scope.NWISDF.collect_date=new Date($scope.NWISDF.collect_date),$scope.NWISDF.good_start=getDateTimeParts($scope.NWISDF.good_start),$scope.NWISDF.good_end=getDateTimeParts($scope.NWISDF.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})):($scope.NWISFile={file_date:new Date,filetype_id:2,name:"https://waterdata.usgs.gov/nwis/uv?site_no="+$scope.thisSensorSite.usgs_sid,path:"<link>",FileType:"Data",site_id:$scope.sensor.site_id,data_file_id:0,instrument_id:$scope.sensor.instrument_id,is_nwis:1},$scope.NWISDF={processor_id:$cookies.get("mID"),instrument_id:$scope.sensor.instrument_id,collect_date:dt[0],time_zone:dt[1],good_start:new Date,good_end:new Date},$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]),$scope.showNWISFileForm=!0};var postApprovalForNWISfile=function(DFid){DATA_FILE.approveNWISDF({id:DFid}).$promise.then(function(approvalResponse){$scope.NWISFile.approval_id=approvalResponse.approval_id},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving nwis data file: "+errorResponse.statusText)})};$scope.createNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}var datafileID=0;DATA_FILE.save($scope.NWISDF).$promise.then(function(NdfResponse){datafileID=NdfResponse.data_file_id,$scope.NWISFile.data_file_id=NdfResponse.data_file_id,postApprovalForNWISfile(NdfResponse.data_file_id),FILE.save($scope.NWISFile).$promise.then(function(Fresponse){toastr.success("File Data saved"),Fresponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles.push(Fresponse),$scope.allSFiles.push(Fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText);

})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}},$scope.saveNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.NWISDF.data_file_id},$scope.NWISDF).$promise.then(function(){FILE.update({id:$scope.NWISFile.file_id},$scope.NWISFile).$promise.then(function(fileResponse){toastr.success("File Data Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving nwis file: "+errorResponse.headers(["usgswim-messages"]):"Error saving nwis file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving nwis data file: "+errorResponse.statusText)})}},$scope.deleteNWISFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.NWISFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorNWISFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelNWISFile=function(){$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("sensorCtrl",["$scope","$rootScope","$q","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","Instrument_Service","thisSiteSensors","allSensorBrands","allAgencies","allVertDatums","allDeployTypes","allSensorTypes","allHousingTypes","allEvents","allFileTypes","INSTRUMENT","INSTRUMENT_STATUS","SITE","MEMBER","DEPLOYMENT_TYPE","STATUS_TYPE","INST_COLL_CONDITION","DATA_FILE",function($scope,$rootScope,$q,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,Instrument_Service,thisSiteSensors,allSensorBrands,allAgencies,allVertDatums,allDeployTypes,allSensorTypes,allHousingTypes,allEvents,allFileTypes,INSTRUMENT,INSTRUMENT_STATUS,SITE,MEMBER,DEPLOYMENT_TYPE,STATUS_TYPE,INST_COLL_CONDITION,DATA_FILE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.sensorCount={total:thisSiteSensors.length},$scope.deployTypeList=angular.copy(allDeployTypes);for(var tempDepTypeID=0,d=0;d<$scope.deployTypeList.length;d++)"Temperature"===$scope.deployTypeList[d].method&&(tempDepTypeID=$scope.deployTypeList[d].deployment_type_id,$scope.deployTypeList[d].method="Temperature (Met sensor)");$scope.deployTypeList.push({deployment_type_id:tempDepTypeID,method:"Temperature (Pressure Transducer)"}),$scope.sensDepTypes=allSensorTypes,$scope.showProposed=!1;for(var s=0;s<thisSiteSensors.length;s++){var correctOrderSS=[],sensorStatuses=thisSiteSensors[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);thisSiteSensors[s].instrument_status=[],thisSiteSensors[s].instrument_status=correctOrderSS}$scope.SiteSensors=thisSiteSensors,Instrument_Service.setAllSiteSensors($scope.SiteSensors);var SensFileTypes=allFileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Link"===sft.filetype||"Sketch"===sft.filetype});$scope.showHideProposed=function(){$scope.showProposed=!$scope.showProposed},$scope.AddProposed=function(){for(var Time_STAMP=new Date,dt=0;dt<$scope.deployTypeList.length;dt++)if($scope.deployTypeList[dt].selected===!0){var proposedToAdd={},propStatToAdd={};if("Temp"==$scope.deployTypeList[dt].method.substring(0,4))proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:thisSite.site_id,sensor_type_id:"Temperature (Pressure Transducer)"==$scope.deployTypeList[dt].method?1:2};else{var sID=0;angular.forEach($scope.sensDepTypes,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==$scope.deployTypeList[dt].deployment_type_id&&(sID=sdt.sensor_type_id)}),proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:thisSite.site_id,sensor_type_id:sID}}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save(proposedToAdd).$promise.then(function(response){instrumentID=response.instrument_id;var createdPropSensor={deployment_type_id:response.deployment_type_id,site_id:response.site_id,event_id:response.event_id,location_description:response.location_description,sensor_type_id:response.sensor_type_id,instrument_id:response.instrument_id,deploymentType:$scope.deployTypeList.filter(function(dtl){return dtl.deployment_type_id==response.deployment_type_id})[0].method,sensorType:$scope.sensDepTypes.filter(function(s){return s.sensor_type_id==response.sensor_type_id})[0].sensor};propStatToAdd={instrument_id:response.instrument_id,status_type_id:4,member_id:$cookies.get("mID"),time_stamp:Time_STAMP,time_zone:"UTC"},INSTRUMENT_STATUS.save(propStatToAdd).$promise.then(function(statResponse){propStatToAdd.status="Proposed",propStatToAdd.instrument_status_id=statResponse.instrument_status_id,createdPropSensor.instrument_status=[propStatToAdd],$scope.SiteSensors.push(createdPropSensor),$scope.sensorCount={total:$scope.SiteSensors.length};for(var dep=0;dep<$scope.deployTypeList.length;dep++)$scope.deployTypeList[dep].selected=!1;$timeout(function(){$scope.showProposed=!1,toastr.success("Proposed sensor created")})},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}},$scope.showRetrieveModal=function(sensorClicked){var indexClicked=$scope.SiteSensors.indexOf(sensorClicked),allindex=thisSiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"SensorRetrievalModal.html",controller:"sensorRetrievalModalCtrl",size:"lg",backdrop:"static",windowClass:"rep-dialog",resolve:{thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allEventList:function(){return allEvents},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allStatusTypes:function(){return STATUS_TYPE.getAll().$promise},allInstCollCond:function(){return INST_COLL_CONDITION.getAll().$promise},allVDatumList:function(){return allVertDatums}}});modalInstance.result.then(function(retrievedSensor){if("retrieved"==retrievedSensor[1]&&($scope.SiteSensors[indexClicked]=retrievedSensor[0],thisSiteSensors[allindex]=retrievedSensor[0]),"deletedR"==retrievedSensor[1]){var indexClicked1=$scope.SiteSensors.indexOf(sensorClicked);$scope.SiteSensors.splice(indexClicked1,1),$scope.sensorCount.total=$scope.SiteSensors.length}$rootScope.stateIsLoading.showLoading=!1})},$scope.showProposedSensor=function(proposedSensorClicked){var propIndex=$scope.SiteSensors.indexOf(proposedSensorClicked),propModalInstance=$uibModal.open({templateUrl:"ProposedSensor.html",controller:["$scope","$uibModalInstance","proposedSensor",function($scope,$uibModalInstance,proposedSensor){$scope.thisProposedSensor=proposedSensor,$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.deleteProposed=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return"Proposed Sensor"},what:function(){return"Proposed Sensor"}}});DeleteModalInstance.result.then(function(){$uibModalInstance.close("delete")})}}],size:"sm",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{proposedSensor:function(){return proposedSensorClicked}}});propModalInstance.result.then(function(d){"delete"==d&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:proposedSensorClicked.instrument_id}).$promise.then(function(){thisSiteSensors.splice(propIndex,1),$scope.SiteSensors=thisSiteSensors,$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors),toastr.success("Proposed sensor deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting proposed sensor: "+errorResponse.statusText)}))})},$scope.showSensorModal=function(sensorClicked){var passAllLists=[allSensorTypes,allSensorBrands,allHousingTypes,allEvents,SensFileTypes,allVertDatums],indexClicked=$scope.SiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:0===sensorClicked||4===sensorClicked.instrument_status[0].status_type_id?"Sensormodal.html":"DepSensormodal.html",controller:"sensorModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},allDepTypes:function(){return DEPLOYMENT_TYPE.getAll().$promise},thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdSensor){var i=$scope.SiteSensors.indexOf(sensorClicked),si=thisSiteSensors.indexOf(sensorClicked);"proposedDeployed"==createdSensor[1]&&($scope.SiteSensors[i]=createdSensor[0],thisSiteSensors[si]=createdSensor[0],Instrument_Service.setAllSiteSensors($scope.SiteSensors)),"newDeployed"==createdSensor[1]&&($scope.SiteSensors.push(createdSensor[0]),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)),void 0===createdSensor[1]&&($scope.SiteSensors[indexClicked]=createdSensor[0],$rootScope.stateIsLoading.showLoading=!1),"deleted"==createdSensor[1]&&($scope.SiteSensors.splice(i,1),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)),$rootScope.stateIsLoading.showLoading=!1})},$scope.showFullSensorModal=function(sensorClicked){var deployedStuff=[allSensorTypes,allSensorBrands,allHousingTypes,SensFileTypes,allVertDatums],indexClicked=$scope.SiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"fullSensormodal.html",controller:"fullSensorModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDepDropdowns:function(){return deployedStuff},allStatusTypes:function(){return STATUS_TYPE.getAll().$promise},allInstCollCond:function(){return INST_COLL_CONDITION.getAll().$promise},allEvents:function(){return allEvents},allDepTypes:function(){return DEPLOYMENT_TYPE.getAll().$promise},thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventDataFiles:function(){return DATA_FILE.getEventDataView({eventId:sensorClicked.event_id}).$promise}}});modalInstance.result.then(function(createdSensor){"deleted"==createdSensor[1]?($scope.SiteSensors.splice(indexClicked,1),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)):$scope.SiteSensors[indexClicked]=createdSensor[0],$rootScope.stateIsLoading.showLoading=!1})},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SiteSensors=thisSiteSensors.filter(function(h){return h.event_id==$cookies.get("SessionEventID")||4==h.instrument_status[0].status_type_id}),$scope.sensorCount={total:$scope.SiteSensors.length}):($scope.SiteSensors=thisSiteSensors,$scope.sensorCount={total:$scope.SiteSensors.length})})}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("siteModalCtrl",["$scope","$rootScope","$cookies","$q","$location","$state","$http","$sce","$timeout","$uibModal","$uibModalInstance","$filter","leafletMarkerEvents","allDropDownParts","fileTypes","agencyList","latlong","thisSiteStuff","allMembers","SITE","SITE_HOUSING","Site_Files","MEMBER","INSTRUMENT","INSTRUMENT_STATUS","LANDOWNER_CONTACT","GEOCODE","FILE_STAMP","FILE","SOURCE","SERVER_URL",function($scope,$rootScope,$cookies,$q,$location,$state,$http,$sce,$timeout,$uibModal,$uibModalInstance,$filter,leafletMarkerEvents,allDropDownParts,fileTypes,agencyList,latlong,thisSiteStuff,allMembers,SITE,SITE_HOUSING,Site_Files,MEMBER,INSTRUMENT,INSTRUMENT_STATUS,LANDOWNER_CONTACT,GEOCODE,FILE_STAMP,FILE,SOURCE,SERVER_URL){$scope.HorizontalDatumList=allDropDownParts[0],$scope.HorCollMethodList=allDropDownParts[1],$scope.StateList=allDropDownParts[2],$scope.AllCountyList=allDropDownParts[3],$scope.stateCountyList=[],$scope.DMS={},$scope.allHousingTypeList=allDropDownParts[4],$scope.DepPriorityList=allDropDownParts[5],$scope.NetNameList=allDropDownParts[6],$scope.NetTypeList=allDropDownParts[7],$scope.ProposedSens=allDropDownParts[8],$scope.SensorDeployment=allDropDownParts[9],$scope.userRole=$cookies.get("usersRole"),$scope.closeSites=0,$scope.showMap=!1,$scope.siteLat=0,$scope.siteLong=0,$scope.htmlDescriptionTip=$sce.trustAsHtml("Required by NWIS. Can be listed as <em>'unknown'</em> or <em>'Atlantic Ocean'</em>"),$scope.mapCenter={lat:$scope.siteLat,lng:$scope.siteLong,zoom:17},$scope.events={mapMarkers:{enable:leafletMarkerEvents.getAvailableEvents()}},$scope.mapMarkers=[];var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},newSTN:{type:"div",iconSize:[10,10],className:"newSiteIcon",iconAnchor:[5,5]}},azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))};$scope.updateAddressOnly=function(){void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.AllCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.StateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long")},function(errorResponse){toastr.error("Error getting location information.")})},$scope.$on("leafletDirectiveMarker.dragend",function(event,args){var dragendLocation=args.model;$scope.aSite.latitude_dd=parseFloat(dragendLocation.lat.toFixed(6)),$scope.aSite.longitude_dd=parseFloat(dragendLocation.lng.toFixed(6));var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.updateAddressOnly()}),$scope.getAddress=function(){if(void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),void 0===$scope.aSite.latitude_dd||void 0===$scope.aSite.longitude_dd||isNaN($scope.aSite.latitude_dd)||isNaN($scope.aSite.longitude_dd)){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}else $scope.mapCenter={lat:parseFloat($scope.aSite.latitude_dd),lng:parseFloat($scope.aSite.longitude_dd),zoom:18},$scope.mapMarkers=[],$rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Accept="application/json",delete $http.defaults.headers.common.Authorization,GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=void 0!==stateFIPS?$scope.AllCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id:0,thisState=$scope.StateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName,SITE.getProximitySites({Latitude:$scope.aSite.latitude_dd,Longitude:$scope.aSite.longitude_dd,Buffer:5e-4},function(response){if($scope.closeSites=response,$scope.closeSites.length>0)for(var i=0;i<$scope.closeSites.length;i++){var a=$scope.closeSites[i];$scope.mapMarkers.push({lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,site_no:a.site_no,icon:icons.stn,message:a.site_no,focus:!1})}$scope.mapMarkers.push({lat:parseFloat($scope.aSite.latitude_dd),lng:parseFloat($scope.aSite.longitude_dd),icon:icons.newSTN,message:"New draggable STN site",focus:!1,draggable:!0}),$scope.showMap=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting proximity sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting proximity sites: "+errorResponse.statusText)}).$promise):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address location.")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},$scope.houseDirty=!1,$scope.netTypeDirty=!1,$scope.siteHouseTypesTable=[],$scope.aSite={},void 0!==latlong&&($scope.aSite.latitude_dd=parseFloat(latlong[0].toFixed(6)),$scope.aSite.longitude_dd=parseFloat(latlong[1].toFixed(6)),$scope.aSite.hdatum_id=4,$scope.aSite.hcollect_method_id=4,$scope.getAddress()),$scope.aSite.decDegORdms="dd",$scope.originalSiteHousings=[],$scope.checked="",$scope.checkedName="Not Defined",$scope.landowner={},$scope.addLandowner=!1,$scope.disableSensorParts=!1,$scope.showSiteHouseTable=!1,$scope.siteHouseTypesTable=[],$scope.siteHousesModel={},$scope.siteHousesToRemove=[],$scope.NetworkNAMEToAdd=[],$scope.NetworkNAMEToRemove=[],$scope.NetworkTYPEToAdd=[],$scope.NetworkTYPEToRemove=[],$scope.siteNetworkNames=[],$scope.siteNetworkTypes=[],$scope.serverURL=SERVER_URL,$scope.fileTypeList=fileTypes.filter(function(ft){return"Photo"===ft.filetype||"Historic Citation"===ft.filetype||"Field Sheets"===ft.filetype||"Level Notes"===ft.filetype||"Site Sketch"===ft.filetype||"Other"===ft.filetype||"Link"===ft.filetype||"Sketch"===ft.filetype||"Landowner Permission Form"===ft.filetype}),$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.SITEFiles=void 0!==thisSiteStuff?$scope.allSFiles.filter(function(sf){return!(sf.site_id!=thisSiteStuff[0].site_id||void 0!==sf.hwm_id&&0!==sf.hwm_id||void 0!==sf.instrument_id&&0!==sf.instrument_id||void 0!==sf.objective_point_id&&0!==sf.objective_point_id)}):[],$scope.siteImageFiles=$scope.SITEFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.splice($scope.existFileIndex,1),$scope.SITEFiles.push(fresponse),1===fresponse.filetype_id&&($scope.siteImageFiles.splice($scope.existFileIndex,1),$scope.siteImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.SITEFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.siteImageFiles.length>0?$scope.siteImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid){$scope.SITEfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.aSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.siteImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.aSite.site_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.SITEfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",
void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Site File",$scope.SITEFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.SITEFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.siteImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d,direction){"dms"==d?("lat"==direction&&($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),"long"==direction&&($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0))):("lat"==direction&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)),"long"==direction&&($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)))};var deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.aSite.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec);else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.aSite.decDegORdms="dms"})}else if(void 0!==$scope.aSite.latitude_dd){var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}},$scope.netTypeChg=function(nt){if(nt.selected){if($scope.NetworkTYPEToAdd.push(nt),void 0!==$scope.aSite.site_id){var i=$scope.NetworkTYPEToRemove.map(function(e){return e.network_type_id}).indexOf(nt.network_type_id);i>=0&&$scope.NetworkTYPEToRemove.splice(i,1)}}else{var ind=$scope.NetworkTYPEToAdd.map(function(e){return e.network_type_id}).indexOf(nt.network_type_id);ind>=0&&$scope.NetworkTYPEToAdd.splice(ind,1),void 0!==$scope.aSite.site_id&&$scope.NetworkTYPEToRemove.push(nt)}},$scope.whichOne=function(n){if(n.selected){if($scope.NetworkNAMEToAdd.push(n),void 0!==$scope.aSite.site_id){var i=$scope.NetworkNAMEToRemove.map(function(e){return e.network_name_id}).indexOf(n.network_name_id);i>=0&&$scope.NetworkNAMEToRemove.splice(i,1)}}else{var ind=$scope.NetworkNAMEToAdd.map(function(e){return e.network_name_id}).indexOf(n.network_name_id);ind>=0&&$scope.NetworkNAMEToAdd.splice(ind,1),void 0!==$scope.aSite.site_id&&$scope.NetworkNAMEToRemove.push(n)}if("Not Defined"==n.name&&n.selected===!0){for(var nn=0;nn<$scope.NetNameList.length;nn++)"Not Defined"!=$scope.NetNameList[nn].name&&$scope.NetNameList[nn].selected===!0&&($scope.NetworkNAMEToRemove.push($scope.NetNameList[nn]),$scope.NetNameList[nn].selected=!1);$scope.checked="Not Defined"}"Not Defined"==n.name&&n.selected===!1&&($scope.checked="")},$scope.dimAction=function(){if(1==$scope.aSite.sensor_not_appropriate){$scope.disableSensorParts=!0;for(var x=0;x<$scope.ProposedSens.length;x++)$scope.ProposedSens[x].selected=!1;$scope.aSite.is_permanent_housing_installed="No"}else $scope.disableSensorParts=!1},$scope.useSiteAddress,$scope.useAddressforLO=function(){$scope.useSiteAddress?($scope.landowner.address=$scope.aSite.address,$scope.landowner.city=$scope.aSite.city,$scope.landowner.state=$scope.aSite.state,$scope.landowner.zip=$scope.aSite.zip):($scope.landowner.address="",$scope.landowner.city="",$scope.landowner.state="",$scope.landowner.zip="")},$scope.save=function(valid){valid&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd)?(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)):$scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd)?(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)):($rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.addLandowner===!0?null!==$scope.aSite.landownercontact_id&&void 0!==$scope.aSite.landownercontact_id&&$scope.aSite.landownercontact_id>0?LANDOWNER_CONTACT.update({id:$scope.aSite.landownercontact_id},$scope.landowner).$promise.then(function(){putSiteAndParts()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}):void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.title||void 0!==$scope.landowner.address||void 0!==$scope.landowner.city||void 0!==$scope.landowner.primaryphone?LANDOWNER_CONTACT.save($scope.landowner,function(response){$scope.aSite.landownercontact_id=response.landownercontactid,putSiteAndParts()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}):putSiteAndParts():putSiteAndParts()))};var putSiteAndParts=function(){void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec));var updateSite=angular.copy($scope.aSite);delete updateSite.Creator,delete updateSite.HorizontalCollectMethod,delete updateSite.HorizontalDatum,delete updateSite.PriorityName,delete updateSite.decDegORdms,SITE.update({id:$scope.aSite.site_id},updateSite,function(response){var RemovePromises=($q.defer(),[]),AddPromises=[];angular.forEach($scope.siteHousesToRemove,function(shID){var delSHProm=SITE_HOUSING["delete"]({id:shID}).$promise;RemovePromises.push(delSHProm)}),angular.forEach($scope.NetworkNAMEToRemove,function(nnL){var delNNProm=SITE.deleteSiteNetworkName({siteId:$scope.aSite.site_id,networkNameId:nnL.network_name_id}).$promise;RemovePromises.push(delNNProm)}),angular.forEach($scope.NetworkTYPEToRemove,function(ntL){var delNTProm=SITE.deleteSiteNetworkType({siteId:$scope.aSite.site_id,networkTypeId:ntL.network_type_id}).$promise;RemovePromises.push(delNTProm)}),$scope.houseDirty===!0&&angular.forEach($scope.siteHouseTypesTable,function(ht){var addHtProm;void 0!==ht.site_housing_id?addHtProm=SITE_HOUSING.update({id:ht.site_housing_id},ht).$promise:(ht.site_id=$scope.aSite.site_id,addHtProm=SITE_HOUSING.save(ht).$promise),AddPromises.push(addHtProm)}),angular.forEach($scope.NetworkNAMEToAdd,function(AnnL){$scope.siteNetworkNames.push(AnnL.name);var addNNProm=SITE.postSiteNetworkName({siteId:$scope.aSite.site_id,networkNameId:AnnL.network_name_id}).$promise;AddPromises.push(addNNProm)}),angular.forEach($scope.NetworkTYPEToAdd,function(AnTL){$scope.siteNetworkTypes.push(AnTL.network_type_name);var addNTProm=SITE.postSiteNetworkType({siteId:$scope.aSite.site_id,networkTypeId:AnTL.network_type_id}).$promise;AddPromises.push(addNTProm)}),$q.all(RemovePromises).then(function(){$q.all(AddPromises).then(function(response){$scope.siteNetworkNames=[],$scope.siteNetworkTypes=[],angular.forEach($scope.NetNameList,function(nn){nn.selected===!0&&$scope.siteNetworkNames.push(nn.name)}),angular.forEach($scope.NetTypeList,function(nt){nt.selected===!0&&$scope.siteNetworkTypes.push(nt.network_type_name)});var sendBack=[$scope.aSite,$scope.siteNetworkNames,$scope.siteNetworkTypes];$uibModalInstance.close(sendBack),$rootScope.stateIsLoading.showLoading=!1,toastr.success("Site updated")})["catch"](function(msg){console.error(msg)})})["catch"](function(msg){console.error(msg)})},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving Site: "+errorResponse.headers(["usgswim-messages"]):"Error saving Site: "+errorResponse.statusText)})},finishPOST=function(sID){var postPromises=($q.defer(),[]);angular.forEach($scope.siteHouseTypesTable,function(htype){htype.site_id=sID,delete htype.type_name;var hTPromise=SITE_HOUSING.save(htype).$promise;postPromises.push(hTPromise)}),angular.forEach($scope.NetNameList,function(nName){if(nName.selected===!0){var nNPromise=SITE.postSiteNetworkName({siteId:sID,networkNameId:nName.network_name_id}).$promise;postPromises.push(nNPromise)}}),angular.forEach($scope.NetTypeList,function(nType){if(nType.selected===!0){var nTPromise=SITE.postSiteNetworkType({siteId:sID,networkTypeId:nType.network_type_id}).$promise;postPromises.push(nTPromise)}}),$q.all(postPromises).then(function(response){$uibModalInstance.dismiss("cancel"),$rootScope.stateIsLoading.showLoading=!1,$timeout(function(){$state.go("site.dashboard",{id:sID})})})};$scope.create=function(valid){valid&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd)?(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)):$scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd)?(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)):($rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",delete $scope.aSite.Creator,delete $scope.aSite.decDegORdms,$scope.addLandowner===!0&&(void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.title||void 0!==$scope.landowner.address||void 0!==$scope.landowner.city||void 0!==$scope.landowner.primaryphone)?LANDOWNER_CONTACT.save($scope.landowner,function(response){$scope.aSite.landownercontact_id=response.landownercontactid,postSiteAndParts()},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error saving landowner contact: "+errorResponse.statusText)}):postSiteAndParts()))};var postSiteAndParts=function(){var createdSiteID=0;void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),SITE.save($scope.aSite,function(response){if(createdSiteID=response.site_id,$scope.disableSensorParts===!1){var selectedProposedSensors=$scope.ProposedSens.filter(function(p){return p.selected===!0});selectedProposedSensors.length>0?angular.forEach(selectedProposedSensors,function(propSens,index){var sID=0;angular.forEach($scope.SensorDeployment,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==propSens.deployment_type_id&&(sID=sdt.sensor_type_id)});var sensorTypeID=sID,inst={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:propSens.deployment_type_id,site_id:createdSiteID,sensor_type_id:sensorTypeID},instrumentID=0;INSTRUMENT.save(inst).$promise.then(function(insResponse){instrumentID=insResponse.instrument_id;var instStat={instrument_id:insResponse.instrument_id,status_type_id:4,member_id:$scope.aSite.member_id,time_stamp:new Date,time_zone:"UTC"};INSTRUMENT_STATUS.save(instStat).$promise.then(function(){index==selectedProposedSensors.length-1&&finishPOST(createdSiteID)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})}):finishPOST(createdSiteID)}else finishPOST(createdSiteID)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)})};if(void 0!==thisSiteStuff){if($scope.aSite=angular.copy(thisSiteStuff[0]),$scope.aSite.hcollect_method_id<=0&&($scope.aSite.hcollect_method_id=null),$scope.aSite.sensor_not_appropriate>0){$scope.disableSensorParts=!0;for(var x=0;x<$scope.ProposedSens.length;x++)$scope.ProposedSens[x].selected=!1;$scope.aSite.is_permanent_housing_installed="No"}var thisState=$scope.StateList.filter(function(s){return s.state_abbrev==$scope.aSite.state})[0];if($scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),thisSiteStuff[1].length>0){$scope.originalSiteHousings=thisSiteStuff[1],$scope.showSiteHouseTable=!0,$scope.siteHouseTypesTable=thisSiteStuff[2];for(var ht=0;ht<$scope.allHousingTypeList.length;ht++){for(var y=0;y<$scope.originalSiteHousings.length;y++)$scope.originalSiteHousings[y].housing_type_id==$scope.allHousingTypeList[ht].housing_type_id?($scope.allHousingTypeList[ht].selected=!0,y=$scope.originalSiteHousings.length):$scope.allHousingTypeList[ht].selected=!1;0===$scope.originalSiteHousings.length&&($scope.allHousingTypeList[ht].selected=!1)}}if(thisSiteStuff[3].length>0){for(var projNNames=angular.copy(thisSiteStuff[3]),a=0;a<$scope.NetNameList.length;a++){for(var e=0;e<projNNames.length;e++)projNNames[e].network_name_id==$scope.NetNameList[a].network_name_id?($scope.NetNameList[a].selected=!0,e=projNNames.length):$scope.NetNameList[a].selected=!1;0===projNNames.length&&($scope.NetNameList[a].selected=!1)}$scope.NetNameList[0].selected===!0&&($scope.checked="Not Defined")}if(thisSiteStuff[4].length>0)for(var projNType=angular.copy(thisSiteStuff[4]),ni=0;ni<$scope.NetTypeList.length;ni++){for(var ny=0;ny<projNType.length;ny++)projNType[ny].network_type_id==$scope.NetTypeList[ni].network_type_id?($scope.NetTypeList[ni].selected=!0,ny=projNType.length):$scope.NetTypeList[ni].selected=!1;0===projNType.length&&($scope.NetTypeList[ni].selected=!1)}void 0!==thisSiteStuff[5]&&($scope.landowner=thisSiteStuff[5],$scope.addLandowner=void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.address||void 0!==$scope.landowner.primaryphone?!0:!1),$scope.s={sOpen:!1,sFileOpen:!1}}else $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.aSite.Creator=response.fname+" "+response.lname,$scope.aSite.member_id=response.member_id,$scope.aSite.is_permanent_housing_installed="No",$scope.aSite.access_granted="Not Needed"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting logged in member: "+errorResponse.headers(["usgswim-messages"]):"Error getting logged in member: "+errorResponse.statusText)}),$scope.s={sOpen:!0};$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.HouseTypeClick=function(ht){if($scope.houseDirty=!0,ht.selected===!0){var houseT={type_name:ht.type_name,housing_type_id:ht.housing_type_id,length:ht.length,material:ht.material,notes:ht.notes,amount:1};$scope.siteHouseTypesTable.push(houseT),$scope.showSiteHouseTable=!0}if(ht.selected===!1){if(void 0!==$scope.aSite.site_id){var sH_ID=$scope.siteHouseTypesTable.filter(function(h){return h.type_name==ht.type_name})[0].site_housing_id;$scope.siteHousesToRemove.push(sH_ID)}var i=$scope.siteHouseTypesTable.indexOf($scope.siteHouseTypesTable.filter(function(h){return h.type_name==ht.type_name})[0]);$scope.siteHouseTypesTable.splice(i,1),0===$scope.siteHouseTypesTable.length&&($scope.showSiteHouseTable=!1)}},$scope.showLandOwnerPart=function(){$scope.addLandowner=!0},$scope.updateCountyList=function(s){var thisState=$scope.StateList.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id})},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.deleteSite=function(){var thisSite=$scope.aSite,dSiteModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Delete Site</h3></div><div class="modal-body"><p>Are you sure you want to delete site {{siteNo}}?</p></div><div class="modal-footer"><button type="button" class="btn btn-danger" ng-click="deleteIt()">Delete</button><button type="button" class="btn btn-primary" ng-click="ok()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.siteNo=thisSite.site_no,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.deleteIt=function(){$uibModalInstance.close(thisSite)}}],size:"sm"});dSiteModal.result.then(function(s){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),SITE["delete"]({id:s.site_id}).$promise.then(function(){toastr.success("Site Removed");var sendBack="Deleted";$uibModalInstance.close(sendBack)},function(errorResponse){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.message=errorResponse.headers("usgswim-messages"),$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}],size:"sm"})})})},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteMapCtrl",["$scope","$rootScope","$cookies","$location","$state","SITE","siteHWMs","deploymentTypes","baroSensors","metSensors","rdgSensors","stormSensors","waveSensors","presTempSensors","thermSensors","webcamSensors","raingageSensors","leafletData","aSite",function($scope,$rootScope,$cookies,$location,$state,SITE,siteHWMs,deploymentTypes,baroSensors,metSensors,rdgSensors,stormSensors,waveSensors,presTempSensors,thermSensors,webcamSensors,raingageSensors,leafletData,aSite){if(void 0!==aSite){$scope.mapStuff="here's the map accordion content",$scope.thisSite=aSite,$scope.allSiteHWMs=siteHWMs,$scope.allSiteBaroSensors=baroSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteMetSensors=metSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteRDGSensors=rdgSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteStormSensors=stormSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteWaveSensors=waveSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSitePresTempSensors=presTempSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteThermSensors=thermSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteWebSensors=webcamSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteRainSensors=raingageSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allDeploymentTypes=deploymentTypes,$scope.paths={},$scope.markers=[],$scope.$watch(function(){return $cookies.get("SessionEventID")},function(newValue){if($scope.markers=[],getProximitySites(),$scope.markers.push({layer:"stnSites",message:"<div><b>This Site Name:</b> "+$scope.thisSite.site_no+"</div>",lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd,icon:icons.selected,title:"Site",eventID:0}),void 0!==newValue){for(var h=0;h<$scope.allSiteHWMs.length;h++){var eachHWM=$scope.allSiteHWMs[h];eachHWM.event_id==newValue&&$scope.markers.push({layer:"stnSites",message:"<div><b>HWM:</b> "+eachHWM.hwm_label+"</div>",lat:eachHWM.latitude_dd,lng:eachHWM.longitude_dd,icon:icons.hwmIcon,title:"HWM",eventID:eachHWM.event_id})}addSensors(newValue)}else{for(var noEventH=0;noEventH<$scope.allSiteHWMs.length;noEventH++){var eachnoEHWM=$scope.allSiteHWMs[noEventH];$scope.markers.push({layer:"stnSites",message:"<div><b>HWM:</b> "+eachnoEHWM.hwm_label+"</div>",lat:eachnoEHWM.latitude_dd,lng:eachnoEHWM.longitude_dd,icon:icons.hwmIcon,title:"HWM",eventID:eachnoEHWM.event_id})}addSensors(0)}});var addSensors=function(eventID){if(eventID>0){for(var bs=0;bs<$scope.allSiteBaroSensors.length;bs++){var bSensor=$scope.allSiteBaroSensors[bs];bSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Barometric Pressure Sensor Status:</b> "+bSensor.status+"</div>",lat:bSensor.latitude_dd,lng:bSensor.longitude_dd,icon:icons.baroIcon,title:"Baro Sensor",eventID:bSensor.event_id})}for(var ms=0;ms<$scope.allSiteMetSensors.length;ms++){var mSensor=$scope.allSiteMetSensors[ms];mSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==mSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+mSensor.status+"</div>",lat:mSensor.latitude_dd,lng:mSensor.longitude_dd,icon:icons.metIcon,title:"Met Sensor",eventID:mSensor.event_id})}for(var rs=0;rs<$scope.allSiteRDGSensors.length;rs++){var rSensor=$scope.allSiteRDGSensors[rs];rSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Rapid Deployment Sensor Status:</b> "+rSensor.status+"</div>",lat:rSensor.latitude_dd,lng:rSensor.longitude_dd,icon:icons.rdgIcon,title:"RDG Sensor",eventID:rSensor.event_id})}for(var ss=0;ss<$scope.allSiteStormSensors.length;ss++){var sSensor=$scope.allSiteStormSensors[ss];sSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==sSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+sSensor.status+"</div>",lat:sSensor.latitude_dd,lng:sSensor.longitude_dd,icon:icons.stormIcon,title:"Stormtide Sensor",eventID:sSensor.event_id})}for(var ws=0;ws<$scope.allSiteWaveSensors.length;ws++){var wSensor=$scope.allSiteWaveSensors[ws];wSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Wave Height Sensor Status:</b> "+wSensor.status+"</div>",lat:wSensor.latitude_dd,lng:wSensor.longitude_dd,icon:icons.waveIcon,title:"Waveheight Sensor",eventID:wSensor.event_id})}for(var ps=0;ps<$scope.allSitePresTempSensors.length;ps++){var pSensor=$scope.allSitePresTempSensors[ps];pSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==pSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+pSensor.status+"</div>",lat:pSensor.latitude_dd,lng:pSensor.longitude_dd,icon:icons.pressureIcon,title:"PressureTemp Sensor",eventID:pSensor.event_id})}for(var ts=0;ts<$scope.allSiteThermSensors.length;ts++){var tSensor=$scope.allSiteThermSensors[ts];tSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Temperature Sensor Status:</b> "+tSensor.status+"</div>",lat:tSensor.latitude_dd,lng:tSensor.longitude_dd,icon:icons.thermIcon,title:"Thermometer Sensor",eventID:tSensor.event_id})}for(var webs=0;webs<$scope.allSiteWebSensors.length;webs++){var webSensor=$scope.allSiteWebSensors[webs];webSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Webcam Sensor Status:</b> "+webSensor.status+"</div>",lat:webSensor.latitude_dd,lng:webSensor.longitude_dd,icon:icons.webcamIcon,title:"Webcam Sensor",eventID:webSensor.event_id})}for(var rains=0;rains<$scope.allSiteRainSensors.length;rains++){var rainSensor=$scope.allSiteRainSensors[rains];rainSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Rain gage Sensor Status:</b> "+rainSensor.status+"</div>",lat:rainSensor.latitude_dd,lng:rainSensor.longitude_dd,icon:icons.raingageIcon,title:"Raingage Sensor",eventID:rainSensor.event_id})}}else{for(var noEbs=0;noEbs<$scope.allSiteBaroSensors.length;noEbs++){var noEbSensor=$scope.allSiteBaroSensors[noEbs];$scope.markers.push({layer:"stnSites",message:"<div><b>Barometric Pressure Sensor Status:</b> "+noEbSensor.status+"</div>",lat:noEbSensor.latitude_dd,lng:noEbSensor.longitude_dd,icon:icons.baroIcon,title:"Baro Sensor",eventID:noEbSensor.event_id})}for(var noEms=0;noEms<$scope.allSiteMetSensors.length;noEms++){var noEmSensor=$scope.allSiteMetSensors[noEms];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEmSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEmSensor.status+"</div>",lat:noEmSensor.latitude_dd,lng:noEmSensor.longitude_dd,icon:icons.metIcon,title:"Met Sensor",eventID:noEmSensor.event_id})}for(var noErs=0;noErs<$scope.allSiteRDGSensors.length;noErs++){var noErSensor=$scope.allSiteRDGSensors[noErs];$scope.markers.push({layer:"stnSites",message:"<div><b>Rapid Deployment Sensor Status:</b> "+noErSensor.status+"</div>",lat:noErSensor.latitude_dd,lng:noErSensor.longitude_dd,icon:icons.rdgIcon,title:"RDG Sensor",eventID:noErSensor.event_id})}for(var noEss=0;noEss<$scope.allSiteStormSensors.length;noEss++){var noEsSensor=$scope.allSiteStormSensors[noEss];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEsSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEsSensor.status+"</div>",lat:noEsSensor.latitude_dd,lng:noEsSensor.longitude_dd,icon:icons.stormIcon,title:"Stormtide Sensor",eventID:noEsSensor.event_id})}for(var noEws=0;noEws<$scope.allSiteWaveSensors.length;noEws++){var noEwSensor=$scope.allSiteWaveSensors[noEws];$scope.markers.push({layer:"stnSites",message:"<div><b>Wave Height Sensor Status:</b> "+noEwSensor.status+"</div>",lat:noEwSensor.latitude_dd,lng:noEwSensor.longitude_dd,icon:icons.waveIcon,title:"Waveheight Sensor",eventID:noEwSensor.event_id})}for(var noEps=0;noEps<$scope.allSitePresTempSensors.length;noEps++){var noEpSensor=$scope.allSitePresTempSensors[noEps];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEpSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEpSensor.status+"</div>",lat:noEpSensor.latitude_dd,lng:noEpSensor.longitude_dd,icon:icons.pressureIcon,title:"PressureTemp Sensor",eventID:noEpSensor.event_id})}for(var noEts=0;noEts<$scope.allSiteThermSensors.length;noEts++){var noEtSensor=$scope.allSiteThermSensors[noEts];$scope.markers.push({layer:"stnSites",message:"<div><b>Temperature Sensor Status:</b> "+noEtSensor.status+"</div>",lat:noEtSensor.latitude_dd,lng:noEtSensor.longitude_dd,icon:icons.thermIcon,title:"Thermometer Sensor",eventID:noEtSensor.event_id})}for(var noEwebs=0;noEwebs<$scope.allSiteWebSensors.length;noEwebs++){var noEwebSensor=$scope.allSiteWebSensors[noEwebs];

$scope.markers.push({layer:"stnSites",message:"<div><b>Webcam Sensor Status:</b> "+noEwebSensor.status+"</div>",lat:noEwebSensor.latitude_dd,lng:noEwebSensor.longitude_dd,icon:icons.webcamIcon,title:"Webcam Sensor",eventID:noEwebSensor.event_id})}for(var noErains=0;noErains<$scope.allSiteRainSensors.length;noErains++){var noErainSensor=$scope.allSiteRainSensors[noErains];$scope.markers.push({layer:"stnSites",message:"<div><b>>Webcam Sensor Status:</b> "+noErainSensor.status+"</div>",lat:noErainSensor.latitude_dd,lng:noErainSensor.longitude_dd,icon:icons.raingageIcon,title:"Raingage Sensor",eventID:noErainSensor.event_id})}}},icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},selected:{type:"div",iconSize:[12,12],className:"selectedIcon"},hwmIcon:{type:"div",iconSize:[16,20],className:"stnHWMIcon"},baroIcon:{type:"div",iconSize:[16,20],className:"stnBaroSensorIcon"},metIcon:{type:"div",iconSize:[20,20],className:"stnMetSensorIcon"},rdgIcon:{type:"div",iconSize:[22,20],className:"stnRDGSensorIcon"},stormIcon:{type:"div",iconSize:[20,20],className:"stnStormSensorIcon"},waveIcon:{type:"div",iconSize:[20,20],className:"stnWaveSensorIcon"},pressureIcon:{type:"div",iconSize:[20,20],className:"stnPressureSensorIcon"},thermIcon:{type:"div",iconSize:[16,22],className:"stnThermSensorIcon"},webcamIcon:{type:"div",iconSize:[20,20],className:"stnWebcamSensorIcon"},raingageIcon:{type:"div",iconSize:[20,20],className:"stnRaingageSensorIcon"}};$scope.pathsObj={circleMarker:{type:"circleMarker",radius:20,weight:3,color:"#000099",latlngs:{}}};var addShape=function(){$scope.paths={},$scope.pathsObj.circleMarker.latlngs={lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd},$scope.paths.circleMarker=$scope.pathsObj.circleMarker};addShape(),angular.extend($scope,{mapCenter:{lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd,zoom:16,minZoom:16},markers:$scope.markers,markersLatLngArray:[],layers:{baselayers:{topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1}},overlays:{stnSites:{type:"markercluster",name:"STN Sites",visible:!0}}}});var getProximitySites=function(){SITE.getProximitySites({Latitude:$scope.thisSite.latitude_dd,Longitude:$scope.thisSite.longitude_dd,Buffer:.05},function(response){if($scope.closeSites=response,$scope.closeSites.length>0)for(var i=0;i<$scope.closeSites.length;i++){var a=$scope.closeSites[i];a.site_id!==$scope.thisSite.site_id&&$scope.markers.push({layer:"stnSites",message:"<div><b>Nearby Site Name:</b> "+a.site_no+"</div>",lat:a.latitude_dd,lng:a.longitude_dd,icon:icons.stn})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting proximity sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting proximity sites: "+errorResponse.statusText)})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteCtrl",["$scope","$state","$rootScope","$cookies","$location","$http","$uibModal","$filter","thisSite","latlong","thisSiteNetworkNames","thisSiteNetworkTypes","thisSiteHousings","SITE","MEMBER","FILE_TYPE","AGENCY","Site_Script","allHorDatums","allHorCollMethods","allStates","allCounties","allDeployPriorities","allHousingTypes","allNetworkNames","allNetworkTypes","allDeployTypes","allSensorTypes",function($scope,$state,$rootScope,$cookies,$location,$http,$uibModal,$filter,thisSite,latlong,thisSiteNetworkNames,thisSiteNetworkTypes,thisSiteHousings,SITE,MEMBER,FILE_TYPE,AGENCY,Site_Script,allHorDatums,allHorCollMethods,allStates,allCounties,allDeployPriorities,allHousingTypes,allNetworkNames,allNetworkTypes,allDeployTypes,allSensorTypes){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Site Dashboard",$scope.aSite={};var showScriptToast=function(){toastr.warning("Data File Scripts are processing for this site and can take several minutes. Check back to the site dashboard later or refresh to see if script is complete and new files are ready. The output csv file contains success/error information.",null,{closeButton:!0,positionClass:"toast-bottom-right",onclick:null,timeOut:0,extendedTimeOut:0})};if("true"==Site_Script.getIsScriptRunning()&&showScriptToast(),$scope.$on("siteDFScriptRunning",function(e,runningScript){"true"==runningScript?showScriptToast():toastr.clear()}),$scope.status={mapOpen:!1,siteOpen:!0,opOpen:!1,sensorOpen:!1,hwmOpen:!1,filesOpen:!1,peakOpen:!1},$scope.thisSiteHouseTypeModel=[],$scope.openSiteCreate=function(){$rootScope.stateIsLoading.showLoading=!0;var dropdownParts=[allHorDatums,allHorCollMethods,allStates,allCounties,allHousingTypes,allDeployPriorities,allNetworkNames,allNetworkTypes,allDeployTypes,allSensorTypes],siteNNamesToPass=[];if(void 0!==$scope.siteNetworkNames)for(var aNN=0;aNN<allNetworkNames.length;aNN++){var i=$scope.siteNetworkNames.map(function(e){return e}).indexOf(allNetworkNames[aNN].name);i>-1&&siteNNamesToPass.push(allNetworkNames[aNN])}var siteNTypesToPass=[];if(void 0!==$scope.siteNetworkTypes)for(var aNT=0;aNT<allNetworkTypes.length;aNT++){var a=$scope.siteNetworkTypes.map(function(e){return e}).indexOf(allNetworkTypes[aNT].network_type_name);a>-1&&siteNTypesToPass.push(allNetworkTypes[aNT])}var modalInstance=$uibModal.open({templateUrl:"SITEmodal.html",controller:"siteModalCtrl",size:"lg",keyboard:!1,backdrop:"static",windowClass:"rep-dialog",resolve:{allDropDownParts:function(){return dropdownParts},thisSiteStuff:function(){if(void 0!==$scope.aSite.site_id){var origSiteHouses=void 0!==$scope.originalSiteHousings?$scope.originalSiteHousings:[],sHouseTypeModel=$scope.thisSiteHouseTypeModel.length>0?$scope.thisSiteHouseTypeModel:[],sNetNames=siteNNamesToPass.length>0?siteNNamesToPass:[],sNetTypes=siteNTypesToPass.length>0?siteNTypesToPass:[],lo=void 0!==$scope.landowner?$scope.landowner:{},siteRelatedStuff=[$scope.aSite,origSiteHouses,sHouseTypeModel,sNetNames,sNetTypes,lo];return siteRelatedStuff}},fileTypes:function(){return FILE_TYPE.getAll().$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},agencyList:function(){return AGENCY.getAll().$promise},latlong:function(){return void 0!==latlong?latlong:void 0}}});modalInstance.result.then(function(r){"Deleted"!==r?($scope.aSite=r[0],getLandOwnerContact(),$scope.aSite.HorizontalDatum=$scope.aSite.hdatum_id>0?allHorDatums.filter(function(hd){return hd.datum_id==$scope.aSite.hdatum_id})[0].datum_name:"---",$scope.aSite.HorizontalCollectMethod=void 0!==$scope.aSite.hcollect_method_id&&$scope.aSite.hcollect_method_id>0?allHorCollMethods.filter(function(hc){return hc.hcollect_method_id==$scope.aSite.hcollect_method_id})[0].hcollect_method:"---",$scope.aSite.PriorityName=void 0!==$scope.aSite.priority_id&&$scope.aSite.priority_id>0?allDeployPriorities.filter(function(dp){return dp.priority_id==$scope.aSite.priority_id})[0].priority_name:"---",$scope.siteNetworkNames=r[1],$scope.siteNetworkTypes=r[2]):($scope.aSite={},$state.go("map")),$rootScope.stateIsLoading.showLoading=!1})},void 0!==thisSite)if(void 0!==thisSite.site_id){if($scope.aSite=thisSite,$scope.aSite.decDegORdms="dd",$scope.aSite.HorizontalDatum=$scope.aSite.hdatum_id>0?allHorDatums.filter(function(hd){return hd.datum_id==$scope.aSite.hdatum_id})[0].datum_name:"---",$scope.aSite.HorizontalCollectMethod=void 0!==$scope.aSite.hcollect_method_id&&$scope.aSite.hcollect_method_id>0?allHorCollMethods.filter(function(hc){return hc.hcollect_method_id==$scope.aSite.hcollect_method_id})[0].hcollect_method:"---",$scope.aSite.PriorityName=void 0!==$scope.aSite.priority_id&&$scope.aSite.priority_id>0?allDeployPriorities.filter(function(dp){return dp.priority_id==$scope.aSite.priority_id})[0].priority_name:"---",thisSiteHousings.length>0){$scope.originalSiteHousings=angular.copy(thisSiteHousings),$scope.showSiteHouseTable=!0;for(var z=0;z<$scope.originalSiteHousings.length;z++){var houseTypeName=allHousingTypes.filter(function(h){return h.housing_type_id==$scope.originalSiteHousings[z].housing_type_id})[0].type_name,houseT={type_name:houseTypeName,housing_type_id:$scope.originalSiteHousings[z].housing_type_id,site_housing_id:$scope.originalSiteHousings[z].site_housing_id,length:$scope.originalSiteHousings[z].length,material:$scope.originalSiteHousings[z].material,notes:$scope.originalSiteHousings[z].notes,amount:$scope.originalSiteHousings[z].amount};$scope.thisSiteHouseTypeModel.push(houseT)}}if($scope.siteNetworkNames=[],thisSiteNetworkNames.length>0)for(var a=0;a<thisSiteNetworkNames.length;a++){var nn=allNetworkNames.filter(function(n){return n.network_name_id==thisSiteNetworkNames[a].network_name_id})[0];$scope.siteNetworkNames.push(nn.name)}if($scope.siteNetworkTypes=[],thisSiteNetworkTypes.length>0)for(var b=0;b<thisSiteNetworkTypes.length;b++){var nt=allNetworkTypes.filter(function(nt){return nt.network_type_id==thisSiteNetworkTypes[b].network_type_id})[0];$scope.siteNetworkTypes.push(nt.network_type_name)}$scope.sensorNotAppr=void 0!==$scope.aSite.sensor_not_appropriate||$scope.aSite.sensor_not_appropriate>0?"Yes":"No",void 0!==$scope.aSite.member_id&&$scope.aSite.member_id>0?($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$scope.aSite.member_id}).$promise.then(function(response){$scope.aSite.Creator=response.fname+" "+response.lname},function(error){$scope.aSite.Creator="Not recorded"}).$promise):$scope.aSite.Creator="Not recorded";var getLandOwnerContact=function(){null!==$scope.aSite.landownercontact_id&&void 0!==$scope.aSite.landownercontact_id&&$scope.aSite.landownercontact_id>0&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SITE.getSiteLandOwner({id:$scope.aSite.site_id},function(response){$scope.landowner=response,$scope.addLandowner=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting landowner: "+errorResponse.headers(["usgswim-messages"]):"Error getting landowner: "+errorResponse.statusText)}).$promise)};getLandOwnerContact()}else toastr.error("This site does not exist"),$location.path("/Home").replace(),$scope.apply;else $scope.openSiteCreate()}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("quickCreateCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$sce","whichQuick","allHorDatums","allHorCollMethods","allStates","allCounties","allOPTypes","allVertDatums","allVertColMethods","allOPQualities","allHWMTypes","allHWMQualities","allMarkers","allEvents","allSensorTypes","allSensorBrands","allDeployTypes","allHousingTypes","SITE","OBJECTIVE_POINT","HWM","MEMBER","INSTRUMENT","INSTRUMENT_STATUS","OP_MEASURE","OP_CONTROL_IDENTIFIER","GEOCODE",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$sce,whichQuick,allHorDatums,allHorCollMethods,allStates,allCounties,allOPTypes,allVertDatums,allVertColMethods,allOPQualities,allHWMTypes,allHWMQualities,allMarkers,allEvents,allSensorTypes,allSensorBrands,allDeployTypes,allHousingTypes,SITE,OBJECTIVE_POINT,HWM,MEMBER,INSTRUMENT,INSTRUMENT_STATUS,OP_MEASURE,OP_CONTROL_IDENTIFIER,GEOCODE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.CreateWhat=whichQuick,$scope.htmlDescriptionTip=$sce.trustAsHtml("Required by NWIS. Can be listed as <em>'unknown'</em> or <em>'Atlantic Ocean'</em>"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")}).$promise.then(function(response){$scope.loggedInMember=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting logged in member: "+errorResponse.headers(["usgswim-messages"]):"Error getting logged in member: "+errorResponse.statusText)}),$rootScope.thisPage="Quick"+whichQuick,$scope.quickForm={};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if($scope.decDegORdms={},$scope.EventName=$cookies.get("SessionEventName"),$scope.aSite={member_id:$cookies.get("mID")},$scope.aOP={date_established:makeAdate("")},$scope.status={siteOpen:!0,opOpen:!1,hwmOpen:!1},$scope.removeOPCarray=[],$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.horDatumList=allHorDatums,$scope.horCollMethodList=allHorCollMethods,$scope.stateList=allStates,$scope.allCountyList=allCounties,$scope.stateCountyList=[],$scope.opTypeList=allOPTypes,$scope.vertDatumList=allVertDatums,$scope.vertCollMethodList=allVertColMethods,$scope.opQualList=allOPQualities,"HWM"==whichQuick&&($scope.aHWM={hwm_label:"hwm-1",hwm_environment:"Riverine",event_id:$cookies.get("SessionEventID"),bank:"N/A",flag_date:makeAdate(""),stillwater:0,flag_member_id:$cookies.get("mID")},$scope.hwmTypeList=allHWMTypes,$scope.hwmQualList=allHWMQualities,$scope.markerList=allMarkers),"Sensor"==whichQuick){var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.depTypeList=allDeployTypes,$scope.houseTypeList=allHousingTypes,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.aSensor={event_id:$cookies.get("SessionEventID")},$scope.aSensStatus={status_type_id:1,member_id:$cookies.get("mID")},$scope.eventList=allEvents,$scope.sensorTypeList=allSensorTypes,$scope.sensorBrandList=allSensorBrands,$scope.IntervalType={type:"Seconds"};var DeptimeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=DeptimeParts[0],$scope.aSensStatus.time_zone=DeptimeParts[1],$scope.getDepTypes=function(){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=allSensorTypes.filter(function(sd){return sd.sensor_type_id==$scope.aSensor.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes,1==$scope.filteredDeploymentTypes.length&&($scope.aSensor.deployment_type_id=$scope.filteredDeploymentTypes[0].deployment_type_id)}}$scope.FTorMETER="ft",$scope.FTorCM="ft",$scope.addNewIdentifier=function(){$scope.addedIdentifiers.push({identifier:"",identifier_type:""}),$scope.showControlIDinput=!0};var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aSensStatus.time_zone){var utcDateTime=new Date($scope.aSensStatus.time_stamp).toUTCString();$scope.aSensStatus.time_stamp=utcDateTime,$scope.aSensStatus.time_zone="UTC"}else{var i=$scope.aSensStatus.time_stamp.toString().indexOf("GMT")+3;$scope.aSensStatus.time_stamp=$scope.aSensStatus.time_stamp.toString().substring(0,i)}};$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.decDegORdms.val="dd",$scope.DMS={};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.decDegORdms.val)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec);else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.decDegORdms.val="dms"})}else if(void 0!==$scope.aSite.latitude_dd){var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d,direction){"dms"==d?("lat"==direction&&($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),"long"==direction&&($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0))):("lat"==direction&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)),"long"==direction&&($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)))},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getAddress=function(){if(delete $scope.aSite.address,delete $scope.aSite.city,delete $scope.aSite.state,$scope.stateCountyList=[],delete $scope.aSite.zip,void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),void 0===$scope.aSite.latitude_dd||void 0===$scope.aSite.longitude_dd||isNaN($scope.aSite.latitude_dd)||isNaN($scope.aSite.longitude_dd)){$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}else $rootScope.stateIsLoading.showLoading=!0,delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(void 0!==response.result)if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=void 0!==stateFIPS?$scope.allCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id:0,thisState=$scope.stateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName,$rootScope.stateIsLoading.showLoading=!1):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long");else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address. Choose State and County from dropdowns.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address: "+errorResponse.statusText)})},$scope.chooseQuality=function(){if(""!==$scope.aHWM.hwm_uncertainty){var x=Number($scope.aHWM.hwm_uncertainty);$scope.aHWM.hwm_quality_id=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){if(""!==$scope.aHWM.hwm_uncertainty&&void 0!==$scope.aHWM.hwm_uncertainty){var x=Number($scope.aHWM.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id;if($scope.aHWM.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1}),$scope.updateCountyList=function(s){var thisState=$scope.stateList.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.state_id==thisState.state_id})},$scope.UnquantChecked=function(){1==$scope.aOP.unquantified&&($scope.aOP.uncertainty=null)};var trimOP=function(op){var OBJ_PT={objective_point_id:void 0!==op.objective_point_id?op.objective_point_id:0,name:op.name,description:op.description,elev_ft:void 0!==op.elev_ft?op.elev_ft:null,date_established:op.date_established,op_is_destroyed:void 0!==op.op_is_destroyed?op.op_is_destroyed:0,op_notes:void 0!==op.op_notes?op.op_notes:null,site_id:op.site_id,vdatum_id:void 0!==op.vdatum_id?op.vdatum_id:0,latitude_dd:op.latitude_dd,longitude_dd:op.longitude_dd,hdatum_id:void 0!==op.hdatum_id?op.hdatum_id:0,hcollect_method_id:void 0!==op.hcollect_method_id?op.hcollect_method_id:0,vcollect_method_id:void 0!==op.vcollect_method_id?op.vcollect_method_id:0,op_type_id:op.op_type_id,date_recovered:void 0!==op.date_recovered?op.date_recovered:null,uncertainty:void 0!==op.uncertainty?op.uncertainty:null,unquantified:void 0!==op.unquantified?op.unquantified:null,op_quality_id:void 0!==op.op_quality_id?op.op_quality_id:null};return OBJ_PT};$scope.RemoveID=function(opControl){var i=$scope.addedIdentifiers.indexOf(opControl);void 0!==opControl.op_control_identifier_id?($scope.removeOPCarray.push(opControl),$scope.addedIdentifiers.splice(i,1)):$scope.addedIdentifiers.splice(i,1)};var formatDefaults=function(theOP){"meter"==theOP.FTorMETER&&($scope.aOP.FTorMETER="ft",$scope.aOP.elev_ft=3.2808*$scope.aOP.elev_ft),"cm"==theOP.FTorCM&&($scope.aOP.FTorCM="ft",$scope.aOP.uncertainty=$scope.aOP.uncertainty/30.48)};$scope.tapedown={Open:!1};var showNeedOPfirstModal=function(){var needOPModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">No Datum Location</h3></div><div class="modal-body"><p>In order to add tape down information, please populate the Datum Location section above first.</p><p>The following fields are required for the tape down section: <b>Name</b>, <b>Elevation</b> and <b>Vertical Datum</b>.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});needOPModal.result.then(function(){$scope.tapedown.Open=!1})};$scope.tapeDownTable=[],$scope.removeOP=function(){var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you don\'t want to add this OP Measurement to this quick sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){"remove"==yesOrNo&&($scope.tapedown.Open=!1,$scope.tapeDownTable.splice(0,1),$scope.OPsForTapeDown=[],$scope.OPMeasure={},$scope.addTapedown=!1,$scope.aSensStatus.sensor_elevation="",$scope.aSensStatus.ws_elevation="",$scope.aSensStatus.gs_elevation="",$scope.aSensStatus.vdatum_id="")})},$scope.addTapedown=!1,$scope.OPsForTapeDown=[],$scope.showTapedownPart=function(){$scope.tapeDownTable.length<1?void 0!==$scope.aOP.name&&void 0!==$scope.aOP.elev_ft&&void 0!==$scope.aOP.vdatum_id?($scope.OPMeasure={},$scope.OPMeasure.op_name=$scope.aOP.name,$scope.OPMeasure.elevation=$scope.aOP.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==$scope.aOP.vdatum_id})[0].datum_abbreviation,$scope.tapeDownTable.push($scope.OPMeasure),$scope.OPsForTapeDown.push($scope.aOP),$scope.addTapedown=!0,$scope.tapedown.Open=!0,$scope.aSensStatus.vdatum_id=$scope.aOP.vdatum_id):showNeedOPfirstModal():($scope.addTapedown=!0,$scope.tapedown.Open=!0)},$scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,$scope.create=function(){$rootScope.stateIsLoading.showLoading=!0;var theForm=$scope.quickForm.quick;if($scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,theForm.$valid)if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0===$scope.aSite.latitude_dd&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0===$scope.aSite.longitude_dd&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))openLatModal("latlong"),$rootScope.stateIsLoading.showLoading=!1,isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0);else if($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))openLongModal("latlong"),$rootScope.stateIsLoading.showLoading=!1,isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0);else{var createdSiteID=0;SITE.save($scope.aSite,function(response){createdSiteID=response.site_id,$scope.aOP.site_id=createdSiteID,$scope.aOP.latitude_dd=response.latitude_dd,$scope.aOP.longitude_dd=response.longitude_dd,$scope.aOP.hdatum_id=response.hdatum_id,$scope.aOP.hcollect_method_id=response.hcollect_method_id,"HWM"==$scope.CreateWhat&&($scope.aHWM.site_id=createdSiteID,$scope.aHWM.waterbody=response.waterbody,$scope.aHWM.latitude_dd=response.latitude_dd,$scope.aHWM.longitude_dd=response.longitude_dd,$scope.aHWM.hcollect_method_id=response.hcollect_method_id,$scope.aHWM.hdatum_id=response.hdatum_id,$scope.aHWM.flag_member_id=response.member_id,$scope.aHWM.event_id=$cookies.get("SessionEventID"));var createdOP={};formatDefaults($scope.aOP);var OPtoPOST=trimOP($scope.aOP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++){var thisOPControlID=$scope.addedIdentifiers[opc];thisOPControlID.objective_point_id=response.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOPControlID).$promise}if("HWM"==$scope.CreateWhat){void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),void 0!==$scope.aHWM.elev_ft&&(void 0===$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate("")),$scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),HWM.save($scope.aHWM).$promise.then(function(response){toastr.success("Quick HWM created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}if("Sensor"==$scope.CreateWhat){var createdSensor={};"Minutes"==$scope.IntervalType.type&&($scope.aSensor.interval=60*$scope.aSensor.interval),$scope.aSensor.site_id=createdSiteID,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save($scope.aSensor).$promise.then(function(response){instrumentID=response.instrument_id,createdSensor=response,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0){var thisTape=$scope.tapeDownTable[0];thisTape.instrument_status_id=statResponse.instrument_status_id,thisTape.objective_point_id=createdOP.objective_point_id,OP_MEASURE.save(thisTape).$promise}toastr.success("Quick Sensor created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText);

})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)})}else $rootScope.stateIsLoading.showLoading=!1,$scope.status.siteOpen=!0,$scope.status.opOpen=!0,$scope.status.hwmOpen=!0,angular.element("[name='"+theForm.$name+"']").find(".ng-invalid:visible:first").focus(),(theForm.site_description.$invalid||theForm.latitude_dd.$invalid||theForm.longitude_dd.$invalid||theForm.hdatum_id.$invalid||theForm.hcollect_method_id.$invalid||theForm.waterbody.$invalid||theForm.state.$invalidv||theForm.county.$invalid)&&($scope.siteErrors=!0),(theForm.op_type_id.$invalid||theForm.name.$invalid||theForm.description.$invalid||theForm.de.$invalid)&&($scope.opErrors=!0),(theForm.hwm_type_id.$invalid||theForm.hwm_environment.$invalid||theForm.hwm_quality_id.$invalid||theForm.fd.$invalid)&&($scope.hwmErrors=!0),toastr.error("Quick HWM not created.")}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("resourcesCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$filter","$uibModal","AGENCY","CONTACT_TYPE","DEPLOYMENT_PRIORITY","EVENT_STATUS","EVENT_TYPE","FILE_TYPE","HORIZONTAL_COLL_METHODS","HORIZONTAL_DATUM","HOUSING_TYPE","HWM_QUALITY","HWM_TYPE","INST_COLL_CONDITION","MARKER","NETWORK_NAME","OP_QUALITY","OP_TYPE","SENSOR_BRAND","DEPLOYMENT_TYPE","SENSOR_TYPE","NETWORK_TYPE","STATUS_TYPE","VERTICAL_COLL_METHOD","VERTICAL_DATUM","allStates","allAgencies","allContactTypes","allDeployPriorities","allEventStats","allEventTypes","allFileTypes","allHorCollMethods","allHorDatums","allHouseTypes","allHWMqualities","allHWMtypes","allInstCollectConditions","allMarkers","allNetworkNames","allObjPtQualities","allObjPtTypes","allSensorBrands","allDeploymentTypes","allStatusTypes","allSensorTypes","allNetworkTypes","allVerticalCollMethods","allVerticalDatums",function($scope,$rootScope,$cookies,$location,$state,$http,$filter,$uibModal,AGENCY,CONTACT_TYPE,DEPLOYMENT_PRIORITY,EVENT_STATUS,EVENT_TYPE,FILE_TYPE,HORIZONTAL_COLL_METHODS,HORIZONTAL_DATUM,HOUSING_TYPE,HWM_QUALITY,HWM_TYPE,INST_COLL_CONDITION,MARKER,NETWORK_NAME,OP_QUALITY,OP_TYPE,SENSOR_BRAND,DEPLOYMENT_TYPE,SENSOR_TYPE,NETWORK_TYPE,STATUS_TYPE,VERTICAL_COLL_METHOD,VERTICAL_DATUM,allStates,allAgencies,allContactTypes,allDeployPriorities,allEventStats,allEventTypes,allFileTypes,allHorCollMethods,allHorDatums,allHouseTypes,allHWMqualities,allHWMtypes,allInstCollectConditions,allMarkers,allNetworkNames,allObjPtQualities,allObjPtTypes,allSensorBrands,allDeploymentTypes,allStatusTypes,allSensorTypes,allNetworkTypes,allVerticalCollMethods,allVerticalDatums){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings/Resources",$scope.accountRole=$cookies.get("usersRole"),$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.lookupForm={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,$scope.activeMenu="",$scope.stateList=allStates,$scope.agencyList=allAgencies,$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,$scope.newAg={},$scope.showAddAgClicked=function(){$scope.showAddAgForm=!0,$scope.addAgButtonShowing=!1},$scope.NeverMindAg=function(){$scope.newAg={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0},$scope.AddAgency=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",AGENCY.save($scope.newAg,function(response){$scope.agencyList.push(response),$scope.newAg={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,toastr.success("Agency Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating agency: "+errorResponse.headers(["usgswim-messages"]):"Error creating agency: "+errorResponse.statusText)}))},$scope.saveAgency=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",AGENCY.update({id:id},data,function(response){retur=response,toastr.success("Agency Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving agency: "+errorResponse.headers(["usgswim-messages"]):"Error saving agency: "+errorResponse.statusText)}),retur},$scope.deleteAgency=function(ag){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ag},what:function(){return"Agency"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.agencyList.indexOf(ag);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),AGENCY["delete"]({id:ag.agency_id},ag,function(response){$scope.agencyList.splice(index,1),toastr.success("Agency Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting agency: "+errorResponse.headers(["usgswim-messages"]):"Error deleting agency: "+errorResponse.statusText)})},function(){})},$scope.showStateAbbrev=function(a){var selected=[];return a.state&&(selected=$filter("filter")($scope.stateList,{state_abbrev:a.state})),selected.length?selected[0].state_abbrev:""},$scope.contactTypeList=allContactTypes,$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0,$scope.newCT={},$scope.showAddCTClicked=function(){$scope.showAddCTForm=!0,$scope.addCTButtonShowing=!1},$scope.NeverMindCT=function(){$scope.newCT={},$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0},$scope.AddContactType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT_TYPE.save($scope.newCT,function(response){$scope.contactTypeList.push(response),$scope.newCT={},$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0,toastr.success("Contact Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating contact type: "+errorResponse.headers(["usgswim-messages"]):"Error creating contact type: "+errorResponse.statusText)}))},$scope.saveContactType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Contact Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating contact type: "+errorResponse.headers(["usgswim-messages"]):"Error updating contact type: "+errorResponse.statusText)}),retur},$scope.deleteContactType=function(ct){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ct},what:function(){return"Contact Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.contactTypeList.indexOf(ct);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),CONTACT_TYPE["delete"]({id:ct.contact_type_id},ct,function(response){$scope.contactTypeList.splice(index,1),toastr.success("Contact Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting contact type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting contact type: "+errorResponse.statusText)})})},$scope.deployPriorityList=allDeployPriorities,$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0,$scope.newDP={},$scope.showAddDPClicked=function(){$scope.showAddDPForm=!0,$scope.addDPButtonShowing=!1},$scope.NeverMindDP=function(){$scope.newDP={},$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0},$scope.AddDepPriority=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_PRIORITY.save($scope.newDP,function(response){$scope.deployPriorityList.push(response),$scope.newDP={},$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0,toastr.success("Deployment Priority Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error creating deployment priority: "+errorResponse.statusText)}))},$scope.saveDepPriority=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_PRIORITY.update({id:id},data,function(response){retur=response,toastr.success("Deployment Priority Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error saving deployment priority: "+errorResponse.statusText)}),retur},$scope.deleteDepPriority=function(dp){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return dp},what:function(){return"Deployment Priority"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.deployPriorityList.indexOf(dp);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DEPLOYMENT_PRIORITY["delete"]({id:dp.priority_id},dp,function(response){$scope.deployPriorityList.splice(index,1),toastr.success("Deployment Priority Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error deleting deployment priority: "+errorResponse.statusText)})})},$scope.eventStatList=allEventStats,$scope.showAddESForm=!1,$scope.addESButtonShowing=!0,$scope.newES={},$scope.showAddESClicked=function(){$scope.showAddESForm=!0,$scope.addESButtonShowing=!1},$scope.NeverMindES=function(){$scope.newES={},$scope.showAddESForm=!1,$scope.addESButtonShowing=!0},$scope.AddEventStat=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_STATUS.save($scope.newES,function(response){$scope.eventStatList.push(response),$scope.newES={},$scope.showAddESForm=!1,$scope.addESButtonShowing=!0,toastr.success("Event Status Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating event status: "+errorResponse.headers(["usgswim-messages"]):"Error creating event status: "+errorResponse.statusText)}))},$scope.saveEventStat=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_STATUS.update({id:id},data,function(response){retur=response,toastr.success("Event Status Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving event status: "+errorResponse.headers(["usgswim-messages"]):"Error saving event status: "+errorResponse.statusText)}),retur},$scope.deleteEventStat=function(es){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return es},what:function(){return"Event Status"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.eventStatList.indexOf(es);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT_STATUS["delete"]({id:es.event_status_id},es,function(response){$scope.eventStatList.splice(index,1),toastr.success("Event Status Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting event status: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event status: "+errorResponse.statusText)})})},$scope.eventTypeList=allEventTypes,$scope.showAddETForm=!1,$scope.addETButtonShowing=!0,$scope.newET={},$scope.showAddETClicked=function(){$scope.showAddETForm=!0,$scope.addETButtonShowing=!1},$scope.NeverMindET=function(){$scope.newET={},$scope.showAddETForm=!1,$scope.addETButtonShowing=!0},$scope.AddEventType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_TYPE.save($scope.newET,function(response){$scope.eventTypeList.push(response),$scope.newET={},$scope.showAddETForm=!1,$scope.addETButtonShowing=!0,toastr.success("Event Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating event type: "+errorResponse.headers(["usgswim-messages"]):"Error creating event type: "+errorResponse.statusText)}))},$scope.saveEventType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Event Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving event type: "+errorResponse.headers(["usgswim-messages"]):"Error saving event type: "+errorResponse.statusText)}),retur},$scope.deleteEventType=function(et){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return et},what:function(){return"Event Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.eventTypeList.indexOf(et);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT_TYPE["delete"]({id:et.event_type_id},et,function(response){$scope.eventTypeList.splice(index,1),toastr.success("Event Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting event type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event type: "+errorResponse.statusText)})})},$scope.fileTypeList=allFileTypes,$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0,$scope.newFT={},$scope.showAddFTClicked=function(){$scope.showAddFTForm=!0,$scope.addFTButtonShowing=!1},$scope.NeverMindFT=function(){$scope.newFT={},$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0},$scope.AddFileType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",FILE_TYPE.save($scope.newFT,function(response){$scope.fileTypeList.push(response),$scope.newFT={},$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0,toastr.success("File Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file type: "+errorResponse.headers(["usgswim-messages"]):"Error creating file type: "+errorResponse.statusText)}))},$scope.saveFileType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",FILE_TYPE.update({id:id},data,function(response){retur=response,toastr.success("File Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file type: "+errorResponse.headers(["usgswim-messages"]):"Error saving file type: "+errorResponse.statusText)}),retur},$scope.deleteFileType=function(ft){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ft},what:function(){return"File Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.fileTypeList.indexOf(ft);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE_TYPE["delete"]({id:ft.filetype_id},ft,function(response){$scope.fileTypeList.splice(index,1),toastr.success("File Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file type: "+errorResponse.statusText)})})},$scope.horColMethList=allHorCollMethods,$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0,$scope.newHCM={},$scope.showAddHCMClicked=function(){$scope.showAddHCMForm=!0,$scope.addHCMButtonShowing=!1},$scope.NeverMindHCM=function(){$scope.newHCM={},$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0},$scope.AddHorCollMethod=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_COLL_METHODS.save($scope.newHCM,function(response){$scope.horColMethList.push(response),$scope.newHCM={},$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0,toastr.success("Horizontal Collection Method Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error creating horizontal collection method: "+errorResponse.statusText)}))},$scope.saveHorCollMethod=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_COLL_METHODS.update({id:id},data,function(response){retur=response,toastr.success("Horizontal Collection Method Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error saving horizontal collection method: "+errorResponse.statusText)}),retur},$scope.deleteHorCollMethod=function(hcm){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hcm},what:function(){return"Horizontal Collection Method"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.horColMethList.indexOf(hcm);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HORIZONTAL_COLL_METHODS["delete"]({id:hcm.hcollect_method_id},hcm,function(response){$scope.horColMethList.splice(index,1),toastr.success("Horizontal Collection Method Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error deleting horizontal collection method: "+errorResponse.statusText)})})},$scope.horDatList=allHorDatums,$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0,$scope.newHD={},$scope.showAddHDClicked=function(){$scope.showAddHDForm=!0,$scope.addHDButtonShowing=!1},$scope.NeverMindHD=function(){$scope.newHD={},$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0},$scope.AddHorDatum=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_DATUM.save($scope.newHD,function(response){$scope.horDatList.push(response),$scope.newHD={},$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0,toastr.success("Horizontal Datum Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error creating horizontal datum: "+errorResponse.statusText)}))},$scope.saveHorDatum=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_DATUM.update({id:id},data,function(response){retur=response,toastr.success("Horizontal Datum Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error saving horizontal datum: "+errorResponse.statusText)}),retur},$scope.deleteHorDatum=function(hd){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hd},what:function(){return"Horizontal Datum"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.horDatList.indexOf(hd);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HORIZONTAL_DATUM["delete"]({id:hd.datum_id},hd,function(response){$scope.horDatList.splice(index,1),toastr.success("Horizontal Datum Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error deleting horizontal datum: "+errorResponse.statusText)})})},$scope.houseTypeList=allHouseTypes,$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0,$scope.newHT={},$scope.showAddHTClicked=function(){$scope.showAddHTForm=!0,$scope.addHTButtonShowing=!1},$scope.NeverMindHT=function(){$scope.newHT={},$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0},$scope.AddHouseType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HOUSING_TYPE.save($scope.newHT,function(response){$scope.houseTypeList.push(response),$scope.newHT={},$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0,toastr.success("Housing Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating housing type: "+errorResponse.headers(["usgswim-messages"]):"Error creating housing type: "+errorResponse.statusText)}))},$scope.saveHouseType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HOUSING_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Housing Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving housing type: "+errorResponse.headers(["usgswim-messages"]):"Error saving housing type: "+errorResponse.statusText)}),retur},$scope.deleteHouseType=function(ht){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ht},what:function(){return"Housing Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.houseTypeList.indexOf(ht);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HOUSING_TYPE["delete"]({id:ht.housing_type_id},ht,function(response){$scope.houseTypeList.splice(index,1),toastr.success("Housing Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting housing type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting housing type: "+errorResponse.statusText)})})},$scope.hwmQualList=allHWMqualities,$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0,$scope.newHWMQ={},$scope.showAddHWMQClicked=function(){$scope.showAddHWMQForm=!0,$scope.addHWMQButtonShowing=!1},$scope.NeverMindHWMQ=function(){$scope.newHWMQ={},$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0},$scope.AddHwmQuality=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_QUALITY.save($scope.newHWMQ,function(response){$scope.hwmQualList.push(response),$scope.newHWMQ={},$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0,toastr.success("HWM Quality Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm quality: "+errorResponse.statusText)}))},$scope.saveHwmQuality=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_QUALITY.update({id:id},data,function(response){retur=response,toastr.success("HWM Quality Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm quality: "+errorResponse.statusText)}),retur},$scope.deleteHwmQuality=function(hwmq){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwmq},what:function(){return"HWM Quality"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.hwmQualList.indexOf(hwmq);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM_QUALITY["delete"]({id:hwmq.hwm_quality_id},hwmq,function(response){$scope.hwmQualList.splice(index,1),toastr.success("HWM Quality Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm quality: "+errorResponse.statusText)})})},$scope.hwmTypeList=allHWMtypes,$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0,$scope.newHWMT={},$scope.showAddHWMTClicked=function(){$scope.showAddHWMTForm=!0,$scope.addHWMTButtonShowing=!1},$scope.NeverMindHWMT=function(){$scope.newHWMT={},$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0},$scope.AddHwmType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_TYPE.save($scope.newHWMT,function(response){$scope.hwmTypeList.push(response),$scope.newHWMT={},$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0,toastr.success("HWM Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm type: "+errorResponse.statusText)}))},$scope.saveHwmType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_TYPE.update({id:id},data,function(response){retur=response,toastr.success("HWM Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm type: "+errorResponse.statusText)}),retur},$scope.deleteHwmType=function(hwmt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwmt},what:function(){return"HWM Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.hwmTypeList.indexOf(hwmt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM_TYPE["delete"]({id:hwmt.hwm_type_id},hwmt,function(response){$scope.hwmTypeList.splice(index,1),toastr.success("HWM Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm type: "+errorResponse.statusText)})})},$scope.instColCondList=allInstCollectConditions,$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0,$scope.newICC={},$scope.showAddICCClicked=function(){$scope.showAddICCForm=!0,$scope.addICCButtonShowing=!1},$scope.NeverMindICC=function(){$scope.newICC={},$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0},$scope.AddInstColCond=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INST_COLL_CONDITION.save($scope.newICC,function(response){$scope.instColCondList.push(response),$scope.newICC={},$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0,toastr.success("Instrument Collection Condition Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error creating instrument collection condition: "+errorResponse.statusText)}))},$scope.saveInstColCond=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INST_COLL_CONDITION.update({id:id},data,function(response){retur=response,toastr.success("Instrument Collection Condition Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error saving instrument collection condition: "+errorResponse.statusText)}),retur},$scope.deleteInstColCond=function(icc){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return icc},what:function(){return"Instrument Collection Condition"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.instColCondList.indexOf(icc);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INST_COLL_CONDITION["delete"]({id:icc.id},icc,function(response){$scope.instColCondList.splice(index,1),toastr.success("Instrument Collection Condition Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error deleting instrument collection condition: "+errorResponse.statusText)})})},$scope.markList=allMarkers,$scope.showAddMForm=!1,$scope.addMButtonShowing=!0,$scope.newM={},$scope.showAddMClicked=function(){$scope.showAddMForm=!0,$scope.addMButtonShowing=!1},$scope.NeverMindM=function(){$scope.newM={},$scope.showAddMForm=!1,$scope.addMButtonShowing=!0},$scope.AddMarker=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MARKER.save($scope.newM,function(response){$scope.markList.push(response),$scope.newM={},$scope.showAddMForm=!1,$scope.addMButtonShowing=!0,toastr.success("Marker Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating marker: "+errorResponse.headers(["usgswim-messages"]):"Error creating marker: "+errorResponse.statusText)}))},$scope.saveMarker=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MARKER.update({id:id},data,function(response){
retur=response,toastr.success("Marker Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving marker: "+errorResponse.headers(["usgswim-messages"]):"Error saving marker: "+errorResponse.statusText)}),retur},$scope.deleteMarker=function(m){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return m},what:function(){return"Marker"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.markList.indexOf(m);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MARKER["delete"]({id:m.marker_id},m,function(response){$scope.markList.splice(index,1),toastr.success("Marker Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting marker: "+errorResponse.headers(["usgswim-messages"]):"Error deleting marker: "+errorResponse.statusText)})})},$scope.netNameList=allNetworkNames,$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0,$scope.newNN={},$scope.showAddNNClicked=function(){$scope.showAddNNForm=!0,$scope.addNNButtonShowing=!1},$scope.NeverMindNN=function(){$scope.newNN={},$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0},$scope.AddNetworkName=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_NAME.save($scope.newNN,function(response){$scope.netNameList.push(response),$scope.newNN={},$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0,toastr.success("Network Name Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating network name: "+errorResponse.headers(["usgswim-messages"]):"Error creating network name: "+errorResponse.statusText)}))},$scope.saveNetworkName=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_NAME.update({id:id},data,function(response){retur=response,toastr.success("Network Name Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving network name: "+errorResponse.headers(["usgswim-messages"]):"Error saving network name: "+errorResponse.statusText)}),retur},$scope.deleteNetworkName=function(nn){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return nn},what:function(){return"Network Name"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.netNameList.indexOf(nn);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),NETWORK_NAME["delete"]({id:nn.network_name_id},nn,function(response){$scope.netNameList.splice(index,1),toastr.success("Network Name Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting network name: "+errorResponse.headers(["usgswim-messages"]):"Error deleting network name: "+errorResponse.statusText)})})},$scope.opQualList=allObjPtQualities,$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0,$scope.newOPQ={},$scope.showAddOPQClicked=function(){$scope.showAddOPQForm=!0,$scope.addOPQButtonShowing=!1},$scope.NeverMindOPQ=function(){$scope.newOPQ={},$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0},$scope.AddOPQuality=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_QUALITY.save($scope.newOPQ,function(response){$scope.opQualList.push(response),$scope.newOPQ={},$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0,toastr.success("Datum Location Quality Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location quality: "+errorResponse.statusText)}))},$scope.saveOPQuality=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_QUALITY.update({id:id},data,function(response){retur=response,toastr.success("Datum Location Quality Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location quality: "+errorResponse.statusText)}),retur},$scope.deleteOPQuality=function(opq){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return opq},what:function(){return"Objective Point Quality"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.opQualList.indexOf(opq);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OP_QUALITY["delete"]({id:opq.op_quality_id},opq,function(response){$scope.opQualList.splice(index,1),toastr.success("Datum Location Quality Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location quality: "+errorResponse.statusText)})})},$scope.opTypeList=allObjPtTypes,$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0,$scope.newOPT={},$scope.showAddOPTClicked=function(){$scope.showAddOPTForm=!0,$scope.addOPTButtonShowing=!1},$scope.NeverMindOPT=function(){$scope.newOPT={},$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0},$scope.AddOPType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_TYPE.save($scope.newOPT,function(response){$scope.opTypeList.push(response),$scope.newOPT={},$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0,toastr.success("Datum Location Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location type: "+errorResponse.statusText)}))},$scope.saveOPType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Datum Location Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location type: "+errorResponse.statusText)}),retur},$scope.deleteOPType=function(opt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return opt},what:function(){return"Objective Point Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.opTypeList.indexOf(opt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OP_TYPE["delete"]({id:opt.objective_point_type_id},opt,function(response){$scope.opTypeList.splice(index,1),toastr.success("Datum Location Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location type: "+errorResponse.statusText)})})},$scope.sensBrandList=allSensorBrands,$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0,$scope.newSB={},$scope.showAddSBClicked=function(){$scope.showAddSBForm=!0,$scope.addSBButtonShowing=!1},$scope.NeverMindSB=function(){$scope.newSB={},$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0},$scope.AddSensorBrand=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_BRAND.save($scope.newSB,function(response){$scope.sensBrandList.push(response),$scope.newSB={},$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0,toastr.success("Sensor Brand Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor brand: "+errorResponse.statusText)}))},$scope.saveSensorBrand=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_BRAND.update({id:id},data,function(response){retur=response,toastr.success("Sensor Brand Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor brand: "+errorResponse.statusText)}),retur},$scope.deleteSensorBrand=function(sb){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return sb},what:function(){return"Sensor Brand"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.sensBrandList.indexOf(sb);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),SENSOR_BRAND["delete"]({id:sb.sensor_brand_id},sb,function(response){$scope.sensBrandList.splice(index,1),toastr.success("Sensor Brand Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor brand: "+errorResponse.statusText)})})},$scope.depTypeList=allDeploymentTypes,$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0,$scope.newDT={},$scope.showAddDTClicked=function(){$scope.showAddDTForm=!0,$scope.addDTButtonShowing=!1},$scope.NeverMindDT=function(){$scope.newDT={},$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0},$scope.AddDepType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_TYPE.save($scope.newDT,function(response){$scope.depTypeList.push(response),$scope.newDT={},$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0,toastr.success("Deployment Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error creating deployment type: "+errorResponse.statusText)}))},$scope.saveDepType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Deployment Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error saving deployment type: "+errorResponse.statusText)}),retur},$scope.deleteDepType=function(dt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return dt},what:function(){return"Deployment Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.depTypeList.indexOf(dt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DEPLOYMENT_TYPE["delete"]({id:dt.deployment_type_id},dt,function(response){$scope.depTypeList.splice(index,1),toastr.success("Deployment Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting deployment type: "+errorResponse.statusText)})})},$scope.statTypeList=allStatusTypes,$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0,$scope.newStatT={},$scope.showAddStatTClicked=function(){$scope.showAddStatTForm=!0,$scope.addStatTButtonShowing=!1},$scope.NeverMindStatT=function(){$scope.newStatT={},$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0},$scope.AddStatusType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",STATUS_TYPE.save($scope.newStatT,function(response){$scope.statTypeList.push(response),$scope.newStatTT={},$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0,toastr.success("Status Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating status type: "+errorResponse.headers(["usgswim-messages"]):"Error creating status type: "+errorResponse.statusText)}))},$scope.saveStatusType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",STATUS_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Status Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving status type: "+errorResponse.headers(["usgswim-messages"]):"Error saving status type: "+errorResponse.statusText)}),retur},$scope.deleteStatusType=function(statT){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return statT},what:function(){return"Status Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.statTypeList.indexOf(statT);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),STATUS_TYPE["delete"]({id:statT.status_type_id},statT,function(response){$scope.statTypeList.splice(index,1),toastr.success("Status Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting status type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting status type: "+errorResponse.statusText)})})},$scope.sensTypeList=allSensorTypes,$scope.newDepTypeRelating=[],$scope.commaSepDepMETHODS=[],$scope.formattedSensTypeList=[],$scope.sensTypeList.forEach(function(sensType){SENSOR_TYPE.getSensorDeploymentTypes({id:sensType.sensor_type_id},function(response){var deps=response;sensType.DepTypes=[];var DepMStrings=[];sensType.DepMETHODStrings="",deps.length>0&&deps.forEach(function(d){sensType.DepTypes.push(d.deployment_type_id),DepMStrings.push(d.method),sensType.DepMETHODStrings=DepMStrings.join(", ")}),$scope.formattedSensTypeList.push(sensType)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor deployment types: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor deployment types: "+errorResponse.statusText)}).$promise}),$scope.showDepTypes=function(SenT){var selected=[];return angular.forEach($scope.depTypeList,function(s){SenT.DepTypes.indexOf(s.deployment_type_id)>=0&&selected.push(s.method)}),selected.length?selected.join(", "):""},$scope.removeTheseDepTypes=[],$scope.checkListCheck=function(originalChecked,nowChecked){nowChecked.length<originalChecked.length&&angular.forEach(originalChecked,function(oc){if(nowChecked.indexOf(oc)<0){var deleteDep=$scope.depTypeList.filter(function(dt){return dt.deployment_type_id==oc})[0];if($scope.removeTheseDepTypes.length>0)for(var d=0;d<$scope.removeTheseDepTypes.length;d++)$scope.removeTheseDepTypes[d].deployment_type_id==deleteDep.deployment_type_id?d=$scope.newDepTypeRelating.length:$scope.removeTheseDepTypes.push(deleteDep);else $scope.removeTheseDepTypes.push(deleteDep)}})},$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0,$scope.newSenT={},$scope.showAddSenTClicked=function(){$scope.showAddSenTForm=!0,$scope.addSenTButtonShowing=!1},$scope.NeverMindSenT=function(){$scope.newSenT={},$scope.newDepTypeRelating=[],angular.forEach($scope.depTypeList,function(d){d.selected=!1}),$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0},$scope.addDepTypeToNewSenT=function(dt){if(dt.selected===!0){if($scope.newDepTypeRelating.length>0)for(var d=0;d<$scope.newDepTypeRelating.length;d++)$scope.newDepTypeRelating[d].deployment_type_id==dt.deployment_type_id?d=$scope.newDepTypeRelating.length:($scope.newDepTypeRelating.push(dt),d=$scope.newDepTypeRelating.length);0===$scope.newDepTypeRelating.length&&$scope.newDepTypeRelating.push(dt)}},$scope.AddSensorType=function(valid){if(valid){var newSensor={},relatedDeps=[];$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_TYPE.save($scope.newSenT,function(response){newSensor=response,$scope.newSenT={},$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0,$scope.newDepTypeRelating.length>0&&angular.forEach($scope.newDepTypeRelating,function(ndt){delete ndt.selected,relatedDeps.push(ndt.deployment_type_id),SENSOR_TYPE.addSensorDeploymentType({sensorTypeId:newSensor.sensor_type_id,deploymentTypeId:ndt.deployment_type_id},function(response1){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error adding sensor deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error adding sensor deployment type: "+errorResponse.statusText)})}),newSensor.DepTypes=relatedDeps,$scope.formattedSensTypeList.push(newSensor),toastr.success("Sensor Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor type: "+errorResponse.statusText)})}},$scope.saveSensorType=function(data,id){var retur=!1;$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var DTs=({sensor_type_id:data.sensor_type_id,sensor:data.sensor},[]);return angular.forEach($scope.depTypeList,function(s){if(data.DepTypes.indexOf(s.deployment_type_id)>=0){var thisDT={deployment_type_id:s.deployment_type_id,method:s.method};DTs.push(thisDT)}}),SENSOR_TYPE.update({id:id},data,function(response){retur=response,angular.forEach(DTs,function(dt){SENSOR_TYPE.addSensorDeploymentType({sensorTypeId:id,deploymentTypeId:ndt.deployment_type_id},dt,function(response1){toastr.success("Deployment Type is now related")},function(errorResponse1){toastr.error(void 0!==errorResponse1.headers(["usgswim-messages"])?"Error relating deployment type: "+errorResponse1.headers(["usgswim-messages"]):"Error relating deployment type: "+errorResponse1.statusText)})}),toastr.success("Sensor Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor type: "+errorResponse.statusText)}).$promise.then(angular.forEach($scope.removeTheseDepTypes,function(rdt){SENSOR_TYPE.removeSensorDeploymentType({sensorTypeId:id,DeploymentTypeId:rdt.deployment_type_id},function(response2){toastr.success("Deployment Type is no longer related")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unrelating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error unrelating deployment type: "+errorResponse.statusText)})})),retur},$scope.deleteSensorType=function(senT){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return senT},what:function(){return"Sensor Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.formattedSensTypeList.indexOf(senT),ST={sensor_type_id:senT.sensor_type_id,sensor:senT.sensor};$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),angular.forEach($scope.depTypeList,function(s){if(senT.DepTypes.indexOf(s.deployment_type_id)>=0){var thisDT={deployment_type_id:s.deployment_type_id,method:s.method};SENSOR_TYPE.removeSensorDeploymentType({sensorTypeId:ST.sensor_type_id,DeploymentTypeId:thisDT.deployment_type_id},function(response2){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unrelating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error unrelating deployment type: "+errorResponse.statusText)})}}),SENSOR_TYPE["delete"]({id:ST.sensor_type_id},ST,function(response){$scope.formattedSensTypeList.splice(index,1),toastr.success("Sensor Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor type: "+errorResponse.statusText)})})},$scope.netTypeList=allNetworkTypes,$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0,$scope.newNT={},$scope.showAddNTClicked=function(){$scope.showAddNTForm=!0,$scope.addNTButtonShowing=!1},$scope.NeverMindNT=function(){$scope.newNT={},$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0},$scope.AddNetType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_TYPE.save($scope.newNT,function(response){$scope.netTypeList.push(response),$scope.newNT={},$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0,toastr.success("Network Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating network type: "+errorResponse.headers(["usgswim-messages"]):"Error creating network type: "+errorResponse.statusText)}))},$scope.saveNetType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Network Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving network type: "+errorResponse.headers(["usgswim-messages"]):"Error saving network type: "+errorResponse.statusText)}),retur},$scope.deleteNetType=function(nt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return nt},what:function(){return"Network Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.netTypeList.indexOf(nt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),NETWORK_TYPE["delete"]({id:nt.network_type_id},nt,function(response){$scope.netTypeList.splice(index,1),toastr.success("Network Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting network type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting network type: "+errorResponse.statusText)})})},$scope.vertColMethList=allVerticalCollMethods,$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0,$scope.newVCM={},$scope.showAddVCMClicked=function(){$scope.showAddVCMForm=!0,$scope.addVCMButtonShowing=!1},$scope.NeverMindVCM=function(){$scope.newVCM={},$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0},$scope.AddVertColMeth=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_COLL_METHOD.save($scope.newVCM,function(response){$scope.vertColMethList.push(response),$scope.newVCM={},$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0,toastr.success("Vertical Collection Method Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error creating vertical collection method: "+errorResponse.statusText)}))},$scope.saveVertColMeth=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_COLL_METHOD.update({id:id},data,function(response){retur=response,toastr.success("Vertical Collection Method Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error saving vertical collection method: "+errorResponse.statusText)}),retur},$scope.deleteVertColMeth=function(vcm){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return vcm},what:function(){return"Vertical Collection Method"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.vertColMethList.indexOf(vcm);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),VERTICAL_COLL_METHOD["delete"]({id:vcm.vcollect_method_id},vcm,function(response){$scope.vertColMethList.splice(index,1),toastr.success("Vertical Collection Method Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error deleting vertical collection method: "+errorResponse.statusText)})})},$scope.vertDatList=allVerticalDatums,$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0,$scope.newVD={},$scope.showAddVDClicked=function(){$scope.showAddVDForm=!0,$scope.addVDButtonShowing=!1},$scope.NeverMindVD=function(){$scope.newVD={},$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0},$scope.AddVertDatum=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_DATUM.save($scope.newVD,function(response){$scope.vertDatList.push(response),$scope.newVD={},$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0,toastr.success("Vertical Datum Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error creating vertical datum: "+errorResponse.statusText)}))},$scope.saveVertDatum=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_DATUM.update({id:id},data,function(response){retur=response,toastr.success("Vertical Datum Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error saving vertical datum: "+errorResponse.statusText)}),retur},$scope.deleteVertDatum=function(vd){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return vd},what:function(){return"Vertical Datum"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.vertDatList.indexOf(vd);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),VERTICAL_DATUM["delete"]({id:vd.datum_id},vd,function(response){$scope.vertDatList.splice(index,1),toastr.success("Vertical Datum Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error deleting vertical datum: "+errorResponse.statusText)})})})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("submitReportCtrl",["$scope","$http","$cookies","$uibModal","$state","CONTACT","REPORT",function($scope,$http,$cookies,$uibModal,$state,CONTACT,REPORT){if($scope.$parent.needToComplete!==!0)$scope.$parent.newReport={report_date:new Date};else{var yr=$scope.newReport.report_date.substr(0,4),mo=$scope.newReport.report_date.substr(5,2),day=$scope.newReport.report_date.substr(8,2);$scope.newReport.report_date=new Date(mo+"/"+day+"/"+yr)}$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.status={openContacts:!1,openCounts:!1,openPersonnel:!1};$scope.$parent.needToComplete=!1,void 0===$scope.newReport.reporting_metrics_id&&($scope.disabled=!0),$scope.getEventName=function(evID){var name,thisEvent=$scope.events.filter(function(e){return e.event_id==evID})[0];return name=thisEvent.event_name};var getReportContacts=function(reportID){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:reportID},function(response){$scope.DeployStaff=response.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.GenStaff=response.filter(function(d){return"General"==d.contactType})[0],$scope.InlandStaff=response.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.CoastStaff=response.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.WaterStaff=response.filter(function(d){return"Water Quality"==d.contactType})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}).$promise,$scope.disabled=!1},postReportContacts=function(reportID){angular.equals({},$scope.DeployStaff)||void 0===$scope.DeployStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:1},$scope.DeployStaff,function(response1){toastr.success("Deploy Staff Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse.statusText)}).$promise,angular.equals({},$scope.GenStaff)||void 0===$scope.GenStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:2},$scope.GenStaff,function(response2){toastr.success("General Staff Updated")},function(errorResponse2){toastr.error(void 0!==errorResponse2.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse2.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse2.statusText)}).$promise,angular.equals({},$scope.InlandStaff)||void 0===$scope.InlandStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:3},$scope.InlandStaff,function(response3){toastr.success("Inland Staff Updated")},function(errorResponse3){toastr.error(void 0!==errorResponse3.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse3.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse3.statusText)}).$promise,angular.equals({},$scope.CoastStaff)||void 0===$scope.CoastStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:4},$scope.CoastStaff,function(response4){toastr.success("Coastal Staff Updated")},function(errorResponse4){toastr.error(void 0!==errorResponse4.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse4.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse4.statusText)}).$promise,angular.equals({},$scope.WaterStaff)||void 0===$scope.WaterStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:5},$scope.WaterStaff,function(response5){toastr.success("Water Staff Updated")},function(errorResponse5){toastr.error(void 0!==errorResponse5.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse5.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse5.statusText);

}).$promise},removeIncomplete=function(){for(var index=0,i=0;i<$scope.memberIncompletes.length;i++)$scope.memberIncompletes[i].reporting_metrics_id==$scope.newReport.reporting_metrics_id&&(index=i,i=$scope.memberIncompletes.length);$scope.memberIncompletes.splice(index,1)},PostPutReportAndReportContacts=function(){$scope.newReport.report_date=$scope.newReport.report_date.toDateString(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.newReport.reporting_metrics_id?REPORT.update({id:$scope.newReport.reporting_metrics_id},$scope.newReport,function(response){toastr.success("Report Updated"),$scope.newReport.event_name=$scope.getEventName($scope.newReport.event_id),1==$scope.newReport.complete&&(removeIncomplete(),$scope.isCompleted=!0),postReportContacts($scope.newReport.reporting_metrics_id)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating report: "+errorResponse.headers(["usgswim-messages"]):"Error updating report: "+errorResponse.statusText)}).$promise.then(function(){$scope.fullReportForm.submit.$setPristine(),$scope.fullReportForm.submit.event_id.$viewValue=void 0,$state.go("reporting.reportDash")}):REPORT.save($scope.newReport,function(response){toastr.success("Report Created"),$scope.reports.push(response),1==$scope.newReport.complete?(removeIncomplete(),$scope.isCompleted=!0,$scope.newReport.event_name=$scope.getEventName($scope.newReport.event_id)):$scope.memberIncompletes.push(response),$scope.newReport.reporting_metrics_id=response.reporting_metrics_id,postReportContacts($scope.newReport.reporting_metrics_id)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving report: "+errorResponse.headers(["usgswim-messages"]):"Error saving report: "+errorResponse.statusText)}).$promise.then(function(){$scope.fullReportForm.submit.$setPristine(),$scope.fullReportForm.submit.event_id.$viewValue=void 0,$state.go("reporting.reportDash")})};$scope.populateYestTots=function(){if(void 0!==$scope.newReport.report_date&&void 0!==$scope.newReport.state&&void 0!==$scope.newReport.event_id){var formatDate=new Date($scope.newReport.report_date);formatDate.setHours(0,0,0,0),formatDate=formatDate.toISOString().substr(0,10);var myDate=formatDate,theState=$scope.newReport.state,eID=$scope.newReport.event_id;$scope.disabled=!1,$scope.newReport={report_date:$scope.newReport.report_date,state:theState,event_id:eID},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={};var previousDay=new Date(myDate);previousDay.setHours(0,0,0,0),previousDay=previousDay.toISOString().substr(0,10);var yesterdayRpt=$scope.reports.filter(function(r){var repDate=r.report_date.toString().substring(0,10);return r.event_id==$scope.newReport.event_id&&r.state==$scope.newReport.state&&repDate==previousDay})[0];$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==yesterdayRpt?($scope.newReport.yest_fieldpers=yesterdayRpt.tod_fieldpers,$scope.newReport.yest_officepers=yesterdayRpt.tod_officepers,getReportContacts(yesterdayRpt.reporting_metrics_id)):($scope.newReport.yest_fieldpers=0,$scope.newReport.yest_officepers=0),REPORT.getDailyReportTots({Date:myDate,Event:$scope.newReport.event_id,State:$scope.newReport.state},function(response6){$scope.newReport.dep_rapdepl_gage=response6.dep_rapdepl_gage,$scope.newReport.rec_rapdepl_gage=response6.rec_rapdepl_gage,$scope.newReport.lost_rapdepl_gage=response6.lost_rapdepl_gage,$scope.newReport.dep_wtrlev_sensor=response6.dep_wtrlev_sensor,$scope.newReport.rec_wtrlev_sensor=response6.rec_wtrlev_sensor,$scope.newReport.lost_wtrlev_sensor=response6.lost_wtrlev_sensor,$scope.newReport.dep_wv_sens=response6.dep_wv_sens,$scope.newReport.rec_wv_sens=response6.rec_wv_sens,$scope.newReport.lost_wv_sens=response6.lost_wv_sens,$scope.newReport.dep_barometric=response6.dep_barometric,$scope.newReport.rec_barometric=response6.rec_barometric,$scope.newReport.lost_barometric=response6.lost_barometric,$scope.newReport.dep_meteorological=response6.dep_meteorological,$scope.newReport.rec_meteorological=response6.rec_meteorological,$scope.newReport.lost_meteorological=response6.lost_meteorological,$scope.newReport.hwm_flagged=response6.hwm_flagged,$scope.newReport.hwm_collected=response6.hwm_collected},function(errorResponse6){toastr.error(void 0!==errorResponse6.headers(["usgswim-messages"])?"Error getting report totals: "+errorResponse6.headers(["usgswim-messages"]):"Error getting report totals: "+errorResponse6.statusText)})}else alert("Please choose a date, event and state first.")},$scope.saveReport=function(valid){if(void 0===$scope.newReport.complete||0===$scope.newReport.complete){var modalInstance=$uibModal.open({templateUrl:"saveReportModal.html",controller:"confirmReportModalCtrl",size:"sm"});modalInstance.result.then(function(){$scope.newReport.complete=0,$scope.newReport.member_id=$scope.MemberLoggedIn.member_id,PostPutReportAndReportContacts()})}else valid?($scope.newReport.member_id=$scope.MemberLoggedIn.member_id,PostPutReportAndReportContacts()):($scope.status.openContacts=!0,$scope.status.openCounts=!0,$scope.status.openPersonnel=!0,angular.element("[name='"+$scope.fullReportForm.submit.$name+"']").find(".ng-invalid:visible:first").focus())},$scope.populateDeployer=function(){$scope.DeployStaff=$scope.MemberLoggedIn},$scope.getIncompleteReport=function(){var reportId=this.ir.reporting_metrics_id;REPORT.query({id:reportId},function(response){$scope.newReport=response;var yr=response.report_date.substr(0,4),mo=response.report_date.substr(5,2),day=response.report_date.substr(8,2);$scope.newReport.report_date=new Date(mo+"/"+day+"/"+yr),$scope.fullReportForm.submit.$setDirty(),getReportContacts(reportId)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)}).$promise},void 0!==$scope.newReport.reporting_metrics_id&&getReportContacts($scope.newReport.reporting_metrics_id)}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("reportModalCtrl",["$scope","$uibModalInstance","report","submitPerson","contacts",function($scope,$uibModalInstance,report,submitPerson,contacts){$scope.ReportView={},$scope.ReportView.Report=report,$scope.ReportView.submitter=submitPerson,$scope.ReportView.deployStaff=contacts.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.ReportView.generalStaff=contacts.filter(function(d){return"General"==d.contactType})[0],$scope.ReportView.inlandStaff=contacts.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.ReportView.coastStaff=contacts.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.ReportView.waterStaff=contacts.filter(function(d){return"Water Quality"==d.contactType})[0],$scope.print=function(){window.print()},$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingDashCtrl",["$scope","$cookies","$filter","$uibModal","$state","$http","CONTACT","MEMBER","allReportsAgain",function($scope,$cookies,$filter,$uibModal,$state,$http,CONTACT,MEMBER,allReportsAgain){$scope.reportsToDate=allReportsAgain,$scope.todayRpts=[],$scope.yesterdayRpts=[],$scope.pickDateRpts=[],$scope.pickAdateReports=!1,$scope.today=new Date,$scope.today.setHours(0,0,0,0),$scope.yesterday=new Date($scope.today),$scope.yesterday.setDate($scope.today.getDate()-1),$scope.today=$scope.today.toISOString().substr(0,10),$scope.yesterday=$scope.yesterday.toISOString().substr(0,10),$scope.THIS_DATE={},$scope.ViewReport=function(r){var modalInstance=$uibModal.open({templateUrl:"ViewReport.html",controller:"reportModalCtrl",size:"lg",windowClass:"rep-dialog",resolve:{report:function(){return r},submitPerson:function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var member={};return MEMBER.query({id:r.member_id},function(response){member.mem=response;var memberAgency=$scope.agencies.filter(function(a){return a.agency_id==member.mem.agency_id})[0];member.agency_name=memberAgency.agency_name,member.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip}).$promise,member},contacts:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:r.reporting_metrics_id}).$promise}}});modalInstance.result.then(function(r){})};var formatReport=function(repList){for(var returnList=[],i=0;i<repList.length;i++){var rep=repList[i],event=$scope.events.filter(function(e){return e.event_id==rep.event_id})[0];rep.event_name=event.event_name,returnList.push(rep)}return returnList},todayReports=$scope.reportsToDate.filter(function(todayrep){var reportDate=todayrep.report_date.toString().substring(0,10);return reportDate==$scope.today});$scope.todayRpts=formatReport(todayReports);var yesterdayReports=$scope.reportsToDate.filter(function(yestrep){var reportDate=yestrep.report_date.toString().substring(0,10);return reportDate==$scope.yesterday});$scope.yesterdayRpts=formatReport(yesterdayReports),$scope.getReportsByDate=function(){if(void 0!==$scope.THIS_DATE.date){var formatDate=new Date($scope.THIS_DATE.date);formatDate.setHours(0,0,0,0),formatDate=formatDate.toISOString().substr(0,10);var thisDateReports=$scope.reportsToDate.filter(function(tdate){var reportDate=tdate.report_date.toString().substring(0,10);return reportDate==formatDate});$scope.pickDateRpts=formatReport(thisDateReports),$scope.pickAdateReports=!0}else alert("Pick a date first.")},$scope.CompleteThisReport=function(rep){$scope.$parent.newReport=rep,$scope.$parent.disabled=!1,$scope.$parent.needToComplete=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:rep.reporting_metrics_id},function(response){response.length>=1?($scope.$parent.DeployStaff=response.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.$parent.GenStaff=response.filter(function(d){return"General"==d.contactType})[0],$scope.$parent.InlandStaff=response.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.$parent.CoastStaff=response.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.$parent.WaterStaff=response.filter(function(d){return"Water Quality"==d.contactType})[0]):($scope.$parent.DeployStaff={},$scope.$parent.GenStaff={},$scope.$parent.InlandStaff={},$scope.$parent.CoastStaff={},$scope.$parent.WaterStaff={})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}).$promise.then(function(){$state.go("reporting.submitReport")})},$scope.getProjectAlertText=function(rep){$scope.ProjectAlertParts={},$scope.ProjectAlertParts.Report=rep,$scope.ProjectAlertParts.totYestFieldPers=rep.yest_fieldpers,$scope.ProjectAlertParts.totYestOfficPers=rep.yest_officepers,$scope.ProjectAlertParts.measureCts=rep.tot_discharge_meas;var eventReports=$scope.reportsToDate.filter(function(r){return r.event_id==rep.event_id}),test=$filter("countBy")(eventReports,"state");$scope.ProjectAlertParts.stateCount=0,angular.forEach(test,function(er){$scope.ProjectAlertParts.stateCount++}),$scope.ProjectAlertParts.Event=$scope.events.filter(function(e){return e.event_id==rep.event_id})[0];var modalInstance=$uibModal.open({templateUrl:1==$scope.ProjectAlertParts.Event.event_type_id?"FloodPA.html":"HurricanePA.html",controller:"ProjAlertModalCtrl",size:"md",windowClass:"rep-dialog",resolve:{ProjAlert:function(){return $scope.ProjectAlertParts}}});modalInstance.result.then(function(r){})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingCtrl",["$scope","$rootScope","$cookies","$location","$http","$uibModal","memberReports","allEvents","allStates","allReports","allEventTypes","allEventStatus","allAgencies","SERVER_URL","REPORT","MEMBER",function($scope,$rootScope,$cookies,$location,$http,$uibModal,memberReports,allEvents,allStates,allReports,allEventTypes,allEventStatus,allAgencies,SERVER_URL,REPORT,MEMBER){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Reporting",$rootScope.activeMenu="report",$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var formIsPopulated=!1;switch(fromState.url){case"/SubmitReport":void 0!==$scope.fullReportForm.submit&&(formIsPopulated=$scope.fullReportForm.submit.$dirty,formIsPopulated=void 0!==$scope.fullReportForm.submit.event_id.$viewValue?!0:formIsPopulated)}formIsPopulated&&(console.log("toState.name: "+toState.name),console.log("fromState.name: "+fromState.name),confirm("Are you sure you want to leave the Submit Report Tab? Any unsaved information will be lost.")?console.log("go to: "+toState.name):(console.log("stay at state: "+fromState.name),$rootScope.stateIsLoading.showLoading=!1,event.preventDefault()))}),$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.formatDate=function(d){var currentDt=new Date(d),mm=currentDt.getMonth()+1;mm=10>mm?"0"+mm:mm;var dd=currentDt.getDate(),yyyy=currentDt.getFullYear(),date=mm+"/"+dd+"/"+yyyy;return date},$scope.serverURL=SERVER_URL,$scope.fullReportForm={},$scope.newReport={},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.disabled=!0,$scope.needToComplete=!1,$scope.memberIncompletes=memberReports.filter(function(ir){return 0===ir.complete}),$scope.events=allEvents,$scope.states=allStates,$scope.reports=allReports,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.MemberLoggedIn=response;var memberAgency=allAgencies.filter(function(a){return a.agency_id==$scope.MemberLoggedIn.agency_id})[0];$scope.MemberLoggedIn.agency_name=memberAgency.agency_name,$scope.MemberLoggedIn.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting member: "+errorResponse.headers(["usgswim-messages"]):"Error getting member: "+errorResponse.statusText)}).$promise,MEMBER.getAll().$promise.then(function(response){$scope.members=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting members: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}),$scope.agencies=allAgencies,$scope.eventTypes=allEventTypes,$scope.eventStats=allEventStatus,$scope.Statemodel={},$scope.genSummary={},$scope.filteredReports=[],$scope.genRepChange=function(){$scope.EventName=$scope.events.filter(function(e){return e.event_id==$scope.genSummary.event_id})[0];var names=[],abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){names.push(state.state_name),abbrevs.push(state.state_abbrev)}),$scope.StateNames=names.join(","),$scope.StateAbbrevs=abbrevs.join(",")},$scope.MetricDisplayModel=[],$scope.displayMetricSum=function(valid){if(valid){$scope.MetricDisplayModel=[],$scope.GenRepEventModel={},$scope.totalRow={},$scope.totalRow.notAcctForEmps=0,$scope.totalRow.cumPField=0,$scope.totalRow.yesPField=0,$scope.totalRow.todPField=0,$scope.totalRow.tomPField=0,$scope.totalRow.cumPOffice=0,$scope.totalRow.yesPOffice=0,$scope.totalRow.todPOffice=0,$scope.totalRow.tomPOffice=0,$scope.totalRow.truck=0,$scope.totalRow.boat=0,$scope.totalRow.other=0,$scope.totalRow.gageVisits=0,$scope.totalRow.gagesDown=0,$scope.totalRow.disCtoDate=0,$scope.totalRow.disCPlanned=0,$scope.totalRow.CheckMeasToDate=0,$scope.totalRow.CheckMeasPlanned=0,$scope.totalRow.indMeas=0,$scope.totalRow.ratExt=0,$scope.totalRow.peaksOfRec=0,$scope.totalRow.QWGageVis=0,$scope.totalRow.contQWGageVis=0,$scope.totalRow.contQWGageDown=0,$scope.totalRow.disQWSamples=0,$scope.totalRow.sedSamples=0,$scope.totalRow.rdgPlan=0,$scope.totalRow.rdgDep=0,$scope.totalRow.rdgRec=0,$scope.totalRow.rdgLost=0,$scope.totalRow.waterPlan=0,$scope.totalRow.waterDep=0,$scope.totalRow.waterRec=0,$scope.totalRow.waterLost=0,$scope.totalRow.wavePlan=0,$scope.totalRow.waveDep=0,$scope.totalRow.waveRec=0,$scope.totalRow.waveLost=0,$scope.totalRow.baroPlan=0,$scope.totalRow.baroDep=0,$scope.totalRow.baroRec=0,$scope.totalRow.baroLost=0,$scope.totalRow.metPlan=0,$scope.totalRow.metDep=0,$scope.totalRow.metRec=0,$scope.totalRow.metLost=0,$scope.totalRow.hwmFlag=0,$scope.totalRow.hwmCol=0;var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);REPORT.getFilteredReports({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var thisRPModel={};thisRPModel.report=result[x],$scope.totalRow.notAcctForEmps+=thisRPModel.report.sw_fieldpers_notacct+thisRPModel.report.wq_fieldpers_notacct,$scope.totalRow.cumPField+=thisRPModel.report.yest_fieldpers+thisRPModel.report.tod_fieldpers+thisRPModel.report.tmw_fieldpers,$scope.totalRow.yesPField+=thisRPModel.report.yest_fieldpers,$scope.totalRow.todPField+=thisRPModel.report.tod_fieldpers,$scope.totalRow.tomPField+=thisRPModel.report.tmw_fieldpers,$scope.totalRow.cumPOffice+=thisRPModel.report.yest_officepers+thisRPModel.report.tod_officepers+thisRPModel.report.tmw_officepers,$scope.totalRow.yesPOffice+=thisRPModel.report.yest_officepers,$scope.totalRow.todPOffice+=thisRPModel.report.tod_officepers,$scope.totalRow.tomPOffice+=thisRPModel.report.tmw_officepers,$scope.totalRow.gageVisits+=thisRPModel.report.gage_visit,$scope.totalRow.gagesDown+=thisRPModel.report.gage_down,$scope.totalRow.disCtoDate+=thisRPModel.report.tot_discharge_meas,$scope.totalRow.disCPlanned+=thisRPModel.report.plan_discharge_meas,$scope.totalRow.indMeas+=thisRPModel.report.plan_indirect_meas,$scope.totalRow.ratExt+=thisRPModel.report.rating_extens,$scope.totalRow.peaksOfRec+=thisRPModel.report.gage_peak_record,$scope.totalRow.disQWSamples+=thisRPModel.report.qw_discr_samples,$scope.totalRow.sedSamples+=thisRPModel.report.coll_sedsamples,$scope.totalRow.rdgPlan+=thisRPModel.report.plan_rapdepl_gage,$scope.totalRow.rdgDep+=thisRPModel.report.dep_rapdepl_gage,$scope.totalRow.rdgRec+=thisRPModel.report.rec_rapdepl_gage,$scope.totalRow.rdgLost+=thisRPModel.report.lost_rapdepl_gage,$scope.totalRow.waterPlan+=thisRPModel.report.plan_wtrlev_sensor,$scope.totalRow.waterDep+=thisRPModel.report.dep_wtrlev_sensor,$scope.totalRow.waterRec+=thisRPModel.report.rec_wtrlev_sensor,$scope.totalRow.waterLost+=thisRPModel.report.lost_wtrlev_sensor,$scope.totalRow.wavePlan+=thisRPModel.report.plan_wv_sens,$scope.totalRow.waveDep+=thisRPModel.report.dep_wv_sens,$scope.totalRow.waveRec+=thisRPModel.report.rec_wv_sens,$scope.totalRow.waveLost+=thisRPModel.report.lost_wv_sens,$scope.totalRow.baroPlan+=thisRPModel.report.plan_barometric,$scope.totalRow.baroDep+=thisRPModel.report.dep_barometric,$scope.totalRow.baroRec+=thisRPModel.report.rec_barometric,$scope.totalRow.baroLost+=thisRPModel.report.lost_barometric,$scope.totalRow.metPlan+=thisRPModel.report.plan_meteorological,$scope.totalRow.metDep+=thisRPModel.report.dep_meteorological,$scope.totalRow.metRec+=thisRPModel.report.rec_meteorological,$scope.totalRow.metLost+=thisRPModel.report.lost_meteorological,$scope.totalRow.hwmFlag+=thisRPModel.report.hwm_flagged,$scope.totalRow.hwmCol=thisRPModel.report.hwm_collected,$scope.MetricDisplayModel.push(thisRPModel)}$scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.GenRepEventModel.Event.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0];$uibModal.open({templateUrl:"MetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{thisReport:function(){return $scope.MetricDisplayModel},thisEvent:function(){return $scope.GenRepEventModel},theTotalRow:function(){return $scope.totalRow}},controller:["$scope","$uibModalInstance","thisReport","thisEvent","theTotalRow",function($scope,$uibModalInstance,thisReport,thisEvent,theTotalRow){$scope.Report=thisReport,$scope.Event=thisEvent,$scope.totals=theTotalRow,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)})}},$scope.displayContactsSum=function(valid){if(valid){var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);$scope.reportModel=[],$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",REPORT.getReportwithContacts({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var rep={};rep.repID=result[x].reporting_metrics_id,rep.State=result[x].state,rep.report_date=result[x].report_date;var submitter=$scope.members.filter(function(m){return m.member_id==result[x].member_id})[0],submitterAgency=$scope.agencies.filter(function(a){return a.agency_id==submitter.agency_id})[0],sub={};sub.fname=submitter.fname,sub.lname=submitter.lname,sub.email=submitter.email,sub.phone=submitter.phone,sub.agencyname=submitterAgency.agency_name,sub.agencyadd=submitterAgency.city+" "+submitterAgency.state+" "+submitterAgency.zip,rep.submitter=sub,rep.depC=result[x].ReportContacts.filter(function(x){return"Deployed Staff"==x.type})[0],rep.genC=result[x].ReportContacts.filter(function(x){return"General"==x.type})[0],rep.inlC=result[x].ReportContacts.filter(function(x){return"Inland Flood"==x.type})[0],rep.coastC=result[x].ReportContacts.filter(function(x){return"Coastal Flood"==x.type})[0],rep.waterC=result[x].ReportContacts.filter(function(x){return"Water Quality"==x.type})[0],$scope.reportModel.push(rep)}setTimeout(function(){showModal()},3e3);var showModal=function(){$uibModal.open({templateUrl:"ContactMetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{theseReports:function(){return $scope.reportModel},thisEvent:function(){return $scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.EventName.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0],$scope.GenRepEventModel}},controller:["$scope","$http","$uibModalInstance","theseReports","thisEvent",function($scope,$http,$uibModalInstance,theseReports,thisEvent){$scope.Reports=theseReports,$scope.Event=thisEvent,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)})}},$scope.getCSVfile=function(valid){valid&&($http.defaults.headers.common.Accept="text/csv",REPORT.getReportsCSV({Event:$scope.genSummary.event_id,States:$scope.StateAbbrevs,Date:$scope.genSummary.sum_date}).$promise.then(function(result){var anchor=angular.element("<a/>"),joinedResponse=result.join(""),file=new Blob([joinedResponse],{type:"application/csv"}),fileURL=URL.createObjectURL(file);anchor.href=fileURL,anchor.download="report.csv",anchor.click()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting csv: "+errorResponse.headers(["usgswim-messages"]):"Error getting csv: "+errorResponse.statusText)}))})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingCtrl",["$scope","$rootScope","$cookies","$location","$http","$uibModal","memberReports","allEvents","allStates","allReports","allEventTypes","allEventStatus","allAgencies","SERVER_URL","REPORT","MEMBER",function($scope,$rootScope,$cookies,$location,$http,$uibModal,memberReports,allEvents,allStates,allReports,allEventTypes,allEventStatus,allAgencies,SERVER_URL,REPORT,MEMBER){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Reporting",$rootScope.activeMenu="report",$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var formIsPopulated=!1;switch(fromState.url){case"/SubmitReport":void 0!==$scope.fullReportForm.submit&&(formIsPopulated=$scope.fullReportForm.submit.$dirty,formIsPopulated=void 0!==$scope.fullReportForm.submit.event_id.$viewValue?!0:formIsPopulated)}formIsPopulated&&(console.log("toState.name: "+toState.name),console.log("fromState.name: "+fromState.name),confirm("Are you sure you want to leave the Submit Report Tab? Any unsaved information will be lost.")?console.log("go to: "+toState.name):(console.log("stay at state: "+fromState.name),$rootScope.stateIsLoading.showLoading=!1,event.preventDefault()))}),$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.formatDate=function(d){var currentDt=new Date(d),mm=currentDt.getMonth()+1;mm=10>mm?"0"+mm:mm;var dd=currentDt.getDate(),yyyy=currentDt.getFullYear(),date=mm+"/"+dd+"/"+yyyy;return date},$scope.serverURL=SERVER_URL,$scope.fullReportForm={},$scope.newReport={},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.disabled=!0,$scope.needToComplete=!1,$scope.memberIncompletes=memberReports.filter(function(ir){return 0===ir.complete}),$scope.events=allEvents,$scope.states=allStates,$scope.reports=allReports,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.MemberLoggedIn=response;var memberAgency=allAgencies.filter(function(a){return a.agency_id==$scope.MemberLoggedIn.agency_id})[0];$scope.MemberLoggedIn.agency_name=memberAgency.agency_name,$scope.MemberLoggedIn.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip}).$promise,MEMBER.getAll().$promise.then(function(response){$scope.members=response}),$scope.agencies=allAgencies,$scope.eventTypes=allEventTypes,$scope.eventStats=allEventStatus,$scope.Statemodel={},$scope.genSummary={},$scope.filteredReports=[],$scope.genRepChange=function(){$scope.EventName=$scope.events.filter(function(e){return e.event_id==$scope.genSummary.event_id})[0];var names=[],abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){names.push(state.state_name),abbrevs.push(state.state_abbrev)}),$scope.StateNames=names.join(","),$scope.StateAbbrevs=abbrevs.join(",")},$scope.MetricDisplayModel=[],$scope.displayMetricSum=function(valid){if(valid){$scope.MetricDisplayModel=[],$scope.GenRepEventModel={},$scope.totalRow={},$scope.totalRow.notAcctForEmps=0,$scope.totalRow.cumPField=0,$scope.totalRow.yesPField=0,$scope.totalRow.todPField=0,$scope.totalRow.tomPField=0,$scope.totalRow.cumPOffice=0,$scope.totalRow.yesPOffice=0,$scope.totalRow.todPOffice=0,$scope.totalRow.tomPOffice=0,$scope.totalRow.truck=0,$scope.totalRow.boat=0,$scope.totalRow.other=0,$scope.totalRow.gageVisits=0,$scope.totalRow.gagesDown=0,$scope.totalRow.disCtoDate=0,$scope.totalRow.disCPlanned=0,$scope.totalRow.CheckMeasToDate=0,$scope.totalRow.CheckMeasPlanned=0,$scope.totalRow.indMeas=0,$scope.totalRow.ratExt=0,$scope.totalRow.peaksOfRec=0,$scope.totalRow.QWGageVis=0,$scope.totalRow.contQWGageVis=0,$scope.totalRow.contQWGageDown=0,$scope.totalRow.disQWSamples=0,$scope.totalRow.sedSamples=0,$scope.totalRow.rdgPlan=0,$scope.totalRow.rdgDep=0,$scope.totalRow.rdgRec=0,$scope.totalRow.rdgLost=0,$scope.totalRow.waterPlan=0,$scope.totalRow.waterDep=0,$scope.totalRow.waterRec=0,$scope.totalRow.waterLost=0,$scope.totalRow.wavePlan=0,$scope.totalRow.waveDep=0,$scope.totalRow.waveRec=0,$scope.totalRow.waveLost=0,$scope.totalRow.baroPlan=0,$scope.totalRow.baroDep=0,$scope.totalRow.baroRec=0,$scope.totalRow.baroLost=0,$scope.totalRow.metPlan=0,$scope.totalRow.metDep=0,$scope.totalRow.metRec=0,$scope.totalRow.metLost=0,$scope.totalRow.hwmFlag=0,$scope.totalRow.hwmCol=0;var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);REPORT.getFilteredReports({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var thisRPModel={};thisRPModel.report=result[x],$scope.totalRow.notAcctForEmps+=thisRPModel.report.sw_fieldpers_notacct+thisRPModel.report.wq_fieldpers_notacct,$scope.totalRow.cumPField+=thisRPModel.report.yest_fieldpers+thisRPModel.report.tod_fieldpers+thisRPModel.report.tmw_fieldpers,$scope.totalRow.yesPField+=thisRPModel.report.yest_fieldpers,$scope.totalRow.todPField+=thisRPModel.report.tod_fieldpers,$scope.totalRow.tomPField+=thisRPModel.report.tmw_fieldpers,$scope.totalRow.cumPOffice+=thisRPModel.report.yest_officepers+thisRPModel.report.tod_officepers+thisRPModel.report.tmw_officepers,$scope.totalRow.yesPOffice+=thisRPModel.report.yest_officepers,$scope.totalRow.todPOffice+=thisRPModel.report.tod_officepers,$scope.totalRow.tomPOffice+=thisRPModel.report.tmw_officepers,$scope.totalRow.gageVisits+=thisRPModel.report.gage_visit,$scope.totalRow.gagesDown+=thisRPModel.report.gage_down,$scope.totalRow.disCtoDate+=thisRPModel.report.tot_discharge_meas,$scope.totalRow.disCPlanned+=thisRPModel.report.plan_discharge_meas,$scope.totalRow.indMeas+=thisRPModel.report.plan_indirect_meas,$scope.totalRow.ratExt+=thisRPModel.report.rating_extens,$scope.totalRow.peaksOfRec+=thisRPModel.report.gage_peak_record,$scope.totalRow.disQWSamples+=thisRPModel.report.qw_discr_samples,$scope.totalRow.sedSamples+=thisRPModel.report.coll_sedsamples,$scope.totalRow.rdgPlan+=thisRPModel.report.plan_rapdepl_gage,$scope.totalRow.rdgDep+=thisRPModel.report.dep_rapdepl_gage,
$scope.totalRow.rdgRec+=thisRPModel.report.rec_rapdepl_gage,$scope.totalRow.rdgLost+=thisRPModel.report.lost_rapdepl_gage,$scope.totalRow.waterPlan+=thisRPModel.report.plan_wtrlev_sensor,$scope.totalRow.waterDep+=thisRPModel.report.dep_wtrlev_sensor,$scope.totalRow.waterRec+=thisRPModel.report.rec_wtrlev_sensor,$scope.totalRow.waterLost+=thisRPModel.report.lost_wtrlev_sensor,$scope.totalRow.wavePlan+=thisRPModel.report.plan_wv_sens,$scope.totalRow.waveDep+=thisRPModel.report.dep_wv_sens,$scope.totalRow.waveRec+=thisRPModel.report.rec_wv_sens,$scope.totalRow.waveLost+=thisRPModel.report.lost_wv_sens,$scope.totalRow.baroPlan+=thisRPModel.report.plan_barometric,$scope.totalRow.baroDep+=thisRPModel.report.dep_barometric,$scope.totalRow.baroRec+=thisRPModel.report.rec_barometric,$scope.totalRow.baroLost+=thisRPModel.report.lost_barometric,$scope.totalRow.metPlan+=thisRPModel.report.plan_meteorological,$scope.totalRow.metDep+=thisRPModel.report.dep_meteorological,$scope.totalRow.metRec+=thisRPModel.report.rec_meteorological,$scope.totalRow.metLost+=thisRPModel.report.lost_meteorological,$scope.totalRow.hwmFlag+=thisRPModel.report.hwm_flagged,$scope.totalRow.hwmCol=thisRPModel.report.hwm_collected,$scope.MetricDisplayModel.push(thisRPModel)}$scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.GenRepEventModel.Event.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0];var modalInstance=$uibModal.open({templateUrl:"MetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{thisReport:function(){return $scope.MetricDisplayModel},thisEvent:function(){return $scope.GenRepEventModel},theTotalRow:function(){return $scope.totalRow}},controller:["$scope","$uibModalInstance","thisReport","thisEvent","theTotalRow",function($scope,$uibModalInstance,thisReport,thisEvent,theTotalRow){$scope.Report=thisReport,$scope.Event=thisEvent,$scope.totals=theTotalRow,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]});modalInstance.result.then(function(){})})}},$scope.displayContactsSum=function(valid){if(valid){var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);$scope.reportModel=[],$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",REPORT.getReportwithContacts({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var rep={};rep.repID=result[x].reporting_metrics_id,rep.State=result[x].state,rep.report_date=result[x].report_date;var submitter=$scope.members.filter(function(m){return m.member_id==result[x].member_id})[0],submitterAgency=$scope.agencies.filter(function(a){return a.agency_id==submitter.agency_id})[0],sub={};sub.fname=submitter.fname,sub.lname=submitter.lname,sub.email=submitter.email,sub.phone=submitter.phone,sub.agencyname=submitterAgency.agency_name,sub.agencyadd=submitterAgency.city+" "+submitterAgency.state+" "+submitterAgency.zip,rep.submitter=sub,rep.depC=result[x].ReportContacts.filter(function(x){return"Deployed Staff"==x.type})[0],rep.genC=result[x].ReportContacts.filter(function(x){return"General"==x.type})[0],rep.inlC=result[x].ReportContacts.filter(function(x){return"Inland Flood"==x.type})[0],rep.coastC=result[x].ReportContacts.filter(function(x){return"Coastal Flood"==x.type})[0],rep.waterC=result[x].ReportContacts.filter(function(x){return"Water Quality"==x.type})[0],$scope.reportModel.push(rep)}setTimeout(function(){showModal()},3e3);var showModal=function(){var modalInstance=$uibModal.open({templateUrl:"ContactMetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{theseReports:function(){return $scope.reportModel},thisEvent:function(){return $scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.EventName.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0],$scope.GenRepEventModel}},controller:["$scope","$http","$uibModalInstance","theseReports","thisEvent",function($scope,$http,$uibModalInstance,theseReports,thisEvent){$scope.Reports=theseReports,$scope.Event=thisEvent,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]});modalInstance.result.then(function(){})}})}},$scope.getCSVfile=function(valid){valid&&($http.defaults.headers.common.Accept="text/csv",REPORT.getReportsCSV({Event:$scope.genSummary.event_id,States:$scope.StateAbbrevs,Date:$scope.genSummary.sum_date}).$promise.then(function(result){var anchor=angular.element("<a/>"),joinedResponse=result.join(""),file=new Blob([joinedResponse],{type:"application/csv"}),fileURL=URL.createObjectURL(file);anchor.href=fileURL,anchor.download="report.csv",anchor.click()}),function(){console.log("error")})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("ProjAlertModalCtrl",["$scope","$uibModalInstance","ProjAlert",function($scope,$uibModalInstance,ProjAlert){$scope.ProjAlertParts=ProjAlert,$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("confirmReportModalCtrl",["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModal","$uibModalInstance","$filter","$sce","roleList","agencyList","thisMember","MEMBER",function($scope,$rootScope,$cookies,$http,$uibModal,$uibModalInstance,$filter,$sce,roleList,agencyList,thisMember,MEMBER){switch($scope.aMember={},$scope.matchingUsers=!0,$scope.usernameTooltip=$sce.trustAsHtml("Active Directory user ID. ie: 'mpeppler' not 'mpeppler@usgs.gov'."),$scope.agencyList=agencyList,$scope.pass={newP:"",confirmP:""},$scope.newPass="",$scope.loggedInUser={},$scope.loggedInUser.Name=$cookies.get("usersName"),$scope.loggedInUser.ID=$cookies.get("mID"),$scope.loggedInUser.Role=$cookies.get("usersRole"),$scope.loggedInUser.Role){case"Admin":$scope.roleList=roleList.filter(function(r){return r.role_id<=3});break;case"Manager":$scope.roleList=roleList.filter(function(r){return 3==r.role_id})}"empty"!=thisMember?($scope.matchingUsers=thisMember.member_id==$scope.loggedInUser.ID?!0:!1,$scope.aMember=angular.copy(thisMember),$scope.aMember.Role=roleList.filter(function(r){return r.role_id==$scope.aMember.role_id})[0].role_name,$scope.changePass=!1,$scope.changeMyPassBtn=function(evt){$scope.changePass=$scope.changePass===!1?!0:!1},$scope.DontChangePass=function(){$scope.changePass=!1}):($scope.aMember={},1==$scope.roleList.length&&($scope.aMember.role_id=$scope.roleList[0].role_id)),$scope.create=function(valid){if(valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.aMember.password=btoa($scope.pass.confirmP);var createdMember={};MEMBER.save($scope.aMember,function(response){toastr.success("Member Created"),createdMember=response;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=roleList.filter(function(r){return r.role_id==response.role_id})[0];createdMember.Agency=ag.agency_name,createdMember.Role=ro.role_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating member: "+errorResponse.headers(["usgswim-messages"]):"Error creating member: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdMember,"created"];$uibModalInstance.close(sendBack)})}},$scope.save=function(valid){if(valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var formattedMember=angular.copy($scope.aMember);""!==$scope.pass.newP?formattedMember.password=btoa($scope.pass.newP):(delete formattedMember.password,delete formattedMember.salt);var updatedMember={};Date.prototype.addHours=function(h){return this.setHours(this.getHours()+h),this},delete formattedMember.Role,delete formattedMember.Agency,MEMBER.update({id:formattedMember.member_id},formattedMember,function(response){updatedMember=response;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=roleList.filter(function(r){return r.role_id==response.role_id})[0];if(updatedMember.Agency=ag.agency_name,updatedMember.Role=ro.role_name,$scope.loggedInUser.ID==response.member_id){if(""!==$scope.pass.newP){var enc=btoa(updatedMember.username.concat(":",$scope.pass.newP)),expireDate=(new Date).addHours(8);$cookies.put("STNCreds",enc,{expires:expireDate})}$cookies.put("STNUsername",updatedMember.username);var usersNAME=updatedMember.fname+" "+updatedMember.lname;$cookies.put("usersName",usersNAME)}toastr.success("Member Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving member: "+errorResponse.headers(["usgswim-messages"]):"Error saving member: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[updatedMember,"updated"];$uibModalInstance.close(sendBack)})}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.DeleteMember=function(mem){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return mem},what:function(){return"Member"}}});modalInstance.result.then(function(memToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MEMBER.deleteMember({id:memToRemove.member_id},function(response){toastr.success("Member Deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting member: "+errorResponse.headers(["usgswim-messages"]):"Error deleting member: "+errorResponse.statusText)}).$promise.then(function(){$uibModalInstance.close(["de","deleted"])})})},$scope.cancel=function(){$uibModalInstance.close()},$rootScope.stateIsLoading={showLoading:!1}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberInfoCtrl",["$scope","$cookies","$location","$http","$uibModal","$stateParams","$filter","$sce","allRoles","MEMBER","thisMember",function($scope,$cookies,$location,$http,$uibModal,$stateParams,$filter,$sce,allRoles,MEMBER,thisMember){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.aMember={},$scope.matchingUsers=!0,$scope.usernameTooltip=$sce.trustAsHtml("Active Directory user ID. ie: 'mpeppler' not 'mpeppler@usgs.gov'."),$scope.DeleteMember=function(mem){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return mem},what:function(){return"Member"}}});modalInstance.result.then(function(nameToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MEMBER.deleteMember({id:nameToRemove.member_id},function(response){var delMem={};delMem.member_id=nameToRemove.member_id,delMem.Name=nameToRemove.fname+" "+nameToRemove.lname;var ag=$scope.agencyList.filter(function(a){return a.agency_id==nameToRemove.agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==nameToRemove.role_id})[0];delMem.Agency=ag.agency_name,delMem.Role=ro.role_name,$scope.memberList.splice($scope.memberList.indexOf(delMem),1),toastr.success("Member Deleted")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)}).$promise.then(function(){$location.path("/Members/MembersList").replace()})})},$scope.pass={newP:"",confirmP:""},$scope.newPass="",void 0!==thisMember?($scope.matchingUsers=$stateParams.id==$scope.loggedInUser.ID?!0:!1,$scope.aMember=thisMember,$scope.aMember.Role=allRoles.filter(function(r){return r.role_id==$scope.aMember.role_id})[0].role_name,$scope.changePass=!1,$scope.SaveOnBlur=function(v){if(v)$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.update({id:$scope.aMember.member_id},$scope.aMember,function(response){toastr.success("Member Updated")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)});else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.changeMyPassBtn=function(evt){$scope.changePass=$scope.changePass===!1?!0:!1},$scope.ChangePassword=function(){if(""===$scope.pass.newP||""===$scope.pass.confirmP){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must first enter a new password.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}else MEMBER.changePW({username:$scope.aMember.username,newPass:$scope.pass.newP},function(response){if(toastr.success("Password Updated"),$scope.aMember.member_id==$scope.loggedInUser.member_id){var enc=btoa($scope.aMember.username.concat(":",$scope.pass.newP));$cookies.put("STNCreds",enc),$cookies.put("STNUsername",$scope.aMember.username),$cookies.put("usersName",$scope.loggedInUser.Name),$cookies.put("mID",$scope.aMember.member_id);var roleName;switch($scope.aMember.role_id){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.put("usersRole",roleName)}$scope.changePass=!1,$scope.pass.newP="",$scope.pass.confirmP=""},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},$scope.DontChangePass=function(){$scope.changePass=!1}):$scope.save=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.addMember({pass:$scope.pass.confirmP},$scope.aMember,function(response){toastr.success("Member Created");var nm={};nm.member_id=response.member_id,nm.Name=response.fname+" "+response.lname;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==response.role_id})[0];nm.Agency=ag.agency_name,nm.Role=ro.role_name,$scope.memberList.push(nm)}).$promise.then(function(){$location.path("/Members/MembersList").replace()}))})}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","MEMBER","allRoles","allAgencies","userProfileId",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,MEMBER,allRoles,allAgencies,userProfileId){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings/Members",$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.showMemberModal=function(memberClicked){var indexClicked=$scope.memberList.indexOf(memberClicked);$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"memberModal.html",controller:"memberModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{thisMember:function(){return 0!==memberClicked?memberClicked:"empty"},agencyList:function(){return allAgencies},roleList:function(){return allRoles}}});modalInstance.result.then(function(createdMember){$rootScope.stateIsLoading={showLoading:!1},void 0!==createdMember&&("created"==createdMember[1]&&$scope.memberList.push(createdMember[0]),"updated"===createdMember[1]&&($scope.memberList[indexClicked]=createdMember[0]),"deleted"==createdMember[1]&&$scope.memberList.splice(indexClicked,1))})},$scope.agencyList=allAgencies,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise.then(function(response){$scope.memberList=[];for(var x=0;x<response.length;x++){var eachM=response[x],ag=$scope.agencyList.filter(function(a){return a.agency_id==response[x].agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==response[x].role_id})[0];eachM.Agency=ag.agency_name,eachM.Role=ro.role_name,$scope.memberList.push(eachM)}void 0!==userProfileId&&null!==userProfileId&&MEMBER.query({id:userProfileId}).$promise.then(function(resp){$scope.showMemberModal(resp)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting member: "+errorResponse.headers(["usgswim-messages"]):"Error getting member: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting members: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}))}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("peakModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","allVertDatums","allCollectConditions","thisPeak","peakSite","allMembers","allEventHWMs","allSiteSensors","allSiteFiles","thisPeakDFs","DATA_FILE","PEAK","HWM",function($scope,$rootScope,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,allVertDatums,allCollectConditions,thisPeak,peakSite,allMembers,allEventHWMs,allSiteSensors,allSiteFiles,thisPeakDFs,DATA_FILE,PEAK,HWM){$scope.serverURL=SERVER_URL,$scope.VDatumsList=allVertDatums,$scope.thisSite=peakSite,$scope.memberList=allMembers,$scope.loggedInRole=$cookies.get("usersRole");for(var determineDFPresent=function(f){for(var x=0;x<f.length;x++)if(2==f[x].filetype_id)return!0;return!1},sf=0;sf<allSiteFiles.length;sf++)("DataFile File"==allSiteFiles[sf].fileBelongsTo||"Sensor File"==allSiteFiles[sf].fileBelongsTo)&&(allSiteFiles[sf].selected=!1);for(var s=0;s<allSiteSensors.length;s++){var correctOrderSS=[],sensorStatuses=allSiteSensors[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);allSiteSensors[s].instrument_status=[],allSiteSensors[s].instrument_status=correctOrderSS}$scope.eventSiteHWMs=allEventHWMs.filter(function(h){return h.site_id==peakSite.site_id}),angular.forEach($scope.eventSiteHWMs,function(esh){esh.selected=!1,esh.files=allSiteFiles.filter(function(sf){return sf.hwm_id==esh.hwm_id&&"HWM File"==sf.fileBelongsTo})}),$scope.eventSiteSensors=allSiteSensors.filter(function(s){return s.event_id==$cookies.get("SessionEventID")});for(var evSiteSen=0;evSiteSen<$scope.eventSiteSensors.length;evSiteSen++)$scope.eventSiteSensors[evSiteSen].CollectCondition=null!==$scope.eventSiteSensors[evSiteSen].inst_collection_id&&$scope.eventSiteSensors[evSiteSen].inst_collection_id>0?allCollectConditions.filter(function(cc){return cc.id==$scope.eventSiteSensors[evSiteSen].inst_collection_id})[0].condition:"",$scope.eventSiteSensors[evSiteSen].isRetrieved="Retrieved"==$scope.eventSiteSensors[evSiteSen].instrument_status[0].status?!0:!1,$scope.eventSiteSensors[evSiteSen].files=allSiteFiles.filter(function(sf){return sf.instrument_id==$scope.eventSiteSensors[evSiteSen].instrument_id&&("DataFile File"==sf.fileBelongsTo||"Sensor File"==sf.fileBelongsTo)}),(2==$scope.eventSiteSensors[evSiteSen].sensor_type_id||5==$scope.eventSiteSensors[evSiteSen].sensor_type_id||6==$scope.eventSiteSensors[evSiteSen].sensor_type_id)&&(0===$scope.eventSiteSensors[evSiteSen].files.length?$scope.eventSiteSensors[evSiteSen].NeedDF=!0:determineDFPresent($scope.eventSiteSensors[evSiteSen].files)||($scope.eventSiteSensors[evSiteSen].NeedDF=!0));$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.chosenHWMList=[],$scope.removedChosenHWMList=[],$scope.chosenDFList=[],$scope.removedChosenDFList=[],$scope.hwmDetail=!1,$scope.HWMBox={},$scope.sensorDetail=!1,$scope.SensorBox={},$scope.dataFileDetail=!1,$scope.DFBox={},$scope.aPeak={};var getDateTimeParts=function(d){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2),theDate=new Date(y,m,da,h,mi,sec);return theDate},getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aPeak.time_zone){var utcDateTime=new Date($scope.aPeak.peak_date).toUTCString();$scope.aPeak.peak_date=utcDateTime,$scope.aPeak.time_zone="UTC"}else{var i=$scope.aPeak.peak_date.toString().indexOf("GMT")+3;$scope.aPeak.peak_date=$scope.aPeak.peak_date.toString().substring(0,i)}};if($scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},"empty"!=thisPeak){$scope.aPeak=angular.copy(thisPeak),$scope.aPeak.peak_date={date:getDateTimeParts($scope.aPeak.peak_date),time:getDateTimeParts($scope.aPeak.peak_date)},$scope.PeakCreator=allMembers.filter(function(m){return m.member_id==$scope.aPeak.member_id})[0];for(var h=0;h<$scope.eventSiteHWMs.length;h++)$scope.eventSiteHWMs[h].peak_summary_id==$scope.aPeak.peak_summary_id&&($scope.eventSiteHWMs[h].selected=!0);for(var ess=0;ess<$scope.eventSiteSensors.length;ess++)for(var essI=ess,df=0;df<$scope.eventSiteSensors[essI].files.length;df++){var isThere=thisPeakDFs.filter(function(pdf){return pdf.data_file_id==$scope.eventSiteSensors[essI].files[df].data_file_id})[0];void 0!==isThere&&($scope.eventSiteSensors[essI].files[df].selected=!0)}}else{var timeParts=getTimeZoneStamp();$scope.aPeak={peak_date:{date:timeParts[0],time:timeParts[0]},time_zone:timeParts[1],member_id:$cookies.get("mID")},$scope.PeakCreator=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]}$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})};var formatSelectedHWM=function(h){var fhwm={};return fhwm.approval_id=h.approval_id,fhwm.hwm_label=h.hwm_label,fhwm.bank=h.bank,fhwm.elev_ft=h.elev_ft,fhwm.event_id=h.event_id,fhwm.flag_date=h.flag_date,fhwm.flag_member_id=h.flag_member_id,fhwm.hcollect_method_id=h.hcollect_method_id,fhwm.hdatum_id=h.hdatum_id,fhwm.height_above_gnd=h.height_above_gnd,fhwm.hwm_environment=h.hwm_environment,fhwm.hwm_id=h.hwm_id,fhwm.hwm_locationdescription=h.hwm_locationdescription,fhwm.hwm_notes=h.hwm_notes,fhwm.hwm_uncertainty=h.hwm_uncertainty,fhwm.uncertainty=h.uncertainty,fhwm.hwm_quality_id=h.hwm_quality_id,fhwm.hwm_type_id=h.hwm_type_id,fhwm.latitude_dd=h.latitude_dd,fhwm.longitude_dd=h.longitude_dd,fhwm.marker_id=h.marker_id,fhwm.peak_summary_id=h.peak_summary_id,fhwm.site_id=h.site_id,fhwm.stillwater="No"==h.stillwater?0:1,fhwm.survey_date=h.survey_date,fhwm.survey_member_id=h.survey_member_id,fhwm.vcollect_method_id=h.vcollect_method_id,fhwm.vdatum_id=h.vdatum_id,fhwm.waterbody=h.waterbody,fhwm};$scope.addHWM=function(h){var aHWM=formatSelectedHWM(h);if(h.selected===!0)$scope.chosenHWMList.push(aHWM);else if(void 0!==$scope.aPeak.peak_summary_id&&$scope.removedChosenHWMList.push(dataFile),$scope.chosenHWMList.length>0){var ind=$scope.chosenHWMList.map(function(hwm){return hwm.hwm_id}).indexOf(aHWM.hwm_id);$scope.chosenHWMList.splice(ind,1)}},$scope.showHWMDetails=function(h){$scope.hwmDetail=!0,$scope.sensorDetail=!1,$scope.dataFileDetail=!1,$scope.HWMBox=h},$scope.primaryHWM=function(h){var setPrimHWM=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Set as Primary</h3></div><div class="modal-body"><p>Are you sure you want to set this as the Primary HWM? Doing so will populate the Peak Date (not including time), Stage, Vertical Datum and Height Above Ground.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="SetIt()">Set as Primary</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.SetIt=function(){$uibModalInstance.close("Yes")}}],size:"sm"});setPrimHWM.result.then(function(setIt){if("Yes"==setIt){$scope.aPeak.peak_date.date=new Date(h.flag_date),$scope.aPeak.peak_stage=h.elev_ft,$scope.aPeak.vdatum_id=h.vdatum_id,$scope.aPeak.height_above_gnd=h.height_above_gnd;var hIndex=$scope.eventSiteHWMs.indexOf(h);$scope.eventSiteHWMs[hIndex].selected=!0}})},$scope.closeDetail=function(){$scope.sensorDetail=!1,$scope.hwmDetail=!1,$scope.dataFileDetail=!1},$scope.addDataFile=function(datafile){var dataFile={};DATA_FILE.query({id:datafile.data_file_id}).$promise.then(function(response){if(dataFile=response,datafile.selected===!0)$scope.chosenDFList.push(dataFile);else if(void 0!==$scope.aPeak.peak_summary_id&&$scope.removedChosenDFList.push(dataFile),$scope.chosenDFList.length>0){var ind=$scope.chosenDFList.map(function(df){return df.data_file_id}).indexOf(datafile.data_file_id);$scope.chosenDFList.splice(ind,1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})},$scope.showSensorDetails=function(s){$scope.sensorDetail=!0,$scope.hwmDetail=!1,$scope.dataFileDetail=!1,$scope.SensorBox=s},$scope.showDataFileDetails=function(f){DATA_FILE.query({id:f.data_file_id},function(response){$scope.DFBox=response,$scope.DFBox.filePath=f.path,$scope.DFBox.fileID=f.file_id,$scope.DFBox.fileDesc=f.description,$scope.DFBox.processedBy=allMembers.filter(function(m){return m.member_id==response.processor_id})[0],$scope.DFBox.nwisFile=1==f.is_nwis?!0:!1,$scope.DFBox.fileURL=f.name,$scope.dataFileDetail=!0,$scope.hwmDetail=!1,$scope.sensorDetail=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})},$scope.primaryDataFile=function(f){var setPrimeDF=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Set as Primary</h3></div><div class="modal-body"><p>Are you sure you want to set this as the Primary Data file?</p><p>(Coming soon: Script processing to populate the Peak date, time and time zone, Stage, Vertical Datum and Height above ground)</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="SetIt()">Set as Primary</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.SetIt=function(){$uibModalInstance.close("Yes")}}],size:"sm"});setPrimeDF.result.then(function(setIt){if("Yes"==setIt){var sens=$scope.eventSiteSensors.filter(function(s){return s.instrument_id==f.instrument_id})[0],sIndex=$scope.eventSiteSensors.indexOf(sens),fIndex=sens.files.indexOf(f);$scope.eventSiteSensors[sIndex].files[fIndex].selected=!0}})},$scope.savePeak=function(valid){if(valid){var updatedPeak={},datetime=new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds());$scope.aPeak.peak_date=datetime,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK.update({id:$scope.aPeak.peak_summary_id},$scope.aPeak).$promise.then(function(response){if($scope.removedChosenDFList.length>0)for(var remd=0;remd<$scope.removedChosenDFList.length;remd++)$scope.removedChosenDFList[remd].peak_summary_id=null,DATA_FILE.update({id:$scope.removedChosenDFList[remd].data_file_id},$scope.removedChosenDFList[remd]).$promise;if($scope.removedChosenHWMList.length>0)for(var remh=0;remh<$scope.removedChosenHWMList.length;remh++)$scope.removedChosenHWMList[remh].peak_summary_id=null,HWM.update({
id:$scope.removedChosenHWMList[remh].data_file_id},$scope.removedChosenHWMList[remh]).$promise;for(var addh=0;addh<$scope.chosenHWMList.length;addh++)$scope.chosenHWMList[addh].peak_summary_id=response.peak_summary_id,HWM.update({id:$scope.chosenHWMList[addh].hwm_id},$scope.chosenHWMList[addh]).$promise;for(var addd=0;addd<$scope.chosenDFList.length;addd++)$scope.chosenDFList[addd].peak_summary_id=response.peak_summary_id,DATA_FILE.update({id:$scope.chosenDFList[addd].data_file_id},$scope.chosenDFList[addd]).$promise;toastr.success("Peak updated"),updatedPeak=response;var sendBack=[updatedPeak,"updated"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving peak: "+errorResponse.headers(["usgswim-messages"]):"Error saving peak: "+errorResponse.statusText)})}};var updateDFwoPeakID=function(df_id){DATA_FILE.query({id:df_id}).$promise.then(function(res){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",res.peak_summary_id=null,DATA_FILE.update({id:res.data_file_id},res).$promise},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})};$scope.deletePeak=function(){var deletePeakMdl=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Remove Peak</h3></div><div class="modal-body"><p>Are you sure you want to delete this Peak?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button><button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});deletePeakMdl.result.then(function(){var datetime=($scope.aPeak.peak_summary_id,new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds()));$scope.aPeak.peak_date=datetime,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK["delete"]({id:$scope.aPeak.peak_summary_id}).$promise.then(function(){for(var i=0;i<$scope.eventSiteSensors.length;i++)for(var thisS=$scope.eventSiteSensors[i],f=0;f<thisS.files.length;f++){var thisF=thisS.files[f];thisF.selected&&updateDFwoPeakID(thisF.data_file_id)}for(var h=0;h<$scope.eventSiteHWMs.length;h++){var thisH=$scope.eventSiteHWMs[h];if(thisH.selected){thisH.peak_summary_id=null;var updateThisHWM=formatSelectedHWM(thisH);HWM.update({id:thisH.hwm_id},updateThisHWM).$promise}}toastr.success("Peak Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting peak: "+errorResponse.headers(["usgswim-messages"]):"Error deleting peak: "+errorResponse.statusText)})})},$scope.createPeak=function(valid){var isHwmChecked=!1,isDFChecked=!1;if(angular.forEach($scope.eventSiteHWMs,function(shwm){shwm.selected&&(isHwmChecked=!0)}),angular.forEach($scope.eventSiteSensors,function(ssen){for(var fI=0;fI<ssen.files.length;fI++)ssen.files[fI].selected&&(isDFChecked=!0,fI=ssen.files.length)}),isHwmChecked||isDFChecked){if(valid){var createdPeak={},datetime=new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds());$scope.aPeak.peak_date=datetime,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK.save($scope.aPeak).$promise.then(function(response){createdPeak=response;for(var h=0;h<$scope.chosenHWMList.length;h++)$scope.chosenHWMList[h].peak_summary_id=response.peak_summary_id,HWM.update({id:$scope.chosenHWMList[h].hwm_id},$scope.chosenHWMList[h]).$promise;for(var d=0;d<$scope.chosenDFList.length;d++)$scope.chosenDFList[d].peak_summary_id=response.peak_summary_id,DATA_FILE.update({id:$scope.chosenDFList[d].data_file_id},$scope.chosenDFList[d]).$promise;toastr.success("Peak created");var sendBack=[createdPeak,"created"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating peak: "+errorResponse.headers(["usgswim-messages"]):"Error creating peak: "+errorResponse.statusText)})}}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must choose at least one HWM or Data File to use for interpretation for this Peak Summary.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}},$scope.showIncompleteDFInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Incomplete Data File</h3></div><div class="modal-body"><p>All RDGs, Met Station, and Rain Gage sensors require data file information in order to use as primary in the Peak summary.</p><p>Please revisit the Retrieved Sensor and click on NWIS Data Connection to add a link to the NWIS data if you want to use as primary.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$scope.showIncompleteHWMInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Incomplete HWM</h3></div><div class="modal-body"><p>Survey date and elevation are required in order to use as primary in the Peak summary.</p><p>Please revisit the HWM and add Survey date and elevation if you want to use as primary.</p><p>The HWM can be used for interpreation withouth a final elevation.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$scope.showRetrieveInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Deployed Sensor</h3></div><div class="modal-body"><p>This senosr needs to be retrieved before a Peak can be created.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("peakCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","Site_Files","thisSitePeaks","allVertDatums","allHWMQualities","allHWMTypes","PEAK","HWM","MEMBER","SITE","INST_COLL_CONDITION",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,Site_Files,thisSitePeaks,allVertDatums,allHWMQualities,allHWMTypes,PEAK,HWM,MEMBER,SITE,INST_COLL_CONDITION){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.peakCount={total:thisSitePeaks.length},$scope.SitePeaks=thisSitePeaks,$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SitePeaks=thisSitePeaks.filter(function(p){return p.event_name==$scope.sessionEventName}),$scope.peakCount={total:$scope.SitePeaks.length}):($scope.SitePeaks=thisSitePeaks,$scope.peakCount={total:$scope.SitePeaks.length})}),$scope.showPeakModal=function(peakClicked){$rootScope.stateIsLoading.showLoading=!0;var indexClicked=$scope.SitePeaks.indexOf(peakClicked),modalInstance=$uibModal.open({templateUrl:"PEAKmodal.html",controller:"peakModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return allVertDatums},thisPeak:function(){return 0!==peakClicked?PEAK.query({id:peakClicked.peak_summary_id}).$promise:"empty"},thisPeakDFs:function(){return 0!==peakClicked?PEAK.getPeakSummaryDFs({id:peakClicked.peak_summary_id}).$promise:void 0},peakSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$cookies.get("SessionEventID"),EventStatus:0}).$promise},allSiteFiles:function(){return Site_Files.getAllSiteFiles()},allSiteSensors:function(){return SITE.getSiteSensors({id:thisSite.site_id}).$promise}}});modalInstance.result.then(function(createdPeak){"created"==createdPeak[1]&&($scope.SitePeaks.push(createdPeak[0]),$scope.peakCount.total=$scope.SitePeaks.length),"updated"==createdPeak[1]&&($scope.SitePeaks[indexClicked]=createdPeak[0]),"deleted"==createdPeak[1]&&($scope.SitePeaks.splice(indexClicked,1),$scope.peakCount.total=$scope.SitePeaks.length),$rootScope.stateIsLoading.showLoading=!1})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("OPmodalCtrl",["$scope","$rootScope","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","Site_Files","allDropdowns","thisOP","thisOPControls","opSite","agencyList","allMembers","OBJECTIVE_POINT","OP_CONTROL_IDENTIFIER","OP_MEASURE","SOURCE","FILE",function($scope,$rootScope,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,Site_Files,allDropdowns,thisOP,thisOPControls,opSite,agencyList,allMembers,OBJECTIVE_POINT,OP_CONTROL_IDENTIFIER,OP_MEASURE,SOURCE,FILE){$scope.serverURL=SERVER_URL,$scope.view={OPval:"detail"},$scope.fileIsUploading=!1,$scope.dl={dlOpen:!0,dlFileOpen:!1},$scope.OPTypeList=allDropdowns[0],$scope.HDList=allDropdowns[1],$scope.HCollectMethodList=allDropdowns[2],$scope.VDatumList=allDropdowns[3],$scope.VCollectMethodList=allDropdowns[4],$scope.OPQualityList=allDropdowns[5],$scope.fileTypeList=allDropdowns[6],$scope.htmlDescriptionTip=$sce.trustAsHtml("Please describe location and type of mark <em>ie. 'chiseled square on third sidewalk block on the south side of the street'</em>"),$scope.HWMfileIsUploading=!1,$scope.OP={},$scope.removeOPCarray=[],$scope.thisOPsite=opSite,$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.DMS={},$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.OPFiles="empty"!==thisOP?$scope.allSFiles.filter(function(sf){return sf.objective_point_id==thisOP.objective_point_id}):[],$scope.opImageFiles=$scope.OPFiles.filter(function(opf){return 1===opf.filetype_id}),$scope.showFileForm=!1,$scope.UnquantChecked=function(){void 0!==$scope.opCopy&&1==$scope.opCopy.unquantified&&($scope.opCopy.uncertainty="")},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Objective Point File",$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),$scope.OPFiles.splice($scope.existFileIndex,1),$scope.OPFiles.push(fresponse),1===fresponse.filetype_id&&($scope.opImageFiles.splice($scope.existFileIndex,1),$scope.opImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.OPFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.opImageFiles.length>0?$scope.opImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid&&($scope.fileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",null!==$scope.aSource.agency_id)){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisOPsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,objective_point_id:$scope.OP.objective_point_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Objective Point File",$scope.OPFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),FILE_STAMP.setStamp(),1===fresponse.filetype_id&&$scope.opImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fileIsUploading=!1},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.fileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Objective Point File",$scope.OPFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fileIsUploading=!1},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.OPFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.opImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};"empty"!=thisOP?($scope.opModalHeader="Datum Location Information",$scope.createOReditOP="edit",$scope.OP=angular.copy(thisOP),$scope.OP.date_established=makeAdate($scope.OP.date_established),0===$scope.OP.vdatum_id&&delete $scope.OP.vdatum_id,null!==$scope.OP.date_recovered&&($scope.OP.date_recovered=makeAdate($scope.OP.date_recovered)),thisOPControls.length>0&&($scope.addedIdentifiers=thisOPControls,$scope.showControlIDinput=!0),$scope.OP.opType=$scope.OP.op_type_id>0?$scope.OPTypeList.filter(function(t){return t.objective_point_type_id==$scope.OP.op_type_id})[0].op_type:"",$scope.OP.quality=$scope.OP.op_quality_id>0?$scope.OPQualityList.filter(function(q){return q.op_quality_id==$scope.OP.op_quality_id})[0].quality:"",$scope.OP.hdatum=$scope.OP.hdatum_id>0?$scope.HDList.filter(function(hd){return hd.datum_id==$scope.OP.hdatum_id})[0].datum_name:"",$scope.OP.hCollectMethod=$scope.OP.hcollect_method_id>0?$scope.HCollectMethodList.filter(function(hc){return hc.hcollect_method_id==$scope.OP.hcollect_method_id})[0].hcollect_method:"",$scope.OP.vDatum=$scope.OP.vdatum_id>0?$scope.VDatumList.filter(function(vd){return vd.datum_id==$scope.OP.vdatum_id})[0].datum_name:"",$scope.OP.vCollectMethod=$scope.OP.vcollect_method_id>0?$scope.VCollectMethodList.filter(function(vc){return vc.vcollect_method_id==$scope.OP.vcollect_method_id})[0].vcollect_method:""):($scope.opModalHeader="Create new Datum Location",$scope.createOReditOP="create",$scope.OP.latitude_dd=opSite.latitude_dd,$scope.OP.longitude_dd=opSite.longitude_dd,$scope.OP.hdatum_id=opSite.hdatum_id,$scope.OP.date_established=makeAdate("")),$scope.OP.decDegORdms="dd",$scope.OP.FTorMETER="ft",$scope.OP.FTorCM="ft",$scope.addNewIdentifier=function(){"edit"==$scope.createOReditOP?$scope.addedIdentifiersCopy.push({objective_point_id:$scope.OP.objective_point_id,identifier:"",identifier_type:""}):$scope.addedIdentifiers.push({identifier:"",identifier_type:""}),$scope.showControlIDinput=!0},$scope.datepickrs={},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("edit"==$scope.createOReditOP){if("dd"==$scope.opCopy.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.opCopy.decDegORdms="dms"})}else if(void 0!==$scope.opCopy.latitude_dd){var latDMS=deg_to_dms($scope.opCopy.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.opCopy.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.opCopy.latitude_dd=void 0,$scope.opCopy.longitude_dd=void 0}}else if("dd"==$scope.OP.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.OP.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.OP.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSddModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSddModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.OP.decDegORdms="dms"})}else if(void 0!==$scope.OP.latitude_dd){var create_latDMS=deg_to_dms($scope.OP.latitude_dd).toString(),create_ladDMSarray=create_latDMS.split(":");$scope.DMS.LADeg=create_ladDMSarray[0],$scope.DMS.LAMin=create_ladDMSarray[1],$scope.DMS.LASec=create_ladDMSarray[2];var create_longDMS=deg_to_dms($scope.OP.longitude_dd),create_longDMSarray=create_longDMS.split(":");$scope.DMS.LODeg=-1*create_longDMSarray[0],$scope.DMS.LOMin=create_longDMSarray[1],$scope.DMS.LOSec=create_longDMSarray[2],$scope.OP.latitude_dd=void 0,$scope.OP.longitude_dd=void 0}};var trimOP=function(op){var OBJ_PT={name:op.name,description:op.description,elev_ft:void 0!==op.elev_ft?op.elev_ft:null,date_established:op.date_established,op_is_destroyed:void 0!==op.op_is_destroyed?op.op_is_destroyed:0,op_notes:void 0!==op.op_notes?op.op_notes:null,site_id:$scope.thisOPsite.site_id,vdatum_id:void 0!==op.vdatum_id?op.vdatum_id:0,latitude_dd:op.latitude_dd,longitude_dd:op.longitude_dd,hdatum_id:void 0!==op.hdatum_id?op.hdatum_id:0,hcollect_method_id:void 0!==op.hcollect_method_id?op.hcollect_method_id:0,vcollect_method_id:void 0!==op.vcollect_method_id?op.vcollect_method_id:0,op_type_id:op.op_type_id,date_recovered:void 0!==op.date_recovered?op.date_recovered:null,uncertainty:void 0!==op.uncertainty&&""!==op.uncertainty?op.uncertainty:null,unquantified:void 0!==op.unquantified?op.unquantified:null,op_quality_id:void 0!==op.op_quality_id?op.op_quality_id:null};return OBJ_PT};$scope.cancel=function(){$uibModalInstance.close()};var formatDefaults=function(theOP,fromWhere){"create"==fromWhere?("meter"==theOP.FTorMETER&&($scope.OP.FTorMETER="ft",$scope.OP.elev_ft=3.2808*$scope.OP.elev_ft),"cm"==theOP.FTorCM&&($scope.OP.FTorCM="ft",$scope.OP.uncertainty=parseFloat($scope.OP.uncertainty/30.48).toFixed(6)),"dms"==theOP.decDegORdms&&($scope.OP.decDegORdms="dd",$scope.OP.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.OP.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={},$scope.OP.site_id=$scope.thisOPsite.site_id)):("meter"==theOP.FTorMETER&&($scope.opCopy.FTorMETER="ft",$scope.opCopy.elev_ft=3.2808*$scope.opCopy.elev_ft),"cm"==theOP.FTorCM&&($scope.opCopy.FTorCM="ft",$scope.opCopy.uncertainty=parseFloat($scope.opCopy.uncertainty/30.48).toFixed(6)),"dms"==theOP.decDegORdms&&($scope.opCopy.decDegORdms="dd",$scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={},$scope.opCopy.site_id=$scope.thisOPsite.site_id))};$scope.create=function(){if(this.OPForm.$valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdOP={};if(formatDefaults($scope.OP,"create"),$scope.OP.latitude_dd<0||$scope.OP.latitude_dd>73||isNaN($scope.OP.latitude_dd))openLatModal("latlong"),isNaN($scope.OP.latitude_dd)&&($scope.OP.latitude_dd=void 0);else if($scope.OP.longitude_dd<-175||$scope.OP.longitude_dd>-60||isNaN($scope.OP.longitude_dd))openLongModal("latlong"),isNaN($scope.OP.longitude_dd)&&($scope.OP.longitude_dd=void 0);else{var OPtoPOST=trimOP($scope.OP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(toastr.success("Datum Location created"),createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++){var thisOne=$scope.addedIdentifiers[opc];thisOne.objective_point_id=response.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOne).$promise}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdOP,"created"];$uibModalInstance.close(sendBack)})}}},$scope.RemoveID=function(opControl){if(void 0!==$scope.addedIdentifiersCopy){var i=$scope.addedIdentifiersCopy.indexOf(opControl);void 0!==opControl.op_control_identifier_id?($scope.removeOPCarray.push(opControl),$scope.addedIdentifiersCopy.splice(i,1)):$scope.addedIdentifiersCopy.splice(i,1)}else{var ci=$scope.addedIdentifiers.indexOf(opControl);$scope.addedIdentifiers.splice(ci,1)}},$scope.save=function(valid){if(valid)if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.DMS.LADeg&&($scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.opCopy.latitude_dd<0||$scope.opCopy.latitude_dd>73||isNaN($scope.opCopy.latitude_dd))openLatModal("latlong"),isNaN($scope.opCopy.latitude_dd)&&($scope.opCopy.latitude_dd=void 0);else if($scope.opCopy.longitude_dd<-175||$scope.opCopy.longitude_dd>-60||isNaN($scope.opCopy.longitude_dd))openLongModal("latlong"),isNaN($scope.opCopy.longitude_dd)&&($scope.opCopy.longitude_dd=void 0);else{if($scope.addedIdentifiersCopy.length>0)for(var i=0;i<$scope.addedIdentifiersCopy.length;i++)if(void 0!==$scope.addedIdentifiersCopy[i].op_control_identifier_id){var existIndex=$scope.addedIdentifiers.map(function(i){return i.op_control_identifier_id}).indexOf($scope.addedIdentifiersCopy[i].op_control_identifier_id);

OP_CONTROL_IDENTIFIER.update({id:$scope.addedIdentifiersCopy[i].op_control_identifier_id},$scope.addedIdentifiersCopy[i]).$promise.then(function(response){$scope.addedIdentifiers[existIndex]=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error saving control identifier: "+errorResponse.statusText)})}else{var thisOPControlID=$scope.addedIdentifiersCopy[i];thisOPControlID.objective_point_id=$scope.OP.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOPControlID).$promise.then(function(response){$scope.addedIdentifiers.push(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error creating control identifier: "+errorResponse.statusText)})}if($scope.removeOPCarray.length>0)for(var r=0;r<$scope.removeOPCarray.length;r++){var deIndex=$scope.addedIdentifiers.map(function(ri){return ri.op_control_identifier_id}).indexOf($scope.removeOPCarray[r].op_control_identifier_id);OP_CONTROL_IDENTIFIER["delete"]({id:$scope.removeOPCarray[r].op_control_identifier_id}).$promise.then(function(){$scope.addedIdentifiers.splice(deIndex,1)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error deleting control identifier: "+errorResponse.statusText)})}formatDefaults($scope.opCopy,"edit");var OPtoPOST=trimOP($scope.opCopy);OPtoPOST.objective_point_id=$scope.opCopy.objective_point_id,OBJECTIVE_POINT.update({id:OPtoPOST.objective_point_id},OPtoPOST,function(response){toastr.success("Datum Location updated"),$scope.OP=response,thisOP=response,$scope.OP.date_established=makeAdate($scope.OP.date_established),null!==$scope.OP.date_recovered&&($scope.OP.date_recovered=makeAdate($scope.OP.date_recovered)),$scope.OP.opType=$scope.OP.op_type_id>0?$scope.OPTypeList.filter(function(t){return t.objective_point_type_id==$scope.OP.op_type_id})[0].op_type:"",$scope.OP.quality=$scope.OP.op_quality_id>0?$scope.OPQualityList.filter(function(q){return q.op_quality_id==$scope.OP.op_quality_id})[0].quality:"",$scope.OP.hdatum=$scope.OP.hdatum_id>0?$scope.HDList.filter(function(hd){return hd.datum_id==$scope.OP.hdatum_id})[0].datum_name:"",$scope.OP.hCollectMethod=$scope.OP.hcollect_method_id>0?$scope.HCollectMethodList.filter(function(hc){return hc.hcollect_method_id==$scope.OP.hcollect_method_id})[0].hcollect_method:"",$scope.OP.vDatum=$scope.OP.vdatum_id>0?$scope.VDatumList.filter(function(vd){return vd.datum_id==$scope.OP.vdatum_id})[0].datum_name:"",$scope.OP.vCollectMethod=$scope.OP.vcollect_method_id>0?$scope.VCollectMethodList.filter(function(vc){return vc.vcollect_method_id==$scope.OP.vcollect_method_id})[0].vcollect_method:"",$scope.opCopy={},$scope.addedIdentifiersCopy=[],$scope.view.OPval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location: "+errorResponse.statusText)}).$promise}},$scope.deleteOP=function(){OP_MEASURE.getDatumLocationOPMeasures({objectivePointId:$scope.OP.objective_point_id}).$promise.then(function(result){if(result.length>0){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Cannot Delete</h3></div><div class="modal-body"><p>This Datum Location is being used for one or more sensor tape downs. Please delete the tape down before deleting the datum location.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}else{var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.OP},what:function(){return"Objective Point"}}});DeleteModalInstance.result.then(function(opToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OBJECTIVE_POINT["delete"]({id:opToRemove.objective_point_id},opToRemove).$promise.then(function(){$scope.OPFiles=[],$scope.opImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].objective_point_id==opToRemove.objective_point_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Datum Location Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location: "+errorResponse.statusText)})})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting datum location measures: "+errorResponse.headers(["usgswim-messages"]):"Error getting datum location measures: "+errorResponse.statusText)})};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d){if("dms"==d)($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0));else{var op="edit"==$scope.view.OPval?$scope.opCopy:$scope.OP;(op.latitude_dd<0||op.latitude_dd>73||isNaN(op.latitude_dd))&&(openLatModal("latlong"),isNaN(op.latitude_dd)&&(op.latitude_dd=void 0)),(op.longitude_dd<-175||op.longitude_dd>-60||isNaN(op.longitude_dd))&&(openLongModal("latlong"),isNaN(op.longitude_dd)&&(op.longitude_dd=void 0))}},$scope.wannaEditOP=function(){$scope.view.OPval="edit",$scope.opCopy=angular.copy($scope.OP),$scope.opCopy.decDegORdms="dd",$scope.opCopy.FTorMETER="ft",$scope.opCopy.FTorCM="ft",$scope.addedIdentifiersCopy=angular.copy($scope.addedIdentifiers)},$scope.cancelOPEdit=function(){$scope.view.OPval="detail",$scope.opCopy=[]},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("objectivePointCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","OBJECTIVE_POINT","MEMBER","SITE","thisSite","thisSiteOPs","allOPTypes","allHorDatums","allHorCollMethods","allVertDatums","allVertColMethods","allOPQualities","allFileTypes","allAgencies",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,OBJECTIVE_POINT,MEMBER,SITE,thisSite,thisSiteOPs,allOPTypes,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allOPQualities,allFileTypes,allAgencies){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.opCount={total:thisSiteOPs.length},$scope.SiteObjectivePoints=thisSiteOPs,$scope.showOPModal=function(OPclicked){$scope.opFileTypes=allFileTypes.filter(function(oft){return"Photo"===oft.filetype||"Field Sheets"===oft.filetype||"Level Notes"===oft.filetype||"Other"===oft.filetype||"NGS Datasheet"===oft.filetype||"Sketch"===oft.filetype});{var passAllLists=[allOPTypes,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allOPQualities,$scope.opFileTypes];$scope.SiteObjectivePoints.indexOf(OPclicked)}$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"OPmodal.html",controller:"OPmodalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},thisOP:function(){return 0!==OPclicked?OPclicked:"empty"},thisOPControls:function(){return 0!==OPclicked?OBJECTIVE_POINT.getOPControls({id:OPclicked.objective_point_id}).$promise:void 0},opSite:function(){return SITE.query({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdOP){if($rootScope.stateIsLoading={showLoading:!1},void 0!==createdOP){if("created"==createdOP[1]&&($scope.SiteObjectivePoints.push(createdOP[0]),$scope.opCount.total=$scope.SiteObjectivePoints.length),void 0===createdOP[1]){var iClicked=$scope.SiteObjectivePoints.indexOf(OPclicked);$scope.SiteObjectivePoints[iClicked]=createdOP}if("deleted"==createdOP[1]){var indexClicked1=$scope.SiteObjectivePoints.indexOf(OPclicked);$scope.SiteObjectivePoints.splice(indexClicked1,1),$scope.opCount.total=$scope.SiteObjectivePoints.length}}})})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapSiteInfoController",["$scope","$http","$rootScope","$cookies","$location","SITE","leafletMarkerEvents","leafletBoundsHelpers","$state","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,leafletMarkerEvents,leafletBoundsHelpers,$state,spinnerService){$scope.status={siteOpen:!0},$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.aSite=siteParts[0],$scope.aSite.latitude_dd=parseFloat($scope.aSite.latitude_dd.toFixed(6)),$scope.aSite.longitude_dd=parseFloat($scope.aSite.longitude_dd.toFixed(6)),spinnerService.hide("siteInfoSpinner")}),$scope.goToSiteDashboard=function(){$state.go("site.dashboard",{id:$scope.aSite.site_id})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapSensorProposeController",["$scope","$http","$timeout","$rootScope","$cookies","$location","SITE","INSTRUMENT","INSTRUMENT_STATUS","allDeployTypes","allSensDeps","leafletMarkerEvents","leafletBoundsHelpers","$state",function($scope,$http,$timeout,$rootScope,$cookies,$location,SITE,INSTRUMENT,INSTRUMENT_STATUS,allDeployTypes,allSensDeps,leafletMarkerEvents,leafletBoundsHelpers,$state){$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.thisSite=siteParts[0],$scope.status.sensorOpen=!1,$scope.ProposedSensors4Site=[],$scope.showProposed=!1}),$scope.deployTypeList=angular.copy(allDeployTypes);for(var tempDepTypeID=0,d=0;d<$scope.deployTypeList.length;d++)"Temperature"===$scope.deployTypeList[d].method&&(tempDepTypeID=$scope.deployTypeList[d].deployment_type_id,$scope.deployTypeList[d].method="Temperature (Met sensor)");$scope.deployTypeList.push({deployment_type_id:tempDepTypeID,method:"Temperature (Pressure Transducer)"}),$scope.getProposedSensors=function(){SITE.getSiteSensors({id:$scope.thisSite.site_id}).$promise.then(function(sResponse){for(var s=0;s<sResponse.length;s++){var correctOrderSS=[],sensorStatuses=sResponse[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);sResponse[s].instrument_status=[],sResponse[s].instrument_status=correctOrderSS}$scope.ProposedSensors4Site=sResponse.filter(function(ss){return 4==ss.instrument_status[0].status_type_id})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site sensors: "+errorResponse.headers(["usgswim-messages"]):"Error getting site sensors: "+errorResponse.statusText)})},$scope.sensDepTypes=allSensDeps,$scope.showProposed=!1,$scope.status={sensorOpen:!1},$scope.showHideProposed=function(){$scope.showProposed=!$scope.showProposed},$scope.cancelProposing=function(){$scope.showProposed=!1},$scope.AddProposed=function(){for(var Time_STAMP=new Date,dt=0;dt<$scope.deployTypeList.length;dt++)if($scope.deployTypeList[dt].selected===!0){var proposedToAdd={},propStatToAdd={};if("Temp"==$scope.deployTypeList[dt].method.substring(0,4))proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:$scope.thisSite.site_id,sensor_type_id:"Temperature (Pressure Transducer)"==$scope.deployTypeList[dt].method?1:2};else{var sID=0;angular.forEach($scope.sensDepTypes,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==$scope.deployTypeList[dt].deployment_type_id&&(sID=sdt.sensor_type_id)}),proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:$scope.thisSite.site_id,sensor_type_id:sID}}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save(proposedToAdd).$promise.then(function(response){instrumentID=response.instrument_id;var createdPropSensor={deployment_type_id:response.deployment_type_id,site_id:response.site_id,sensor_type_id:response.sensor_type_id,instrument_id:response.instrument_id,deploymentType:$scope.deployTypeList.filter(function(dtl){return dtl.deployment_type_id==response.deployment_type_id})[0].method,sensorType:$scope.sensDepTypes.filter(function(s){return s.sensor_type_id==response.sensor_type_id})[0].sensor};propStatToAdd={instrument_id:response.instrument_id,status_type_id:4,member_id:$cookies.get("mID"),time_stamp:Time_STAMP,time_zone:"UTC"},INSTRUMENT_STATUS.save(propStatToAdd).$promise.then(function(statResponse){propStatToAdd.status="Proposed",propStatToAdd.instrument_status_id=statResponse.instrument_status_id,createdPropSensor.instrument_status=[propStatToAdd],$scope.ProposedSensors4Site.push(createdPropSensor);for(var dep=0;dep<$scope.deployTypeList.length;dep++)$scope.deployTypeList[dep].selected=!1;$timeout(function(){$scope.showProposed=!1,toastr.success("Proposed sensor created")})},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),angular.forEach($scope.deployTypeList,function(dt){dt.selected=!1}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapPeaksController",["$scope","$rootScope","$http","$cookies","$location","leafletMarkerEvents","leafletBoundsHelpers","$state",function($scope,$rootScope,$http,$cookies,$location,leafletMarkerEvents,leafletBoundsHelpers,$state){$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.sitePeaks=[];for(var allSitePeaks=siteParts[1],p=0;p<allSitePeaks.length;p++)allSitePeaks[p].event_name==$cookies.get("SessionEventName")&&$scope.sitePeaks.push(allSitePeaks[p]);$scope.showPeaks=!0}),$scope.showPeaks=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapFiltersController",["$scope","$http","$rootScope","$cookies","$location","SITE","EVENT","Map_Filter","$state","stateList","sensorTypes","networkNames","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,EVENT,Map_Filter,$state,stateList,sensorTypes,networkNames,spinnerService){$scope.status={siteOpen:!0},$scope.states=stateList,$scope.senTypes=sensorTypes,$scope.netNames=networkNames,$scope.surveyOptions=[{id:!0,value:"Surveyed HWMs"},{id:!1,value:"Unsurveyed HWMs"}],$scope.Chosen={network:null,sensor:null,survey:null},$scope.chosenStates=[],$scope.siteResponse=!1,$scope.checkboxModel={eventSitesOnly:"1",hwmOnly:"0",senOnly:"0",rdgOnly:"0",opDefined:"0"},$scope.searchSites=function(){if(spinnerService.show("mapSpinner"),"1"===$scope.checkboxModel.eventSitesOnly&&$scope.sessionEventExists===!0){var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[];var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$rootScope.searchParams={event:evID,state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},SITE.getFilteredSites({Event:evID,State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){spinnerService.hide("mapSpinner"),Map_Filter.setFilteredSites(response)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}else if("0"===$scope.checkboxModel.eventSitesOnly||$scope.sessionEventExists===!1){var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[],$rootScope.searchParams={state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined};var sp=$rootScope.searchParams;if("0"===sp.HWMOnly&&null===sp.HWMSurveyed&&null===sp.NetworkName&&"0"===sp.OPDefined&&"0"===sp.RDGOnly&&"0"===sp.SensorOnly&&null===sp.SensorType&&0===sp.state.length)return spinnerService.hide("mapSpinner"),toastr.options.positionClass="toast-bottom-right",void toastr.warning("Please select at least one search parameter.","Map Filters");SITE.getFilteredSites({State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){spinnerService.hide("mapSpinner"),Map_Filter.setFilteredSites(response)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}},$scope.stateClick=function(data){if(data.selected===!0&&$scope.chosenStates.push(data.state_abbrev),data.selected===!1){var ind=$scope.chosenStates.indexOf(data.state_abbrev);ind>=0&&$scope.chosenStates.splice(ind,1)}},$scope.clearFilters=function(){spinnerService.show("mapSpinner"),$scope.checkboxModel={eventSitesOnly:1,hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.Chosen={},$scope.chosenStates=[],angular.forEach($scope.states,function(st){st.selected=!1});var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$scope.sitesPromise=EVENT.getEventSites({id:evID},function(response){Map_Filter.setFilteredSites(response),spinnerService.hide("mapSpinner")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting sites: "+errorResponse.statusText)})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapController",["$scope","$http","$rootScope","$cookies","$location","SITE","EVENT","Map_Site","leafletMarkerEvents","leafletBoundsHelpers","leafletData","$state","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,EVENT,Map_Site,leafletMarkerEvents,leafletBoundsHelpers,leafletData,$state,spinnerService){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Map",$rootScope.activeMenu="map",$scope.message="Many of the supplemental GIS data layers found in the map are from a range of sources and are not maintained by WiM. We offer these map layers as a decision support supplement to the STN sites layer, but we cannot guarantee their performance and availability. Many of these externally maintained layers are large datasets and may load slowly depending on network latency. In some cases they may fail to load entirely when network latency is high.",$rootScope.$on("filterSitesClick",function(event,filteredSitesArray){filteredSitesArray.length>0?($scope.paths={},$scope.selectedMarkerNum=0,showEventSites(filteredSitesArray)):(toastr.options.positionClass="toast-bottom-right",toastr.warning("Your filter returned no results.","Map Filters"))});var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},stnGray:{type:"div",iconSize:[10,10],className:"stnSiteGray"},newSite:{type:"div",iconSize:[10,10],className:"newSiteIcon",iconAnchor:[5,5]},selected:{type:"div",iconSize:[12,12],className:"selectedIcon"},nwis:L.divIcon({iconSize:[10,10],className:"arrow-up"}),action:L.icon({iconUrl:"images/action.png",popupAnchor:[10,10]}),low_threshold:L.icon({iconUrl:"images/low_threshold.png",popupAnchor:[10,10]}),major:L.icon({iconUrl:"images/major.png",popupAnchor:[10,10]}),minor:L.icon({iconUrl:"images/minor.png",popupAnchor:[10,10]}),moderate:L.icon({iconUrl:"images/moderate.png",popupAnchor:[10,10]}),no_flooding:L.icon({iconUrl:"images/no_flooding.png",popupAnchor:[10,10]}),not_defined:L.icon({iconUrl:"images/not_defined.png",popupAnchor:[10,10]}),obs_not_current:L.icon({iconUrl:"images/obs_not_current.png",popupAnchor:[10,10]}),out_of_service:L.icon({iconUrl:"images/out_of_service.png",popupAnchor:[10,10]})},showEventSites=function(response){var sitesArray=response;$scope.sites=sitesArray,$scope.markers=[],$scope.markersLatLngArray=[],leafletData.getDirectiveControls().then(function(controls){controls.markers.create({},$scope.markers);for(var markers=[],i=0;i<sitesArray.length;i++){var a=sitesArray[i];markers.push({layer:"stnSites",lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,title:"STN Site",icon:icons.stn}),$scope.markersLatLngArray.push([a.latitude_dd,a.longitude_dd])}controls.markers.create(markers,$scope.markers),$scope.markers=markers})};$scope.pathsObj={circleMarker:{type:"circleMarker",radius:20,weight:3,color:"#000099",latlngs:{}}},$scope.selectedMarkerNum=0,$scope.$on("leafletDirectiveMarker.click",function(event,args){if("newSite"!=args.model.site_id){spinnerService.show("siteInfoSpinner"),$scope.markers[$scope.selectedMarkerNum].icon=icons.stn,delete $scope.markers[$scope.selectedMarkerNum].label;var siteID=args.model.site_id;Map_Site.setMapSiteParts(siteID),$scope.selectedMarkerNum=parseInt(args.modelName),$scope.markers[$scope.selectedMarkerNum].icon=icons.selected,$scope.markers[$scope.selectedMarkerNum].label={message:"Site "+siteID,options:{noHide:!0,offset:[25,-15],className:"siteLabel"}},$scope.mapCenter.zoom<=9?$scope.mapCenter={lat:args.model.lat,lng:args.model.lng,zoom:10}:$scope.mapCenter.zoom>=10&&($scope.mapCenter={lat:args.model.lat,lng:args.model.lng,zoom:$scope.mapCenter.zoom});var addShape=function(){$scope.paths={},$scope.pathsObj.circleMarker.latlngs={lat:args.model.lat,lng:args.model.lng},$scope.paths.circleMarker=$scope.pathsObj.circleMarker};addShape()}}),$scope.$watch(function(){return $cookies.get("SessionEventID")},function(newValue){if(void 0===newValue)return toastr.options.positionClass="toast-bottom-right",toastr.options.timeOut="8000",toastr.options.closeButton=!0,void toastr.warning("No sites are showing because you have no filters applied. Please select at least one search parameter.","Map Filters");$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events";var evID=newValue;spinnerService.show("mapSpinner"),$scope.selectedMarkerNum=0,$scope.paths={},$scope.sitesPromise=EVENT.getEventSites({id:evID},function(response){spinnerService.hide("mapSpinner"),showEventSites(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting sites: "+errorResponse.statusText),$scope.error="Could not fetch sites"})}),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1});$scope.$on("leafletDirectiveMap.click",function(event,args){if($scope.createSiteModeActive===!0){removeUserCreatedSite();var leafEvent=args.leafletEvent;$scope.userCreatedSite={latitude:leafEvent.latlng.lat,longitude:leafEvent.latlng.lng},$scope.markers.push({layer:"newSite",lat:$scope.userCreatedSite.latitude,lng:$scope.userCreatedSite.longitude,site_id:"newSite",icon:icons.newSite,message:"New draggable STN site",draggable:!0,focus:!1,label:{message:"New Site",options:{noHide:!0,className:"newSiteLabel"}}})}});var removeUserCreatedSite=function(){var createdSiteIndex=$scope.markers.map(function(obj){return obj.site_id}).indexOf("newSite");createdSiteIndex>-1&&($scope.markers.splice(createdSiteIndex,1),$scope.userCreatedSite={})};$scope.$on("leafletDirectiveMarker.dragend",function(event,args){var dragendLocation=args.model;$scope.userCreatedSite={latitude:dragendLocation.lat,longitude:dragendLocation.lng}}),$scope.$watch("createSiteModeActive",function(){$scope.createSiteButtonText=$scope.createSiteModeActive?"Cancel Create Site Mode":"Create New Site on Map",$scope.mapStyle=$scope.createSiteModeActive?{cursor:"crosshair"}:{cursor:"grab"},$scope.createSiteModeActive||removeUserCreatedSite()}),$scope.createSiteFromMap=function(){void 0!==$scope.userCreatedSite.latitude&&void 0!==$scope.userCreatedSite.longitude?$state.go("site.dashboard",{id:0,latitude:$scope.userCreatedSite.latitude,longitude:$scope.userCreatedSite.longitude}):alert("Please click a location on the map to create a site this way.")},leafletData.getMap().then(function(map){var geoSearchControl=new L.Control.GeoSearch({provider:new L.GeoSearch.Provider.Esri,position:"topleft",zoomLevel:15});geoSearchControl.addTo(map)}),delete $http.defaults.headers.common.Authorization,angular.extend($scope,{events:{markers:{enable:leafletMarkerEvents.getAvailableEvents()}},mapCenter:{lat:41.278,lng:-92.336,zoom:4,minZoom:4},controls:{},markersWatchOptions:{doWatch:!0,isDeep:!0,individual:{doWatch:!0,isDeep:!1}},paths:{},markers:[],markersLatLngArray:[],createSiteModeActive:!1,userCreatedSite:{},layers:{baselayers:{gray:{name:"Gray",type:"agsBase",layer:"Gray",visible:!1},streets:{name:"Streets",type:"agsBase",layer:"Streets",visible:!1},topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1},national:{name:"National Geographic",type:"agsBase",layer:"NationalGeographic",visible:!1},oceans:{name:"Oceans",type:"agsBase",layer:"Oceans",visible:!1},darkgray:{name:"DarkGray",type:"agsBase",layer:"DarkGray",visible:!1},imagery:{name:"Imagery",type:"agsBase",layer:"Imagery",visible:!1},shadedrelief:{name:"Shaded Relief",type:"agsBase",layer:"ShadedRelief",visible:!1},terrain:{name:"Terrain",type:"agsBase",layer:"Terrain",visible:!1}},overlays:{stnSites:{type:"group",name:"STN Sites",visible:!0},stnSitesAll:{type:"group",name:"STN Sites All",visible:!0},newSite:{type:"group",name:"newSite",visible:!0,layerParams:{showOnSelector:!1}},ahps:{name:"AHPS Gages",type:"agsFeature",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/ahps_riv_gauges/MapServer/0",visible:!1,layerOptions:{opacity:1,pointToLayer:function(geojson,latlng){return L.marker(latlng,{icon:icons[geojson.properties.status]})},onEachFeature:function(feature,layer){var graphURL="https://water.weather.gov/resources/hydrographs/"+feature.properties.gaugelid.toLowerCase()+"_hg.png";layer.bindPopup("<b>Gage ID: </b>"+feature.properties.gaugelid+"</br><a target='_blank' href='"+feature.properties.url+"'><img title='Click for details page' width=300 src='"+graphURL+"'/></a>")}}},radar:{name:"Weather Radar",type:"agsDynamic",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/radar_base_reflectivity/MapServer",visible:!1,layerOptions:{layers:[0],opacity:1}},watchWarn:{name:"NWS Watches & Warnings",type:"agsDynamic",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Forecasts_Guidance_Warnings/watch_warn_adv/MapServer",visible:!1,layerOptions:{layers:[1],opacity:1}}}}})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("quickHWMCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","allHorDatums","allHorCollMethods","allStates","allCounties","allOPTypes","allVertDatums","allVertColMethods","allOPQualities","allHWMTypes","allHWMQualities","allMarkers","SITE","OBJECTIVE_POINT","HWM",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,allHorDatums,allHorCollMethods,allStates,allCounties,allOPTypes,allVertDatums,allVertColMethods,allOPQualities,allHWMTypes,allHWMQualities,allMarkers,SITE,OBJECTIVE_POINT,HWM){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Quick HWM",$scope.qhwmForm={};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};$scope.decDegORdms={},
$scope.aSite={MEMBER_ID:$cookies.get("mID")},$scope.aOP={DATE_ESTABLISHED:makeAdate("")},$scope.aHWM={HWM_ENVIRONMENT:"Riverine",BANK:"N/A",FLAG_DATE:makeAdate(""),STILLWATER:0},$scope.status={siteOpen:!0,opOpen:!1,hwmOpen:!1},$scope.removeOPCarray=[],$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.horDatumList=allHorDatums,$scope.horCollMethodList=allHorCollMethods,$scope.stateList=allStates,$scope.allCountyList=allCounties,$scope.stateCountyList=[],$scope.opTypeList=allOPTypes,$scope.vertDatumList=allVertDatums,$scope.vertCollMethodList=allVertColMethods,$scope.opQualList=allOPQualities,$scope.hwmTypeList=allHWMTypes,$scope.hwmQualList=allHWMQualities,$scope.markerList=allMarkers,$scope.FTorMETER="ft",$scope.FTorCM="ft",$scope.addNewIdentifier=function(){$scope.addedIdentifiers.push({OBJECTIVE_POINT_ID:$scope.aOP.OBJECTIVE_POINT_ID,IDENTIFIER:"",IDENTIFIER_TYPE:""}),$scope.showControlIDinput=!0},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.decDegORdms.val="dd",$scope.DMS={};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.decDegORdms.val){if(void 0!==$scope.DMS.LADeg){$scope.aSite.LATITUDE_DD=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.LONGITUDE_DD=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)}}else if(void 0!==$scope.aSite.LATITUDE_DD){var latDMS=deg_to_dms($scope.aSite.LATITUDE_DD).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.LONGITUDE_DD),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getAddress=function(){delete $scope.aSite.ADDRESS,delete $scope.aSite.CITY,delete $scope.aSite.STATE,$scope.stateCountyList=[],delete $scope.aSite.ZIP,$rootScope.stateIsLoading.showLoading=!0;var geocoder=new google.maps.Geocoder,latlng=new google.maps.LatLng($scope.aSite.LATITUDE_DD,$scope.aSite.LONGITUDE_DD);geocoder.geocode({latLng:latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK){var address_components=results[0].address_components,components={};$.each(address_components,function(k,v1){$.each(v1.types,function(k2,v2){components[v2]=v1.long_name})}),$scope.aSite.ADDRESS=void 0!==components.street_number?components.street_number+" "+components.route:components.route,$scope.aSite.CITY=components.locality;var thisState=$scope.stateList.filter(function(s){return s.STATE_NAME==components.administrative_area_level_1})[0];void 0!==thisState?($scope.aSite.STATE=thisState.STATE_ABBREV,$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.STATE_ID==thisState.STATE_ID}),$scope.aSite.COUNTY=components.administrative_area_level_2,$scope.aSite.ZIP=components.postal_code,$rootScope.stateIsLoading.showLoading=!1,$scope.$apply()):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a location within the U.S."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("There was an error getting address. Please try again.")})},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1}),$scope.updateCountyList=function(s){var thisState=$scope.stateList.filter(function(st){return st.STATE_ABBREV==s})[0];$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.STATE_ID==thisState.STATE_ID})},$scope.UnquantChecked=function(){1==$scope.aOP.UNQUANTIFIED&&($scope.aOP.UNCERTAINTY=null)};var trimOP=function(op){var OBJ_PT={OBJECTIVE_POINT_ID:void 0!==op.OBJECTIVE_POINT_ID?op.OBJECTIVE_POINT_ID:0,NAME:op.NAME,DESCRIPTION:op.DESCRIPTION,ELEV_FT:void 0!==op.ELEV_FT?op.ELEV_FT:null,DATE_ESTABLISHED:op.DATE_ESTABLISHED,OP_IS_DESTROYED:void 0!==op.OP_IS_DESTROYED?op.OP_IS_DESTROYED:0,OP_NOTES:void 0!==op.OP_NOTES?op.OP_NOTES:null,SITE_ID:op.SITE_ID,VDATUM_ID:void 0!==op.VDATUM_ID?op.VDATUM_ID:0,LATITUDE_DD:op.LATITUDE_DD,LONGITUDE_DD:op.LONGITUDE_DD,HDATUM_ID:void 0!==op.HDATUM_ID?op.HDATUM_ID:0,HCOLLECT_METHOD_ID:void 0!==op.HCOLLECT_METHOD_ID?op.HCOLLECT_METHOD_ID:0,VCOLLECT_METHOD_ID:void 0!==op.VCOLLECT_METHOD_ID?op.VCOLLECT_METHOD_ID:0,OP_TYPE_ID:op.OP_TYPE_ID,DATE_RECOVERED:void 0!==op.DATE_RECOVERED?op.DATE_RECOVERED:null,UNCERTAINTY:void 0!==op.UNCERTAINTY?op.UNCERTAINTY:null,UNQUANTIFIED:void 0!==op.UNQUANTIFIED?op.UNQUANTIFIED:null,OP_QUALITY_ID:void 0!==op.OP_QUALITY_ID?op.OP_QUALITY_ID:null};return OBJ_PT},formatDefaults=function(theOP){"meter"==theOP.FTorMETER&&($scope.aOP.FTorMETER="ft",$scope.aOP.ELEV_FT=3.2808*$scope.aOP.ELEV_FT),"cm"==theOP.FTorCM&&($scope.aOP.FTorCM="ft",$scope.aOP.UNCERTAINTY=$scope.aOP.UNCERTAINTY/30.48)};$scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,$scope.create=function(){$rootScope.stateIsLoading.showLoading=!0;var theForm=$scope.qhwmForm.quickHWM;if($scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,theForm.$valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdSiteID=0;$scope.aSite.LONGITUDE_DD>0&&($scope.aSite.LONGITUDE_DD=-1*$scope.aSite.LONGITUDE_DD),SITE.save($scope.aSite,function(response){createdSiteID=response.SITE_ID,$scope.aOP.SITE_ID=createdSiteID,$scope.aOP.LATITUDE_DD=response.LATITUDE_DD,$scope.aOP.LONGITUDE_DD=response.LONGITUDE_DD,$scope.aOP.HDATUM_ID=response.HDATUM_ID,$scope.aOP.HCOLLECT_METHOD_ID=response.HCOLLECT_METHOD_ID,$scope.aHWM.SITE_ID=createdSiteID,$scope.aHWM.WATERBODY=response.WATERBODY,$scope.aHWM.LATITUDE_DD=response.LATITUDE_DD,$scope.aHWM.LONGITUDE_DD=response.LONGITUDE_DD,$scope.aHWM.HCOLLECT_METHOD_ID=response.HCOLLECT_METHOD_ID,$scope.aHWM.HDATUM_ID=response.HDATUM_ID,$scope.aHWM.FLAG_TEAM_ID=response.MEMBER_ID,$scope.aHWM.EVENT_ID=$cookies.get("SessionEventID");var createdOP={};formatDefaults($scope.aOP);var OPtoPOST=trimOP($scope.aOP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++)OBJECTIVE_POINT.createOPControlID({id:response.OBJECTIVE_POINT_ID},$scope.addedIdentifiers[opc]).$promise;void 0!==$scope.aHWM.SURVEY_DATE&&($scope.aHWM.SURVEY_TEAM_ID=$scope.aHWM.FLAG_TEAM_ID),void 0!==$scope.aHWM.ELEV_FT&&(void 0===$scope.aHWM.SURVEY_DATE&&($scope.aHWM.SURVEY_DATE=makeAdate("")),$scope.aHWM.SURVEY_TEAM_ID=$scope.aHWM.FLAG_TEAM_ID),HWM.save($scope.aHWM).$promise.then(function(response){toastr.success("Quick HWM created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply})})})}else $rootScope.stateIsLoading.showLoading=!1,$scope.status.siteOpen=!0,$scope.status.opOpen=!0,$scope.status.hwmOpen=!0,angular.element("[name='"+theForm.$name+"']").find(".ng-invalid:visible:first").focus(),(theForm.SITE_DESCRIPTION.$invalid||theForm.LATITUDE_DD.$invalid||theForm.LONGITUDE_DD.$invalid||theForm.HDATUM_ID.$invalid||theForm.HCOLLECT_METHOD_ID.$invalid||theForm.WATERBODY.$invalid||theForm.STATE.$invalidv||theForm.COUNTY.$invalid)&&($scope.siteErrors=!0),(theForm.OP_TYPE_ID.$invalid||theForm.NAME.$invalid||theForm.DESCRIPTION.$invalid||theForm.de.$invalid)&&($scope.opErrors=!0),(theForm.HWM_TYPE_ID.$invalid||theForm.HWM_ENVIRONMENT.$invalid||theForm.HWM_QUALITY_ID.$invalid||theForm.fd.$invalid)&&($scope.hwmErrors=!0),toastr.error("Quick HWM not created.")}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("hwmModalCtrl",["$scope","$rootScope","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDropdowns","Site_Files","thisHWM","allSiteHWMs","hwmApproval","agencyList","hwmSite","allMembers","HWM","SOURCE","FILE",function($scope,$rootScope,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDropdowns,Site_Files,thisHWM,allSiteHWMs,hwmApproval,agencyList,hwmSite,allMembers,HWM,SOURCE,FILE){$scope.view={HWMval:"detail"},$scope.h={hOpen:!0,hFileOpen:!1},$scope.hwmTypeList=allDropdowns[0],$scope.hwmQualList=allDropdowns[1],$scope.HDatumsList=allDropdowns[2],$scope.hCollMList=allDropdowns[3],$scope.VDatumsList=allDropdowns[4],$scope.vCollMList=allDropdowns[5],$scope.markerList=allDropdowns[6],$scope.eventList=allDropdowns[7],$scope.fileTypeList=allDropdowns[8],$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.HWMFiles="empty"!==thisHWM?$scope.allSFiles.filter(function(sf){return sf.hwm_id==thisHWM.hwm_id}):[],$scope.hwmImageFiles=$scope.HWMFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.userRole=$cookies.get("usersRole"),$scope.FlagMember="",$scope.SurveyMember="",$scope.showEventDD=!1,$scope.adminChanged={},$scope.serverURL=SERVER_URL,$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.ChangeEvent=function(){$scope.EventName=$scope.eventList.filter(function(el){return el.event_id==$scope.adminChanged.event_id})[0].event_name},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aHWM={},$scope.DMS={},$scope.thisHWMsite=hwmSite,$scope.ApprovalInfo={},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("edit"==$scope.createOReditHWM){if("dd"==$scope.hwmCopy.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.hwmCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.hwmCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSddModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSddModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.hwmCopy.decDegORdms="dms"})}else if(void 0!==$scope.hwmCopy.latitude_dd){var latDMS=deg_to_dms($scope.hwmCopy.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.hwmCopy.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.hwmCopy.latitude_dd=void 0,$scope.hwmCopy.longitude_dd=void 0}}else if("dd"==$scope.aHWM.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aHWM.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aHWM.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.aHWM.decDegORdms="dms"})}else if(void 0!==$scope.aHWM.latitude_dd){var create_latDMS=deg_to_dms($scope.aHWM.latitude_dd).toString(),create_ladDMSarray=create_latDMS.split(":");$scope.DMS.LADeg=create_ladDMSarray[0],$scope.DMS.LAMin=create_ladDMSarray[1],$scope.DMS.LASec=create_ladDMSarray[2];var create_longDMS=deg_to_dms($scope.aHWM.longitude_dd),create_longDMSarray=create_longDMS.split(":");$scope.DMS.LODeg=-1*create_longDMSarray[0],$scope.DMS.LOMin=create_longDMSarray[1],$scope.DMS.LOSec=create_longDMSarray[2],$scope.aHWM.latitude_dd=void 0,$scope.aHWM.longitude_dd=void 0}};var openLatModal=function(w,message){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',resolve:{show:function(){return message}},controller:["$scope","$uibModalInstance","show",function($scope,$uibModalInstance,show){$scope.ok=function(){$uibModalInstance.close()},"range"==show&&($scope.message="The Latitude must be between 0 and 73.0"),"distance"==show&&($scope.message="Latitude places the HWM more than 232 ft from the site's latitude. Please verify before continuing.")}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w,message){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',resolve:{show:function(){return message}},controller:["$scope","$uibModalInstance","show",function($scope,$uibModalInstance,show){$scope.ok=function(){$uibModalInstance.close()},"range"==show&&($scope.message="The Longitude must be between -175.0 and -60.0"),"distance"==show&&($scope.message="Longitude places the HWM more than 232 ft from the site's longitude. Please verify before continuing")}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d){if("dms"==d){if($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)openLatModal("dms","range"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0);else{var lat=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),latDis=hwmSite.latitude_dd-lat;Math.abs(latDis)>5e-4&&openLatModal("dms","distance")}if($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)openLongModal("dms","range"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0);else{var lo=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),loDis=hwmSite.longitude_dd-lo;Math.abs(loDis)>5e-4&&openLongModal("dms","distance")}}else{var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(h.latitude_dd<0||h.latitude_dd>73||isNaN(h.latitude_dd))openLatModal("latlong","range"),isNaN(h.latitude_dd)&&(h.latitude_dd=void 0);else{var latDistance=hwmSite.latitude_dd-h.latitude_dd;Math.abs(latDistance)>5e-4&&openLatModal("latlong","distance")}if(h.longitude_dd<-175||h.longitude_dd>-60||isNaN(h.longitude_dd))openLongModal("latlong","range"),isNaN(h.longitude_dd)&&(h.longitude_dd=void 0);else{var longDistance=hwmSite.longitude_dd-h.longitude_dd;Math.abs(longDistance)>5e-4&&openLongModal("latlong","distance")}}},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.chooseQuality=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty);h.hwm_quality_id=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty&&void 0!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id;if(h.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};"empty"!=thisHWM?($scope.createOReditHWM="edit",$scope.aHWM=angular.copy(thisHWM),$scope.aHWM.hwm_type=$scope.hwmTypeList.filter(function(ht){return ht.hwm_type_id==$scope.aHWM.hwm_type_id})[0].hwm_type,null!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.Marker=$scope.aHWM.marker_id>0?$scope.markerList.filter(function(m){return m.marker_id==$scope.aHWM.marker_id})[0].marker1:"",$scope.aHWM.Quality=$scope.aHWM.hwm_quality_id>0?$scope.hwmQualList.filter(function(hq){return hq.hwm_quality_id==$scope.aHWM.hwm_quality_id})[0].hwm_quality:"",$scope.aHWM.hdatum=$scope.aHWM.hdatum_id>0?$scope.HDatumsList.filter(function(hd){return hd.datum_id==$scope.aHWM.hdatum_id})[0].datum_name:"",$scope.aHWM.hCollectMethod=$scope.aHWM.hcollect_method_id>0?$scope.hCollMList.filter(function(hc){return hc.hcollect_method_id==$scope.aHWM.hcollect_method_id})[0].hcollect_method:"",$scope.aHWM.vDatum=$scope.aHWM.vdatum_id>0?$scope.VDatumsList.filter(function(vd){return vd.datum_id==$scope.aHWM.vdatum_id})[0].datum_name:"",$scope.aHWM.vCollectMethod=$scope.aHWM.vcollect_method_id>0?$scope.vCollMList.filter(function(vc){return vc.vcollect_method_id==$scope.aHWM.vcollect_method_id})[0].vcollect_method:"",void 0!==$scope.aHWM.approval_id&&HWM.getHWMApproval({id:$scope.aHWM.hwm_id}).$promise.then(function(response){$scope.ApprovalInfo.approvalDate=new Date(response.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==response.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwm approval info: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm approval info: "+errorResponse.statusText)}),$scope.hwmModalHeader="HWM Information",$scope.EventName=$scope.aHWM.event_id>0?$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name:"None provided",$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date),$scope.SurveyMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.survey_member_id})[0]),$scope.FlagMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.flag_member_id})[0]):($scope.hwmModalHeader="Create new HWM",$scope.createOReditHWM="create",$scope.aHWM={site_id:$scope.thisHWMsite.site_id,event_id:$cookies.get("SessionEventID"),hwm_environment:"Riverine",bank:"N/A",hwm_label:"no_label",stillwater:0,latitude_dd:hwmSite.latitude_dd,longitude_dd:hwmSite.longitude_dd,waterbody:hwmSite.waterbody,hdatum_id:hwmSite.hdatum_id,hcollect_method_id:hwmSite.hcollect_method_id,flag_date:makeAdate(""),flag_member_id:$scope.LoggedInMember.member_id},$scope.EventName=$cookies.get("SessionEventName"),$scope.FlagMember=$scope.LoggedInMember),$scope.aHWM.decDegORdms="dd",$scope.aHWM.FTorCM="ft",$scope.create=function(valid){if(valid){var createdHWM={};void 0!==$scope.DMS.LADeg&&($scope.aHWM.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aHWM.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.aHWM.latitude_dd<0||$scope.aHWM.latitude_dd>73||isNaN($scope.aHWM.latitude_dd)?(openLatModal("latlong","range"),isNaN($scope.aHWM.latitude_dd)&&($scope.aHWM.latitude_dd=void 0)):$scope.aHWM.longitude_dd<-175||$scope.aHWM.longitude_dd>-60||isNaN($scope.aHWM.longitude_dd)?(openLongModal("latlong","range"),isNaN($scope.aHWM.longitude_dd)&&($scope.aHWM.longitude_dd=void 0)):(void 0!==$scope.aHWM.survey_date&&null!==$scope.aHWM.survey_date&&($scope.aHWM.survey_member_id=$scope.flag_member_id),"cm"==$scope.aHWM.FTorCM&&($scope.aHWM.FTorCM="ft",void 0!==$scope.aHWM.uncertainty&&($scope.aHWM.uncertainty=parseFloat($scope.aHWM.uncertainty/30.48).toFixed(6))),void 0!==$scope.aHWM.elev_ft&&null!==$scope.aHWM.elev_ft&&(void 0===$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate("")),$scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.save($scope.aHWM).$promise.then(function(response){createdHWM=response,toastr.success("HWM created");var sendBack=[createdHWM,"created"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm: "+errorResponse.statusText)}))}},$scope.approveHWM=function(){var thisHWM=$scope.aHWM,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve HWM</h3></div><div class='modal-body'><p>Are you ready to approve this HWM?</p><p>The surveyed elevation is {{approveHWM.elev_ft || '---'}}</p><p>The height above ground is {{approveHWM.height_above_gnd || '---'}}</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.approveHWM=thisHWM,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisHWM)}}],size:"sm"});approveModal.result.then(function(h){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.approveHWM({id:h.hwm_id}).$promise.then(function(approvalResponse){h.approval_id=approvalResponse.approval_id,toastr.success("HWM Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error approving hwm: "+errorResponse.statusText)})},function(){})},$scope.unApproveHWM=function(){var thisHWM=$scope.aHWM,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this HWM?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.approveHWM=thisHWM,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisHWM)}}],size:"sm"});unapproveModal.result.then(function(h){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.unApproveHWM({id:h.hwm_id}).$promise.then(function(){h.approval_id=null,toastr.success("HWM Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving hwm: "+errorResponse.statusText)})},function(){})};var formatHWM=function(h){var formattedHWM={hwm_id:h.hwm_id,waterbody:h.waterbody,site_id:h.site_id,event_id:h.event_id,hwm_type_id:h.hwm_type_id,hwm_quality_id:h.hwm_quality_id,hwm_locationdescription:h.hwm_locationdescription,latitude_dd:h.latitude_dd,longitude_dd:h.longitude_dd,survey_date:h.survey_date,elev_ft:h.elev_ft,vdatum_id:h.vdatum_id,vcollect_method_id:h.vcollect_method_id,bank:h.bank,approval_id:h.approval_id,marker_id:h.marker_id,height_above_gnd:h.height_above_gnd,hcollect_method_id:h.hcollect_method_id,peak_summary_id:h.peak_summary_id,hwm_notes:h.hwm_notes,hwm_environment:h.hwm_environment,flag_date:h.flag_date,stillwater:h.stillwater,hdatum_id:h.hdatum_id,flag_member_id:h.flag_member_id,survey_member_id:h.survey_member_id,uncertainty:h.uncertainty,hwm_uncertainty:h.hwm_uncertainty,hwm_label:h.hwm_label};return formattedHWM};$scope.save=function(valid){if(valid){if(void 0!==$scope.DMS.LADeg&&($scope.hwmCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.hwmCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.hwmCopy.latitude_dd<0||$scope.hwmCopy.latitude_dd>73||isNaN($scope.hwmCopy.latitude_dd))openLatModal("latlong","range"),isNaN($scope.hwmCopy.latitude_dd)&&($scope.hwmCopy.latitude_dd=void 0);else if($scope.hwmCopy.longitude_dd<-175||$scope.hwmCopy.longitude_dd>-60||isNaN($scope.hwmCopy.longitude_dd))openLongModal("latlong","range"),isNaN($scope.hwmCopy.longitude_dd)&&($scope.hwmCopy.longitude_dd=void 0);else{void 0!==$scope.adminChanged.event_id&&($scope.hwmCopy.event_id=$scope.adminChanged.event_id),void 0!==$scope.hwmCopy.survey_date&&void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID")),"cm"==$scope.hwmCopy.FTorCM&&($scope.hwmCopy.FTorCM="ft",void 0!==$scope.hwmCopy.uncertainty&&($scope.hwmCopy.uncertainty=parseFloat($scope.hwmCopy.uncertainty/30.48).toFixed(6))),void 0!==$scope.hwmCopy.elev_ft&&null!==$scope.hwmCopy.elev_ft&&(void 0===$scope.hwmCopy.survey_date&&($scope.hwmCopy.survey_date=makeAdate("")),void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID"))),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var cleanHWM=formatHWM($scope.hwmCopy);HWM.update({id:cleanHWM.hwm_id},cleanHWM).$promise.then(function(response){toastr.success("HWM updated"),$scope.aHWM=response,thisHWM=response,$scope.aHWM.hwm_type=$scope.hwmTypeList.filter(function(ht){return ht.hwm_type_id==$scope.aHWM.hwm_type_id})[0].hwm_type,null!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.Marker=$scope.aHWM.marker_id>0?$scope.markerList.filter(function(m){return m.marker_id==$scope.aHWM.marker_id})[0].marker1:"",$scope.aHWM.Quality=$scope.aHWM.hwm_quality_id>0?$scope.hwmQualList.filter(function(hq){return hq.hwm_quality_id==$scope.aHWM.hwm_quality_id})[0].hwm_quality:"",$scope.aHWM.hdatum=$scope.aHWM.hdatum_id>0?$scope.HDatumsList.filter(function(hd){return hd.datum_id==$scope.aHWM.hdatum_id})[0].datum_name:"",$scope.aHWM.hCollectMethod=$scope.aHWM.hcollect_method_id>0?$scope.hCollMList.filter(function(hc){return hc.hcollect_method_id==$scope.aHWM.hcollect_method_id})[0].hcollect_method:"",$scope.aHWM.vDatum=$scope.aHWM.vdatum_id>0?$scope.VDatumsList.filter(function(vd){return vd.datum_id==$scope.aHWM.vdatum_id})[0].datum_name:"",$scope.aHWM.vCollectMethod=$scope.aHWM.vcollect_method_id>0?$scope.vCollMList.filter(function(vc){return vc.vcollect_method_id==$scope.aHWM.vcollect_method_id})[0].vcollect_method:"",$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),void 0!==hwmApproval&&($scope.ApprovalInfo.approvalDate=new Date(hwmApproval.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==hwmApproval.member_id})[0]),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date),$scope.SurveyMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.survey_member_id})[0]),$scope.FlagMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.flag_member_id})[0],$scope.hwmCopy={},$scope.view.HWMval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}}},$scope.deleteHWM=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aHWM},what:function(){return"HWM"}}});DeleteModalInstance.result.then(function(hwmToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM["delete"]({id:hwmToRemove.hwm_id},hwmToRemove).$promise.then(function(){$scope.HWMFiles=[],$scope.hwmImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].hwm_id==hwmToRemove.hwm_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("HWM Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm: "+errorResponse.statusText)})})},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sendBack=$scope.aHWM;$uibModalInstance.close(sendBack)},$scope.wannaEditHWM=function(){$scope.view.HWMval="edit",$scope.hwmCopy=angular.copy($scope.aHWM),$scope.hwmCopy.decDegORdms="dd",$scope.hwmCopy.FTorCM="ft"},$scope.cancelHWMEdit=function(){$scope.view.HWMval="detail",$scope.hwmCopy=[],
$scope.adminChanged={},$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&($scope.hwmImageFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.HWMFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.hwmImageFiles.length>0?$scope.hwmImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisHWMsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,hwm_id:$scope.aHWM.hwm_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.hwmImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisHWMsite.site_id,$scope.aFile.hwm_id=$scope.aHWM.hwm_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="HWM File",$scope.HWMFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.hwmImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("hwmCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","thisSiteHWMs","HWM_Service","allAgencies","allHWMTypes","allHWMQualities","allHorDatums","allMarkers","allHorCollMethods","allVertDatums","allVertColMethods","allEvents","allFileTypes","MEMBER","HWM","SITE",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,thisSiteHWMs,HWM_Service,allAgencies,allHWMTypes,allHWMQualities,allHorDatums,allMarkers,allHorCollMethods,allVertDatums,allVertColMethods,allEvents,allFileTypes,MEMBER,HWM,SITE){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.hwmCount={total:thisSiteHWMs.length},$scope.SiteHWMs=thisSiteHWMs,HWM_Service.setAllSiteHWMs($scope.SiteHWMs),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SiteHWMs=thisSiteHWMs.filter(function(h){return h.event_id==$cookies.get("SessionEventID")}),$scope.hwmCount={total:$scope.SiteHWMs.length}):($scope.SiteHWMs=thisSiteHWMs,$scope.hwmCount={total:$scope.SiteHWMs.length})}),$scope.showHWMModal=function(HWMclicked){{var hwmFileTypes=allFileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),passAllLists=[allHWMTypes,allHWMQualities,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allMarkers,allEvents,hwmFileTypes];$scope.SiteHWMs.indexOf(HWMclicked)}$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"HWMmodal.html",controller:"hwmModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},thisHWM:function(){return 0!==HWMclicked?HWMclicked:"empty"},allSiteHWMs:function(){return $scope.SiteHWMs},hwmApproval:function(){return 0!==HWMclicked&&void 0!==HWMclicked.approval_id&&HWMclicked.approval_id>0?HWM.getHWMApproval({id:HWMclicked.hwm_id}).$promise:void 0},hwmSite:function(){return SITE.query({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdHWM){if("created"==createdHWM[1]&&($scope.SiteHWMs.push(createdHWM[0]),HWM_Service.setAllSiteHWMs($scope.SiteHWMs),$scope.hwmCount.total=$scope.SiteHWMs.length),void 0===createdHWM[1]){var indexClicked=$scope.SiteHWMs.indexOf(HWMclicked);$scope.SiteHWMs[indexClicked]=createdHWM,HWM_Service.setAllSiteHWMs($scope.SiteHWMs)}if("deleted"==createdHWM[1]){var indexClicked1=$scope.SiteHWMs.indexOf(HWMclicked);$scope.SiteHWMs.splice(indexClicked1,1),$scope.hwmCount.total=$scope.SiteHWMs.length,HWM_Service.setAllSiteHWMs($scope.SiteHWMs)}})})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("historicHWMCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","SITE","HWM","OBJECTIVE_POINT","GEOCODE","thisEvent","HDatums","HCollectMeths","States","Counties","OPTypes","VDatums","HTypes","HWMQuals",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,SITE,HWM,OBJECTIVE_POINT,GEOCODE,thisEvent,HDatums,HCollectMeths,States,Counties,OPTypes,VDatums,HTypes,HWMQuals){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.showLoading=!1,$scope.dynamic=0,$scope.max=0,$scope.hotInstance,$scope.columnWidths=[140,76,84,220,220,100,150,120,120,180,120,140,140,120,140,140,140,120],$scope.Changes=[],$scope.invalids=[],$scope.event=thisEvent,$scope.hDatumList=HDatums,$scope.hDatumArray=[],$scope.hCollectList=HCollectMeths,$scope.hcollectArray=[],$scope.stateList=States,$scope.stateArray=[],$scope.countyList=Counties,$scope.countyArray=[],$scope.opTypeList=OPTypes,$scope.opTypeArray=[],$scope.vDatumList=VDatums,$scope.vDatumArray=[],$scope.hwmTypeList=HTypes,$scope.hwmTypeArray=[],$scope.hwmEnvirList=["Coastal","Riverine"],$scope.hwmQualityList=HWMQuals,$scope.hwmQualityArray=[],$scope.historicHWMs=[],angular.forEach($scope.hDatumList,function(l){$scope.hDatumArray.push(l.datum_name)}),angular.forEach($scope.hCollectList,function(l){$scope.hcollectArray.push(l.hcollect_method)}),angular.forEach($scope.stateList,function(l){$scope.stateArray.push(l.state_name)}),angular.forEach($scope.countyList,function(l){$scope.countyArray.push(l.county_name)}),angular.forEach($scope.opTypeList,function(l){$scope.opTypeArray.push(l.op_type)}),angular.forEach($scope.vDatumList,function(l){$scope.vDatumArray.push(l.datum_abbreviation)}),angular.forEach($scope.hwmTypeList,function(l){$scope.hwmTypeArray.push(l.hwm_type)}),angular.forEach($scope.hwmQualityList,function(l){$scope.hwmQualityArray.push(l.hwm_quality)}),$scope.getStateCo=function(c,r){var rowValues=$scope.hotInstance.getDataAtRow(r);if(""!==rowValues[1]&&null!==rowValues[1]&&""!==rowValues[2]&&null!==rowValues[2])$rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Accept="application/json",delete $http.defaults.headers.common.Authorization,GEOCODE.getAddressParts({Longitude:rowValues[2],Latitude:rowValues[1]},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.countyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.stateList.filter(function(s){return s.state_id==thisStateID})[0];if(void 0!==thisState){$scope.hotInstance.setDataAtCell(r,7,thisState.state_name);var stateCountyList=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id});$scope.countyArray=[],angular.forEach(stateCountyList,function(l){$scope.countyArray.push(l.county_name)}),$scope.hotInstance.setCellMeta(r,8,"source",$scope.countyArray),$scope.hotInstance.setDataAtCell(r,8,countyName),$rootScope.stateIsLoading.showLoading=!1}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown.")}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address location.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting address: "+errorResponse.headers(["usgswim-messages"]):"Error getting address: "+errorResponse.statusText)});else{$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Get State/County</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}},$scope.UpdateCounties=function(theChange){var thisState=$scope.stateList.filter(function(s){return s.state_name==theChange[3]})[0],stateCountyList=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id});$scope.countyArray=[],angular.forEach(stateCountyList,function(l){$scope.countyArray.push(l.county_name)}),$scope.hotInstance.setCellMeta(theChange[0],8,"source",$scope.countyArray)};var requiredModal=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This field is required.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}},size:"sm"})};$scope.latValidator=function(value,callback){if(0>value||isNaN(value)){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Latitude must be greater than 0.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}callback(!1)}else value?callback(!0):(requiredModal(),callback(!1))},$scope.longValidator=function(value,callback){if(value>0||isNaN(value)){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Longitude must be less than 0.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}callback(!1)}else value?callback(!0):(requiredModal(),callback(!1))};var colorRenderer=function(instance,td,row,col,prop,value,cellProperties){var $button=$('<button type="button" class="btn bnt-primary"></button>');return $button.html("Get State/County"),$(td).empty().append($button),td};$scope.requiredValidator=function(value,callback){value?callback(!0):(requiredModal(),callback(!1))},$scope.reset=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Are you sure you want to clear the table?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.historicHWMs=[],$scope.invalids=[]})},$scope.tableSettings={colHeaders:!0,rowHeaders:!0,contextMenu:["row_above","row_below","remove_row"],minSpareRows:3,afterInit:function(){$scope.hotInstance=this},manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,cells:function(row,col,prop){if(6==col){var cellprops={};return cellprops.renderer=colorRenderer,cellprops}},onBeforeChange:function(data){for(var i=0;i<data.length;i++)"state"==data[i][1]&&data[i][3]!==data[i][2]&&$scope.UpdateCounties(data[i])},onAfterChange:function(change,source){if("loadData"!=source)for(var i=0;i<change.length;i++)change[i][2]!==change[i][3]&&$scope.Changes.push(change[i])},afterOnCellMouseDown:function(event,coords,td){6==coords.col&&$scope.getStateCo(coords.col,coords.row)},onAfterValidate:function(isValid,value,row,prop,souce){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},rowHeights:50}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("bulkHWMCtrl",["$scope","$state","$rootScope","$cookies","$http","$q","$filter","$uibModal","SITE","HWM","MEMBER","FILE","INST_COLL_CONDITION","PEAK","SOURCE","SERVER_URL","eventList","stateList","countyList","hwmTypeList","markerList","hwmQualList","horizDatumList","horCollMethList","vertDatumList","vertCollMethList","fileTypesList","agenciesList",function($scope,$state,$rootScope,$cookies,$http,$q,$filter,$uibModal,SITE,HWM,MEMBER,FILE,INST_COLL_CONDITION,PEAK,SOURCE,SERVER_URL,eventList,stateList,countyList,hwmTypeList,markerList,hwmQualList,horizDatumList,horCollMethList,vertDatumList,vertCollMethList,fileTypesList,agenciesList){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.showTips=!0,$scope.status={hwmOpen:!0},$scope.serverURL=SERVER_URL,$scope.hwmTypes=hwmTypeList,$scope.markers=markerList,$scope.hwmQuals=hwmQualList,$scope.horDatums=horizDatumList,$scope.horCollMeths=horCollMethList,$scope.vertDatums=vertDatumList,$scope.vertCollMeths=vertCollMethList,$scope.states=stateList,$scope.counties=countyList,$scope.showLoading=!1,$scope.max=0,$scope.dynamic=0,$scope.showProgressBar=!1,$scope.hotInstance,$scope.columnWidths=[180,150,180,180,150,170,180,100,200,140,150,180,220,100,130,120,130,160,190,160,200,200,120],$scope.siteNoArrowClicked=!1,$scope.uploadHWMs=[],$scope.postedHWMs=[],$scope.invalids=[],$scope.events=eventList,$scope.notValid=!0,$scope.hwmTypeArray=[],angular.forEach(hwmTypeList,function(ht){$scope.hwmTypeArray.push(ht.hwm_type)}),$scope.envirArray=["Coastal","Riverine"],$scope.markerArray=[],angular.forEach(markerList,function(m){$scope.markerArray.push(m.marker1)}),$scope.qualArray=[],angular.forEach(hwmQualList,function(hq){$scope.qualArray.push(hq.hwm_quality)}),$scope.bankArray=["Left","Right","N/A"],$scope.hdatumArray=[],angular.forEach(horizDatumList,function(hd){$scope.hdatumArray.push(hd.datum_name)}),$scope.hcollMethArray=[],angular.forEach(horCollMethList,function(hcm){$scope.hcollMethArray.push(hcm.hcollect_method)}),$scope.vdatumArray=[],angular.forEach(vertDatumList,function(vd){$scope.vdatumArray.push(vd.datum_abbreviation)}),$scope.vcollMethArray=[],angular.forEach(vertCollMethList,function(vcm){$scope.vcollMethArray.push(vcm.vcollect_method)}),$scope.tranqArray=["Yes","No"],$scope.chosenEvent=0,$scope.chosenEventName="",$scope.delIndex=-1,$scope.sitePeakarray=[],$scope.addApprovalFile=function(){var approvedFILEmodal=$uibModal.open({templateUrl:"BulkApprovalFILE_modal.html",controller:["$scope","$cookies","$uibModal","$uibModalInstance","fileTypeList","agencyList","thisMember",function($scope,$cookies,$uibModal,$uibModalInstance,fileTypeList,agencyList,thisMember){$scope.hwmFileTypes=fileTypeList.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.aFile={},$scope.aFile.filetype_id=7,$scope.aFile.description="PDF of Approval Memo",$scope.aSource={},$scope.agencies=agencyList,$scope.approval_type=7,$scope.updateFileType=function(){$scope.aFile.filetype_id=Number($scope.approval_type),$scope.aFile.description="7"==$scope.approval_type?"PDF of Approval Memo":"Report Link"},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=thisMember,$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.addFile=function(valid){if(valid)if($scope.aFile.name||$scope.aFile.File){var fileParts=[$scope.aFile,$scope.aSource];$uibModalInstance.close(fileParts)}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must upload a File for Approval Memo or a File URL for Report Link.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}},$scope.cancelFile=function(){$uibModalInstance.dismiss()}}],size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{fileTypeList:function(){return fileTypesList},agencyList:function(){return agenciesList},thisMember:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")}).$promise}}});approvedFILEmodal.result.then(function(createdFile){$scope.approvalFile=createdFile[0],$scope.approvalSource=createdFile[1]})};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime},getFindSiteModal=function(r,c,hwmParts){angular.element("#loadingDiv").removeClass("noShow");var dataAtRow=$scope.hotInstance.getDataAtRow(r);if(setTimeout(function(){$scope.hotInstance.deselectCell()},100),""!==dataAtRow[9]&&""!==dataAtRow[10]&&null!==dataAtRow[9]&&null!==dataAtRow[10]){angular.element("#loadingDiv").addClass("noShow");var siteModal=$uibModal.open({templateUrl:"associateSitemodal.html",backdrop:"static",keyboard:!1,resolve:{nearBySites:function(){return SITE.getProximitySites({Latitude:dataAtRow[9],Longitude:dataAtRow[10],Buffer:5e-4}).$promise},HWMparts:function(){return hwmParts},siteNoAlreadyThere:function(){return dataAtRow[22]},hdatums:function(){return $scope.horDatums},hcolMeths:function(){return $scope.horCollMeths},vdatums:function(){return $scope.vertDatums},vcolMeths:function(){return $scope.vertCollMeths},states:function(){return $scope.states},counties:function(){return $scope.counties}},controller:"hwmSiteModalCtrl",size:"sm"});siteModal.result.then(function(thisSite){angular.element("#loadingDiv").addClass("noShow"),void 0!==thisSite&&$scope.hotInstance.setDataAtCell(r,c,thisSite.site_no)})}else{angular.element("#loadingDiv").addClass("noShow");{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate this row\'s latitude and longitude before finding a site to associate.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}};$scope.requiredValidator=function(value,callback){if($scope.siteNoArrowClicked)$scope.siteNoArrowClicked=!1,callback(!0);else{var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)}},$scope.latValidator=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),(22>value||value>55||isNaN(value))&&otherDataInRow)setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("Latitude must be between 22.0 and 55.0 (dec deg)."),callback(!1);else if(!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)},$scope.longValidator=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),(-130>value||value>-55||isNaN(value))&&otherDataInRow)setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("Longitude must be between -130.0 and -55.0 (dec deg)."),callback(!1);else if(!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)},$scope.numericValidator=function(value,callback){var whichOne=$scope.hotInstance.getColHeader(this.col);if(""!==value&&null!==value&&isNaN(Number(value)))setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" must be an numeric value (ex: 0.03)."),callback(!1);else if("HWM Uncertainty (ft)"==whichOne&&""!==value&&null!==value){var hwmQualValue=$scope.hotInstance.getDataAtCell(this.row,6);if(null!==hwmQualValue&&""!==hwmQualValue){var appropriateHWMQual="";appropriateHWMQual=value>.4?"VP: > 0.40 ft":.05>value?"Excellent: +/- 0.05 ft":$scope.hwmQuals.filter(function(h){return h.min_range<=value&&h.max_range>=value})[0].hwm_quality,appropriateHWMQual!==hwmQualValue?(toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" does not have a matching HWM Quality for row "+Number(this.row+1)),callback(!1)):callback(!0)}else callback(!0)}else callback(!0)},$scope.matchingDDValue=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),""!==value&&null!==value){var prop=this.prop,hasError=!1;switch(prop){case"hwm_type_id":$scope.hwmTypeArray.map(function(hwT){return hwT}).indexOf(value)<0&&(hasError=!0);break;case"marker_id":$scope.markerArray.map(function(hwM){return hwM}).indexOf(value)<0&&(hasError=!0);break;case"hwm_environment":$scope.envirArray.map(function(hwE){
return hwE}).indexOf(value)<0&&(hasError=!0);break;case"hwm_quality_id":$scope.qualArray.map(function(hwQ){return hwQ}).indexOf(value)<0&&(hasError=!0);break;case"bank":$scope.bankArray.map(function(hwB){return hwB}).indexOf(value)<0&&(hasError=!0);break;case"hdatum_id":$scope.hdatumArray.map(function(hD){return hD}).indexOf(value)<0&&(hasError=!0);break;case"hcollect_method_id":$scope.hcollMethArray.map(function(hC){return hC}).indexOf(value)<0&&(hasError=!0);break;case"vdatum_id":$scope.vdatumArray.map(function(hD){return hD}).indexOf(value)<0&&(hasError=!0);break;case"vcollect_method_id":$scope.vcollMethArray.map(function(hC){return hC}).indexOf(value)<0&&(hasError=!0);break;case"stillwater":$scope.tranqArray.map(function(t){return t}).indexOf(value)<0&&(hasError=!0)}if(hasError)callback(!1);else if("hwm_quality_id"==prop){var uncertValue=$scope.hotInstance.getDataAtCell(row,5);if(null!==uncertValue&&""!==uncertValue){var appropriatequal="";appropriatequal=uncertValue>.4?"VP: > 0.40 ft":.05>uncertValue?"Excellent: +/- 0.05 ft":$scope.hwmQuals.filter(function(h){return h.min_range<=uncertValue&&h.max_range>=uncertValue})[0].hwm_quality,appropriatequal!==value?(toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("HWM Quality does not have a matching HWM uncertainty range value for row "+Number(row+1)),callback(!1)):callback(!0)}else callback(!0)}else callback(!0)}else if(!value&&otherDataInRow&&[3,7,17,18,21].indexOf(this.col)<0){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)};var removeThisUploadHWM=function(successfulHWM){for(var spliceIndex=-1,bank=successfulHWM.bank,hcmName=horCollMethList.filter(function(hcm){return hcm.hcollect_method_id==successfulHWM.hcollect_method_id})[0].hcollect_method,hdName=horizDatumList.filter(function(hd){return hd.datum_id==successfulHWM.hdatum_id})[0].datum_name,hwmQName=hwmQualList.filter(function(hq){return hq.hwm_quality_id==successfulHWM.hwm_quality_id})[0].hwm_quality,hwmTName=hwmTypeList.filter(function(ht){return ht.hwm_type_id==successfulHWM.hwm_type_id})[0].hwm_type,mark=void 0!==successfulHWM.marker_id?markerList.filter(function(m){return m.marker_id==successfulHWM.marker_id})[0].marker1:void 0,vcmName=void 0!==successfulHWM.vcollect_method_id?vertCollMethList.filter(function(vcm){return vcm.vcollect_method_id==successfulHWM.vcollect_method_id})[0].vcollect_method:void 0,vdName=void 0!==successfulHWM.vdatum_id?vertDatumList.filter(function(vd){return vd.datum_id==successfulHWM.vdatum_id})[0].datum_abbreviation:void 0,hag=void 0!==successfulHWM.height_above_gnd?Number(successfulHWM.height_above_gnd):void 0,elFt=void 0!==successfulHWM.elev_ft?Number(successfulHWM.elev_ft):void 0,unc=void 0!==successfulHWM.uncertainty?Number(successfulHWM.uncertainty):void 0,hwmUnc=void 0!==successfulHWM.hwm_uncertainty?Number(successfulHWM.hwm_uncertainty):void 0,hwmI=0;hwmI<$scope.uploadHWMs.length;hwmI++){if(void 0!==$scope.uploadHWMs[hwmI].site_no){var upload_hwmUnc=""!==$scope.uploadHWMs[hwmI].hwm_uncertainty&&void 0!==$scope.uploadHWMs[hwmI].hwm_uncertainty?Number($scope.uploadHWMs[hwmI].hwm_uncertainty):void 0,upload_mark=""!==$scope.uploadHWMs[hwmI].marker_id&&void 0!==$scope.uploadHWMs[hwmI].marker_id?$scope.uploadHWMs[hwmI].marker_id:void 0,upload_unc=""!==$scope.uploadHWMs[hwmI].uncertainty&&void 0!==$scope.uploadHWMs[hwmI].uncertainty?Number($scope.uploadHWMs[hwmI].uncertainty):void 0,upload_hag=""!==$scope.uploadHWMs[hwmI].height_above_gnd&&void 0!==$scope.uploadHWMs[hwmI].height_above_gnd?Number($scope.uploadHWMs[hwmI].height_above_gnd):void 0,upload_elFt=""!==$scope.uploadHWMs[hwmI].elev_ft&&void 0!==$scope.uploadHWMs[hwmI].elev_ft?Number($scope.uploadHWMs[hwmI].elev_ft):void 0,upload_vcollMeth=""!==$scope.uploadHWMs[hwmI].vcollect_method_id&&void 0!==$scope.uploadHWMs[hwmI].vcollect_method_id?$scope.uploadHWMs[hwmI].vcollect_method_id:void 0,upload_vdat=""!==$scope.uploadHWMs[hwmI].vdatum_id&&void 0!==$scope.uploadHWMs[hwmI].vdatum_id?$scope.uploadHWMs[hwmI].vdatum_id:void 0;$scope.uploadHWMs[hwmI].site_no==successfulHWM.site_no&&$scope.uploadHWMs[hwmI].waterbody==successfulHWM.waterbody&&upload_hwmUnc==hwmUnc&&$scope.uploadHWMs[hwmI].bank==bank&&$scope.uploadHWMs[hwmI].hwm_locationdescription==successfulHWM.hwm_locationdescription&&Number($scope.uploadHWMs[hwmI].latitude_dd)==successfulHWM.latitude_dd&&Number($scope.uploadHWMs[hwmI].longitude_dd)==successfulHWM.longitude_dd&&upload_hag==hag&&$scope.uploadHWMs[hwmI].hcollect_method_id==hcmName&&$scope.uploadHWMs[hwmI].hdatum_id==hdName&&$scope.uploadHWMs[hwmI].hwm_quality_id==hwmQName&&$scope.uploadHWMs[hwmI].hwm_type_id==hwmTName&&upload_mark==mark&&upload_vcollMeth==vcmName&&upload_vdat==vdName&&upload_elFt==elFt&&upload_unc==unc&&$scope.uploadHWMs[hwmI].hwm_notes==successfulHWM.hwm_notes&&(spliceIndex=hwmI)}spliceIndex>=0&&($scope.uploadHWMs.splice(spliceIndex,1),hwmI=$scope.uploadHWMs.length)}$scope.dynamic==$scope.max&&($scope.showProgressBar=!1),$scope.showLoading="false"};$scope.validateTable=function(){$scope.showLoading=!0,angular.element("#loadingDiv").removeClass("noShow");var haveData=$scope.hotInstance.getDataAtCell(0,2);if(null!==haveData)$scope.hotInstance.validateCells(function(valid){if(valid){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Valid</h3></div><div class="modal-body"><p>Validation successful!</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$rootScope","$uibModalInstance",function($scope,$rootScope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()},$scope.showLoading=!1,angular.element("#loadingDiv").addClass("noShow")}],size:"sm"})}$scope.notValid=!1}else{$scope.notValid=!0;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Invalid!</h3></div><div class="modal-body"><p>The table is not valid. Please correct red cells and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$rootScope","$uibModalInstance",function($scope,$rootScope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()},$scope.showLoading=!1,angular.element("#loadingDiv").addClass("noShow")}],size:"sm"})}angular.element("#loadingDiv").addClass("noShow")}});else{angular.element("#loadingDiv").addClass("noShow"),$scope.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Not enough data in the table to validate.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},$scope.save=function(){$scope.dynamic=0,$scope.chosenEventName=$scope.events.filter(function(e){return e.event_id==$scope.chosenEvent})[0].event_name;for(var pastedHWMs=angular.copy($scope.uploadHWMs),i=pastedHWMs.length;i--;)(void 0===pastedHWMs[i].site_no||null===pastedHWMs[i].site_no||""===pastedHWMs[i].site_no)&&pastedHWMs.splice(i,1);$scope.max=pastedHWMs.length,$scope.showLoading="true",$scope.notValid=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.showProgressBar=!0,angular.forEach(pastedHWMs,function(hwm,index){SITE.getSearchedSite({bySiteNo:hwm.site_no}).$promise.then(function(response){SITE.getSitePeaks({id:response.site_id},function(peakResponse){for(var p=0;p<peakResponse.length;p++)peakResponse[p].event_name==$scope.chosenEventName&&$scope.sitePeakarray.push([response.site_id,peakResponse[p].peak_summary_id]);hwm.site_id=response.site_id,hwm.event_id=$scope.chosenEvent,hwm.flag_member_id=$scope.$parent.userID,hwm.flag_date=makeAdate(hwm.flag_date),""!==hwm.survey_date&&void 0!==hwm.survey_date&&(hwm.survey_date=makeAdate(hwm.survey_date)),hwm.hcollect_method_id=horCollMethList.filter(function(hcm){return hcm.hcollect_method==hwm.hcollect_method_id})[0].hcollect_method_id,hwm.hdatum_id=horizDatumList.filter(function(hd){return hd.datum_name==hwm.hdatum_id})[0].datum_id,hwm.hwm_quality_id=hwmQualList.filter(function(hq){return hq.hwm_quality==hwm.hwm_quality_id})[0].hwm_quality_id,hwm.hwm_type_id=hwmTypeList.filter(function(ht){return ht.hwm_type==hwm.hwm_type_id})[0].hwm_type_id,hwm.marker_id=""!==hwm.marker_id&&void 0!==hwm.marker_id?markerList.filter(function(m){return m.marker1==hwm.marker_id})[0].marker_id:void 0,""!==hwm.stillwater&&void 0!==hwm.stillwater&&(hwm.stillwater="No"==hwm.stillwater?"0":"1"),hwm.vcollect_method_id=""!==hwm.vcollect_method_id&&void 0!==hwm.vcollect_method_id?vertCollMethList.filter(function(vcm){return vcm.vcollect_method==hwm.vcollect_method_id})[0].vcollect_method_id:void 0,hwm.vdatum_id=""!==hwm.vdatum_id&&void 0!==hwm.vdatum_id?vertDatumList.filter(function(vd){return vd.datum_abbreviation==hwm.vdatum_id})[0].datum_id:void 0,""!==hwm.survey_date&&void 0!==hwm.survey_date&&(hwm.survey_member_id=$scope.$parent.userID);var siteNo=hwm.site_no;delete hwm.site_no,HWM.save(hwm).$promise.then(function(hwmResponse){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.approveHWM({id:hwmResponse.hwm_id}).$promise.then(function(approvalResponse){hwmResponse.approval_id=approvalResponse.approval_id,hwmResponse.site_no=siteNo,hwmResponse.stillwater=void 0!==hwmResponse.stillwater?hwmResponse.stillwater>0?"Yes":"No":"";var sitePeakId=$scope.sitePeakarray.filter(function(sp){return sp[0]==hwmResponse.site_id})[0];void 0!==sitePeakId&&(hwmResponse.PeakSummary=sitePeakId);var theSource={source_name:$scope.approvalSource.FULLname,agency_id:$scope.approvalSource.agency_id};SOURCE.save(theSource).$promise.then(function(sourceResponse){if(8!==$scope.approvalFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.approvalFile.filetype_id,name:$scope.approvalFile.File.name,file_date:$scope.approvalFile.file_date,photo_date:$scope.approvalFile.photo_date,description:$scope.approvalFile.description,site_id:hwmResponse.site_id,source_id:sourceResponse.source_id,photo_direction:$scope.approvalFile.photo_direction,latitude_dd:$scope.approvalFile.latitude_dd,longitude_dd:$scope.approvalFile.longitude_dd,hwm_id:hwmResponse.hwm_id},File:$scope.approvalFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){hwmResponse.HWMFiles=[],hwmResponse.HWMFiles.push(fresponse),$scope.postedHWMs.map(function(p){return p.hwm_id}).indexOf(hwmResponse.hwm_id)<0?(toastr.success("HWM uploaded: hwm_id:"+hwmResponse.hwm_id),$scope.postedHWMs.push(hwmResponse)):toastr.error("HWM "+hwmResponse.hwm_id+" is already in the successfully uploaded list below."),$scope.dynamic++,removeThisUploadHWM(hwmResponse)},function(errorResponse){$scope.showProgressBar=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error uploading file: "+errorResponse.headers(["usgswim-messages"]):"Error uploading file: "+errorResponse.statusText)})}else $scope.approvalFile.source_id=sourceResponse.source_id,$scope.approvalFile.site_id=hwmResponse.site_id,$scope.approvalFile.hwm_id=hwmResponse.hwm_id,$scope.approvalFile.path="<link>",FILE.save($scope.approvalFile).$promise.then(function(fresponse){hwmResponse.HWMFiles=[],hwmResponse.HWMFiles.push(fresponse),$scope.postedHWMs.map(function(p){return p.hwm_id}).indexOf(hwmResponse.hwm_id)<0?(toastr.success("HWM uploaded: hwm_id:"+hwmResponse.hwm_id),$scope.postedHWMs.push(hwmResponse)):toastr.error("HWM "+hwmResponse.hwm_id+" is already in the successfully uploaded list below."),$scope.dynamic++,removeThisUploadHWM(hwmResponse)},function(errorResponse){$scope.HWMfileIsUploading=!1,$scope.showProgressBar=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(sourceError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==sourceError.headers(["usgswim-messages"])?"Error uploading approval File Source: "+sourceError.headers(["usgswim-messages"]):"Error uploading approval File Source: "+sourceError.statusText)})},function(approveError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==approveError.headers(["usgswim-messages"])?"Error approving hwm: "+approveError.headers(["usgswim-messages"]):"Error approving hwm: "+approveError.statusText)})},function(hwmSaveError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==hwmSaveError.headers(["usgswim-messages"])?"Error uploading hwm: "+hwmSaveError.headers(["usgswim-messages"]):"Error uploading hwm: "+hwmSaveError.statusText)})},function(getSitePeakError){$scope.showProgressBar=!1,toastr.error(void 0!==getSitePeakError.headers(["usgswim-messages"])?"Error getting site peak: "+getSitePeakError.headers(["usgswim-messages"]):"Error getting site peak: "+getSitePeakError.statusText)})},function(getHwmSiteError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==getHwmSiteError.headers(["usgswim-messages"])?"Error getting site info ("+hwm.site_no+"): "+getHwmSiteError.headers(["usgswim-messages"]):"Error getting site info ("+hwm.site_no+"): "+getHwmSiteError.statusText)})})},$scope.clearTable=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Warning! This will remove all hwms from the table.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.uploadHWMs=[],$scope.invalids=[],$scope.notValid=!0})},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.goToSiteDash=function(siteID){var warningModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><p>You are about to leave the Bulk HWM Uploader.<br />In doing so, you will no longer be able to see the list of successfully uploaded HWMs.</p><p>Are you sure you want to leave this page?</p></div><div class="modal-footer"><button class="btn btn-warning" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.ok=function(){$uibModalInstance.close(siteID)}}],size:"sm"});warningModal.result.then(function(siteId){$state.go("site.dashboard",{id:siteId})})},$scope.DeleteHWM=function(hwm){$scope.delIndex=$scope.postedHWMs.indexOf(hwm);var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwm},what:function(){return"HWM"}}});DeleteModalInstance.result.then(function(hwmToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM["delete"]({id:hwmToRemove.hwm_id},hwmToRemove).$promise.then(function(){$scope.HWMFiles=[],toastr.success("HWM Removed"),$scope.postedHWMs.splice($scope.delIndex,1),$scope.delIndex=-1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm: "+errorResponse.statusText)})})},$scope.OpenHWMEdit=function(HWMclicked){var passAllLists=[hwmTypeList,hwmQualList,horizDatumList,horCollMethList,vertDatumList,vertCollMethList,markerList,eventList],indexClicked=$scope.postedHWMs.indexOf(HWMclicked),siteNo=HWMclicked.site_no;$rootScope.stateIsLoading.showLoading=!0;var hwmEditInstance=$uibModal.open({templateUrl:"HWM_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allDropdowns:function(){return passAllLists},thisHWM:function(){return HWMclicked},siteHMWs:function(){return HWM.getEventSiteHWMs({siteId:HWMclicked.site_id,Event:HWMclicked.event_id}).$promise},hwmSite:function(){return SITE.query({id:HWMclicked.site_id}).$promise},agencyList:function(){return agenciesList},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},fileTypes:function(){return fileTypesList}},controller:"hwmEditModalCtrl"});hwmEditInstance.result.then(function(hwmUpdatedANDFileCnt){var h=hwmUpdatedANDFileCnt[0],files=hwmUpdatedANDFileCnt[1];h.site_no=siteNo,h.HWMFiles=files,h.stillwater=void 0!==h.stillwater?h.stillwater>0?"Yes":"No":"",$scope.postedHWMs[indexClicked]=h})},$scope.OpenPeakEdit=function(peakId,siteId,eventId){$rootScope.stateIsLoading.showLoading=!0;var peakEditInstance=$uibModal.open({templateUrl:"PeakEdit_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return vertDatumList},thisPeak:function(){return PEAK.query({id:peakId}).$promise},thisPeakDFs:function(){return PEAK.getPeakSummaryDFs({id:peakId}).$promise},peakSite:function(){return SITE.query({id:siteId}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$scope.chosenEvent,EventStatus:0}).$promise},allSiteFiles:function(){return SITE.getSiteFiles({id:siteId})},allSiteSensors:function(){return SITE.getSiteSensors({id:siteId}).$promise}},controller:"peakModalCtrl"});peakEditInstance.result.then(function(updated){})},$scope.OpenPeakCreate=function(siteId,eventId){$rootScope.stateIsLoading.showLoading=!0;var peakCreateInstance=$uibModal.open({templateUrl:"PeakEdit_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return vertDatumList},thisPeak:function(){return"empty"},thisPeakDFs:function(){return"empty"},peakSite:function(){return SITE.query({id:siteId}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$scope.chosenEvent,EventStatus:0}).$promise},allSiteFiles:function(){return SITE.getSiteFiles({id:siteId})},allSiteSensors:function(){return SITE.getSiteSensors({id:siteId}).$promise}},controller:"peakModalCtrl"});peakCreateInstance.result.then(function(createdPk){angular.forEach($scope.postedHWMs,function(pHWM){pHWM.site_id==siteId&&(pHWM.PeakSummary=[siteId,createdPk[0].peak_summary_id])})})},$scope.tableSettings={colHeaders:['<span title="Required">Waterbody *</span>','<span title="Identifying Label. If left blank, defaults to &quot;no_label&quot;">HWM Label</span>','<span title="Required">HWM Type *</span>',"Marker",'<span title="Required">HWM Environment *</span>',"HWM Uncertainty (ft)",'<span title="Required">HWM Quality *</span>',"Bank","Loc. Description",'<span title="Required">HWM Latitude *</span>','<span title="Required">HWM Longitude *</span>','<span title="Required">Horizontal Datum *</span>','<span title="Required">Horizontal Collect Method *</span>','<span title="Height above ground">HAG (ft)</span>','<span title="Required">Flag/Found Date *</span>',"Survey Date","Surveyed Elev (ft)","Vertical Datum","Vertical Collect Method","Survey Uncertainty (ft)","Notes","Tranquil/Stillwater",'<span title="Site Number, Required"> Site No *</span>'],rowHeaders:!0,minSpareRows:10,maxRows:10,afterInit:function(){$scope.hotInstance=this},columnSorting:!1,manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,preventOverflow:"horizontal",viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,afterOnCellMouseDown:function(event,coords,td){if(22===coords.col&&"htAutocompleteArrow"==event.realTarget.className){$scope.siteNoArrowClicked=!0;var passHWMvals=[];passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,0)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,9)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,10)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,11)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,12)),getFindSiteModal(coords.row,coords.col,passHWMvals)}},contextMenu:["remove_row"],onAfterValidate:function(isValid,value,row,prop,source){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},onAfterChange:function(change,source){if("loadData"!=source)for(var i=0;i<change.length;i++)change[i][2]!==change[i][3]&&$scope.notValid===!1&&($scope.notValid=!0)},onAfterRemoveRow:function(index,amount){var selected=$scope.hotInstance.getSelected();if(amount>1){var eachRowIndexArray=[],cnt=selected[2]-selected[0]+1;eachRowIndexArray.push(selected[0]);for(var c=1;cnt>c;c++)eachRowIndexArray.push(selected[0]+1);for(var Mi=$scope.invalids.length;Mi--;)eachRowIndexArray.indexOf($scope.invalids[Mi].row)>-1&&$scope.invalids.splice(Mi,1)}else for(var i=$scope.invalids.length;i--;)$scope.invalids[i].row==index&&$scope.invalids.splice(i,1)}}}}]),STNControllers.controller("hwmSiteModalCtrl",["$scope","$rootScope","$http","$cookies","$uibModalInstance","nearBySites","HWMparts","siteNoAlreadyThere","hdatums","hcolMeths","vdatums","vcolMeths","states","counties","leafletData","leafletMarkerEvents","GEOCODE","SITE",function($scope,$rootScope,$http,$cookies,$uibModalInstance,nearBySites,HWMparts,siteNoAlreadyThere,hdatums,hcolMeths,vdatums,vcolMeths,states,counties,leafletData,leafletMarkerEvents,GEOCODE,SITE){$scope.localSites=nearBySites,$scope.horDatums=hdatums,$scope.horCollMeths=hcolMeths,$scope.vertDatums=vdatums,$scope.vertCollMeths=vcolMeths,$scope.states=states,$scope.counties=counties,$scope.showSiteCreateArea=!1,$scope.disableOK=!1,$scope.createChecked="0",$scope.showMap=!1,$scope.showHideMap="Show",$scope.showHideCreateSiteDiv=function(){$scope.showSiteCreateArea=!$scope.showSiteCreateArea,angular.forEach($scope.localSites,function(s){delete s.selected}),$scope.showSiteCreateArea?($scope.disableOK=!0,$scope.showMap=!1,$scope.showHideMap="Show"==$scope.showHideMap?"Hide":"Show",$scope.newSite.waterbody=""!==HWMparts[0]&&null!==HWMparts[0]?HWMparts[0]:"",$scope.newSite.latitude_dd=""!==HWMparts[1]&&null!==HWMparts[1]?HWMparts[1]:"",$scope.newSite.longitude_dd=""!==HWMparts[2]&&null!==HWMparts[2]?HWMparts[2]:"",$scope.newSite.hdatum_id=""!==HWMparts[3]&&null!==HWMparts[3]?$scope.horDatums.filter(function(hd){return hd.datum_name==HWMparts[3]})[0].datum_id:"",$scope.newSite.hcollect_method_id=""!==HWMparts[4]&&null!==HWMparts[4]?$scope.horCollMeths.filter(function(hd){return hd.hcollect_method==HWMparts[4]})[0].hcollect_method_id:"",$scope.getAddress()):$scope.disableOK=!1,angular.forEach($scope.markers,function(mm){"stnSites"==mm.layer&&(mm.icon=icons.stn)})},$scope.unchkCreate=function(checkedSite){$scope.createChecked="0",$scope.showSiteCreateArea=!1,angular.forEach($scope.markers,function(m){"stnSites"==m.layer&&(m.lat==checkedSite.latitude_dd&&m.lng==checkedSite.longitude_dd?(delete m.icon,m.icon=icons.selectedStn):m.icon=icons.stn)}),$scope.disableOK=!1},$scope.showSitesOnMap=function(){$scope.showMap=!$scope.showMap,$scope.showHideMap="Show"==$scope.showHideMap?"Hide":"Show",$scope.showMap&&fitMapBounds()},$scope.markers=[];for(var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},selectedStn:{type:"div",iconSize:[14,14],className:"newSiteIcon"},hwmIcon:{type:"div",iconSize:[16,20],className:"stnHWMIcon"}},i=0;i<$scope.localSites.length;i++){var a=$scope.localSites[i];$scope.markers.push({layer:"stnSites",message:"<div><b>Site Number:</b> "+a.site_no+"<br /><b>Site Name:</b> "+a.site_name+"<br /><b>Waterbody:</b> "+a.waterbody+"<br /><b>Latitude/Longitude:</b> "+a.latitude_dd+" "+a.longitude_dd+"<br /></div>",lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,title:a.site_no,icon:icons.stn})}$scope.markers.push({layer:"stnHWM",message:"<div><b>HWM</b><br/><b>Latitude:</b> "+HWMparts[1]+"<br/><b>Lontitude:</b> "+HWMparts[2]+"<br/></div>",lat:Number(HWMparts[1]),lng:Number(HWMparts[2]),title:"HWM",icon:icons.hwmIcon});var bounds=[];angular.forEach($scope.localSites,function(s){bounds.push([s.latitude_dd,s.longitude_dd])});var fitMapBounds=function(){leafletData.getMap("associatedSiteMap").then(function(map){map.fitBounds(bounds,{padding:[20,20]})})};fitMapBounds(),angular.extend($scope,{markers:$scope.markers,layers:{baselayers:{topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1}},overlays:{stnSites:{type:"group",name:"STN Sites",visible:!0},stnHWM:{type:"group",name:"HWM",visible:!0}}}}),""!==siteNoAlreadyThere&&null!==siteNoAlreadyThere&&angular.forEach($scope.localSites,function(s){if(s.site_no==siteNoAlreadyThere){s.selected="true";var selectedMarker=$scope.markers.filter(function(m){return m.lat==s.latitude_dd&&m.lng==s.longitude_dd})[0];selectedMarker.icon=icons.selectedStn}}),$scope.newSite={};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(direction){"lat"==direction&&($scope.newSite.latitude_dd<0||$scope.newSite.latitude_dd>73||isNaN($scope.newSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.newSite.latitude_dd)&&($scope.newSite.latitude_dd=void 0)),"long"==direction&&($scope.newSite.longitude_dd<-175||$scope.newSite.longitude_dd>-60||isNaN($scope.newSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.newSite.longitude_dd)&&($scope.newSite.longitude_dd=void 0))},$scope.updateCountyList=function(s){var thisState=$scope.states.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.counties.filter(function(c){return c.state_id==thisState.state_id})},$scope.getAddress=function(){if(delete $scope.newSite.address,delete $scope.newSite.city,delete $scope.newSite.state,$scope.stateCountyList=[],delete $scope.newSite.zip,void 0===$scope.newSite.latitude_dd||void 0===$scope.newSite.longitude_dd||isNaN($scope.newSite.latitude_dd)||isNaN($scope.newSite.longitude_dd)){$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}else $rootScope.stateIsLoading.showLoading=!0,delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.newSite.longitude_dd,Latitude:$scope.newSite.latitude_dd},function(response){if(void 0!==response.result)if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.counties.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.states.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.newSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.counties.filter(function(c){return c.state_id==thisState.state_id}),$scope.newSite.county=countyName,$rootScope.stateIsLoading.showLoading=!1):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long");else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address. Choose State and County from dropdowns.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting address: "+errorResponse.headers(["usgswim-messages"]):"Error getting address: "+errorResponse.statusText)})},$scope.createNewSite=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.newSite.member_id=$scope.$parent.userID,SITE.save($scope.newSite,function(response){$uibModalInstance.close(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)}))},$scope.ok=function(){var selectedSite=nearBySites.filter(function(s){return"true"==s.selected})[0];$uibModalInstance.close(selectedSite)},$scope.cancel=function(){$uibModalInstance.dismiss()}}]),STNControllers.controller("hwmEditModalCtrl",["$scope","$rootScope","$http","$cookies","$uibModal","$uibModalInstance","allDropdowns","thisHWM","siteHMWs","agencyList","allMembers","fileTypes","hwmSite","SERVER_URL","HWM","FILE","SOURCE","FILE_STAMP",function($scope,$rootScope,$http,$cookies,$uibModal,$uibModalInstance,allDropdowns,thisHWM,siteHMWs,agencyList,allMembers,fileTypes,hwmSite,SERVER_URL,HWM,FILE,SOURCE,FILE_STAMP){$scope.view={HWMval:"detail"},$scope.h={hOpen:!0,hFileOpen:!1},$scope.hwmTypeList=allDropdowns[0],$scope.hwmQualList=allDropdowns[1],$scope.HDatumsList=allDropdowns[2],
$scope.hCollMList=allDropdowns[3],$scope.VDatumsList=allDropdowns[4],$scope.vCollMList=allDropdowns[5],$scope.markerList=allDropdowns[6],$scope.eventList=allDropdowns[7],$scope.thisHWMsite=hwmSite,$scope.fileTypeList=fileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.hwmImageFiles=[],$scope.showFileForm=!1,$scope.userRole=$cookies.get("usersRole"),$scope.showEventDD=!1,$scope.adminChanged={},$scope.serverURL=SERVER_URL,$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aHWM={},$scope.HWMFiles=[],$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;(h.latitude_dd<0||h.latitude_dd>73||isNaN(h.latitude_dd))&&(openLatModal("latlong"),isNaN(h.latitude_dd)&&(h.latitude_dd=void 0)),(h.longitude_dd<-175||h.longitude_dd>-60||isNaN(h.longitude_dd))&&(openLongModal("latlong"),isNaN(h.longitude_dd)&&(h.longitude_dd=void 0))},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.chooseQuality=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty);h.hwm_quality_id=x>.4?5:.05>x?1:$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty&&void 0!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return void 0!==h.min_range?h.min_range<=x&&h.max_range>=x:void 0})[0].hwm_quality_id;if(h.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if($scope.aHWM=angular.copy(thisHWM),delete $scope.aHWM.site_no,$scope.aHWM.HWMFiles)for(var f=0;f<$scope.aHWM.HWMFiles.length;f++)$scope.HWMFiles.push($scope.aHWM.HWMFiles[f]);delete $scope.aHWM.HWMFiles,$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date)),$scope.save=function(valid){if(valid){void 0!==$scope.adminChanged.event_id&&($scope.hwmCopy.event_id=$scope.adminChanged.event_id),void 0!==$scope.hwmCopy.survey_date&&null!==$scope.hwmCopy.survey_date&&void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID")),void 0!==$scope.hwmCopy.elev_ft&&null!==$scope.hwmCopy.elev_ft&&(void 0===$scope.hwmCopy.survey_date&&($scope.hwmCopy.survey_date=makeAdate("")),void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID"))),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.update({id:$scope.hwmCopy.hwm_id},$scope.hwmCopy).$promise.then(function(response){toastr.success("HWM updated"),$scope.aHWM=response,thisHWM=response,void 0!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date)),$scope.hwmCopy={},$scope.view.HWMval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sendBack=[$scope.aHWM,$scope.HWMFiles];$uibModalInstance.close(sendBack)},$scope.wannaEditHWM=function(){$scope.view.HWMval="edit",$scope.hwmCopy=angular.copy($scope.aHWM),$scope.adminChanged.event_id=$scope.aHWM.event_id},$scope.cancelHWMEdit=function(){$scope.view.HWMval="detail",$scope.hwmCopy=[],$scope.adminChanged={},$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name},$scope.ensurehwmLabelUnique=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;angular.forEach(siteHMWs,function(hwm){if(hwm.hwm_label==h.hwm_label){h.hwm_label=void 0!==h.hwm_id?$scope.aHWM.hwm_label:"hwm-"+(parseFloat(siteHMWs.length)+1);var uniqueModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The hwm label must be unique from all other hwms at this site for this event.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});uniqueModal.result.then(function(){angular.element("[name='hwm_label']").focus()})}})},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,photo_date:$scope.aFile.photo_date},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&($scope.hwmImageFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.push(fresponse)),$scope.fileItemExists=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.HWMFiles.indexOf(file),$scope.existIMGFileIndex=$scope.hwmImageFiles.length>0?$scope.hwmImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),8!==file.filetype_id&&FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(valid){$scope.HWMfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisHWMsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,hwm_id:$scope.aHWM.hwm_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&$scope.hwmImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisHWMsite.site_id,$scope.aFile.hwm_id=$scope.aHWM.hwm_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("Need to choose a file first")},$scope.saveFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(sResponse){$scope.aFile.source_id=sResponse.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="HWM File",$scope.HWMFiles[$scope.existFileIndex]=fileResponse,$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.splice($scope.existIMGFileIndex,1),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("bulkHWMAdjCtrl",["$scope","$state","$rootScope","$cookies","$http","$filter","$uibModal","SITE","HWM","HWM_Service","eventList","stateList","countyList",function($scope,$state,$rootScope,$cookies,$http,$filter,$uibModal,SITE,HWM,HWM_Service,eventList,stateList,countyList){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.querySearch={},$scope.showLoading=!1,$scope.dynamic=0,$scope.max=0,$scope.hotInstance,$scope.columnWidths=[84,120,120,120,220,120,120,150,130,160,180],$scope.Changes=[],$scope.invalids=[],$scope.events=eventList,$scope.states=stateList,$scope.HWM_params={},$scope.countyList=countyList,$scope.countyArray=[],$scope.result={searchClicked:!1};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],dateWOtime=monthNames[month]+"/"+day+"/"+year;return dateWOtime};if($scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.hwmCount="",$scope.UpdateCounties=function(){if(null!==$scope.HWM_params.state_abbrev){var thisState=$scope.states.filter(function(st){return st.state_abbrev==$scope.HWM_params.state_abbrev})[0];$scope.countyArray=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},$scope.getHWMs=function(valid){if(valid){$scope.result={},$scope.result.searchClicked=!0;var countyNames=[];angular.forEach($scope.HWM_params.counties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.querySearch={},$scope.querySearch.Event=$scope.HWM_params.event_id,$scope.querySearch.State=$scope.HWM_params.state_abbrev,$scope.querySearch.Counties=countiesCommaSep,HWM_Service.setBulkHWMSearch($scope.querySearch),HWM.getFilteredHWMs({Event:$scope.HWM_params.event_id,States:$scope.HWM_params.state_abbrev,County:countiesCommaSep},function(response){$scope.hwmCount=response.length,$scope.result.isResponse=$scope.hwmCount>0?!0:!1;for(var i=0;i<response.length;i++){var one={};one.hwm_id=response[i].hwm_id,one.waterbody=response[i].waterbody,one.hwm_label=response[i].hwm_label,one.site_id=response[i].site_id,one.site_no=response[i].site_no,one.hwm_locationdescription=response[i].hwm_locationdescription,one.latitude_dd=response[i].latitude_dd,one.longitude_dd=response[i].longitude_dd,""!==response[i].survey_date&&(one.survey_date=makeAdate(response[i].survey_date)),one.elev_ft=response[i].elev_ft,one.uncertainty=response[i].uncertainty,one.hwm_notes=response[i].hwm_notes,$scope.adjustHWMs.push(one)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwms: "+errorResponse.statusText)})}},!angular.equals({},HWM_Service.getBulkHWMSearch())){var theSearch=HWM_Service.getBulkHWMSearch();if($scope.HWM_params.event_id=theSearch.Event,$scope.HWM_params.state_abbrev=theSearch.State,$scope.UpdateCounties(),""!==theSearch.Counties){var counties=theSearch.Counties.split(",");$scope.HWM_params.counties=[],angular.forEach($scope.countyArray,function(c){counties.map(function(cA){return cA}).indexOf(c.county_name)>-1&&(c.selected=!0,$scope.HWM_params.counties.push(c))})}$scope.getHWMs(!0)}var requiredModal=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This field is required.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}},size:"sm"})},colorRenderer=function(instance,td,row,col,prop,value,cellProperties){return Handsontable.renderers.TextRenderer.apply(this,arguments),td.style.background="#F7F5F5",td},siteNoRenderer=function(instance,td,row,col,prop,value,cellProperties){return Handsontable.renderers.TextRenderer.apply(this,arguments),td.innerHTML='<a ng-click="goToSite()">'+value+"</a>",td.style.background="#F7F5F5",td};$scope.requiredValidator=function(value,callback){value?callback(!0):(requiredModal(),callback(!1))},$scope.numberValidator=function(value,callback){callback(!0)},$scope.save=function(){HWM.getEventStateHWMs({eventId:$scope.HWM_params.event_id,state:$scope.HWM_params.state_abbrev}).$promise.then(function(response){$scope.eventStateHWMs=response;for(var updateTheseHWMs=[],evH=0;evH<$scope.eventStateHWMs.length;evH++){var theyHaveItHere=$scope.adjustHWMs.filter(function(a){return a.hwm_id==$scope.eventStateHWMs[evH].hwm_id})[0];void 0!==theyHaveItHere&&($scope.eventStateHWMs[evH].survye_date=theyHaveItHere.survey_date,$scope.eventStateHWMs[evH].elev_ft=theyHaveItHere.elev_ft,$scope.eventStateHWMs[evH].uncertainty=theyHaveItHere.uncertainty,$scope.eventStateHWMs[evH].hwm_notes=theyHaveItHere.hwm_notes,updateTheseHWMs.push($scope.eventStateHWMs[evH]))}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",angular.forEach(updateTheseHWMs,function(u){HWM.update({id:u.hwm_id},u).$promise.then(function(){toastr.success("HWMs updated"),$scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.invalids=[],$scope.getHWMs(!0)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating hwm: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm: "+errorResponse.statusText)})})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwms: "+errorResponse.statusText)})},$scope.reset=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Warning! This will revert the hwm data to the last saved version. All unsaved edits will be lost.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.adjustHWMs=[],HWM_Service.setBulkHWMSearch({}),$scope.invalids=[],$scope.getHWMs(!0)})},$scope.tableSettings={rowHeaders:!0,minSpareRows:0,afterInit:function(){$scope.hotInstance=this},manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,preventOverflow:"horizontal",viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,cells:function(row,col,prop){var cellprops={};return 6>=col&&(cellprops.renderer=colorRenderer),3==col&&(cellprops.renderer=siteNoRenderer),cellprops},onBeforeChange:function(data){for(var i=data.length-1;i>=0;i--)if(("elev_ft"==data[i][1]||"uncertainty"==data[i][1])&&""!==data[i][3]&&isNaN(data[i][3])){data.splice(i,1),setTimeout(function(){$scope.hotInstance.deselectCell()},100);{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Value must be a number.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},afterOnCellMouseDown:function(event,coords,td){if(3==coords.col){var site_number=$scope.hotInstance.getDataAtCell(coords.row,coords.col),siteId=$scope.adjustHWMs.filter(function(h){return h.site_no==site_number})[0].site_id;$state.go("site.dashboard",{id:siteId})}},onAfterValidate:function(isValid,value,row,prop,souce){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},fillHandle:{autoInsertRow:!1},rowHeights:50}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("mainCtrl",["$scope","$rootScope","$document","$cookies","$uibModal","$location","$state",function($scope,$rootScope,$document,$cookies,$uibModal,$location,$state){if($rootScope.isAuth={},$rootScope.activeMenu="home",void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")||void 0===$cookies.get("STNUsername"))$rootScope.isAuth.val=!1,$location.path("/login");else{if(void 0!==$document[0].documentMode){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>This application uses functionality that is not completely supported by Internet Explorer. The preferred browser is Chrome (bison connect).</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}$rootScope.isAuth.val=!0,$rootScope.usersName=$cookies.get("usersName"),$rootScope.userID=$cookies.get("mID"),$rootScope.userRole=$cookies.get("usersRole");var EventName=$cookies.get("SessionEventName");null!==EventName&&void 0!==EventName&&($rootScope.sessionEvent="Session Event: "+EventName+"."),$state.go("map")}}])}(),function(){"use strict";var LogInOutController=angular.module("LogInOutController",[]);LogInOutController.controller("loginCtrl",["$scope","$state","$location","$uibModal","$sce","$http","$cookies","$rootScope","$document","SERVER_URL","ENVIRONMENT","Login",function($scope,$state,$location,$uibModal,$sce,$http,$cookies,$rootScope,$document,SERVER_URL,ENVIRONMENT,Login){if($scope.newsTitle="",$scope.newsFeed=[],Login.getNewsFeed({},function(response){$scope.newsTitle=response.title;var paragraphTags=[];paragraphTags=response.body.storage.value.split("<p>"),paragraphTags.forEach(function(p){$scope.newsFeed.push($sce.trustAsHtml(p))})},function(errorResponse){$scope.newsTitle="STN Notices",$scope.newsFeed.push("Currently not available.")}),$("[type=password]").keypress(function(e){var $password=$(this),tooltipVisible=$(".tooltip").is(":visible"),s=String.fromCharCode(e.which);s.toUpperCase()!==s||s.toLowerCase()===s||e.shiftKey?tooltipVisible&&$password.tooltip("hide"):tooltipVisible||$password.tooltip("show"),$password.blur(function(e){$password.tooltip("hide")})}),void 0!==$document[0].documentMode){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>This application uses functionality that is not completely supported by Internet Explorer. The preferred browser is Chrome (bison connect).</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}Date.prototype.addHours=function(h){return this.setHours(this.getHours()+h),this},$scope.serverURL=SERVER_URL,$rootScope.environment=ENVIRONMENT,$scope.submit=function(){$rootScope.stateIsLoading.showLoading=!0;var up=({username:$scope.username,password:$scope.password},$scope.username+":"+$scope.password);$http.defaults.headers.common.Authorization="Basic "+btoa(up),$http.defaults.headers.common.Accept="application/json",Login.login({},function(response){var user=response;if(void 0!==user){var usersNAME=user.fname+" "+user.lname,enc=btoa($scope.username.concat(":",$scope.password)),expireDate=(new Date).addHours(8);$cookies.put("STNCreds",enc,{expires:expireDate}),$cookies.put("STNUsername",$scope.username),$cookies.put("usersName",usersNAME),$cookies.put("mID",user.member_id);var roleName;switch(user.role_id){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.put("usersRole",roleName),$rootScope.isAuth.val=!0,$rootScope.usersName=usersNAME,$rootScope.userID=user.member_id,$rootScope.userRole=$cookies.get("usersRole"),void 0!==$rootScope.returnToState?$state.go($rootScope.returnToState,{id:$rootScope.returnToStateParams}):$state.go("map")}else $rootScope.stateIsLoading.showLoading=!1,$scope.error="Login Failed"},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1;var modalInstance=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error.</p><p>Error: {{status}} - {{statusText}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.status=errorResponse.status,$scope.statusText=errorResponse.statusText}],size:"sm"});modalInstance.result.then(function(fieldFocus){$location.path("/login")})})}}]),LogInOutController.controller("logoutCtrl",["$scope","$rootScope","$cookies","$location",function($scope,$rootScope,$cookies,$location){$scope.logout=function(){$cookies.remove("STNCreds"),$cookies.remove("STNUsername"),$cookies.remove("usersName"),$cookies.remove("usersRole"),$cookies.remove("mID"),$cookies.remove("SessionEventID"),$cookies.remove("SessionEventName"),$rootScope.thisPage=void 0,$rootScope.returnToState=void 0,$rootScope.returnToStateParams=void 0,$rootScope.stateIsLoading=void 0,$rootScope.activeMenu=void 0,$rootScope.sessionEvent=void 0,$rootScope.isAuth=void 0,$rootScope.searchTerm=void 0,$rootScope.searchParams=void 0,$rootScope.approvalSearch=void 0,$rootScope.userID=void 0,$rootScope.userRole=void 0,$rootScope.usersName=void 0,$rootScope.environment=void 0,$location.path("/login")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("helpCtrl",["$scope",function($scope){$scope.helpInfo={},$scope.helpInfo.fact="Some really interesting help will be here."}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("siteFileModalCtrl",["$scope","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","fileTypeList","thisFile","fileExists","allMembers","fileSource","dataFile","agencyList","fileSite","FILE","SOURCE","DATA_FILE",function($scope,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,fileTypeList,thisFile,fileExists,allMembers,fileSource,dataFile,agencyList,fileSite,FILE,SOURCE,DATA_FILE){$scope.serverURL=SERVER_URL,$scope.userRole=$cookies.get("usersRole"),$scope.view={FILEval:"detail"},$scope.sFileIsUploading=!1,$scope.fileTypes=fileTypeList,$scope.agencies=agencyList,$scope.theSite=fileSite,$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.fileItemExists=void 0===fileExists||fileExists.Length>0?!0:!1,
$scope.datepickrs={},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.updateAgencyForCaption=function(){"create"==$scope.createOReditFile?1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name):1==$scope.fileCopy.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.sourceCopy.agency_id})[0].agency_name)};var getDateTimeParts=function(d){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2),theDate=new Date(y,m,da,h,mi,sec);return theDate};if(void 0!==thisFile){if($scope.createOReditFile="edit",$scope.whoseFile=thisFile.fileBelongsTo,"Objective Point File"==$scope.whoseFile&&($scope.whoseFile="Datum Location File"),$scope.aFile=thisFile,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}if($scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==fileSource&&($scope.aSource=fileSource,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.aSource.agencyName=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name,$scope.agencyNameForCap=$scope.aSource.agencyName),void 0!==dataFile){$scope.ApprovalInfo={},$scope.datafile=dataFile,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end),void 0!==$scope.datafile.approval_id&&null!==$scope.datafile.approval_id&&$scope.datafile.approval_id>=1&&DATA_FILE.getDFApproval({id:$scope.datafile.data_file_id},function(approvalResponse){$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting approval info: "+errorResponse.headers(["usgswim-messages"]):"Error getting approval info: "+errorResponse.statusText)});var aProcessor=null!==$scope.datafile.processor_id?allMembers.filter(function(amem){return amem.member_id==$scope.datafile.processor_id})[0]:{};$scope.processor=void 0!==aProcessor.fname?aProcessor.fname+" "+aProcessor.lname:""}}else $scope.whoseFile="Site File",$scope.createOReditFile="create",$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.cancel=function(){$scope.sFileIsUploading=!1;var sendBack=$scope.aFile;$uibModalInstance.close(sendBack)},$scope.create=function(valid){if(valid){$scope.sFileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.theSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File";var state="created",sendBack=[fresponse,state];$scope.sFileIsUploading=!1,$uibModalInstance.close(sendBack)},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.site_id=$scope.theSite.site_id,$scope.aFile.source_id=response.source_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File";var state="created",sendBack=[fresponse,state];$scope.sFileIsUploading=!1,$uibModalInstance.close(sendBack)},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.changedFileType=function(){},$scope.save=function(valid){if(2==$scope.fileCopy.filetype_id){var s=$scope.dfCopy.good_start,e=$scope.dfCopy.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.sFileIsUploading=!0;var whatkind=$scope.aFile.fileBelongsTo;if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.sourceCopy.source_id){var theSource={source_name:$scope.sourceCopy.FULLname,agency_id:$scope.sourceCopy.agency_id};SOURCE.save(theSource).$promise.then(function(sResponse){$scope.aSource=sResponse,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.aSource.agencyName=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name,$scope.fileCopy.source_id=sResponse.source_id,FILE.update({id:$scope.fileCopy.file_id},$scope.fileCopy).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo=whatkind,$scope.aFile=fileResponse,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),$scope.fileCopy={},$scope.sourceCopy={},$scope.view.FILEval="detail",$scope.sFileIsUploading=!1},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}else{if("UTC"!=$scope.dfCopy.time_zone){var utcStartDateTime=new Date($scope.dfCopy.good_start).toUTCString(),utcEndDateTime=new Date($scope.dfCopy.good_end).toUTCString();$scope.dfCopy.good_start=utcStartDateTime,$scope.dfCopy.good_end=utcEndDateTime,$scope.dfCopy.time_zone="UTC"}else{var si=$scope.dfCopy.good_start.toString().indexOf("GMT")+3,ei=$scope.dfCopy.good_end.toString().indexOf("GMT")+3;$scope.dfCopy.good_start=$scope.dfCopy.good_start.toString().substring(0,si),$scope.dfCopy.good_end=$scope.dfCopy.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.dfCopy.data_file_id},$scope.dfCopy).$promise.then(function(dfResponse){$scope.datafile=dfResponse,$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end);var aProcessor=null!==$scope.datafile.processor_id?allMembers.filter(function(amem){return amem.member_id==$scope.datafile.processor_id})[0]:{};$scope.processor=void 0!==aProcessor.fname?aProcessor.fname+" "+aProcessor.lname:"",FILE.update({id:$scope.fileCopy.file_id},$scope.fileCopy).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo=whatkind,$scope.aFile=fileResponse,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),$scope.fileCopy={},$scope.dfCopy={},$scope.view.FILEval="detail",$scope.sFileIsUploading=!1},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}}},$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,$scope.isPhoto=void 0!==$scope.aFile.File1?$scope.aFile.File1.type.indexOf("image")>-1?!0:!1:$scope.aFile.File.type.indexOf("image")>-1?!0:!1,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.wannaEditFILE=function(){$scope.view.FILEval="edit",$scope.fileCopy=angular.copy($scope.aFile),$scope.dfCopy=angular.copy($scope.datafile),$scope.sourceCopy=angular.copy($scope.aSource)},$scope.cancelFILEEdit=function(){$scope.view.FILEval="detail",$scope.fileCopy={},$scope.dfCopy={},$scope.sourceCopy={}},$scope.approveDF=function(){var thisDF=$scope.datafile,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve Data File</h3></div><div class='modal-body'><p>Are you ready to approve this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});approveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.approveDF({id:df.data_file_id}).$promise.then(function(approvalResponse){df.approval_id=approvalResponse.approval_id,$scope.datafile=df,toastr.success("Data File Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving data file: "+errorResponse.statusText)})},function(){})},$scope.unApproveDF=function(){var thisDF=$scope.datafile,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});unapproveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.unApproveDF({id:df.data_file_id}).$promise.then(function(){df.approval_id=null,$scope.datafile=df,toastr.success("Data File Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving data file: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving data file: "+errorResponse.statusText)})},function(){})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("fileCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","SERVER_URL","FILE_STAMP","Site_Files","HWM_Service","Instrument_Service","$uibModal","$filter","$timeout","thisSite","thisSiteFiles","allFileTypes","allAgencies","thisSiteSensors","thisSiteOPs","thisSiteHWMs","FILE","DATA_FILE","MEMBER","SOURCE","SITE",function($scope,$rootScope,$cookies,$location,$state,$http,SERVER_URL,FILE_STAMP,Site_Files,HWM_Service,Instrument_Service,$uibModal,$filter,$timeout,thisSite,thisSiteFiles,allFileTypes,allAgencies,thisSiteSensors,thisSiteOPs,thisSiteHWMs,FILE,DATA_FILE,MEMBER,SOURCE,SITE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.serverURL=SERVER_URL,$scope.stamp=FILE_STAMP.getStamp(),$rootScope.$on("fileStampSet",function(event,st){$scope.stamp=st}),$scope.siteHWMs=thisSiteHWMs,$scope.siteSensors=thisSiteSensors;for(var sf=0;sf<thisSiteFiles.length;sf++){var whatKindaFile="";if(thisSiteFiles[sf].hwm_id>0&&null!==thisSiteFiles[sf].hwm_id&&(whatKindaFile="HWM File"),thisSiteFiles[sf].data_file_id>0&&null!==thisSiteFiles[sf].data_file_id&&(whatKindaFile="DataFile File"),thisSiteFiles[sf].instrument_id>0&&null!==thisSiteFiles[sf].instrument_id){whatKindaFile="Sensor File";var thisIns=thisSiteSensors.filter(function(s){return s.instrument_id==thisSiteFiles[sf].instrument_id})[0];thisSiteFiles[sf].typeName=thisIns.serial_number}thisSiteFiles[sf].objective_point_id>0&&null!==thisSiteFiles[sf].objective_point_id&&(whatKindaFile="Objective Point File",thisSiteFiles[sf].typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==thisSiteFiles[sf].objective_point_id})[0].name),""===whatKindaFile&&(whatKindaFile="Site File"),thisSiteFiles[sf].fileBelongsTo=whatKindaFile}Site_Files.setAllSiteFiles(thisSiteFiles),$scope.SiteFiles=Site_Files.getAllSiteFiles(),$scope.siteImageFiles=[];for(var s=0;s<$scope.SiteFiles.length;s++){var extI=$scope.SiteFiles[s].name.indexOf("."),extString=$scope.SiteFiles[s].name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push($scope.SiteFiles[s])}$scope.$on("siteFilesUpdated",function(event,sitefiles){$scope.siteHWMs=HWM_Service.getAllSiteHWMs(),$scope.siteSensors=Instrument_Service.getAllSiteSensors(),$scope.SiteFiles=sitefiles.filter(function(h){return"Site File"==h.fileBelongsTo||"Objective Point File"==h.fileBelongsTo}),angular.forEach($scope.SiteFiles,function(sf){"Objective Point File"==sf.fileBelongsTo&&(sf.typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==sf.objective_point_id})[0].name)});var hwmFiles=sitefiles.filter(function(sfiles){return"HWM File"==sfiles.fileBelongsTo}),sensFiles=sitefiles.filter(function(sfi){return sfi.instrument_id>0&&null!==sfi.instrument_id});if(void 0!==$cookies.get("SessionEventID"))for(var Ehf=0;Ehf<hwmFiles.length;Ehf++)for(var Ehwm=0;Ehwm<$scope.siteHWMs.length;Ehwm++)hwmFiles[Ehf].hwm_id==$scope.siteHWMs[Ehwm].hwm_id&&$scope.siteHWMs[Ehwm].event_id==$cookies.get("SessionEventID")&&$scope.SiteFiles.push(hwmFiles[Ehf]);else for(var hf=0;hf<hwmFiles.length;hf++)for(var hwm=0;hwm<$scope.siteHWMs.length;hwm++)hwmFiles[hf].hwm_id==$scope.siteHWMs[hwm].hwm_id&&$scope.SiteFiles.push(hwmFiles[hf]);if(void 0!==$cookies.get("SessionEventID"))for(var Esf=0;Esf<sensFiles.length;Esf++)for(var Einst=0;Einst<$scope.siteSensors.length;Einst++)sensFiles[Esf].instrument_id==$scope.siteSensors[Einst].instrument_id&&$scope.siteSensors[Einst].event_id==$cookies.get("SessionEventID")&&(sensFiles[Esf].typeName=$scope.siteSensors[Einst].serial_number,$scope.SiteFiles.push(sensFiles[Esf]));else for(var sf=0;sf<sensFiles.length;sf++)for(var inst=0;inst<$scope.siteSensors.length;inst++)sensFiles[sf].instrument_id==$scope.siteSensors[inst].instrument_id&&(sensFiles[sf].typeName=$scope.siteSensors[inst].serial_number,$scope.SiteFiles.push(sensFiles[sf]));$scope.siteImageFiles=[],angular.forEach($scope.SiteFiles,function(sf){var extI=sf.name.indexOf("."),extString=sf.name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push(sf)})},!0),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){if($scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue){$scope.siteHWMs=HWM_Service.getAllSiteHWMs(),$scope.siteSensors=Instrument_Service.getAllSiteSensors(),$scope.SiteFiles=Site_Files.getAllSiteFiles().filter(function(h){return"Site File"==h.fileBelongsTo||"Objective Point File"==h.fileBelongsTo}),angular.forEach($scope.SiteFiles,function(sf){"Objective Point File"==sf.fileBelongsTo&&(sf.typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==sf.objective_point_id})[0].name),$scope.siteImageFiles=[];var extI=sf.name.indexOf("."),extString=sf.name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push(sf)});for(var hwmFiles=Site_Files.getAllSiteFiles().filter(function(sfiles){return"HWM File"==sfiles.fileBelongsTo}),sensFiles=Site_Files.getAllSiteFiles().filter(function(sfi){return sfi.instrument_id>0&&null!==sfi.instrument_id}),hf=0;hf<hwmFiles.length;hf++)for(var hwm=0;hwm<$scope.siteHWMs.length;hwm++)hwmFiles[hf].hwm_id==$scope.siteHWMs[hwm].hwm_id&&$scope.siteHWMs[hwm].event_id==$cookies.get("SessionEventID")&&$scope.SiteFiles.push(hwmFiles[hf]);for(var sf=0;sf<sensFiles.length;sf++)for(var inst=0;inst<$scope.siteSensors.length;inst++)sensFiles[sf].instrument_id==$scope.siteSensors[inst].instrument_id&&$scope.siteSensors[inst].event_id==$cookies.get("SessionEventID")&&(sensFiles[sf].typeName=$scope.siteSensors[inst].serial_number,$scope.SiteFiles.push(sensFiles[sf]))}else $scope.SiteFiles=Site_Files.getAllSiteFiles()},!0),$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFileModal=function(FileClicked){var SindexClicked=$scope.SiteFiles.indexOf(FileClicked);$scope.siteFileTypes=allFileTypes.filter(function(ft){return"Photo"===ft.filetype||"Historic Citation"===ft.filetype||"Field Sheets"===ft.filetype||"Level Notes"===ft.filetype||"Site Sketch"===ft.filetype||"Other"===ft.filetype||"Link"===ft.filetype||"Sketch"===ft.filetype||"Landowner Permission Form"===ft.filetype}),$scope.hwmFileTypes=allFileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.sensorFileTypes=allFileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Link"===sft.filetype||"Sketch"===sft.filetype}),$scope.opFileTypes=allFileTypes.filter(function(oft){return"Photo"===oft.filetype||"Field Sheets"===oft.filetype||"Level Notes"===oft.filetype||"Other"===oft.filetype||"NGS Datasheet"===oft.filetype||"Sketch"===oft.filetype});var modalInstance=$uibModal.open({templateUrl:0!==FileClicked?"FILEmodal.html":"FileCreateModal.html",controller:"siteFileModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{fileExists:function(){return 0!==FileClicked?FILE.getFileItem({id:FileClicked.file_id}).$promise:void 0},fileTypeList:function(){if(0===FileClicked)return $scope.siteFileTypes;switch(FileClicked.fileBelongsTo){case"HWM File":return $scope.hwmFileTypes;case"DataFile File":return $scope.sensorFileTypes;case"Sensor File":return $scope.sensorFileTypes;case"Objective Point File":return $scope.opFileTypes;case"Site File":return $scope.siteFileTypes}},agencyList:function(){return allAgencies},thisFile:function(){return 0!==FileClicked?FileClicked:void 0},fileSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},fileSource:function(){return 0!==FileClicked&&void 0!==FileClicked.source_id?SOURCE.query({id:FileClicked.source_id}).$promise:void 0},dataFile:function(){return 0!==FileClicked&&void 0!==FileClicked.data_file_id?DATA_FILE.query({id:FileClicked.data_file_id}).$promise:void 0}}});modalInstance.result.then(function(createdFile){"created"==createdFile[1]&&($scope.SiteFiles.push(createdFile[0]),Site_Files.setAllSiteFiles($scope.SiteFiles)),void 0===createdFile[1]&&($scope.SiteFiles[SindexClicked]=createdFile,Site_Files.setAllSiteFiles($scope.SiteFiles),$scope.stamp=FILE_STAMP.getStamp()),"deleted"==createdFile[1]&&($scope.SiteFiles.splice(SindexClicked,1),Site_Files.setAllSiteFiles($scope.SiteFiles))})}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("eventSessionModalCtrl",["$scope","$rootScope","$cookies","$uibModalInstance","allEvents","allEventTypes","allStates","EVENT",function($scope,$rootScope,$cookies,$uibModalInstance,allEvents,allEventTypes,allStates,EVENT){$scope.EventList=allEvents,$scope.EventTypeList=allEventTypes,$scope.StateList=allStates;var chosenEv=$cookies.get("SessionEventID");$scope.event={EventChosen:void 0!==chosenEv?Number(chosenEv):""},$scope.filterEvents=function(){var d=null!==$scope.event.DATE&&void 0!==$scope.event.DATE?$scope.event.DATE:null,t=null!==$scope.event.type&&void 0!==$scope.event.type?$scope.event.type:0,s=null!==$scope.event.state&&void 0!==$scope.event.state?$scope.event.state:null;EVENT.getFilteredEvents({Date:d,Type:t,State:s}).$promise.then(function(response){$scope.EventList=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered events: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered events: "+errorResponse.statusText)})},$scope.clearFilters=function(){$scope.event={EventChosen:void 0!==chosenEv?Number(chosenEv):""},$scope.EventList=allEvents},$scope.setEvent=function(){if($scope.evID=$scope.event.EventChosen,""!==$scope.evID){var eventName=allEvents.filter(function(x){return x.event_id==$scope.evID})[0];$cookies.put("SessionEventID",$scope.evID),$cookies.put("SessionEventName",eventName.event_name),$rootScope.sessionEvent="Session Event: "+eventName.event_name+".",$uibModalInstance.dismiss("cancel")}else toastr.error("You must choose an Event first.")},$scope.clearEvent=function(){$scope.event={},$cookies.remove("SessionEventID"),$cookies.remove("SessionEventName"),$rootScope.sessionEvent="",$uibModalInstance.dismiss("cancel")},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.close=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("eventSessionCtrl",["$scope","$rootScope","$cookies","$uibModal","$location","$state","EVENT","EVENT_TYPE","STATE",function($scope,$rootScope,$cookies,$uibModal,$location,$state,EVENT,EVENT_TYPE,STATE){$scope.openEventModal=function(){var modalInstance=$uibModal.open({templateUrl:"ChooseEvent.html",controller:"eventSessionModalCtrl",size:"md",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allEvents:function(){return EVENT.getAll().$promise},allEventTypes:function(){return EVENT_TYPE.getAll().$promise},allStates:function(){return STATE.getAll().$promise}}});modalInstance.result.then(function(r){})}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModal","$uibModalInstance","$filter","thisEvent","eventTypeList","eventStatusList","adminList","fileTypes","eventSites","allStates","allCounties","EVENT","FILE","SERVER_URL",function($scope,$rootScope,$cookies,$http,$uibModal,$uibModalInstance,$filter,thisEvent,eventTypeList,eventStatusList,adminList,fileTypes,eventSites,allStates,allCounties,EVENT,FILE,SERVER_URL){$scope.serverURL=SERVER_URL,$scope.downloadZipUrl="",$scope.objectChoices=["HWMs","Sensors"],$scope.anEvent={},$scope.eventTypes=eventTypeList,$scope.eventStatuses=eventStatusList,$scope.adminMembers=adminList,$scope.loggedInRole=$cookies.get("usersRole"),$scope.view={EVval:"detail"},$scope.dl={dlOpen:!0,dlFileOpen:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.wannaEditEV=function(){$scope.view.EVval="edit",$scope.evCopy=angular.copy($scope.anEvent)},$scope.cancelEVEdit=function(){$scope.view.EVval="detail",$scope.evCopy=[]};var makeAdate=function(d){var aDate=new Date;void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime},dateWOtime=function(d){var year=d.getFullYear(),month=d.getMonth(),day=("0"+d.getDate()).slice(-2),monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],dateWOtime=monthNames[month]+"/"+day+"/"+year;return dateWOtime};"empty"!==thisEvent?($scope.createOReditEV="edit",$scope.evModalHeader="Event Information",$scope.anEvent=angular.copy(thisEvent),$scope.anEvent.event_start_date=void 0!==$scope.anEvent.event_start_date?makeAdate($scope.anEvent.event_start_date):"",$scope.anEvent.event_end_date=void 0!==$scope.anEvent.event_end_date?makeAdate($scope.anEvent.event_end_date):""):($scope.createOReditEV="create",$scope.anEvent.event_start_date=makeAdate());var compareDates=function(v,sd,ed){if(new Date(ed)<new Date(sd)){v=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The event end date must be after the event start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){v=!1})}else(""===ed||""===sd)&&(v=!1);return v};if($scope.create=function(valid){if(void 0!==$scope.anEvent.event_start_date&&null!==$scope.anEvent.event_start_date&&void 0!==$scope.anEvent.event_end_date&&null!==$scope.anEvent.event_end_date&&(valid=compareDates(valid,$scope.anEvent.event_start_date,$scope.anEvent.event_end_date)),valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdEvent={};EVENT.save($scope.anEvent,function(response){toastr.success("Event Created"),createdEvent=response,createdEvent.event_id=response.event_id,createdEvent.Name=response.event_name,createdEvent.Type=$scope.eventTypes.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,createdEvent.Status=$scope.eventStatuses.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.adminMembers.filter(function(c){return c.member_id==response.event_coordinator})[0];createdEvent.StartDate=response.event_start_date,createdEvent.EndDate=response.event_end_date,createdEvent.Coord=void 0!==coord?coord.fname+" "+coord.lname:""},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating new event: "+errorResponse.headers(["usgswim-messages"]):"Error creating new event: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdEvent,"created"];$uibModalInstance.close(sendBack)})}},$scope.save=function(valid){if(void 0!==$scope.evCopy.event_start_date&&null!==$scope.evCopy.event_start_date&&void 0!==$scope.evCopy.event_end_date&&null!==$scope.evCopy.event_end_date&&(valid=compareDates(valid,$scope.evCopy.event_start_date,$scope.evCopy.event_end_date)),
valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var updatedEvent={};EVENT.update({id:$scope.evCopy.event_id},$scope.evCopy,function(response){updatedEvent=response,updatedEvent.event_id=response.event_id,updatedEvent.Name=response.event_name,updatedEvent.Type=$scope.eventTypes.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,updatedEvent.Status=$scope.eventStatuses.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.adminMembers.filter(function(c){return c.member_id==response.event_coordinator})[0];updatedEvent.StartDate=response.event_start_date,updatedEvent.EndDate=response.event_end_date,updatedEvent.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",toastr.success("Event Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving: "+errorResponse.headers(["usgswim-messages"]):"Error saving event: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[updatedEvent,"updated"];$uibModalInstance.close(sendBack)})}},$scope.deleteEV=function(ev){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ev},what:function(){return"Event"}}});modalInstance.result.then(function(eventToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT["delete"]({id:eventToRemove.event_id},function(response){toastr.success("Event Deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event: "+errorResponse.statusText)}).$promise.then(function(){$uibModalInstance.close(["de","deleted"])})})},$scope.cancel=function(){$uibModalInstance.close()},$rootScope.stateIsLoading={showLoading:!1},"empty"!==thisEvent){if($scope.zipFileParams={filesFor:"",stateName:"",countyName:"",fromDate:"",toDate:""},$scope.siteCountyList=[],$scope.countyArray=[],$scope.eventStates=[],void 0!==eventSites)for(var st=0;st<allStates.length;st++)for(var es=0;es<eventSites.length;es++)eventSites[es].state==allStates[st].state_abbrev&&($scope.eventStates.push(allStates[st]),es=eventSites.length);else $scope.eventStates=allStates;for(var ci=0;ci<eventSites.length;ci++)$scope.siteCountyList.map(function(scl){return scl.county_name}).indexOf(eventSites[ci].county)<0&&$scope.siteCountyList.push({state_abbrev:eventSites[ci].state,county_name:eventSites[ci].county,state_id:allStates.filter(function(s){return s.state_abbrev==eventSites[ci].state})[0].state_id});$scope.UpdateCounties=function(){if(void 0!==$scope.zipFileParams.stateName){var thisState=$scope.eventStates.filter(function(st){return st.state_abbrev==$scope.zipFileParams.stateName})[0];$scope.countyArray=$scope.siteCountyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},$scope.HWMfileTypes=fileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Sketch"===hft.filetype}),$scope.sensorfileTypes=fileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Sketch"===sft.filetype}),$scope.updatefileTypeChecks=function(){$scope.hwmFileTypesWanted=[];$scope.hwmFileTypesString="",$scope.sensorFileTypesString="",angular.forEach($scope.HWMfileTypes,function(hwmFT){hwmFT.selected=!1}),angular.forEach($scope.sensorfileTypes,function(senFT){senFT.selected=!1}),"HWMs"==$scope.zipFileParams.filesFor&&($scope.fileTypeCheckList=$scope.HWMfileTypes),"Sensors"==$scope.zipFileParams.filesFor&&($scope.fileTypeCheckList=$scope.sensorfileTypes),$scope.filesWantedChosen=!0},$scope.checkedFile=function(f){"HWMs"==$scope.zipFileParams.filesFor&&($scope.hwmFileTypesWanted=[],angular.forEach($scope.HWMfileTypes,function(hf){hf.selected&&$scope.hwmFileTypesWanted.push(hf.filetype_id)}),$scope.hwmFileTypesString=$scope.hwmFileTypesWanted.join(",")),"Sensors"==$scope.zipFileParams.filesFor&&($scope.sensorFileTypesWanted=[],angular.forEach($scope.sensorfileTypes,function(sf){sf.selected&&$scope.sensorFileTypesWanted.push(sf.filetype_id)}),$scope.sensorFileTypesString=$scope.sensorFileTypesWanted.join(","))},$scope.DownloadZip=function(){var formattedFromDate="",formattedToDate="";if(""!==$scope.zipFileParams.fromDate&&(formattedFromDate=dateWOtime($scope.zipFileParams.fromDate)),""!==$scope.zipFileParams.toDate&&(formattedToDate=dateWOtime($scope.zipFileParams.toDate)),""!==$scope.zipFileParams.filesFor){var filepath=$scope.serverURL+"/Events/"+$scope.anEvent.event_id+"/EventFileItems?State="+$scope.zipFileParams.stateName+"&County="+$scope.zipFileParams.countyName+"&FromDate="+formattedFromDate+"&ToDate="+formattedToDate+"&FilesFor="+$scope.zipFileParams.filesFor+"&HWMFileType="+$scope.hwmFileTypesString+"&SensorFileTypes="+$scope.sensorFileTypesString,xhr=new XMLHttpRequest;xhr.open("GET",filepath),toastr.options={closeButton:!0,positionClass:"toast-bottom-right",onclick:null,timeOut:"0",extendedTimeOut:"0"},toastr.warning("Zip file is downloading."),xhr.responseType="blob",xhr.setRequestHeader("Content-type","application/*; charset=utf-8"),xhr.setRequestHeader("Authorization","Basic "+$cookies.get("STNCreds")),xhr.onreadystatechange=function(){if(4===xhr.readyState)if("Internal Server Error"!==xhr.statusText){var usgsWiMmessage=xhr.getResponseHeader("usgswim-messages");if("info: FileCount:0,Count: 0"==usgsWiMmessage){toastr.clear();{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">No Files</h3></div><div class="modal-body"><p>There are no files that match your query.</p><p>Please narrow your search and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}else{var blob=new Blob([xhr.response],{type:"application/octet-stream"}),a=document.createElement("a"),urlCreator=window.URL||window.webkitURL||window.mozURL||window.msURL,fileURL=urlCreator.createObjectURL(blob);a.style="display: none",a.href=fileURL,a.download="EventFileDownload.zip",a.target="_blank",document.body.appendChild(a),a.click(),toastr.clear()}}else{toastr.clear();{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Download was unsuccessful. Possible cause is that the zip file is too large to download.</p><p>Please narrow your search and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},xhr.send()}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must choose either HWM files or Sensor files before a downloaded zip file can be requested.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventInfoCtrl",["$scope","$cookies","$location","$http","$uibModal","$filter","EVENT","thisEvent",function($scope,$cookies,$location,$http,$uibModal,$filter,EVENT,thisEvent){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.anEvent={},$scope.DeleteEvent=function(ev){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ev},what:function(){return"Event"}}});modalInstance.result.then(function(nameToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT["delete"]({id:nameToRemove.event_id},function(response){var delEv={};delEv.event_id=nameToRemove.event_id,delEv.Name=nameToRemove.event_name,delEv.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==nameToRemove.event_type_id})[0].type,delEv.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==nameToRemove.event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==nameToRemove.event_coordinator})[0];delEv.StartDate=nameToRemove.event_start_date,delEv.EndDate=nameToRemove.event_end_date,delEv.Coord=void 0!==coord?coord.fname+" "+coord.lname:"";for(var index=0,i=0;i<$scope.eventList.length;i++)$scope.eventList[i].event_id==delEv.event_id&&(index=i,i=$scope.eventList.length);$scope.eventList.splice(index,1),toastr.success("Event Deleted")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)}).$promise.then(function(){$location.path("/Events/EventsList").replace()})})};var makeAdate=function(d){var aDate=new Date;void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if(void 0!==thisEvent){$scope.anEvent=thisEvent,$scope.anEvent.event_start_date=makeAdate($scope.anEvent.event_start_date),$scope.anEvent.event_end_date=makeAdate($scope.anEvent.event_end_date),$scope.thisEventType=$scope.eventTypeList.filter(function(a){return a.event_type_id==thisEvent.event_type_id})[0].type,$scope.thisEventStatus=$scope.eventStatList.filter(function(r){return r.event_status_id==thisEvent.event_status_id})[0].status;var EC=$scope.eventCoordList.filter(function(c){return c.member_id==thisEvent.event_coordinator})[0];$scope.thisEventCoord=void 0!==EC?EC.fname+" "+EC.lname:""}else $scope.anEvent.event_start_date=makeAdate(),$scope.anEvent.event_end_date=makeAdate();$scope.SaveOnBlur=function(v){if(v)$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT.update({id:$scope.anEvent.event_id},$scope.anEvent,function(response){toastr.success("Event Updated")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)});else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.save=function(valid){valid&&EVENT.save($scope.anEvent,function(response){toastr.success("Event Created");var E={};E.event_id=response.event_id,E.Name=response.event_name,E.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,E.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==response.event_coordinator})[0];E.StartDate=response.event_start_date,E.EndDate=response.event_end_date,E.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",$scope.eventList.push(E)}).$promise.then(function(){$location.path("/Events/EventsList").replace()})}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","MEMBER","FILE_TYPE","EVENT","STATE","COUNTIES","allCoordMembers","allEvents","allEventTypes","allEventStats",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,MEMBER,FILE_TYPE,EVENT,STATE,COUNTIES,allCoordMembers,allEvents,allEventTypes,allEventStats){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Settings/Events",$scope.loggedInRole=$cookies.get("usersRole"),$scope.isAdmin="Admin"==$scope.loggedInRole?!0:!1,$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")};var makeAdate=function(d){var Tindex=d.indexOf("T"),theDate=d.substring(0,Tindex);return theDate};$scope.eventTypeList=allEventTypes,$scope.eventStatList=allEventStats,$scope.eventCoordList=allCoordMembers,$scope.eventList=[];for(var x=0;x<allEvents.length;x++){var E=allEvents[x];E.Name=allEvents[x].event_name,E.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==allEvents[x].event_type_id})[0].type,E.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==allEvents[x].event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==allEvents[x].event_coordinator})[0];E.StartDate=void 0!==allEvents[x].event_start_date?makeAdate(allEvents[x].event_start_date):"",E.EndDate=void 0!==allEvents[x].event_end_date?makeAdate(allEvents[x].event_end_date):"",E.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",$scope.eventList.push(E)}$scope.showEventModal=function(eventClicked){var indexClicked=$scope.eventList.indexOf(eventClicked);$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"eventModal.html",controller:"eventModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{thisEvent:function(){return 0!==eventClicked?eventClicked:"empty"},eventTypeList:function(){return allEventTypes},eventStatusList:function(){return allEventStats},adminList:function(){return allCoordMembers},fileTypes:function(){return FILE_TYPE.getAll().$promise},eventSites:function(){return 0!==eventClicked?EVENT.getEventSites({id:eventClicked.event_id}).$promise:void 0},allStates:function(){return STATE.getAll().$promise},allCounties:function(){return COUNTIES.getAll().$promise}}});modalInstance.result.then(function(createdEvent){$rootScope.stateIsLoading={showLoading:!1},void 0!==createdEvent&&("created"==createdEvent[1]&&$scope.eventList.push(createdEvent[0]),"updated"===createdEvent[1]&&($scope.eventList[indexClicked]=createdEvent[0]),"deleted"==createdEvent[1]&&$scope.eventList.splice(indexClicked,1))})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("approvalCtrl",["$scope","$state","$cookies","$rootScope","$location","$http","$uibModal","stateList","countyList","instrumentList","allSensorTypes","allDepTypes","hwmQualList","hwmTypeList","HWM","DATA_FILE","INSTRUMENT","SITE","MEMBER",function($scope,$state,$cookies,$rootScope,$location,$http,$uibModal,stateList,countyList,instrumentList,allSensorTypes,allDepTypes,hwmQualList,hwmTypeList,HWM,DATA_FILE,INSTRUMENT,SITE,MEMBER){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{if($rootScope.thisPage="Approval",$rootScope.activeMenu="approval",$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"}),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll(function(response){$scope.allMembers=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting memebers: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}).$promise,$scope.allStates=stateList,$scope.countyList=countyList,$scope.countyArray=[],$scope.allInstruments=instrumentList,$scope.allSensorTypes=allSensorTypes,$scope.allDeploymentTypes=allDepTypes,$scope.hwmQuals=hwmQualList,$scope.hwmTypes=hwmTypeList,$scope.ChosenEvent={},$scope.ChosenState={},$scope.ChosenCounties={},$scope.unApprovedHWMs=[],$scope.showHWMbox=!1,$scope.unApprovedDFs=[],$scope.showDFbox=!1,$scope.sitesWOpeaks=[],$scope.showPeakbox=!1,$scope.search=function(){$scope.unApprovedHWMs=[],$scope.showHWMbox=!1,$scope.unApprovedDFs=[],$scope.showDFbox=!1,$scope.sitesWOpeaks=[],$scope.showPeakbox=!1;var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0,sID=void 0!==$scope.ChosenState.id?$scope.ChosenState.id:0,chosenCounties=void 0!==$scope.ChosenCounties.counties?$scope.ChosenCounties.counties:[];$rootScope.approvalSearch={eventID:evID,stateID:sID,counties:chosenCounties};var countyNames=[];angular.forEach(chosenCounties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.getUnapprovedHWMs({IsApproved:"false",Event:evID,State:sID,Counties:countiesCommaSep},function(response){angular.forEach(response,function(h){SITE.query({id:h.site_id}).$promise.then(function(sresponse){h.site_no=sresponse.site_no,h.stillwater=h.stillwater>0?"Yes":"No",h.selected=!1,$scope.unApprovedHWMs.push(h)})}),$scope.showHWMbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved hwms: "+errorResponse.statusText)}),DATA_FILE.getUnapprovedDFs({IsApproved:"false",Event:evID,State:sID,Counties:countiesCommaSep},function(response1){var DFs=response1;angular.forEach(DFs,function(df){var thisdfInst=$scope.allInstruments.filter(function(i){return i.instrument_id==df.instrument_id})[0],formattedDF={},siteID=thisdfInst.site_id;formattedDF.SiteId=siteID,formattedDF.senType=$scope.allSensorTypes.filter(function(s){return s.sensor_type_id==thisdfInst.sensor_type_id})[0].sensor;var depType=$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==thisdfInst.deployment_type_id})[0];formattedDF.depType=void 0!==depType?depType.method:void 0,formattedDF.InstrID=thisdfInst.instrument_id,SITE.query({id:siteID}).$promise.then(function(response2){formattedDF.SiteNo=response2.site_no,$scope.unApprovedDFs.push(formattedDF)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}),$scope.showDFbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved data files: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved data files: "+errorResponse.statusText)}),SITE.getPeaklessSites({id:evID},function(resp2){$scope.sitesWOpeaks=resp2,$scope.showPeakbox=!0})},$scope.UpdateCounties=function(){if(null!==$scope.ChosenState.id){var thisState=$scope.allStates.filter(function(st){return st.state_abbrev==$scope.ChosenState.id})[0];$scope.countyArray=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},void 0!==$rootScope.approvalSearch){var thisSearch=$rootScope.approvalSearch;$scope.sessionEvent=Number(thisSearch.eventID),$scope.ChosenState.id=thisSearch.stateID,thisSearch.stateID&&$scope.UpdateCounties();for(var caI=0;caI<$scope.countyArray.length;caI++){for(var cI=0;cI<thisSearch.counties.length;cI++)thisSearch.counties[cI].county_id==$scope.countyArray[caI].county_id?($scope.countyArray[caI].selected=!0,cI=thisSearch.counties.length):$scope.countyArray[caI].selected=!1;0===thisSearch.counties.length&&($scope.countyArray[caI].selected=!1)}var countyNames=[];$scope.ChosenCounties.counties=thisSearch.counties,angular.forEach(thisSearch.counties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.getUnapprovedHWMs({IsApproved:"false",Event:thisSearch.eventID,State:thisSearch.stateID,Counties:countiesCommaSep},function(response){angular.forEach(response,function(h){SITE.query({id:h.site_id}).$promise.then(function(sresponse){h.site_no=sresponse.site_no,h.stillwater=h.stillwater>0?"Yes":"No",h.selected=!1,$scope.unApprovedHWMs.push(h)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwm site ("+h.site_id+"): "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm site ("+h.site_id+"): "+errorResponse.statusText)})}),$scope.showHWMbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved hwms: "+errorResponse.statusText)}),DATA_FILE.getUnapprovedDFs({IsApproved:"false",Event:thisSearch.eventID,State:thisSearch.stateID,Counties:countiesCommaSep},function(response1){var DFs=response1;angular.forEach(DFs,function(df){var thisdfInst=$scope.allInstruments.filter(function(i){return i.instrument_id==df.instrument_id})[0],formattedDF={},siteID=thisdfInst.site_id;formattedDF.SiteId=siteID,formattedDF.senType=$scope.allSensorTypes.filter(function(s){return s.sensor_type_id==thisdfInst.sensor_type_id})[0].sensor;var depType=$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==thisdfInst.deployment_type_id})[0];formattedDF.depType=void 0!==depType?depType.method:void 0,formattedDF.InstrID=thisdfInst.instrument_id,SITE.query({id:siteID}).$promise.then(function(response2){formattedDF.SiteNo=response2.site_no,$scope.unApprovedDFs.push(formattedDF)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}),$scope.showDFbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved data files: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved data files: "+errorResponse.statusText)})}$scope.approveCheck=function(hArray){return hArray?hArray.some(function(h){return h.selected===!0}):void 0},$scope.approveThese=function(){var approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve HWMs</h3></div><div class='modal-body'><p>Are you sure you want to approve these HWMs? Doing so will remove them from this list of unapproved HWMs.</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close()}}],size:"sm"});approveModal.result.then(function(){$scope.unApprovedHWMs})},$scope.goToSiteDash=function(siteID){var warningModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><p>You are about to leave the Approval page and be taken to the Site Dashboard.<br/>Are you sure you want to leave the Approval page?</p></div><div class="modal-footer"><button class="btn btn-warning" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.ok=function(){$uibModalInstance.close(siteID)}}],size:"sm"});warningModal.result.then(function(siteId){$state.go("site.dashboard",{id:siteId})})}}}])}(),function(){"use strict";var STNResource=angular.module("STNResource",["ngResource"]),rootURL="https://stn.wim.usgs.gov/STNServices";STNResource.factory("GEOCODE",["$resource",function($resource){return $resource(rootURL+"/Geocode/location",{},{getAddressParts:{method:"GET",params:{Latitude:"@Latitude",Longitude:"@Longitude"}}})}]),STNResource.factory("AGENCY",["$resource",function($resource){return $resource(rootURL+"/Agencies/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("CONTACT_TYPE",["$resource",function($resource){return $resource(rootURL+"/ContactTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("CONTACT",["$resource",function($resource){return $resource(rootURL+"/Contacts/:id.json",{},{query:{},getContactModel:{method:"GET",isArray:!0},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("COUNTIES",["$resource",function($resource){return $resource(rootURL+"/Counties/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DATA_FILE",["$resource",function($resource){return $resource(rootURL+"/DataFiles/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getDFApproval:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/DataFiles/:id/Approval.json"},getUnapprovedDFs:{method:"GET",isArray:!0,cache:!1},getEventDataView:{method:"GET",isArray:!0,cache:!1,url:rootURL+"/DataFileView?EventId=:eventId"},runStormScript:{method:"GET",url:rootURL+"/DataFiles/RunStormScript?SeaDataFileID=:seaDFID&AirDataFileID=:airDFID&Hertz=:hertz&Username=:username"},runAirScript:{method:"GET",url:rootURL+"/DataFiles/RunAirScript?AirDataFileID=:airDFID&Username=:username"},runChopperScript:{method:"POST",url:rootURL+"/Files/RunChopperScript",headers:{"Content-Type":void 0},transformRequest:angular.identity,cache:!1,isArray:!1},approveDF:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/datafiles/:id/Approve.json"},approveNWISDF:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/datafiles/:id/NWISApprove.json"},unApproveDF:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/datafiles/:id/Unapprove.json"},stormScript:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/DataFiles/RunScript?SeaDataFileID=:seaDataFileId&AirDataFileID=:airDataFileId&Hertz=:hertz&Username=username"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DEPLOYMENT_PRIORITY",["$resource",function($resource){return $resource(rootURL+"/DeploymentPriorities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DEPLOYMENT_TYPE",["$resource",function($resource){return $resource(rootURL+"/DeploymentTypes/:id.json",{},{query:{},getDepSensType:{method:"GET",isArray:!1,url:rootURL+"/DeploymentTypes/:id/SensorType.json"},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT",["$resource",function($resource){return $resource(rootURL+"/Events/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getEventSites:{method:"GET",isArray:!0,url:rootURL+"/Events/:id/Sites.json"},getFilteredEvents:{method:"GET",isArray:!0,url:rootURL+"/Events/FilteredEvents.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT_STATUS",["$resource",function($resource){return $resource(rootURL+"/EventStatus/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT_TYPE",["$resource",function($resource){return $resource(rootURL+"/EventTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("FILE",["$resource",function($resource){return $resource(rootURL+"/Files/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getFileItem:{method:"GET",isArray:!1,url:rootURL+"/Files/:id/Item"},getTESTdata:{method:"GET",url:rootURL+"/Files/testDataFile"},update:{method:"PUT",cache:!1,isArray:!1},uploadFile:{method:"POST",url:rootURL+"/Files/bytes",headers:{"Content-Type":void 0},transformRequest:angular.identity,cache:!1,isArray:!1},downloadZip:{method:"GET",responseType:"arraybuffer",cache:!1,url:rootURL+"/Events/:eventId/EventFileItems"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("FILE_STAMP",["$rootScope",function($rootScope){return{getStamp:function(){var stamp="?"+(new Date).getTime();return stamp},setStamp:function(){var stamp="?"+(new Date).getTime();$rootScope.$broadcast("fileStampSet",stamp)}}}]),STNResource.factory("FILE_TYPE",["$resource",function($resource){return $resource(rootURL+"/FileTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HORIZONTAL_COLL_METHODS",["$resource",function($resource){return $resource(rootURL+"/HorizontalMethods/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HORIZONTAL_DATUM",["$resource",function($resource){return $resource(rootURL+"/HorizontalDatums/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HOUSING_TYPE",["$resource",function($resource){return $resource(rootURL+"/HousingTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1
}})}]),STNResource.factory("HWM",["$resource",function($resource){return $resource(rootURL+"/hwms/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getEventStateHWMs:{method:"GET",isArray:!0,url:rootURL+"/Events/:eventId/stateHWMs.json?State=:state"},getEventSiteHWMs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:siteId/EventHWMs.json"},getFilteredHWMs:{method:"GET",isArray:!0,url:rootURL+"/HWMs/FilteredHWMs.json"},getUnapprovedHWMs:{method:"GET",isArray:!0,cache:!1},getHWMApproval:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/hwms/:id/Approval.json"},approveHWM:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/hwms/:id/Approve.json"},unApproveHWM:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/hwms/:id/Unapprove.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM_Service",[function(){var allSiteHWMs=[],bulkSearch={};return{getAllSiteHWMs:function(){return allSiteHWMs},setAllSiteHWMs:function(sh){allSiteHWMs=sh},setBulkHWMSearch:function(searchTerms){bulkSearch=searchTerms},getBulkHWMSearch:function(){return bulkSearch}}}]),STNResource.factory("HWM_QUALITY",["$resource",function($resource){return $resource(rootURL+"/HWMQualities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM_TYPE",["$resource",function($resource){return $resource(rootURL+"/HWMTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("INSTRUMENT",["$resource",function($resource){return $resource(rootURL+"/Instruments/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getSensorView:{method:"GET",isArray:!0,url:rootURL+"/SensorViews.json"},getstatusInstruments:{method:"GET",isArray:!0,url:rootURL+"/Instruments.json"},getFullInstrument:{method:"GET",url:rootURL+"/Instruments/:id/FullInstrument.json"},getInstrumentStatus:{method:"GET",url:rootURL+"/Instruments/:id/InstrumentStatus.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Instrument_Service",[function(){var allSiteSensors=[];return{getAllSiteSensors:function(){return allSiteSensors},setAllSiteSensors:function(ss){allSiteSensors=ss}}}]),STNResource.factory("INSTRUMENT_STATUS",["$resource",function($resource){return $resource(rootURL+"/InstrumentStatus/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("INST_COLL_CONDITION",["$resource",function($resource){return $resource(rootURL+"/InstrCollectConditions/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("LANDOWNER_CONTACT",["$resource",function($resource){return $resource(rootURL+"/LandOwners/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Map_Site",["SITE","$rootScope","$cookies",function(SITE,$rootScope,$cookies){var MapSiteParts=[];return{getMapSiteParts:function(){return MapSiteParts},setMapSiteParts:function(siteId){MapSiteParts=[],SITE.query({id:siteId}).$promise.then(function(response){MapSiteParts.push(response),SITE.getSitePeaks({id:siteId}).$promise.then(function(pResponse){MapSiteParts.push(pResponse),$rootScope.$broadcast("mapSiteClickResults",MapSiteParts)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site peak: "+errorResponse.headers(["usgswim-messages"]):"Error getting site peak: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}}}]),STNResource.factory("Map_Filter",["$rootScope",function($rootScope){var filteredSites=[];return{setFilteredSites:function(sitesArray){filteredSites=sitesArray,$rootScope.$broadcast("filterSitesClick",filteredSites)}}}]),STNResource.factory("MARKER",["$resource",function($resource){return $resource(rootURL+"/Markers/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("MEMBER",["$resource",function($resource){return $resource(rootURL+"/Members/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getRoleMembers:{method:"GET",isArray:!0,url:rootURL+"/Roles/:roleId/Members.json"},getEventPeople:{method:"GET",isArray:!0,url:rootURL+"/Events/:Eventid/Members.json"},changePW:{method:"GET",isArray:!1,url:rootURL+"/Members.json"},addMember:{method:"POST",cache:!1,isArray:!1,url:rootURL+"/Members/:pass/addMember"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},deleteMember:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/Members/:id"}})}]),STNResource.factory("NETWORK_NAME",["$resource",function($resource){return $resource(rootURL+"/NetworkNames/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("NETWORK_TYPE",["$resource",function($resource){return $resource(rootURL+"/NetworkTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OBJECTIVE_POINT",["$resource",function($resource){return $resource(rootURL+"/ObjectivePoints/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},getOPFiles:{method:"GET",isArray:!0,url:rootURL+"/ObjectivePoints/:id/Files"},getOPControls:{method:"GET",cache:!1,isArray:!0,url:rootURL+"/ObjectivePoints/:id/OPControls.json"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_CONTROL_IDENTIFIER",["$resource",function($resource){return $resource(rootURL+"/OPControlIdentifiers/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_MEASURE",["$resource",function($resource){return $resource(rootURL+"/OPMeasurements/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getInstStatOPMeasures:{method:"GET",isArray:!0,url:rootURL+"/InstrumentStatus/:instrumentStatusId/OPMeasurements"},getDatumLocationOPMeasures:{method:"GET",isArray:!0,url:rootURL+"/ObjectivePoints/:objectivePointId/OPMeasurements"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_QUALITY",["$resource",function($resource){return $resource(rootURL+"/ObjectivePointQualities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_TYPE",["$resource",function($resource){return $resource(rootURL+"/OPTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("PEAK",["$resource",function($resource){return $resource(rootURL+"/PeakSummaries/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getPeakSummaryDFs:{method:"GET",isArray:!0,cache:!1,url:rootURL+"/PeakSummaries/:id/DataFiles.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("REPORT",["$resource",function($resource){return $resource(rootURL+"/ReportingMetrics/:id.json",{},{query:{},getReportByEvSt:{method:"GET",isArray:!0},getDailyReportTots:{method:"GET",url:rootURL+"/ReportingMetrics/DailyReportTotals"},getMemberReports:{method:"GET",isArray:!0,url:rootURL+"/Members/:memberId/Reports.json"},getFilteredReports:{method:"GET",isArray:!0,url:rootURL+"/ReportingMetrics/FilteredReports.json"},getReportwithContacts:{method:"GET",isArray:!0,url:rootURL+"/ReportResource/FilteredReportModel.json"},getReportsCSV:{method:"GET",url:rootURL+"/ReportingMetrics/FilteredReports.csv"},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},addReportContact:{method:"POST",cache:!1,isArray:!1,params:{ReportId:"@reportId",ContactTypeId:"@contactTypeId"},url:rootURL+"/ReportingMetrics/:reportId/AddContactType/:contactTypeId"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("ROLE",["$resource",function($resource){return $resource(rootURL+"/Roles/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0}})}]),STNResource.factory("SENSOR_BRAND",["$resource",function($resource){return $resource(rootURL+"/SensorBrands/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SENSOR_TYPE",["$resource",function($resource){return $resource(rootURL+"/SensorTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getSensorDeploymentTypes:{method:"GET",isArray:!0,url:rootURL+"/SensorTypes/:id/DeploymentTypes.json"},addSensorDeploymentType:{method:"POST",cache:!1,isArray:!0,params:{sensorTypeId:"@sensorTypeId",DeploymentTypeId:"@deploymentTypeId"},url:rootURL+"/SensorTypes/:sensorTypeId/addDeploymentType"},removeSensorDeploymentType:{method:"POST",isArray:!1,params:{sensorTypeId:"@sensorTypeId",DeploymentTypeId:"@deploymentTypeId"},url:rootURL+"/SensorTypes/:sensorTypeId/removeDeploymentType"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SITE",["$resource",function($resource){return $resource(rootURL+"/Sites/:id.json",{},{query:{},sensorScriptRunning:{method:"GET",isArray:!1,transformResponse:function(data){return{value:angular.fromJson(data)}},url:rootURL+"/Sites/:id/GetDataFileScript.json"},getProximitySites:{method:"GET",isArray:!0,params:{Latitude:"@latitude",Longitude:"@longitude",Buffer:"@buffer"}},getAll:{method:"GET",isArray:!0},getSearchedSite:{method:"GET",isArray:!1,url:rootURL+"/Sites/Search"},getFilteredSites:{method:"GET",isArray:!0,url:rootURL+"/Sites/FilteredSites.json"},getSiteLandOwner:{method:"GET",url:rootURL+"/Sites/:id/LandOwner.json"},getSiteNetworkTypes:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/networkTypes.json"},postSiteNetworkType:{method:"POST",cache:!1,params:{siteId:"@siteId",NetworkTypeId:"@networkTypeId"},isArray:!0,url:rootURL+"/sites/:siteId/AddNetworkType"},deleteSiteNetworkType:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/sites/:siteId/removeNetworkType?NetworkTypeId=:networkTypeId"},getSiteNetworkNames:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/networkNames.json"},postSiteNetworkName:{method:"POST",cache:!1,params:{siteId:"@siteId",NetworkNameId:"@networkNameId"},isArray:!0,url:rootURL+"/sites/:siteId/AddNetworkName"},deleteSiteNetworkName:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/sites/:siteId/removeNetworkName?NetworkNameId=:networkNameId"},getSiteHousings:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/SiteHousings.json"},getSiteOPs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/ObjectivePoints.json"},getSiteSensors:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/SiteFullInstrumentList.json"},getSiteHWMs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/HWMs.json"},getSiteFiles:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/Files.json"},getSitePeaks:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/PeakSummaryView.json"},getPeaklessSites:{method:"GET",isArray:!0,url:rootURL+"/Events/:id/PeaklessSites.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Site_Script",["$cookies","$rootScope",function($cookies,$rootScope){var isRunning;return{getIsScriptRunning:function(){return isRunning},setIsScriptRunning:function(running){isRunning=running,$rootScope.$broadcast("siteDFScriptRunning",isRunning)}}}]),STNResource.factory("Site_Files",["$cookies","$rootScope",function($cookies,$rootScope){var allSiteFiles=[];return{getAllSiteFiles:function(){return allSiteFiles},setAllSiteFiles:function(sf){allSiteFiles=sf,$rootScope.$broadcast("siteFilesUpdated",allSiteFiles)}}}]),STNResource.factory("STATE",["$resource",function($resource){return $resource(rootURL+"/States/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SITE_HOUSING",["$resource",function($resource){return $resource(rootURL+"/SiteHousings/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("STATUS_TYPE",["$resource",function($resource){return $resource(rootURL+"/StatusTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SOURCE",["$resource",function($resource){return $resource(rootURL+"/Sources/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("VERTICAL_COLL_METHOD",["$resource",function($resource){return $resource(rootURL+"/VerticalMethods/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("VERTICAL_DATUM",["$resource",function($resource){return $resource(rootURL+"/VerticalDatums/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Login",["$resource",function($resource){return $resource(rootURL+"/login",{},{login:{method:"GET",cache:!1,isArray:!1},getNewsFeed:{method:"GET",url:rootURL+"/Confluence/STNNewsFeed"}})}])}(),function(){"use strict";var STNBusinessServices=angular.module("STNBusinessServices",["ngCookies"]);STNBusinessServices.factory("setCreds",["$cookies",function($cookies){return function(un,pw,userName,userRole,userID){var token=un.concat(":",pw);$cookies.STNCreds=token,$cookies.STNUsername=un,$cookies.usersName=userName,$cookies.mID=userID;var roleName;switch(userRole){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.usersRole=roleName}}]),STNBusinessServices.factory("setSessionEvent",["$cookies",function($cookies){return function(evId,evName){$cookies.SessionEventID=evId,$cookies.SessionEventName=evName}}]),STNBusinessServices.factory("setSessionTeam",["$cookies",function($cookies){return function(tId,tName){$cookies.SessionTeaID=tId,$cookies.SessionTeamName=tName}}]),STNBusinessServices.factory("setLoggedIn",["$cookies",function($cookies){var loggedIn=!1;return{isLoggedIn:function(){return loggedIn},changeLoggedIn:function(YesOrNo){loggedIn=YesOrNo}}}]),STNBusinessServices.factory("checkCreds",["$cookies",function($cookies){return function(){var returnVal=!1,STNCreds=$cookies.STNCreds;return void 0!==STNCreds&&""!==STNCreds&&(returnVal=!0),returnVal}}]),STNBusinessServices.factory("getCreds",["$cookies",function($cookies){return function(){var returnVal="",STNCreds=$cookies.STNCreds;return void 0!==STNCreds&&""!==STNCreds&&(returnVal=btoa(STNCreds)),returnVal}}]),STNBusinessServices.factory("getUsersNAME",["$cookies",function($cookies){return function(){var returnVal="",usesName=$cookies.usersName;return void 0!==usesName&&""!==usesName&&(returnVal=usesName),returnVal}}]),STNBusinessServices.factory("getUserID",["$cookies",function($cookies){return function(){var returnVal="",userID=$cookies.mID;return void 0!==userID&&""!==userID&&(returnVal=userID),returnVal}}]),STNBusinessServices.factory("getUsername",["$cookies",function($cookies){return function(){var returnVal="",STNUsername=$cookies.STNUsername;return void 0!==STNUsername&&""!==STNUsername&&(returnVal=STNUsername),returnVal}}]),STNBusinessServices.factory("getUserRole",["$cookies",function($cookies){return function(){var returnVal="",userRole=$cookies.usersRole;return void 0!==userRole&&""!==userRole&&(returnVal=userRole),returnVal}}]),STNBusinessServices.factory("deleteCreds",["$cookies",function($cookies){return function(){$cookies.STNCreds="",$cookies.STNUsername="",$cookies.usersName="",$cookies.usersRole=""}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("ConfirmModalCtrl",["$scope","$uibModalInstance","nameToRemove","what",function($scope,$uibModalInstance,nameToRemove,what){switch(what){case"Member":$scope.nameToRmv=nameToRemove.fname+" "+nameToRemove.lname;break;case"Event":$scope.nameToRmv=nameToRemove.event_name;break;case"Agency":$scope.nameToRmv=nameToRemove.agency_name;break;case"Contact Type":$scope.nameToRmv=nameToRemove.type;break;case"Deployment Priority":$scope.nameToRmv=nameToRemove.priority_name;break;case"Event Status":$scope.nameToRmv=nameToRemove.status;break;case"File Type":$scope.nameToRmv=nameToRemove.filetype;break;case"Horizontal Collection Method":$scope.nameToRmv=nameToRemove.hcollect_method;break;case"Horizontal Datum":$scope.nameToRmv=nameToRemove.datum_name;break;case"Housing Type":$scope.nameToRmv=nameToRemove.type_name;break;case"HWM Quality":$scope.nameToRmv=nameToRemove.hwm_quality;break;case"HWM Type":$scope.nameToRmv=nameToRemove.hwm_type;break;case"Instrument Collection Condition":$scope.nameToRmv=nameToRemove.condition;break;case"Marker":$scope.nameToRmv=nameToRemove.marker1;break;case"Network Name":$scope.nameToRmv=nameToRemove.name;break;case"Objective Point Quality":$scope.nameToRmv=nameToRemove.quality;break;case"Objective Point Type":$scope.nameToRmv=nameToRemove.op_type;break;case"Sensor Brand":$scope.nameToRmv=nameToRemove.brand_name;break;case"Deployment Type":$scope.nameToRmv=nameToRemove.method;break;case"Status Type":$scope.nameToRmv=nameToRemove.status;break;case"Sensor Type":$scope.nameToRmv=nameToRemove.sensor;break;case"Network Type":$scope.nameToRmv=nameToRemove.network_type_name;break;case"Vertical Collection Method":$scope.nameToRmv=nameToRemove.vcollect_method;break;case"Vertical Datum":$scope.nameToRmv=nameToRemove.datum_abbreviation;break;case"Objective Point":$scope.nameToRmv=nameToRemove.name;break;case"HWM":var aDate=new Date(nameToRemove.flag_date),year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=monthNames[month]+" "+day+", "+year;$scope.nameToRmv="Flagged on: "+dateWOtime;break;case"Sensor":$scope.nameToRmv=nameToRemove.deploymentType;break;case"Proposed Sensor":$scope.nameToRmv="Proposed Sensor";break;case"File":var f=void 0!==nameToRemove.name||null!==nameToRemove.name?nameToRemove.name:nameToRemove.file_date;f=null!==f||void 0!==f?f:nameToRemove.file_id,$scope.nameToRmv=f;break;case"Peak":$scope.nameToRmv=nameToRemove.peak_summary_id}$scope.what=what,$scope.ok=function(){$uibModalInstance.close(nameToRemove)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}])}(),!function($){function Inputmask(alias,options){return this instanceof Inputmask?("object"==typeof alias?options=alias:(options=options||{},options.alias=alias),this.el=void 0,this.opts=$.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},void resolveAlias(this.opts.alias,options,this.opts)):new Inputmask(alias,options)}function isInputEventSupported(eventName){var el=document.createElement("input"),evName="on"+eventName,isSupported=evName in el;return isSupported||(el.setAttribute(evName,"return;"),isSupported="function"==typeof el[evName]),el=null,isSupported}function isInputTypeSupported(inputType){var isSupported="text"===inputType||"tel"===inputType||"password"===inputType;if(!isSupported){var el=document.createElement("input");el.setAttribute("type",inputType),isSupported="text"===el.type,el=null}return isSupported}function resolveAlias(aliasStr,options,opts){var aliasDefinition=opts.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),$.extend(!0,opts,aliasDefinition),$.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions){function importOption(option,optionData){optionData=void 0!==optionData?optionData:npt.getAttribute("data-inputmask-"+option),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=window[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),"mask"===option&&0===optionData.indexOf("[")?(userOptions[option]=optionData.replace(/[\s[\]]/g,"").split(","),userOptions[option][0]=userOptions[option][0].replace("'",""),userOptions[option][userOptions[option].length-1]=userOptions[option][userOptions[option].length-1].replace("'","")):userOptions[option]=optionData)}var option,dataoptions,optionData,attrOptions=npt.getAttribute("data-inputmask");attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(new RegExp("'","g"),'"'),dataoptions=JSON.parse("{"+attrOptions+"}"));for(option in opts){if(dataoptions){optionData=void 0;for(var p in dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}}importOption(option,optionData)}if(userOptions.alias){resolveAlias(userOptions.alias,userOptions,opts);for(option in opts)importOption(option)}return $.extend(!0,opts,userOptions),opts}function generateMaskSet(opts,nocache){function analyseMask(mask){function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){var maskdef=opts.definitions[element];position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(maskdef&&!escaped){maskdef.placeholder=$.isFunction(maskdef.placeholder)?maskdef.placeholder(opts):maskdef.placeholder;for(var prevalidators=maskdef.prevalidator,prevalidatorsL=prevalidators?prevalidators.length:0,i=1;i<maskdef.cardinality;i++){var prevalidator=prevalidatorsL>=i?prevalidators[i-1]:[],validator=prevalidator.validator,cardinality=prevalidator.cardinality;mtoken.matches.splice(position++,0,{fn:validator?"string"==typeof validator?new RegExp(validator):new function(){this.test=validator}:new RegExp("."),cardinality:cardinality?cardinality:1,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element}),prevMatch=mtoken.matches[position-1]}mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator):new function(){this.test=maskdef.validator}:new RegExp("."),cardinality:maskdef.cardinality,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element})}else mtoken.matches.splice(position++,0,{fn:null,cardinality:0,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==element,casing:null,def:element,placeholder:void 0,mask:element}),escaped=!1}function verifyGroupMarker(lastMatch,isOpenGroup){lastMatch.isGroup&&(lastMatch.isGroup=!1,insertTestDefinition(lastMatch,opts.groupmarker.start,0),isOpenGroup!==!0&&insertTestDefinition(lastMatch,opts.groupmarker.end))}function maskCurrentToken(m,currentToken,lastMatch,extraCondition){currentToken.matches.length>0&&(void 0===extraCondition||extraCondition)&&(lastMatch=currentToken.matches[currentToken.matches.length-1],verifyGroupMarker(lastMatch)),insertTestDefinition(currentToken,m)}function defaultCase(){if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],maskCurrentToken(m,currentOpeningToken,lastMatch,!currentOpeningToken.isAlternator),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else maskCurrentToken(m,currentToken,lastMatch)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker.start?st=opts.optionalmarker.end:st===opts.optionalmarker.end?st=opts.optionalmarker.start:st===opts.groupmarker.start?st=opts.groupmarker.end:st===opts.groupmarker.end&&(st=opts.groupmarker.start),st}maskToken.matches=maskToken.matches.reverse();for(var match in maskToken.matches){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}maskToken.matches[match]=void 0!==maskToken.matches[match].matches?reverseTokens(maskToken.matches[match]):reverseStatic(maskToken.matches[match])}return maskToken}for(var match,m,openingToken,currentOpeningToken,alternator,lastMatch,groupToken,tokenizer=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,escaped=!1,currentToken=new MaskToken,openenings=[],maskTokens=[];match=tokenizer.exec(mask);)if(m=match[0],escaped)defaultCase();else switch(m.charAt(0)){case opts.escapeChar:escaped=!0;break;case opts.optionalmarker.end:case opts.groupmarker.end:if(openingToken=openenings.pop(),void 0!==openingToken)if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase();break;case opts.optionalmarker.start:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker.start:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker.start:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);if(("*"===mq1||"+"===mq1)&&(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1},openenings.length>0){var matches=openenings[openenings.length-1].matches;match=matches.pop(),match.isGroup||(groupToken=new MaskToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifier)}else match=currentToken.matches.pop(),match.isGroup||(groupToken=new MaskToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifier);break;case opts.alternatormarker:openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],lastMatch=currentOpeningToken.matches.pop()):lastMatch=currentToken.matches.pop(),lastMatch.isAlternator?openenings.push(lastMatch):(alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator));break;default:defaultCase()}for(;openenings.length>0;)openingToken=openenings.pop(),verifyGroupMarker(openingToken,!0),currentToken.matches.push(openingToken);return currentToken.matches.length>0&&(lastMatch=currentToken.matches[currentToken.matches.length-1],verifyGroupMarker(lastMatch),maskTokens.push(currentToken)),opts.numericInput&&reverseTokens(maskTokens[0]),maskTokens}function generateMask(mask,metadata){if(null===mask||""===mask)return void 0;if(1===mask.length&&opts.greedy===!1&&0!==opts.repeat&&(opts.placeholder=""),opts.repeat>0||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker.start+mask+opts.groupmarker.end+opts.quantifiermarker.start+repeatStart+","+opts.repeat+opts.quantifiermarker.end}var masksetDefinition;return void 0===Inputmask.prototype.masksCache[mask]||nocache===!0?(masksetDefinition={mask:mask,maskToken:analyseMask(mask),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:metadata},nocache!==!0&&(Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]=masksetDefinition,masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]))):masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]),masksetDefinition}function preProcessMask(mask){return mask=mask.toString()}var ms;if($.isFunction(opts.mask)&&(opts.mask=opts.mask(opts)),$.isArray(opts.mask)){if(opts.mask.length>1){opts.keepStatic=null===opts.keepStatic?!0:opts.keepStatic;var altMask="(";return $.each(opts.numericInput?opts.mask.reverse():opts.mask,function(ndx,msk){altMask.length>1&&(altMask+=")|("),altMask+=preProcessMask(void 0===msk.mask||$.isFunction(msk.mask)?msk:msk.mask)}),altMask+=")",generateMask(altMask,opts.mask)}opts.mask=opts.mask.pop()}return opts.mask&&(ms=void 0===opts.mask.mask||$.isFunction(opts.mask.mask)?generateMask(preProcessMask(opts.mask),opts.mask):generateMask(preProcessMask(opts.mask.mask),opts.mask)),ms}function maskScope(actionObj,maskset,opts){function getMaskTemplate(baseOnInput,minimalPos,includeInput){minimalPos=minimalPos||0;var ndxIntlzr,test,testPos,maskTemplate=[],pos=0;do{if(baseOnInput===!0&&getMaskSet().validPositions[pos]){var validPos=getMaskSet().validPositions[pos];test=validPos.match,ndxIntlzr=validPos.locator.slice(),maskTemplate.push(includeInput===!0?validPos.input:getPlaceholder(pos,test))}else testPos=getTestTemplate(pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(getPlaceholder(pos,test));pos++}while((void 0===maxLength||maxLength>pos-1)&&null!==test.fn||null===test.fn&&""!==test.def||minimalPos>=pos);return maskTemplate.pop(),maskTemplate}function getMaskSet(){return maskset}function resetMaskSet(soft){var maskset=getMaskSet();maskset.buffer=void 0,maskset.tests={},
soft!==!0&&(maskset._buffer=void 0,maskset.validPositions={},maskset.p=0)}function getLastValidPosition(closestTo,strict){var maskset=getMaskSet(),lastValidPosition=-1,valids=maskset.validPositions;void 0===closestTo&&(closestTo=-1);var before=lastValidPosition,after=lastValidPosition;for(var posNdx in valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||null!==valids[psNdx].match.fn)&&(closestTo>=psNdx&&(before=psNdx),psNdx>=closestTo&&(after=psNdx))}return lastValidPosition=-1!==before&&closestTo-before>1||closestTo>after?before:after}function setValidPosition(pos,validTest,fromSetValid){if(opts.insertMode&&void 0!==getMaskSet().validPositions[pos]&&void 0===fromSetValid){var i,positionsClone=$.extend(!0,{},getMaskSet().validPositions),lvp=getLastValidPosition();for(i=pos;lvp>=i;i++)delete getMaskSet().validPositions[i];getMaskSet().validPositions[pos]=validTest;var j,valid=!0,vps=getMaskSet().validPositions;for(i=j=pos;lvp>=i;i++){var t=positionsClone[i];if(void 0!==t)for(var posMatch=j,prevPosMatch=-1;posMatch<getMaskLength()&&(null==t.match.fn&&vps[i]&&(vps[i].match.optionalQuantifier===!0||vps[i].match.optionality===!0)||null!=t.match.fn);){if(null===t.match.fn||!opts.keepStatic&&vps[i]&&(void 0!==vps[i+1]&&getTests(i+1,vps[i].locator.slice(),i).length>1||void 0!==vps[i].alternation)?posMatch++:posMatch=seekNext(j),positionCanMatchDefinition(posMatch,t.match.def)){valid=isValid(posMatch,t.input,!0,!0)!==!1,j=posMatch;break}if(valid=null==t.match.fn,prevPosMatch===posMatch)break;prevPosMatch=posMatch}if(!valid)break}if(!valid)return getMaskSet().validPositions=$.extend(!0,{},positionsClone),resetMaskSet(!0),!1}else getMaskSet().validPositions[pos]=validTest;return resetMaskSet(!0),!0}function stripValidPositions(start,end,nocheck,strict){var i,startPos=start;for(getMaskSet().p=start,i=startPos;end>i;i++)void 0!==getMaskSet().validPositions[i]&&(nocheck===!0||opts.canClearPosition(getMaskSet(),i,getLastValidPosition(),strict,opts)!==!1)&&delete getMaskSet().validPositions[i];for(i=startPos+1;i<=getLastValidPosition();){for(;void 0!==getMaskSet().validPositions[startPos];)startPos++;var s=getMaskSet().validPositions[startPos];if(startPos>i&&(i=startPos+1),void 0===getMaskSet().validPositions[i]&&isMask(i)||void 0!==s)i++;else{var t=getTestTemplate(i);positionCanMatchDefinition(startPos,t.match.def)?isValid(startPos,t.input||getPlaceholder(i),!0)!==!1&&(delete getMaskSet().validPositions[i],i++):isMask(i)||(i++,startPos--),startPos++}}var lvp=getLastValidPosition(),ml=getMaskLength();for(strict!==!0&&nocheck!==!0&&void 0!==getMaskSet().validPositions[lvp]&&getMaskSet().validPositions[lvp].input===opts.radixPoint&&delete getMaskSet().validPositions[lvp],i=lvp+1;ml>=i;i++)getMaskSet().validPositions[i]&&delete getMaskSet().validPositions[i];resetMaskSet(!0)}function getTestTemplate(pos,ndxIntlzr,tstPs){var testPos=getMaskSet().validPositions[pos];if(void 0===testPos)for(var testPositions=getTests(pos,ndxIntlzr,tstPs),lvp=getLastValidPosition(),lvTest=getMaskSet().validPositions[lvp]||getTests(0)[0],lvTestAltArr=void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation].toString().split(","):[],ndx=0;ndx<testPositions.length&&(testPos=testPositions[ndx],!(testPos.match&&(opts.greedy&&testPos.match.optionalQuantifier!==!0||(testPos.match.optionality===!1||testPos.match.newBlockMarker===!1)&&testPos.match.optionalQuantifier!==!0)&&(void 0===lvTest.alternation||lvTest.alternation!==testPos.alternation||void 0!==testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAltArr))));ndx++);return testPos}function getTest(pos){return getMaskSet().validPositions[pos]?getMaskSet().validPositions[pos].match:getTests(pos)[0].match}function positionCanMatchDefinition(pos,def){for(var valid=!1,tests=getTests(pos),tndx=0;tndx<tests.length;tndx++)if(tests[tndx].match&&tests[tndx].match.def===def){valid=!0;break}return valid}function getTests(pos,ndxIntlzr,tstPs,cacheable){function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){if(testPos>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+getMaskSet().mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse()}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[$.inArray(match,maskToken.matches)+1],loopNdx))return!0}else if(match.isOptional){var optionalToken=match;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse)){if(latestMatch=matches[matches.length-1].match,isFirstMatch=0===$.inArray(latestMatch,optionalToken.matches),!isFirstMatch)return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var maltMatches,alternateToken=match,malternateMatches=[],currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,altIndex=ndxInitializer.length>0?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[];"string"==typeof altIndex&&(altIndexArr=altIndex.split(","));for(var amndx=0;amndx<alternateToken.matches.length;amndx++){if(matches=[],match=handleMatch(alternateToken.matches[amndx],[amndx].concat(loopNdx),quantifierRecurse)||match,match!==!0&&void 0!==match&&altIndexArr[altIndexArr.length-1]<alternateToken.matches.length){var ntndx=maskToken.matches.indexOf(match)+1;maskToken.matches.length>ntndx&&(match=handleMatch(maskToken.matches[ntndx],[ntndx].concat(loopNdx.slice(1,loopNdx.length)),quantifierRecurse),match&&(altIndexArr.push(ntndx.toString()),$.each(matches,function(ndx,lmnt){lmnt.alternation=loopNdx.length-1})))}maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var i=0;i<ndxInitializerClone.length;i++)ndxInitializer[i]=ndxInitializerClone[i];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1];altMatch.alternation=altMatch.alternation||loopNdxCnt;for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if(altMatch.match.mask===altMatch2.match.mask&&("string"!=typeof altIndex||-1!==$.inArray(altMatch.locator[altMatch.alternation].toString(),altIndexArr))){maltMatches.splice(ndx1,1),ndx1--,altMatch2.locator[altMatch.alternation]=altMatch2.locator[altMatch.alternation]+","+altMatch.locator[altMatch.alternation],altMatch2.alternation=altMatch.alternation;break}}}malternateMatches=malternateMatches.concat(maltMatches)}"string"==typeof altIndex&&(malternateMatches=$.map(malternateMatches,function(lmnt,ndx){if(isFinite(ndx)){var mamatch,alternation=lmnt.alternation,altLocArr=lmnt.locator[alternation].toString().split(",");lmnt.locator[alternation]=void 0,lmnt.alternation=void 0;for(var alndx=0;alndx<altLocArr.length;alndx++)mamatch=-1!==$.inArray(altLocArr[alndx],altIndexArr),mamatch&&(void 0!==lmnt.locator[alternation]?(lmnt.locator[alternation]+=",",lmnt.locator[alternation]+=altLocArr[alndx]):lmnt.locator[alternation]=parseInt(altLocArr[alndx]),lmnt.alternation=alternation);if(void 0!==lmnt.locator[alternation])return lmnt}})),matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=matches.length>0}else match=alternateToken.matches[altIndex]?handleMatch(alternateToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse):!1;if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[$.inArray(match,maskToken.matches)-1])for(var qt=match,qndx=ndxInitializer.length>0?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&pos>=testPos;qndx++){var tokenGroup=maskToken.matches[$.inArray(qt,maskToken.matches)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup)){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>qt.quantifier.min-1,isFirstMatch=0===$.inArray(latestMatch,tokenGroup.matches)){if(qndx>qt.quantifier.min-1){insertStop=!0,testPos=pos;break}return!0}return!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse))return!0}else testPos++}for(var tndx=ndxInitializer.length>0?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(maskToken.matches[tndx].isQuantifier!==!0){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(testPos>pos)break}}var latestMatch,isFirstMatch,maskTokens=getMaskSet().maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr||[0],matches=[],insertStop=!1;if(cacheable===!0&&getMaskSet().tests[pos])return getMaskSet().tests[pos];if(void 0===ndxIntlzr){for(var test,previousPos=pos-1;void 0===(test=getMaskSet().validPositions[previousPos])&&previousPos>-1&&(!getMaskSet().tests[previousPos]||void 0===(test=getMaskSet().tests[previousPos][0]));)previousPos--;void 0!==test&&previousPos>-1&&(testPos=previousPos,ndxInitializer=test.locator.slice())}for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||testPos>pos)break}return(0===matches.length||insertStop)&&matches.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),getMaskSet().tests[pos]=$.extend(!0,[],matches),getMaskSet().tests[pos]}function getBufferTemplate(){return void 0===getMaskSet()._buffer&&(getMaskSet()._buffer=getMaskTemplate(!1,1)),getMaskSet()._buffer}function getBuffer(noCache){return(void 0===getMaskSet().buffer||noCache===!0)&&(noCache===!0&&(getMaskSet().test={}),getMaskSet().buffer=getMaskTemplate(!0,getLastValidPosition(),!0)),getMaskSet().buffer}function refreshFromBuffer(start,end,buffer){var i;if(buffer=buffer,start===!0)resetMaskSet(),start=0,end=buffer.length;else for(i=start;end>i;i++)delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(i=start;end>i;i++)resetMaskSet(!0),buffer[i]!==opts.skipOptionalPartCharacter&&isValid(i,buffer[i],!0,!0)}function casing(elem,test){switch(test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase()}return elem}function checkAlternationMatch(altArr1,altArr2){for(var altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,alndx=0;alndx<altArr1.length;alndx++)if(-1!==$.inArray(altArr1[alndx],altArrC)){isMatch=!0;break}return isMatch}function isValid(pos,c,strict,fromSetValid){function _isValid(position,c,strict,fromSetValid){var rslt=!1;return $.each(getTests(position),function(ndx,tst){for(var test=tst.match,loopend=c?1:0,chrs="",i=test.cardinality;i>loopend;i--)chrs+=getBufferElement(position-(i-1));if(c&&(chrs+=c),getBuffer(!0),rslt=null!=test.fn?test.fn.test(chrs,getMaskSet(),position,strict,opts):c!==test.def&&c!==opts.skipOptionalPartCharacter||""===test.def?!1:{c:test.def,pos:position},rslt!==!1){var elem=void 0!==rslt.c?rslt.c:c;elem=elem===opts.skipOptionalPartCharacter&&null===test.fn?test.def:elem;var validatedPos=position,possibleModifiedBuffer=getBuffer();if(void 0!==rslt.remove&&($.isArray(rslt.remove)||(rslt.remove=[rslt.remove]),$.each(rslt.remove.sort(function(a,b){return b-a}),function(ndx,lmnt){stripValidPositions(lmnt,lmnt+1,!0)})),void 0!==rslt.insert&&($.isArray(rslt.insert)||(rslt.insert=[rslt.insert]),$.each(rslt.insert.sort(function(a,b){return a-b}),function(ndx,lmnt){isValid(lmnt.pos,lmnt.c,!0)})),rslt.refreshFromBuffer){var refresh=rslt.refreshFromBuffer;if(strict=!0,refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,possibleModifiedBuffer),void 0===rslt.pos&&void 0===rslt.c)return rslt.pos=getLastValidPosition(),!1;if(validatedPos=void 0!==rslt.pos?rslt.pos:position,validatedPos!==position)return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1}else if(rslt!==!0&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos,refreshFromBuffer(position,validatedPos,getBuffer().slice()),validatedPos!==position))return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1;return rslt!==!0&&void 0===rslt.pos&&void 0===rslt.c?!1:(ndx>0&&resetMaskSet(!0),setValidPosition(validatedPos,$.extend({},tst,{input:casing(elem,test)}),fromSetValid)||(rslt=!1),!1)}}),rslt}function alternate(pos,c,strict,fromSetValid){for(var lastAlt,alternation,isValidRslt,altPos,i,validPos,validPsClone=$.extend(!0,{},getMaskSet().validPositions),lAlt=getLastValidPosition();lAlt>=0&&(altPos=getMaskSet().validPositions[lAlt],!altPos||void 0===altPos.alternation||(lastAlt=lAlt,alternation=getMaskSet().validPositions[lastAlt].alternation,getTestTemplate(lastAlt).locator[altPos.alternation]===altPos.locator[altPos.alternation]));lAlt--);if(void 0!==alternation){lastAlt=parseInt(lastAlt);for(var decisionPos in getMaskSet().validPositions)if(decisionPos=parseInt(decisionPos),altPos=getMaskSet().validPositions[decisionPos],decisionPos>=lastAlt&&void 0!==altPos.alternation){var altNdxs=getMaskSet().validPositions[lastAlt].locator[alternation].toString().split(","),decisionTaker=altPos.locator[alternation]||altNdxs[0];decisionTaker.length>0&&(decisionTaker=decisionTaker.split(",")[0]);for(var mndx=0;mndx<altNdxs.length;mndx++)if(decisionTaker<altNdxs[mndx]){for(var possibilityPos,possibilities,dp=decisionPos;dp>=0;dp--)if(possibilityPos=getMaskSet().validPositions[dp],void 0!==possibilityPos){possibilities=possibilityPos.locator[alternation],possibilityPos.locator[alternation]=parseInt(altNdxs[mndx]);break}if(decisionTaker!==possibilityPos.locator[alternation]){var validInputs=[],staticInputsBeforePos=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++)validPos=getMaskSet().validPositions[i],validPos&&(null!=validPos.match.fn?validInputs.push(validPos.input):pos>i&&staticInputsBeforePos++),delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(resetMaskSet(!0),opts.keepStatic=!opts.keepStatic,isValidRslt=!0;validInputs.length>0;){var input=validInputs.shift();if(input!==opts.skipOptionalPartCharacter&&!(isValidRslt=isValid(getLastValidPosition()+1,input,!1,!0)))break}if(possibilityPos.alternation=alternation,possibilityPos.locator[alternation]=possibilities,isValidRslt){var targetLvp=getLastValidPosition(pos)+1,staticInputsBeforePosAlternate=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++)validPos=getMaskSet().validPositions[i],validPos&&null==validPos.match.fn&&pos>i&&staticInputsBeforePosAlternate++;pos+=staticInputsBeforePosAlternate-staticInputsBeforePos,isValidRslt=isValid(pos>targetLvp?targetLvp:pos,c,strict,fromSetValid)}if(opts.keepStatic=!opts.keepStatic,isValidRslt)return isValidRslt;resetMaskSet(),getMaskSet().validPositions=$.extend(!0,{},validPsClone)}}break}}return!1}function trackbackAlternations(originalPos,newPos){for(var vp=getMaskSet().validPositions[newPos],targetLocator=vp.locator,tll=targetLocator.length,ps=originalPos;newPos>ps;ps++)if(!isMask(ps)){var tests=getTests(ps),bestMatch=tests[0],equality=-1;$.each(tests,function(ndx,tst){for(var i=0;tll>i;i++)tst.locator[i]&&checkAlternationMatch(tst.locator[i].toString().split(","),targetLocator[i].toString().split(","))&&i>equality&&(equality=i,bestMatch=tst)}),setValidPosition(ps,$.extend({},bestMatch,{input:bestMatch.match.def}),!0)}}strict=strict===!0;for(var buffer=getBuffer(),pndx=pos-1;pndx>-1&&!getMaskSet().validPositions[pndx];pndx--);for(pndx++;pos>pndx;pndx++)void 0===getMaskSet().validPositions[pndx]&&((!isMask(pndx)||buffer[pndx]!==getPlaceholder(pndx))&&getTests(pndx).length>1||buffer[pndx]===opts.radixPoint||"0"===buffer[pndx]&&$.inArray(opts.radixPoint,buffer)<pndx)&&_isValid(pndx,buffer[pndx],!0);var maskPos=pos,result=!1,positionsClone=$.extend(!0,{},getMaskSet().validPositions);if(maskPos<getMaskLength()&&(result=_isValid(maskPos,c,strict,fromSetValid),(!strict||fromSetValid)&&result===!1)){var currentPosValid=getMaskSet().validPositions[maskPos];if(!currentPosValid||null!==currentPosValid.match.fn||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if((opts.insertMode||void 0===getMaskSet().validPositions[seekNext(maskPos)])&&!isMask(maskPos))for(var nPos=maskPos+1,snPos=seekNext(maskPos);snPos>=nPos;nPos++)if(result=_isValid(nPos,c,strict,fromSetValid),result!==!1){trackbackAlternations(maskPos,nPos),maskPos=nPos;break}}else result={caret:seekNext(maskPos)}}if(result===!1&&opts.keepStatic&&isComplete(buffer)&&(result=alternate(pos,c,strict,fromSetValid)),result===!0&&(result={pos:maskPos}),$.isFunction(opts.postValidation)&&result!==!1&&!strict){var postValidResult=opts.postValidation(getBuffer(!0),opts);if(postValidResult){if(postValidResult.refreshFromBuffer){var refresh=postValidResult.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,postValidResult.buffer),resetMaskSet(!0),result=postValidResult}}else resetMaskSet(!0),getMaskSet().validPositions=$.extend(!0,{},positionsClone),result=!1}return result}function isMask(pos){var test=getTest(pos);if(null!=test.fn)return test.fn;if(pos>-1&&!opts.keepStatic&&void 0===getMaskSet().validPositions[pos]){for(var tests=getTests(pos),staticAlternations=!0,i=0;i<tests.length;i++)if(""!==tests[i].match.def&&(void 0===tests[i].alternation||tests[i].locator[tests[i].alternation].length>1)){staticAlternations=!1;break}return staticAlternations}return!1}function getMaskLength(){var maskLength;maxLength=void 0!==el?el.maxLength:void 0,-1===maxLength&&(maxLength=void 0);var pos,lvp=getLastValidPosition(),testPos=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!==testPos?testPos.locator.slice():void 0;for(pos=lvp+1;void 0===testPos||null!==testPos.match.fn||null===testPos.match.fn&&""!==testPos.match.def;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice();var lastTest=getTest(pos-1);return maskLength=""!==lastTest.def?pos:pos-1,void 0===maxLength||maxLength>maskLength?maskLength:maxLength}function seekNext(pos,newBlock){var maskL=getMaskLength();if(pos>=maskL)return maskL;for(var position=pos;++position<maskL&&(newBlock===!0&&(getTest(position).newBlockMarker!==!0||!isMask(position))||newBlock!==!0&&!isMask(position)&&(opts.nojumps!==!0||opts.nojumpsThreshold>position)););return position}function seekPrevious(pos,newBlock){var position=pos;if(0>=position)return 0;for(;--position>0&&(newBlock===!0&&getTest(position).newBlockMarker!==!0||newBlock!==!0&&!isMask(position)););return position}function getBufferElement(position){return void 0===getMaskSet().validPositions[position]?getPlaceholder(position):getMaskSet().validPositions[position].input}function writeBuffer(input,buffer,caretPos,event,triggerInputEvent){if(event&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite.call(input,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=getBuffer(!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type||caret(input,caretPos),triggerInputEvent===!0&&(skipInputEvent=!0,$(input).trigger("input"))}function getPlaceholder(pos,test){if(test=test||getTest(pos),void 0!==test.placeholder)return test.placeholder;if(null===test.fn){if(pos>-1&&!opts.keepStatic&&void 0===getMaskSet().validPositions[pos]){for(var prevTest,tests=getTests(pos),hasAlternations=!1,i=0;i<tests.length;i++){if(prevTest&&""!==tests[i].match.def&&tests[i].match.def!==prevTest.match.def&&(void 0===tests[i].alternation||tests[i].alternation===prevTest.alternation)){hasAlternations=!0;break}tests[i].match.optionality!==!0&&tests[i].match.optionalQuantifier!==!0&&(prevTest=tests[i])}if(hasAlternations)return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}return opts.placeholder.charAt(pos%opts.placeholder.length)}function checkVal(input,writeOut,strict,nptvl){function isTemplateMatch(){var isMatch=!1,charCodeNdx=getBufferTemplate().slice(initialNdx,seekNext(initialNdx)).join("").indexOf(charCodes);if(-1!==charCodeNdx&&!isMask(initialNdx)){isMatch=!0;for(var bufferTemplateArr=getBufferTemplate().slice(initialNdx,initialNdx+charCodeNdx),i=0;i<bufferTemplateArr.length;i++)if(" "!==bufferTemplateArr[i]){isMatch=!1;break}}return isMatch}var inputValue=nptvl.slice(),charCodes="",initialNdx=0;if(resetMaskSet(),getMaskSet().p=seekNext(-1),!strict)if(opts.autoUnmask!==!0){var staticInput=getBufferTemplate().slice(0,seekNext(-1)).join(""),matches=inputValue.join("").match(new RegExp("^"+Inputmask.escapeRegex(staticInput),"g"));matches&&matches.length>0&&(inputValue.splice(0,matches.length*staticInput.length),initialNdx=seekNext(initialNdx))}else initialNdx=seekNext(initialNdx);$.each(inputValue,function(ndx,charCode){var keypress=$.Event("keypress");keypress.which=charCode.charCodeAt(0),charCodes+=charCode;var lvp=getLastValidPosition(void 0,!0),lvTest=getMaskSet().validPositions[lvp],nextTest=getTestTemplate(lvp+1,lvTest?lvTest.locator.slice():void 0,lvp);if(!isTemplateMatch()||strict||opts.autoUnmask){var pos=strict?ndx:null==nextTest.match.fn&&nextTest.match.optionality&&lvp+1<getMaskSet().p?lvp+1:getMaskSet().p;keypressEvent.call(input,keypress,!0,!1,strict,pos),initialNdx=pos+1,charCodes=""}else keypressEvent.call(input,keypress,!0,!1,!0,lvp+1)}),writeOut&&writeBuffer(input,getBuffer(),document.activeElement===input?seekNext(getLastValidPosition(0)):void 0,$.Event("checkval"))}function unmaskedvalue(input){if(input&&void 0===input.inputmask)return input.value;var umValue=[],vps=getMaskSet().validPositions;for(var pndx in vps)vps[pndx].match&&null!=vps[pndx].match.fn&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?null:(isRTL?umValue.reverse():umValue).join("");if(null!==unmaskedValue){var bufferValue=(isRTL?getBuffer().slice().reverse():getBuffer()).join("");$.isFunction(opts.onUnMask)&&(unmaskedValue=opts.onUnMask.call(input,bufferValue,unmaskedValue,opts)||unmaskedValue)}return unmaskedValue}function caret(input,begin,end){function translatePosition(pos){if(isRTL&&"number"==typeof pos&&(!opts.greedy||""!==opts.placeholder)){var bffrLght=getBuffer().join("").length;pos=bffrLght-pos}return pos}var range;if("number"!=typeof begin)return input.setSelectionRange?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),(range.commonAncestorContainer.parentNode===input||range.commonAncestorContainer===input)&&(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length),{begin:translatePosition(begin),end:translatePosition(end)};begin=translatePosition(begin),end=translatePosition(end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,androidchrome||opts.insertMode!==!1||begin!==end||end++,input.setSelectionRange)input.selectionStart=begin,input.selectionEnd=end;else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select())}function determineLastRequiredPosition(returnDefinition){var pos,testPos,buffer=getBuffer(),bl=buffer.length,lvp=getLastValidPosition(),positions={},lvTest=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0;for(pos=lvp+1;pos<buffer.length;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;pos>lvp&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&null!=testPos.match.fn||null===testPos.match.fn&&testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==getTests(pos)[0].def))&&buffer[pos]===getPlaceholder(pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function clearOptionalTail(buffer){for(var rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),buffer}function isComplete(buffer){if($.isFunction(opts.isComplete))return opts.isComplete.call(el,buffer,opts);if("*"===opts.repeat)return void 0;var complete=!1,lrp=determineLastRequiredPosition(!0),aml=seekPrevious(lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;aml>=i;i++){var test=getTestTemplate(i).match;if(null!==test.fn&&void 0===getMaskSet().validPositions[i]&&test.optionality!==!0&&test.optionalQuantifier!==!0||null===test.fn&&buffer[i]!==getPlaceholder(i,test)){complete=!1;break}}}return complete}function isSelection(begin,end){return isRTL?begin-end>1||begin-end===1&&opts.insertMode:end-begin>1||end-begin===1&&opts.insertMode}function wrapEventRuler(eventHandler){return function(e){var inComposition=!1,keydownPressed=!1;if(void 0===this.inputmask){var imOpts=$.data(this,"_inputmask_opts");imOpts?new Inputmask(imOpts).mask(this):$(this).off(".inputmask")}else{if("setvalue"===e.type||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||opts.tabThrough===!1&&e.keyCode===Inputmask.keyCode.TAB))){switch(e.type){case"input":if(skipInputEvent===!0||inComposition===!0)return skipInputEvent=!1,e.preventDefault();keydownPressed=!1;break;case"keydown":skipKeyPressEvent=!1,inComposition=!1,keydownPressed=!0;break;case"keypress":if(skipKeyPressEvent===!0)return e.preventDefault();skipKeyPressEvent=!0;break;case"compositionstart":inComposition=!0;break;case"compositionupdate":skipInputEvent=keydownPressed;break;case"compositionend":inComposition=!1,keydownPressed=!1;break;case"cut":skipInputEvent=!0}return eventHandler.apply(this,arguments)}e.preventDefault()}}}function patchValueProperty(npt){function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||$.valHooks[type].inputmaskpatch!==!0)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem),maskset=elem.inputmask.maskset,bufferTemplate=maskset._buffer;return bufferTemplate=bufferTemplate?bufferTemplate.join(""):"",result!==bufferTemplate?result:""}return valhookGet(elem)},set:function(elem,value){var result,$elem=$(elem);return result=valhookSet(elem,value),elem.inputmask&&$elem.trigger("setvalue.inputmask"),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():valueGet.call(this)!==getBufferTemplate().join("")?document.activeElement===this&&opts.clearMaskOnLostFocus?(isRTL?clearOptionalTail(getBuffer()).reverse():clearOptionalTail(getBuffer())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&$(this).trigger("setvalue.inputmask")}function installNativeValueSetFallback(npt){$(npt).on("mouseenter.inputmask",wrapEventRuler(function(event){var $input=$(this),input=this,value=input.inputmask._valueGet();""!==value&&value!==getBuffer().join("")&&$input.trigger("setvalue.inputmask")}))}var valueGet,valueSet;npt.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===npt.value?(valueGet=function(){return this.textContent},valueSet=function(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter})):document.__lookupGetter__&&npt.__lookupGetter__("value")?(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter)):(valueGet=function(){return npt.value},valueSet=function(value){npt.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt)),npt.inputmask.__valueGet=valueGet,npt.inputmask._valueGet=function(overruleRTL){return isRTL&&overruleRTL!==!0?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask.__valueSet=valueSet,npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null===value||void 0===value?"":overruleRTL!==!0&&isRTL?value.split("").reverse().join(""):value)})}function handleRemove(input,k,pos,strict){function generalize(){if(opts.keepStatic){resetMaskSet(!0);var lastAlt,validInputs=[],positionsClone=$.extend(!0,{},getMaskSet().validPositions);for(lastAlt=getLastValidPosition();lastAlt>=0;lastAlt--){var validPos=getMaskSet().validPositions[lastAlt];if(validPos&&(null!=validPos.match.fn&&validInputs.push(validPos.input),delete getMaskSet().validPositions[lastAlt],void 0!==validPos.alternation&&validPos.locator[validPos.alternation]===getTestTemplate(lastAlt).locator[validPos.alternation]))break}if(lastAlt>-1)for(;validInputs.length>0;){getMaskSet().p=seekNext(getLastValidPosition());var keypress=$.Event("keypress");keypress.which=validInputs.pop().charCodeAt(0),keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}else getMaskSet().validPositions=$.extend(!0,{},positionsClone)}}if((opts.numericInput||isRTL)&&(k===Inputmask.keyCode.BACKSPACE?k=Inputmask.keyCode.DELETE:k===Inputmask.keyCode.DELETE&&(k=Inputmask.keyCode.BACKSPACE),isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}k===Inputmask.keyCode.BACKSPACE&&(pos.end-pos.begin<1||opts.insertMode===!1)?(pos.begin=seekPrevious(pos.begin),void 0===getMaskSet().validPositions[pos.begin]||getMaskSet().validPositions[pos.begin].input!==opts.groupSeparator&&getMaskSet().validPositions[pos.begin].input!==opts.radixPoint||pos.begin--):k===Inputmask.keyCode.DELETE&&pos.begin===pos.end&&(pos.end=isMask(pos.end)?pos.end+1:seekNext(pos.end)+1,void 0===getMaskSet().validPositions[pos.begin]||getMaskSet().validPositions[pos.begin].input!==opts.groupSeparator&&getMaskSet().validPositions[pos.begin].input!==opts.radixPoint||pos.end++),stripValidPositions(pos.begin,pos.end,!1,strict),strict!==!0&&generalize();var lvp=getLastValidPosition(pos.begin);lvp<pos.begin?(-1===lvp&&resetMaskSet(),getMaskSet().p=seekNext(lvp)):strict!==!0&&(getMaskSet().p=pos.begin)}function keydownEvent(e){var input=this,$input=$(input),k=e.keyCode,pos=caret(input);k===Inputmask.keyCode.BACKSPACE||k===Inputmask.keyCode.DELETE||iphone&&127===k||e.ctrlKey&&88===k&&!isInputEventSupported("cut")?(e.preventDefault(),88===k&&(undoValue=getBuffer().join("")),handleRemove(input,k,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join("")),input.inputmask._valueGet()===getBufferTemplate().join("")?$input.trigger("cleared"):isComplete(getBuffer())===!0&&$input.trigger("complete"),opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask)):k===Inputmask.keyCode.END||k===Inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var caretPos=seekNext(getLastValidPosition());opts.insertMode||caretPos!==getMaskLength()||e.shiftKey||caretPos--,
caret(input,e.shiftKey?pos.begin:caretPos,caretPos)},0):k===Inputmask.keyCode.HOME&&!e.shiftKey||k===Inputmask.keyCode.PAGE_UP?caret(input,0,e.shiftKey?pos.begin:0):(opts.undoOnEscape&&k===Inputmask.keyCode.ESCAPE||90===k&&e.ctrlKey)&&e.altKey!==!0?(checkVal(input,!0,!1,undoValue.split("")),$input.trigger("click")):k!==Inputmask.keyCode.INSERT||e.shiftKey||e.ctrlKey?opts.tabThrough===!0&&k===Inputmask.keyCode.TAB?(e.shiftKey===!0?(null===getTest(pos.begin).fn&&(pos.begin=seekNext(pos.begin)),pos.end=seekPrevious(pos.begin,!0),pos.begin=seekPrevious(pos.end,!0)):(pos.begin=seekNext(pos.begin,!0),pos.end=seekNext(pos.begin,!0),pos.end<getMaskLength()&&pos.end--),pos.begin<getMaskLength()&&(e.preventDefault(),caret(input,pos.begin,pos.end))):opts.insertMode!==!1||e.shiftKey||(k===Inputmask.keyCode.RIGHT?setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin)},0):k===Inputmask.keyCode.LEFT&&setTimeout(function(){var caretPos=caret(input);caret(input,isRTL?caretPos.begin+1:caretPos.begin-1)},0)):(opts.insertMode=!opts.insertMode,caret(input,opts.insertMode||pos.begin!==getMaskLength()?pos.begin:pos.begin-1)),opts.onKeyDown(e,getBuffer(),caret(input).begin,opts),ignorable=-1!==$.inArray(k,opts.ignorables)}function keypressEvent(e,checkval,writeOut,strict,ndx){var input=this,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(checkval===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))return k===Inputmask.keyCode.ENTER&&undoValue!==getBuffer().join("")&&(undoValue=getBuffer().join(""),e.preventDefault(),setTimeout(function(){$input.trigger("change")},0)),!0;if(k){46===k&&e.shiftKey===!1&&","===opts.radixPoint&&(k=44);var forwardPosition,pos=checkval?{begin:ndx,end:ndx}:caret(input),c=String.fromCharCode(k),isSlctn=isSelection(pos.begin,pos.end);isSlctn&&(getMaskSet().undoPositions=$.extend(!0,{},getMaskSet().validPositions),handleRemove(input,Inputmask.keyCode.DELETE,pos,!0),pos.begin=getMaskSet().p,opts.insertMode||(opts.insertMode=!opts.insertMode,setValidPosition(pos.begin,strict),opts.insertMode=!opts.insertMode),isSlctn=!opts.multi),getMaskSet().writeOutBuffer=!0;var p=isRTL&&!isSlctn?pos.end:pos.begin,valResult=isValid(p,c,strict);if(valResult!==!1){if(valResult!==!0&&(p=void 0!==valResult.pos?valResult.pos:p,c=void 0!==valResult.c?valResult.c:c),resetMaskSet(!0),void 0!==valResult.caret)forwardPosition=valResult.caret;else{var vps=getMaskSet().validPositions;forwardPosition=!opts.keepStatic&&(void 0!==vps[p+1]&&getTests(p+1,vps[p].locator.slice(),p).length>1||void 0!==vps[p].alternation)?p+1:seekNext(p)}getMaskSet().p=forwardPosition}if(writeOut!==!1){var self=this;if(setTimeout(function(){opts.onKeyValidation.call(self,valResult,opts)},0),getMaskSet().writeOutBuffer&&valResult!==!1){var buffer=getBuffer();writeBuffer(input,buffer,checkval?void 0:opts.numericInput?seekPrevious(forwardPosition):forwardPosition,e,checkval!==!0),checkval!==!0&&setTimeout(function(){isComplete(buffer)===!0&&$input.trigger("complete")},0)}else isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions)}else isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions);if(opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask),checkval&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite(e,getBuffer(),forwardPosition,opts);if(result&&result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer),resetMaskSet(!0),result.caret&&(getMaskSet().p=result.caret)}}if(e.preventDefault(),checkval)return valResult}}function pasteEvent(e){var input=this,ev=e.originalEvent||e,$input=$(input),inputValue=input.inputmask._valueGet(!0),caretPos=caret(input);if("propertychange"===e.type&&input.inputmask._valueGet().length<=getMaskLength())return!0;if("paste"===e.type){var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);valueBeforeCaret===getBufferTemplate().slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret===getBufferTemplate().slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData?inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret:ev.clipboardData&&ev.clipboardData.getData&&(inputValue=valueBeforeCaret+ev.clipboardData.getData("text/plain")+valueAfterCaret)}var pasteValue=inputValue;if($.isFunction(opts.onBeforePaste)){if(pasteValue=opts.onBeforePaste.call(input,inputValue,opts),pasteValue===!1)return e.preventDefault(),!1;pasteValue||(pasteValue=inputValue)}return checkVal(input,!1,!1,isRTL?pasteValue.split("").reverse():pasteValue.toString().split("")),writeBuffer(input,getBuffer(),void 0,e,!0),$input.trigger("click"),isComplete(getBuffer())===!0&&$input.trigger("complete"),!1}function inputFallBackEvent(e){var input=this;checkVal(input,!0,!1,input.inputmask._valueGet().split("")),isComplete(getBuffer())===!0&&$(input).trigger("complete"),e.preventDefault()}function mobileInputEvent(e){var input=this,caretPos=caret(input),currentValue=input._valueGet();currentValue=currentValue.replace(new RegExp("("+Inputmask.escapeRegex(getBufferTemplate().join(""))+")*"),""),caretPos.begin>currentValue.length&&(caret(input,currentValue.length),caretPos=caret(input)),getBuffer().length-currentValue.length!==1||currentValue.charAt(caretPos.begin)===getBuffer()[caretPos.begin]||currentValue.charAt(caretPos.begin+1)===getBuffer()[caretPos.begin]||isMask(caretPos.begin)?inputFallBackEvent.call(this,e):(e.keyCode=opts.keyCode.BACKSPACE,keydownEvent.call(input,e)),e.preventDefault()}function compositionStartEvent(e){var ev=e.originalEvent||e;undoValue=getBuffer().join(""),""===compositionData||0!==ev.data.indexOf(compositionData)}function compositionUpdateEvent(e){var input=this,ev=e.originalEvent||e;0===ev.data.indexOf(compositionData)&&(resetMaskSet(),getMaskSet().p=seekNext(-1),skipInputEvent=!0);for(var newData=ev.data,i=0;i<newData.length;i++){var keypress=$.Event("keypress");keypress.which=newData.charCodeAt(i),skipKeyPressEvent=!1,ignorable=!1,keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}setTimeout(function(){var forwardPosition=getMaskSet().p;writeBuffer(input,getBuffer(),opts.numericInput?seekPrevious(forwardPosition):forwardPosition)},0),compositionData=ev.data}function compositionEndEvent(e){}function setValueEvent(e){var input=this,value=input.inputmask._valueGet();checkVal(input,!0,!1,($.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(input,value,opts)||value:value).split("")),undoValue=getBuffer().join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===getBufferTemplate().join("")&&input.inputmask._valueSet("")}function focusEvent(e){var input=this,nptValue=input.inputmask._valueGet();opts.showMaskOnFocus&&(!opts.showMaskOnHover||opts.showMaskOnHover&&""===nptValue)?input.inputmask._valueGet()!==getBuffer().join("")&&writeBuffer(input,getBuffer(),seekNext(getLastValidPosition())):mouseEnter===!1&&caret(input,seekNext(getLastValidPosition())),opts.positionCaretOnTab===!0&&setTimeout(function(){caret(input,seekNext(getLastValidPosition()))},0),undoValue=getBuffer().join("")}function mouseleaveEvent(e){var input=this;if(mouseEnter=!1,opts.clearMaskOnLostFocus){var buffer=getBuffer().slice(),nptValue=input.inputmask._valueGet();document.activeElement!==input&&nptValue!==input.getAttribute("placeholder")&&""!==nptValue&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer),writeBuffer(input,buffer))}}function clickEvent(e){function doRadixFocus(clickPos){if(opts.radixFocus&&""!==opts.radixPoint){var vps=getMaskSet().validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===getPlaceholder(clickPos)){if(clickPos<seekNext(-1))return!0;var radixPos=$.inArray(opts.radixPoint,getBuffer());if(-1!==radixPos){for(var vp in vps)if(vp>radixPos&&vps[vp].input!==getPlaceholder(vp))return!1;return!0}}}return!1}var input=this;if(document.activeElement===input){var selectedCaret=caret(input);if(selectedCaret.begin===selectedCaret.end)if(doRadixFocus(selectedCaret.begin))caret(input,$.inArray(opts.radixPoint,getBuffer()));else{var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition(clickPosition),lastPosition=seekNext(lvclickPosition);lastPosition>clickPosition?caret(input,isMask(clickPosition)||isMask(clickPosition-1)?clickPosition:seekNext(clickPosition)):caret(input,opts.numericInput?0:lastPosition)}}}function dblclickEvent(e){var input=this;setTimeout(function(){caret(input,0,seekNext(getLastValidPosition()))},0)}function cutEvent(e){var input=this,$input=$(input),pos=caret(input),ev=e.originalEvent||e,clipboardData=window.clipboardData||ev.clipboardData,clipData=isRTL?getBuffer().slice(pos.end,pos.begin):getBuffer().slice(pos.begin,pos.end);clipboardData.setData("text",isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),handleRemove(input,Inputmask.keyCode.DELETE,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join("")),input.inputmask._valueGet()===getBufferTemplate().join("")&&$input.trigger("cleared"),opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask)}function blurEvent(e){var $input=$(this),input=this;if(input.inputmask){var nptValue=input.inputmask._valueGet(),buffer=getBuffer().slice();undoValue!==buffer.join("")&&setTimeout(function(){$input.trigger("change"),undoValue=buffer.join("")},0),""!==nptValue&&(opts.clearMaskOnLostFocus&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),isComplete(buffer)===!1&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(resetMaskSet(),buffer=opts.clearMaskOnLostFocus?[]:getBufferTemplate().slice())),writeBuffer(input,buffer,void 0,e))}}function mouseenterEvent(e){var input=this;mouseEnter=!0,document.activeElement!==input&&opts.showMaskOnHover&&input.inputmask._valueGet()!==getBuffer().join("")&&writeBuffer(input,getBuffer())}function mask(elem){if(el=elem,$el=$(el),opts.showTooltip&&(el.title=opts.tooltip||getMaskSet().mask),("rtl"===el.dir||opts.rightAlign)&&(el.style.textAlign="right"),("rtl"===el.dir||opts.numericInput)&&(el.dir="ltr",el.removeAttribute("dir"),el.inputmask.isRTL=!0,isRTL=!0),$el.off(".inputmask"),patchValueProperty(el),("INPUT"===el.tagName&&isInputTypeSupported(el.getAttribute("type"))||el.isContentEditable)&&($(el.form).on("submit",function(){undoValue!==getBuffer().join("")&&$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===getLastValidPosition()&&el.inputmask._valueGet&&el.inputmask._valueGet()===getBufferTemplate().join("")&&el.inputmask._valueSet(""),opts.removeMaskOnSubmit&&(el.inputmask._valueSet(el.inputmask.unmaskedvalue(),!0),setTimeout(function(){writeBuffer(el,getBuffer())},0))}).on("reset",function(){setTimeout(function(){$el.trigger("setvalue.inputmask")},0)}),$el.on("mouseenter.inputmask",wrapEventRuler(mouseenterEvent)).on("blur.inputmask",wrapEventRuler(blurEvent)).on("focus.inputmask",wrapEventRuler(focusEvent)).on("mouseleave.inputmask",wrapEventRuler(mouseleaveEvent)).on("click.inputmask",wrapEventRuler(clickEvent)).on("dblclick.inputmask",wrapEventRuler(dblclickEvent)).on(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",wrapEventRuler(pasteEvent)).on("cut.inputmask",wrapEventRuler(cutEvent)).on("complete.inputmask",wrapEventRuler(opts.oncomplete)).on("incomplete.inputmask",wrapEventRuler(opts.onincomplete)).on("cleared.inputmask",wrapEventRuler(opts.oncleared)).on("keydown.inputmask",wrapEventRuler(keydownEvent)).on("keypress.inputmask",wrapEventRuler(keypressEvent)),androidfirefox||$el.on("compositionstart.inputmask",wrapEventRuler(compositionStartEvent)).on("compositionupdate.inputmask",wrapEventRuler(compositionUpdateEvent)).on("compositionend.inputmask",wrapEventRuler(compositionEndEvent)),"paste"===PasteEventType&&$el.on("input.inputmask",wrapEventRuler(inputFallBackEvent)),(android||androidfirefox||androidchrome||kindle)&&($el.off("input.inputmask"),$el.on("input.inputmask",wrapEventRuler(mobileInputEvent)))),$el.on("setvalue.inputmask",wrapEventRuler(setValueEvent)),""!==el.inputmask._valueGet()||opts.clearMaskOnLostFocus===!1){var initialValue=$.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(el,el.inputmask._valueGet(),opts)||el.inputmask._valueGet():el.inputmask._valueGet();checkVal(el,!0,!1,initialValue.split(""));var buffer=getBuffer().slice();undoValue=buffer.join(""),isComplete(buffer)===!1&&opts.clearIncomplete&&resetMaskSet(),opts.clearMaskOnLostFocus&&(buffer.join("")===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),writeBuffer(el,buffer),document.activeElement===el&&caret(el,seekNext(getLastValidPosition()))}}var undoValue,compositionData,el,$el,maxLength,valueBuffer,isRTL=!1,skipKeyPressEvent=!1,skipInputEvent=!1,ignorable=!1,mouseEnter=!0;if(void 0!==actionObj)switch(actionObj.action){case"isComplete":return el=actionObj.el,isComplete(getBuffer());case"unmaskedvalue":return el=actionObj.el,void 0!==el&&void 0!==el.inputmask?(maskset=el.inputmask.maskset,opts=el.inputmask.opts,isRTL=el.inputmask.isRTL,valueBuffer=isRTL?el.inputmask._valueGet().split("").reverse().join(""):el.inputmask._valueGet()):valueBuffer=actionObj.value,opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask(valueBuffer,opts)||valueBuffer:valueBuffer).split(""),checkVal(void 0,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite(void 0,getBuffer(),0,opts),unmaskedvalue(el);case"mask":el=actionObj.el,maskset=el.inputmask.maskset,opts=el.inputmask.opts,isRTL=el.inputmask.isRTL,undoValue=getBuffer().join(""),mask(el);break;case"format":return opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask(actionObj.value,opts)||actionObj.value:actionObj.value).split(""),checkVal(void 0,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite(void 0,getBuffer(),0,opts),actionObj.metadata?{value:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:maskScope({action:"getmetadata"},maskset,opts)}:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":opts.numericInput&&(isRTL=!0),valueBuffer=actionObj.value.split(""),checkVal(void 0,!1,!0,isRTL?valueBuffer.reverse():valueBuffer);for(var buffer=getBuffer(),rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),isComplete(buffer)&&actionObj.value===buffer.join("");case"getemptymask":return getBufferTemplate();case"remove":el=actionObj.el,$el=$(el),maskset=el.inputmask.maskset,opts=el.inputmask.opts,el.inputmask._valueSet(unmaskedvalue(el)),$el.off(".inputmask");var valueProperty;Object.getOwnPropertyDescriptor&&(valueProperty=Object.getOwnPropertyDescriptor(el,"value")),valueProperty&&valueProperty.get?el.inputmask.__valueGet&&Object.defineProperty(el,"value",{get:el.inputmask.__valueGet,set:el.inputmask.__valueSet}):document.__lookupGetter__&&el.__lookupGetter__("value")&&el.inputmask.__valueGet&&(el.__defineGetter__("value",el.inputmask.__valueGet),el.__defineSetter__("value",el.inputmask.__valueSet)),el.inputmask=void 0;break;case"getmetadata":if($.isArray(maskset.metadata)){for(var alternation,lvp=getLastValidPosition(),firstAlt=lvp;firstAlt>=0;firstAlt--)if(getMaskSet().validPositions[firstAlt]&&void 0!==getMaskSet().validPositions[firstAlt].alternation){alternation=getMaskSet().validPositions[firstAlt].alternation;break}return void 0!==alternation?maskset.metadata[getMaskSet().validPositions[lvp].locator[alternation]]:maskset.metadata[0]}return maskset.metadata}}Inputmask.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:$.noop,onBeforeMask:null,onBeforePaste:function(pastedValue,opts){return $.isFunction(opts.onBeforeMask)?opts.onBeforeMask(pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:[],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:$.noop,postValidation:null},masksCache:{},mask:function(elems){var that=this;return"string"==typeof elems&&(elems=document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,$.each(elems,function(ndx,el){var scopedOpts=$.extend(!0,{},that.opts);importAttributeOptions(el,scopedOpts,$.extend(!0,{},that.userOptions));var maskset=generateMaskSet(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&el.inputmask.remove(),el.inputmask=new Inputmask,el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=$.extend(!0,{},that.userOptions),el.inputmask.el=el,el.inputmask.maskset=maskset,el.inputmask.isRTL=!1,$.data(el,"_inputmask_opts",scopedOpts),maskScope({action:"mask",el:el}))}),elems?elems[0].inputmask||this:this},option:function(options){return"string"==typeof options?this.opts[options]:"object"==typeof options?($.extend(this.opts,options),$.extend(this.userOptions,options),this.el&&(void 0!==options.mask||void 0!==options.alias?this.mask(this.el):($.data(this.el,"_inputmask_opts",this.opts),maskScope({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(value){return maskScope({action:"unmaskedvalue",el:this.el,value:value},this.el&&this.el.inputmask?this.el.inputmask.maskset:generateMaskSet(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(maskScope({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return maskScope({action:"getemptymask"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return maskScope({action:"isComplete",el:this.el},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return maskScope({action:"getmetadata"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},isValid:function(value){return maskScope({action:"isValid",value:value},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},format:function(value,metadata){return maskScope({action:"format",value:value,metadata:metadata},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)}},Inputmask.extendDefaults=function(options){$.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){$.extend(!0,Inputmask.prototype.defaults.definitions,definition)},Inputmask.extendAliases=function(alias){$.extend(!0,Inputmask.prototype.defaults.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){$.each(elems,function(ndx,el){el.inputmask&&el.inputmask.remove()})},Inputmask.escapeRegex=function(str){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return str.replace(new RegExp("(\\"+specials.join("|\\")+")","gim"),"\\$1")},Inputmask.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var ua=navigator.userAgent,iphone=null!==ua.match(new RegExp("iphone","i")),android=null!==ua.match(new RegExp("android.*safari.*","i")),androidchrome=null!==ua.match(new RegExp("android.*chrome.*","i")),androidfirefox=null!==ua.match(new RegExp("android.*firefox.*","i")),kindle=/Kindle/i.test(ua)||/Silk/i.test(ua)||/KFTT/i.test(ua)||/KFOT/i.test(ua)||/KFJWA/i.test(ua)||/KFJWI/i.test(ua)||/KFSOWI/i.test(ua)||/KFTHWA/i.test(ua)||/KFTHWI/i.test(ua)||/KFAPWA/i.test(ua)||/KFAPWI/i.test(ua),PasteEventType=isInputEventSupported("paste")?"paste":isInputEventSupported("input")?"input":"propertychange";return window.Inputmask=Inputmask,Inputmask}(jQuery),function($,Inputmask){return void 0===$.fn.inputmask&&($.fn.inputmask=function(fn,options){var nptmask,input;if(options=options||{},"string"==typeof fn)switch(fn){case"mask":return nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)});case"unmaskedvalue":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.unmaskedvalue():$(input).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.getemptymask():"";case"hasMaskedValue":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.hasMaskedValue():!1;case"isComplete":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.isComplete():!0;case"getmetadata":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.getmetadata():void 0;case"setvalue":input=this.jquery&&this.length>0?this[0]:this,$(input).val(options),void 0!==input.inputmask&&$(input).triggerHandler("setvalue.inputmask");break;case"option":if("string"!=typeof options)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(options):void 0});if(input=this.jquery&&this.length>0?this[0]:this,void 0!==input.inputmask)return input.inputmask.option(options);break;default:return options.alias=fn,nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)})}else{if("object"==typeof fn)return nptmask=new Inputmask(fn),this.each(void 0===fn.mask&&void 0===fn.alias?function(){return void 0!==this.inputmask?this.inputmask.option(fn):void nptmask.mask(this)}:function(){nptmask.mask(this)});if(void 0===fn)return this.each(function(){nptmask=new Inputmask(options),nptmask.mask(this)})}}),$.fn.inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),Inputmask.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+escapedSeparator+"[01])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9])"+escapedSeparator+"(0[1-9]|1[012]))|(30"+escapedSeparator+"(0[13-9]|1[012]))|(31"+escapedSeparator+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(chrs,minyear,maxyear){if(isNaN(chrs))return!1;var enteredyear=parseInt(chrs.concat(minyear.toString().slice(chrs.length))),enteredyear2=parseInt(chrs.concat(maxyear.toString().slice(chrs.length)));return(isNaN(enteredyear)?!1:enteredyear>=minyear&&maxyear>=enteredyear)||(isNaN(enteredyear2)?!1:enteredyear2>=minyear&&maxyear>=enteredyear2)},determinebaseyear:function(minyear,maxyear,hint){var currentyear=(new Date).getFullYear();if(minyear>currentyear)return minyear;if(currentyear>maxyear){for(var maxYearPrefix=maxyear.toString().slice(0,2),maxYearPostfix=maxyear.toString().slice(2,4);maxYearPrefix+hint>maxyear;)maxYearPrefix--;var maxxYear=maxYearPrefix+maxYearPostfix;return minyear>maxxYear?minyear:maxxYear}return currentyear},onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val(today.getDate().toString()+(today.getMonth()+1).toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}},getFrontValue:function(mask,buffer,opts){for(var start=0,length=0,i=0;i<mask.length&&"2"!==mask.charAt(i);i++){var definition=opts.definitions[mask.charAt(i)];definition?(start+=length,length=definition.cardinality):length++}return buffer.join("").substr(start,length)},definitions:{1:{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.val1.test(chrs);return strict||isValid||chrs.charAt(1)!==opts.separator&&-1==="-./".indexOf(chrs.charAt(1))||!(isValid=opts.regex.val1.test("0"+chrs.charAt(0)))?isValid:(maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)})},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var pchrs=chrs;isNaN(maskset.buffer[pos+1])||(pchrs+=maskset.buffer[pos+1]);var isValid=1===pchrs.length?opts.regex.val1pre.test(pchrs):opts.regex.val1.test(pchrs);if(!strict&&!isValid){if(isValid=opts.regex.val1.test(chrs+"0"))return maskset.buffer[pos]=chrs,maskset.buffer[++pos]="0",{pos:pos,c:"0"};if(isValid=opts.regex.val1.test("0"+chrs))return maskset.buffer[pos]="0",pos++,{pos:pos}}return isValid},cardinality:1}]},2:{validator:function(chrs,maskset,pos,strict,opts){var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts);-1!==frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator);var isValid=opts.regex.val2(opts.separator).test(frontValue+chrs);if(!strict&&!isValid&&(chrs.charAt(1)===opts.separator||-1!=="-./".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs.charAt(0))))return maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)};if(opts.mask.indexOf("2")===opts.mask.length-1&&isValid){var dayMonthValue=maskset.buffer.join("").substr(4,4)+chrs;if(dayMonthValue!==opts.leapday)return!0;var year=parseInt(maskset.buffer.join("").substr(0,4),10);return year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}return isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){isNaN(maskset.buffer[pos+1])||(chrs+=maskset.buffer[pos+1]);var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts);-1!==frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator);var isValid=1===chrs.length?opts.regex.val2pre(opts.separator).test(frontValue+chrs):opts.regex.val2(opts.separator).test(frontValue+chrs);return strict||isValid||!(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},y:{validator:function(chrs,maskset,pos,strict,opts){if(opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=maskset.buffer.join("").substr(0,6);if(dayMonthValue!==opts.leapday)return!0;var year=parseInt(chrs,10);return year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,1);if(isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,2),isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos}}return isValid},cardinality:1},{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2);if(isValid=opts.isInYearRange(chrs[0]+yearPrefix[1]+chrs[1],opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2),opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=maskset.buffer.join("").substr(0,6);if(dayMonthValue!==opts.leapday)isValid=!0;else{var year=parseInt(chrs,10);isValid=year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}}else isValid=!1;if(isValid)return maskset.buffer[pos-1]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),maskset.buffer[pos++]=chrs.charAt(0),{refreshFromBuffer:{start:pos-3,end:pos},pos:pos}}return isValid},cardinality:2},{validator:function(chrs,maskset,pos,strict,opts){return opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val(today.getFullYear().toString()+(today.getMonth()+1).toString()+today.getDate().toString()),$input.trigger("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{
mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(chrs,maskset,pos,strict,opts){if("24"===opts.hourFormat&&24===parseInt(chrs,10))return maskset.buffer[pos-1]="0",maskset.buffer[pos]="0",{refreshFromBuffer:{start:pos-1,end:pos},c:"0"};var isValid=opts.regex.hrs.test(chrs);if(!strict&&!isValid&&(chrs.charAt(1)===opts.timeseparator||-1!=="-.:".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.hrs.test("0"+chrs.charAt(0))))return maskset.buffer[pos-1]="0",maskset.buffer[pos]=chrs.charAt(0),pos++,{refreshFromBuffer:{start:pos-2,end:pos},pos:pos,c:opts.timeseparator};if(isValid&&"24"!==opts.hourFormat&&opts.regex.hrs24.test(chrs)){var tmp=parseInt(chrs,10);return 24===tmp?(maskset.buffer[pos+5]="a",maskset.buffer[pos+6]="m"):(maskset.buffer[pos+5]="p",maskset.buffer[pos+6]="m"),tmp-=12,10>tmp?(maskset.buffer[pos]=tmp.toString(),maskset.buffer[pos-1]="0"):(maskset.buffer[pos]=tmp.toString().charAt(1),maskset.buffer[pos-1]=tmp.toString().charAt(0)),{refreshFromBuffer:{start:pos-1,end:pos+6},c:maskset.buffer[pos]}}return isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.hrspre.test(chrs);return strict||isValid||!(isValid=opts.regex.hrs.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.mspre.test(chrs);return strict||isValid||!(isValid=opts.regex.ms.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},t:{validator:function(chrs,maskset,pos,strict,opts){return opts.regex.ampm.test(chrs+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"[0-3])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+escapedSeparator+"30)|((0[1-6])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),Inputmask.extendAliases({url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(chrs,maskset,pos,strict,opts){return!0},cardinality:8,prevalidator:function(){for(var result=[],prefixLimit=8,i=0;prefixLimit>i;i++)result[i]=function(){var j=i;return{validator:function(chrs,maskset,pos,strict,opts){if(opts.regex["urlpre"+(j+1)]){var k,tmp=chrs;j+1-chrs.length>0&&(tmp=maskset.buffer.join("").substring(0,j+1-chrs.length)+""+tmp);var isValid=opts.regex["urlpre"+(j+1)].test(tmp);if(!strict&&!isValid){for(pos-=j,k=0;k<opts.defaultPrefix.length;k++)maskset.buffer[pos]=opts.defaultPrefix[k],pos++;for(k=0;k<tmp.length-1;k++)maskset.buffer[pos]=tmp[k],pos++;return{pos:pos}}return isValid}return!1},cardinality:j}}();return result}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(chrs,maskset,pos,strict,opts){return pos-1>-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,chrs=pos-2>-1&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):chrs="00"+chrs,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs)},cardinality:1}},onUnMask:function(maskedValue,unmaskedValue,opts){return maskedValue}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}},onUnMask:function(maskedValue,unmaskedValue,opts){return maskedValue}},mac:{mask:"##:##:##:##:##:##"}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({numeric:{mask:function(opts){function autoEscape(txt){for(var escapedTxt="",i=0;i<txt.length;i++)escapedTxt+=opts.definitions[txt.charAt(i)]?"\\"+txt.charAt(i):txt.charAt(i);return escapedTxt}if(0!==opts.repeat&&isNaN(opts.integerDigits)&&(opts.integerDigits=opts.repeat),opts.repeat=0,opts.groupSeparator===opts.radixPoint&&(opts.groupSeparator="."===opts.radixPoint?",":","===opts.radixPoint?".":"")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),opts.autoGroup=opts.autoGroup&&""!==opts.groupSeparator,opts.autoGroup&&("string"==typeof opts.groupSize&&isFinite(opts.groupSize)&&(opts.groupSize=parseInt(opts.groupSize)),isFinite(opts.integerDigits))){var seps=Math.floor(opts.integerDigits/opts.groupSize),mod=opts.integerDigits%opts.groupSize;opts.integerDigits=parseInt(opts.integerDigits)+(0===mod?seps-1:seps),opts.integerDigits<1&&(opts.integerDigits="*")}opts.placeholder.length>1&&(opts.placeholder=opts.placeholder.charAt(0)),opts.radixFocus=opts.radixFocus&&""!==opts.placeholder&&opts.integerOptional===!0,opts.definitions[";"]=opts.definitions["~"],opts.definitions[";"].definitionSymbol="~",opts.numericInput===!0&&(opts.radixFocus=!1,opts.digitsOptional=!1,isNaN(opts.digits)&&(opts.digits=2),opts.decimalProtect=!1);var mask=autoEscape(opts.prefix);return mask+="[+]",mask+=opts.integerOptional===!0?"~{1,"+opts.integerDigits+"}":"~{"+opts.integerDigits+"}",void 0!==opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0)&&(mask+=opts.digitsOptional?"["+(opts.decimalProtect?":":opts.radixPoint)+";{1,"+opts.digits+"}]":(opts.decimalProtect?":":opts.radixPoint)+";{"+opts.digits+"}"),""!==opts.negationSymbol.back&&(mask+="[-]"),mask+=autoEscape(opts.suffix),opts.greedy=!1,mask},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(buffer,pos,reformatOnly,opts){opts.numericInput===!0&&(buffer=buffer.reverse(),isFinite(pos)&&(pos=buffer.join("").length-pos-1));var i,l,suffixStripped=!1;buffer.length>=opts.suffix.length&&buffer.join("").indexOf(opts.suffix)===buffer.length-opts.suffix.length&&(buffer.length=buffer.length-opts.suffix.length,suffixStripped=!0),pos=pos>=buffer.length?buffer.length-1:pos<opts.prefix.length?opts.prefix.length:pos;var needsRefresh=!1,charAtPos=buffer[pos];if(""===opts.groupSeparator||opts.numericInput!==!0&&-1!==$.inArray(opts.radixPoint,buffer)&&pos>$.inArray(opts.radixPoint,buffer)||new RegExp("["+Inputmask.escapeRegex(opts.negationSymbol.front)+"+]").test(charAtPos)){if(suffixStripped)for(i=0,l=opts.suffix.length;l>i;i++)buffer.push(opts.suffix.charAt(i));return{pos:pos}}var cbuf=buffer.slice();charAtPos===opts.groupSeparator&&(cbuf.splice(pos--,1),charAtPos=cbuf[pos]),reformatOnly?charAtPos!==opts.radixPoint&&(cbuf[pos]="?"):cbuf.splice(pos,0,"?");var bufVal=cbuf.join(""),bufValOrigin=bufVal;if(bufVal.length>0&&opts.autoGroup||reformatOnly&&-1!==bufVal.indexOf(opts.groupSeparator)){var escapedGroupSeparator=Inputmask.escapeRegex(opts.groupSeparator);needsRefresh=0===bufVal.indexOf(opts.groupSeparator),bufVal=bufVal.replace(new RegExp(escapedGroupSeparator,"g"),"");var radixSplit=bufVal.split(opts.radixPoint);if(bufVal=""===opts.radixPoint?bufVal:radixSplit[0],bufVal!==opts.prefix+"?0"&&bufVal.length>=opts.groupSize+opts.prefix.length)for(var reg=new RegExp("([-+]?[\\d?]+)([\\d?]{"+opts.groupSize+"})");reg.test(bufVal);)bufVal=bufVal.replace(reg,"$1"+opts.groupSeparator+"$2"),bufVal=bufVal.replace(opts.groupSeparator+opts.groupSeparator,opts.groupSeparator);""!==opts.radixPoint&&radixSplit.length>1&&(bufVal+=opts.radixPoint+radixSplit[1])}for(needsRefresh=bufValOrigin!==bufVal,buffer.length=bufVal.length,i=0,l=bufVal.length;l>i;i++)buffer[i]=bufVal.charAt(i);var newPos=$.inArray("?",buffer);if(-1===newPos&&charAtPos===opts.radixPoint&&(newPos=$.inArray(opts.radixPoint,buffer)),reformatOnly?buffer[newPos]=charAtPos:buffer.splice(newPos,1),!needsRefresh&&suffixStripped)for(i=0,l=opts.suffix.length;l>i;i++)buffer.push(opts.suffix.charAt(i));return newPos=opts.numericInput&&isFinite(pos)?buffer.join("").length-newPos-1:newPos,opts.numericInput&&(buffer=buffer.reverse(),$.inArray(opts.radixPoint,buffer)<newPos&&buffer.join("").length-opts.suffix.length!==newPos&&(newPos-=1)),{pos:newPos,refreshFromBuffer:needsRefresh,buffer:buffer}},onBeforeWrite:function(e,buffer,caretPos,opts){if(e&&("blur"===e.type||"checkval"===e.type)){var maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");if(processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(processValue)&&isFinite(opts.min)&&parseFloat(processValue)<parseFloat(opts.min))return $.extend(!0,{refreshFromBuffer:!0,buffer:(opts.prefix+opts.min).split("")},opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts));if(opts.numericInput!==!0){var tmpBufSplit=""!==opts.radixPoint?buffer.join("").split(opts.radixPoint):[buffer.join("")],matchRslt=tmpBufSplit[0].match(opts.regex.integerPart(opts)),matchRsltDigits=2===tmpBufSplit.length?tmpBufSplit[1].match(opts.regex.integerNPart(opts)):void 0;if(matchRslt){matchRslt[0]!==opts.negationSymbol.front+"0"&&matchRslt[0]!==opts.negationSymbol.front&&"+"!==matchRslt[0]||void 0!==matchRsltDigits&&!matchRsltDigits[0].match(/^0+$/)||buffer.splice(matchRslt.index,1);var radixPosition=$.inArray(opts.radixPoint,buffer);if(-1!==radixPosition){if(isFinite(opts.digits)&&!opts.digitsOptional){for(var i=1;i<=opts.digits;i++)(void 0===buffer[radixPosition+i]||buffer[radixPosition+i]===opts.placeholder.charAt(0))&&(buffer[radixPosition+i]="0");return{refreshFromBuffer:maskedValue!==buffer.join(""),buffer:buffer}}if(radixPosition===buffer.length-opts.suffix.length-1)return buffer.splice(radixPosition,1),{refreshFromBuffer:!0,buffer:buffer}}}}}if(opts.autoGroup){var rslt=opts.postFormat(buffer,opts.numericInput?caretPos:caretPos-1,!0,opts);return rslt.caret=caretPos<=opts.prefix.length?rslt.pos:rslt.pos+1,rslt}},regex:{integerPart:function(opts){return new RegExp("["+Inputmask.escapeRegex(opts.negationSymbol.front)+"+]?\\d+")},integerNPart:function(opts){return new RegExp("[\\d"+Inputmask.escapeRegex(opts.groupSeparator)+"]+")}},signHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs){var matchRslt=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(matchRslt&&matchRslt[0].length>0)return maskset.buffer[matchRslt.index]===("-"===chrs?"+":opts.negationSymbol.front)?"-"===chrs?""!==opts.negationSymbol.back?{pos:matchRslt.index,c:opts.negationSymbol.front,remove:matchRslt.index,caret:pos,insert:{pos:maskset.buffer.length-opts.suffix.length-1,c:opts.negationSymbol.back}}:{pos:matchRslt.index,c:opts.negationSymbol.front,remove:matchRslt.index,caret:pos}:""!==opts.negationSymbol.back?{pos:matchRslt.index,c:"+",remove:[matchRslt.index,maskset.buffer.length-opts.suffix.length-1],caret:pos}:{pos:matchRslt.index,c:"+",remove:matchRslt.index,caret:pos}:maskset.buffer[matchRslt.index]===("-"===chrs?opts.negationSymbol.front:"+")?"-"===chrs&&""!==opts.negationSymbol.back?{remove:[matchRslt.index,maskset.buffer.length-opts.suffix.length-1],caret:pos-1}:{remove:matchRslt.index,caret:pos-1}:"-"===chrs?""!==opts.negationSymbol.back?{pos:matchRslt.index,c:opts.negationSymbol.front,caret:pos+1,insert:{pos:maskset.buffer.length-opts.suffix.length,c:opts.negationSymbol.back}}:{pos:matchRslt.index,c:opts.negationSymbol.front,caret:pos+1}:{pos:matchRslt.index,c:chrs,caret:pos+1}}return!1},radixHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&(-1!==$.inArray(chrs,[",","."])&&(chrs=opts.radixPoint),chrs===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0))){var radixPos=$.inArray(opts.radixPoint,maskset.buffer),integerValue=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(-1!==radixPos&&maskset.validPositions[radixPos])return maskset.validPositions[radixPos-1]?{caret:radixPos+1}:{pos:integerValue.index,c:integerValue[0],caret:radixPos+1};if(!integerValue||"0"===integerValue[0]&&integerValue.index+1!==pos)return maskset.buffer[integerValue?integerValue.index:pos]="0",{pos:(integerValue?integerValue.index:pos)+1,c:opts.radixPoint}}return!1},leadingZeroHandler:function(chrs,maskset,pos,strict,opts){if(opts.numericInput===!0){if("0"===maskset.buffer[maskset.buffer.length-opts.prefix.length-1])return{pos:pos,remove:maskset.buffer.length-opts.prefix.length-1}}else{var matchRslt=maskset.buffer.join("").match(opts.regex.integerNPart(opts)),radixPosition=$.inArray(opts.radixPoint,maskset.buffer);if(matchRslt&&!strict&&(-1===radixPosition||radixPosition>=pos))if(0===matchRslt[0].indexOf("0")){pos<opts.prefix.length&&(pos=matchRslt.index);var _radixPosition=$.inArray(opts.radixPoint,maskset._buffer),digitsMatch=maskset._buffer&&maskset.buffer.slice(radixPosition).join("")===maskset._buffer.slice(_radixPosition).join("")||0===parseInt(maskset.buffer.slice(radixPosition+1).join("")),integerMatch=maskset._buffer&&maskset.buffer.slice(matchRslt.index,radixPosition).join("")===maskset._buffer.slice(opts.prefix.length,_radixPosition).join("")||"0"===maskset.buffer.slice(matchRslt.index,radixPosition).join("");if(-1===radixPosition||digitsMatch&&integerMatch)return maskset.buffer.splice(matchRslt.index,1),pos=pos>matchRslt.index?pos-1:matchRslt.index,{pos:pos,remove:matchRslt.index};if(matchRslt.index+1===pos||"0"===chrs)return maskset.buffer.splice(matchRslt.index,1),pos=matchRslt.index,{pos:pos,remove:matchRslt.index}}else if("0"===chrs&&pos<=matchRslt.index&&matchRslt[0]!==opts.groupSeparator)return!1}return!0},postValidation:function(buffer,opts){var isValid=!0,maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+Inputmask.escapeRegex(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back)+"$"),""),processValue=processValue===opts.negationSymbol.front?processValue+"0":processValue,isFinite(processValue)&&(null!==opts.max&&isFinite(opts.max)&&(isValid=parseFloat(processValue)<=parseFloat(opts.max)),isValid&&null!==opts.min&&isFinite(opts.min)&&(0>=processValue||processValue.toString().length>=opts.min.toString().length)&&(isValid=parseFloat(processValue)>=parseFloat(opts.min),isValid||(isValid=$.extend(!0,{refreshFromBuffer:!0,buffer:(opts.prefix+opts.min).split("")},opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts)),isValid.refreshFromBuffer=!0))),isValid},definitions:{"~":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);if(!isValid&&(isValid=opts.radixHandler(chrs,maskset,pos,strict,opts),!isValid&&(isValid=strict?new RegExp("[0-9"+Inputmask.escapeRegex(opts.groupSeparator)+"]").test(chrs):new RegExp("[0-9]").test(chrs),isValid===!0&&(isValid=opts.leadingZeroHandler(chrs,maskset,pos,strict,opts),isValid===!0)))){var radixPosition=$.inArray(opts.radixPoint,maskset.buffer);isValid=-1!==radixPosition&&opts.digitsOptional===!1&&opts.numericInput!==!0&&pos>radixPosition&&!strict?{pos:pos,remove:pos}:{pos:pos}}return isValid},cardinality:1,prevalidator:null},"+":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&(strict&&opts.allowMinus&&chrs===opts.negationSymbol.front||opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs)&&(isValid="-"===chrs?""!==opts.negationSymbol.back?{pos:pos,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1,insert:{pos:maskset.buffer.length,c:opts.negationSymbol.back}}:{pos:pos,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1}:!0),isValid},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&strict&&opts.allowMinus&&chrs===opts.negationSymbol.back&&(isValid=!0),isValid},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);if(!isValid){var radix="["+Inputmask.escapeRegex(opts.radixPoint)+",\\.]";isValid=new RegExp(radix).test(chrs),isValid&&maskset.validPositions[pos]&&maskset.validPositions[pos].match.placeholder===opts.radixPoint&&(isValid={caret:pos+1})}return isValid?{c:opts.radixPoint}:isValid},cardinality:1,prevalidator:null,placeholder:function(opts){return opts.radixPoint}}},onUnMask:function(maskedValue,unmaskedValue,opts){var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(Inputmask.escapeRegex.call(this,opts.radixPoint),".")),Number(processValue)):processValue},isComplete:function(buffer,opts){var maskedValue=buffer.join(""),bufClone=buffer.slice();if(opts.postFormat(bufClone,0,!0,opts),bufClone.join("")!==maskedValue)return!1;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(processValue)},onBeforeMask:function(initialValue,opts){if(""!==opts.radixPoint&&isFinite(initialValue))initialValue=initialValue.toString().replace(".",opts.radixPoint);else{var kommaMatches=initialValue.match(/,/g),dotMatches=initialValue.match(/\./g);dotMatches&&kommaMatches?dotMatches.length>kommaMatches.length?(initialValue=initialValue.replace(/\./g,""),initialValue=initialValue.replace(",",opts.radixPoint)):kommaMatches.length>dotMatches.length?(initialValue=initialValue.replace(/,/g,""),initialValue=initialValue.replace(".",opts.radixPoint)):initialValue=initialValue.indexOf(".")<initialValue.indexOf(",")?initialValue.replace(/\./g,""):initialValue=initialValue.replace(/,/g,""):initialValue=initialValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),"")}if(0===opts.digits&&(-1!==initialValue.indexOf(".")?initialValue=initialValue.substring(0,initialValue.indexOf(".")):-1!==initialValue.indexOf(",")&&(initialValue=initialValue.substring(0,initialValue.indexOf(",")))),""!==opts.radixPoint&&isFinite(opts.digits)&&-1!==initialValue.indexOf(opts.radixPoint)){var valueParts=initialValue.split(opts.radixPoint),decPart=valueParts[1].match(new RegExp("\\d*"))[0];if(parseInt(opts.digits)<decPart.toString().length){var digitsFactor=Math.pow(10,parseInt(opts.digits));initialValue=initialValue.replace(Inputmask.escapeRegex(opts.radixPoint),"."),initialValue=Math.round(parseFloat(initialValue)*digitsFactor)/digitsFactor,initialValue=initialValue.toString().replace(".",opts.radixPoint)}}return initialValue.toString()},canClearPosition:function(maskset,position,lvp,strict,opts){var positionInput=maskset.validPositions[position].input,canClear=positionInput!==opts.radixPoint||null!==maskset.validPositions[position].match.fn&&opts.decimalProtect===!1||isFinite(positionInput)||position===lvp||positionInput===opts.groupSeparator||positionInput===opts.negationSymbol.front||positionInput===opts.negationSymbol.back;if(canClear&&isFinite(positionInput)){var matchRslt,radixPos=$.inArray(opts.radixPoint,maskset.buffer),radixInjection=!1;if(void 0===maskset.validPositions[radixPos]&&(maskset.validPositions[radixPos]={input:opts.radixPoint},radixInjection=!0),!strict&&maskset.buffer){matchRslt=maskset.buffer.join("").substr(0,position).match(opts.regex.integerNPart(opts));var pos=position+1,isNull=null==matchRslt||0===parseInt(matchRslt[0].replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""));if(isNull)for(;maskset.validPositions[pos]&&(maskset.validPositions[pos].input===opts.groupSeparator||"0"===maskset.validPositions[pos].input);)delete maskset.validPositions[pos],pos++}var buffer=[];for(var vp in maskset.validPositions)void 0!==maskset.validPositions[vp].input&&buffer.push(maskset.validPositions[vp].input);if(radixInjection&&delete maskset.validPositions[radixPos],radixPos>0){var bufVal=buffer.join("");if(matchRslt=bufVal.match(opts.regex.integerNPart(opts)))if(radixPos>=position)if(0===matchRslt[0].indexOf("0"))canClear=matchRslt.index!==position||"0"===opts.placeholder;else{var intPart=parseInt(matchRslt[0].replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),"")),radixPart=parseInt(bufVal.split(opts.radixPoint)[1]);10>intPart&&maskset.validPositions[position]&&("0"!==opts.placeholder||radixPart>0)&&(maskset.validPositions[position].input="0",maskset.p=opts.prefix.length+1,canClear=!1)}else 0===matchRslt[0].indexOf("0")&&3===bufVal.length&&(maskset.validPositions={},canClear=!1)}}return canClear},onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey)switch(e.keyCode){case Inputmask.keyCode.UP:$input.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue.inputmask");break;case Inputmask.keyCode.DOWN:$input.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue.inputmask")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(opts){opts.definitions["#"]=opts.definitions[9];var maskList=[];return $.ajax({url:opts.url,async:!1,dataType:"json",success:function(response){maskList=response},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+" - "+opts.url)}}),maskList=maskList.sort(function(a,b){return(a.mask||a)<(b.mask||b)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(value,opts){var processedValue=value.replace(/^0/g,"");return(processedValue.indexOf(opts.countrycode)>1||-1===processedValue.indexOf(opts.countrycode))&&(processedValue="+"+opts.countrycode+processedValue),processedValue}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(buffer,opts){return new RegExp(opts.regex).test(buffer.join(""))},definitions:{r:{validator:function(chrs,maskset,pos,strict,opts){function RegexToken(isGroup,isQuantifier){this.matches=[],this.isGroup=isGroup||!1,this.isQuantifier=isQuantifier||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function analyseRegex(){var match,m,currentToken=new RegexToken,opengroups=[];for(opts.regexTokens=[];match=opts.tokenizer.exec(opts.regex);)switch(m=match[0],m.charAt(0)){case"(":opengroups.push(new RegexToken(!0));break;case")":groupToken=opengroups.pop(),opengroups.length>0?opengroups[opengroups.length-1].matches.push(groupToken):currentToken.matches.push(groupToken);break;case"{":case"+":case"*":var quantifierToken=new RegexToken(!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);if(quantifierToken.quantifier={min:mq0,max:mq1},opengroups.length>0){var matches=opengroups[opengroups.length-1].matches;match=matches.pop(),match.isGroup||(groupToken=new RegexToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifierToken)}else match=currentToken.matches.pop(),match.isGroup||(groupToken=new RegexToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifierToken);break;default:opengroups.length>0?opengroups[opengroups.length-1].matches.push(m):currentToken.matches.push(m)}currentToken.matches.length>0&&opts.regexTokens.push(currentToken)}function validateRegexToken(token,fromGroup){var isvalid=!1;fromGroup&&(regexPart+="(",openGroupCount++);for(var mndx=0;mndx<token.matches.length;mndx++){var matchToken=token.matches[mndx];if(matchToken.isGroup===!0)isvalid=validateRegexToken(matchToken,!0);else if(matchToken.isQuantifier===!0){var crrntndx=$.inArray(matchToken,token.matches),matchGroup=token.matches[crrntndx-1],regexPartBak=regexPart;if(isNaN(matchToken.quantifier.max)){for(;matchToken.repeaterPart&&matchToken.repeaterPart!==regexPart&&matchToken.repeaterPart.length>regexPart.length&&!(isvalid=validateRegexToken(matchGroup,!0)););isvalid=isvalid||validateRegexToken(matchGroup,!0),isvalid&&(matchToken.repeaterPart=regexPart),regexPart=regexPartBak+matchToken.quantifier.max}else{for(var i=0,qm=matchToken.quantifier.max-1;qm>i&&!(isvalid=validateRegexToken(matchGroup,!0));i++);regexPart=regexPartBak+"{"+matchToken.quantifier.min+","+matchToken.quantifier.max+"}"}}else if(void 0!==matchToken.matches)for(var k=0;k<matchToken.length&&!(isvalid=validateRegexToken(matchToken[k],fromGroup));k++);else{var testExp;if("["==matchToken.charAt(0)){testExp=regexPart,testExp+=matchToken;for(var j=0;openGroupCount>j;j++)testExp+=")";var exp=new RegExp("^("+testExp+")$");isvalid=exp.test(bufferStr)}else for(var l=0,tl=matchToken.length;tl>l;l++)if("\\"!==matchToken.charAt(l)){testExp=regexPart,testExp+=matchToken.substr(0,l+1),testExp=testExp.replace(/\|$/,"");for(var j=0;openGroupCount>j;j++)testExp+=")";var exp=new RegExp("^("+testExp+")$");if(isvalid=exp.test(bufferStr))break}regexPart+=matchToken}if(isvalid)break}return fromGroup&&(regexPart+=")",openGroupCount--),isvalid}var groupToken,cbuffer=maskset.buffer.slice(),regexPart="",isValid=!1,openGroupCount=0;null===opts.regexTokens&&analyseRegex(),cbuffer.splice(pos,0,chrs);for(var bufferStr=cbuffer.join(""),i=0;i<opts.regexTokens.length;i++){var regexToken=opts.regexTokens[i];if(isValid=validateRegexToken(regexToken,regexToken.isGroup))break}return isValid},cardinality:1}}}}),Inputmask}(jQuery,Inputmask),function(){"use strict";var app=angular.module("app",["ngResource","ui.router","ngCookies","ui.mask","ui.bootstrap","isteven-multi-select","ngInputModified","ui.validate","cgBusy","angular.filter","xeditable","checklist-model","ngFileUpload","STNResource","ui.bootstrap.datetimepicker","leaflet-directive","ngHandsontable","STNControllers","LogInOutController","ModalControllers","SettingsControllers","WiM.Services","WiM.Event","wim_angular","angularSpinners"]);app.constant("SERVER_URL","https://stn.wim.usgs.gov/STNServices"),app.constant("ENVIRONMENT","Production"),app.run(["$rootScope","$uibModalStack","$cookies","$state","ENVIRONMENT",function($rootScope,$uibModalStack,$cookies,$state,ENVIRONMENT){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){void 0!==$cookies.get("STNCreds")&&""!==$cookies.get("STNCreds")||!toState.authenticate?($rootScope.stateIsLoading={showLoading:!0},$uibModalStack.dismissAll(),"/"==toState.url&&$("#userNameFocus").focus()):($rootScope.returnToState=toState.name,$rootScope.returnToStateParams=toParams.id,event.preventDefault(),$state.go("entry")),$rootScope.environment=ENVIRONMENT}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams,error){$rootScope.stateIsLoading.showLoading=!1}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){$rootScope.stateIsLoading.showLoading=!1,alert("Error occurred: Status"+error.status+", "+error.statusText+". The following request was unsuccessful: "+error.config.url+" Please refresh and try again.")})}]),app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("entry",{url:"/",templateUrl:"component/main/mainView.html",controller:"mainCtrl"}).state("map",{url:"/Map",views:{"":{controller:"MapController",templateUrl:"component/map/map.html"},"mapFilters@map":{templateUrl:"component/map/mapFilters.html",controller:"MapFiltersController",resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},sensT:"SENSOR_TYPE",sensorTypes:function(sensT){return sensT.getAll().$promise},netwN:"NETWORK_NAME",networkNames:function(netwN){return netwN.getAll().$promise;

}}},"mapSiteInfo@map":{templateUrl:"component/site/mapSiteInfoView.html",controller:"MapSiteInfoController"},"mapPeaksView@map":{templateUrl:"component/peak/mapPeaksView.html",controller:"MapPeaksController"},"mapSensorPropose@map":{templateUrl:"component/sensor/mapSensorPropose.html",resolve:{dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},sd:"SENSOR_TYPE",allSensDeps:function(sd){return sd.getAll().$promise}},controller:"MapSensorProposeController"}}}).state("approval",{url:"/Approval",templateUrl:"component/approval/approval.html",controller:"approvalCtrl",authenticate:!0,resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise},i:"INSTRUMENT",instrumentList:function(i){return i.getAll().$promise},st:"SENSOR_TYPE",allSensorTypes:function(st){return st.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDepTypes:function(dt){return dt.getAll().$promise},hq:"HWM_QUALITY",hwmQualList:function(hq){return hq.getAll().$promise},ht:"HWM_TYPE",hwmTypeList:function(ht){return ht.getAll().$promise}}}).state("siteSearch",{url:"/SiteSearch",templateUrl:"component/siteSearch/siteSearch.html",controller:"siteSearchCtrl",authenticate:!0,resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},sensT:"SENSOR_TYPE",sensorTypes:function(sensT){return sensT.getAll().$promise},netwN:"NETWORK_NAME",networkNames:function(netwN){return netwN.getAll().$promise}}}).state("reporting",{url:"/Reporting","abstract":!0,templateUrl:"component/reporting/reporting.html",controller:"reportingCtrl",authenticate:!0,resolve:{e:"EVENT",allEvents:function(e){return e.getAll().$promise},state:"STATE",allStates:function(state){return state.getAll().$promise},r:"REPORT",allReports:function(r){return r.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},es:"EVENT_STATUS",allEventStatus:function(es){return es.getAll().$promise},ag:"AGENCY",allAgencies:function(ag){return ag.getAll().$promise},memberReports:function(r,$cookies){var mID=$cookies.get("mID");return r.getMemberReports({memberId:mID}).$promise}}}).state("reporting.reportDash",{url:"/Dashboard",templateUrl:"component/reporting/reportingDashboard.html",controller:"reportingDashCtrl",authenticate:!0,resolve:{r:"REPORT",allReportsAgain:function(r){return r.getAll().$promise}}}).state("reporting.submitReport",{url:"/SubmitReport",templateUrl:"component/reporting/submitReport.html",controller:"submitReportCtrl",authenticate:!0}).state("reporting.generateReport",{url:"/GenerateReport",templateUrl:"component/reporting/generateReport.html",authenticate:!0}).state("settings",{url:"/Settings",templateUrl:"component/settings/settings.html",controller:"settingsCtrl",authenticate:!0}).state("members",{url:"/Members",params:{id:null},"abstract":!0,template:"<div ui-view></div>",controller:"memberCtrl",authenticate:!0,resolve:{r:"ROLE",allRoles:function(r){return r.getAll().$promise},a:"AGENCY",allAgencies:function(a){return a.getAll().$promise},userProfileId:function($stateParams){return void 0!==$stateParams.id?$stateParams.id:void 0}}}).state("members.MembersList",{url:"/MembersList",templateUrl:"component/member/membersList.html",authenticate:!0}).state("events",{url:"/Events","abstract":!0,template:"<div ui-view></div>",controller:"eventCtrl",authenticate:!0,resolve:{e:"EVENT",allEvents:function(e){return e.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},es:"EVENT_STATUS",allEventStats:function(es){return es.getAll().$promise},m:"MEMBER",allCoordMembers:function(m,$http,$cookies){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",m.getRoleMembers({roleId:1}).$promise}}}).state("events.EventsList",{url:"/EventsList",templateUrl:"component/event/eventsList.html",authenticate:!0}).state("events.EventInfo",{url:"/eventInfo/:id",templateUrl:"component/event/eventInfo.html",controller:"eventInfoCtrl",authenticate:!0,resolve:{e:"EVENT",thisEvent:function(e,$stateParams){var eventId=$stateParams.id;return eventId>0?e.query({id:eventId}).$promise:void 0}}}).state("resources",{url:"/Resources","abstract":!0,template:"<div ui-view></div>",controller:"resourcesCtrl",authenticate:!0,resolve:{state:"STATE",allStates:function(state){return state.getAll().$promise},ag:"AGENCY",allAgencies:function(ag){return ag.getAll().$promise},c:"CONTACT_TYPE",allContactTypes:function(c){return c.getAll().$promise},d:"DEPLOYMENT_PRIORITY",allDeployPriorities:function(d){return d.getAll().$promise},es:"EVENT_STATUS",allEventStats:function(es){return es.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},ft:"FILE_TYPE",allFileTypes:function(ft){return ft.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},ht:"HOUSING_TYPE",allHouseTypes:function(ht){return ht.getAll().$promise},hq:"HWM_QUALITY",allHWMqualities:function(hq){return hq.getAll().$promise},hwmT:"HWM_TYPE",allHWMtypes:function(hwmT){return hwmT.getAll().$promise},icc:"INST_COLL_CONDITION",allInstCollectConditions:function(icc){return icc.getAll().$promise},m:"MARKER",allMarkers:function(m){return m.getAll().$promise},nn:"NETWORK_NAME",allNetworkNames:function(nn){return nn.getAll().$promise},opq:"OP_QUALITY",allObjPtQualities:function(opq){return opq.getAll().$promise},opt:"OP_TYPE",allObjPtTypes:function(opt){return opt.getAll().$promise},sb:"SENSOR_BRAND",allSensorBrands:function(sb){return sb.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDeploymentTypes:function(dt){return dt.getAll().$promise},sstat:"STATUS_TYPE",allStatusTypes:function(sstat){return sstat.getAll().$promise},st:"SENSOR_TYPE",allSensorTypes:function(st){return st.getAll().$promise},nt:"NETWORK_TYPE",allNetworkTypes:function(nt){return nt.getAll().$promise},vcm:"VERTICAL_COLL_METHOD",allVerticalCollMethods:function(vcm){return vcm.getAll().$promise},vd:"VERTICAL_DATUM",allVerticalDatums:function(vd){return vd.getAll().$promise}}}).state("resources.ResourcesList",{url:"/ResourcesList",templateUrl:"component/resources/resourcesList.html",authenticate:!0}).state("resources.ResourcesList.agency",{url:"/Agencies",templateUrl:"component/resources/agency.html",authenticate:!0}).state("resources.ResourcesList.ContactType",{url:"/ContactTypes",templateUrl:"component/resources/contactType.html",authenticate:!0}).state("resources.ResourcesList.DepPriority",{url:"/DeploymentPriorities",templateUrl:"component/resources/deploymentPriority.html",authenticate:!0}).state("resources.ResourcesList.EventStatus",{url:"/EventStatus",templateUrl:"component/resources/eventStatus.html",authenticate:!0}).state("resources.ResourcesList.EventType",{url:"/EventTypes",templateUrl:"component/resources/eventType.html",authenticate:!0}).state("resources.ResourcesList.FileType",{url:"/FileTypes",templateUrl:"component/resources/fileType.html",authenticate:!0}).state("resources.ResourcesList.HorCollMethd",{url:"/HorizontalCollMethods",templateUrl:"component/resources/horizontalCollectionMethod.html",authenticate:!0}).state("resources.ResourcesList.HorDatum",{url:"/HorizontalDatums",templateUrl:"component/resources/horizontalDatum.html",authenticate:!0}).state("resources.ResourcesList.HousingType",{url:"/HousingTypes",templateUrl:"component/resources/housingType.html",authenticate:!0}).state("resources.ResourcesList.HWMQual",{url:"/HWMQualities",templateUrl:"component/resources/hwmQuality.html",authenticate:!0}).state("resources.ResourcesList.HWMType",{url:"/HWMTypes",templateUrl:"component/resources/hwmType.html",authenticate:!0}).state("resources.ResourcesList.InstrCollCondition",{url:"/InstrCollConditions",templateUrl:"component/resources/instrumentCollectionCondition.html",authenticate:!0}).state("resources.ResourcesList.Marker",{url:"/Markers",templateUrl:"component/resources/marker.html",authenticate:!0}).state("resources.ResourcesList.NetworkNames",{url:"/NetworkNames",templateUrl:"component/resources/networkNames.html",authenticate:!0}).state("resources.ResourcesList.OPquality",{url:"/ObjPointQualities",templateUrl:"component/resources/objectivePointQuality.html",authenticate:!0}).state("resources.ResourcesList.OPType",{url:"/ObjPointType",templateUrl:"component/resources/objectivePointType.html",authenticate:!0}).state("resources.ResourcesList.SensorBrand",{url:"/SensorBrands",templateUrl:"component/resources/sensorBrand.html",authenticate:!0}).state("resources.ResourcesList.SenDepType",{url:"/SensorDeploymentTypes",templateUrl:"component/resources/deploymentType.html",authenticate:!0}).state("resources.ResourcesList.StatusType",{url:"/StatusTypes",templateUrl:"component/resources/statusType.html",authenticate:!0}).state("resources.ResourcesList.SensorType",{url:"/SensorTypes",templateUrl:"component/resources/sensorType.html",authenticate:!0}).state("resources.ResourcesList.NetworkType",{url:"/NetworkTypes",templateUrl:"component/resources/networkType.html",authenticate:!0}).state("resources.ResourcesList.VertCollMethod",{url:"/VerticalCollMethods",templateUrl:"component/resources/verticalCollectionMethod.html",authenticate:!0}).state("resources.ResourcesList.VertDatum",{url:"/VerticalDatums",templateUrl:"component/resources/verticalDatum.html",authenticate:!0}).state("bulkHWMAdj",{url:"/BulkHWM_adjustments",templateUrl:"component/hwm/bulkHWMAdj.html",authenticate:!0,controller:"bulkHWMAdjCtrl",resolve:{e:"EVENT",eventList:function(e){return e.getAll().$promise},s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise}}}).state("bulkHWM",{url:"/HistoricHWM_Upload",templateUrl:"component/hwm/bulkHWM.html",authenticate:!0,controller:"bulkHWMCtrl",resolve:{e:"EVENT",eventList:function(e){return e.getAll().$promise},s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise},ht:"HWM_TYPE",hwmTypeList:function(ht){return ht.getAll().$promise},m:"MARKER",markerList:function(m){return m.getAll().$promise},hq:"HWM_QUALITY",hwmQualList:function(hq){return hq.getAll().$promise},hd:"HORIZONTAL_DATUM",horizDatumList:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",horCollMethList:function(hcm){return hcm.getAll().$promise},vd:"VERTICAL_DATUM",vertDatumList:function(vd){return vd.getAll().$promise},vcm:"VERTICAL_COLL_METHOD",vertCollMethList:function(vcm){return vcm.getAll().$promise},f:"FILE_TYPE",fileTypesList:function(f){return f.getAll().$promise},a:"AGENCY",agenciesList:function(a){return a.getAll().$promise}}}).state("site",{url:"/Site/:id","abstract":!0,params:{id:null,latitude:{value:null,squash:!0},longitude:{value:null,squash:!0}},templateUrl:"component/site/site.html",authenticate:!0,controller:["$scope","$stateParams","Site_Script","runningScript",function($scope,$stateParams,Site_Script,runningScript){$scope.siteID=$stateParams.id,Site_Script.setIsScriptRunning("0"!=$scope.siteID?runningScript.value:"false")}],resolve:{s:"SITE",runningScript:function(s,$stateParams){return $stateParams.id>0?s.sensorScriptRunning({id:$stateParams.id}).$promise:void 0},thisSite:function(s,$stateParams){return $stateParams.id>0?s.query({id:$stateParams.id}).$promise:void 0},latlong:function($stateParams){if($stateParams.latitude){var latlongarray=[$stateParams.latitude,$stateParams.longitude];return latlongarray}},thisSiteNetworkNames:function(s,$stateParams){return $stateParams.id>0?s.getSiteNetworkNames({id:$stateParams.id}).$promise:void 0},thisSiteNetworkTypes:function(s,$stateParams){return $stateParams.id>0?s.getSiteNetworkTypes({id:$stateParams.id}).$promise:void 0},thisSiteHousings:function(s,$stateParams){return $stateParams.id>0?s.getSiteHousings({id:$stateParams.id}).$promise:void 0},thisSiteOPs:function(s,$stateParams){return $stateParams.id>0?s.getSiteOPs({id:$stateParams.id}).$promise:void 0},thisSiteSensors:function(s,$stateParams){return $stateParams.id>0?s.getSiteSensors({id:$stateParams.id}).$promise:void 0},thisSiteHWMs:function(s,$stateParams,$http,$cookies){return $stateParams.id>0?($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",s.getSiteHWMs({id:$stateParams.id}).$promise):void 0},thisSiteFiles:function(s,$stateParams){return $stateParams.id>0?s.getSiteFiles({id:$stateParams.id}).$promise:void 0},thisSitePeaks:function(s,$stateParams){return $stateParams.id>0?s.getSitePeaks({id:$stateParams.id}).$promise:void 0},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},st:"STATE",allStates:function(st){return st.getAll().$promise},c:"COUNTIES",allCounties:function(c){return c.getAll().$promise},ht:"HOUSING_TYPE",allHousingTypes:function(ht){return ht.getAll().$promise},nn:"NETWORK_NAME",allNetworkNames:function(nn){return nn.getAll().$promise},nt:"NETWORK_TYPE",allNetworkTypes:function(nt){return nt.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},dp:"DEPLOYMENT_PRIORITY",allDeployPriorities:function(dp){return dp.getAll().$promise},opt:"OP_TYPE",allOPTypes:function(opt){return opt.getAll().$promise},vertDats:"VERTICAL_DATUM",allVertDatums:function(vertDats){return vertDats.getAll().$promise},vertColMet:"VERTICAL_COLL_METHOD",allVertColMethods:function(vertColMet){return vertColMet.getAll().$promise},opQual:"OP_QUALITY",allOPQualities:function(opQual){return opQual.getAll().$promise},e:"EVENT",allEvents:function(e){return e.getAll().$promise},sent:"SENSOR_TYPE",allSensorTypes:function(sent){return sent.getAll().$promise},sb:"SENSOR_BRAND",allSensorBrands:function(sb){return sb.getAll().$promise},hwmt:"HWM_TYPE",allHWMTypes:function(hwmt){return hwmt.getAll().$promise},hq:"HWM_QUALITY",allHWMQualities:function(hq){return hq.getAll().$promise},m:"MARKER",allMarkers:function(m){return m.getAll().$promise},ft:"FILE_TYPE",allFileTypes:function(ft){return ft.getAll().$promise},a:"AGENCY",allAgencies:function(a){return a.getAll().$promise}}}).state("site.dashboard",{url:"/SiteDashboard",authenticate:!0,views:{siteNo:{controller:["$scope","$cookies","thisSite",function($scope,$cookies,thisSite){void 0!==thisSite&&($scope.SiteNo=thisSite.site_no),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"})}],template:'<div><h2 style="margin-top:0">Site {{SiteNo}} - For {{sessionEvent}}</h2></div><hr />'},aMap:{controller:"siteMapCtrl",templateUrl:"component/site/siteMapView.html",resolve:{aSite:function(thisSite){return void 0!==thisSite?thisSite:void 0},dt:"DEPLOYMENT_TYPE",deploymentTypes:function(thisSite,dt){return void 0!==thisSite?dt.getAll().$promise:void 0},s:"SITE",siteHWMs:function(thisSite,s){return void 0!==thisSite?s.getSiteHWMs({id:thisSite.site_id}).$promise:void 0},i:"INSTRUMENT",baroSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"baro_view"}).$promise:void 0},metSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"met_view"}).$promise:void 0},rdgSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"rdg_view"}).$promise:void 0},stormSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"stormtide_view"}).$promise:void 0},waveSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"waveheight_view"}).$promise:void 0},presTempSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"pressuretemp_view"}).$promise:void 0},thermSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"therm_view"}).$promise:void 0},webcamSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"webcam_view"}).$promise:void 0},raingageSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"raingage_view"}).$promise:void 0}}},aSite:{controller:"siteCtrl",templateUrl:"component/site/siteInfoView.html"},op:{controller:"objectivePointCtrl",templateUrl:"component/objectivePoint/objectivePointList.html"},sensor:{controller:"sensorCtrl",templateUrl:"component/sensor/sensorList.html"},hwm:{controller:"hwmCtrl",templateUrl:"component/hwm/hwmList.html"},file:{controller:"fileCtrl",templateUrl:"component/file/fileList.html"},peak:{controller:"peakCtrl",templateUrl:"component/peak/peakList.html"}}}).state("quickCreate",{url:"/QuickCreate/:id",templateUrl:"component/site/quickCreate.html",controller:"quickCreateCtrl",authenticate:!0,resolve:{whichQuick:function($stateParams){return $stateParams.id},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},st:"STATE",allStates:function(st){return st.getAll().$promise},c:"COUNTIES",allCounties:function(c){return c.getAll().$promise},opt:"OP_TYPE",allOPTypes:function(opt){return opt.getAll().$promise},vertDats:"VERTICAL_DATUM",allVertDatums:function(vertDats){return vertDats.getAll().$promise},vertColMet:"VERTICAL_COLL_METHOD",allVertColMethods:function(vertColMet){return vertColMet.getAll().$promise},opQual:"OP_QUALITY",allOPQualities:function(opQual){return opQual.getAll().$promise},hwmt:"HWM_TYPE",allHWMTypes:function(hwmt,$stateParams){return"HWM"==$stateParams.id?hwmt.getAll().$promise:void 0},hq:"HWM_QUALITY",allHWMQualities:function(hq,$stateParams){return"HWM"==$stateParams.id?hq.getAll().$promise:void 0},m:"MARKER",allMarkers:function(m,$stateParams){return"HWM"==$stateParams.id?m.getAll().$promise:void 0},dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},e:"EVENT",allEvents:function(e,$stateParams){return"Sensor"==$stateParams.id?e.getAll().$promise:void 0},sent:"SENSOR_TYPE",allSensorTypes:function(sent,$stateParams){return"Sensor"==$stateParams.id?sent.getAll().$promise:void 0},sb:"SENSOR_BRAND",allSensorBrands:function(sb,$stateParams){return"Sensor"==$stateParams.id?sb.getAll().$promise:void 0},ht:"HOUSING_TYPE",allHousingTypes:function(ht){return ht.getAll().$promise}}})}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudC9TVE5DdHJsLmpzIiwic2hhcmVkL2RpcmVjdGl2ZXMvU1RORGlyZWN0aXZlcy5qcyIsImNvbXBvbmVudC9zZXR0aW5ncy9zZXR0aW5nc0N0cmwuanMiLCJjb21wb25lbnQvc2l0ZVNlYXJjaC9zaXRlU2VhcmNoQ3RybC5qcyIsImNvbXBvbmVudC9zZW5zb3Ivc2Vuc29yTW9kYWxDdHJsLmpzIiwiY29tcG9uZW50L3NlbnNvci9zZW5zb3JDdHJsLmpzIiwiY29tcG9uZW50L3NpdGUvc2l0ZU1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9zaXRlL3NpdGVNYXBDdHJsLmpzIiwiY29tcG9uZW50L3NpdGUvc2l0ZUN0cmwuanMiLCJjb21wb25lbnQvc2l0ZS9xdWlja0NyZWF0ZUN0cmwuanMiLCJjb21wb25lbnQvcmVzb3VyY2VzL3Jlc291cmNlc0N0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL3N1Ym1pdFJlcG9ydEN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL3JlcG9ydE1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nRGFzaGJvYXJkQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nQ3RybC1jNGI4YzYxMzU0LmpzIiwiY29tcG9uZW50L3JlcG9ydGluZy9wcm9qZWN0QWxlcnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL2NvbmZpcm1SZXBvcnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvbWVtYmVyL21lbWJlck1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9tZW1iZXIvbWVtYmVySW5mb0N0cmwuanMiLCJjb21wb25lbnQvbWVtYmVyL21lbWJlckN0cmwuanMiLCJjb21wb25lbnQvcGVhay9wZWFrTW9kYWxDdHJsLmpzIiwiY29tcG9uZW50L3BlYWsvcGVha0N0cmwuanMiLCJjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvT2JqZWN0aXZlUG9pbnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvb2JqZWN0aXZlUG9pbnRDdHJsLmpzIiwiY29tcG9uZW50L21hcC9NYXBTaXRlSW5mb0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnQvbWFwL01hcFNlbnNvclByb3Bvc2VDb250cm9sbGVyLmpzIiwiY29tcG9uZW50L21hcC9NYXBQZWFrc0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnQvbWFwL01hcEZpbHRlcnNDb250cm9sbGVyLmpzIiwiY29tcG9uZW50L21hcC9tYXBDdHJsLmpzIiwiY29tcG9uZW50L2h3bS9xdWlja0hXTUN0cmwuanMiLCJjb21wb25lbnQvaHdtL2h3bU1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9od20vaHdtQ3RybC5qcyIsImNvbXBvbmVudC9od20vaGlzdG9yaWNIV01DdHJsLmpzIiwiY29tcG9uZW50L2h3bS9idWxrSFdNQ3RybC5qcyIsImNvbXBvbmVudC9od20vYnVsa0hXTUFkakN0cmwuanMiLCJjb21wb25lbnQvbWFpbi9tYWluQ3RybC5qcyIsImNvbXBvbmVudC9sb2dJbk91dC9sb2dJbk91dEN0cmwuanMiLCJjb21wb25lbnQvaGVscC9oZWxwQ3RybC5qcyIsImNvbXBvbmVudC9maWxlL2ZpbGVNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvZmlsZS9maWxlQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudFNlc3Npb25Nb2RhbEN0cmwuanMiLCJjb21wb25lbnQvZXZlbnQvZXZlbnRTZXNzaW9uQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudE1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudEluZm9DdHJsLmpzIiwiY29tcG9uZW50L2V2ZW50L2V2ZW50Q3RybC5qcyIsImNvbXBvbmVudC9hcHByb3ZhbC9hcHByb3ZhbEN0cmwuanMiLCJzZXJ2aWNlcy9TVE5SZXNvdXJjZS5qcyIsInNlcnZpY2VzL2J1c2luZXNzU2VydmljZXMuanMiLCJjb21wb25lbnQvTW9kYWxzQ3RybC5qcyIsImNvbXBvbmVudC9qcXVlcnkuaW5wdXRtYXNrLmJ1bmRsZS5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJTVE5Db250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIlBBU1NXT1JEIiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwiZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZGF0YSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJjaGFydCIsImVsZXZhdGlvbkRhdGEiLCJzcGxpdCIsImQzIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsInNlbGVjdEFsbCIsImVudGVyIiwidHJhbnNpdGlvbiIsImVhc2UiLCJzdHlsZSIsImQiLCJ0ZXh0IiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIm1vZGVsIiwic2VhcmNoQnkiLCJzZWFyY2hUZXJtIiwidGVtcGxhdGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiJGh0dHAiLCJTSVRFIiwiJHVpYk1vZGFsIiwidmFsIiwicGxhY2Vob2xkZXIiLCJJbmRleFNlYXJjaFNpdGVzIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiQWNjZXB0IiwiZ2V0U2VhcmNoZWRTaXRlIiwiYnlTaXRlTm8iLCJyZXNwIiwic2l0ZVNlYXJjaFJlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsImJ5U2l0ZUlkIiwiYnlTaXRlTmFtZSIsInMiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJlcnJvck1vZGFsIiwib3BlbiIsIiR1aWJNb2RhbEluc3RhbmNlIiwib2siLCJjbG9zZSIsInNpemUiLCJyZXN1bHQiLCJ0aGVuIiwiZ28iLCJpZCIsInNpdGVfaWQiLCJiaW5kIiwiZXZlbnQiLCJ3aGljaCIsIiRhcHBseSIsIiRldmFsIiwibmdFbnRlciIsInByZXZlbnREZWZhdWx0IiwicmVxdWlyZSIsIm1vZGVsQ3RybCIsIiRwYXJzZXJzIiwicHVzaCIsImlucHV0VmFsdWUiLCJ0cmFuc2Zvcm1lZElucHV0IiwiJHNldFZpZXdWYWx1ZSIsIiRyZW5kZXIiLCIkZm9ybWF0dGVycyIsInNoaWZ0IiwiYXR0cmlidXRlcyIsImZvY3VzIiwiZ29CYWNrIiwiaGlzdG9yeSIsImJhY2siLCJyZWdleCIsImVsbSIsImN0cmwiLCJ1bmJpbmQiLCJ2aWV3VmFsdWUiLCJ0ZXN0IiwidGFyZ2V0IiwidmFsdWUiLCIkc2V0VmFsaWRpdHkiLCJzYW1lQXMiLCIkbW9kZWxWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIiR0aW1lb3V0IiwiaW5pdGlhbEhlaWdodCIsImhlaWdodCIsInJlc2l6ZSIsInNjcm9sbEhlaWdodCIsIm9uIiwiZWwiLCJpbnB1dG1hc2siLCJteUlucHV0TWFzayIsIm5nTW9kZWwiLCJmaWxlTW9kZWwiLCJtb2RlbFNldHRlciIsImFzc2lnbiIsImZpbGVzIiwibmdNb2RlbEN0cmwiLCJmcm9tVXNlciIsInBhdHRlcm4iLCJlbGVtIiwibGltaXQiLCJwYXJzZUludCIsImxhYmVsTGltaXRMZW5ndGgiLCJlIiwidGhpcyIsImxlbmd0aCIsIm9wdGlvbnMiLCJIaWdoY2hhcnRzIiwiU2V0dGluZ3NDb250cm9sbGVycyIsIiRyb290U2NvcGUiLCIkY29va2llcyIsIiRsb2NhdGlvbiIsImdldCIsImF1dGgiLCJwYXRoIiwidGhpc1BhZ2UiLCJhY3RpdmVNZW51Iiwic2V0dGluZ3MiLCJjaGFuZ2VWaWV3IiwidmlldyIsInN0YXRlTGlzdCIsInNlbnNvclR5cGVzIiwibmV0d29ya05hbWVzIiwic2Vzc2lvbkV2ZW50Iiwic3RhdGVzIiwic2VuVHlwZXMiLCJuZXROYW1lcyIsIkNob3NlbiIsImNob3NlblN0YXRlcyIsInNpdGVSZXNwb25zZSIsImNoZWNrYm94TW9kZWwiLCJod21Pbmx5Iiwic2VuT25seSIsInJkZ09ubHkiLCJvcERlZmluZWQiLCJzb3J0X2J5IiwibmV3U29ydGluZ09yZGVyIiwic29ydGluZ09yZGVyIiwicmV2ZXJzZSIsIiQiLCJlYWNoIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNlYXJjaFBhcmFtcyIsInRoaXNTZWFyY2giLCJOdW1iZXIiLCJpIiwieSIsInN0YXRlIiwic3RhdGVfYWJicmV2Iiwic2VsZWN0ZWQiLCJzZW5zb3IiLCJTZW5zb3JUeXBlIiwibmV0d29yayIsIk5ldHdvcmtOYW1lIiwic3VydmV5IiwiSFdNU3VydmV5ZWQiLCJIV01Pbmx5IiwiU2Vuc29yT25seSIsIlJER09ubHkiLCJPUERlZmluZWQiLCJnZXRGaWx0ZXJlZFNpdGVzIiwiRXZlbnQiLCJTdGF0ZSIsImpvaW4iLCJyZXNwb25zZSIsInNpdGVMaXN0Iiwic3RhdGVJc0xvYWRpbmciLCJzaG93TG9hZGluZyIsInRvYXN0ciIsImVycm9yIiwic3RhdHVzVGV4dCIsInNlYXJjaFNpdGVzIiwic3RhdGVTdHJpbmciLCJldklEIiwic3RhdGVDbGljayIsImluZCIsImluZGV4T2YiLCJzcGxpY2UiLCJjbGVhckZpbHRlcnMiLCJmb3JFYWNoIiwic3QiLCJNb2RhbENvbnRyb2xsZXJzIiwiJHNjZSIsIlNFUlZFUl9VUkwiLCJGSUxFX1NUQU1QIiwiYWxsRHJvcGRvd25zIiwiYWdlbmN5TGlzdCIsIlNpdGVfRmlsZXMiLCJhbGxEZXBUeXBlcyIsInRoaXNTZW5zb3IiLCJTZW5zb3JTaXRlIiwic2l0ZU9QcyIsImFsbE1lbWJlcnMiLCJJTlNUUlVNRU5UIiwiSU5TVFJVTUVOVF9TVEFUVVMiLCJEQVRBX0ZJTEUiLCJGSUxFIiwiU09VUkNFIiwiT1BfTUVBU1VSRSIsInNlbnNvclR5cGVMaXN0Iiwic2Vuc29yQnJhbmRMaXN0IiwiaG91c2VUeXBlTGlzdCIsImV2ZW50TGlzdCIsImZpbGVUeXBlTGlzdCIsInZlcnREYXR1bUxpc3QiLCJkZXBTZW5maWxlSXNVcGxvYWRpbmciLCJhbGxTRmlsZXMiLCJnZXRBbGxTaXRlRmlsZXMiLCJEZXBTZW5zb3JGaWxlcyIsImZpbHRlciIsInNmIiwiaW5zdHJ1bWVudF9pZCIsImRlcFNlbnNJbWFnZUZpbGVzIiwiaGYiLCJmaWxldHlwZV9pZCIsInNob3dGaWxlRm9ybSIsInNob3dOV0lTRmlsZUZvcm0iLCJPUHNQcmVzZW50IiwiT1BzRm9yVGFwZURvd24iLCJyZW1vdmVPUExpc3QiLCJ0YXBlRG93blRhYmxlIiwiZGVwVHlwZUxpc3QiLCJmaWx0ZXJlZERlcGxveW1lbnRUeXBlcyIsInRpbWVab25lTGlzdCIsInVzZXJSb2xlIiwic2hvd0V2ZW50REQiLCJhZG1pbkNoYW5nZWQiLCJJbnRlcnZhbFR5cGUiLCJ3aGljaEJ1dHRvbiIsInNlcnZlclVSTCIsIm53aXNIZWFkZXJUaXAiLCJ0cnVzdEFzSHRtbCIsIkRFUHZhbCIsIlJFVHZhbCIsInNlbnNvckRhdGFOV0lTIiwiZGVwT3BlbiIsInNGaWxlT3BlbiIsIk5XSVNGaWxlT3BlbiIsImNob3BwZXJSZXNwb25zZTEiLCJjaG9wcGVyUmVzcG9uc2UxS2V5cyIsImNoYXJ0T3B0aW9uczEiLCJjaGFydERhdGEiLCJBcnJheSIsInByb3RvdHlwZSIsInppcCIsImFyciIsIm1hcCIsInJ1bkNob3BwZXIiLCJjaGFydE9iaiIsInhBeGlzIiwicmVtb3ZlUGxvdExpbmUiLCJhRmlsZSIsIkZpbGUiLCJBdXRob3JpemF0aW9uIiwiZmlsZVBhcnRzIiwiRmlsZUVudGl0eSIsInRoaXNTZW5zb3JTaXRlIiwiZmQiLCJGb3JtRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzbWxhbGxMb2FkZXJHbyIsInJ1bkNob3BwZXJTY3JpcHQiLCIkcHJvbWlzZSIsIk9iamVjdCIsImtleXMiLCJFcnJvciIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJkaXNtaXNzIiwicmVzb2x2ZSIsInRpbWUiLCJwcmVzc3VyZSIsInNEYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZURhdGUiLCJzZCIsImdldERhdGVUaW1lUGFydHMiLCJlZCIsImRhdGFmaWxlIiwiZ29vZF9zdGFydCIsImdvb2RfZW5kIiwiZXZlbnRzIiwibG9hZCIsInpvb21UeXBlIiwicmVzZXRab29tQnV0dG9uIiwicG9zaXRpb24iLCJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJwYW5uaW5nIiwicGFuS2V5IiwiYm9vc3RUaHJlc2hvbGQiLCJwbG90T3B0aW9ucyIsInNlcmllcyIsImNsaWNrIiwicG9pbnRDbGljayIsImNob3NlbkRhdGUiLCJ4RXZlbnQiLCJ3aGljaERhdGUiLCJhbGVydCIsInBhcnRzIiwiY2FuY2VsIiwidGhpc0RhdGUiLCJwb2ludCIsImNhdGVnb3J5IiwiY2hhcnRYIiwiYWRkUGxvdExpbmUiLCJ0b1ZhbHVlIiwiY29sb3IiLCJ3aWR0aCIsInpJbmRleCIsImxhYmVsIiwidGhlRGF0ZSIsImFsbG93UG9pbnRTZWxlY3QiLCJjdXJzb3IiLCJtb3VzZU92ZXIiLCJoYWxvIiwiY2xhc3MiLCJ0b0Zyb250IiwibWFya2VyIiwiZW5hYmxlZCIsInRpdGxlIiwic3VidGl0bGUiLCJ0eXBlIiwiZGF0ZVRpbWVMYWJlbEZvcm1hdHMiLCJzZWNvbmQiLCJtaW51dGUiLCJob3VyIiwiZGF5Iiwid2VlayIsIm1vbnRoIiwieWVhciIsIm9mZnNldCIsInlBeGlzIiwibGFiZWxzIiwiZm9ybWF0IiwiY29uc29sZSIsImxvZyIsImlzRGF0ZSIsInRvU3RyaW5nIiwiY2FsbCIsInN1YnN0ciIsIm0iLCJkYSIsImgiLCJtaSIsInNlYyIsImRhdGVPcHRpb25zIiwic3RhcnRpbmdEYXkiLCJzaG93V2Vla3MiLCJkYXRlcGlja3JzIiwiJGV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwic3RhbXAiLCJnZXRTdGFtcCIsImZpbGVJdGVtRXhpc3RzIiwic2F2ZUZpbGVVcGxvYWQiLCJGaWxlMSIsInNGaWxlSXNVcGxvYWRpbmciLCJmaWxlX2lkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicGhvdG9fZGlyZWN0aW9uIiwibGF0aXR1ZGVfZGQiLCJsb25naXR1ZGVfZGQiLCJmaWxlX2RhdGUiLCJod21faWQiLCJzb3VyY2VfaWQiLCJkYXRhX2ZpbGVfaWQiLCJwaG90b19kYXRlIiwiaXNfbndpcyIsIm9iamVjdGl2ZV9wb2ludF9pZCIsInVwbG9hZEZpbGUiLCJmcmVzcG9uc2UiLCJzdWNjZXNzIiwic3JjIiwic2V0U3RhbXAiLCJpc1Bob3RvIiwiZmlsZUJlbG9uZ3NUbyIsImV4aXN0SU1HRmlsZUluZGV4IiwiZXhpc3RGaWxlSW5kZXgiLCJhbGxTRmlsZUluZGV4Iiwic2V0QWxsU2l0ZUZpbGVzIiwic2hvd0ltYWdlTW9kYWwiLCJpbWFnZSIsImltYWdlSWQiLCJzZXRTUkMiLCJzaG93RmlsZSIsImZpbGUiLCJmaWxlVHlwZXMiLCJhZ2VuY2llcyIsImFTb3VyY2UiLCJjb3B5IiwiZ2V0RmlsZUl0ZW0iLCJMZW5ndGgiLCJmaWxlVHlwZSIsImZ0IiwiZmlsZXR5cGUiLCJmSSIsImxhc3RJbmRleE9mIiwiZmlsZUV4dCIsInN1YnN0cmluZyIsIm1hdGNoIiwicXVlcnkiLCJGVUxMbmFtZSIsInNvdXJjZV9uYW1lIiwiYWdlbmN5TmFtZUZvckNhcCIsImEiLCJhZ2VuY3lfaWQiLCJhZ2VuY3lfbmFtZSIsImRmIiwicHJvY2Vzc29yIiwibWVtYmVyX2lkIiwicHJvY2Vzc29yX2lkIiwiY29sbGVjdF9kYXRlIiwiZm5hbWUiLCJsbmFtZSIsImR0IiwiZ2V0VGltZVpvbmVTdGFtcCIsInRpbWVfem9uZSIsInVwZGF0ZUFnZW5jeUZvckNhcHRpb24iLCJjcmVhdGVGaWxlIiwidmFsaWQiLCJmaXhEYXRlIiwibWlzc2luZ0RhdGUiLCJ1dGNTdGFydERhdGVUaW1lIiwidG9VVENTdHJpbmciLCJ1dGNFbmREYXRlVGltZSIsInNpIiwiZWkiLCJkYXRhZmlsZUlEIiwic2F2ZSIsImRmUmVzcG9uc2UiLCJ0aGVTb3VyY2UiLCJzYXZlRmlsZSIsInVwZGF0ZSIsImZpbGVSZXNwb25zZSIsImRlbGV0ZUZpbGUiLCJEZWxldGVNb2RhbEluc3RhbmNlIiwiYmFja2Ryb3AiLCJrZXlib2FyZCIsInRlbXBsYXRlVXJsIiwibmFtZVRvUmVtb3ZlIiwid2hhdCIsImZpbGVUb1JlbW92ZSIsImNhbmNlbEZpbGUiLCJzaG93TldJU0ZpbGUiLCJmIiwic2Vuc29yTldJU0ZpbGVzIiwiTldJU0ZpbGUiLCJGaWxlVHlwZSIsIk5XSVNERiIsIm53aXNQcm9jZXNzb3IiLCJ1c2dzX3NpZCIsImFTZW5zb3IiLCJwb3N0QXBwcm92YWxGb3JOV0lTZmlsZSIsIkRGaWQiLCJhcHByb3ZlTldJU0RGIiwiYXBwcm92YWxSZXNwb25zZSIsImFwcHJvdmFsX2lkIiwiY3JlYXRlTldJU0ZpbGUiLCJkZXBOV0lTU2VuZmlsZUlzVXBsb2FkaW5nIiwiTmRmUmVzcG9uc2UiLCJGcmVzcG9uc2UiLCJzYXZlTldJU0ZpbGUiLCJkZWxldGVOV0lTRmlsZSIsImNhbmNlbE5XSVNGaWxlIiwiT1BjaG9zZW4iLCJvcENob3NlbiIsIm9wSSIsIm8iLCJPUE1lYXN1cmUiLCJvcF9uYW1lIiwiZWxldmF0aW9uIiwiZWxldl9mdCIsIlZkYXR1bSIsInZkIiwiZGF0dW1faWQiLCJ2ZGF0dW1faWQiLCJkYXR1bV9hYmJyZXZpYXRpb24iLCJhU2Vuc1N0YXR1cyIsInN0YXR1c190eXBlX2lkIiwiZGVwVGFwZUNvcHkiLCJkZXBTdHVmZkNvcHkiLCJyZW1vdmVPUE1lYXMiLCJ5ZXNPck5vIiwiY3JlYXRlT3JFZGl0IiwidGFwZURvd25Ub1JlbW92ZSIsInRJbmQiLCJvcF9tZWFzdXJlbWVudHNfaWQiLCJnc19lbGV2YXRpb24iLCJ3c19lbGV2YXRpb24iLCJzZW5zb3JfZWxldmF0aW9uIiwiZHNlbnQiLCJzZW5kVGhpcyIsInpvbmUiLCJzaG93Q2hhbmdlRXZlbnRERCIsIkNoYW5nZUV2ZW50IiwiRXZlbnROYW1lIiwiZXZlbnRfaWQiLCJldmVudF9uYW1lIiwiZ2V0RGVwVHlwZXMiLCJtYXRjaGluZ1NlbnNEZXBsaXN0Iiwic2Vuc29yX3R5cGVfaWQiLCJkZXBsb3ltZW50dHlwZXMiLCJkZXBsb3ltZW50X3R5cGVfaWQiLCJMb2dnZWRJbk1lbWJlciIsInNlbnNvck9iamVjdFRvU2VuZEJhY2siLCJzZW5kQmFjayIsImlzTnVtIiwiZXZ0IiwidGhlRXZlbnQiLCJ3aW5kb3ciLCJrZXkiLCJrZXlDb2RlIiwicmV0dXJuVmFsdWUiLCJkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCIsInciLCJ1dGNEYXRlVGltZVMiLCJ0aW1lX3N0YW1wIiwidXRjRGF0ZVRpbWVEIiwiRGkiLCJ1cGRhdGVkU2Vuc29yIiwidXBkYXRlZFNlblN0YXQiLCJpbnRlcnZhbCIsImRlcGxveW1lbnRUeXBlIiwibWV0aG9kIiwiaG91c2luZ1R5cGUiLCJob3VzaW5nX3R5cGVfaWQiLCJ0eXBlX25hbWUiLCJzZW5zb3JCcmFuZCIsInNlbnNvcl9icmFuZF9pZCIsImJyYW5kX25hbWUiLCJzZW5zb3JUeXBlIiwidCIsImluc3RydW1lbnRfc3RhdHVzX2lkIiwic3RhdFJlc3BvbnNlIiwicnQiLCJpZFRvUmVtb3ZlIiwiYXQiLCJERVB0aGlzVGFwZSIsInRhcGVSZXNwb25zZSIsImluc3RydW1lbnRfc3RhdHVzZXNIb2xkZXIiLCJpbnN0cnVtZW50X3N0YXR1cyIsImRlcGxveSIsIlNlbnNvckZvcm0iLCIkdmFsaWQiLCJsb2NhdGlvbl9kZXNjcmlwdGlvbiIsInN0b3JlVFoiLCJjcmVhdGVkU2Vuc29yIiwiZGVwU2VuU3RhdCIsInRoaXNUYXBlIiwicHJldmlvdXNTdGF0ZVN0YXR1cyIsImluc3RydW1lbnRJRCIsInN0YXREYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInNsaWNlIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImRlbGV0ZVMiLCJzZW5zb3JUb1JlbW92ZSIsImwiLCJhaSIsInRpbWVQYXJ0cyIsIkRlcGxveWVyIiwiZ2V0SW5zdFN0YXRPUE1lYXN1cmVzIiwiaW5zdHJ1bWVudFN0YXR1c0lkIiwiciIsInNlbnNNZWFzdXJlcyIsIndoaWNoT1AiLCJvcCIsIkRlcHRpbWVQYXJ0cyIsIm15RGF0YSIsIndhbm5hRWRpdERlcCIsImNhbmNlbERlcEVkaXQiLCJhbGxFdmVudExpc3QiLCJhbGxWRGF0dW1MaXN0IiwiYWxsU3RhdHVzVHlwZXMiLCJhbGxJbnN0Q29sbENvbmQiLCJkZXBTZW5zU3RhdHVzIiwiVkRhdHVtIiwidiIsIkRFUHRhcGVEb3duVGFibGUiLCJzdGF0dXNUeXBlTGlzdCIsImNvbGxlY3RDb25kTGlzdCIsImFSZXRyaWV2YWwiLCJkdHBhcnRzIiwiUmV0cmlldmVyIiwiYW0iLCJ1dGNEYXRlVGltZSIsImRlcFRpbWVTdGFtcGI0U2VuZCIsInJldHVyblRoaXMiLCJyZXRyaWV2ZVMiLCJkZXBTZW5UUyIsInJldFNlblRTIiwidHJpZ2dlciIsImNyZWF0ZVJldFNlbnMiLCJpbnN0Q29sbGVjdGlvbiIsImluc3RfY29sbGVjdGlvbl9pZCIsImNvbmRpdGlvbiIsIiRmaWx0ZXIiLCJhbGxEZXBEcm9wZG93bnMiLCJhbGxFdmVudHMiLCJhbGxFdmVudERhdGFGaWxlcyIsIlNpdGVfU2NyaXB0IiwiY2FsY0Rpc3RhbmNlIiwibGF0MSIsImxvbjEiLCJyYWRsYXQxIiwiTWF0aCIsIlBJIiwicmFkbGF0MiIsInRoZXRhIiwicmFkdGhldGEiLCJkaXN0Iiwic2luIiwiY29zIiwiYWNvcyIsImZ1bGxTZW5maWxlSXNVcGxvYWRpbmciLCJzaG93UHJvY2Vzc2luZyIsInN0b3JtU2VjdGlvbiIsInNlbnNvckZpbGVzIiwic2Vuc0ltYWdlRmlsZXMiLCJERVBPUHNGb3JUYXBlRG93biIsIlJFVE9Qc0ZvclRhcGVEb3duIiwiZXZlbnREYXRhRmlsZXMiLCJpczRIeiIsIkRlcGxveWVkU2Vuc29yU3RhdCIsImluc3QiLCJERVByZW1vdmVPUExpc3QiLCJERVBPUGNob3NlbiIsIkRFUG9wQ2hvc2VuIiwiREVQT1BNZWFzdXJlIiwiREVQcmVtb3ZlT1BNZWFzIiwiREVQb2siLCJERVBjYW5jZWwiLCJERVB0YXBlRG93blRvUmVtb3ZlIiwiREVQdEluZCIsIkRFUHJlc3BvbnNlIiwiREVQc2Vuc01lYXN1cmVzIiwiUmV0cmlldmVkU2Vuc29yU3RhdCIsIm1vc3RSZWNlbnRTdGF0dXMiLCJ2ZGF0dW1OYW1lIiwiUkVUcmVtb3ZlT1BMaXN0IiwiUkVUdGFwZURvd25UYWJsZSIsIlJFVE9QY2hvc2VuIiwiUkVUb3BDaG9zZW4iLCJSRVRPUE1lYXN1cmUiLCJyZXRUYXBlQ29weSIsInJldFN0dWZmQ29weSIsIlJFVHJlbW92ZU9QTWVhcyIsIlJFVG9rIiwiUkVUY2FuY2VsIiwiUkVUdGFwZURvd25Ub1JlbW92ZSIsIlJFVHRJbmQiLCJSRVRyZXNwb25zZSIsIlJFVHNlbnNNZWFzdXJlcyIsInJldE9wZW4iLCJzZW5zVHlwZSIsInNhdmVEZXBsb3llZCIsIkRFUGlkVG9SZW1vdmUiLCJhbGxTdGF0dXNIb2xkZXIiLCJ3YW5uYUVkaXRSZXQiLCJzYXZlUmV0cmlldmVkIiwidXBkYXRlZFJldFNlbnNvciIsInN0YXRzSG9sZGVyIiwiUkVUaWRUb1JlbW92ZSIsIlJFVHRoaXNUYXBlIiwiY2FuY2VsUmV0RWRpdCIsIkFwcHJvdmFsSW5mbyIsImdldERGQXBwcm92YWwiLCJhcHByb3ZhbERhdGUiLCJhcHByb3ZhbF9kYXRlIiwiTWVtYmVyIiwiYW1lbSIsImFwcHJvdmVERiIsInRoaXNERiIsImFwcHJvdmVNb2RhbCIsImFwcHJvdmVJdCIsInVuQXBwcm92ZURGIiwidW5hcHByb3ZlTW9kYWwiLCJ1bkFwcHJvdmVJdCIsInJ1bkFpclNjcmlwdCIsInNjcmlwdF9wYXJlbnQiLCJyZXJ1bk1vZGFsIiwidGhlRmlsZSIsIm5vIiwieWVzIiwiYWZpbGUiLCJwcm9jZXNzZWRGaWxlQ291bnQiLCJtYXRjaENudCIsImFpckRGSUQiLCJ1c2VybmFtZSIsInNldElzU2NyaXB0UnVubmluZyIsInNob3dTdG9ybVNlY3Rpb24iLCJkaXN0YW5jZSIsInNvcnQiLCJiIiwicGFyc2VGbG9hdCIsInBhZ2luYXRpb24iLCJjdXJyZW50UGFnZSIsIm1heFBhZ2luYXRpb25TaXplIiwiaXRlbXNQZXJQYWdlIiwidXBkYXRlUGFnZUluZGV4ZXMiLCJmaXJzdEluZGV4IiwibGFzdEluZGV4IiwidXBkYXRlQ2hvc2VuQWlyUmFkaW8iLCJkZmlsZSIsInJ1blRoZVN0b3JtU2NyaXB0IiwiYWlyREYiLCJnZXRGdWxsSW5zdHJ1bWVudCIsImFpclNlbnNvciIsIndhdGVyREYiLCJib29sVmFsIiwicnVuU3Rvcm1TY3JpcHQiLCJzZWFERklEIiwiaGVydHoiLCJ3YXRlckZpbGUiLCJ3YXRBaXJJRFMiLCJhbHJlYWR5UmFuIiwic2Vuc0ZpbGUiLCJyZXJ1blN0b3JtTW9kYWwiLCJ0aGVBaXJGaWxlIiwidGhlV2F0ZXJGaWxlIiwiZmlsZXNBcnJheSIsImJvdGhGaWxlcyIsImNob3BwZXJSZXNwb25zZTIiLCJjaG9wcGVyUmVzcG9uc2UyS2V5cyIsImNoYXJ0T3B0aW9uczIiLCIkcSIsInRoaXNTaXRlIiwiSW5zdHJ1bWVudF9TZXJ2aWNlIiwidGhpc1NpdGVTZW5zb3JzIiwiYWxsU2Vuc29yQnJhbmRzIiwiYWxsQWdlbmNpZXMiLCJhbGxWZXJ0RGF0dW1zIiwiYWxsRGVwbG95VHlwZXMiLCJhbGxTZW5zb3JUeXBlcyIsImFsbEhvdXNpbmdUeXBlcyIsImFsbEZpbGVUeXBlcyIsIk1FTUJFUiIsIkRFUExPWU1FTlRfVFlQRSIsIlNUQVRVU19UWVBFIiwiSU5TVF9DT0xMX0NPTkRJVElPTiIsInNlbnNvckNvdW50IiwidG90YWwiLCJkZXBsb3lUeXBlTGlzdCIsInRlbXBEZXBUeXBlSUQiLCJzZW5zRGVwVHlwZXMiLCJzaG93UHJvcG9zZWQiLCJjb3JyZWN0T3JkZXJTUyIsInNlbnNvclN0YXR1c2VzIiwicHJvcG9zZWRTdGF0IiwicHMiLCJkZXBsb3llZFN0YXQiLCJyZXRMb3N0U3RhdCIsIlNpdGVTZW5zb3JzIiwic2V0QWxsU2l0ZVNlbnNvcnMiLCJTZW5zRmlsZVR5cGVzIiwic2Z0Iiwic2hvd0hpZGVQcm9wb3NlZCIsIkFkZFByb3Bvc2VkIiwiVGltZV9TVEFNUCIsInByb3Bvc2VkVG9BZGQiLCJwcm9wU3RhdFRvQWRkIiwic0lEIiwic2R0IiwieCIsImNyZWF0ZWRQcm9wU2Vuc29yIiwiZHRsIiwiZGVwIiwic2hvd1JldHJpZXZlTW9kYWwiLCJzZW5zb3JDbGlja2VkIiwiaW5kZXhDbGlja2VkIiwiYWxsaW5kZXgiLCJtb2RhbEluc3RhbmNlIiwid2luZG93Q2xhc3MiLCJnZXRTaXRlT1BzIiwiZ2V0QWxsIiwicmV0cmlldmVkU2Vuc29yIiwiaW5kZXhDbGlja2VkMSIsInNob3dQcm9wb3NlZFNlbnNvciIsInByb3Bvc2VkU2Vuc29yQ2xpY2tlZCIsInByb3BJbmRleCIsInByb3BNb2RhbEluc3RhbmNlIiwicHJvcG9zZWRTZW5zb3IiLCJ0aGlzUHJvcG9zZWRTZW5zb3IiLCJkZWxldGVQcm9wb3NlZCIsInNob3dTZW5zb3JNb2RhbCIsInBhc3NBbGxMaXN0cyIsInNob3dGdWxsU2Vuc29yTW9kYWwiLCJkZXBsb3llZFN0dWZmIiwiZ2V0RXZlbnREYXRhVmlldyIsImV2ZW50SWQiLCJzZXNzaW9uRXZlbnROYW1lIiwic2Vzc2lvbkV2ZW50RXhpc3RzIiwibGVhZmxldE1hcmtlckV2ZW50cyIsImFsbERyb3BEb3duUGFydHMiLCJsYXRsb25nIiwidGhpc1NpdGVTdHVmZiIsIlNJVEVfSE9VU0lORyIsIkxBTkRPV05FUl9DT05UQUNUIiwiR0VPQ09ERSIsIkhvcml6b250YWxEYXR1bUxpc3QiLCJIb3JDb2xsTWV0aG9kTGlzdCIsIlN0YXRlTGlzdCIsIkFsbENvdW50eUxpc3QiLCJzdGF0ZUNvdW50eUxpc3QiLCJETVMiLCJhbGxIb3VzaW5nVHlwZUxpc3QiLCJEZXBQcmlvcml0eUxpc3QiLCJOZXROYW1lTGlzdCIsIk5ldFR5cGVMaXN0IiwiUHJvcG9zZWRTZW5zIiwiU2Vuc29yRGVwbG95bWVudCIsImNsb3NlU2l0ZXMiLCJzaG93TWFwIiwic2l0ZUxhdCIsInNpdGVMb25nIiwiaHRtbERlc2NyaXB0aW9uVGlwIiwibWFwQ2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsIm1hcE1hcmtlcnMiLCJlbmFibGUiLCJnZXRBdmFpbGFibGVFdmVudHMiLCJpY29ucyIsInN0biIsImljb25TaXplIiwiY2xhc3NOYW1lIiwibmV3U1ROIiwiaWNvbkFuY2hvciIsImF6aW11dGgiLCJkZWciLCJtaW4iLCJhemkiLCJ0b0ZpeGVkIiwidXBkYXRlQWRkcmVzc09ubHkiLCJMQURlZyIsImFTaXRlIiwiTEFNaW4iLCJMQVNlYyIsIkxPRGVnIiwiTE9NaW4iLCJMT1NlYyIsImdldEFkZHJlc3NQYXJ0cyIsIkxvbmdpdHVkZSIsIkxhdGl0dWRlIiwiZ2VvZ3JhcGhpZXMiLCJDb3VudGllcyIsInN0YXRlRklQUyIsIlNUQVRFIiwiY291bnR5TmFtZSIsIk5BTUUiLCJ0aGlzU3RhdGVJRCIsImMiLCJzdGF0ZV9maXAiLCJzdGF0ZV9pZCIsInRoaXNTdGF0ZSIsImNvdW50eSIsIiRvbiIsImFyZ3MiLCJkcmFnZW5kTG9jYXRpb24iLCJsYXRETVMiLCJkZWdfdG9fZG1zIiwibGFkRE1TYXJyYXkiLCJsb25nRE1TIiwibG9uZ0RNU2FycmF5IiwiZ2V0QWRkcmVzcyIsImlzTmFOIiwiZ2V0UHJveGltaXR5U2l0ZXMiLCJCdWZmZXIiLCJzaXRlX25vIiwiaWNvbiIsImRyYWdnYWJsZSIsImhvdXNlRGlydHkiLCJuZXRUeXBlRGlydHkiLCJzaXRlSG91c2VUeXBlc1RhYmxlIiwiaGRhdHVtX2lkIiwiaGNvbGxlY3RfbWV0aG9kX2lkIiwiZGVjRGVnT1JkbXMiLCJvcmlnaW5hbFNpdGVIb3VzaW5ncyIsImNoZWNrZWQiLCJjaGVja2VkTmFtZSIsImxhbmRvd25lciIsImFkZExhbmRvd25lciIsImRpc2FibGVTZW5zb3JQYXJ0cyIsInNob3dTaXRlSG91c2VUYWJsZSIsInNpdGVIb3VzZXNNb2RlbCIsInNpdGVIb3VzZXNUb1JlbW92ZSIsIk5ldHdvcmtOQU1FVG9BZGQiLCJOZXR3b3JrTkFNRVRvUmVtb3ZlIiwiTmV0d29ya1RZUEVUb0FkZCIsIk5ldHdvcmtUWVBFVG9SZW1vdmUiLCJzaXRlTmV0d29ya05hbWVzIiwic2l0ZU5ldHdvcmtUeXBlcyIsIlNJVEVGaWxlcyIsInNpdGVJbWFnZUZpbGVzIiwiU0lURWZpbGVJc1VwbG9hZGluZyIsIm9wZW5MYXRNb2RhbCIsImxhdE1vZGFsIiwiZmllbGRGb2N1cyIsIm9wZW5Mb25nTW9kYWwiLCJsb25nTW9kYWwiLCJjaGVja1ZhbHVlIiwiZGlyZWN0aW9uIiwiZmxvb3IiLCJtaW5mbG9hdCIsImxhdExvbmdDaGFuZ2UiLCJETVNNb2RhbCIsIm5ldFR5cGVDaGciLCJudCIsIm5ldHdvcmtfdHlwZV9pZCIsIndoaWNoT25lIiwibiIsIm5ldHdvcmtfbmFtZV9pZCIsIm5uIiwiZGltQWN0aW9uIiwic2Vuc29yX25vdF9hcHByb3ByaWF0ZSIsImlzX3Blcm1hbmVudF9ob3VzaW5nX2luc3RhbGxlZCIsInVzZVNpdGVBZGRyZXNzIiwidXNlQWRkcmVzc2ZvckxPIiwiYWRkcmVzcyIsImNpdHkiLCJsYW5kb3duZXJjb250YWN0X2lkIiwicHV0U2l0ZUFuZFBhcnRzIiwicHJpbWFyeXBob25lIiwibGFuZG93bmVyY29udGFjdGlkIiwidXBkYXRlU2l0ZSIsIkNyZWF0b3IiLCJIb3Jpem9udGFsQ29sbGVjdE1ldGhvZCIsIkhvcml6b250YWxEYXR1bSIsIlByaW9yaXR5TmFtZSIsIlJlbW92ZVByb21pc2VzIiwiZGVmZXIiLCJBZGRQcm9taXNlcyIsInNoSUQiLCJkZWxTSFByb20iLCJubkwiLCJkZWxOTlByb20iLCJkZWxldGVTaXRlTmV0d29ya05hbWUiLCJzaXRlSWQiLCJuZXR3b3JrTmFtZUlkIiwibnRMIiwiZGVsTlRQcm9tIiwiZGVsZXRlU2l0ZU5ldHdvcmtUeXBlIiwibmV0d29ya1R5cGVJZCIsImh0IiwiYWRkSHRQcm9tIiwic2l0ZV9ob3VzaW5nX2lkIiwiQW5uTCIsImFkZE5OUHJvbSIsInBvc3RTaXRlTmV0d29ya05hbWUiLCJBblRMIiwibmV0d29ya190eXBlX25hbWUiLCJhZGROVFByb20iLCJwb3N0U2l0ZU5ldHdvcmtUeXBlIiwiYWxsIiwibXNnIiwiZmluaXNoUE9TVCIsInBvc3RQcm9taXNlcyIsImh0eXBlIiwiaFRQcm9taXNlIiwibk5hbWUiLCJuTlByb21pc2UiLCJuVHlwZSIsIm5UUHJvbWlzZSIsImNyZWF0ZSIsInBvc3RTaXRlQW5kUGFydHMiLCJjcmVhdGVkU2l0ZUlEIiwic2VsZWN0ZWRQcm9wb3NlZFNlbnNvcnMiLCJwIiwicHJvcFNlbnMiLCJpbmRleCIsInNlbnNvclR5cGVJRCIsImluc1Jlc3BvbnNlIiwiaW5zdFN0YXQiLCJwcm9qTk5hbWVzIiwicHJvak5UeXBlIiwibmkiLCJueSIsInNPcGVuIiwiYWNjZXNzX2dyYW50ZWQiLCJIb3VzZVR5cGVDbGljayIsImhvdXNlVCIsIm1hdGVyaWFsIiwibm90ZXMiLCJhbW91bnQiLCJzSF9JRCIsInNob3dMYW5kT3duZXJQYXJ0IiwidXBkYXRlQ291bnR5TGlzdCIsImRlbGV0ZVNpdGUiLCJkU2l0ZU1vZGFsIiwic2l0ZU5vIiwiZGVsZXRlSXQiLCJzaXRlSFdNcyIsImRlcGxveW1lbnRUeXBlcyIsImJhcm9TZW5zb3JzIiwibWV0U2Vuc29ycyIsInJkZ1NlbnNvcnMiLCJzdG9ybVNlbnNvcnMiLCJ3YXZlU2Vuc29ycyIsInByZXNUZW1wU2Vuc29ycyIsInRoZXJtU2Vuc29ycyIsIndlYmNhbVNlbnNvcnMiLCJyYWluZ2FnZVNlbnNvcnMiLCJsZWFmbGV0RGF0YSIsIm1hcFN0dWZmIiwiYWxsU2l0ZUhXTXMiLCJhbGxTaXRlQmFyb1NlbnNvcnMiLCJicyIsImFsbFNpdGVNZXRTZW5zb3JzIiwiYWxsU2l0ZVJER1NlbnNvcnMiLCJhbGxTaXRlU3Rvcm1TZW5zb3JzIiwiYWxsU2l0ZVdhdmVTZW5zb3JzIiwiYWxsU2l0ZVByZXNUZW1wU2Vuc29ycyIsImFsbFNpdGVUaGVybVNlbnNvcnMiLCJhbGxTaXRlV2ViU2Vuc29ycyIsImFsbFNpdGVSYWluU2Vuc29ycyIsImFsbERlcGxveW1lbnRUeXBlcyIsInBhdGhzIiwibWFya2VycyIsImxheWVyIiwiZXZlbnRJRCIsImVhY2hIV00iLCJod21fbGFiZWwiLCJod21JY29uIiwiYWRkU2Vuc29ycyIsIm5vRXZlbnRIIiwiZWFjaG5vRUhXTSIsImJTZW5zb3IiLCJiYXJvSWNvbiIsIm1zIiwibVNlbnNvciIsIm1ldEljb24iLCJycyIsInJTZW5zb3IiLCJyZGdJY29uIiwic3MiLCJzU2Vuc29yIiwic3Rvcm1JY29uIiwid3MiLCJ3U2Vuc29yIiwid2F2ZUljb24iLCJwU2Vuc29yIiwicHJlc3N1cmVJY29uIiwidHMiLCJ0U2Vuc29yIiwidGhlcm1JY29uIiwid2VicyIsIndlYlNlbnNvciIsIndlYmNhbUljb24iLCJyYWlucyIsInJhaW5TZW5zb3IiLCJyYWluZ2FnZUljb24iLCJub0VicyIsIm5vRWJTZW5zb3IiLCJub0VtcyIsIm5vRW1TZW5zb3IiLCJub0VycyIsIm5vRXJTZW5zb3IiLCJub0VzcyIsIm5vRXNTZW5zb3IiLCJub0V3cyIsIm5vRXdTZW5zb3IiLCJub0VwcyIsIm5vRXBTZW5zb3IiLCJub0V0cyIsIm5vRXRTZW5zb3IiLCJub0V3ZWJzIiwibm9Fd2ViU2Vuc29yIiwibm9FcmFpbnMiLCJub0VyYWluU2Vuc29yIiwicGF0aHNPYmoiLCJjaXJjbGVNYXJrZXIiLCJyYWRpdXMiLCJ3ZWlnaHQiLCJsYXRsbmdzIiwiYWRkU2hhcGUiLCJleHRlbmQiLCJtaW5ab29tIiwibWFya2Vyc0xhdExuZ0FycmF5IiwibGF5ZXJzIiwiYmFzZWxheWVycyIsInRvcG8iLCJ2aXNpYmxlIiwib3ZlcmxheXMiLCJzdG5TaXRlcyIsInRoaXNTaXRlTmV0d29ya05hbWVzIiwidGhpc1NpdGVOZXR3b3JrVHlwZXMiLCJ0aGlzU2l0ZUhvdXNpbmdzIiwiRklMRV9UWVBFIiwiQUdFTkNZIiwiYWxsSG9yRGF0dW1zIiwiYWxsSG9yQ29sbE1ldGhvZHMiLCJhbGxTdGF0ZXMiLCJhbGxDb3VudGllcyIsImFsbERlcGxveVByaW9yaXRpZXMiLCJhbGxOZXR3b3JrTmFtZXMiLCJhbGxOZXR3b3JrVHlwZXMiLCJzaG93U2NyaXB0VG9hc3QiLCJ3YXJuaW5nIiwiY2xvc2VCdXR0b24iLCJwb3NpdGlvbkNsYXNzIiwib25jbGljayIsInRpbWVPdXQiLCJleHRlbmRlZFRpbWVPdXQiLCJnZXRJc1NjcmlwdFJ1bm5pbmciLCJydW5uaW5nU2NyaXB0IiwiY2xlYXIiLCJtYXBPcGVuIiwic2l0ZU9wZW4iLCJvcE9wZW4iLCJzZW5zb3JPcGVuIiwiaHdtT3BlbiIsImZpbGVzT3BlbiIsInBlYWtPcGVuIiwidGhpc1NpdGVIb3VzZVR5cGVNb2RlbCIsIm9wZW5TaXRlQ3JlYXRlIiwiZHJvcGRvd25QYXJ0cyIsInNpdGVOTmFtZXNUb1Bhc3MiLCJhTk4iLCJzaXRlTlR5cGVzVG9QYXNzIiwiYU5UIiwib3JpZ1NpdGVIb3VzZXMiLCJzSG91c2VUeXBlTW9kZWwiLCJzTmV0TmFtZXMiLCJzTmV0VHlwZXMiLCJsbyIsInNpdGVSZWxhdGVkU3R1ZmYiLCJnZXRMYW5kT3duZXJDb250YWN0IiwiaGQiLCJkYXR1bV9uYW1lIiwiaGMiLCJoY29sbGVjdF9tZXRob2QiLCJwcmlvcml0eV9pZCIsImRwIiwicHJpb3JpdHlfbmFtZSIsInoiLCJob3VzZVR5cGVOYW1lIiwic2Vuc29yTm90QXBwciIsImdldFNpdGVMYW5kT3duZXIiLCJhcHBseSIsIndoaWNoUXVpY2siLCJhbGxPUFR5cGVzIiwiYWxsVmVydENvbE1ldGhvZHMiLCJhbGxPUFF1YWxpdGllcyIsImFsbEhXTVR5cGVzIiwiYWxsSFdNUXVhbGl0aWVzIiwiYWxsTWFya2VycyIsIk9CSkVDVElWRV9QT0lOVCIsIkhXTSIsIk9QX0NPTlRST0xfSURFTlRJRklFUiIsIkNyZWF0ZVdoYXQiLCJsb2dnZWRJbk1lbWJlciIsInF1aWNrRm9ybSIsIm1ha2VBZGF0ZSIsImFEYXRlIiwibW9udGhOYW1lcyIsImRhdGVXT3RpbWUiLCJhT1AiLCJkYXRlX2VzdGFibGlzaGVkIiwicmVtb3ZlT1BDYXJyYXkiLCJhZGRlZElkZW50aWZpZXJzIiwic2hvd0NvbnRyb2xJRGlucHV0IiwiaG9yRGF0dW1MaXN0IiwiaG9yQ29sbE1ldGhvZExpc3QiLCJhbGxDb3VudHlMaXN0Iiwib3BUeXBlTGlzdCIsInZlcnRDb2xsTWV0aG9kTGlzdCIsIm9wUXVhbExpc3QiLCJhSFdNIiwiaHdtX2Vudmlyb25tZW50IiwiYmFuayIsImZsYWdfZGF0ZSIsInN0aWxsd2F0ZXIiLCJmbGFnX21lbWJlcl9pZCIsImh3bVR5cGVMaXN0IiwiaHdtUXVhbExpc3QiLCJtYXJrZXJMaXN0IiwiRlRvck1FVEVSIiwiRlRvckNNIiwiYWRkTmV3SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJpZGVudGlmaWVyX3R5cGUiLCJjaG9vc2VRdWFsaXR5IiwiaHdtX3VuY2VydGFpbnR5IiwiaHdtX3F1YWxpdHlfaWQiLCJtaW5fcmFuZ2UiLCJtYXhfcmFuZ2UiLCJjb21wYXJlVG9VbmNlcnRhaW50eSIsIm1hdGNoaW5nUXVhbElkIiwiaW5jb25ncnVlbnRNb2RhbCIsIlVucXVhbnRDaGVja2VkIiwidW5xdWFudGlmaWVkIiwidW5jZXJ0YWludHkiLCJ0cmltT1AiLCJPQkpfUFQiLCJvcF9pc19kZXN0cm95ZWQiLCJvcF9ub3RlcyIsInZjb2xsZWN0X21ldGhvZF9pZCIsIm9wX3R5cGVfaWQiLCJkYXRlX3JlY292ZXJlZCIsIm9wX3F1YWxpdHlfaWQiLCJSZW1vdmVJRCIsIm9wQ29udHJvbCIsIm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZCIsImZvcm1hdERlZmF1bHRzIiwidGhlT1AiLCJ0YXBlZG93biIsIk9wZW4iLCJzaG93TmVlZE9QZmlyc3RNb2RhbCIsIm5lZWRPUE1vZGFsIiwicmVtb3ZlT1AiLCJhZGRUYXBlZG93biIsInNob3dUYXBlZG93blBhcnQiLCJzaXRlRXJyb3JzIiwib3BFcnJvcnMiLCJod21FcnJvcnMiLCJ0aGVGb3JtIiwicXVpY2siLCJ3YXRlcmJvZHkiLCJjcmVhdGVkT1AiLCJPUHRvUE9TVCIsIm9wYyIsInRoaXNPUENvbnRyb2xJRCIsInN1cnZleV9kYXRlIiwic3VydmV5X21lbWJlcl9pZCIsIiRuYW1lIiwiZmluZCIsInNpdGVfZGVzY3JpcHRpb24iLCIkaW52YWxpZCIsIiRpbnZhbGlkdiIsImRlIiwiaHdtX3R5cGVfaWQiLCJDT05UQUNUX1RZUEUiLCJERVBMT1lNRU5UX1BSSU9SSVRZIiwiRVZFTlRfU1RBVFVTIiwiRVZFTlRfVFlQRSIsIkhPUklaT05UQUxfQ09MTF9NRVRIT0RTIiwiSE9SSVpPTlRBTF9EQVRVTSIsIkhPVVNJTkdfVFlQRSIsIkhXTV9RVUFMSVRZIiwiSFdNX1RZUEUiLCJNQVJLRVIiLCJORVRXT1JLX05BTUUiLCJPUF9RVUFMSVRZIiwiT1BfVFlQRSIsIlNFTlNPUl9CUkFORCIsIlNFTlNPUl9UWVBFIiwiTkVUV09SS19UWVBFIiwiVkVSVElDQUxfQ09MTF9NRVRIT0QiLCJWRVJUSUNBTF9EQVRVTSIsImFsbENvbnRhY3RUeXBlcyIsImFsbEV2ZW50U3RhdHMiLCJhbGxFdmVudFR5cGVzIiwiYWxsSG91c2VUeXBlcyIsImFsbEhXTXF1YWxpdGllcyIsImFsbEhXTXR5cGVzIiwiYWxsSW5zdENvbGxlY3RDb25kaXRpb25zIiwiYWxsT2JqUHRRdWFsaXRpZXMiLCJhbGxPYmpQdFR5cGVzIiwiYWxsVmVydGljYWxDb2xsTWV0aG9kcyIsImFsbFZlcnRpY2FsRGF0dW1zIiwiYWNjb3VudFJvbGUiLCJsb29rdXBGb3JtIiwic2hvd0FkZEFnRm9ybSIsImFkZEFnQnV0dG9uU2hvd2luZyIsIm5ld0FnIiwic2hvd0FkZEFnQ2xpY2tlZCIsIk5ldmVyTWluZEFnIiwiQWRkQWdlbmN5Iiwic2F2ZUFnZW5jeSIsInJldHVyIiwiZGVsZXRlQWdlbmN5IiwiYWciLCJrZXlUb1JlbW92ZSIsInNob3dTdGF0ZUFiYnJldiIsImNvbnRhY3RUeXBlTGlzdCIsInNob3dBZGRDVEZvcm0iLCJhZGRDVEJ1dHRvblNob3dpbmciLCJuZXdDVCIsInNob3dBZGRDVENsaWNrZWQiLCJOZXZlck1pbmRDVCIsIkFkZENvbnRhY3RUeXBlIiwic2F2ZUNvbnRhY3RUeXBlIiwiZGVsZXRlQ29udGFjdFR5cGUiLCJjdCIsImNvbnRhY3RfdHlwZV9pZCIsImRlcGxveVByaW9yaXR5TGlzdCIsInNob3dBZGREUEZvcm0iLCJhZGREUEJ1dHRvblNob3dpbmciLCJuZXdEUCIsInNob3dBZGREUENsaWNrZWQiLCJOZXZlck1pbmREUCIsIkFkZERlcFByaW9yaXR5Iiwic2F2ZURlcFByaW9yaXR5IiwiZGVsZXRlRGVwUHJpb3JpdHkiLCJldmVudFN0YXRMaXN0Iiwic2hvd0FkZEVTRm9ybSIsImFkZEVTQnV0dG9uU2hvd2luZyIsIm5ld0VTIiwic2hvd0FkZEVTQ2xpY2tlZCIsIk5ldmVyTWluZEVTIiwiQWRkRXZlbnRTdGF0Iiwic2F2ZUV2ZW50U3RhdCIsImRlbGV0ZUV2ZW50U3RhdCIsImVzIiwiZXZlbnRfc3RhdHVzX2lkIiwiZXZlbnRUeXBlTGlzdCIsInNob3dBZGRFVEZvcm0iLCJhZGRFVEJ1dHRvblNob3dpbmciLCJuZXdFVCIsInNob3dBZGRFVENsaWNrZWQiLCJOZXZlck1pbmRFVCIsIkFkZEV2ZW50VHlwZSIsInNhdmVFdmVudFR5cGUiLCJkZWxldGVFdmVudFR5cGUiLCJldCIsImV2ZW50X3R5cGVfaWQiLCJzaG93QWRkRlRGb3JtIiwiYWRkRlRCdXR0b25TaG93aW5nIiwibmV3RlQiLCJzaG93QWRkRlRDbGlja2VkIiwiTmV2ZXJNaW5kRlQiLCJBZGRGaWxlVHlwZSIsInNhdmVGaWxlVHlwZSIsImRlbGV0ZUZpbGVUeXBlIiwiaG9yQ29sTWV0aExpc3QiLCJzaG93QWRkSENNRm9ybSIsImFkZEhDTUJ1dHRvblNob3dpbmciLCJuZXdIQ00iLCJzaG93QWRkSENNQ2xpY2tlZCIsIk5ldmVyTWluZEhDTSIsIkFkZEhvckNvbGxNZXRob2QiLCJzYXZlSG9yQ29sbE1ldGhvZCIsImRlbGV0ZUhvckNvbGxNZXRob2QiLCJoY20iLCJob3JEYXRMaXN0Iiwic2hvd0FkZEhERm9ybSIsImFkZEhEQnV0dG9uU2hvd2luZyIsIm5ld0hEIiwic2hvd0FkZEhEQ2xpY2tlZCIsIk5ldmVyTWluZEhEIiwiQWRkSG9yRGF0dW0iLCJzYXZlSG9yRGF0dW0iLCJkZWxldGVIb3JEYXR1bSIsInNob3dBZGRIVEZvcm0iLCJhZGRIVEJ1dHRvblNob3dpbmciLCJuZXdIVCIsInNob3dBZGRIVENsaWNrZWQiLCJOZXZlck1pbmRIVCIsIkFkZEhvdXNlVHlwZSIsInNhdmVIb3VzZVR5cGUiLCJkZWxldGVIb3VzZVR5cGUiLCJzaG93QWRkSFdNUUZvcm0iLCJhZGRIV01RQnV0dG9uU2hvd2luZyIsIm5ld0hXTVEiLCJzaG93QWRkSFdNUUNsaWNrZWQiLCJOZXZlck1pbmRIV01RIiwiQWRkSHdtUXVhbGl0eSIsInNhdmVId21RdWFsaXR5IiwiZGVsZXRlSHdtUXVhbGl0eSIsImh3bXEiLCJzaG93QWRkSFdNVEZvcm0iLCJhZGRIV01UQnV0dG9uU2hvd2luZyIsIm5ld0hXTVQiLCJzaG93QWRkSFdNVENsaWNrZWQiLCJOZXZlck1pbmRIV01UIiwiQWRkSHdtVHlwZSIsInNhdmVId21UeXBlIiwiZGVsZXRlSHdtVHlwZSIsImh3bXQiLCJpbnN0Q29sQ29uZExpc3QiLCJzaG93QWRkSUNDRm9ybSIsImFkZElDQ0J1dHRvblNob3dpbmciLCJuZXdJQ0MiLCJzaG93QWRkSUNDQ2xpY2tlZCIsIk5ldmVyTWluZElDQyIsIkFkZEluc3RDb2xDb25kIiwic2F2ZUluc3RDb2xDb25kIiwiZGVsZXRlSW5zdENvbENvbmQiLCJpY2MiLCJtYXJrTGlzdCIsInNob3dBZGRNRm9ybSIsImFkZE1CdXR0b25TaG93aW5nIiwibmV3TSIsInNob3dBZGRNQ2xpY2tlZCIsIk5ldmVyTWluZE0iLCJBZGRNYXJrZXIiLCJzYXZlTWFya2VyIiwiZGVsZXRlTWFya2VyIiwibWFya2VyX2lkIiwibmV0TmFtZUxpc3QiLCJzaG93QWRkTk5Gb3JtIiwiYWRkTk5CdXR0b25TaG93aW5nIiwibmV3Tk4iLCJzaG93QWRkTk5DbGlja2VkIiwiTmV2ZXJNaW5kTk4iLCJBZGROZXR3b3JrTmFtZSIsInNhdmVOZXR3b3JrTmFtZSIsImRlbGV0ZU5ldHdvcmtOYW1lIiwic2hvd0FkZE9QUUZvcm0iLCJhZGRPUFFCdXR0b25TaG93aW5nIiwibmV3T1BRIiwic2hvd0FkZE9QUUNsaWNrZWQiLCJOZXZlck1pbmRPUFEiLCJBZGRPUFF1YWxpdHkiLCJzYXZlT1BRdWFsaXR5IiwiZGVsZXRlT1BRdWFsaXR5Iiwib3BxIiwic2hvd0FkZE9QVEZvcm0iLCJhZGRPUFRCdXR0b25TaG93aW5nIiwibmV3T1BUIiwic2hvd0FkZE9QVENsaWNrZWQiLCJOZXZlck1pbmRPUFQiLCJBZGRPUFR5cGUiLCJzYXZlT1BUeXBlIiwiZGVsZXRlT1BUeXBlIiwib3B0Iiwib2JqZWN0aXZlX3BvaW50X3R5cGVfaWQiLCJzZW5zQnJhbmRMaXN0Iiwic2hvd0FkZFNCRm9ybSIsImFkZFNCQnV0dG9uU2hvd2luZyIsIm5ld1NCIiwic2hvd0FkZFNCQ2xpY2tlZCIsIk5ldmVyTWluZFNCIiwiQWRkU2Vuc29yQnJhbmQiLCJzYXZlU2Vuc29yQnJhbmQiLCJkZWxldGVTZW5zb3JCcmFuZCIsInNiIiwic2hvd0FkZERURm9ybSIsImFkZERUQnV0dG9uU2hvd2luZyIsIm5ld0RUIiwic2hvd0FkZERUQ2xpY2tlZCIsIk5ldmVyTWluZERUIiwiQWRkRGVwVHlwZSIsInNhdmVEZXBUeXBlIiwiZGVsZXRlRGVwVHlwZSIsInN0YXRUeXBlTGlzdCIsInNob3dBZGRTdGF0VEZvcm0iLCJhZGRTdGF0VEJ1dHRvblNob3dpbmciLCJuZXdTdGF0VCIsInNob3dBZGRTdGF0VENsaWNrZWQiLCJOZXZlck1pbmRTdGF0VCIsIkFkZFN0YXR1c1R5cGUiLCJuZXdTdGF0VFQiLCJzYXZlU3RhdHVzVHlwZSIsImRlbGV0ZVN0YXR1c1R5cGUiLCJzdGF0VCIsInNlbnNUeXBlTGlzdCIsIm5ld0RlcFR5cGVSZWxhdGluZyIsImNvbW1hU2VwRGVwTUVUSE9EUyIsImZvcm1hdHRlZFNlbnNUeXBlTGlzdCIsImdldFNlbnNvckRlcGxveW1lbnRUeXBlcyIsImRlcHMiLCJEZXBUeXBlcyIsIkRlcE1TdHJpbmdzIiwiRGVwTUVUSE9EU3RyaW5ncyIsInNob3dEZXBUeXBlcyIsIlNlblQiLCJyZW1vdmVUaGVzZURlcFR5cGVzIiwiY2hlY2tMaXN0Q2hlY2siLCJvcmlnaW5hbENoZWNrZWQiLCJub3dDaGVja2VkIiwib2MiLCJkZWxldGVEZXAiLCJzaG93QWRkU2VuVEZvcm0iLCJhZGRTZW5UQnV0dG9uU2hvd2luZyIsIm5ld1NlblQiLCJzaG93QWRkU2VuVENsaWNrZWQiLCJOZXZlck1pbmRTZW5UIiwiYWRkRGVwVHlwZVRvTmV3U2VuVCIsIkFkZFNlbnNvclR5cGUiLCJuZXdTZW5zb3IiLCJyZWxhdGVkRGVwcyIsIm5kdCIsImFkZFNlbnNvckRlcGxveW1lbnRUeXBlIiwic2Vuc29yVHlwZUlkIiwiZGVwbG95bWVudFR5cGVJZCIsInJlc3BvbnNlMSIsInNhdmVTZW5zb3JUeXBlIiwiRFRzIiwidGhpc0RUIiwiZXJyb3JSZXNwb25zZTEiLCJyZHQiLCJyZW1vdmVTZW5zb3JEZXBsb3ltZW50VHlwZSIsIkRlcGxveW1lbnRUeXBlSWQiLCJyZXNwb25zZTIiLCJkZWxldGVTZW5zb3JUeXBlIiwic2VuVCIsIlNUIiwibmV0VHlwZUxpc3QiLCJzaG93QWRkTlRGb3JtIiwiYWRkTlRCdXR0b25TaG93aW5nIiwibmV3TlQiLCJzaG93QWRkTlRDbGlja2VkIiwiTmV2ZXJNaW5kTlQiLCJBZGROZXRUeXBlIiwic2F2ZU5ldFR5cGUiLCJkZWxldGVOZXRUeXBlIiwidmVydENvbE1ldGhMaXN0Iiwic2hvd0FkZFZDTUZvcm0iLCJhZGRWQ01CdXR0b25TaG93aW5nIiwibmV3VkNNIiwic2hvd0FkZFZDTUNsaWNrZWQiLCJOZXZlck1pbmRWQ00iLCJBZGRWZXJ0Q29sTWV0aCIsInNhdmVWZXJ0Q29sTWV0aCIsImRlbGV0ZVZlcnRDb2xNZXRoIiwidmNtIiwidmVydERhdExpc3QiLCJzaG93QWRkVkRGb3JtIiwiYWRkVkRCdXR0b25TaG93aW5nIiwibmV3VkQiLCJzaG93QWRkVkRDbGlja2VkIiwiTmV2ZXJNaW5kVkQiLCJBZGRWZXJ0RGF0dW0iLCJzYXZlVmVydERhdHVtIiwiZGVsZXRlVmVydERhdHVtIiwiQ09OVEFDVCIsIlJFUE9SVCIsIiRwYXJlbnQiLCJuZWVkVG9Db21wbGV0ZSIsIm5ld1JlcG9ydCIsInJlcG9ydF9kYXRlIiwieXIiLCJtbyIsIkRlcGxveVN0YWZmIiwiR2VuU3RhZmYiLCJJbmxhbmRTdGFmZiIsIkNvYXN0U3RhZmYiLCJXYXRlclN0YWZmIiwib3BlbkNvbnRhY3RzIiwib3BlbkNvdW50cyIsIm9wZW5QZXJzb25uZWwiLCJyZXBvcnRpbmdfbWV0cmljc19pZCIsImRpc2FibGVkIiwiZ2V0RXZlbnROYW1lIiwidGhpc0V2ZW50IiwiZ2V0UmVwb3J0Q29udGFjdHMiLCJyZXBvcnRJRCIsImdldENvbnRhY3RNb2RlbCIsIlJlcG9ydE1ldHJpYyIsImNvbnRhY3RUeXBlIiwicG9zdFJlcG9ydENvbnRhY3RzIiwiZXF1YWxzIiwiYWRkUmVwb3J0Q29udGFjdCIsInJlcG9ydElkIiwiY29udGFjdFR5cGVJZCIsImVycm9yUmVzcG9uc2UyIiwicmVzcG9uc2UzIiwiZXJyb3JSZXNwb25zZTMiLCJyZXNwb25zZTQiLCJlcnJvclJlc3BvbnNlNCIsInJlc3BvbnNlNSIsImVycm9yUmVzcG9uc2U1IiwicmVtb3ZlSW5jb21wbGV0ZSIsIm1lbWJlckluY29tcGxldGVzIiwiUG9zdFB1dFJlcG9ydEFuZFJlcG9ydENvbnRhY3RzIiwidG9EYXRlU3RyaW5nIiwiY29tcGxldGUiLCJpc0NvbXBsZXRlZCIsImZ1bGxSZXBvcnRGb3JtIiwic3VibWl0IiwiJHNldFByaXN0aW5lIiwiJHZpZXdWYWx1ZSIsInJlcG9ydHMiLCJwb3B1bGF0ZVllc3RUb3RzIiwiZm9ybWF0RGF0ZSIsInNldEhvdXJzIiwibXlEYXRlIiwidGhlU3RhdGUiLCJlSUQiLCJwcmV2aW91c0RheSIsInllc3RlcmRheVJwdCIsInJlcERhdGUiLCJ5ZXN0X2ZpZWxkcGVycyIsInRvZF9maWVsZHBlcnMiLCJ5ZXN0X29mZmljZXBlcnMiLCJ0b2Rfb2ZmaWNlcGVycyIsImdldERhaWx5UmVwb3J0VG90cyIsInJlc3BvbnNlNiIsImRlcF9yYXBkZXBsX2dhZ2UiLCJyZWNfcmFwZGVwbF9nYWdlIiwibG9zdF9yYXBkZXBsX2dhZ2UiLCJkZXBfd3RybGV2X3NlbnNvciIsInJlY193dHJsZXZfc2Vuc29yIiwibG9zdF93dHJsZXZfc2Vuc29yIiwiZGVwX3d2X3NlbnMiLCJyZWNfd3Zfc2VucyIsImxvc3Rfd3Zfc2VucyIsImRlcF9iYXJvbWV0cmljIiwicmVjX2Jhcm9tZXRyaWMiLCJsb3N0X2Jhcm9tZXRyaWMiLCJkZXBfbWV0ZW9yb2xvZ2ljYWwiLCJyZWNfbWV0ZW9yb2xvZ2ljYWwiLCJsb3N0X21ldGVvcm9sb2dpY2FsIiwiaHdtX2ZsYWdnZWQiLCJod21fY29sbGVjdGVkIiwiZXJyb3JSZXNwb25zZTYiLCJzYXZlUmVwb3J0IiwiTWVtYmVyTG9nZ2VkSW4iLCJwb3B1bGF0ZURlcGxveWVyIiwiZ2V0SW5jb21wbGV0ZVJlcG9ydCIsImlyIiwiJHNldERpcnR5IiwicmVwb3J0Iiwic3VibWl0UGVyc29uIiwiY29udGFjdHMiLCJSZXBvcnRWaWV3IiwiUmVwb3J0Iiwic3VibWl0dGVyIiwiZGVwbG95U3RhZmYiLCJnZW5lcmFsU3RhZmYiLCJpbmxhbmRTdGFmZiIsImNvYXN0U3RhZmYiLCJ3YXRlclN0YWZmIiwicHJpbnQiLCJhbGxSZXBvcnRzQWdhaW4iLCJyZXBvcnRzVG9EYXRlIiwidG9kYXlScHRzIiwieWVzdGVyZGF5UnB0cyIsInBpY2tEYXRlUnB0cyIsInBpY2tBZGF0ZVJlcG9ydHMiLCJ0b2RheSIsInllc3RlcmRheSIsInNldERhdGUiLCJUSElTX0RBVEUiLCJWaWV3UmVwb3J0IiwibWVtYmVyIiwibWVtIiwibWVtYmVyQWdlbmN5IiwiYWdlbmN5X2FkZHJlc3MiLCJmb3JtYXRSZXBvcnQiLCJyZXBMaXN0IiwicmV0dXJuTGlzdCIsInJlcCIsInRvZGF5UmVwb3J0cyIsInRvZGF5cmVwIiwicmVwb3J0RGF0ZSIsInllc3RlcmRheVJlcG9ydHMiLCJ5ZXN0cmVwIiwiZ2V0UmVwb3J0c0J5RGF0ZSIsImRhdGUiLCJ0aGlzRGF0ZVJlcG9ydHMiLCJ0ZGF0ZSIsIkNvbXBsZXRlVGhpc1JlcG9ydCIsImdldFByb2plY3RBbGVydFRleHQiLCJQcm9qZWN0QWxlcnRQYXJ0cyIsInRvdFllc3RGaWVsZFBlcnMiLCJ0b3RZZXN0T2ZmaWNQZXJzIiwibWVhc3VyZUN0cyIsInRvdF9kaXNjaGFyZ2VfbWVhcyIsImV2ZW50UmVwb3J0cyIsInN0YXRlQ291bnQiLCJlciIsIlByb2pBbGVydCIsIm1lbWJlclJlcG9ydHMiLCJhbGxSZXBvcnRzIiwiYWxsRXZlbnRTdGF0dXMiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZm9ybUlzUG9wdWxhdGVkIiwidXJsIiwiJGRpcnR5IiwiY29uZmlybSIsImN1cnJlbnREdCIsIm1tIiwiZGQiLCJ5eXl5IiwibWVtYmVycyIsImV2ZW50VHlwZXMiLCJldmVudFN0YXRzIiwiU3RhdGVtb2RlbCIsImdlblN1bW1hcnkiLCJmaWx0ZXJlZFJlcG9ydHMiLCJnZW5SZXBDaGFuZ2UiLCJuYW1lcyIsImFiYnJldnMiLCJzdGF0ZV9uYW1lIiwiU3RhdGVOYW1lcyIsIlN0YXRlQWJicmV2cyIsIk1ldHJpY0Rpc3BsYXlNb2RlbCIsImRpc3BsYXlNZXRyaWNTdW0iLCJHZW5SZXBFdmVudE1vZGVsIiwidG90YWxSb3ciLCJub3RBY2N0Rm9yRW1wcyIsImN1bVBGaWVsZCIsInllc1BGaWVsZCIsInRvZFBGaWVsZCIsInRvbVBGaWVsZCIsImN1bVBPZmZpY2UiLCJ5ZXNQT2ZmaWNlIiwidG9kUE9mZmljZSIsInRvbVBPZmZpY2UiLCJ0cnVjayIsImJvYXQiLCJvdGhlciIsImdhZ2VWaXNpdHMiLCJnYWdlc0Rvd24iLCJkaXNDdG9EYXRlIiwiZGlzQ1BsYW5uZWQiLCJDaGVja01lYXNUb0RhdGUiLCJDaGVja01lYXNQbGFubmVkIiwiaW5kTWVhcyIsInJhdEV4dCIsInBlYWtzT2ZSZWMiLCJRV0dhZ2VWaXMiLCJjb250UVdHYWdlVmlzIiwiY29udFFXR2FnZURvd24iLCJkaXNRV1NhbXBsZXMiLCJzZWRTYW1wbGVzIiwicmRnUGxhbiIsInJkZ0RlcCIsInJkZ1JlYyIsInJkZ0xvc3QiLCJ3YXRlclBsYW4iLCJ3YXRlckRlcCIsIndhdGVyUmVjIiwid2F0ZXJMb3N0Iiwid2F2ZVBsYW4iLCJ3YXZlRGVwIiwid2F2ZVJlYyIsIndhdmVMb3N0IiwiYmFyb1BsYW4iLCJiYXJvRGVwIiwiYmFyb1JlYyIsImJhcm9Mb3N0IiwibWV0UGxhbiIsIm1ldERlcCIsIm1ldFJlYyIsIm1ldExvc3QiLCJod21GbGFnIiwiaHdtQ29sIiwiYWJicmV2U3RyaW5nIiwic3VtX2RhdGUiLCJnZXRGaWx0ZXJlZFJlcG9ydHMiLCJTdGF0ZXMiLCJ0aGlzUlBNb2RlbCIsInN3X2ZpZWxkcGVyc19ub3RhY2N0Iiwid3FfZmllbGRwZXJzX25vdGFjY3QiLCJ0bXdfZmllbGRwZXJzIiwidG13X29mZmljZXBlcnMiLCJnYWdlX3Zpc2l0IiwiZ2FnZV9kb3duIiwicGxhbl9kaXNjaGFyZ2VfbWVhcyIsInBsYW5faW5kaXJlY3RfbWVhcyIsInJhdGluZ19leHRlbnMiLCJnYWdlX3BlYWtfcmVjb3JkIiwicXdfZGlzY3Jfc2FtcGxlcyIsImNvbGxfc2Vkc2FtcGxlcyIsInBsYW5fcmFwZGVwbF9nYWdlIiwicGxhbl93dHJsZXZfc2Vuc29yIiwicGxhbl93dl9zZW5zIiwicGxhbl9iYXJvbWV0cmljIiwicGxhbl9tZXRlb3JvbG9naWNhbCIsIkV2ZW50VHlwZSIsIkV2ZW50U3RhdCIsIkNvb3JkaW5hdG9yIiwiZXZlbnRfY29vcmRpbmF0b3IiLCJDb29yZEFnZW5jeSIsInRoaXNSZXBvcnQiLCJ0aGVUb3RhbFJvdyIsInRvdGFscyIsImRpc3BsYXlDb250YWN0c1N1bSIsInJlcG9ydE1vZGVsIiwiZ2V0UmVwb3J0d2l0aENvbnRhY3RzIiwicmVwSUQiLCJzdWJtaXR0ZXJBZ2VuY3kiLCJzdWIiLCJlbWFpbCIsInBob25lIiwiYWdlbmN5bmFtZSIsImFnZW5jeWFkZCIsImRlcEMiLCJSZXBvcnRDb250YWN0cyIsImdlbkMiLCJpbmxDIiwiY29hc3RDIiwid2F0ZXJDIiwic2V0VGltZW91dCIsInNob3dNb2RhbCIsInRoZXNlUmVwb3J0cyIsIlJlcG9ydHMiLCJnZXRDU1ZmaWxlIiwiZ2V0UmVwb3J0c0NTViIsImFuY2hvciIsImpvaW5lZFJlc3BvbnNlIiwiQmxvYiIsImZpbGVVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJQcm9qQWxlcnRQYXJ0cyIsInJvbGVMaXN0IiwidGhpc01lbWJlciIsImFNZW1iZXIiLCJtYXRjaGluZ1VzZXJzIiwidXNlcm5hbWVUb29sdGlwIiwicGFzcyIsIm5ld1AiLCJjb25maXJtUCIsIm5ld1Bhc3MiLCJsb2dnZWRJblVzZXIiLCJOYW1lIiwiSUQiLCJSb2xlIiwicm9sZV9pZCIsInJvbGVfbmFtZSIsImNoYW5nZVBhc3MiLCJjaGFuZ2VNeVBhc3NCdG4iLCJEb250Q2hhbmdlUGFzcyIsInBhc3N3b3JkIiwiYnRvYSIsImNyZWF0ZWRNZW1iZXIiLCJybyIsIkFnZW5jeSIsImZvcm1hdHRlZE1lbWJlciIsInNhbHQiLCJ1cGRhdGVkTWVtYmVyIiwiYWRkSG91cnMiLCJlbmMiLCJjb25jYXQiLCJleHBpcmVEYXRlIiwicHV0IiwiZXhwaXJlcyIsInVzZXJzTkFNRSIsIkRlbGV0ZU1lbWJlciIsIm1lbVRvUmVtb3ZlIiwiZGVsZXRlTWVtYmVyIiwiJHN0YXRlUGFyYW1zIiwiYWxsUm9sZXMiLCJkZWxNZW0iLCJtZW1iZXJMaXN0IiwiU2F2ZU9uQmx1ciIsIkNoYW5nZVBhc3N3b3JkIiwiY2hhbmdlUFciLCJyb2xlTmFtZSIsImFkZE1lbWJlciIsIm5tIiwidXNlclByb2ZpbGVJZCIsInNob3dNZW1iZXJNb2RhbCIsIm1lbWJlckNsaWNrZWQiLCJlYWNoTSIsImFsbENvbGxlY3RDb25kaXRpb25zIiwidGhpc1BlYWsiLCJwZWFrU2l0ZSIsImFsbEV2ZW50SFdNcyIsImFsbFNpdGVTZW5zb3JzIiwiYWxsU2l0ZUZpbGVzIiwidGhpc1BlYWtERnMiLCJQRUFLIiwiVkRhdHVtc0xpc3QiLCJsb2dnZWRJblJvbGUiLCJkZXRlcm1pbmVERlByZXNlbnQiLCJldmVudFNpdGVIV01zIiwiZXNoIiwiZXZlbnRTaXRlU2Vuc29ycyIsImV2U2l0ZVNlbiIsIkNvbGxlY3RDb25kaXRpb24iLCJjYyIsImlzUmV0cmlldmVkIiwiTmVlZERGIiwiY2hvc2VuSFdNTGlzdCIsInJlbW92ZWRDaG9zZW5IV01MaXN0IiwiY2hvc2VuREZMaXN0IiwicmVtb3ZlZENob3NlbkRGTGlzdCIsImh3bURldGFpbCIsIkhXTUJveCIsInNlbnNvckRldGFpbCIsIlNlbnNvckJveCIsImRhdGFGaWxlRGV0YWlsIiwiREZCb3giLCJhUGVhayIsInBlYWtfZGF0ZSIsIlBlYWtDcmVhdG9yIiwicGVha19zdW1tYXJ5X2lkIiwiZXNzIiwiZXNzSSIsImlzVGhlcmUiLCJwZGYiLCJmb3JtYXRTZWxlY3RlZEhXTSIsImZod20iLCJoZWlnaHRfYWJvdmVfZ25kIiwiaHdtX2xvY2F0aW9uZGVzY3JpcHRpb24iLCJod21fbm90ZXMiLCJhZGRIV00iLCJkYXRhRmlsZSIsImh3bSIsInNob3dIV01EZXRhaWxzIiwicHJpbWFyeUhXTSIsInNldFByaW1IV00iLCJTZXRJdCIsInNldEl0IiwicGVha19zdGFnZSIsImhJbmRleCIsImNsb3NlRGV0YWlsIiwiYWRkRGF0YUZpbGUiLCJzaG93U2Vuc29yRGV0YWlscyIsInNob3dEYXRhRmlsZURldGFpbHMiLCJmaWxlUGF0aCIsImZpbGVJRCIsImZpbGVEZXNjIiwicHJvY2Vzc2VkQnkiLCJud2lzRmlsZSIsInByaW1hcnlEYXRhRmlsZSIsInNldFByaW1lREYiLCJzZW5zIiwic0luZGV4IiwiZkluZGV4Iiwic2F2ZVBlYWsiLCJ1cGRhdGVkUGVhayIsImRhdGV0aW1lIiwiZ2V0U2Vjb25kcyIsInJlbWQiLCJyZW1oIiwiYWRkaCIsImFkZGQiLCJ1cGRhdGVERndvUGVha0lEIiwiZGZfaWQiLCJyZXMiLCJkZWxldGVQZWFrIiwiZGVsZXRlUGVha01kbCIsIk9rIiwidGhpc1MiLCJ0aGlzRiIsInRoaXNIIiwidXBkYXRlVGhpc0hXTSIsImNyZWF0ZVBlYWsiLCJpc0h3bUNoZWNrZWQiLCJpc0RGQ2hlY2tlZCIsInNod20iLCJzc2VuIiwiY3JlYXRlZFBlYWsiLCJzaG93SW5jb21wbGV0ZURGSW5mbyIsInNob3dJbmNvbXBsZXRlSFdNSW5mbyIsInNob3dSZXRyaWV2ZUluZm8iLCJ0aGlzU2l0ZVBlYWtzIiwicGVha0NvdW50IiwiU2l0ZVBlYWtzIiwic2hvd1BlYWtNb2RhbCIsInBlYWtDbGlja2VkIiwiZ2V0UGVha1N1bW1hcnlERnMiLCJnZXRGaWx0ZXJlZEhXTXMiLCJFdmVudFN0YXR1cyIsImdldFNpdGVTZW5zb3JzIiwidGhpc09QIiwidGhpc09QQ29udHJvbHMiLCJvcFNpdGUiLCJPUHZhbCIsImZpbGVJc1VwbG9hZGluZyIsImRsIiwiZGxPcGVuIiwiZGxGaWxlT3BlbiIsIk9QVHlwZUxpc3QiLCJIRExpc3QiLCJIQ29sbGVjdE1ldGhvZExpc3QiLCJWRGF0dW1MaXN0IiwiVkNvbGxlY3RNZXRob2RMaXN0IiwiT1BRdWFsaXR5TGlzdCIsIkhXTWZpbGVJc1VwbG9hZGluZyIsIk9QIiwidGhpc09Qc2l0ZSIsIk9QRmlsZXMiLCJvcEltYWdlRmlsZXMiLCJvcGYiLCJvcENvcHkiLCJvcE1vZGFsSGVhZGVyIiwiY3JlYXRlT1JlZGl0T1AiLCJvcFR5cGUiLCJvcF90eXBlIiwicXVhbGl0eSIsInEiLCJoZGF0dW0iLCJoQ29sbGVjdE1ldGhvZCIsInZEYXR1bSIsInZDb2xsZWN0TWV0aG9kIiwidmMiLCJ2Y29sbGVjdF9tZXRob2QiLCJhZGRlZElkZW50aWZpZXJzQ29weSIsIkRNU2RkTW9kYWwiLCJjcmVhdGVfbGF0RE1TIiwiY3JlYXRlX2xhZERNU2FycmF5IiwiY3JlYXRlX2xvbmdETVMiLCJjcmVhdGVfbG9uZ0RNU2FycmF5IiwiZnJvbVdoZXJlIiwiT1BGb3JtIiwidGhpc09uZSIsImNpIiwiZXhpc3RJbmRleCIsImRlSW5kZXgiLCJyaSIsImRlbGV0ZU9QIiwiZ2V0RGF0dW1Mb2NhdGlvbk9QTWVhc3VyZXMiLCJvYmplY3RpdmVQb2ludElkIiwib3BUb1JlbW92ZSIsIndhbm5hRWRpdE9QIiwiY2FuY2VsT1BFZGl0IiwidGhpc1NpdGVPUHMiLCJvcENvdW50IiwiU2l0ZU9iamVjdGl2ZVBvaW50cyIsInNob3dPUE1vZGFsIiwiT1BjbGlja2VkIiwib3BGaWxlVHlwZXMiLCJvZnQiLCJnZXRPUENvbnRyb2xzIiwiaUNsaWNrZWQiLCJsZWFmbGV0Qm91bmRzSGVscGVycyIsInNwaW5uZXJTZXJ2aWNlIiwic2l0ZVBhcnRzIiwiaGlkZSIsImdvVG9TaXRlRGFzaGJvYXJkIiwiYWxsU2Vuc0RlcHMiLCJQcm9wb3NlZFNlbnNvcnM0U2l0ZSIsImdldFByb3Bvc2VkU2Vuc29ycyIsInNSZXNwb25zZSIsImNhbmNlbFByb3Bvc2luZyIsInNpdGVQZWFrcyIsImFsbFNpdGVQZWFrcyIsInNob3dQZWFrcyIsIkVWRU5UIiwiTWFwX0ZpbHRlciIsInN1cnZleU9wdGlvbnMiLCJldmVudFNpdGVzT25seSIsInNob3ciLCJzZXRGaWx0ZXJlZFNpdGVzIiwic3AiLCJzaXRlc1Byb21pc2UiLCJnZXRFdmVudFNpdGVzIiwiTWFwX1NpdGUiLCJmaWx0ZXJlZFNpdGVzQXJyYXkiLCJzZWxlY3RlZE1hcmtlck51bSIsInNob3dFdmVudFNpdGVzIiwic3RuR3JheSIsIm5ld1NpdGUiLCJud2lzIiwiTCIsImRpdkljb24iLCJhY3Rpb24iLCJpY29uVXJsIiwicG9wdXBBbmNob3IiLCJsb3dfdGhyZXNob2xkIiwibWFqb3IiLCJtaW5vciIsIm1vZGVyYXRlIiwibm9fZmxvb2RpbmciLCJub3RfZGVmaW5lZCIsIm9ic19ub3RfY3VycmVudCIsIm91dF9vZl9zZXJ2aWNlIiwic2l0ZXNBcnJheSIsInNpdGVzIiwiZ2V0RGlyZWN0aXZlQ29udHJvbHMiLCJjb250cm9scyIsInNpdGVJRCIsInNldE1hcFNpdGVQYXJ0cyIsIm1vZGVsTmFtZSIsIm5vSGlkZSIsImNyZWF0ZVNpdGVNb2RlQWN0aXZlIiwicmVtb3ZlVXNlckNyZWF0ZWRTaXRlIiwibGVhZkV2ZW50IiwibGVhZmxldEV2ZW50IiwidXNlckNyZWF0ZWRTaXRlIiwibGF0aXR1ZGUiLCJsYXRsbmciLCJsb25naXR1ZGUiLCJjcmVhdGVkU2l0ZUluZGV4Iiwib2JqIiwiY3JlYXRlU2l0ZUJ1dHRvblRleHQiLCJtYXBTdHlsZSIsImNyZWF0ZVNpdGVGcm9tTWFwIiwiZ2V0TWFwIiwiZ2VvU2VhcmNoQ29udHJvbCIsIkNvbnRyb2wiLCJHZW9TZWFyY2giLCJwcm92aWRlciIsIlByb3ZpZGVyIiwiRXNyaSIsInpvb21MZXZlbCIsImFkZFRvIiwibWFya2Vyc1dhdGNoT3B0aW9ucyIsImRvV2F0Y2giLCJpc0RlZXAiLCJpbmRpdmlkdWFsIiwiZ3JheSIsInN0cmVldHMiLCJuYXRpb25hbCIsIm9jZWFucyIsImRhcmtncmF5IiwiaW1hZ2VyeSIsInNoYWRlZHJlbGllZiIsInRlcnJhaW4iLCJzdG5TaXRlc0FsbCIsImxheWVyUGFyYW1zIiwic2hvd09uU2VsZWN0b3IiLCJhaHBzIiwibGF5ZXJPcHRpb25zIiwib3BhY2l0eSIsInBvaW50VG9MYXllciIsImdlb2pzb24iLCJwcm9wZXJ0aWVzIiwib25FYWNoRmVhdHVyZSIsImZlYXR1cmUiLCJncmFwaFVSTCIsImdhdWdlbGlkIiwidG9Mb3dlckNhc2UiLCJiaW5kUG9wdXAiLCJyYWRhciIsIndhdGNoV2FybiIsInFod21Gb3JtIiwiTUVNQkVSX0lEIiwiREFURV9FU1RBQkxJU0hFRCIsIkhXTV9FTlZJUk9OTUVOVCIsIkJBTksiLCJGTEFHX0RBVEUiLCJTVElMTFdBVEVSIiwiT0JKRUNUSVZFX1BPSU5UX0lEIiwiSURFTlRJRklFUiIsIklERU5USUZJRVJfVFlQRSIsIkxBVElUVURFX0REIiwiTE9OR0lUVURFX0REIiwiQUREUkVTUyIsIkNJVFkiLCJaSVAiLCJnZW9jb2RlciIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsIkxhdExuZyIsImdlb2NvZGUiLCJsYXRMbmciLCJyZXN1bHRzIiwiR2VvY29kZXJTdGF0dXMiLCJPSyIsImFkZHJlc3NfY29tcG9uZW50cyIsImNvbXBvbmVudHMiLCJrIiwidjEiLCJ0eXBlcyIsImsyIiwidjIiLCJsb25nX25hbWUiLCJzdHJlZXRfbnVtYmVyIiwicm91dGUiLCJsb2NhbGl0eSIsIlNUQVRFX05BTUUiLCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzEiLCJTVEFURV9BQkJSRVYiLCJTVEFURV9JRCIsIkNPVU5UWSIsImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMiIsInBvc3RhbF9jb2RlIiwiVU5RVUFOVElGSUVEIiwiVU5DRVJUQUlOVFkiLCJERVNDUklQVElPTiIsIkVMRVZfRlQiLCJPUF9JU19ERVNUUk9ZRUQiLCJPUF9OT1RFUyIsIlNJVEVfSUQiLCJWREFUVU1fSUQiLCJIREFUVU1fSUQiLCJIQ09MTEVDVF9NRVRIT0RfSUQiLCJWQ09MTEVDVF9NRVRIT0RfSUQiLCJPUF9UWVBFX0lEIiwiREFURV9SRUNPVkVSRUQiLCJPUF9RVUFMSVRZX0lEIiwicXVpY2tIV00iLCJXQVRFUkJPRFkiLCJGTEFHX1RFQU1fSUQiLCJFVkVOVF9JRCIsImNyZWF0ZU9QQ29udHJvbElEIiwiU1VSVkVZX0RBVEUiLCJTVVJWRVlfVEVBTV9JRCIsIlNJVEVfREVTQ1JJUFRJT04iLCJIV01fVFlQRV9JRCIsIkhXTV9RVUFMSVRZX0lEIiwidGhpc0hXTSIsImh3bUFwcHJvdmFsIiwiaHdtU2l0ZSIsIkhXTXZhbCIsImhPcGVuIiwiaEZpbGVPcGVuIiwiSERhdHVtc0xpc3QiLCJoQ29sbE1MaXN0IiwidkNvbGxNTGlzdCIsIkhXTUZpbGVzIiwiaHdtSW1hZ2VGaWxlcyIsIkZsYWdNZW1iZXIiLCJTdXJ2ZXlNZW1iZXIiLCJ0aGlzSFdNc2l0ZSIsImNyZWF0ZU9SZWRpdEhXTSIsImh3bUNvcHkiLCJsYXREaXMiLCJhYnMiLCJsb0RpcyIsImxhdERpc3RhbmNlIiwibG9uZ0Rpc3RhbmNlIiwiaHdtX3R5cGUiLCJUcmFucXVpbCIsIk1hcmtlciIsIm1hcmtlcjEiLCJRdWFsaXR5IiwiaHEiLCJod21fcXVhbGl0eSIsImdldEhXTUFwcHJvdmFsIiwiaHdtTW9kYWxIZWFkZXIiLCJjcmVhdGVkSFdNIiwiYXBwcm92ZUhXTSIsInVuQXBwcm92ZUhXTSIsImZvcm1hdEhXTSIsImZvcm1hdHRlZEhXTSIsImNsZWFuSFdNIiwiZGVsZXRlSFdNIiwiaHdtVG9SZW1vdmUiLCJ3YW5uYUVkaXRIV00iLCJjYW5jZWxIV01FZGl0IiwidGhpc1NpdGVIV01zIiwiSFdNX1NlcnZpY2UiLCJod21Db3VudCIsIlNpdGVIV01zIiwic2V0QWxsU2l0ZUhXTXMiLCJzaG93SFdNTW9kYWwiLCJIV01jbGlja2VkIiwiaHdtRmlsZVR5cGVzIiwiaGZ0IiwiSERhdHVtcyIsIkhDb2xsZWN0TWV0aHMiLCJPUFR5cGVzIiwiVkRhdHVtcyIsIkhUeXBlcyIsIkhXTVF1YWxzIiwiZHluYW1pYyIsIm1heCIsImhvdEluc3RhbmNlIiwiY29sdW1uV2lkdGhzIiwiQ2hhbmdlcyIsImludmFsaWRzIiwiaERhdHVtTGlzdCIsImhEYXR1bUFycmF5IiwiaENvbGxlY3RMaXN0IiwiaGNvbGxlY3RBcnJheSIsInN0YXRlQXJyYXkiLCJjb3VudHlMaXN0IiwiY291bnR5QXJyYXkiLCJvcFR5cGVBcnJheSIsInZEYXR1bUxpc3QiLCJ2RGF0dW1BcnJheSIsImh3bVR5cGVBcnJheSIsImh3bUVudmlyTGlzdCIsImh3bVF1YWxpdHlMaXN0IiwiaHdtUXVhbGl0eUFycmF5IiwiaGlzdG9yaWNIV01zIiwiY291bnR5X25hbWUiLCJnZXRTdGF0ZUNvIiwicm93VmFsdWVzIiwiZ2V0RGF0YUF0Um93Iiwic2V0RGF0YUF0Q2VsbCIsInNldENlbGxNZXRhIiwiVXBkYXRlQ291bnRpZXMiLCJ0aGVDaGFuZ2UiLCJyZXF1aXJlZE1vZGFsIiwibGF0VmFsaWRhdG9yIiwiY2FsbGJhY2siLCJsb25nVmFsaWRhdG9yIiwiY29sb3JSZW5kZXJlciIsImluc3RhbmNlIiwidGQiLCJyb3ciLCJjb2wiLCJwcm9wIiwiY2VsbFByb3BlcnRpZXMiLCIkYnV0dG9uIiwiaHRtbCIsImVtcHR5IiwicmVxdWlyZWRWYWxpZGF0b3IiLCJyZXNldCIsInJlc2V0TW9kYWwiLCJ0YWJsZVNldHRpbmdzIiwiY29sSGVhZGVycyIsInJvd0hlYWRlcnMiLCJjb250ZXh0TWVudSIsIm1pblNwYXJlUm93cyIsImFmdGVySW5pdCIsIm1hbnVhbENvbHVtblJlc2l6ZSIsIm1hbnVhbFJvd1Jlc2l6ZSIsIndvcmRXcmFwIiwidmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXROdW1iZXIiLCJjb2xXaWR0aHMiLCJjZWxscyIsImNlbGxwcm9wcyIsInJlbmRlcmVyIiwib25CZWZvcmVDaGFuZ2UiLCJvbkFmdGVyQ2hhbmdlIiwiY2hhbmdlIiwic291cmNlIiwiYWZ0ZXJPbkNlbGxNb3VzZURvd24iLCJjb29yZHMiLCJvbkFmdGVyVmFsaWRhdGUiLCJpc1ZhbGlkIiwic291Y2UiLCJ2SW5kZXgiLCJ2SSIsInJvd0hlaWdodHMiLCJob3JpekRhdHVtTGlzdCIsImhvckNvbGxNZXRoTGlzdCIsInZlcnRDb2xsTWV0aExpc3QiLCJmaWxlVHlwZXNMaXN0IiwiYWdlbmNpZXNMaXN0Iiwic2hvd1RpcHMiLCJod21UeXBlcyIsImh3bVF1YWxzIiwiaG9yRGF0dW1zIiwiaG9yQ29sbE1ldGhzIiwidmVydERhdHVtcyIsInZlcnRDb2xsTWV0aHMiLCJjb3VudGllcyIsInNob3dQcm9ncmVzc0JhciIsInNpdGVOb0Fycm93Q2xpY2tlZCIsInVwbG9hZEhXTXMiLCJwb3N0ZWRIV01zIiwibm90VmFsaWQiLCJlbnZpckFycmF5IiwibWFya2VyQXJyYXkiLCJxdWFsQXJyYXkiLCJiYW5rQXJyYXkiLCJoZGF0dW1BcnJheSIsImhjb2xsTWV0aEFycmF5IiwidmRhdHVtQXJyYXkiLCJ2Y29sbE1ldGhBcnJheSIsInRyYW5xQXJyYXkiLCJjaG9zZW5FdmVudCIsImNob3NlbkV2ZW50TmFtZSIsImRlbEluZGV4Iiwic2l0ZVBlYWthcnJheSIsImFkZEFwcHJvdmFsRmlsZSIsImFwcHJvdmVkRklMRW1vZGFsIiwiYXBwcm92YWxfdHlwZSIsInVwZGF0ZUZpbGVUeXBlIiwiYWRkRmlsZSIsImNyZWF0ZWRGaWxlIiwiYXBwcm92YWxGaWxlIiwiYXBwcm92YWxTb3VyY2UiLCJnZXRGaW5kU2l0ZU1vZGFsIiwiaHdtUGFydHMiLCJkYXRhQXRSb3ciLCJkZXNlbGVjdENlbGwiLCJzaXRlTW9kYWwiLCJuZWFyQnlTaXRlcyIsIkhXTXBhcnRzIiwic2l0ZU5vQWxyZWFkeVRoZXJlIiwiaGRhdHVtcyIsImhjb2xNZXRocyIsInZkYXR1bXMiLCJ2Y29sTWV0aHMiLCJvdGhlckRhdGFJblJvdyIsImdldENvbEhlYWRlciIsIm51bWVyaWNWYWxpZGF0b3IiLCJod21RdWFsVmFsdWUiLCJnZXREYXRhQXRDZWxsIiwiYXBwcm9wcmlhdGVIV01RdWFsIiwibWF0Y2hpbmdERFZhbHVlIiwiaGFzRXJyb3IiLCJod1QiLCJod00iLCJod0UiLCJod1EiLCJod0IiLCJoRCIsImhDIiwidW5jZXJ0VmFsdWUiLCJhcHByb3ByaWF0ZXF1YWwiLCJyZW1vdmVUaGlzVXBsb2FkSFdNIiwic3VjY2Vzc2Z1bEhXTSIsInNwbGljZUluZGV4IiwiaGNtTmFtZSIsImhkTmFtZSIsImh3bVFOYW1lIiwiaHdtVE5hbWUiLCJtYXJrIiwidmNtTmFtZSIsInZkTmFtZSIsImhhZyIsImVsRnQiLCJ1bmMiLCJod21VbmMiLCJod21JIiwidXBsb2FkX2h3bVVuYyIsInVwbG9hZF9tYXJrIiwidXBsb2FkX3VuYyIsInVwbG9hZF9oYWciLCJ1cGxvYWRfZWxGdCIsInVwbG9hZF92Y29sbE1ldGgiLCJ1cGxvYWRfdmRhdCIsInZhbGlkYXRlVGFibGUiLCJoYXZlRGF0YSIsInZhbGlkYXRlQ2VsbHMiLCJwYXN0ZWRIV01zIiwiZ2V0U2l0ZVBlYWtzIiwicGVha1Jlc3BvbnNlIiwidXNlcklEIiwiaHdtUmVzcG9uc2UiLCJzaXRlUGVha0lkIiwiUGVha1N1bW1hcnkiLCJzb3VyY2VSZXNwb25zZSIsInNvdXJjZUVycm9yIiwiYXBwcm92ZUVycm9yIiwiaHdtU2F2ZUVycm9yIiwiZ2V0U2l0ZVBlYWtFcnJvciIsImdldEh3bVNpdGVFcnJvciIsImNsZWFyVGFibGUiLCJnb1RvU2l0ZURhc2giLCJ3YXJuaW5nTW9kYWwiLCJEZWxldGVIV00iLCJPcGVuSFdNRWRpdCIsImh3bUVkaXRJbnN0YW5jZSIsInNpdGVITVdzIiwiZ2V0RXZlbnRTaXRlSFdNcyIsImh3bVVwZGF0ZWRBTkRGaWxlQ250IiwiT3BlblBlYWtFZGl0IiwicGVha0lkIiwicGVha0VkaXRJbnN0YW5jZSIsImdldFNpdGVGaWxlcyIsInVwZGF0ZWQiLCJPcGVuUGVha0NyZWF0ZSIsInBlYWtDcmVhdGVJbnN0YW5jZSIsImNyZWF0ZWRQayIsInBIV00iLCJtYXhSb3dzIiwiY29sdW1uU29ydGluZyIsInByZXZlbnRPdmVyZmxvdyIsInJlYWxUYXJnZXQiLCJwYXNzSFdNdmFscyIsIm9uQWZ0ZXJSZW1vdmVSb3ciLCJnZXRTZWxlY3RlZCIsImVhY2hSb3dJbmRleEFycmF5IiwiY250IiwiTWkiLCJsb2NhbFNpdGVzIiwic2hvd1NpdGVDcmVhdGVBcmVhIiwiZGlzYWJsZU9LIiwiY3JlYXRlQ2hlY2tlZCIsInNob3dIaWRlTWFwIiwic2hvd0hpZGVDcmVhdGVTaXRlRGl2IiwidW5jaGtDcmVhdGUiLCJjaGVja2VkU2l0ZSIsInNlbGVjdGVkU3RuIiwic2hvd1NpdGVzT25NYXAiLCJmaXRNYXBCb3VuZHMiLCJzaXRlX25hbWUiLCJib3VuZHMiLCJmaXRCb3VuZHMiLCJwYWRkaW5nIiwic3RuSFdNIiwic2VsZWN0ZWRNYXJrZXIiLCJjcmVhdGVOZXdTaXRlIiwic2VsZWN0ZWRTaXRlIiwiZW5zdXJlaHdtTGFiZWxVbmlxdWUiLCJ1bmlxdWVNb2RhbCIsInF1ZXJ5U2VhcmNoIiwiSFdNX3BhcmFtcyIsInNlYXJjaENsaWNrZWQiLCJhZGp1c3RIV01zIiwiZXZlbnRTdGF0ZUhXTXMiLCJnZXRIV01zIiwiY291bnR5TmFtZXMiLCJjb3VudGllc0NvbW1hU2VwIiwic2V0QnVsa0hXTVNlYXJjaCIsIkNvdW50eSIsImlzUmVzcG9uc2UiLCJvbmUiLCJnZXRCdWxrSFdNU2VhcmNoIiwidGhlU2VhcmNoIiwiY0EiLCJIYW5kc29udGFibGUiLCJyZW5kZXJlcnMiLCJUZXh0UmVuZGVyZXIiLCJhcmd1bWVudHMiLCJiYWNrZ3JvdW5kIiwic2l0ZU5vUmVuZGVyZXIiLCJpbm5lckhUTUwiLCJudW1iZXJWYWxpZGF0b3IiLCJnZXRFdmVudFN0YXRlSFdNcyIsInVwZGF0ZVRoZXNlSFdNcyIsImV2SCIsInRoZXlIYXZlSXRIZXJlIiwic3VydnllX2RhdGUiLCJ1Iiwic2l0ZV9udW1iZXIiLCJmaWxsSGFuZGxlIiwiYXV0b0luc2VydFJvdyIsIiRkb2N1bWVudCIsImlzQXV0aCIsImRvY3VtZW50TW9kZSIsInVzZXJzTmFtZSIsIkxvZ0luT3V0Q29udHJvbGxlciIsIkVOVklST05NRU5UIiwiTG9naW4iLCJuZXdzVGl0bGUiLCJuZXdzRmVlZCIsImdldE5ld3NGZWVkIiwicGFyYWdyYXBoVGFncyIsImJvZHkiLCJzdG9yYWdlIiwia2V5cHJlc3MiLCIkcGFzc3dvcmQiLCJ0b29sdGlwVmlzaWJsZSIsImlzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidG9VcHBlckNhc2UiLCJzaGlmdEtleSIsInRvb2x0aXAiLCJibHVyIiwiZW52aXJvbm1lbnQiLCJ1cCIsImxvZ2luIiwidXNlciIsInJldHVyblRvU3RhdGUiLCJyZXR1cm5Ub1N0YXRlUGFyYW1zIiwibG9nb3V0IiwicmVtb3ZlIiwiYXBwcm92YWxTZWFyY2giLCJoZWxwSW5mbyIsImZhY3QiLCJ0aGlzRmlsZSIsImZpbGVFeGlzdHMiLCJmaWxlU291cmNlIiwiZmlsZVNpdGUiLCJGSUxFdmFsIiwidGhlU2l0ZSIsImNyZWF0ZU9SZWRpdEZpbGUiLCJmaWxlQ29weSIsInNvdXJjZUNvcHkiLCJ3aG9zZUZpbGUiLCJhZ2VuY3lOYW1lIiwiYVByb2Nlc3NvciIsImNoYW5nZWRGaWxlVHlwZSIsImRmQ29weSIsIndoYXRraW5kIiwid2FubmFFZGl0RklMRSIsImNhbmNlbEZJTEVFZGl0IiwidGhpc1NpdGVGaWxlcyIsInNpdGVTZW5zb3JzIiwid2hhdEtpbmRhRmlsZSIsInRoaXNJbnMiLCJ0eXBlTmFtZSIsInNlcmlhbF9udW1iZXIiLCJTaXRlRmlsZXMiLCJleHRJIiwiZXh0U3RyaW5nIiwic2l0ZWZpbGVzIiwiZ2V0QWxsU2l0ZUhXTXMiLCJnZXRBbGxTaXRlU2Vuc29ycyIsImh3bUZpbGVzIiwic2ZpbGVzIiwic2Vuc0ZpbGVzIiwic2ZpIiwiRWhmIiwiRWh3bSIsIkVzZiIsIkVpbnN0Iiwic2hvd0ZpbGVNb2RhbCIsIkZpbGVDbGlja2VkIiwiU2luZGV4Q2xpY2tlZCIsInNpdGVGaWxlVHlwZXMiLCJzZW5zb3JGaWxlVHlwZXMiLCJFdmVudExpc3QiLCJFdmVudFR5cGVMaXN0IiwiY2hvc2VuRXYiLCJFdmVudENob3NlbiIsImZpbHRlckV2ZW50cyIsIkRBVEUiLCJnZXRGaWx0ZXJlZEV2ZW50cyIsIlR5cGUiLCJzZXRFdmVudCIsImV2ZW50TmFtZSIsImNsZWFyRXZlbnQiLCJvcGVuRXZlbnRNb2RhbCIsImV2ZW50U3RhdHVzTGlzdCIsImFkbWluTGlzdCIsImV2ZW50U2l0ZXMiLCJkb3dubG9hZFppcFVybCIsIm9iamVjdENob2ljZXMiLCJhbkV2ZW50IiwiZXZlbnRTdGF0dXNlcyIsImFkbWluTWVtYmVycyIsIkVWdmFsIiwid2FubmFFZGl0RVYiLCJldkNvcHkiLCJjYW5jZWxFVkVkaXQiLCJjcmVhdGVPUmVkaXRFViIsImV2TW9kYWxIZWFkZXIiLCJldmVudF9zdGFydF9kYXRlIiwiZXZlbnRfZW5kX2RhdGUiLCJjb21wYXJlRGF0ZXMiLCJjcmVhdGVkRXZlbnQiLCJTdGF0dXMiLCJjb29yZCIsIlN0YXJ0RGF0ZSIsIkVuZERhdGUiLCJDb29yZCIsInVwZGF0ZWRFdmVudCIsImRlbGV0ZUVWIiwiZXYiLCJldmVudFRvUmVtb3ZlIiwiemlwRmlsZVBhcmFtcyIsImZpbGVzRm9yIiwic3RhdGVOYW1lIiwiZnJvbURhdGUiLCJ0b0RhdGUiLCJzaXRlQ291bnR5TGlzdCIsImV2ZW50U3RhdGVzIiwic2NsIiwiSFdNZmlsZVR5cGVzIiwic2Vuc29yZmlsZVR5cGVzIiwidXBkYXRlZmlsZVR5cGVDaGVja3MiLCJod21GaWxlVHlwZXNXYW50ZWQiLCJod21GaWxlVHlwZXNTdHJpbmciLCJzZW5zb3JGaWxlVHlwZXNTdHJpbmciLCJod21GVCIsInNlbkZUIiwiZmlsZVR5cGVDaGVja0xpc3QiLCJmaWxlc1dhbnRlZENob3NlbiIsImNoZWNrZWRGaWxlIiwic2Vuc29yRmlsZVR5cGVzV2FudGVkIiwiRG93bmxvYWRaaXAiLCJmb3JtYXR0ZWRGcm9tRGF0ZSIsImZvcm1hdHRlZFRvRGF0ZSIsImZpbGVwYXRoIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInVzZ3NXaU1tZXNzYWdlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJibG9iIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidXJsQ3JlYXRvciIsIndlYmtpdFVSTCIsIm1velVSTCIsIm1zVVJMIiwiYXBwZW5kQ2hpbGQiLCJzZW5kIiwiRGVsZXRlRXZlbnQiLCJkZWxFdiIsImV2ZW50Q29vcmRMaXN0IiwidGhpc0V2ZW50VHlwZSIsInRoaXNFdmVudFN0YXR1cyIsIkVDIiwidGhpc0V2ZW50Q29vcmQiLCJFIiwiQ09VTlRJRVMiLCJhbGxDb29yZE1lbWJlcnMiLCJpc0FkbWluIiwiVGluZGV4Iiwic2hvd0V2ZW50TW9kYWwiLCJldmVudENsaWNrZWQiLCJpbnN0cnVtZW50TGlzdCIsImFsbEluc3RydW1lbnRzIiwiQ2hvc2VuRXZlbnQiLCJDaG9zZW5TdGF0ZSIsIkNob3NlbkNvdW50aWVzIiwidW5BcHByb3ZlZEhXTXMiLCJzaG93SFdNYm94IiwidW5BcHByb3ZlZERGcyIsInNob3dERmJveCIsInNpdGVzV09wZWFrcyIsInNob3dQZWFrYm94Iiwic2VhcmNoIiwiY2hvc2VuQ291bnRpZXMiLCJzdGF0ZUlEIiwiZ2V0VW5hcHByb3ZlZEhXTXMiLCJJc0FwcHJvdmVkIiwic3Jlc3BvbnNlIiwiZ2V0VW5hcHByb3ZlZERGcyIsIkRGcyIsInRoaXNkZkluc3QiLCJmb3JtYXR0ZWRERiIsIlNpdGVJZCIsInNlblR5cGUiLCJkZXBUeXBlIiwiSW5zdHJJRCIsIlNpdGVObyIsImdldFBlYWtsZXNzU2l0ZXMiLCJyZXNwMiIsImNhSSIsImNJIiwiY291bnR5X2lkIiwiYXBwcm92ZUNoZWNrIiwiaEFycmF5Iiwic29tZSIsImFwcHJvdmVUaGVzZSIsIlNUTlJlc291cmNlIiwicm9vdFVSTCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJwYXJhbXMiLCJpc0FycmF5IiwiY2FjaGUiLCJkZWxldGUiLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJzdG9ybVNjcmlwdCIsImdldERlcFNlbnNUeXBlIiwiZ2V0VEVTVGRhdGEiLCJkb3dubG9hZFppcCIsImdldFRpbWUiLCIkYnJvYWRjYXN0IiwiYnVsa1NlYXJjaCIsInNoIiwic2VhcmNoVGVybXMiLCJnZXRTZW5zb3JWaWV3IiwiZ2V0c3RhdHVzSW5zdHJ1bWVudHMiLCJnZXRJbnN0cnVtZW50U3RhdHVzIiwiTWFwU2l0ZVBhcnRzIiwiZ2V0TWFwU2l0ZVBhcnRzIiwicFJlc3BvbnNlIiwiZmlsdGVyZWRTaXRlcyIsImdldFJvbGVNZW1iZXJzIiwiZ2V0RXZlbnRQZW9wbGUiLCJnZXRPUEZpbGVzIiwiZ2V0UmVwb3J0QnlFdlN0IiwiZ2V0TWVtYmVyUmVwb3J0cyIsIlJlcG9ydElkIiwiQ29udGFjdFR5cGVJZCIsInNlbnNvclNjcmlwdFJ1bm5pbmciLCJ0cmFuc2Zvcm1SZXNwb25zZSIsImZyb21Kc29uIiwiZ2V0U2l0ZU5ldHdvcmtUeXBlcyIsIk5ldHdvcmtUeXBlSWQiLCJnZXRTaXRlTmV0d29ya05hbWVzIiwiTmV0d29ya05hbWVJZCIsImdldFNpdGVIb3VzaW5ncyIsImdldFNpdGVIV01zIiwiaXNSdW5uaW5nIiwicnVubmluZyIsIlNUTkJ1c2luZXNzU2VydmljZXMiLCJ1biIsInB3IiwidXNlck5hbWUiLCJ0b2tlbiIsIlNUTkNyZWRzIiwiU1ROVXNlcm5hbWUiLCJtSUQiLCJ1c2Vyc1JvbGUiLCJldklkIiwiZXZOYW1lIiwiU2Vzc2lvbkV2ZW50SUQiLCJTZXNzaW9uRXZlbnROYW1lIiwidElkIiwidE5hbWUiLCJTZXNzaW9uVGVhSUQiLCJTZXNzaW9uVGVhbU5hbWUiLCJsb2dnZWRJbiIsImlzTG9nZ2VkSW4iLCJjaGFuZ2VMb2dnZWRJbiIsIlllc09yTm8iLCJyZXR1cm5WYWwiLCJ1c2VzTmFtZSIsIm5hbWVUb1JtdiIsIklucHV0bWFzayIsImFsaWFzIiwib3B0cyIsIm5vTWFza3NDYWNoZSIsImRlZmluaXRpb25zIiwidXNlck9wdGlvbnMiLCJyZXNvbHZlQWxpYXMiLCJpc0lucHV0RXZlbnRTdXBwb3J0ZWQiLCJpc1N1cHBvcnRlZCIsInNldEF0dHJpYnV0ZSIsImlzSW5wdXRUeXBlU3VwcG9ydGVkIiwiaW5wdXRUeXBlIiwiYWxpYXNTdHIiLCJhbGlhc0RlZmluaXRpb24iLCJhbGlhc2VzIiwibWFzayIsImltcG9ydEF0dHJpYnV0ZU9wdGlvbnMiLCJucHQiLCJpbXBvcnRPcHRpb24iLCJvcHRpb24iLCJvcHRpb25EYXRhIiwiZ2V0QXR0cmlidXRlIiwiZGF0YW9wdGlvbnMiLCJhdHRyT3B0aW9ucyIsIlJlZ0V4cCIsInBhcnNlIiwiZ2VuZXJhdGVNYXNrU2V0Iiwibm9jYWNoZSIsImFuYWx5c2VNYXNrIiwiTWFza1Rva2VuIiwiaXNHcm91cCIsImlzT3B0aW9uYWwiLCJpc1F1YW50aWZpZXIiLCJpc0FsdGVybmF0b3IiLCJtYXRjaGVzIiwicXVhbnRpZmllciIsImluc2VydFRlc3REZWZpbml0aW9uIiwibXRva2VuIiwibWFza2RlZiIsInByZXZNYXRjaCIsImVzY2FwZWQiLCJpc0Z1bmN0aW9uIiwicHJldmFsaWRhdG9ycyIsInByZXZhbGlkYXRvciIsInByZXZhbGlkYXRvcnNMIiwiY2FyZGluYWxpdHkiLCJ2YWxpZGF0b3IiLCJmbiIsIm9wdGlvbmFsaXR5IiwibmV3QmxvY2tNYXJrZXIiLCJkZWYiLCJkZWZpbml0aW9uU3ltYm9sIiwiY2FzaW5nIiwidmVyaWZ5R3JvdXBNYXJrZXIiLCJsYXN0TWF0Y2giLCJpc09wZW5Hcm91cCIsImdyb3VwbWFya2VyIiwic3RhcnQiLCJlbmQiLCJtYXNrQ3VycmVudFRva2VuIiwiY3VycmVudFRva2VuIiwiZXh0cmFDb25kaXRpb24iLCJkZWZhdWx0Q2FzZSIsIm9wZW5lbmluZ3MiLCJjdXJyZW50T3BlbmluZ1Rva2VuIiwiYWx0ZXJuYXRvciIsInBvcCIsIm1uZHgiLCJyZXZlcnNlVG9rZW5zIiwibWFza1Rva2VuIiwicmV2ZXJzZVN0YXRpYyIsIm9wdGlvbmFsbWFya2VyIiwiaW50TWF0Y2giLCJxdCIsIm9wZW5pbmdUb2tlbiIsImdyb3VwVG9rZW4iLCJ0b2tlbml6ZXIiLCJtYXNrVG9rZW5zIiwiZXhlYyIsImNoYXJBdCIsImVzY2FwZUNoYXIiLCJxdWFudGlmaWVybWFya2VyIiwibXEiLCJtcTAiLCJtcTEiLCJhbHRlcm5hdG9ybWFya2VyIiwibnVtZXJpY0lucHV0IiwiZ2VuZXJhdGVNYXNrIiwibWV0YWRhdGEiLCJncmVlZHkiLCJyZXBlYXQiLCJyZXBlYXRTdGFydCIsIm1hc2tzZXREZWZpbml0aW9uIiwibWFza3NDYWNoZSIsInZhbGlkUG9zaXRpb25zIiwiX2J1ZmZlciIsImJ1ZmZlciIsInRlc3RzIiwicHJlUHJvY2Vzc01hc2siLCJrZWVwU3RhdGljIiwiYWx0TWFzayIsIm5keCIsIm1zayIsIm1hc2tTY29wZSIsImFjdGlvbk9iaiIsIm1hc2tzZXQiLCJnZXRNYXNrVGVtcGxhdGUiLCJiYXNlT25JbnB1dCIsIm1pbmltYWxQb3MiLCJpbmNsdWRlSW5wdXQiLCJuZHhJbnRsenIiLCJ0ZXN0UG9zIiwibWFza1RlbXBsYXRlIiwicG9zIiwiZ2V0TWFza1NldCIsInZhbGlkUG9zIiwibG9jYXRvciIsImlucHV0IiwiZ2V0UGxhY2Vob2xkZXIiLCJnZXRUZXN0VGVtcGxhdGUiLCJtYXhMZW5ndGgiLCJyZXNldE1hc2tTZXQiLCJzb2Z0IiwiZ2V0TGFzdFZhbGlkUG9zaXRpb24iLCJjbG9zZXN0VG8iLCJzdHJpY3QiLCJsYXN0VmFsaWRQb3NpdGlvbiIsInZhbGlkcyIsImJlZm9yZSIsImFmdGVyIiwicG9zTmR4IiwicHNOZHgiLCJzZXRWYWxpZFBvc2l0aW9uIiwidmFsaWRUZXN0IiwiZnJvbVNldFZhbGlkIiwiaW5zZXJ0TW9kZSIsInBvc2l0aW9uc0Nsb25lIiwibHZwIiwiaiIsInZwcyIsInBvc01hdGNoIiwicHJldlBvc01hdGNoIiwiZ2V0TWFza0xlbmd0aCIsIm9wdGlvbmFsUXVhbnRpZmllciIsImdldFRlc3RzIiwiYWx0ZXJuYXRpb24iLCJzZWVrTmV4dCIsInBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uIiwic3RyaXBWYWxpZFBvc2l0aW9ucyIsIm5vY2hlY2siLCJzdGFydFBvcyIsImNhbkNsZWFyUG9zaXRpb24iLCJpc01hc2siLCJtbCIsInJhZGl4UG9pbnQiLCJ0c3RQcyIsInRlc3RQb3NpdGlvbnMiLCJsdlRlc3QiLCJsdlRlc3RBbHRBcnIiLCJjaGVja0FsdGVybmF0aW9uTWF0Y2giLCJnZXRUZXN0IiwidG5keCIsImNhY2hlYWJsZSIsInJlc29sdmVUZXN0RnJvbVRva2VuIiwibmR4SW5pdGlhbGl6ZXIiLCJsb29wTmR4IiwicXVhbnRpZmllclJlY3Vyc2UiLCJoYW5kbGVNYXRjaCIsImluQXJyYXkiLCJvcHRpb25hbFRva2VuIiwibGF0ZXN0TWF0Y2giLCJpc0ZpcnN0TWF0Y2giLCJpbnNlcnRTdG9wIiwibWFsdE1hdGNoZXMiLCJhbHRlcm5hdGVUb2tlbiIsIm1hbHRlcm5hdGVNYXRjaGVzIiwiY3VycmVudE1hdGNoZXMiLCJsb29wTmR4Q250IiwiYWx0SW5kZXgiLCJjdXJyZW50UG9zIiwibmR4SW5pdGlhbGl6ZXJDbG9uZSIsImFsdEluZGV4QXJyIiwiYW1uZHgiLCJudG5keCIsImxtbnQiLCJuZHgxIiwiYWx0TWF0Y2giLCJuZHgyIiwiYWx0TWF0Y2gyIiwiaXNGaW5pdGUiLCJtYW1hdGNoIiwiYWx0TG9jQXJyIiwiYWxuZHgiLCJxbmR4IiwidG9rZW5Hcm91cCIsInByZXZpb3VzUG9zIiwibXRuZHgiLCJnZXRCdWZmZXJUZW1wbGF0ZSIsImdldEJ1ZmZlciIsIm5vQ2FjaGUiLCJyZWZyZXNoRnJvbUJ1ZmZlciIsInNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIiLCJhbHRBcnIxIiwiYWx0QXJyMiIsImFsdEFyckMiLCJpc01hdGNoIiwiX2lzVmFsaWQiLCJyc2x0IiwidHN0IiwibG9vcGVuZCIsImNocnMiLCJnZXRCdWZmZXJFbGVtZW50IiwidmFsaWRhdGVkUG9zIiwicG9zc2libGVNb2RpZmllZEJ1ZmZlciIsImluc2VydCIsInJlZnJlc2giLCJhbHRlcm5hdGUiLCJsYXN0QWx0IiwiaXNWYWxpZFJzbHQiLCJhbHRQb3MiLCJ2YWxpZFBzQ2xvbmUiLCJsQWx0IiwiZGVjaXNpb25Qb3MiLCJhbHROZHhzIiwiZGVjaXNpb25UYWtlciIsInBvc3NpYmlsaXR5UG9zIiwicG9zc2liaWxpdGllcyIsInZhbGlkSW5wdXRzIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zIiwidGFyZ2V0THZwIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlIiwidHJhY2tiYWNrQWx0ZXJuYXRpb25zIiwib3JpZ2luYWxQb3MiLCJuZXdQb3MiLCJ2cCIsInRhcmdldExvY2F0b3IiLCJ0bGwiLCJiZXN0TWF0Y2giLCJlcXVhbGl0eSIsInBuZHgiLCJtYXNrUG9zIiwiY3VycmVudFBvc1ZhbGlkIiwiblBvcyIsInNuUG9zIiwiY2FyZXQiLCJpc0NvbXBsZXRlIiwicG9zdFZhbGlkYXRpb24iLCJwb3N0VmFsaWRSZXN1bHQiLCJzdGF0aWNBbHRlcm5hdGlvbnMiLCJtYXNrTGVuZ3RoIiwibGFzdFRlc3QiLCJuZXdCbG9jayIsIm1hc2tMIiwibm9qdW1wcyIsIm5vanVtcHNUaHJlc2hvbGQiLCJzZWVrUHJldmlvdXMiLCJ3cml0ZUJ1ZmZlciIsImNhcmV0UG9zIiwidHJpZ2dlcklucHV0RXZlbnQiLCJvbkJlZm9yZVdyaXRlIiwiX3ZhbHVlU2V0Iiwic2tpcElucHV0RXZlbnQiLCJwcmV2VGVzdCIsImhhc0FsdGVybmF0aW9ucyIsImNoZWNrVmFsIiwid3JpdGVPdXQiLCJucHR2bCIsImlzVGVtcGxhdGVNYXRjaCIsImNoYXJDb2RlTmR4IiwiaW5pdGlhbE5keCIsImNoYXJDb2RlcyIsImJ1ZmZlclRlbXBsYXRlQXJyIiwiYXV0b1VubWFzayIsInN0YXRpY0lucHV0IiwiZXNjYXBlUmVnZXgiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJuZXh0VGVzdCIsImtleXByZXNzRXZlbnQiLCJhY3RpdmVFbGVtZW50IiwidW5tYXNrZWR2YWx1ZSIsInVtVmFsdWUiLCJ1bm1hc2tlZFZhbHVlIiwiaXNSVEwiLCJidWZmZXJWYWx1ZSIsIm9uVW5NYXNrIiwiYmVnaW4iLCJ0cmFuc2xhdGVQb3NpdGlvbiIsImJmZnJMZ2h0IiwicmFuZ2UiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U2VsZWN0aW9uIiwiZ2V0UmFuZ2VBdCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJtb3ZlU3RhcnQiLCJzY3JvbGxDYWxjIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsImZvbnRTaXplIiwic2Nyb2xsTGVmdCIsInNjcm9sbFdpZHRoIiwiYW5kcm9pZGNocm9tZSIsImZpcnN0Q2hpbGQiLCJ0ZXh0Tm9kZSIsImNyZWF0ZVRleHROb2RlIiwic2V0U3RhcnQiLCJfdmFsdWVHZXQiLCJzZXRFbmQiLCJjb2xsYXBzZSIsInNlbCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiY3JlYXRlVGV4dFJhbmdlIiwibW92ZUVuZCIsImRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uIiwicmV0dXJuRGVmaW5pdGlvbiIsImJsIiwicG9zaXRpb25zIiwibHZUZXN0QWx0IiwiY2xlYXJPcHRpb25hbFRhaWwiLCJybCIsImxtaWIiLCJscnAiLCJhbWwiLCJpc1NlbGVjdGlvbiIsIndyYXBFdmVudFJ1bGVyIiwiZXZlbnRIYW5kbGVyIiwiaW5Db21wb3NpdGlvbiIsImtleWRvd25QcmVzc2VkIiwiaW1PcHRzIiwib2ZmIiwicmVhZE9ubHkiLCJjdHJsS2V5IiwidGFiVGhyb3VnaCIsIlRBQiIsInNraXBLZXlQcmVzc0V2ZW50IiwicGF0Y2hWYWx1ZVByb3BlcnR5IiwicGF0Y2hWYWxob29rIiwidmFsSG9va3MiLCJpbnB1dG1hc2twYXRjaCIsInZhbGhvb2tHZXQiLCJ2YWxob29rU2V0Iiwic2V0IiwiYnVmZmVyVGVtcGxhdGUiLCIkZWxlbSIsImdldHRlciIsInZhbHVlR2V0IiwiY2xlYXJNYXNrT25Mb3N0Rm9jdXMiLCJzZXR0ZXIiLCJ2YWx1ZVNldCIsImluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrIiwiJGlucHV0IiwiX192YWx1ZUdldCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInRleHRDb250ZW50IiwiZGVmaW5lUHJvcGVydHkiLCJfX2xvb2t1cEdldHRlcl9fIiwiX19sb29rdXBTZXR0ZXJfXyIsIl9fZGVmaW5lR2V0dGVyX18iLCJfX2RlZmluZVNldHRlcl9fIiwib3ZlcnJ1bGVSVEwiLCJfX3ZhbHVlU2V0IiwiaGFuZGxlUmVtb3ZlIiwiZ2VuZXJhbGl6ZSIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsInBlbmQiLCJncm91cFNlcGFyYXRvciIsImtleWRvd25FdmVudCIsImlwaG9uZSIsInVuZG9WYWx1ZSIsInNob3dUb29sdGlwIiwiRU5EIiwiUEFHRV9ET1dOIiwiSE9NRSIsIlBBR0VfVVAiLCJ1bmRvT25Fc2NhcGUiLCJFU0NBUEUiLCJhbHRLZXkiLCJJTlNFUlQiLCJSSUdIVCIsIkxFRlQiLCJvbktleURvd24iLCJpZ25vcmFibGUiLCJpZ25vcmFibGVzIiwiY2hlY2t2YWwiLCJtZXRhS2V5IiwiRU5URVIiLCJmb3J3YXJkUG9zaXRpb24iLCJpc1NsY3RuIiwidW5kb1Bvc2l0aW9ucyIsIm11bHRpIiwid3JpdGVPdXRCdWZmZXIiLCJ2YWxSZXN1bHQiLCJzZWxmIiwib25LZXlWYWxpZGF0aW9uIiwicGFzdGVFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJ2YWx1ZUJlZm9yZUNhcmV0IiwidmFsdWVBZnRlckNhcmV0IiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJwYXN0ZVZhbHVlIiwib25CZWZvcmVQYXN0ZSIsImlucHV0RmFsbEJhY2tFdmVudCIsIm1vYmlsZUlucHV0RXZlbnQiLCJjb21wb3NpdGlvblN0YXJ0RXZlbnQiLCJjb21wb3NpdGlvbkRhdGEiLCJjb21wb3NpdGlvblVwZGF0ZUV2ZW50IiwibmV3RGF0YSIsImNvbXBvc2l0aW9uRW5kRXZlbnQiLCJzZXRWYWx1ZUV2ZW50Iiwib25CZWZvcmVNYXNrIiwiY2xlYXJJbmNvbXBsZXRlIiwiZm9jdXNFdmVudCIsIm5wdFZhbHVlIiwic2hvd01hc2tPbkZvY3VzIiwic2hvd01hc2tPbkhvdmVyIiwibW91c2VFbnRlciIsInBvc2l0aW9uQ2FyZXRPblRhYiIsIm1vdXNlbGVhdmVFdmVudCIsImNsaWNrRXZlbnQiLCJkb1JhZGl4Rm9jdXMiLCJjbGlja1BvcyIsInJhZGl4Rm9jdXMiLCJyYWRpeFBvcyIsInNlbGVjdGVkQ2FyZXQiLCJjbGlja1Bvc2l0aW9uIiwibHZjbGlja1Bvc2l0aW9uIiwibGFzdFBvc2l0aW9uIiwiZGJsY2xpY2tFdmVudCIsImN1dEV2ZW50IiwiY2xpcERhdGEiLCJzZXREYXRhIiwiZXhlY0NvbW1hbmQiLCJibHVyRXZlbnQiLCJtb3VzZWVudGVyRXZlbnQiLCIkZWwiLCJkaXIiLCJyaWdodEFsaWduIiwidGV4dEFsaWduIiwicmVtb3ZlQXR0cmlidXRlIiwidGFnTmFtZSIsImlzQ29udGVudEVkaXRhYmxlIiwiZm9ybSIsInJlbW92ZU1hc2tPblN1Ym1pdCIsIlBhc3RlRXZlbnRUeXBlIiwib25jb21wbGV0ZSIsIm9uaW5jb21wbGV0ZSIsIm9uY2xlYXJlZCIsImFuZHJvaWRmaXJlZm94IiwiYW5kcm9pZCIsImtpbmRsZSIsImluaXRpYWxWYWx1ZSIsInZhbHVlQnVmZmVyIiwidmFsdWVQcm9wZXJ0eSIsImZpcnN0QWx0Iiwibm9vcCIsInBhc3RlZFZhbHVlIiwic3VwcG9ydHNJbnB1dFR5cGUiLCI5IiwiKiIsImVsZW1zIiwidGhhdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlTmFtZSIsInNjb3BlZE9wdHMiLCJnZXRlbXB0eW1hc2siLCJoYXNNYXNrZWRWYWx1ZSIsImdldG1ldGFkYXRhIiwiZXh0ZW5kRGVmYXVsdHMiLCJleHRlbmREZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJleHRlbmRBbGlhc2VzIiwidW5tYXNrIiwic3RyIiwic3BlY2lhbHMiLCJBTFQiLCJDQVBTX0xPQ0siLCJDT01NQSIsIkNPTU1BTkQiLCJDT01NQU5EX0xFRlQiLCJDT01NQU5EX1JJR0hUIiwiQ09OVFJPTCIsIkRPV04iLCJNRU5VIiwiTlVNUEFEX0FERCIsIk5VTVBBRF9ERUNJTUFMIiwiTlVNUEFEX0RJVklERSIsIk5VTVBBRF9FTlRFUiIsIk5VTVBBRF9NVUxUSVBMWSIsIk5VTVBBRF9TVUJUUkFDVCIsIlBFUklPRCIsIlNISUZUIiwiU1BBQ0UiLCJVUCIsIldJTkRPV1MiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImpRdWVyeSIsIm5wdG1hc2siLCJqcXVlcnkiLCJ0cmlnZ2VySGFuZGxlciIsImRkL21tL3l5eXkiLCJ2YWwxcHJlIiwidmFsMSIsInZhbDJwcmUiLCJzZXBhcmF0b3IiLCJlc2NhcGVkU2VwYXJhdG9yIiwidmFsMiIsImxlYXBkYXkiLCJ5ZWFycmFuZ2UiLCJtaW55ZWFyIiwibWF4eWVhciIsImlzSW5ZZWFyUmFuZ2UiLCJlbnRlcmVkeWVhciIsImVudGVyZWR5ZWFyMiIsImRldGVybWluZWJhc2V5ZWFyIiwiaGludCIsImN1cnJlbnR5ZWFyIiwibWF4WWVhclByZWZpeCIsIm1heFllYXJQb3N0Zml4IiwibWF4eFllYXIiLCJnZXRGcm9udFZhbHVlIiwiMSIsInBjaHJzIiwiMiIsImZyb250VmFsdWUiLCJkYXlNb250aFZhbHVlIiwieWVhclByZWZpeCIsIm1tL2RkL3l5eXkiLCJ5eXl5L21tL2RkIiwiZGQubW0ueXl5eSIsImRkLW1tLXl5eXkiLCJtbS5kZC55eXl5IiwibW0tZGQteXl5eSIsInl5eXkubW0uZGQiLCJ5eXl5LW1tLWRkIiwiaHJzcHJlIiwiaHJzMjQiLCJocnMiLCJhbXBtIiwibXNwcmUiLCJ0aW1lc2VwYXJhdG9yIiwiaG91ckZvcm1hdCIsInRtcCIsImRhdGV0aW1lMTIiLCJtbS9kZC95eXl5IGhoOm1tIHhtIiwiaGg6bW0gdCIsImg6cyB0IiwiaGg6bW06c3MiLCJoaDptbSIsIm1tL3l5eXkiLCJzaGFtc2kiLCJBIiwiJiIsIiMiLCJkZWZhdWx0UHJlZml4IiwidXJscHJlMSIsInVybHByZTIiLCJ1cmxwcmUzIiwidXJscHJlNCIsInVybHByZTUiLCJ1cmxwcmU2IiwidXJscHJlNyIsInVybHByZTgiLCJwcmVmaXhMaW1pdCIsImlwIiwibWFza2VkVmFsdWUiLCJtYWMiLCJudW1lcmljIiwiYXV0b0VzY2FwZSIsInR4dCIsImVzY2FwZWRUeHQiLCJpbnRlZ2VyRGlnaXRzIiwiYXV0b0dyb3VwIiwiZ3JvdXBTaXplIiwic2VwcyIsIm1vZCIsImludGVnZXJPcHRpb25hbCIsImRpZ2l0c09wdGlvbmFsIiwiZGlnaXRzIiwiZGVjaW1hbFByb3RlY3QiLCJwcmVmaXgiLCJuZWdhdGlvblN5bWJvbCIsInN1ZmZpeCIsImFsbG93UGx1cyIsImFsbG93TWludXMiLCJmcm9udCIsInN0ZXAiLCJ1bm1hc2tBc051bWJlciIsInBvc3RGb3JtYXQiLCJyZWZvcm1hdE9ubHkiLCJzdWZmaXhTdHJpcHBlZCIsIm5lZWRzUmVmcmVzaCIsImNoYXJBdFBvcyIsImNidWYiLCJidWZWYWwiLCJidWZWYWxPcmlnaW4iLCJlc2NhcGVkR3JvdXBTZXBhcmF0b3IiLCJyYWRpeFNwbGl0IiwicmVnIiwicHJvY2Vzc1ZhbHVlIiwidG1wQnVmU3BsaXQiLCJtYXRjaFJzbHQiLCJpbnRlZ2VyUGFydCIsIm1hdGNoUnNsdERpZ2l0cyIsImludGVnZXJOUGFydCIsInJhZGl4UG9zaXRpb24iLCJzaWduSGFuZGxlciIsInJhZGl4SGFuZGxlciIsImludGVnZXJWYWx1ZSIsImxlYWRpbmdaZXJvSGFuZGxlciIsIl9yYWRpeFBvc2l0aW9uIiwiZGlnaXRzTWF0Y2giLCJpbnRlZ2VyTWF0Y2giLCJ+IiwiKyIsIi0iLCI6IiwicmFkaXgiLCJidWZDbG9uZSIsImtvbW1hTWF0Y2hlcyIsImRvdE1hdGNoZXMiLCJ2YWx1ZVBhcnRzIiwiZGVjUGFydCIsImRpZ2l0c0ZhY3RvciIsInBvdyIsInJvdW5kIiwicG9zaXRpb25JbnB1dCIsImNhbkNsZWFyIiwicmFkaXhJbmplY3Rpb24iLCJpc051bGwiLCJpbnRQYXJ0IiwicmFkaXhQYXJ0IiwiY3VycmVuY3kiLCJkZWNpbWFsIiwiaW50ZWdlciIsInBlcmNlbnRhZ2UiLCJjb3VudHJ5Y29kZSIsIm1hc2tMaXN0IiwiYWpheCIsImFzeW5jIiwiZGF0YVR5cGUiLCJhamF4T3B0aW9ucyIsInRocm93bkVycm9yIiwicHJvY2Vzc2VkVmFsdWUiLCJwaG9uZWJlIiwiUmVnZXgiLCJyZWdleFRva2VucyIsInF1YW50aWZpZXJGaWx0ZXIiLCJSZWdleFRva2VuIiwicmVwZWF0ZXJQYXJ0IiwiYW5hbHlzZVJlZ2V4Iiwib3Blbmdyb3VwcyIsInF1YW50aWZpZXJUb2tlbiIsInZhbGlkYXRlUmVnZXhUb2tlbiIsImZyb21Hcm91cCIsImlzdmFsaWQiLCJyZWdleFBhcnQiLCJvcGVuR3JvdXBDb3VudCIsIm1hdGNoVG9rZW4iLCJjcnJudG5keCIsIm1hdGNoR3JvdXAiLCJyZWdleFBhcnRCYWsiLCJxbSIsInRlc3RFeHAiLCJleHAiLCJidWZmZXJTdHIiLCJ0bCIsImNidWZmZXIiLCJyZWdleFRva2VuIiwiYXBwIiwicnVuIiwiJHVpYk1vZGFsU3RhY2siLCJhdXRoZW50aWNhdGUiLCJkaXNtaXNzQWxsIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJ2aWV3cyIsIm1hcEZpbHRlcnNAbWFwIiwic2Vuc1QiLCJuZXR3TiIsIm1hcFNpdGVJbmZvQG1hcCIsIm1hcFBlYWtzVmlld0BtYXAiLCJtYXBTZW5zb3JQcm9wb3NlQG1hcCIsImFic3RyYWN0IiwibWVtYmVySWQiLCJyb2xlSWQiLCJod21UIiwic3N0YXQiLCJzcXVhc2giLCJsYXRsb25nYXJyYXkiLCJ2ZXJ0RGF0cyIsInZlcnRDb2xNZXQiLCJvcFF1YWwiLCJzZW50IiwiYU1hcCIsIlZpZXdUeXBlIiwicGVhayJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFQSxZQUVBLEVBQUEsR0FHQUEsaUJBSEFDLFFBQUFDLE9BQUEsdUJBQ0Esa0JBQUEsY0FBQSxpQkFBQSxZQUFBLGtCQUFBLGlCQUVBRCxRQUFBQyxPQUFBLHFCQUNBRCxTQUFBQyxPQUFBLHVCQVVBRixlQUFBRyxTQUFBLFVBQ0FDLFNBQUEsOExDbkJBLFdBRUEsWUFDQSxJQUFBSixnQkFBQUMsUUFBQUMsT0FBQSxpQkFJQUYsZ0JBQUFLLFVBQUEsYUFBQSxTQUFBLFNBQUFDLFFBQ0EsR0FBQUMsNEJBRUFDLFNBQUEsSUFFQUMsU0FBQSxFQUNBQyxPQUNBQyxLQUFBLGtCQUVBQyxLQUFBLFNBQUFGLE1BQUFHLFFBQUFDLE9BRUEsR0FFQUMsUUFGQUQsTUFBQUUsY0FBQUMsTUFBQSxLQUVBQyxHQUFBQyxPQUFBTixRQUFBLElBRUFFLE9BQUFLLE9BQUEsT0FBQUMsS0FBQSxRQUFBLFNBQ0FDLFVBQUEsT0FDQVgsS0FBQUQsTUFBQUMsTUFBQVksUUFBQUgsT0FBQSxPQUNBSSxhQUFBQyxLQUFBLFdBQ0FDLE1BQUEsUUFBQSxTQUFBQyxHQUFBLE1BQUFBLEdBQUEsTUFDQUMsS0FBQSxTQUFBRCxHQUFBLE1BQUFBLEdBQUEsTUFFQWpCLE1BQUFtQixPQUFBLE9BQUEsU0FBQUMsU0FBQUMsVUFDQXJCLE1BQUFDLEtBQUFtQixZQUlBLE9BQUF2Qiw4QkFFQVAsZUFBQUssVUFBQSxhQUFBLFdBQ0EsT0FDQUcsU0FBQSxJQUNBRSxPQUNBc0IsTUFBQSxXQUNBQyxTQUFBLElBQ0FDLFdBQUEsS0FFQXpCLFNBQUEsRUFDQTBCLFNBQUEsMHJCQVFBQyxZQUNBLFNBQUEsU0FBQSxRQUFBLE9BQUEsWUFDQSxTQUFBQyxPQUFBQyxPQUFBQyxNQUFBQyxLQUFBQyxXQUNBSixPQUFBSCxXQUFBLEdBQ0FHLE9BQUFKLFVBQUFTLElBQUEsWUFDQUwsT0FBQU0sWUFBQSxNQUNBTixPQUFBTyxpQkFBQSxXQUNBLEdBQUEsS0FBQVAsT0FBQUgsV0FFQSxPQURBSyxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBWCxPQUFBSixTQUFBUyxLQUNBLElBQUEsV0FDQUYsS0FBQVMsaUJBQUFDLFNBQUFiLE9BQUFILFlBQUEsU0FBQWlCLE1BQ0FDLG1CQUFBRCxPQUNBLFNBQUFFLGVBQ0FELG1CQUFBQyxnQkFFQSxNQUNBLEtBQUEsV0FDQWIsS0FBQVMsaUJBQUFLLFNBQUFqQixPQUFBSCxZQUFBLFNBQUFpQixNQUNBQyxtQkFBQUQsT0FDQSxTQUFBRSxlQUNBRCxtQkFBQUMsZ0JBRUEsTUFDQSxLQUFBLGFBQ0FiLEtBQUFTLGlCQUFBTSxXQUFBbEIsT0FBQUgsWUFBQSxTQUFBaUIsTUFDQUMsbUJBQUFELE9BQ0EsU0FBQUUsZUFDQUQsbUJBQUFDLGtCQU1BLElBQUFELG9CQUFBLFNBQUFJLEdBQ0EsR0FBQUMsU0FBQUQsRUFBQUUsT0FBQSxDQUVBLEdBQUFDLFlBQUFsQixVQUFBbUIsTUFDQXpCLFNBQUEsbVRBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUdBTCxZQUFBTSxPQUFBQyxLQUFBLFdBQ0E3QixPQUFBSCxXQUFBLEdBQ0FHLE9BQUFKLFVBQUFTLElBQUEsa0JBS0FMLFFBQUFILFdBQUEsR0FDQUcsT0FBQUosVUFBQVMsSUFBQSxZQUNBSixPQUFBNkIsR0FBQSxrQkFBQUMsR0FBQVosRUFBQWEsZ0JBU0FyRSxlQUFBSyxVQUFBLFVBQUEsV0FDQSxNQUFBLFVBQUFLLE1BQUFHLFFBQUFDLE9BQ0FELFFBQUF5RCxLQUFBLG1CQUFBLFNBQUFDLE9BQ0EsS0FBQUEsTUFBQUMsUUFDQTlELE1BQUErRCxPQUFBLFdBQ0EvRCxNQUFBZ0UsTUFBQTVELE1BQUE2RCxXQUVBSixNQUFBSyx1QkFPQTVFLGVBQUFLLFVBQUEsY0FBQSxXQUNBLE9BQ0F3RSxRQUFBLFVBQ0FqRSxLQUFBLFNBQUFGLE1BQUFHLFFBQUFDLE1BQUFnRSxXQUVBQSxVQUFBQyxTQUFBQyxLQUFBLFNBQUFDLFlBQ0EsR0FBQUMsa0JBQUFELFdBQUFBLFdBQUF4RSxRQUFBLFdBQUEsSUFBQSxJQU9BLE9BTEF5RSxtQkFBQUQsYUFDQUgsVUFBQUssY0FBQUQsa0JBQ0FKLFVBQUFNLFdBR0FGLHVCQU9BbEYsZUFBQUssVUFBQSxrQkFBQSxXQUNBLE9BQ0FHLFNBQUEsTUFDQXFFLFFBQUEsVUFDQWpFLEtBQUEsU0FBQUYsTUFBQUcsUUFBQVEsS0FBQWUsWUFFQUEsV0FBQWlELFlBQUFDLFlBS0F0RixlQUFBSyxVQUFBLFFBQUEsV0FDQSxNQUFBLFVBQUFLLE1BQUFHLFFBQUEwRSxZQUNBMUUsUUFBQSxHQUFBMkUsV0FJQXhGLGVBQUFLLFVBQUEsYUFBQSxXQUNBLE9BQ0FHLFNBQUEsSUFDQUksS0FBQSxTQUFBRixNQUFBRyxRQUFBQyxPQUdBLFFBQUEyRSxVQUNBQyxRQUFBQyxPQUNBakYsTUFBQStELFNBSkE1RCxRQUFBeUQsS0FBQSxRQUFBbUIsWUFXQXpGLGVBQUFLLFVBQUEsb0JBQUEsU0FBQSxTQUFBdUYsT0FDQSxPQUNBZixRQUFBLFVBQ0FqRSxLQUFBLFNBQUFGLE1BQUFtRixJQUFBL0UsTUFBQWdGLE1BQ0FELElBQUFFLE9BQUEsV0FBQUEsT0FBQSxVQUNBRixJQUFBdkIsS0FBQSxPQUFBLFNBQUEwQixXQUNBdEYsTUFBQStELE9BQUEsV0FDQSxNQUFBbUIsT0FBQSxTQUFBSyxLQUFBRCxVQUFBRSxPQUFBQyxRQUVBTCxLQUFBTSxhQUFBLG9CQUFBLEdBQ0FKLGVBR0FGLE1BQUFNLGFBQUEsb0JBQUEsWUFTQXBHLGVBQUFLLFVBQUEsVUFBQSxTQUFBLFNBQUFDLFFBQ0EsT0FDQXVFLFFBQUEsVUFDQXJFLFNBQUEsSUFDQUksS0FBQSxTQUFBRixNQUFBbUYsSUFBQS9FLE1BQUFnRixNQUNBRCxJQUFBRSxPQUFBLFdBQUFBLE9BQUEsVUFDQUYsSUFBQXZCLEtBQUEsT0FBQSxTQUFBMEIsV0FDQXRGLE1BQUFtQixPQUFBLFdBQ0EsTUFBQXZCLFFBQUFRLE1BQUF1RixRQUFBM0YsU0FBQW9GLEtBQUFRLGFBQ0EsU0FBQUMsY0FDQVQsS0FBQU0sYUFBQSxtQkFBQUcsdUJBUUF2RyxlQUFBSyxVQUFBLFdBQUEsV0FBQSxTQUFBbUcsVUFDQSxPQUNBaEcsU0FBQSxJQUNBSSxLQUFBLFNBQUF5QixPQUFBeEIsU0FDQXdCLE9BQUFvRSxjQUFBcEUsT0FBQW9FLGVBQUE1RixRQUFBLEdBQUFhLE1BQUFnRixNQUNBLElBQUFDLFFBQUEsV0FDQTlGLFFBQUEsR0FBQWEsTUFBQWdGLE9BQUFyRSxPQUFBb0UsY0FDQTVGLFFBQUEsR0FBQWEsTUFBQWdGLE9BQUEsR0FBQTdGLFFBQUEsR0FBQStGLGFBQUEsS0FFQS9GLFNBQUFnRyxHQUFBLGVBQUFGLFFBQ0FILFNBQUFHLE9BQUEsUUFLQTNHLGVBQUFLLFVBQUEsY0FBQSxXQUNBLE9BQ0FHLFNBQUEsS0FDQUksS0FBQSxTQUFBRixNQUFBb0csR0FBQWhHLE9BQ0FnRyxHQUFBQyxVQUFBckcsTUFBQWdFLE1BQUE1RCxNQUFBa0csY0FDQUYsR0FBQUQsR0FBQSxTQUFBLFdBQ0FuRyxNQUFBZ0UsTUFBQTVELE1BQUFtRyxRQUFBLEtBQUFILEdBQUFwRSxNQUFBLFdBUUExQyxlQUFBSyxVQUFBLGFBQUEsU0FBQSxTQUFBQyxRQUNBLE9BQ0FFLFNBQUEsSUFDQUksS0FBQSxTQUFBRixNQUFBRyxRQUFBQyxPQUNBLEdBQUFrQixPQUFBMUIsT0FBQVEsTUFBQW9HLFdBQ0FDLFlBQUFuRixNQUFBb0YsTUFFQXZHLFNBQUF5RCxLQUFBLFNBQUEsV0FDQTVELE1BQUErRCxPQUFBLFdBQ0EwQyxZQUFBekcsTUFBQUcsUUFBQSxHQUFBd0csTUFBQSxhQVFBckgsZUFBQUssVUFBQSxtQkFDQSxXQUNBLE9BQ0FHLFNBQUEsSUFDQXFFLFFBQUEsVUFDQWpFLEtBQUEsU0FBQUYsTUFBQUcsUUFBQVEsS0FBQWlHLGFBR0EsUUFBQUMsVUFBQTNGLE1BQ0EsSUFBQUEsS0FDQSxNQUFBQSxLQUVBLElBQUFzRCxrQkFBQXRELEtBQUFuQixRQUFBK0csUUFBQSxHQUtBLE9BSkF0QyxvQkFBQXRELE9BQ0EwRixZQUFBbkMsY0FBQUQsa0JBQ0FvQyxZQUFBbEMsV0FFQUYsaUJBWEEsR0FBQXNDLFNBQUEsa0JBYUFGLGFBQUF2QyxTQUFBQyxLQUFBdUMsZUFNQXZILGVBQUFLLFVBQUEsbUJBQUEsV0FDQSxPQUNBRyxTQUFBLElBQ0FJLEtBQUEsU0FBQUYsTUFBQStHLEtBQUEzRyxPQUNBLEdBQUE0RyxPQUFBQyxTQUFBN0csTUFBQThHLGlCQUNBM0gsU0FBQVksUUFBQTRHLE1BQUFaLEdBQUEsV0FBQSxTQUFBZ0IsR0FDQUMsS0FBQTNCLE1BQUE0QixRQUFBTCxPQUFBRyxFQUFBakQsdUJBT0E1RSxlQUFBSyxVQUFBLFVBQUEsV0FDQSxPQUNBRyxTQUFBLElBQ0EyQixTQUFBLGNBQ0F6QixPQUNBc0gsUUFBQSxLQUVBcEgsS0FBQSxTQUFBRixNQUFBRyxTQUNBb0gsV0FBQWxILE1BQUFGLFFBQUEsR0FBQUgsTUFBQXNILGdCQzlUQSxXQUNBLFlBRUEsSUFBQUUscUJBQUFqSSxRQUFBQyxPQUFBLHNCQUVBZ0kscUJBQUE5RixXQUFBLGdCQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsU0FDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQUMsVUFBQS9GLFFBQ0FtQixTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsYUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsWUFFQUwsV0FBQU0sU0FBQSxXQUNBTixXQUFBTyxXQUFBLFdBQ0FyRyxPQUFBc0csU0FBQSx5Q0FDQXRHLE9BQUF1RyxXQUFBLFNBQUFDLE1BQ0F2RyxPQUFBNkIsR0FBQTBFLGNDZkEsV0FDQSxZQUVBLElBQUE3SSxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLGtCQUFBLFNBQUEsV0FBQSxhQUFBLFlBQUEsWUFBQSxjQUFBLGVBQUEsT0FDQSxTQUFBQyxPQUFBK0YsU0FBQUQsV0FBQUUsVUFBQVMsVUFBQUMsWUFBQUMsYUFBQXhHLE1BQ0EsR0FBQWlCLFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxZQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxjQUNBLENBd0NBLEdBdkNBTCxXQUFBTSxTQUFBLGNBQ0FOLFdBQUFPLFdBQUEsUUFHQXJHLE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxxQkFBQSxTQUFBeEcsVUFDQU8sT0FBQTRHLGFBQUEsT0FBQWIsU0FBQUUsSUFBQSxxQkFBQTdFLFNBQUEyRSxTQUFBRSxJQUFBLG9CQUFBRixTQUFBRSxJQUFBLG9CQUFBLGVBRUFqRyxPQUFBNkcsT0FBQUosVUFDQXpHLE9BQUE4RyxTQUFBSixZQUNBMUcsT0FBQStHLFNBQUFKLGFBQ0EzRyxPQUFBZ0gsVUFDQWhILE9BQUFpSCxnQkFDQWpILE9BQUFrSCxjQUFBLEVBQ0FsSCxPQUFBbUgsZUFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsVUFBQSxHQUlBdkgsT0FBQXdILFFBQUEsU0FBQUMsaUJBQ0F6SCxPQUFBMEgsY0FBQUQsa0JBQ0F6SCxPQUFBMkgsU0FBQTNILE9BQUEySCxTQUVBM0gsT0FBQTBILGFBQUFELGdCQUVBRyxFQUFBLFFBQUFDLEtBQUEsV0FFQUQsRUFBQW5DLE1BQUFxQyxjQUFBQyxTQUFBLDhCQUdBSCxFQUFBLE1BQUFILGdCQUFBLE1BQUFLLGNBQUFDLFNBREEvSCxPQUFBMkgsUUFDQSxpQ0FFQSxxQ0FLQXZHLFNBQUEwRSxXQUFBa0MsYUFBQSxDQUNBLEdBQUFDLFlBQUFuQyxXQUFBa0MsWUFDQWhJLFFBQUE0RyxhQUFBc0IsT0FBQUQsV0FBQS9GLE1BR0EsS0FBQSxHQUFBaUcsR0FBQSxFQUFBQSxFQUFBbkksT0FBQTZHLE9BQUFuQixPQUFBeUMsSUFBQSxDQUVBLElBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBSCxXQUFBSSxNQUFBM0MsT0FBQTBDLElBQ0FILFdBQUFJLE1BQUFELElBQUFwSSxPQUFBNkcsT0FBQXNCLEdBQUFHLGNBQ0F0SSxPQUFBNkcsT0FBQXNCLEdBQUFJLFVBQUEsRUFDQUgsRUFBQUgsV0FBQUksTUFBQTNDLFFBRUExRixPQUFBNkcsT0FBQXNCLEdBQUFJLFVBQUEsQ0FFQSxLQUFBTixXQUFBSSxNQUFBM0MsU0FDQTFGLE9BQUE2RyxPQUFBc0IsR0FBQUksVUFBQSxHQUVBdkksT0FBQWlILGFBQUFnQixXQUFBSSxNQUNBckksT0FBQWdILE9BQUF3QixPQUFBUCxXQUFBUSxXQUNBekksT0FBQWdILE9BQUEwQixRQUFBVCxXQUFBVSxZQUNBM0ksT0FBQWdILE9BQUE0QixPQUFBWCxXQUFBWSxZQUNBN0ksT0FBQW1ILGNBQUFDLFFBQUFhLFdBQUFhLFFBQ0E5SSxPQUFBbUgsY0FBQUUsUUFBQVksV0FBQWMsV0FDQS9JLE9BQUFtSCxjQUFBRyxRQUFBVyxXQUFBZSxRQUNBaEosT0FBQW1ILGNBQUFJLFVBQUFVLFdBQUFnQixVQUNBOUksS0FBQStJLGtCQUNBQyxNQUFBbkosT0FBQTRHLGFBQ0F3QyxNQUFBcEosT0FBQWlILGFBQUFvQyxPQUNBWixXQUFBekksT0FBQWdILE9BQUF3QixPQUNBRyxZQUFBM0ksT0FBQWdILE9BQUEwQixRQUNBSSxRQUFBOUksT0FBQW1ILGNBQUFDLFFBQ0F5QixZQUFBN0ksT0FBQWdILE9BQUE0QixPQUNBRyxXQUFBL0ksT0FBQW1ILGNBQUFFLFFBQ0EyQixRQUFBaEosT0FBQW1ILGNBQUFHLFFBQ0EyQixVQUFBakosT0FBQW1ILGNBQUFJLFdBRUEsU0FBQStCLFVBQ0F0SixPQUFBdUosU0FBQUQsU0FDQXRKLE9BQUFrSCxjQUFBLEVBQ0FwQixXQUFBMEQsZUFBQUMsYUFBQSxHQUNBLFNBQUF6SSxlQUNBOEUsV0FBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsaUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsaUNBQUFPLGNBQUE0SSxjQUlBNUosT0FBQTZKLFlBQUEsV0FDQS9ELFdBQUEwRCxlQUFBQyxhQUFBLENBR0EsSUFBQUssYUFBQTlKLE9BQUFpSCxhQUFBb0MsTUFDQXJKLFFBQUFrSCxjQUFBLEVBQ0FsSCxPQUFBdUosV0FDQSxJQUFBUSxNQUFBLE9BQUFoRSxTQUFBRSxJQUFBLG1CQUFBN0UsU0FBQTJFLFNBQUFFLElBQUEsa0JBQUFGLFNBQUFFLElBQUEsa0JBQUEsQ0FDQUgsWUFBQWtDLGNBQ0E5RixNQUFBNkgsS0FDQTFCLE1BQUFySSxPQUFBaUgsYUFDQXdCLFdBQUF6SSxPQUFBZ0gsT0FBQXdCLE9BQ0FHLFlBQUEzSSxPQUFBZ0gsT0FBQTBCLFFBQ0FJLFFBQUE5SSxPQUFBbUgsY0FBQUMsUUFDQXlCLFlBQUE3SSxPQUFBZ0gsT0FBQTRCLE9BQ0FHLFdBQUEvSSxPQUFBbUgsY0FBQUUsUUFDQTJCLFFBQUFoSixPQUFBbUgsY0FBQUcsUUFDQTJCLFVBQUFqSixPQUFBbUgsY0FBQUksV0FFQXBILEtBQUErSSxrQkFDQUMsTUFBQVksS0FDQVgsTUFBQVUsWUFDQXJCLFdBQUF6SSxPQUFBZ0gsT0FBQXdCLE9BQ0FHLFlBQUEzSSxPQUFBZ0gsT0FBQTBCLFFBQ0FJLFFBQUE5SSxPQUFBbUgsY0FBQUMsUUFDQXlCLFlBQUE3SSxPQUFBZ0gsT0FBQTRCLE9BQ0FHLFdBQUEvSSxPQUFBbUgsY0FBQUUsUUFDQTJCLFFBQUFoSixPQUFBbUgsY0FBQUcsUUFDQTJCLFVBQUFqSixPQUFBbUgsY0FBQUksV0FFQSxTQUFBK0IsVUFDQXRKLE9BQUF1SixTQUFBRCxTQUNBdEosT0FBQWtILGNBQUEsRUFDQXBCLFdBQUEwRCxlQUFBQyxhQUFBLEdBQ0EsU0FBQXpJLGVBQ0E4RSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxpQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSx5QkFBQU8sY0FBQTRJLGVBS0E1SixPQUFBZ0ssV0FBQSxTQUFBMUwsTUFJQSxHQUhBQSxLQUFBaUssWUFBQSxHQUNBdkksT0FBQWlILGFBQUF0RSxLQUFBckUsS0FBQWdLLGNBRUFoSyxLQUFBaUssWUFBQSxFQUFBLENBQ0EsR0FBQTBCLEtBQUFqSyxPQUFBaUgsYUFBQWlELFFBQUE1TCxLQUFBZ0ssYUFDQTJCLE1BQUEsR0FDQWpLLE9BQUFpSCxhQUFBa0QsT0FBQUYsSUFBQSxLQU1BakssT0FBQW9LLGFBQUEsV0FDQXBLLE9BQUFtSCxlQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxVQUFBLEdBRUF2SCxPQUFBZ0gsVUFDQWhILE9BQUFpSCxnQkFFQXJKLFFBQUF5TSxRQUFBckssT0FBQTZHLE9BQUEsU0FBQXlELElBQ0FBLEdBQUEvQixVQUFBLFlDbktBLFdBQ0EsWUFFQSxJQUFBZ0Msa0JBQUEzTSxRQUFBQyxPQUFBLG1CQUdBME0sa0JBQUF4SyxXQUFBLG1CQUFBLFNBQUEsYUFBQSxXQUFBLFdBQUEsUUFBQSxPQUFBLG9CQUFBLFlBQUEsYUFBQSxhQUFBLGVBQUEsYUFBQSxhQUFBLGNBQUEsYUFBQSxhQUFBLFVBQUEsYUFBQSxhQUFBLG9CQUFBLFlBQUEsT0FBQSxTQUFBLGFBQ0EsU0FBQUMsT0FBQThGLFdBQUEzQixTQUFBNEIsU0FBQTdGLE1BQUFzSyxLQUFBaEosa0JBQUFwQixVQUFBcUssV0FBQUMsV0FBQUMsYUFBQUMsV0FBQUMsV0FBQUMsWUFBQUMsV0FBQUMsV0FBQUMsUUFBQUMsV0FBQUMsV0FBQUMsa0JBQUFDLFVBQUFDLEtBQUFDLE9BQUFDLFlBRUF4TCxPQUFBeUwsZUFBQWQsYUFBQSxHQUNBM0ssT0FBQTBMLGdCQUFBZixhQUFBLEdBQ0EzSyxPQUFBMkwsY0FBQWhCLGFBQUEsR0FFQTNLLE9BQUE0TCxVQUFBakIsYUFBQSxHQUNBM0ssT0FBQTZMLGFBQUFsQixhQUFBLEdBQ0EzSyxPQUFBOEwsY0FBQW5CLGFBQUEsR0FDQTNLLE9BQUErTCx1QkFBQSxFQUNBL0wsT0FBQWdNLFVBQUFuQixXQUFBb0Isa0JBQ0FqTSxPQUFBa00sZUFBQSxVQUFBbkIsV0FBQS9LLE9BQUFnTSxVQUFBRyxPQUFBLFNBQUFDLElBQUEsTUFBQUEsSUFBQUMsZUFBQXRCLFdBQUFzQixtQkFDQXJNLE9BQUFzTSxrQkFBQXRNLE9BQUFrTSxlQUFBQyxPQUFBLFNBQUFJLElBQUEsTUFBQSxLQUFBQSxHQUFBQyxjQUNBeE0sT0FBQXlNLGNBQUEsRUFDQXpNLE9BQUEwTSxrQkFBQSxFQUNBMU0sT0FBQTJNLFdBQUExQixRQUFBdkYsT0FBQSxHQUFBLEdBQUEsRUFDQTFGLE9BQUE0TSxlQUFBM0IsUUFDQWpMLE9BQUE2TSxnQkFDQTdNLE9BQUE4TSxpQkFDQTlNLE9BQUErTSxZQUFBakMsWUFDQTlLLE9BQUFnTiwyQkFDQWhOLE9BQUFpTixjQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FDQWpOLE9BQUFrTixTQUFBbkgsU0FBQUUsSUFBQSxhQUNBakcsT0FBQW1OLGFBQUEsRUFDQW5OLE9BQUFvTixnQkFDQXBOLE9BQUFxTixnQkFDQXJOLE9BQUFzTixZQUFBLEdBQ0F0TixPQUFBdU4sVUFBQTlDLFdBQ0F6SyxPQUFBd04sY0FBQWhELEtBQUFpRCxZQUFBLDJHQUNBek4sT0FBQXdHLE1BQUFrSCxPQUFBLFNBQUFDLE9BQUEsVUFDQTNOLE9BQUE0TixnQkFBQSxFQUNBNU4sT0FBQW1CLEdBQUEwTSxTQUFBLEVBQUFDLFdBQUEsRUFBQUMsY0FBQSxHQUNBL04sT0FBQWdPLGtCQUFBLEVBQ0FoTyxPQUFBaU8sd0JBQ0FqTyxPQUFBa08saUJBQ0FsTyxPQUFBbU8sYUFDQUMsTUFBQUMsVUFBQUMsSUFBQSxTQUFBQyxLQUNBLE1BQUE5SSxNQUFBK0ksSUFBQSxTQUFBaEosRUFBQTJDLEdBQ0EsT0FBQTNDLEVBQUErSSxJQUFBcEcsT0FLQW5JLE9BQUF5TyxXQUFBLFdBU0EsR0FSQXpPLE9BQUFtTyxhQUNBbk8sT0FBQWtPLGlCQUNBbE8sT0FBQWdPLGtCQUFBLEVBQ0FoTyxPQUFBaU8sd0JBQ0FqTyxPQUFBME8sV0FDQTFPLE9BQUEwTyxTQUFBQyxNQUFBLEdBQUFDLGVBQUEsU0FDQTVPLE9BQUEwTyxTQUFBQyxNQUFBLEdBQUFDLGVBQUEsUUFFQXhOLFNBQUFwQixPQUFBNk8sTUFBQUMsS0FBQSxDQUNBNU8sTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsa0JBQ0EsSUFBQXFPLFlBQ0FDLFlBQ0FqTixRQUFBaEMsT0FBQWtQLGVBQUFsTixRQUNBcUssY0FBQXRCLFdBQUFzQixlQUVBeUMsS0FBQTlPLE9BQUE2TyxNQUFBQyxNQUdBSyxHQUFBLEdBQUFDLFNBQ0FELElBQUFwUSxPQUFBLGFBQUFzUSxLQUFBQyxVQUFBTixVQUFBQyxhQUNBRSxHQUFBcFEsT0FBQSxPQUFBaVEsVUFBQUYsTUFDQTlPLE9BQUF1UCxnQkFBQSxFQUNBbEUsVUFBQW1FLGlCQUFBTCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBeUgsVUFHQSxHQUZBdEosT0FBQXVQLGdCQUFBLEVBQ0F2UCxPQUFBaU8scUJBQUF5QixPQUFBQyxLQUFBckcsVUFDQUEsU0FBQXNHLE1BQ0EsQ0FBQSxHQUFBQyxjQUFBdkcsU0FBQXNHLEtBQ0F4UCxXQUFBbUIsTUFDQXpCLFNBQUEsMFJBR0FDLFlBQUEsU0FBQSxvQkFBQSxVQUFBLFNBQUFDLE9BQUF3QixrQkFBQXNPLFNBQ0E5UCxPQUFBNlAsYUFBQUMsUUFDQTlQLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQUMsU0FDQUYsUUFBQSxXQUNBLE1BQUFELGdCQUdBbE8sS0FBQSxXQUVBLENBQ0EzQixPQUFBbU8sVUFBQTdFLFNBQUEyRyxLQUFBM0IsSUFBQWhGLFNBQUE0RyxTQUVBLElBQUFDLE9BQUEsR0FBQUMsTUFBQTlHLFNBQUEyRyxLQUFBLElBQUFJLGNBQ0FDLE1BQUEsR0FBQUYsTUFBQTlHLFNBQUEyRyxLQUFBM0csU0FBQTJHLEtBQUF2SyxPQUFBLElBQUEySyxjQUNBRSxHQUFBQyxpQkFBQUwsT0FBQU0sR0FBQUQsaUJBQUFGLE1BQ0F0USxRQUFBMFEsU0FBQUMsV0FBQUosR0FBQXZRLE9BQUEwUSxTQUFBRSxTQUFBSCxHQUVBelEsT0FBQWtPLGVBQ0F4UCxPQUNBbVMsUUFDQUMsS0FBQSxXQUNBOVEsT0FBQTBPLFNBQUFqSixPQUdBc0wsU0FBQSxJQUNBQyxpQkFDQUMsVUFDQUMsTUFBQSxPQUNBQyxjQUFBLFNBRUEvSSxFQUFBLEtBR0FnSixTQUFBLEVBQ0FDLE9BQUEsU0FFQUMsZUFBQSxJQUNBQyxhQUNBQyxRQUNBWCxRQUNBWSxNQUFBLFNBQUF2UCxPQUNBLEdBQUF3UCxZQUFBdFIsVUFBQW1CLE1BQ0F6QixTQUFBLDRtQkFPQUMsWUFBQSxTQUFBLG9CQUFBLGFBQUEsU0FBQSxTQUFBQyxPQUFBd0Isa0JBQUFtUSxXQUFBQyxRQUNBNVIsT0FBQXlCLEdBQUEsV0FDQSxHQUFBLElBQUF6QixPQUFBNlIsVUFBQUMsTUFBQSxzQkFDQSxDQUNBLEdBQUFDLFFBQUEvUixPQUFBNlIsVUFBQUYsV0FBQUMsT0FDQXBRLG1CQUFBRSxNQUFBcVEsU0FHQS9SLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLFdBRUEvUCxPQUFBNlIsVUFBQSxHQUNBN1IsT0FBQWlTLFNBQUEsR0FBQTdCLE1BQUF1QixjQUVBM0IsU0FDQTJCLFdBQUF6UCxNQUFBZ1EsTUFBQUMsU0FDQVAsT0FBQTFQLE1BQUFrUSxRQUVBelEsS0FBQSxNQUVBK1AsWUFBQTlQLE9BQUFDLEtBQUEsU0FBQWtRLE9BQ0EsR0FBQXJULE9BQUFzQixPQUFBME8sU0FBQUMsTUFBQSxFQUVBalEsT0FBQWtRLGVBQUFtRCxNQUFBLElBRUFyVCxNQUFBMlQsYUFDQXZPLE1BQUFwRixNQUFBNFQsUUFBQVAsTUFBQSxJQUNBUSxNQUFBLFNBQUFSLE1BQUEsR0FBQSxVQUFBLFVBQ0FTLE1BQUEsRUFDQXpRLEdBQUFnUSxNQUFBLEdBQ0FVLE9BQUEsTUFDQUMsT0FBQW5ULEtBQUF3UyxNQUFBLEtBRUEsSUFBQVksU0FBQSxHQUFBdkMsTUFBQTJCLE1BQUEsSUFBQTFCLGNBQ0EvUSxFQUFBa1IsaUJBQUFtQyxRQUNBLFVBQUFaLE1BQUEsR0FBQS9SLE9BQUEwUSxTQUFBQyxXQUFBclIsRUFDQVUsT0FBQTBRLFNBQUFFLFNBQUF0UixNQUlBc1Qsa0JBQUEsRUFDQUMsT0FBQSxVQUNBWCxPQUNBckIsUUFDQWlDLFVBQUEsV0FDQXJOLEtBQUErTCxPQUFBdUIsTUFDQXROLEtBQUErTCxPQUFBdUIsS0FBQS9ULE1BQUFnVSxRQUFBLHVCQUFBQyxhQUtBQyxRQUNBQyxTQUFBLEtBSUFDLE9BQ0E3VCxLQUFBLDRCQUVBOFQsVUFDQTlULEtBQUEsOEdBRUFvUCxPQUNBeUUsT0FDQTdULEtBQUFTLE9BQUFpTyxxQkFBQSxJQUVBcUYsS0FBQSxXQUNBQyxzQkFDQUMsT0FBQSx3QkFDQUMsT0FBQSxxQkFDQUMsS0FBQSxxQkFDQUMsSUFBQSxlQUNBQyxLQUFBLGVBQ0FDLE1BQUEsUUFDQUMsS0FBQSxNQUVBQyxPQUFBLElBRUFDLE9BQ0FaLE9BQ0E3VCxLQUFBUyxPQUFBaU8scUJBQUEsSUFFQWdHLFFBQ0FDLE9BQUEsZUFFQUgsT0FBQSxJQUVBdkMsU0FDQWxULEtBQUEwQixPQUFBbU8sYUFJQW5PLE9BQUFnTyxrQkFBQSxJQUVBLFNBQUFyRSxPQUNBd0ssUUFBQUMsSUFBQXpLLGFBSUFtSSxPQUFBLG1DQUtBLElBQUF0QixrQkFBQSxTQUFBbFIsR0FDQSxHQUFBcVQsU0FDQTBCLE9BQUEsa0JBQUEzRSxPQUFBckIsVUFBQWlHLFNBQUFDLEtBQUFqVixFQUNBLElBQUErVSxVQUFBLEVBQUEsQ0FDQSxHQUFBak0sR0FBQTlJLEVBQUFrVixPQUFBLEVBQUEsR0FDQUMsRUFBQW5WLEVBQUFrVixPQUFBLEVBQUEsR0FBQSxFQUNBRSxHQUFBcFYsRUFBQWtWLE9BQUEsRUFBQSxHQUNBRyxFQUFBclYsRUFBQWtWLE9BQUEsR0FBQSxHQUNBSSxHQUFBdFYsRUFBQWtWLE9BQUEsR0FBQSxHQUNBSyxJQUFBdlYsRUFBQWtWLE9BQUEsR0FBQSxFQUNBN0IsU0FBQSxHQUFBdkMsTUFBQWhJLEVBQUFxTSxFQUFBQyxHQUFBQyxFQUFBQyxHQUFBQyxTQUVBbEMsU0FBQXJULENBRUEsT0FBQXFULFNBSUEzUyxRQUFBOFUsYUFDQUMsWUFBQSxFQUNBQyxXQUFBLEdBRUFoVixPQUFBaVYsY0FDQWpWLE9BQUF1QixLQUFBLFNBQUEyVCxPQUFBL1MsT0FDQStTLE9BQUEzUyxpQkFDQTJTLE9BQUFDLGtCQUVBblYsT0FBQWlWLFdBQUE5UyxRQUFBLEdBSUFuQyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUFBclYsT0FBQXNWLGdCQUFBLEVBRUF0VixPQUFBdVYsZUFBQSxXQUNBLEdBQUFuVSxRQUFBcEIsT0FBQTZPLE1BQUEyRyxPQUFBcFUsUUFBQXBCLE9BQUE2TyxNQUFBQyxLQUNBZ0QsTUFBQSx1Q0FDQSxDQUNBNVIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FYLE9BQUF5VixrQkFBQSxDQUNBLElBQUF6RyxZQUNBQyxZQUNBeUcsUUFBQTFWLE9BQUE2TyxNQUFBNkcsUUFDQUMsS0FBQTNWLE9BQUE2TyxNQUFBOEcsS0FDQUMsWUFBQTVWLE9BQUE2TyxNQUFBK0csWUFDQUMsZ0JBQUE3VixPQUFBNk8sTUFBQWdILGdCQUNBQyxZQUFBOVYsT0FBQTZPLE1BQUFpSCxZQUNBQyxhQUFBL1YsT0FBQTZPLE1BQUFrSCxhQUNBQyxVQUFBaFcsT0FBQTZPLE1BQUFtSCxVQUNBQyxPQUFBalcsT0FBQTZPLE1BQUFvSCxPQUNBalUsUUFBQWhDLE9BQUE2TyxNQUFBN00sUUFDQXdLLFlBQUF4TSxPQUFBNk8sTUFBQXJDLFlBQ0EwSixVQUFBbFcsT0FBQTZPLE1BQUFxSCxVQUNBL1AsS0FBQW5HLE9BQUE2TyxNQUFBMUksS0FDQWdRLGFBQUFuVyxPQUFBNk8sTUFBQXNILGFBQ0E5SixjQUFBck0sT0FBQTZPLE1BQUF4QyxjQUNBK0osV0FBQXBXLE9BQUE2TyxNQUFBdUgsV0FDQUMsUUFBQXJXLE9BQUE2TyxNQUFBd0gsUUFDQUMsbUJBQUF0VyxPQUFBNk8sTUFBQXlILG9CQUVBeEgsS0FBQTFOLFNBQUFwQixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQUMsTUFHQUssR0FBQSxHQUFBQyxTQUNBRCxJQUFBcFEsT0FBQSxhQUFBc1EsS0FBQUMsVUFBQU4sVUFBQUMsYUFDQUUsR0FBQXBRLE9BQUEsT0FBQWlRLFVBQUFGLE1BRUF4RCxLQUFBaUwsV0FBQXBILElBQUFNLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsaUJBQ0F6VyxPQUFBMFcsSUFBQTFXLE9BQUF1TixVQUFBLFVBQUF2TixPQUFBNk8sTUFBQTZHLFFBQUEsUUFBQWhMLFdBQUEySyxXQUNBM0ssV0FBQWlNLFdBQ0EzVyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUVBclYsT0FBQTRXLFFBREE1VyxPQUFBNk8sTUFBQTJHLE1BQUFsQyxLQUFBcEosUUFBQSxTQUFBLElBQ0EsR0FDQSxFQUNBbEssT0FBQTZPLE1BQUE4RyxLQUFBYSxVQUFBYixLQUFBM1YsT0FBQTZPLE1BQUExSSxLQUFBcVEsVUFBQXJRLEtBQ0EvRSxTQUFBcEIsT0FBQTZPLE1BQUEyRyxRQUNBeFYsT0FBQTZPLE1BQUFDLEtBQUE5TyxPQUFBNk8sTUFBQTJHLE1BQ0F4VixPQUFBNk8sTUFBQTJHLE1BQUFwVSxRQUVBb1YsVUFBQUssY0FBQSxHQUFBN1csT0FBQTZPLE1BQUFyQyxZQUFBLGdCQUFBLGNBQ0EsSUFBQWdLLFVBQUFoSyxjQUNBeE0sT0FBQXNNLGtCQUFBbkMsT0FBQW5LLE9BQUE4VyxrQkFBQSxHQUNBOVcsT0FBQXNNLGtCQUFBM0osS0FBQTZULFlBRUF4VyxPQUFBa00sZUFBQWxNLE9BQUErVyxnQkFBQVAsVUFDQXhXLE9BQUFnTSxVQUFBaE0sT0FBQWdYLGVBQUFSLFVBQ0EzTCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5VixrQkFBQSxFQUNBelYsT0FBQXNWLGdCQUFBLEdBQ0EsU0FBQXRVLGVBQ0FoQixPQUFBeVYsa0JBQUEsRUFDQS9MLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZ0JBTUE1SixPQUFBa1gsZUFBQSxTQUFBQyxPQUNBL1csVUFBQW1CLE1BQ0F6QixTQUFBLHNQQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFNBRUExQixPQUFBb1gsUUFBQUQsTUFDQW5YLE9BQUFxWCxPQUFBNU0sV0FBQSxVQUFBekssT0FBQW9YLFFBQUEsVUFFQXpWLEtBQUEsUUFLQTNCLE9BQUFzWCxTQUFBLFNBQUFDLE1BU0EsR0FSQXZYLE9BQUF3WCxVQUFBeFgsT0FBQTZMLGFBQ0E3TCxPQUFBeVgsU0FBQTdNLFdBQ0E1SyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQThXLGtCQUFBLEdBQ0E5VyxPQUFBZ1gsY0FBQSxHQUNBaFgsT0FBQTZPLFNBQ0E3TyxPQUFBMFgsV0FDQTFYLE9BQUEwUSxZQUNBLElBQUE2RyxLQUFBLENBYUEsR0FYQXZYLE9BQUErVyxlQUFBL1csT0FBQWtNLGVBQUFoQyxRQUFBcU4sTUFDQXZYLE9BQUFnWCxjQUFBaFgsT0FBQWdNLFVBQUE5QixRQUFBcU4sTUFDQXZYLE9BQUE4VyxrQkFBQTlXLE9BQUFzTSxrQkFBQTVHLE9BQUEsRUFBQTFGLE9BQUFzTSxrQkFBQXBDLFFBQUFxTixNQUFBLEdBQ0F2WCxPQUFBNk8sTUFBQWpSLFFBQUErWixLQUFBSixNQUNBak0sS0FBQXNNLGFBQUE3VixHQUFBL0IsT0FBQTZPLE1BQUE2RyxVQUFBakcsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBc1YsZUFBQWhNLFNBQUF1TyxPQUFBLEdBQUEsR0FBQSxHQUNBLFNBQUE3VyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxjQUVBNUosT0FBQTZPLE1BQUFpSixTQUFBOVgsT0FBQTZMLGFBQUFNLE9BQUEsU0FBQTRMLElBQUEsTUFBQUEsSUFBQXZMLGFBQUF4TSxPQUFBNk8sTUFBQXJDLGNBQUEsR0FBQXdMLFNBQ0E1VyxTQUFBcEIsT0FBQTZPLE1BQUE4RyxLQUFBLENBQ0EsR0FBQXNDLElBQUFqWSxPQUFBNk8sTUFBQThHLEtBQUF1QyxZQUFBLEtBQ0FDLFFBQUFuWSxPQUFBNk8sTUFBQThHLEtBQUF5QyxVQUFBSCxHQUFBLEVBRUFqWSxRQUFBNFcsUUFEQXVCLFFBQUFFLE1BQUEseUNBQ0EsR0FDQSxFQUVBclksT0FBQTBXLElBQUExVyxPQUFBdU4sVUFBQSxVQUFBdk4sT0FBQTZPLE1BQUE2RyxRQUFBLFFBQUFoTCxXQUFBMkssV0FDQXJWLE9BQUE2TyxNQUFBbUgsVUFBQSxHQUFBNUYsTUFBQXBRLE9BQUE2TyxNQUFBbUgsV0FDQTVVLFNBQUFwQixPQUFBNk8sTUFBQXVILGFBQUFwVyxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQUFwUSxPQUFBNk8sTUFBQXVILGFBQ0FoVixTQUFBbVcsS0FBQXJCLFdBQ0EzSyxPQUFBK00sT0FBQXZXLEdBQUF3VixLQUFBckIsWUFBQXpHLFNBQUE1TixLQUFBLFNBQUFWLEdBQ0FuQixPQUFBMFgsUUFBQXZXLEVBQ0FuQixPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBYyxZQUVBLEdBQUF4WSxPQUFBNk8sTUFBQXJDLGNBQ0F4TSxPQUFBeVksaUJBQUF6WSxPQUFBeVgsU0FBQXRMLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQTNZLE9BQUEwWCxRQUFBaUIsWUFBQSxHQUFBQyxjQUNBLFNBQUE1WCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEseUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EseUJBQUFPLGNBQUE0SSxjQUdBeEksU0FBQW1XLEtBQUFwQixjQUNBOUssVUFBQWlOLE9BQUF2VyxHQUFBd1YsS0FBQXBCLGVBQUExRyxTQUFBNU4sS0FBQSxTQUFBZ1gsSUFDQTdZLE9BQUEwUSxTQUFBbUksR0FDQTdZLE9BQUE4WSxVQUFBNU4sV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBMFEsU0FBQXNJLGVBQUEsR0FDQWhaLE9BQUEwUSxTQUFBdUksYUFBQSxHQUFBN0ksTUFBQXBRLE9BQUEwUSxTQUFBdUksY0FDQWpaLE9BQUEwUSxTQUFBQyxXQUFBSCxpQkFBQXhRLE9BQUEwUSxTQUFBQyxZQUNBM1EsT0FBQTBRLFNBQUFFLFNBQUFKLGlCQUFBeFEsT0FBQTBRLFNBQUFFLFdBQ0EsU0FBQTVQLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGtCQUlBLENBRUE1SixPQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQUFwUSxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQ0FwUSxPQUFBMFgsUUFBQXhNLFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBaFQsU0FBQUUsSUFBQSxTQUFBLEdBQ0FqRyxPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBd0IsTUFBQSxJQUFBbFosT0FBQTBYLFFBQUF5QixNQUNBblosT0FBQThZLFVBQUE1TixXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxFQUNBLElBQUFtVCxJQUFBQyxrQkFDQXJaLFFBQUEwUSxTQUFBdUksYUFBQUcsR0FBQSxHQUNBcFosT0FBQTBRLFNBQUE0SSxVQUFBLE1BQ0F0WixPQUFBMFEsU0FBQUMsV0FBQSxLQUNBM1EsT0FBQTBRLFNBQUFFLFNBQUEsS0FFQTVRLE9BQUF5TSxjQUFBLEVBRUF6TSxPQUFBdVosdUJBQUEsV0FDQSxHQUFBdlosT0FBQTZPLE1BQUFyQyxjQUNBeE0sT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsZUFJQTVZLE9BQUF3WixXQUFBLFNBQUFDLE9BQ0EsR0FBQXJZLFNBQUFwQixPQUFBNk8sTUFBQUMsS0FBQSxDQUNBLEdBQUEsR0FBQTlPLE9BQUE2TyxNQUFBckMsWUFBQSxDQUVBLEdBQUFyTCxHQUFBbkIsT0FBQTBRLFNBQUFDLFdBQ0FuTCxFQUFBeEYsT0FBQTBRLFNBQUFFLFFBQ0EsSUFBQSxHQUFBUixNQUFBNUssR0FBQSxHQUFBNEssTUFBQWpQLEdBQUEsQ0FDQXNZLE9BQUEsQ0FDQSxJQUFBQyxTQUFBdFosVUFBQW1CLE1BQ0F6QixTQUFBLHlRQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQStYLFNBQUE5WCxPQUFBQyxLQUFBLFdBQ0E0WCxPQUFBLElBR0EsR0FBQXJZLFFBQUFELEdBQUFDLFFBQUFvRSxFQUFBLENBQ0FpVSxPQUFBLENBQ0EsSUFBQUUsYUFBQXZaLFVBQUFtQixNQUNBekIsU0FBQSx1WEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUFnWSxhQUFBL1gsT0FBQUMsS0FBQSxXQUNBNFgsT0FBQSxLQUlBLEdBQUFBLE1BS0EsR0FKQXpaLE9BQUErTCx1QkFBQSxFQUNBN0wsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBRUEsR0FBQVgsT0FBQTZPLE1BQUFyQyxZQUFBLENBRUEsR0FBQSxPQUFBeE0sT0FBQTBRLFNBQUE0SSxVQUFBLENBRUEsR0FBQU0sa0JBQUEsR0FBQXhKLE1BQUFwUSxPQUFBMFEsU0FBQUMsWUFBQWtKLGNBQ0FDLGVBQUEsR0FBQTFKLE1BQUFwUSxPQUFBMFEsU0FBQUUsVUFBQWlKLGFBQ0E3WixRQUFBMFEsU0FBQUMsV0FBQWlKLGlCQUNBNVosT0FBQTBRLFNBQUFFLFNBQUFrSixlQUNBOVosT0FBQTBRLFNBQUE0SSxVQUFBLFVBQ0EsQ0FFQSxHQUFBUyxJQUFBL1osT0FBQTBRLFNBQUFDLFdBQUEyRCxXQUFBcEssUUFBQSxPQUFBLEVBQ0E4UCxHQUFBaGEsT0FBQTBRLFNBQUFFLFNBQUEwRCxXQUFBcEssUUFBQSxPQUFBLENBQ0FsSyxRQUFBMFEsU0FBQUMsV0FBQTNRLE9BQUEwUSxTQUFBQyxXQUFBMkQsV0FBQThELFVBQUEsRUFBQTJCLElBQ0EvWixPQUFBMFEsU0FBQUUsU0FBQTVRLE9BQUEwUSxTQUFBRSxTQUFBMEQsV0FBQThELFVBQUEsRUFBQTRCLElBRUFoYSxPQUFBMFEsU0FBQXJFLGNBQUF0QixXQUFBc0IsY0FDQXJNLE9BQUEwUSxTQUFBc0ksYUFBQWpULFNBQUFFLElBQUEsTUFDQSxJQUFBZ1UsWUFBQSxDQUNBNU8sV0FBQTZPLEtBQUFsYSxPQUFBMFEsVUFBQWpCLFNBQUE1TixLQUFBLFNBQUFzWSxZQUNBRixXQUFBRSxXQUFBaEUsWUFFQSxJQUFBbkgsWUFDQUMsWUFDQXpDLFlBQUF4TSxPQUFBNk8sTUFBQXJDLFlBQ0FtSixLQUFBM1YsT0FBQTZPLE1BQUFDLEtBQUE2RyxLQUNBSyxVQUFBaFcsT0FBQTZPLE1BQUFtSCxVQUNBSixZQUFBNVYsT0FBQTZPLE1BQUErRyxZQUNBNVQsUUFBQWhDLE9BQUFrUCxlQUFBbE4sUUFDQW1VLGFBQUFnRSxXQUFBaEUsYUFDQU4sZ0JBQUE3VixPQUFBNk8sTUFBQWdILGdCQUNBQyxZQUFBOVYsT0FBQTZPLE1BQUFpSCxZQUNBQyxhQUFBL1YsT0FBQTZPLE1BQUFrSCxhQUNBMUosY0FBQXRCLFdBQUFzQixlQUVBeUMsS0FBQTlPLE9BQUE2TyxNQUFBQyxNQUdBSyxHQUFBLEdBQUFDLFNBQ0FELElBQUFwUSxPQUFBLGFBQUFzUSxLQUFBQyxVQUFBTixVQUFBQyxhQUNBRSxHQUFBcFEsT0FBQSxPQUFBaVEsVUFBQUYsTUFFQXhELEtBQUFpTCxXQUFBcEgsSUFBQU0sU0FBQTVOLEtBQUEsU0FBQTJVLFdBQ0E5TSxPQUFBK00sUUFBQSxpQkFDQUQsVUFBQUssY0FBQSxnQkFDQTdXLE9BQUFrTSxlQUFBdkosS0FBQTZULFdBQ0F4VyxPQUFBZ00sVUFBQXJKLEtBQUE2VCxXQUNBM0wsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0EsSUFBQXdLLFVBQUFoSyxhQUFBeE0sT0FBQXNNLGtCQUFBM0osS0FBQTZULFdBQ0F4VyxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQStMLHVCQUFBLEdBQ0EsU0FBQS9LLGVBQ0FoQixPQUFBK0wsdUJBQUEsRUFDQS9MLE9BQUE2TyxTQUFBN08sT0FBQTBYLFdBQUExWCxPQUFBMFEsWUFBQTFRLE9BQUF5TSxjQUFBLEVBRUFwQixVQUFBQSxXQUFBdEosR0FBQWtZLGFBQ0F2USxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0FoQixPQUFBK0wsdUJBQUEsRUFDQXJDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG9DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG9DQUFBTyxjQUFBNEksa0JBRUEsQ0FFQSxHQUFBd1EsWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFDQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0EsR0FBQSxJQUFBdEosT0FBQTZPLE1BQUFyQyxZQUFBLENBRUEsR0FBQXdDLFlBQ0FDLFlBQ0F6QyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBbUosS0FBQTNWLE9BQUE2TyxNQUFBQyxLQUFBNkcsS0FDQUssVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQUksV0FBQXBXLE9BQUE2TyxNQUFBdUgsV0FDQVIsWUFBQTVWLE9BQUE2TyxNQUFBK0csWUFDQTVULFFBQUFoQyxPQUFBa1AsZUFBQWxOLFFBQ0FrVSxVQUFBNU0sU0FBQTRNLFVBQ0FMLGdCQUFBN1YsT0FBQTZPLE1BQUFnSCxnQkFDQUMsWUFBQTlWLE9BQUE2TyxNQUFBaUgsWUFDQUMsYUFBQS9WLE9BQUE2TyxNQUFBa0gsYUFDQTFKLGNBQUF0QixXQUFBc0IsZUFFQXlDLEtBQUE5TyxPQUFBNk8sTUFBQUMsTUFHQUssR0FBQSxHQUFBQyxTQUNBRCxJQUFBcFEsT0FBQSxhQUFBc1EsS0FBQUMsVUFBQU4sVUFBQUMsYUFDQUUsR0FBQXBRLE9BQUEsT0FBQWlRLFVBQUFGLE1BRUF4RCxLQUFBaUwsV0FBQXBILElBQUFNLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsaUJBQ0FELFVBQUFLLGNBQUEsY0FDQTdXLE9BQUFrTSxlQUFBdkosS0FBQTZULFdBQ0F4VyxPQUFBZ00sVUFBQXJKLEtBQUE2VCxXQUNBM0wsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0EsSUFBQXdLLFVBQUFoSyxhQUFBeE0sT0FBQXNNLGtCQUFBM0osS0FBQTZULFdBQ0F4VyxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQStMLHVCQUFBLEdBQ0EsU0FBQS9LLGVBQ0FoQixPQUFBK0wsdUJBQUEsRUFDQXJDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksa0JBSUE1SixRQUFBNk8sTUFBQXFILFVBQUE1TSxTQUFBNE0sVUFBQWxXLE9BQUE2TyxNQUFBN00sUUFBQWhDLE9BQUFrUCxlQUFBbE4sUUFBQWhDLE9BQUE2TyxNQUFBeEMsY0FBQXRCLFdBQUFzQixjQUNBZixLQUFBNE8sS0FBQWxhLE9BQUE2TyxPQUFBWSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLGNBQ0E3VyxPQUFBa00sZUFBQXZKLEtBQUE2VCxXQUNBeFcsT0FBQWdNLFVBQUFySixLQUFBNlQsV0FDQTNMLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUErTCx1QkFBQSxHQUNBLFNBQUEvSyxlQUNBaEIsT0FBQStMLHVCQUFBLEVBQ0FyQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBR0EsU0FBQTVJLGVBQ0FoQixPQUFBK0wsdUJBQUEsRUFDQXJDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDBCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEksbUJBS0FrSSxPQUFBLG9DQUlBOVIsT0FBQXFhLFNBQUEsU0FBQVosT0FDQSxHQUFBLEdBQUF6WixPQUFBNk8sTUFBQXJDLFlBQUEsQ0FFQSxHQUFBckwsR0FBQW5CLE9BQUEwUSxTQUFBQyxXQUNBbkwsRUFBQXhGLE9BQUEwUSxTQUFBRSxRQUNBLElBQUEsR0FBQVIsTUFBQTVLLEdBQUEsR0FBQTRLLE1BQUFqUCxHQUFBLENBQ0FzWSxPQUFBLENBQ0EsSUFBQUMsU0FBQXRaLFVBQUFtQixNQUNBekIsU0FBQSx5UUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUErWCxTQUFBOVgsT0FBQUMsS0FBQSxXQUNBNFgsT0FBQSxLQUlBLEdBQUFBLE1BQUEsQ0FDQXpaLE9BQUErTCx1QkFBQSxDQUVBLEVBQUEvTCxPQUFBNk8sTUFBQWdJLGNBR0EsR0FGQTNXLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBO0FBQ0FTLFNBQUFwQixPQUFBMFEsU0FBQXlGLGFBQUEsQ0FHQSxHQUFBLE9BQUFuVyxPQUFBMFEsU0FBQTRJLFVBQUEsQ0FFQSxHQUFBTSxrQkFBQSxHQUFBeEosTUFBQXBRLE9BQUEwUSxTQUFBQyxZQUFBa0osY0FDQUMsZUFBQSxHQUFBMUosTUFBQXBRLE9BQUEwUSxTQUFBRSxVQUFBaUosYUFDQTdaLFFBQUEwUSxTQUFBQyxXQUFBaUosaUJBQ0E1WixPQUFBMFEsU0FBQUUsU0FBQWtKLGVBQ0E5WixPQUFBMFEsU0FBQTRJLFVBQUEsVUFDQSxDQUVBLEdBQUFTLElBQUEvWixPQUFBMFEsU0FBQUMsV0FBQTJELFdBQUFwSyxRQUFBLE9BQUEsRUFDQThQLEdBQUFoYSxPQUFBMFEsU0FBQUUsU0FBQTBELFdBQUFwSyxRQUFBLE9BQUEsQ0FDQWxLLFFBQUEwUSxTQUFBQyxXQUFBM1EsT0FBQTBRLFNBQUFDLFdBQUEyRCxXQUFBOEQsVUFBQSxFQUFBMkIsSUFDQS9aLE9BQUEwUSxTQUFBRSxTQUFBNVEsT0FBQTBRLFNBQUFFLFNBQUEwRCxXQUFBOEQsVUFBQSxFQUFBNEIsSUFFQTNPLFVBQUFpUCxRQUFBdlksR0FBQS9CLE9BQUEwUSxTQUFBeUYsY0FBQW5XLE9BQUEwUSxVQUFBakIsU0FBQTVOLEtBQUEsV0FDQXlKLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUE2TyxNQUFBNkcsU0FBQTFWLE9BQUE2TyxPQUFBWSxTQUFBNU4sS0FBQSxTQUFBMFksY0FDQTdRLE9BQUErTSxRQUFBLGdCQUNBOEQsYUFBQTFELGNBQUEsZ0JBQ0E3VyxPQUFBa00sZUFBQWxNLE9BQUErVyxnQkFBQXdELGFBQ0F2YSxPQUFBZ00sVUFBQWhNLE9BQUFnWCxlQUFBdUQsYUFDQTFQLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUErTCx1QkFBQSxHQUNBLFNBQUEvSyxlQUNBaEIsT0FBQStMLHVCQUFBLEVBQ0FyQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxzQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSxzQkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0FoQixPQUFBK0wsdUJBQUEsRUFDQXJDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksa0JBRUEsQ0FHQSxHQUFBd1EsWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFDQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBNk8sTUFBQXFILFVBQUE1TSxTQUFBNE0sVUFDQTVLLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUE2TyxNQUFBNkcsU0FBQTFWLE9BQUE2TyxPQUFBWSxTQUFBNU4sS0FBQSxTQUFBMFksY0FDQTdRLE9BQUErTSxRQUFBLGdCQUNBOEQsYUFBQTFELGNBQUEsY0FDQTdXLE9BQUFrTSxlQUFBbE0sT0FBQStXLGdCQUFBd0QsYUFDQXZhLE9BQUFnTSxVQUFBaE0sT0FBQWdYLGVBQUF1RCxhQUNBMVAsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0FoTSxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQStMLHVCQUFBLEdBQ0EsU0FBQS9LLGVBQ0FoQixPQUFBK0wsdUJBQUEsRUFDQXJDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHVCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUErTCx1QkFBQSxFQUNBckMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxpQkFNQTVKLE9BQUF3YSxXQUFBLFdBQ0EsR0FBQUMscUJBQUFyYSxVQUFBbUIsTUFDQW1aLFNBQUEsU0FDQUMsVUFBQSxFQUNBQyxZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQTdhLFFBQUE2TyxPQUVBaU0sS0FBQSxXQUNBLE1BQUEsVUFLQUwscUJBQUE3WSxPQUFBQyxLQUFBLFNBQUFrWixjQUNBN2EsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQXFGLEtBQUFBLFdBQUF2SixHQUFBZ1osYUFBQXJGLFVBQUFqRyxTQUFBNU4sS0FBQSxXQUNBNkgsT0FBQStNLFFBQUEsZ0JBQ0F6VyxPQUFBa00sZUFBQS9CLE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQWdNLFVBQUE3QixPQUFBbkssT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUFzTSxrQkFBQW5DLE9BQUFuSyxPQUFBOFcsa0JBQUEsR0FDQWpNLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlNLGNBQUEsR0FDQSxTQUFBekwsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksaUJBS0E1SixPQUFBZ2IsV0FBQSxXQUNBaGIsT0FBQTZPLFNBQ0E3TyxPQUFBMFgsV0FDQTFYLE9BQUEwUSxZQUNBMVEsT0FBQXlNLGNBQUEsR0FLQXpNLE9BQUFpYixhQUFBLFNBQUFDLEdBRUFsYixPQUFBK1csZUFBQSxHQUNBL1csT0FBQWdYLGNBQUEsR0FDQSxJQUFBa0UsR0FFQWxiLE9BQUErVyxlQUFBL1csT0FBQW1iLGdCQUFBalIsUUFBQWdSLEdBQ0FsYixPQUFBZ1gsY0FBQWhYLE9BQUFnTSxVQUFBOUIsUUFBQWdSLEdBQ0FsYixPQUFBb2IsU0FBQXhkLFFBQUErWixLQUFBdUQsR0FDQWxiLE9BQUFvYixTQUFBcEYsVUFBQSxHQUFBNUYsTUFBQXBRLE9BQUFvYixTQUFBcEYsV0FDQWhXLE9BQUFvYixTQUFBQyxTQUFBLE9BQ0FoUSxVQUFBaU4sT0FBQXZXLEdBQUFtWixFQUFBL0UsZUFBQTFHLFNBQUE1TixLQUFBLFNBQUFnWCxJQUNBN1ksT0FBQXNiLE9BQUF6QyxHQUNBN1ksT0FBQXViLGNBQUFyUSxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQS9ZLE9BQUFzYixPQUFBdEMsZUFBQSxHQUNBaFosT0FBQXNiLE9BQUFyQyxhQUFBLEdBQUE3SSxNQUFBcFEsT0FBQXNiLE9BQUFyQyxjQUNBalosT0FBQXNiLE9BQUEzSyxXQUFBSCxpQkFBQXhRLE9BQUFzYixPQUFBM0ssWUFDQTNRLE9BQUFzYixPQUFBMUssU0FBQUosaUJBQUF4USxPQUFBc2IsT0FBQTFLLFdBQ0EsU0FBQTVQLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGdCQUtBNUosT0FBQW9iLFVBQ0F6RixLQUFBLDhDQUFBM1YsT0FBQWtQLGVBQUFzTSxTQUNBclYsS0FBQSxTQUNBNlAsVUFBQSxHQUFBNUYsTUFDQTVELFlBQUEsRUFDQTZPLFNBQUEsT0FDQXJaLFFBQUFoQyxPQUFBeWIsUUFBQXpaLFFBQ0FtVSxhQUFBLEVBQ0E5SixjQUFBck0sT0FBQXliLFFBQUFwUCxjQUNBZ0ssUUFBQSxHQUVBclcsT0FBQXNiLFFBQ0F0QyxhQUFBalQsU0FBQUUsSUFBQSxPQUNBb0csY0FBQXJNLE9BQUF5YixRQUFBcFAsY0FDQTRNLGFBQUFHLEdBQUEsR0FDQUUsVUFBQUYsR0FBQSxHQUNBekksV0FBQSxHQUFBUCxNQUNBUSxTQUFBLEdBQUFSLE9BRUFwUSxPQUFBdWIsY0FBQXJRLFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBaFQsU0FBQUUsSUFBQSxTQUFBLElBRUFqRyxPQUFBME0sa0JBQUEsRUFFQSxJQUFBZ1AseUJBQUEsU0FBQUMsTUFDQXRRLFVBQUF1USxlQUFBN1osR0FBQTRaLE9BQUFsTSxTQUFBNU4sS0FBQSxTQUFBZ2Esa0JBQ0E3YixPQUFBc2IsT0FBQVEsWUFBQUQsaUJBQUFDLGFBQ0EsU0FBQTlhLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxtQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxtQ0FBQU8sY0FBQTRJLGNBR0E1SixRQUFBK2IsZUFBQSxTQUFBdEMsT0FFQSxHQUFBdFksR0FBQW5CLE9BQUFzYixPQUFBM0ssV0FDQW5MLEVBQUF4RixPQUFBc2IsT0FBQTFLLFFBQ0EsSUFBQSxHQUFBUixNQUFBNUssR0FBQSxHQUFBNEssTUFBQWpQLEdBQUEsQ0FDQXNZLE9BQUEsQ0FDQSxJQUFBQyxTQUFBdFosVUFBQW1CLE1BQ0F6QixTQUFBLHlRQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQStYLFNBQUE5WCxPQUFBQyxLQUFBLFdBQ0E0WCxPQUFBLElBR0EsR0FBQUEsTUFBQSxDQU1BLEdBTEF6WixPQUFBZ2MsMkJBQUEsRUFDQTliLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUdBLE9BQUFYLE9BQUFzYixPQUFBaEMsVUFBQSxDQUVBLEdBQUFNLGtCQUFBLEdBQUF4SixNQUFBcFEsT0FBQXNiLE9BQUEzSyxZQUFBa0osY0FDQUMsZUFBQSxHQUFBMUosTUFBQXBRLE9BQUFzYixPQUFBMUssVUFBQWlKLGFBQ0E3WixRQUFBc2IsT0FBQTNLLFdBQUFpSixpQkFDQTVaLE9BQUFzYixPQUFBMUssU0FBQWtKLGVBQ0E5WixPQUFBc2IsT0FBQWhDLFVBQUEsVUFDQSxDQUVBLEdBQUFTLElBQUEvWixPQUFBc2IsT0FBQTNLLFdBQUEyRCxXQUFBcEssUUFBQSxPQUFBLEVBQ0E4UCxHQUFBaGEsT0FBQXNiLE9BQUExSyxTQUFBMEQsV0FBQXBLLFFBQUEsT0FBQSxDQUNBbEssUUFBQXNiLE9BQUEzSyxXQUFBM1EsT0FBQXNiLE9BQUEzSyxXQUFBMkQsV0FBQThELFVBQUEsRUFBQTJCLElBQ0EvWixPQUFBc2IsT0FBQTFLLFNBQUE1USxPQUFBc2IsT0FBQTFLLFNBQUEwRCxXQUFBOEQsVUFBQSxFQUFBNEIsSUFFQSxHQUFBQyxZQUFBLENBQ0E1TyxXQUFBNk8sS0FBQWxhLE9BQUFzYixRQUFBN0wsU0FBQTVOLEtBQUEsU0FBQW9hLGFBQ0FoQyxXQUFBZ0MsWUFBQTlGLGFBR0FuVyxPQUFBc2IsT0FBQW5GLGFBQUE4RixZQUFBOUYsYUFDQXVGLHdCQUFBTyxZQUFBOUYsY0FFQW5XLE9BQUFvYixTQUFBakYsYUFBQThGLFlBQUE5RixhQUNBblcsT0FBQW9iLFNBQUFqVixLQUFBLGVBQ0FuRyxRQUFBb2IsU0FBQUMsU0FDQS9QLEtBQUE0TyxLQUFBbGEsT0FBQW9iLFVBQUEzTCxTQUFBNU4sS0FBQSxTQUFBcWEsV0FDQXhTLE9BQUErTSxRQUFBLGdCQUNBeUYsVUFBQXJGLGNBQUEsZ0JBQ0E3VyxPQUFBbWIsZ0JBQUF4WSxLQUFBdVosV0FDQWxjLE9BQUFnTSxVQUFBckosS0FBQXVaLFdBQ0FyUixXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUEwTSxrQkFBQSxFQUFBMU0sT0FBQWdjLDJCQUFBLEdBQ0EsU0FBQWhiLGVBRUFxSyxVQUFBQSxXQUFBdEosR0FBQWtZLGFBQ0FqYSxPQUFBb2IsWUFBQXBiLE9BQUFzYixVQUFBdGIsT0FBQTBNLGtCQUFBLEVBQ0ExTSxPQUFBZ2MsMkJBQUEsRUFDQXRTLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUFnYywyQkFBQSxFQUNBdFMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsb0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esb0NBQUFPLGNBQUE0SSxnQkFLQTVKLE9BQUFtYyxhQUFBLFNBQUExQyxPQUVBLEdBQUF0WSxHQUFBbkIsT0FBQXNiLE9BQUEzSyxXQUNBbkwsRUFBQXhGLE9BQUFzYixPQUFBMUssUUFDQSxJQUFBLEdBQUFSLE1BQUE1SyxHQUFBLEdBQUE0SyxNQUFBalAsR0FBQSxDQUNBc1ksT0FBQSxDQUNBLElBQUFDLFNBQUF0WixVQUFBbUIsTUFDQXpCLFNBQUEseVFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBK1gsU0FBQTlYLE9BQUFDLEtBQUEsV0FDQTRYLE9BQUEsSUFHQSxHQUFBQSxNQUFBLENBS0EsR0FIQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUVBLE9BQUFYLE9BQUFzYixPQUFBaEMsVUFBQSxDQUVBLEdBQUFNLGtCQUFBLEdBQUF4SixNQUFBcFEsT0FBQXNiLE9BQUEzSyxZQUFBa0osY0FDQUMsZUFBQSxHQUFBMUosTUFBQXBRLE9BQUFzYixPQUFBMUssVUFBQWlKLGFBQ0E3WixRQUFBc2IsT0FBQTNLLFdBQUFpSixpQkFDQTVaLE9BQUFzYixPQUFBMUssU0FBQWtKLGVBQ0E5WixPQUFBc2IsT0FBQWhDLFVBQUEsVUFDQSxDQUVBLEdBQUFTLElBQUEvWixPQUFBc2IsT0FBQTNLLFdBQUEyRCxXQUFBcEssUUFBQSxPQUFBLEVBQ0E4UCxHQUFBaGEsT0FBQXNiLE9BQUExSyxTQUFBMEQsV0FBQXBLLFFBQUEsT0FBQSxDQUNBbEssUUFBQXNiLE9BQUEzSyxXQUFBM1EsT0FBQXNiLE9BQUEzSyxXQUFBMkQsV0FBQThELFVBQUEsRUFBQTJCLElBQ0EvWixPQUFBc2IsT0FBQTFLLFNBQUE1USxPQUFBc2IsT0FBQTFLLFNBQUEwRCxXQUFBOEQsVUFBQSxFQUFBNEIsSUFFQTNPLFVBQUFpUCxRQUFBdlksR0FBQS9CLE9BQUFzYixPQUFBbkYsY0FBQW5XLE9BQUFzYixRQUFBN0wsU0FBQTVOLEtBQUEsV0FDQXlKLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUFvYixTQUFBMUYsU0FBQTFWLE9BQUFvYixVQUFBM0wsU0FBQTVOLEtBQUEsU0FBQTBZLGNBQ0E3USxPQUFBK00sUUFBQSxxQkFDQThELGFBQUExRCxjQUFBLGdCQUNBN1csT0FBQW1iLGdCQUFBbmIsT0FBQStXLGdCQUFBd0QsYUFDQXZhLE9BQUFnTSxVQUFBaE0sT0FBQWdYLGVBQUF1RCxhQUNBMVAsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0FoTSxPQUFBME0sa0JBQUEsR0FDQSxTQUFBMUwsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHNCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksZ0JBS0E1SixPQUFBb2MsZUFBQSxXQUNBLEdBQUEzQixxQkFBQXJhLFVBQUFtQixNQUNBbVosU0FBQSxTQUNBQyxVQUFBLEVBQ0FDLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBN2EsUUFBQW9iLFVBRUFOLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGdCQUNBelcsT0FBQW1iLGdCQUFBaFIsT0FBQW5LLE9BQUErVyxlQUFBLEdBQ0EvVyxPQUFBZ00sVUFBQTdCLE9BQUFuSyxPQUFBZ1gsY0FBQSxHQUNBbk0sV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0FoTSxPQUFBME0sa0JBQUEsR0FDQSxTQUFBMUwsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksaUJBS0E1SixPQUFBcWMsZUFBQSxXQUNBcmMsT0FBQW9iLFlBQ0FwYixPQUFBc2IsVUFDQXRiLE9BQUEwTSxrQkFBQSxHQUtBMU0sT0FBQXNjLFNBQUEsU0FBQUMsVUFDQSxHQUFBQyxLQUFBeGMsT0FBQTRNLGVBQUE0QixJQUFBLFNBQUFpTyxHQUFBLE1BQUFBLEdBQUFuRyxxQkFBQXBNLFFBQUFxUyxTQUFBakcsbUJBQ0EsSUFBQWlHLFNBQUFoVSxTQUVBdkksT0FBQTBjLGFBQ0ExYyxPQUFBMGMsVUFBQUMsUUFBQUosU0FBQTVHLEtBQ0EzVixPQUFBMGMsVUFBQUUsVUFBQUwsU0FBQU0sUUFDQTdjLE9BQUEwYyxVQUFBSSxPQUFBOWMsT0FBQThMLGNBQUFLLE9BQUEsU0FBQTRRLElBQUEsTUFBQUEsSUFBQUMsVUFBQVQsU0FBQVUsWUFBQSxHQUFBQyxtQkFDQWxkLE9BQUEwYyxVQUFBcEcsbUJBQUFpRyxTQUFBakcsbUJBRUFsVixTQUFBcEIsT0FBQXliLFFBQUFwUCxlQUFBLElBQUFyTSxPQUFBbWQsWUFBQUMsZ0JBQ0FwZCxPQUFBcWQsWUFBQTFhLEtBQUEzQyxPQUFBMGMsV0FDQTFjLE9BQUFzZCxhQUFBLEdBQUFMLFVBQUFWLFNBQUFVLFlBRUFqZCxPQUFBOE0sY0FBQW5LLEtBQUEzQyxPQUFBMGMsV0FDQTFjLE9BQUFtZCxZQUFBRixVQUFBVixTQUFBVSxlQUVBLENBR0EsR0FBQU0sY0FBQW5kLFVBQUFtQixNQUNBbVosU0FBQSxTQUNBQyxVQUFBLEVBQ0E3YSxTQUFBLHlXQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLE1BQUEsV0FFQTFCLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQUUsTUFBQSxhQUdBQyxLQUFBLE1BRUE0YixjQUFBM2IsT0FBQUMsS0FBQSxTQUFBMmIsU0FDQSxHQUFBLFVBQUFBLFFBQUEsQ0FFQSxHQUFBQyxjQUFBcmMsU0FBQXBCLE9BQUF5YixRQUFBcFAsZUFBQSxJQUFBck0sT0FBQW1kLFlBQUFDLGVBQUEsT0FBQSxTQUNBTSxpQkFBQSxRQUFBRCxhQUFBemQsT0FBQXFkLFlBQUFsUixPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFwQyxvQkFBQWlHLFNBQUFqRyxxQkFBQSxHQUNBdFcsT0FBQThNLGNBQUFYLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQXBDLG9CQUFBaUcsU0FBQWpHLHFCQUFBLEdBRUFxSCxLQUFBLFFBQUFGLGFBQUF6ZCxPQUFBcWQsWUFBQTdPLElBQUEsU0FBQWlPLEdBQUEsTUFBQUEsR0FBQW5HLHFCQUFBcE0sUUFBQXdULGlCQUFBcEgsb0JBQ0F0VyxPQUFBOE0sY0FBQTBCLElBQUEsU0FBQWlPLEdBQUEsTUFBQUEsR0FBQW5HLHFCQUFBcE0sUUFBQXdULGlCQUFBcEgsbUJBRUFsVixVQUFBc2MsaUJBQUFFLG9CQUFBNWQsT0FBQTZNLGFBQUFsSyxLQUFBK2EsaUJBQUFFLG9CQUNBLFFBQUFILGFBQUF6ZCxPQUFBcWQsWUFBQWxULE9BQUF3VCxLQUFBLEdBQUEzZCxPQUFBOE0sY0FBQTNDLE9BQUF3VCxLQUFBLEdBR0EsUUFBQUYsYUFDQSxJQUFBemQsT0FBQXFkLFlBQUEzWCxTQUNBMUYsT0FBQXNkLGFBQUEsR0FBQUwsVUFBQSxFQUFBamQsT0FBQXNkLGFBQUEsR0FBQU8sYUFBQSxHQUFBN2QsT0FBQXNkLGFBQUEsR0FBQVEsYUFBQSxHQUFBOWQsT0FBQXNkLGFBQUEsR0FBQVMsaUJBQUEsSUFHQSxJQUFBL2QsT0FBQThNLGNBQUFwSCxTQUNBMUYsT0FBQW1kLFlBQUFGLFVBQUEsRUFBQWpkLE9BQUFtZCxZQUFBVSxhQUFBLEdBQUE3ZCxPQUFBbWQsWUFBQVcsYUFBQSxHQUFBOWQsT0FBQW1kLFlBQUFZLGlCQUFBLFFBS0EvZCxRQUFBNE0sZUFBQTRQLEtBQUFqVSxVQUFBLEtBUUEsSUFBQThRLGtCQUFBLFNBQUEyRSxPQUNBLEdBQ0ExZSxHQURBMmUsV0FHQTNlLEdBQUE4QixTQUFBNGMsTUFBQSxHQUFBNU4sTUFBQTROLE9BQ0EsR0FBQTVOLEtBRUEsSUFBQTJELFFBQUF6VSxFQUFBZ1YsV0FBQThELFVBQUEsSUFDQThGLEtBQUEsRUFDQSxRQUFBbkssT0FBQVMsT0FBQSxFQUFBLElBQ0EsSUFBQSxNQUNBMEosS0FBQSxLQUNBLE1BQ0EsS0FBQSxNQUNBQSxLQUFBLEtBQ0EsTUFDQSxLQUFBLE1BQ0FBLEtBQUEsS0FDQSxNQUNBLEtBQUEsTUFDQUEsS0FBQSxNQUlBLE1BREFELFdBQUEzZSxFQUFBNGUsTUFLQWxlLFFBQUFtZSxrQkFBQSxXQUNBbmUsT0FBQW1OLGFBQUFuTixPQUFBbU4sYUFJQW5OLE9BQUFvZSxZQUFBLFdBQ0FwZSxPQUFBcWUsVUFBQXJlLE9BQUE0TCxVQUFBTyxPQUFBLFNBQUExSCxJQUFBLE1BQUFBLElBQUE2WixVQUFBdGUsT0FBQW9OLGFBQUFrUixXQUFBLEdBQUFDLFlBSUF2ZSxPQUFBd2UsWUFBQSxXQUNBeGUsT0FBQWdOLDBCQUNBLElBQUF5UixxQkFBQXplLE9BQUF5TCxlQUFBVSxPQUFBLFNBQUFvRSxJQUFBLE1BQUFBLElBQUFtTyxnQkFBQTFlLE9BQUF5YixRQUFBaUQsaUJBQUEsRUFFQTFlLFFBQUFnTix3QkFBQXlSLG9CQUFBRSxnQkFFQSxHQUFBM2UsT0FBQWdOLHdCQUFBdEgsU0FDQTFGLE9BQUF5YixRQUFBbUQsbUJBQUE1ZSxPQUFBZ04sd0JBQUEsR0FBQTRSLHFCQUtBNWUsT0FBQTZlLGVBQUEzVCxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxHQUVBakcsT0FBQXliLFdBQ0F6YixPQUFBbWQsZUFFQW5kLE9BQUFrUCxlQUFBbEUsV0FHQWhMLE9BQUFnUyxPQUFBLFdBQ0FsTSxXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLElBQUFxVix3QkFBQS9ULFVBQ0E1RyxVQUFBLFdBRUEsR0FBQTRhLFdBQUFELHVCQUNBdGQsbUJBQUFFLE1BQUFxZCxhQUtBL2UsT0FBQWdmLE1BQUEsU0FBQUMsS0FDQSxHQUFBQyxVQUFBRCxLQUFBRSxPQUFBamQsTUFDQWtkLElBQUFGLFNBQUFHLFNBQUFILFNBQUEvYyxLQUNBLEtBQUFpZCxLQUFBLElBQUFBLEtBQUFBLElBQUEsS0FBQSxHQUFBQSxLQUFBQSxJQUFBLE1BQ0FGLFNBQUFJLGFBQUEsRUFDQUosU0FBQTNjLGdCQUFBMmMsU0FBQTNjLGtCQUtBLElBQUFnZCx5QkFBQSxTQUFBQyxHQUVBLEdBQUEsVUFBQUEsRUFDQSxHQUFBLE9BQUF4ZixPQUFBc2QsYUFBQSxHQUFBaEUsVUFBQSxDQUVBLEdBQUFtRyxjQUFBLEdBQUFyUCxNQUFBcFEsT0FBQXNkLGFBQUEsR0FBQW9DLFlBQUE3RixhQUNBN1osUUFBQXNkLGFBQUEsR0FBQW9DLFdBQUFELGFBQ0F6ZixPQUFBc2QsYUFBQSxHQUFBaEUsVUFBQSxVQUNBLENBRUEsR0FBQW5SLEdBQUFuSSxPQUFBc2QsYUFBQSxHQUFBb0MsV0FBQXBMLFdBQUFwSyxRQUFBLE9BQUEsQ0FDQWxLLFFBQUFzZCxhQUFBLEdBQUFvQyxXQUFBMWYsT0FBQXNkLGFBQUEsR0FBQW9DLFdBQUFwTCxXQUFBOEQsVUFBQSxFQUFBalEsT0FHQSxJQUFBLE9BQUFuSSxPQUFBbWQsWUFBQTdELFVBQUEsQ0FFQSxHQUFBcUcsY0FBQSxHQUFBdlAsTUFBQXBRLE9BQUFtZCxZQUFBdUMsWUFBQTdGLGFBQ0E3WixRQUFBbWQsWUFBQXVDLFdBQUFDLGFBQ0EzZixPQUFBbWQsWUFBQTdELFVBQUEsVUFDQSxDQUVBLEdBQUFzRyxJQUFBNWYsT0FBQW1kLFlBQUF1QyxXQUFBcEwsV0FBQXBLLFFBQUEsT0FBQSxDQUNBbEssUUFBQW1kLFlBQUF1QyxXQUFBMWYsT0FBQW1kLFlBQUF1QyxXQUFBcEwsV0FBQThELFVBQUEsRUFBQXdILEtBd1BBLElBbFBBNWYsT0FBQWthLEtBQUEsU0FBQVQsT0FDQSxHQUFBQSxNQUFBLENBQ0EsR0FBQW9HLGtCQUNBQyxpQkFFQTFlLFVBQUFwQixPQUFBb04sYUFBQWtSLFdBQ0F0ZSxPQUFBc2QsYUFBQSxHQUFBZ0IsU0FBQXRlLE9BQUFvTixhQUFBa1IsVUFHQSxXQUFBdGUsT0FBQXFOLGFBQUFpRyxPQUNBdFQsT0FBQXNkLGFBQUEsR0FBQXlDLFNBQUEsR0FBQS9mLE9BQUFzZCxhQUFBLEdBQUF5QyxVQUVBUix3QkFBQSxVQUNBcmYsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0F3SyxXQUFBbVAsUUFBQXZZLEdBQUEvQixPQUFBc2QsYUFBQSxHQUFBalIsZUFBQXJNLE9BQUFzZCxhQUFBLElBQUE3TixTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXVXLGNBQUF2VyxTQUNBdVcsY0FBQUcsZUFBQWhnQixPQUFBc2QsYUFBQSxHQUFBc0IsbUJBQUEsRUFBQTVlLE9BQUErTSxZQUFBWixPQUFBLFNBQUE3TSxHQUFBLE1BQUFBLEdBQUFzZixvQkFBQTVlLE9BQUFzZCxhQUFBLEdBQUFzQixxQkFBQSxHQUFBcUIsT0FBQSxHQUNBSixjQUFBSyxZQUFBbGdCLE9BQUFzZCxhQUFBLEdBQUE2QyxnQkFBQSxFQUFBbmdCLE9BQUEyTCxjQUFBUSxPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUF3TCxpQkFBQW5nQixPQUFBc2QsYUFBQSxHQUFBNkMsa0JBQUEsR0FBQUMsVUFBQSxHQUNBUCxjQUFBUSxZQUFBcmdCLE9BQUEwTCxnQkFBQVMsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBbWYsaUJBQUF0Z0IsT0FBQXNkLGFBQUEsR0FBQWdELGtCQUFBLEdBQUFDLFdBQ0FWLGNBQUFXLFdBQUF4Z0IsT0FBQXlMLGVBQUFVLE9BQUEsU0FBQXNVLEdBQUEsTUFBQUEsR0FBQS9CLGdCQUFBMWUsT0FBQXNkLGFBQUEsR0FBQW9CLGlCQUFBLEdBQUFsVyxPQUNBNEMsa0JBQUFrUCxRQUFBdlksR0FBQS9CLE9BQUFzZCxhQUFBLEdBQUFvRCxzQkFBQTFnQixPQUFBc2QsYUFBQSxJQUFBN04sU0FBQTVOLEtBQUEsU0FBQThlLGNBRUEsSUFBQSxHQUFBQyxJQUFBLEVBQUFBLEdBQUE1Z0IsT0FBQTZNLGFBQUFuSCxPQUFBa2IsS0FBQSxDQUNBLEdBQUFDLFlBQUE3Z0IsT0FBQTZNLGFBQUErVCxHQUNBcFYsWUFBQUEsV0FBQXpKLEdBQUE4ZSxhQUFBcFIsU0FFQXpQLE9BQUE4TSxjQUFBOU0sT0FBQXFkLFlBQUEzWCxPQUFBLEtBQUExRixPQUFBOE0sYUFDQSxLQUFBLEdBQUFnVSxJQUFBLEVBQUFBLEdBQUE5Z0IsT0FBQXFkLFlBQUEzWCxPQUFBb2IsS0FBQSxDQUNBLEdBQUFDLGFBQUEvZ0IsT0FBQXFkLFlBQUF5RCxHQUNBMWYsVUFBQTJmLFlBQUFuRCxtQkFFQXBTLFdBQUE4TyxRQUFBdlksR0FBQWdmLFlBQUFuRCxvQkFBQW1ELGFBQUF0UixTQUFBNU4sS0FBQSxTQUFBbWYsY0FDQUEsYUFBQXJFLFFBQUFvRSxZQUFBcEUsUUFDQXFFLGFBQUFsRSxPQUFBaUUsWUFBQWpFLE9BQ0E5YyxPQUFBOE0sY0FBQW5LLEtBQUFxZSxpQkFJQUQsWUFBQUwscUJBQUFDLGFBQUFELHFCQUNBbFYsV0FBQTBPLEtBQUE2RyxhQUFBdFIsU0FBQTVOLEtBQUEsU0FBQW1mLGNBQ0FBLGFBQUFyRSxRQUFBb0UsWUFBQXBFLFFBQ0FxRSxhQUFBbEUsT0FBQWlFLFlBQUFqRSxPQUNBOWMsT0FBQThNLGNBQUFuSyxLQUFBcWUsZUFDQSxTQUFBaGdCLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwrQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwrQkFBQU8sY0FBQTRJLGVBS0FrVyxlQUFBYSxhQUNBYixlQUFBemUsT0FBQSxVQUNBLElBQUE0ZiwyQkFBQWpoQixPQUFBeWIsUUFBQXlGLGlCQUNBbGhCLFFBQUF5YixRQUFBb0UsY0FDQTlVLFdBQUE4VSxjQUFBOVUsV0FBQW1XLGtCQUFBRCwwQkFDQWpoQixPQUFBbWQsWUFBQTJDLGVBQ0E5ZixPQUFBbWQsWUFBQXVDLFdBQUFsUCxpQkFBQXhRLE9BQUFtZCxZQUFBdUMsV0FFQSxJQUFBelYsS0FBQWMsV0FBQW1XLGtCQUFBMVMsSUFBQSxTQUFBckcsR0FBQSxNQUFBQSxHQUFBaVYsaUJBQUFsVCxRQUFBLEVBQ0FhLFlBQUFtVyxrQkFBQWpYLEtBQUFqSyxPQUFBbWQsWUFDQW5kLE9BQUFzZCxnQkFBQXRkLE9BQUFxTixjQUFBaUcsS0FBQSxXQUNBdFQsT0FBQXdHLEtBQUFrSCxPQUFBLFNBQ0FoRSxPQUFBK00sUUFBQSxtQkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGlDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGlDQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZ0JBTUE1SixPQUFBbWhCLE9BQUEsV0FDQSxHQUFBMWIsS0FBQTJiLFdBQUFDLE9BQ0EsR0FBQSw0RUFBQXJoQixPQUFBeWIsUUFBQTZGLHFCQUFBLENBRUEsV0FBQXRoQixPQUFBcU4sYUFBQWlHLE9BQ0F0VCxPQUFBeWIsUUFBQXNFLFNBQUEsR0FBQS9mLE9BQUF5YixRQUFBc0UsVUFFQS9mLE9BQUF5YixRQUFBNkMsU0FBQXZZLFNBQUFFLElBQUEsa0JBQ0FqRyxPQUFBeWIsUUFBQXpaLFFBQUFnSixXQUFBaEosT0FDQSxJQUFBdWYsU0FBQTNqQixRQUFBK1osS0FBQTNYLE9BQUFtZCxZQUFBN0QsVUFDQWlHLHlCQUFBLFVBQ0F2ZixPQUFBbWQsWUFBQUMsZUFBQSxFQUNBcGQsT0FBQW1kLFlBQUFwRSxVQUFBaFQsU0FBQUUsSUFBQSxNQUNBLElBQUF1YixrQkFBQUMsYUFLQSxJQUpBdmhCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUdBUyxTQUFBcEIsT0FBQXliLFFBQUFwUCxjQUVBbEIsV0FBQW1QLFFBQUF2WSxHQUFBL0IsT0FBQXliLFFBQUFwUCxlQUFBck0sT0FBQXliLFNBQUFoTSxTQUFBNU4sS0FBQSxTQUFBeUgsVUFFQWtZLGNBQUFsWSxTQUNBa1ksY0FBQXhCLGVBQUFoZ0IsT0FBQXliLFFBQUF1RSxlQUNBd0IsY0FBQXRCLFlBQUE1VyxTQUFBNlcsZ0JBQUEsRUFBQW5nQixPQUFBMkwsY0FBQVEsT0FBQSxTQUFBd0ksR0FBQSxNQUFBQSxHQUFBd0wsaUJBQUE3VyxTQUFBNlcsa0JBQUEsR0FBQUMsVUFBQSxHQUNBb0IsY0FBQW5CLFlBQUFyZ0IsT0FBQTBMLGdCQUFBUyxPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUFtZixpQkFBQWhYLFNBQUFnWCxrQkFBQSxHQUFBQyxXQUNBaUIsY0FBQWhCLFdBQUF4Z0IsT0FBQXlMLGVBQUFVLE9BQUEsU0FBQXNVLEdBQUEsTUFBQUEsR0FBQS9CLGdCQUFBcFYsU0FBQW9WLGlCQUFBLEdBQUFsVyxPQUNBeEksT0FBQW1kLFlBQUE5USxjQUFBL0MsU0FBQStDLGNBQ0FqQixrQkFBQThPLEtBQUFsYSxPQUFBbWQsYUFBQTFOLFNBQUE1TixLQUFBLFNBQUE4ZSxjQUVBLEdBQUEzZ0IsT0FBQThNLGNBQUFwSCxPQUFBLEVBQ0EsSUFBQSxHQUFBK2EsR0FBQSxFQUFBQSxFQUFBemdCLE9BQUE4TSxjQUFBcEgsT0FBQSthLElBQUEsQ0FDQSxHQUFBaUIsVUFBQTFoQixPQUFBOE0sY0FBQTJULEVBQ0FpQixVQUFBaEIscUJBQUFDLGFBQUFELHFCQUVBbFYsV0FBQTBPLEtBQUF3SCxVQUFBalMsU0FJQWdTLFdBQUFkLGFBRUFjLFdBQUFwZ0IsT0FBQSxXQUNBbWdCLGNBQUFOLG1CQUFBTyxXQUFBemhCLE9BQUEyaEIscUJBQ0F4ZCxTQUFBLFdBRUF1RixPQUFBK00sUUFBQSxrQkFDQSxJQUFBcE8sT0FBQSxXQUFBckksT0FBQXNOLFlBQUEsbUJBQUEsY0FDQXlSLFVBQUF5QyxjQUFBblosTUFDQTdHLG1CQUFBRSxNQUFBcWQsYUFFQSxTQUFBL2QsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGlDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGlDQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksa0JBRUEsQ0FFQSxHQUFBZ1ksY0FBQSxDQUNBelcsWUFBQStPLEtBQUFsYSxPQUFBeWIsU0FBQWhNLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBc1ksYUFBQXRZLFNBQUErQyxjQUVBbVYsY0FBQWxZLFNBQ0FrWSxjQUFBeEIsZUFBQSxPQUFBMVcsU0FBQXNWLG9CQUFBeGQsU0FBQWtJLFNBQUFzVixtQkFBQTVlLE9BQUErTSxZQUFBWixPQUFBLFNBQUE3TSxHQUFBLE1BQUFBLEdBQUFzZixvQkFBQXRWLFNBQUFzVixxQkFBQSxHQUFBcUIsT0FBQSxHQUNBdUIsY0FBQXRCLFlBQUEsT0FBQTVXLFNBQUE2VyxpQkFBQS9lLFNBQUFrSSxTQUFBNlcsZ0JBQUFuZ0IsT0FBQTJMLGNBQUFRLE9BQUEsU0FBQXdJLEdBQUEsTUFBQUEsR0FBQXdMLGlCQUFBN1csU0FBQTZXLGtCQUFBLEdBQUFDLFVBQUEsR0FDQW9CLGNBQUFuQixZQUFBcmdCLE9BQUEwTCxnQkFBQVMsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBbWYsaUJBQUFoWCxTQUFBZ1gsa0JBQUEsR0FBQUMsV0FDQWlCLGNBQUFoQixXQUFBeGdCLE9BQUF5TCxlQUFBVSxPQUFBLFNBQUFzVSxHQUFBLE1BQUFBLEdBQUEvQixnQkFBQXBWLFNBQUFvVixpQkFBQSxHQUFBbFcsT0FDQXhJLE9BQUFtZCxZQUFBOVEsY0FBQS9DLFNBQUErQyxhQUVBLElBQUF3VixVQUFBamtCLFFBQUErWixLQUNBLEdBQUF2SCxNQUFBcFEsT0FBQW1kLFlBQUF1QyxZQUFBb0MsY0FBQSxLQUNBLEtBQUEsR0FBQTFSLE1BQUFwUSxPQUFBbWQsWUFBQXVDLFlBQUFxQyxXQUFBLElBQUFDLE1BQUEsSUFBQSxJQUNBLEdBQUE1UixNQUFBcFEsT0FBQW1kLFlBQUF1QyxZQUFBdUMsVUFBQSxLQUNBLElBQUEsR0FBQTdSLE1BQUFwUSxPQUFBbWQsWUFBQXVDLFlBQUF3QyxZQUFBRixNQUFBLElBQUEsSUFDQSxHQUFBNVIsTUFBQXBRLE9BQUFtZCxZQUFBdUMsWUFBQXlDLGFBQ0EvVyxtQkFBQThPLEtBQUFsYSxPQUFBbWQsYUFBQTFOLFNBQUE1TixLQUFBLFNBQUE4ZSxjQUVBLEdBQUEzZ0IsT0FBQThNLGNBQUFwSCxPQUFBLEVBQ0EsSUFBQSxHQUFBK2EsR0FBQSxFQUFBQSxFQUFBemdCLE9BQUE4TSxjQUFBcEgsT0FBQSthLElBQUEsQ0FDQSxHQUFBaUIsVUFBQTFoQixPQUFBOE0sY0FBQTJULEVBQ0FpQixVQUFBaEIscUJBQUFDLGFBQUFELHFCQUVBbFYsV0FBQTBPLEtBQUF3SCxVQUFBalMsU0FJQWdTLFdBQUFkLGFBQ0FjLFdBQUFwZ0IsT0FBQSxXQUNBbWdCLGNBQUFOLG1CQUFBTyxZQUNBL1gsT0FBQStNLFFBQUEsa0JBQ0EsSUFBQXBPLE9BQUEsV0FBQXJJLE9BQUFzTixZQUFBLG1CQUFBLGNBQ0F5UixVQUFBeUMsY0FBQW5aLE1BQ0E3RyxtQkFBQUUsTUFBQXFkLFdBQ0EsU0FBQS9kLGVBQ0FoQixPQUFBbWQsWUFBQXVDLFdBQUFsUCxpQkFBQXFSLFVBQ0E3aEIsT0FBQW1kLFlBQUE3RCxVQUFBaUksUUFDQXBXLFdBQUFBLFdBQUFwSixHQUFBNmYsZUFDQWxZLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDBCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1CQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEksbUJBS0EsQ0FBQXhKLFVBQUFtQixNQUNBekIsU0FBQSwrUkFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLFNBT0EzQixPQUFBb2lCLFFBQUEsV0FFQSxHQUFBM0gscUJBQUFyYSxVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBK1ksU0FBQSxTQUNBQyxVQUFBLEVBQ0EzSyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBeWIsU0FFQVgsS0FBQSxXQUNBLE1BQUEsWUFLQUwscUJBQUE3WSxPQUFBQyxLQUFBLFNBQUF3Z0IsZ0JBQ0FuaUIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFFQWtGLFdBQUFBLFdBQUFwSixHQUFBc2dCLGVBQUFoVyxnQkFBQW9ELFNBQUE1TixLQUFBLFdBQ0E3QixPQUFBa00sa0JBQ0FsTSxPQUFBc00sb0JBR0EsS0FEQSxHQUFBZ1csR0FBQXRpQixPQUFBZ00sVUFBQXRHLE9BQ0E0YyxLQUNBdGlCLE9BQUFnTSxVQUFBc1csR0FBQWpXLGVBQUFnVyxlQUFBaFcsZUFBQXJNLE9BQUFnTSxVQUFBN0IsT0FBQW1ZLEVBQUEsRUFHQXpYLFlBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBdEMsT0FBQStNLFFBQUEsaUJBQ0EsSUFBQXNJLFdBQUEsS0FBQSxVQUNBdmQsbUJBQUFFLE1BQUFxZCxXQUNBLFNBQUEvZCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxpQkFLQSxTQUFBbUIsV0FBQSxDQVFBLEdBTEEvSyxPQUFBeWIsUUFBQTdkLFFBQUErWixLQUFBNU0sWUFDQS9LLE9BQUFtZCxZQUFBdmYsUUFBQStaLEtBQUE1TSxXQUFBbVcsa0JBQUEsSUFDQWxoQixPQUFBNE4sZUFBQSxHQUFBNU4sT0FBQXliLFFBQUFpRCxnQkFBQSxHQUFBMWUsT0FBQXliLFFBQUFpRCxnQkFBQSxHQUFBMWUsT0FBQXliLFFBQUFpRCxnQkFBQSxHQUFBLEVBQ0ExZSxPQUFBd2UsY0FDQXhlLE9BQUFxTixhQUFBaUcsS0FBQSxVQUNBdFQsT0FBQTROLGVBQUEsQ0FFQTVOLE9BQUFtYixrQkFDQSxLQUFBLEdBQUFvSCxJQUFBdmlCLE9BQUFrTSxlQUFBeEcsT0FBQSxFQUFBNmMsSUFBQSxFQUFBQSxLQUNBLEdBQUF2aUIsT0FBQWtNLGVBQUFxVyxJQUFBbE0sVUFDQXJXLE9BQUFtYixnQkFBQXhZLEtBQUEzQyxPQUFBa00sZUFBQXFXLEtBQ0F2aUIsT0FBQWtNLGVBQUEvQixPQUFBb1ksR0FBQSxHQUdBLElBQUFuSixJQUFBQyxrQkFDQXJaLFFBQUFvYixZQUNBcGIsT0FBQXNiLFVBSUEsR0FBQSxZQUFBdlEsV0FBQW1XLGtCQUFBLEdBQUE3ZixPQUFBLENBRUFyQixPQUFBMmhCLG9CQUFBL2pCLFFBQUErWixLQUFBNU0sV0FBQW1XLGtCQUFBLElBQ0FsaEIsT0FBQXNOLFlBQUEsVUFDQXROLE9BQUF5YixRQUFBc0UsU0FBQSxJQUFBL2YsT0FBQXliLFFBQUFzRSxTQUFBLEtBQUEvZixPQUFBeWIsUUFBQXNFLFFBRUEsSUFBQXlDLFdBQUFuSixrQkFDQXJaLFFBQUFtZCxZQUFBdUMsV0FBQThDLFVBQUEsR0FDQXhpQixPQUFBbWQsWUFBQTdELFVBQUFrSixVQUFBLEdBQ0F4aUIsT0FBQW1kLFlBQUFwRSxVQUFBaFQsU0FBQUUsSUFBQSxPQUNBakcsT0FBQXFlLFVBQUF0WSxTQUFBRSxJQUFBLG9CQUNBakcsT0FBQXlpQixTQUFBemlCLE9BQUE2ZSxtQkFHQTdlLFFBQUFzTixZQUFBLE9BQ0F0TixPQUFBeWIsUUFBQXNFLFNBQUEsSUFBQS9mLE9BQUF5YixRQUFBc0UsU0FBQSxLQUFBL2YsT0FBQXliLFFBQUFzRSxTQUVBL2YsT0FBQXFlLFVBQUFyZSxPQUFBNEwsVUFBQU8sT0FBQSxTQUFBM0csR0FBQSxNQUFBQSxHQUFBOFksVUFBQXRlLE9BQUF5YixRQUFBNkMsV0FBQSxHQUFBQyxXQUVBdmUsT0FBQW1kLFlBQUF1QyxXQUFBbFAsaUJBQUF4USxPQUFBbWQsWUFBQXVDLFlBRUExZixPQUFBeWlCLFNBQUEsT0FBQXppQixPQUFBbWQsWUFBQXBFLFdBQUEzWCxTQUFBcEIsT0FBQW1kLFlBQUFwRSxVQUFBN04sV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBbWQsWUFBQXBFLFlBQUEsTUFDQXZOLFdBQUFrWCx1QkFBQUMsbUJBQUEzaUIsT0FBQW1kLFlBQUF1RCx1QkFBQWpSLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBLElBQUEsR0FBQXNaLEdBQUEsRUFBQUEsRUFBQXRaLFNBQUE1RCxPQUFBa2QsSUFBQSxDQUNBLEdBQUFDLGNBQUF2WixTQUFBc1osR0FDQUUsUUFBQTdYLFFBQUFrQixPQUFBLFNBQUE0VyxJQUFBLE1BQUFBLElBQUF6TSxvQkFBQWhOLFNBQUFzWixHQUFBdE0scUJBQUEsRUFDQXVNLGNBQUFqRyxVQUFBa0csUUFBQWpHLFFBQ0FnRyxhQUFBL0YsT0FBQTljLE9BQUE4TCxjQUFBSyxPQUFBLFNBQUE0USxJQUFBLE1BQUFBLElBQUFDLFVBQUE4RixRQUFBN0YsWUFBQSxHQUFBQyxtQkFDQTJGLGFBQUFsRyxRQUFBbUcsUUFBQW5OLEtBQ0EzVixPQUFBOE0sY0FBQW5LLEtBQUFrZ0IsY0FHQSxJQUFBLEdBQUExYSxHQUFBLEVBQUFBLEVBQUFuSSxPQUFBNE0sZUFBQWxILE9BQUF5QyxJQUFBLENBRUEsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFrQixTQUFBNUQsT0FBQTBDLElBQ0FrQixTQUFBbEIsR0FBQWtPLG9CQUFBdFcsT0FBQTRNLGVBQUF6RSxHQUFBbU8sb0JBQ0F0VyxPQUFBNE0sZUFBQXpFLEdBQUFJLFVBQUEsRUFDQUgsRUFBQWtCLFNBQUE1RCxRQUdBMUYsT0FBQTRNLGVBQUF6RSxHQUFBSSxVQUFBLENBR0EsS0FBQWUsU0FBQTVELFNBQ0ExRixPQUFBNE0sZUFBQXpFLEdBQUFJLFVBQUEsS0FHQSxTQUFBdkgsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDRDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDRDQUFBTyxjQUFBNEksYUFHQTlELFlBQUEwRCxlQUFBQyxhQUFBLE1BRUEsQ0FFQXpKLE9BQUFzTixZQUFBLFNBQ0F0TixPQUFBcU4sYUFBQWlHLEtBQUEsU0FFQSxJQUFBMFAsY0FBQTNKLGtCQUNBclosUUFBQW1kLFlBQUF1QyxXQUFBc0QsYUFBQSxHQUNBaGpCLE9BQUFtZCxZQUFBN0QsVUFBQSxNQUNBdFosT0FBQW1kLFlBQUFwRSxVQUFBaFQsU0FBQUUsSUFBQSxPQUNBakcsT0FBQXFlLFVBQUF0WSxTQUFBRSxJQUFBLG9CQUNBakcsT0FBQXlpQixTQUFBemlCLE9BQUE2ZSxlQUNBL1ksV0FBQTBELGVBQUFDLGFBQUEsRUFJQXpKLE9BQUFpakIsUUFBQWpqQixPQUFBbWQsWUFBQVksaUJBQUEvZCxPQUFBbWQsWUFBQVcsYUFBQTlkLE9BQUFtZCxZQUFBVSxjQUVBN2QsT0FBQWtqQixhQUFBLFdBQ0FsakIsT0FBQXdHLEtBQUFrSCxPQUFBLE9BQ0ExTixPQUFBc2QsY0FBQTFmLFFBQUErWixLQUFBM1gsT0FBQXliLFNBQUE3ZCxRQUFBK1osS0FBQTNYLE9BQUFtZCxjQUNBbmQsT0FBQXFkLFlBQUF6ZixRQUFBK1osS0FBQTNYLE9BQUE4TSxnQkFFQTlNLE9BQUFtakIsY0FBQSxXQUNBbmpCLE9BQUF3RyxLQUFBa0gsT0FBQSxTQUNBMU4sT0FBQXNkLGdCQUNBdGQsT0FBQXFkLGNBRUEsS0FBQSxHQUFBbFYsR0FBQSxFQUFBQSxFQUFBbkksT0FBQTRNLGVBQUFsSCxPQUFBeUMsSUFBQSxDQUVBLElBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBcEksT0FBQThNLGNBQUFwSCxPQUFBMEMsSUFDQXBJLE9BQUE4TSxjQUFBMUUsR0FBQWtPLG9CQUFBdFcsT0FBQTRNLGVBQUF6RSxHQUFBbU8sb0JBQ0F0VyxPQUFBNE0sZUFBQXpFLEdBQUFJLFVBQUEsRUFDQUgsRUFBQXBJLE9BQUE4TSxjQUFBcEgsUUFHQTFGLE9BQUE0TSxlQUFBekUsR0FBQUksVUFBQSxDQUdBLEtBQUF2SSxPQUFBOE0sY0FBQXBILFNBQ0ExRixPQUFBNE0sZUFBQXpFLEdBQUFJLFVBQUEsUUFPQWdDLGlCQUFBeEssV0FBQSw0QkFBQSxTQUFBLGFBQUEsV0FBQSxXQUFBLFFBQUEsb0JBQUEsWUFBQSxhQUFBLGFBQUEsVUFBQSxlQUFBLGdCQUFBLGFBQUEsaUJBQUEsa0JBQUEsYUFBQSxvQkFBQSxhQUNBLFNBQUFDLE9BQUE4RixXQUFBM0IsU0FBQTRCLFNBQUE3RixNQUFBc0Isa0JBQUFwQixVQUFBMkssV0FBQUMsV0FBQUMsUUFBQW1ZLGFBQUFDLGNBQUFuWSxXQUFBb1ksZUFBQUMsZ0JBQUFwWSxXQUFBQyxrQkFBQUksWUFDQXhMLE9BQUF5YixRQUFBMVEsV0FDQS9LLE9BQUFxZSxVQUFBK0UsYUFBQWpYLE9BQUEsU0FBQXlXLEdBQUEsTUFBQUEsR0FBQXRFLFVBQUF0ZSxPQUFBeWIsUUFBQTZDLFdBQUEsR0FBQUMsV0FDQXZlLE9BQUF3akIsY0FBQTVsQixRQUFBK1osS0FBQTVNLFdBQUFtVyxrQkFBQSxHQUNBLElBQUE3TSxRQUFBLGtCQUFBM0UsT0FBQXJCLFVBQUFpRyxTQUFBQyxLQUFBdlUsT0FBQXdqQixjQUFBOUQsV0FDQSxJQUFBckwsVUFBQSxFQUFBLENBQ0EsR0FBQWpNLEdBQUFwSSxPQUFBd2pCLGNBQUE5RCxXQUFBbEwsT0FBQSxFQUFBLEdBQ0FDLEVBQUF6VSxPQUFBd2pCLGNBQUE5RCxXQUFBbEwsT0FBQSxFQUFBLEdBQUEsRUFDQWxWLEVBQUFVLE9BQUF3akIsY0FBQTlELFdBQUFsTCxPQUFBLEVBQUEsR0FDQUcsRUFBQTNVLE9BQUF3akIsY0FBQTlELFdBQUFsTCxPQUFBLEdBQUEsR0FDQUksR0FBQTVVLE9BQUF3akIsY0FBQTlELFdBQUFsTCxPQUFBLEdBQUEsR0FDQUssSUFBQTdVLE9BQUF3akIsY0FBQTlELFdBQUFsTCxPQUFBLEdBQUEsRUFDQXhVLFFBQUF3akIsY0FBQTlELFdBQUEsR0FBQXRQLE1BQUFoSSxFQUFBcU0sRUFBQW5WLEVBQUFxVixFQUFBQyxHQUFBQyxLQUVBelQsU0FBQXBCLE9BQUF3akIsY0FBQXZHLFdBQUFqZCxPQUFBd2pCLGNBQUF2RyxVQUFBLElBQ0FqZCxPQUFBd2pCLGNBQUFDLE9BQUFKLGNBQUFsWCxPQUFBLFNBQUF1WCxHQUFBLE1BQUFBLEdBQUExRyxVQUFBaGQsT0FBQXdqQixjQUFBdkcsWUFBQSxHQUFBQyxvQkFFQWxkLE9BQUE0TSxlQUFBM0IsUUFDQWpMLE9BQUEyTSxXQUFBMUIsUUFBQXZGLE9BQUEsR0FBQSxHQUFBLEVBQ0ExRixPQUFBOEwsY0FBQXVYLGNBQ0FyakIsT0FBQTZNLGdCQUNBN00sT0FBQThNLGlCQUNBOU0sT0FBQTJqQixvQkFFQTNqQixPQUFBeWlCLFNBQUF2WCxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQS9ZLE9BQUF3akIsY0FBQXpLLFlBQUEsR0FDQS9ZLE9BQUFzTixZQUFBLFdBQ0F0TixPQUFBNGpCLGVBQUFOLGVBQUFuWCxPQUFBLFNBQUFoTCxHQUFBLE1BQUEsYUFBQUEsRUFBQUUsUUFBQSxRQUFBRixFQUFBRSxTQUNBckIsT0FBQTZqQixnQkFBQU4sZ0JBQ0F2akIsT0FBQWlOLGNBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUNBak4sT0FBQWtOLFNBQUFuSCxTQUFBRSxJQUFBLFlBRUEsSUFBQW9ULGtCQUFBLFNBQUEyRSxPQUNBLEdBQ0ExZSxHQURBMmUsV0FHQTNlLEdBQUE4QixTQUFBNGMsTUFBQSxHQUFBNU4sTUFBQTROLE9BQ0EsR0FBQTVOLEtBRUEsSUFBQTJELFFBQUF6VSxFQUFBZ1YsV0FBQThELFVBQUEsSUFDQThGLEtBQUEsRUFDQSxRQUFBbkssT0FBQVMsT0FBQSxFQUFBO0FBQ0EsSUFBQSxNQUNBMEosS0FBQSxLQUNBLE1BQ0EsS0FBQSxNQUNBQSxLQUFBLEtBQ0EsTUFDQSxLQUFBLE1BQ0FBLEtBQUEsS0FDQSxNQUNBLEtBQUEsTUFDQUEsS0FBQSxNQUlBLE1BREFELFdBQUEzZSxFQUFBNGUsTUFLQWxlLFFBQUFzYyxTQUFBLFNBQUFDLFVBQ0EsR0FBQUMsS0FBQXhjLE9BQUE0TSxlQUFBNEIsSUFBQSxTQUFBaU8sR0FBQSxNQUFBQSxHQUFBbkcscUJBQUFwTSxRQUFBcVMsU0FBQWpHLG1CQUNBLElBQUFpRyxTQUFBaFUsU0FFQXZJLE9BQUEwYyxhQUNBMWMsT0FBQTBjLFVBQUFDLFFBQUFKLFNBQUE1RyxLQUNBM1YsT0FBQTBjLFVBQUFFLFVBQUFMLFNBQUFNLFFBQ0E3YyxPQUFBMGMsVUFBQUksT0FBQTljLE9BQUE4TCxjQUFBSyxPQUFBLFNBQUE0USxJQUFBLE1BQUFBLElBQUFDLFVBQUFULFNBQUFVLFlBQUEsR0FBQUMsbUJBQ0FsZCxPQUFBMGMsVUFBQXBHLG1CQUFBaUcsU0FBQWpHLG1CQUVBdFcsT0FBQThNLGNBQUFuSyxLQUFBM0MsT0FBQTBjLFdBQ0ExYyxPQUFBOGpCLFdBQUE3RyxVQUFBVixTQUFBVSxjQUNBLENBR0EsR0FBQU0sY0FBQW5kLFVBQUFtQixNQUNBbVosU0FBQSxTQUNBQyxVQUFBLEVBQ0E3YSxTQUFBLHlXQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLE1BQUEsV0FFQTFCLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQUUsTUFBQSxhQUdBQyxLQUFBLE1BRUE0YixjQUFBM2IsT0FBQUMsS0FBQSxTQUFBMmIsU0FDQSxHQUFBLFVBQUFBLFFBQUEsQ0FFQSxHQUFBRSxrQkFBQTFkLE9BQUE4TSxjQUFBWCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFwQyxvQkFBQWlHLFNBQUFqRyxxQkFBQSxHQUNBcUgsS0FBQTNkLE9BQUE4TSxjQUFBMEIsSUFBQSxTQUFBaU8sR0FBQSxNQUFBQSxHQUFBbkcscUJBQUFwTSxRQUFBd1QsaUJBQUFwSCxtQkFDQWxWLFVBQUFzYyxpQkFBQUUsb0JBQUE1ZCxPQUFBNk0sYUFBQWxLLEtBQUErYSxpQkFBQUUsb0JBQ0E1ZCxPQUFBOE0sY0FBQTNDLE9BQUF3VCxLQUFBLEdBQ0EsSUFBQTNkLE9BQUE4TSxjQUFBcEgsU0FDQTFGLE9BQUE4akIsV0FBQTdHLFVBQUEsRUFBQWpkLE9BQUE4akIsV0FBQWpHLGFBQUEsR0FBQTdkLE9BQUE4akIsV0FBQWhHLGFBQUEsR0FBQTlkLE9BQUE4akIsV0FBQS9GLGlCQUFBLFFBSUEvZCxRQUFBNE0sZUFBQTRQLEtBQUFqVSxVQUFBLE1BTUFpRCxXQUFBa1gsdUJBQUFDLG1CQUFBM2lCLE9BQUF3akIsY0FBQTlDLHVCQUFBalIsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0EsSUFBQSxHQUFBc1osR0FBQSxFQUFBQSxFQUFBdFosU0FBQTVELE9BQUFrZCxJQUFBLENBQ0EsR0FBQUMsY0FBQXZaLFNBQUFzWixHQUNBRSxRQUFBN1gsUUFBQWtCLE9BQUEsU0FBQTRXLElBQUEsTUFBQUEsSUFBQXpNLG9CQUFBaE4sU0FBQXNaLEdBQUF0TSxxQkFBQSxFQUNBdU0sY0FBQWpHLFVBQUFrRyxRQUFBakcsUUFDQWdHLGFBQUEvRixPQUFBOWMsT0FBQThMLGNBQUFLLE9BQUEsU0FBQTRRLElBQUEsTUFBQUEsSUFBQUMsVUFBQThGLFFBQUE3RixZQUFBLEdBQUFDLG1CQUNBMkYsYUFBQWxHLFFBQUFtRyxRQUFBbk4sS0FDQTNWLE9BQUEyakIsaUJBQUFoaEIsS0FBQWtnQixnQkFFQSxTQUFBN2hCLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSw0Q0FBQU8sY0FBQTRJLGFBTUEsSUFBQW1hLFNBQUExSyxrQkFDQXJaLFFBQUE4akIsWUFBQXBFLFdBQUFxRSxRQUFBLEdBQUF6SyxVQUFBeUssUUFBQSxHQUFBMVgsY0FBQXJNLE9BQUF5YixRQUFBcFAsY0FBQTBNLFVBQUFoVCxTQUFBRSxJQUFBLFFBQ0FqRyxPQUFBZ2tCLFVBQUE5WSxXQUFBaUIsT0FBQSxTQUFBOFgsSUFBQSxNQUFBQSxJQUFBbEwsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxFQUdBLElBQUFzWix5QkFBQSxXQUVBLEdBQUEsT0FBQXZmLE9BQUE4akIsV0FBQXhLLFVBQUEsQ0FFQSxHQUFBNEssYUFBQSxHQUFBOVQsTUFBQXBRLE9BQUE4akIsV0FBQXBFLFlBQUE3RixhQUNBN1osUUFBQThqQixXQUFBcEUsV0FBQXdFLFlBQ0Fsa0IsT0FBQThqQixXQUFBeEssVUFBQSxVQUNBLENBRUEsR0FBQW5SLEdBQUFuSSxPQUFBOGpCLFdBQUFwRSxXQUFBcEwsV0FBQXBLLFFBQUEsT0FBQSxDQUNBbEssUUFBQThqQixXQUFBcEUsV0FBQTFmLE9BQUE4akIsV0FBQXBFLFdBQUFwTCxXQUFBOEQsVUFBQSxFQUFBalEsSUFLQW5JLFFBQUFnUyxPQUFBLFdBQ0FsTSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBakksa0JBQUF1TyxRQUFBLFVBRUEsSUFBQW9VLG9CQUFBLFdBRUEsR0FBQUMsWUFFQWpjLEVBQUFuSSxPQUFBd2pCLGNBQUE5RCxXQUFBcEwsV0FBQXBLLFFBQUEsT0FBQSxDQUVBLE9BREFrYSxZQUFBcGtCLE9BQUF3akIsY0FBQTlELFdBQUFwTCxXQUFBOEQsVUFBQSxFQUFBalEsR0FLQW5JLFFBQUFnUyxPQUFBLFdBQ0FsTSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBakksa0JBQUF1TyxRQUFBLFdBSUEvUCxPQUFBcWtCLFVBQUEsU0FBQTVLLE9BQ0EsR0FBQUEsTUFBQSxDQUNBOEYseUJBQ0EsSUFBQStFLFVBQUFILHFCQUNBSSxTQUFBM21CLFFBQUErWixLQUFBM1gsT0FBQThqQixXQUFBcEUsV0FBQXRoQixRQUFBLE1BQUEsSUFDQSxJQUFBLEdBQUFnUyxNQUFBbVUsVUFBQSxHQUFBblUsTUFBQWtVLFVBQUEsQ0FDQSxHQUFBNUssU0FBQXRaLFVBQUFtQixNQUNBekIsU0FBQSx3UUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUErWCxTQUFBOVgsT0FBQUMsS0FBQSxXQUVBN0IsT0FBQThqQixXQUFBcEUsV0FBQSxHQUNBMWYsT0FBQThqQixXQUFBcEUsV0FBQXJHLG1CQUFBLEdBQ0FyWixPQUFBOGpCLFdBQUF4SyxVQUFBRCxtQkFBQSxHQUNBemIsUUFBQVksUUFBQSxrQkFBQWdtQixRQUFBLGVBRUEsQ0FDQXRrQixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBa2Ysa0JBQUE0RSxnQkFDQXRaLFlBQUFtUCxRQUFBdlksR0FBQS9CLE9BQUF5YixRQUFBcFAsZUFBQXJNLE9BQUF5YixTQUFBaE0sU0FBQTVOLEtBQUEsU0FBQXlILFVBRUF1VyxjQUFBdlcsU0FDQXVXLGNBQUFHLGVBQUFoZ0IsT0FBQXliLFFBQUF1RSxlQUNBSCxjQUFBSyxZQUFBbGdCLE9BQUF5YixRQUFBeUUsWUFDQUwsY0FBQVEsWUFBQXJnQixPQUFBeWIsUUFBQTRFLFlBQ0FSLGNBQUFXLFdBQUF4Z0IsT0FBQXliLFFBQUErRSxXQUNBWCxjQUFBNkUsZUFBQTFrQixPQUFBNmpCLGdCQUFBMVgsT0FBQSxTQUFBaEUsR0FBQSxNQUFBQSxHQUFBcEcsS0FBQS9CLE9BQUF5YixRQUFBa0oscUJBQUEsR0FBQUMsVUFFQXhaLGtCQUFBOE8sS0FBQWxhLE9BQUE4akIsWUFBQXJVLFNBQUE1TixLQUFBLFNBQUE4ZSxjQUVBLEdBQUEzZ0IsT0FBQThNLGNBQUFwSCxPQUFBLEVBQ0EsSUFBQSxHQUFBK2EsR0FBQSxFQUFBQSxFQUFBemdCLE9BQUE4TSxjQUFBcEgsT0FBQSthLElBQUEsQ0FDQSxHQUFBaUIsVUFBQTFoQixPQUFBOE0sY0FBQTJULEVBQ0FpQixVQUFBaEIscUJBQUFDLGFBQUFELHFCQUVBbFYsV0FBQTBPLEtBQUF3SCxVQUFBalMsU0FJQWdWLGNBQUE5RCxhQUNBOEQsY0FBQXBqQixPQUFBLEdBQUFzZixhQUFBdkQsZUFBQSxZQUFBLE9BQ0F5QyxjQUFBcUIsbUJBQUF1RCxjQUFBMVosV0FBQW1XLGtCQUFBLElBRUEvYyxTQUFBLFdBRUF1RixPQUFBK00sUUFBQSxtQkFDQSxJQUFBcE8sT0FBQSxZQUNBMFcsVUFBQWMsY0FBQXhYLE1BQ0E3RyxtQkFBQUUsTUFBQXFkLGFBRUEsU0FBQS9kLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGlCQUtBOUQsV0FBQTBELGVBQUFDLGFBQUEsS0FJQWMsaUJBQUF4SyxXQUFBLHVCQUFBLFNBQUEsYUFBQSxVQUFBLFdBQUEsV0FBQSxRQUFBLG9CQUFBLFlBQUEsYUFBQSxhQUFBLGtCQUNBLGFBQUEsYUFBQSxpQkFBQSxrQkFBQSxZQUFBLGNBQUEsYUFBQSxhQUFBLFVBQUEsYUFBQSxvQkFDQSxhQUFBLG9CQUFBLFlBQUEsT0FBQSxTQUFBLGFBQUEsY0FDQSxTQUFBQyxPQUFBOEYsV0FBQStlLFFBQUExZ0IsU0FBQTRCLFNBQUE3RixNQUFBc0Isa0JBQUFwQixVQUFBcUssV0FBQUMsV0FBQW9hLGdCQUFBbGEsV0FBQUMsV0FBQXlZLGVBQUFDLGdCQUFBd0IsVUFDQWphLFlBQUFDLFdBQUFDLFdBQUFDLFFBQUFDLFdBQUE4WixrQkFBQTdaLFdBQUFDLGtCQUFBQyxVQUFBQyxLQUFBQyxPQUFBQyxXQUFBeVosYUF1c0NBLFFBQUFDLGNBQUFDLEtBQUFDLE1BRUEsR0FBQUMsU0FBQUMsS0FBQUMsR0FBQUosS0FBQSxJQUNBSyxRQUFBRixLQUFBQyxHQUFBdmxCLE9BQUFrUCxlQUFBNEcsWUFBQSxJQUNBMlAsTUFBQUwsS0FBQXBsQixPQUFBa1AsZUFBQTZHLGFBQ0EyUCxTQUFBSixLQUFBQyxHQUFBRSxNQUFBLElBQ0FFLEtBQUFMLEtBQUFNLElBQUFQLFNBQUFDLEtBQUFNLElBQUFKLFNBQUFGLEtBQUFPLElBQUFSLFNBQUFDLEtBQUFPLElBQUFMLFNBQUFGLEtBQUFPLElBQUFILFNBSUEsT0FIQUMsTUFBQUwsS0FBQVEsS0FBQUgsTUFDQUEsS0FBQSxJQUFBQSxLQUFBTCxLQUFBQyxHQUNBSSxLQUFBLEdBQUFBLEtBQUEsT0E5c0NBM2xCLE9BQUF1TixVQUFBOUMsV0FDQXpLLE9BQUErbEIsd0JBQUEsRUFDQS9sQixPQUFBZ21CLGdCQUFBLEVBQ0FobUIsT0FBQWltQixjQUFBLEVBQ0FqbUIsT0FBQXlMLGVBQUFxWixnQkFBQSxHQUNBOWtCLE9BQUEwTCxnQkFBQW9aLGdCQUFBLEdBQ0E5a0IsT0FBQTJMLGNBQUFtWixnQkFBQSxHQUNBOWtCLE9BQUE2TCxhQUFBaVosZ0JBQUEsR0FDQTlrQixPQUFBOEwsY0FBQWdaLGdCQUFBLEdBQ0E5a0IsT0FBQWdNLFVBQUFuQixXQUFBb0Isa0JBQ0FqTSxPQUFBa21CLFlBQUEsVUFBQW5iLFdBQUEvSyxPQUFBZ00sVUFBQUcsT0FBQSxTQUFBQyxJQUFBLE1BQUFBLElBQUFDLGVBQUF0QixXQUFBc0IsbUJBQ0FyTSxPQUFBbW1CLGVBQUFubUIsT0FBQWttQixZQUFBL1osT0FBQSxTQUFBSSxJQUFBLE1BQUEsS0FBQUEsR0FBQUMsY0FDQXhNLE9BQUF5TSxjQUFBLEVBQ0F6TSxPQUFBME0sa0JBQUEsRUFDQTFNLE9BQUE0TixnQkFBQSxFQUNBNU4sT0FBQTZqQixnQkFBQU4sZ0JBQ0F2akIsT0FBQTJNLFdBQUExQixRQUFBdkYsT0FBQSxHQUFBLEdBQUEsRUFDQTFGLE9BQUFvbUIsa0JBQUF4b0IsUUFBQStaLEtBQUExTSxTQUNBakwsT0FBQXFtQixrQkFBQXpvQixRQUFBK1osS0FBQTFNLFNBQ0FqTCxPQUFBK00sWUFBQWpDLFlBQ0E5SyxPQUFBZ04sMkJBQ0FoTixPQUFBaU4sY0FBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FqTixPQUFBNGpCLGVBQUFOLGVBQUFuWCxPQUFBLFNBQUFoTCxHQUFBLE1BQUEsYUFBQUEsRUFBQUUsUUFBQSxRQUFBRixFQUFBRSxTQUNBckIsT0FBQXNtQixrQkFFQXRtQixPQUFBdW1CLE9BQUFoZSxVQUFBLEdBRUF2SSxPQUFBcU4sY0FBQWlHLEtBQUEsV0FFQXRULE9BQUF3RyxNQUFBa0gsT0FBQSxTQUFBQyxPQUFBLFNBRUEsSUFBQTBMLGtCQUFBLFNBQUEyRSxPQUNBLEdBQ0ExZSxHQURBMmUsV0FHQTNlLEdBQUE4QixTQUFBNGMsTUFBQSxHQUFBNU4sTUFBQTROLE9BQ0EsR0FBQTVOLEtBRUEsSUFBQTJELFFBQUF6VSxFQUFBZ1YsV0FBQThELFVBQUEsSUFDQThGLEtBQUEsRUFDQSxRQUFBbkssT0FBQVMsT0FBQSxFQUFBLElBQ0EsSUFBQSxNQUNBMEosS0FBQSxLQUNBLE1BQ0EsS0FBQSxNQUNBQSxLQUFBLEtBQ0EsTUFDQSxLQUFBLE1BQ0FBLEtBQUEsS0FDQSxNQUNBLEtBQUEsTUFDQUEsS0FBQSxNQUlBLE1BREFELFdBQUEzZSxFQUFBNGUsT0FLQTFOLGlCQUFBLFNBQUFsUixHQUNBLEdBQUFxVCxTQUNBMEIsT0FBQSxrQkFBQTNFLE9BQUFyQixVQUFBaUcsU0FBQUMsS0FBQWpWLEVBQ0EsSUFBQStVLFVBQUEsRUFBQSxDQUNBLEdBQUFqTSxHQUFBOUksRUFBQWtWLE9BQUEsRUFBQSxHQUNBQyxFQUFBblYsRUFBQWtWLE9BQUEsRUFBQSxHQUFBLEVBQ0FFLEdBQUFwVixFQUFBa1YsT0FBQSxFQUFBLEdBQ0FHLEVBQUFyVixFQUFBa1YsT0FBQSxHQUFBLEdBQ0FJLEdBQUF0VixFQUFBa1YsT0FBQSxHQUFBLEdBQ0FLLElBQUF2VixFQUFBa1YsT0FBQSxHQUFBLEVBQ0E3QixTQUFBLEdBQUF2QyxNQUFBaEksRUFBQXFNLEVBQUFDLEdBQUFDLEVBQUFDLEdBQUFDLFNBR0FsQyxTQUFBclQsQ0FFQSxPQUFBcVQsU0FHQTNTLFFBQUFrUCxlQUFBbEUsV0FBQWhMLE9BQUFrTixTQUFBbkgsU0FBQUUsSUFBQSxhQUVBakcsT0FBQXdJLE9BQUE1SyxRQUFBK1osS0FBQTVNLFlBQ0EvSyxPQUFBNE4sZUFBQSxHQUFBNU4sT0FBQXdJLE9BQUFrVyxnQkFBQSxHQUFBMWUsT0FBQXdJLE9BQUFrVyxnQkFBQSxHQUFBMWUsT0FBQXdJLE9BQUFrVyxnQkFBQSxHQUFBLEVBR0ExZSxPQUFBd21CLG1CQUFBNW9CLFFBQUErWixLQUFBNU0sV0FBQW1XLGtCQUFBL1UsT0FBQSxTQUFBc2EsTUFBQSxNQUFBLGFBQUFBLEtBQUFwbEIsU0FBQSxJQUNBckIsT0FBQXdtQixtQkFBQTlHLFdBQUFsUCxpQkFBQXhRLE9BQUF3bUIsbUJBQUE5RyxZQUNBMWYsT0FBQXlpQixTQUFBdlgsV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFlBQUEvWSxPQUFBd21CLG1CQUFBek4sWUFBQSxHQUNBL1ksT0FBQTBtQixtQkFDQTFtQixPQUFBMmpCLG9CQUVBM2pCLE9BQUEybUIsWUFBQSxTQUFBQyxhQUNBLEdBQUFwSyxLQUFBeGMsT0FBQW9tQixrQkFBQTVYLElBQUEsU0FBQWlPLEdBQUEsTUFBQUEsR0FBQW5HLHFCQUFBcE0sUUFBQTBjLFlBQUF0USxtQkFDQSxJQUFBc1EsWUFBQXJlLFNBRUF2SSxPQUFBNm1CLGdCQUNBN21CLE9BQUE2bUIsYUFBQWxLLFFBQUFpSyxZQUFBalIsS0FDQTNWLE9BQUE2bUIsYUFBQWpLLFVBQUFnSyxZQUFBL0osUUFDQTdjLE9BQUE2bUIsYUFBQS9KLE9BQUE5YyxPQUFBOEwsY0FBQUssT0FBQSxTQUFBNFEsSUFBQSxNQUFBQSxJQUFBQyxVQUFBNEosWUFBQTNKLFlBQUEsR0FBQUMsbUJBQ0FsZCxPQUFBNm1CLGFBQUF2USxtQkFBQXNRLFlBQUF0USxtQkFFQXRXLE9BQUFxZCxZQUFBMWEsS0FBQTNDLE9BQUE2bUIsY0FDQTdtQixPQUFBc2QsYUFBQSxHQUFBTCxVQUFBMkosWUFBQTNKLGNBQ0EsQ0FHQSxHQUFBNkosaUJBQUExbUIsVUFBQW1CLE1BQ0FtWixTQUFBLFNBQ0FDLFVBQUEsRUFDQTdhLFNBQUEsd1dBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBK21CLE1BQUEsV0FDQXZsQixrQkFBQUUsTUFBQSxXQUVBMUIsT0FBQWduQixVQUFBLFdBQ0F4bEIsa0JBQUFFLE1BQUEsYUFHQUMsS0FBQSxNQUVBbWxCLGlCQUFBbGxCLE9BQUFDLEtBQUEsU0FBQTJiLFNBQ0EsR0FBQSxVQUFBQSxRQUFBLENBRUEsR0FBQXlKLHFCQUFBam5CLE9BQUFxZCxZQUFBbFIsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBcEMsb0JBQUFzUSxZQUFBdFEscUJBQUEsR0FDQTRRLFFBQUFsbkIsT0FBQXFkLFlBQUE3TyxJQUFBLFNBQUFpTyxHQUFBLE1BQUFBLEdBQUFuRyxxQkFBQXBNLFFBQUErYyxvQkFBQTNRLG1CQUNBbFYsVUFBQTZsQixvQkFBQXJKLG9CQUFBNWQsT0FBQTBtQixnQkFBQS9qQixLQUFBc2tCLG9CQUFBckosb0JBQ0E1ZCxPQUFBcWQsWUFBQWxULE9BQUErYyxRQUFBLEdBQ0EsSUFBQWxuQixPQUFBcWQsWUFBQTNYLFNBQ0ExRixPQUFBc2QsYUFBQSxHQUFBTCxVQUFBLEVBQUFqZCxPQUFBc2QsYUFBQSxHQUFBTyxhQUFBLEdBQUE3ZCxPQUFBc2QsYUFBQSxHQUFBUSxhQUFBLEdBQUE5ZCxPQUFBc2QsYUFBQSxHQUFBUyxpQkFBQSxRQUlBL2QsUUFBQW9tQixrQkFBQTVKLEtBQUFqVSxVQUFBLE1BTUF2SSxPQUFBMk0sWUFDQW5CLFdBQUFrWCx1QkFBQUMsbUJBQUEzaUIsT0FBQXdtQixtQkFBQTlGLHVCQUFBalIsU0FBQTVOLEtBQUEsU0FBQXNsQixhQUNBLElBQUEsR0FBQXZFLEdBQUEsRUFBQUEsRUFBQXVFLFlBQUF6aEIsT0FBQWtkLElBQUEsQ0FDQSxHQUFBd0UsaUJBQUFELFlBQUF2RSxHQUNBRSxRQUFBN1gsUUFBQWtCLE9BQUEsU0FBQTRXLElBQUEsTUFBQUEsSUFBQXpNLG9CQUFBNlEsWUFBQXZFLEdBQUF0TSxxQkFBQSxFQUNBOFEsaUJBQUF4SyxVQUFBa0csUUFBQWpHLFFBQ0F1SyxnQkFBQXRLLE9BQUE5YyxPQUFBOEwsY0FBQUssT0FBQSxTQUFBNFEsSUFBQSxNQUFBQSxJQUFBQyxVQUFBOEYsUUFBQTdGLFlBQUEsR0FBQUMsbUJBQ0FrSyxnQkFBQXpLLFFBQUEzYyxPQUFBb21CLGtCQUFBamEsT0FBQSxTQUFBNFcsSUFBQSxNQUFBQSxJQUFBek0sb0JBQUE2USxZQUFBdkUsR0FBQXRNLHFCQUFBLEdBQUFYLEtBQ0EzVixPQUFBMmpCLGlCQUFBaGhCLEtBQUF5a0IsaUJBR0EsSUFBQSxHQUFBamYsR0FBQSxFQUFBQSxFQUFBbkksT0FBQW9tQixrQkFBQTFnQixPQUFBeUMsSUFBQSxDQUVBLElBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBK2UsWUFBQXpoQixPQUFBMEMsSUFDQStlLFlBQUEvZSxHQUFBa08sb0JBQUF0VyxPQUFBb21CLGtCQUFBamUsR0FBQW1PLG9CQUNBdFcsT0FBQW9tQixrQkFBQWplLEdBQUFJLFVBQUEsRUFDQUgsRUFBQStlLFlBQUF6aEIsUUFHQTFGLE9BQUFvbUIsa0JBQUFqZSxHQUFBSSxVQUFBLENBR0EsS0FBQTRlLFlBQUF6aEIsU0FDQTFGLE9BQUFvbUIsa0JBQUFqZSxHQUFBSSxVQUFBLEtBR0EsU0FBQXZILGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSw0Q0FBQU8sY0FBQTRJLGNBSUE1SixPQUFBcW5CLG9CQUFBenBCLFFBQUErWixLQUFBNU0sV0FBQW1XLGtCQUFBL1UsT0FBQSxTQUFBc2EsTUFBQSxNQUFBLGNBQUFBLEtBQUFwbEIsU0FBQSxJQUVBRCxTQUFBcEIsT0FBQXFuQixxQkFDQXJuQixPQUFBcW5CLG9CQUFBenBCLFFBQUErWixLQUFBNU0sV0FBQW1XLGtCQUFBL1UsT0FBQSxTQUFBc2EsTUFBQSxNQUFBLFNBQUFBLEtBQUFwbEIsU0FBQSxJQUNBckIsT0FBQXNuQixpQkFBQSxRQUVBdG5CLE9BQUFzbkIsaUJBQUEsWUFFQWxtQixTQUFBcEIsT0FBQXFuQixvQkFBQXBLLFdBQUFqZCxPQUFBcW5CLG9CQUFBcEssVUFBQSxJQUNBamQsT0FBQXFuQixvQkFBQUUsV0FBQXZuQixPQUFBOEwsY0FBQUssT0FBQSxTQUFBNFEsSUFBQSxNQUFBQSxJQUFBQyxVQUFBaGQsT0FBQXFuQixvQkFBQXBLLFlBQUEsR0FBQUMsb0JBRUFsZCxPQUFBcW5CLG9CQUFBM0gsV0FBQWxQLGlCQUFBeFEsT0FBQXFuQixvQkFBQTNILFlBQ0ExZixPQUFBZ2tCLFVBQUE5WSxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsWUFBQS9ZLE9BQUFxbkIsb0JBQUF0TyxZQUFBLEdBQ0EvWSxPQUFBd25CLG1CQUNBeG5CLE9BQUF5bkIsb0JBRUF6bkIsT0FBQTBuQixZQUFBLFNBQUFDLGFBQ0EsR0FBQW5MLEtBQUF4YyxPQUFBcW1CLGtCQUFBN1gsSUFBQSxTQUFBaU8sR0FBQSxNQUFBQSxHQUFBbkcscUJBQUFwTSxRQUFBeWQsWUFBQXJSLG1CQUNBLElBQUFxUixZQUFBcGYsU0FFQXZJLE9BQUE0bkIsZ0JBQ0E1bkIsT0FBQTRuQixhQUFBakwsUUFBQWdMLFlBQUFoUyxLQUNBM1YsT0FBQTRuQixhQUFBaEwsVUFBQStLLFlBQUE5SyxRQUNBN2MsT0FBQTRuQixhQUFBOUssT0FBQTljLE9BQUE4TCxjQUFBSyxPQUFBLFNBQUE0USxJQUFBLE1BQUFBLElBQUFDLFVBQUEySyxZQUFBMUssWUFBQSxHQUFBQyxtQkFDQWxkLE9BQUE0bkIsYUFBQXRSLG1CQUFBcVIsWUFBQXJSLG1CQUNBdFcsT0FBQTZuQixZQUFBbGxCLEtBQUEzQyxPQUFBNG5CLGNBQ0E1bkIsT0FBQThuQixhQUFBLEdBQUE3SyxVQUFBMEssWUFBQTFLLGNBQ0EsQ0FHQSxHQUFBOEssaUJBQUEzbkIsVUFBQW1CLE1BQ0FtWixTQUFBLFNBQ0FDLFVBQUEsRUFDQTdhLFNBQUEseVdBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBZ29CLE1BQUEsV0FDQXhtQixrQkFBQUUsTUFBQSxXQUVBMUIsT0FBQWlvQixVQUFBLFdBQ0F6bUIsa0JBQUFFLE1BQUEsYUFHQUMsS0FBQSxNQUVBb21CLGlCQUFBbm1CLE9BQUFDLEtBQUEsU0FBQTJiLFNBQ0EsR0FBQSxVQUFBQSxRQUFBLENBRUEsR0FBQTBLLHFCQUFBbG9CLE9BQUE2bkIsWUFBQTFiLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQXBDLG9CQUFBcVIsWUFBQXJSLHFCQUFBLEdBQ0E2UixRQUFBbm9CLE9BQUE2bkIsWUFBQXJaLElBQUEsU0FBQWlPLEdBQUEsTUFBQUEsR0FBQW5HLHFCQUFBcE0sUUFBQWdlLG9CQUFBNVIsbUJBQ0F0VyxRQUFBd25CLGdCQUFBN2tCLEtBQUF1bEIsb0JBQUF0SyxvQkFDQTVkLE9BQUE2bkIsWUFBQTFkLE9BQUFnZSxRQUFBLEdBQ0EsSUFBQW5vQixPQUFBNm5CLFlBQUFuaUIsU0FDQTFGLE9BQUE4bkIsYUFBQSxHQUFBN0ssVUFBQSxFQUFBamQsT0FBQThuQixhQUFBLEdBQUFqSyxhQUFBLEdBQUE3ZCxPQUFBOG5CLGFBQUEsR0FBQWhLLGFBQUEsR0FBQTlkLE9BQUE4bkIsYUFBQSxHQUFBL0osaUJBQUEsUUFJQS9kLFFBQUFxbUIsa0JBQUE3SixLQUFBalUsVUFBQSxNQU9BdkksT0FBQTJNLFlBQ0FuQixXQUFBa1gsdUJBQUFDLG1CQUFBM2lCLE9BQUFxbkIsb0JBQUEzRyx1QkFBQWpSLFNBQUE1TixLQUFBLFNBQUF1bUIsYUFDQSxJQUFBLEdBQUF4RixHQUFBLEVBQUFBLEVBQUF3RixZQUFBMWlCLE9BQUFrZCxJQUFBLENBQ0EsR0FBQXlGLGlCQUFBRCxZQUFBeEYsR0FDQUUsUUFBQTdYLFFBQUFrQixPQUFBLFNBQUE0VyxJQUFBLE1BQUFBLElBQUF6TSxvQkFBQThSLFlBQUF4RixHQUFBdE0scUJBQUEsRUFDQStSLGlCQUFBekwsVUFBQWtHLFFBQUFqRyxRQUNBd0wsZ0JBQUF2TCxPQUFBOWMsT0FBQThMLGNBQUFLLE9BQUEsU0FBQTRRLElBQUEsTUFBQUEsSUFBQUMsVUFBQThGLFFBQUE3RixZQUFBLEdBQUFDLG1CQUNBbUwsZ0JBQUExTCxRQUFBM2MsT0FBQXFtQixrQkFBQWxhLE9BQUEsU0FBQTRXLElBQUEsTUFBQUEsSUFBQXpNLG9CQUFBOFIsWUFBQXhGLEdBQUF0TSxxQkFBQSxHQUFBWCxLQUNBM1YsT0FBQXluQixpQkFBQTlrQixLQUFBMGxCLGlCQUdBLElBQUEsR0FBQWxnQixHQUFBLEVBQUFBLEVBQUFuSSxPQUFBcW1CLGtCQUFBM2dCLE9BQUF5QyxJQUFBLENBRUEsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFnZ0IsWUFBQTFpQixPQUFBMEMsSUFDQWdnQixZQUFBaGdCLEdBQUFrTyxvQkFBQXRXLE9BQUFxbUIsa0JBQUFsZSxHQUFBbU8sb0JBQ0F0VyxPQUFBcW1CLGtCQUFBbGUsR0FBQUksVUFBQSxFQUNBSCxFQUFBZ2dCLFlBQUExaUIsUUFHQTFGLE9BQUFxbUIsa0JBQUFsZSxHQUFBSSxVQUFBLENBR0EsS0FBQTZmLFlBQUExaUIsU0FDQTFGLE9BQUFxbUIsa0JBQUFsZSxHQUFBSSxVQUFBLEtBRUEsU0FBQXZILGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSw0Q0FBQU8sY0FBQTRJLGNBSUE1SixPQUFBcWUsVUFBQTBHLFVBQUE1WSxPQUFBLFNBQUEzRyxHQUFBLE1BQUFBLEdBQUE4WSxXQUFBdGUsT0FBQXdJLE9BQUE4VixXQUFBLEdBQUFDLFdBR0F2ZSxPQUFBbUIsR0FBQTBNLFNBQUEsRUFBQXlhLFNBQUEsRUFBQXhhLFdBQUEsRUFBQUMsY0FBQSxHQUdBL04sT0FBQThVLGFBQ0FDLFlBQUEsRUFDQUMsV0FBQSxHQUVBaFYsT0FBQWlWLGNBQ0FqVixPQUFBdUIsS0FBQSxTQUFBMlQsT0FBQS9TLE9BQ0ErUyxPQUFBM1MsaUJBQ0EyUyxPQUFBQyxrQkFDQW5WLE9BQUFpVixXQUFBOVMsUUFBQSxHQUtBbkMsT0FBQWdmLE1BQUEsU0FBQUMsS0FDQSxHQUFBQyxVQUFBRCxLQUFBRSxPQUFBamQsTUFDQWtkLElBQUFGLFNBQUFHLFNBQUFILFNBQUEvYyxLQUNBLEtBQUFpZCxLQUFBLElBQUFBLEtBQUFBLElBQUEsS0FBQSxHQUFBQSxLQUFBQSxJQUFBLE1BQ0FGLFNBQUFJLGFBQUEsRUFDQUosU0FBQTNjLGdCQUFBMmMsU0FBQTNjLG1CQUtBdkMsT0FBQXdlLFlBQUEsU0FBQStKLFVBQ0F2b0IsT0FBQWdOLDBCQUNBLElBQUF5UixxQkFBQXplLE9BQUF5TCxlQUFBVSxPQUFBLFNBQUFvRSxJQUFBLE1BQUFBLElBQUFtTyxnQkFBQTZKLFNBQUE3SixpQkFBQSxFQUVBMWUsUUFBQWdOLHdCQUFBeVIsb0JBQUFFLGlCQUdBM2UsT0FBQXdlLFlBQUF4ZSxPQUFBd0ksUUFHQXhJLE9BQUFnUyxPQUFBLFdBQ0E3TixTQUFBLFdBRUEsR0FBQTRhLFdBQUFoVSxXQUNBdkosbUJBQUFFLE1BQUFxZCxZQUtBLElBQUFRLHlCQUFBLFNBQUFDLEdBRUEsR0FBQTBFLGFBQUEvYixDQUNBLGNBQUFxWCxFQUVBLE9BQUF4ZixPQUFBc2QsYUFBQSxHQUFBaEUsV0FFQTRLLFlBQUEsR0FBQTlULE1BQUFwUSxPQUFBc2QsYUFBQSxHQUFBb0MsWUFBQTdGLGNBQ0E3WixPQUFBc2QsYUFBQSxHQUFBb0MsV0FBQXdFLFlBQ0Fsa0IsT0FBQXNkLGFBQUEsR0FBQWhFLFVBQUEsUUFHQW5SLEVBQUFuSSxPQUFBc2QsYUFBQSxHQUFBb0MsV0FBQXBMLFdBQUFwSyxRQUFBLE9BQUEsRUFDQWxLLE9BQUFzZCxhQUFBLEdBQUFvQyxXQUFBMWYsT0FBQXNkLGFBQUEsR0FBQW9DLFdBQUFwTCxXQUFBOEQsVUFBQSxFQUFBalEsSUFJQSxPQUFBbkksT0FBQThuQixhQUFBLEdBQUF4TyxXQUVBNEssWUFBQSxHQUFBOVQsTUFBQXBRLE9BQUE4bkIsYUFBQSxHQUFBcEksWUFBQTdGLGNBQ0E3WixPQUFBOG5CLGFBQUEsR0FBQXBJLFdBQUF3RSxZQUNBbGtCLE9BQUE4bkIsYUFBQSxHQUFBeE8sVUFBQSxRQUdBblIsRUFBQW5JLE9BQUE4bkIsYUFBQSxHQUFBcEksV0FBQXBMLFdBQUFwSyxRQUFBLE9BQUEsRUFDQWxLLE9BQUE4bkIsYUFBQSxHQUFBcEksV0FBQTFmLE9BQUE4bkIsYUFBQSxHQUFBcEksV0FBQXBMLFdBQUE4RCxVQUFBLEVBQUFqUSxJQU9BbkksUUFBQWtqQixhQUFBLFdBQ0FsakIsT0FBQXdHLEtBQUFrSCxPQUFBLE9BQ0ExTixPQUFBc2QsY0FBQTFmLFFBQUErWixLQUFBM1gsT0FBQXdJLFFBQUE1SyxRQUFBK1osS0FBQTNYLE9BQUF3bUIscUJBQ0F4bUIsT0FBQXFkLFlBQUF6ZixRQUFBK1osS0FBQTNYLE9BQUEyakIsbUJBSUEzakIsT0FBQXdvQixhQUFBLFNBQUEvTyxPQUNBLEdBQUFBLE1BQUEsQ0FDQSxHQUFBb0csa0JBQ0FDLGlCQUVBLFlBQUE5ZixPQUFBcU4sYUFBQWlHLE9BQ0F0VCxPQUFBc2QsYUFBQSxHQUFBeUMsU0FBQSxHQUFBL2YsT0FBQXNkLGFBQUEsR0FBQXlDLFVBQ0FSLHdCQUFBLFlBQ0FyZixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXdLLFdBQUFtUCxRQUFBdlksR0FBQS9CLE9BQUFzZCxhQUFBLEdBQUFqUixlQUFBck0sT0FBQXNkLGFBQUEsSUFBQTdOLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBdVcsY0FBQXZXLFNBQ0F1VyxjQUFBRyxlQUFBaGdCLE9BQUFzZCxhQUFBLEdBQUFzQixtQkFBQSxFQUFBNWUsT0FBQStNLFlBQUFaLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLHFCQUFBNWUsT0FBQXNkLGFBQUEsR0FBQXNCLHFCQUFBLEdBQUFxQixPQUFBLEdBQ0FKLGNBQUFLLFlBQUFsZ0IsT0FBQXNkLGFBQUEsR0FBQTZDLGdCQUFBLEVBQUFuZ0IsT0FBQTJMLGNBQUFRLE9BQUEsU0FBQXdJLEdBQUEsTUFBQUEsR0FBQXdMLGtCQUFBbmdCLE9BQUFzZCxhQUFBLEdBQUE2QyxrQkFBQSxHQUFBQyxVQUFBLEdBQ0FQLGNBQUFRLFlBQUFyZ0IsT0FBQTBMLGdCQUFBUyxPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUFtZixrQkFBQXRnQixPQUFBc2QsYUFBQSxHQUFBZ0Qsa0JBQUEsR0FBQUMsV0FDQVYsY0FBQVcsV0FBQXhnQixPQUFBeUwsZUFBQVUsT0FBQSxTQUFBc1UsR0FBQSxNQUFBQSxHQUFBL0IsaUJBQUExZSxPQUFBc2QsYUFBQSxHQUFBb0IsaUJBQUEsR0FBQWxXLE9BQ0FxWCxjQUFBNkUsZUFBQTFrQixPQUFBNmpCLGdCQUFBMVgsT0FBQSxTQUFBaEUsR0FBQSxNQUFBQSxHQUFBcEcsS0FBQS9CLE9BQUFzZCxhQUFBLEdBQUFxSCxxQkFBQSxHQUFBQyxVQUNBeFosa0JBQUFrUCxRQUFBdlksR0FBQS9CLE9BQUFzZCxhQUFBLEdBQUFvRCxzQkFBQTFnQixPQUFBc2QsYUFBQSxJQUFBN04sU0FBQTVOLEtBQUEsU0FBQThlLGNBRUEsSUFBQSxHQUFBQyxJQUFBLEVBQUFBLEdBQUE1Z0IsT0FBQTBtQixnQkFBQWhoQixPQUFBa2IsS0FBQSxDQUNBLEdBQUE2SCxlQUFBem9CLE9BQUEwbUIsZ0JBQUE5RixHQUNBcFYsWUFBQUEsV0FBQXpKLEdBQUEwbUIsZ0JBQUFoWixTQUVBelAsT0FBQTJqQixpQkFBQTNqQixPQUFBcWQsWUFBQTNYLE9BQUEsS0FBQTFGLE9BQUEyakIsZ0JBQ0EsS0FBQSxHQUFBN0MsSUFBQSxFQUFBQSxHQUFBOWdCLE9BQUFxZCxZQUFBM1gsT0FBQW9iLEtBQUEsQ0FDQSxHQUFBQyxhQUFBL2dCLE9BQUFxZCxZQUFBeUQsR0FDQTFmLFVBQUEyZixZQUFBbkQsbUJBRUFwUyxXQUFBOE8sUUFBQXZZLEdBQUFnZixZQUFBbkQsb0JBQUFtRCxhQUFBdFIsU0FBQTVOLEtBQUEsU0FBQW1mLGNBQ0FBLGFBQUFyRSxRQUFBb0UsWUFBQXBFLFFBQ0FxRSxhQUFBbEUsT0FBQWlFLFlBQUFqRSxPQUNBOWMsT0FBQTJqQixpQkFBQWhoQixLQUFBcWUsaUJBSUFELFlBQUFMLHFCQUFBQyxhQUFBRCxxQkFDQWxWLFdBQUEwTyxLQUFBNkcsYUFBQXRSLFNBQUE1TixLQUFBLFNBQUFtZixjQUNBQSxhQUFBckUsUUFBQW9FLFlBQUFwRSxRQUNBcUUsYUFBQWxFLE9BQUFpRSxZQUFBakUsT0FDQTljLE9BQUEyakIsaUJBQUFoaEIsS0FBQXFlLGlCQUlBbEIsZUFBQWEsYUFDQWIsZUFBQXplLE9BQUEsV0FDQXJCLE9BQUF3SSxPQUFBcVgsYUFDQSxJQUFBNkksaUJBQUEzZCxXQUFBbVcsaUJBQ0FuVyxZQUFBOFUsY0FDQTdmLE9BQUF3bUIsbUJBQUExRyxlQUVBOWYsT0FBQXdtQixtQkFBQTlHLFdBQUFsUCxpQkFBQXhRLE9BQUF3bUIsbUJBQUE5RyxZQUNBM1UsV0FBQW1XLGtCQUFBd0gsZUFDQSxJQUFBemUsS0FBQWMsV0FBQW1XLGtCQUFBMVMsSUFBQSxTQUFBckcsR0FBQSxNQUFBQSxHQUFBaVYsaUJBQUFsVCxRQUFBLEVBQ0FhLFlBQUFtVyxrQkFBQWpYLEtBQUFqSyxPQUFBd21CLG1CQUNBeG1CLE9BQUF3SSxPQUFBMFksa0JBQUFuVyxXQUFBbVcsa0JBQ0FsaEIsT0FBQXNkLGdCQUFBdGQsT0FBQXFkLGVBQ0FyZCxPQUFBcU4sY0FBQWlHLEtBQUEsV0FDQXRULE9BQUF3RyxLQUFBa0gsT0FBQSxTQUNBaEUsT0FBQStNLFFBQUEsbUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxpQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxpQ0FBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGdCQU1BNUosT0FBQW1qQixjQUFBLFdBQ0FuakIsT0FBQXdHLEtBQUFrSCxPQUFBLFNBQ0ExTixPQUFBc2QsZ0JBQ0F0ZCxPQUFBcWQsY0FFQSxLQUFBLEdBQUFsVixHQUFBLEVBQUFBLEVBQUFuSSxPQUFBb21CLGtCQUFBMWdCLE9BQUF5QyxJQUFBLENBRUEsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFwSSxPQUFBMmpCLGlCQUFBamUsT0FBQTBDLElBQ0FwSSxPQUFBMmpCLGlCQUFBdmIsR0FBQWtPLG9CQUFBdFcsT0FBQW9tQixrQkFBQWplLEdBQUFtTyxvQkFDQXRXLE9BQUFvbUIsa0JBQUFqZSxHQUFBSSxVQUFBLEVBQ0FILEVBQUFwSSxPQUFBMmpCLGlCQUFBamUsUUFHQTFGLE9BQUFvbUIsa0JBQUFqZSxHQUFBSSxVQUFBLENBR0EsS0FBQXZJLE9BQUEyakIsaUJBQUFqZSxTQUNBMUYsT0FBQW9tQixrQkFBQWplLEdBQUFJLFVBQUEsS0FPQXZJLE9BQUEyb0IsYUFBQSxXQUNBM29CLE9BQUF3RyxLQUFBbUgsT0FBQSxPQUNBM04sT0FBQThuQixjQUFBbHFCLFFBQUErWixLQUFBM1gsT0FBQXdJLFFBQUE1SyxRQUFBK1osS0FBQTNYLE9BQUFxbkIsc0JBQ0FybkIsT0FBQTZuQixZQUFBanFCLFFBQUErWixLQUFBM1gsT0FBQXluQixtQkFJQXpuQixPQUFBNG9CLGNBQUEsU0FBQW5QLE9BQ0EsR0FBQUEsTUFBQSxDQUNBLEdBQUFvUCxvQkFDQXRKLHlCQUFBLGFBRUFyZixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXdLLFdBQUFtUCxRQUFBdlksR0FBQS9CLE9BQUE4bkIsYUFBQSxHQUFBemIsZUFBQXJNLE9BQUE4bkIsYUFBQSxJQUFBclksU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F1ZixpQkFBQXZmLFNBQ0F1ZixpQkFBQTdJLGVBQUFoZ0IsT0FBQThuQixhQUFBLEdBQUFsSixtQkFBQSxFQUFBNWUsT0FBQStNLFlBQUFaLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLHFCQUFBNWUsT0FBQThuQixhQUFBLEdBQUFsSixxQkFBQSxHQUFBcUIsT0FBQSxHQUNBNEksaUJBQUEzSSxZQUFBbGdCLE9BQUE4bkIsYUFBQSxHQUFBM0gsZ0JBQUEsRUFBQW5nQixPQUFBMkwsY0FBQVEsT0FBQSxTQUFBd0ksR0FBQSxNQUFBQSxHQUFBd0wsa0JBQUFuZ0IsT0FBQThuQixhQUFBLEdBQUEzSCxrQkFBQSxHQUFBQyxVQUFBLEdBQ0F5SSxpQkFBQXhJLFlBQUFyZ0IsT0FBQTBMLGdCQUFBUyxPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUFtZixrQkFBQXRnQixPQUFBOG5CLGFBQUEsR0FBQXhILGtCQUFBLEdBQUFDLFdBQ0FzSSxpQkFBQXJJLFdBQUF4Z0IsT0FBQXlMLGVBQUFVLE9BQUEsU0FBQXNVLEdBQUEsTUFBQUEsR0FBQS9CLGlCQUFBMWUsT0FBQThuQixhQUFBLEdBQUFwSixpQkFBQSxHQUFBbFcsT0FDQXFnQixpQkFBQW5FLGVBQUExa0IsT0FBQTZqQixnQkFBQTFYLE9BQUEsU0FBQWhFLEdBQUEsTUFBQUEsR0FBQXBHLEtBQUEvQixPQUFBOG5CLGFBQUEsR0FBQW5ELHFCQUFBLEdBQUFDLFVBRUE1a0IsT0FBQXdJLE9BQUFxZ0IsZ0JBQ0EsSUFBQUMsYUFBQS9kLFdBQUFtVyxpQkFDQW5XLFlBQUE4ZCxpQkFDQTlkLFdBQUFtVyxrQkFBQTRILFlBQ0ExZCxrQkFBQWtQLFFBQUF2WSxHQUFBL0IsT0FBQThuQixhQUFBLEdBQUFwSCxzQkFBQTFnQixPQUFBOG5CLGFBQUEsSUFBQXJZLFNBQUE1TixLQUFBLFNBQUE4ZSxjQUNBM2dCLE9BQUFzbkIsaUJBQUEsR0FBQTNHLGFBQUF2RCxlQUFBLFlBQUEsT0FDQXBkLE9BQUFxbkIsb0JBQUExRyxhQUNBM2dCLE9BQUFxbkIsb0JBQUFobUIsT0FBQSxHQUFBc2YsYUFBQXZELGVBQUEsWUFBQSxPQUNBcGQsT0FBQXFuQixvQkFBQTNILFdBQUFsUCxpQkFBQXhRLE9BQUFxbkIsb0JBQUEzSCxZQUNBM1UsV0FBQW1XLGtCQUFBLEdBQUFsaEIsT0FBQXFuQixtQkFHQSxLQUFBLEdBQUF6RyxJQUFBLEVBQUFBLEdBQUE1Z0IsT0FBQXduQixnQkFBQTloQixPQUFBa2IsS0FBQSxDQUNBLEdBQUFtSSxlQUFBL29CLE9BQUF3bkIsZ0JBQUE1RyxHQUNBcFYsWUFBQUEsV0FBQXpKLEdBQUFnbkIsZ0JBQUF0WixTQUVBelAsT0FBQXluQixpQkFBQXpuQixPQUFBNm5CLFlBQUFuaUIsT0FBQSxLQUFBMUYsT0FBQXluQixnQkFDQSxLQUFBLEdBQUEzRyxJQUFBLEVBQUFBLEdBQUE5Z0IsT0FBQTZuQixZQUFBbmlCLE9BQUFvYixLQUFBLENBQ0EsR0FBQWtJLGFBQUFocEIsT0FBQTZuQixZQUFBL0csR0FDQTFmLFVBQUE0bkIsWUFBQXBMLG1CQUVBcFMsV0FBQThPLFFBQUF2WSxHQUFBaW5CLFlBQUFwTCxvQkFBQW9MLGFBQUF2WixTQUFBNU4sS0FBQSxTQUFBbWYsY0FDQUEsYUFBQXJFLFFBQUFxTSxZQUFBck0sUUFDQXFFLGFBQUFsRSxPQUFBa00sWUFBQWxNLE9BQ0E5YyxPQUFBeW5CLGlCQUFBOWtCLEtBQUFxZSxpQkFJQWdJLFlBQUF0SSxxQkFBQUMsYUFBQUQscUJBQ0FsVixXQUFBME8sS0FBQThPLGFBQUF2WixTQUFBNU4sS0FBQSxTQUFBbWYsY0FDQUEsYUFBQXJFLFFBQUFxTSxZQUFBck0sUUFDQXFFLGFBQUFsRSxPQUFBa00sWUFBQWxNLE9BQ0E5YyxPQUFBeW5CLGlCQUFBOWtCLEtBQUFxZSxpQkFJQWhoQixPQUFBOG5CLGdCQUFBOW5CLE9BQUE2bkIsZUFDQTduQixPQUFBd0csS0FBQW1ILE9BQUEsU0FDQWpFLE9BQUErTSxRQUFBLG1CQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsaUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsaUNBQUFPLGNBQUE0SSxlQUVBLFNBQUE1SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxnQkFNQTVKLE9BQUFpcEIsY0FBQSxXQUNBanBCLE9BQUF3RyxLQUFBbUgsT0FBQSxTQUNBM04sT0FBQThuQixnQkFDQTluQixPQUFBNm5CLGNBRUEsS0FBQSxHQUFBMWYsR0FBQSxFQUFBQSxFQUFBbkksT0FBQXFtQixrQkFBQTNnQixPQUFBeUMsSUFBQSxDQUVBLElBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBcEksT0FBQXluQixpQkFBQS9oQixPQUFBMEMsSUFDQXBJLE9BQUF5bkIsaUJBQUFyZixHQUFBa08sb0JBQUF0VyxPQUFBcW1CLGtCQUFBbGUsR0FBQW1PLG9CQUNBdFcsT0FBQXFtQixrQkFBQWxlLEdBQUFJLFVBQUEsRUFDQUgsRUFBQXBJLE9BQUF5bkIsaUJBQUEvaEIsUUFHQTFGLE9BQUFxbUIsa0JBQUFsZSxHQUFBSSxVQUFBLENBR0EsS0FBQXZJLE9BQUF5bkIsaUJBQUEvaEIsU0FDQTFGLE9BQUFxbUIsa0JBQUFsZSxHQUFBSSxVQUFBLEtBTUF2SSxPQUFBb2lCLFFBQUEsV0FFQSxHQUFBM0gscUJBQUFyYSxVQUFBbUIsTUFDQW1aLFNBQUEsU0FDQUMsVUFBQSxFQUNBQyxZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQTdhLFFBQUF3SSxRQUVBc1MsS0FBQSxXQUNBLE1BQUEsWUFLQUwscUJBQUE3WSxPQUFBQyxLQUFBLFNBQUF3Z0IsZ0JBQ0FuaUIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFFQWtGLFdBQUFBLFdBQUFwSixHQUFBc2dCLGVBQUFoVyxnQkFBQW9ELFNBQUE1TixLQUFBLFdBQ0E3QixPQUFBa21CLGVBQ0FsbUIsT0FBQW1tQixpQkFHQSxLQURBLEdBQUE3RCxHQUFBdGlCLE9BQUFnTSxVQUFBdEcsT0FDQTRjLEtBQ0F0aUIsT0FBQWdNLFVBQUFzVyxHQUFBalcsZUFBQWdXLGVBQUFoVyxlQUFBck0sT0FBQWdNLFVBQUE3QixPQUFBbVksRUFBQSxFQUdBelgsWUFBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0F0QyxPQUFBK00sUUFBQSxpQkFDQSxJQUFBc0ksV0FBQSxLQUFBLFVBQ0F2ZCxtQkFBQUUsTUFBQXFkLFdBQ0EsU0FBQS9kLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGlCQU1BNUosT0FBQW9WLE1BQUExSyxXQUFBMkssV0FBQXJWLE9BQUFzVixnQkFBQSxFQUVBdFYsT0FBQXVWLGVBQUEsV0FDQSxHQUFBblUsUUFBQXBCLE9BQUE2TyxNQUFBQyxNQUFBMU4sUUFBQXBCLE9BQUE2TyxNQUFBMkcsTUFDQTFELE1BQUEsdUNBQ0EsQ0FDQTVSLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBWCxPQUFBeVYsa0JBQUEsQ0FDQSxJQUFBekcsWUFDQUMsWUFDQXlHLFFBQUExVixPQUFBNk8sTUFBQTZHLFFBQ0FDLEtBQUEzVixPQUFBNk8sTUFBQThHLEtBQ0FDLFlBQUE1VixPQUFBNk8sTUFBQStHLFlBQ0FDLGdCQUFBN1YsT0FBQTZPLE1BQUFnSCxnQkFDQUMsWUFBQTlWLE9BQUE2TyxNQUFBaUgsWUFDQUMsYUFBQS9WLE9BQUE2TyxNQUFBa0gsYUFDQUMsVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQUMsT0FBQWpXLE9BQUE2TyxNQUFBb0gsT0FDQWpVLFFBQUFoQyxPQUFBNk8sTUFBQTdNLFFBQ0F3SyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBMEosVUFBQWxXLE9BQUE2TyxNQUFBcUgsVUFDQS9QLEtBQUFuRyxPQUFBNk8sTUFBQTFJLEtBQ0FnUSxhQUFBblcsT0FBQTZPLE1BQUFzSCxhQUNBOUosY0FBQXJNLE9BQUE2TyxNQUFBeEMsY0FDQStKLFdBQUFwVyxPQUFBNk8sTUFBQXVILFdBQ0FDLFFBQUFyVyxPQUFBNk8sTUFBQXdILFFBQ0FDLG1CQUFBdFcsT0FBQTZPLE1BQUF5SCxvQkFFQXhILEtBQUExTixTQUFBcEIsT0FBQTZPLE1BQUEyRyxNQUFBeFYsT0FBQTZPLE1BQUEyRyxNQUFBeFYsT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBelcsT0FBQTBXLElBQUExVyxPQUFBdU4sVUFBQSxVQUFBdk4sT0FBQTZPLE1BQUE2RyxRQUFBLFFBQUFoTCxXQUFBMkssV0FDQTNLLFdBQUFpTSxXQUNBM1csT0FBQW9WLE1BQUExSyxXQUFBMkssV0FFQXJWLE9BQUE0VyxRQURBNVcsT0FBQTZPLE1BQUEyRyxNQUFBbEMsS0FBQXBKLFFBQUEsU0FBQSxJQUNBLEdBQ0EsRUFDQWxLLE9BQUE2TyxNQUFBOEcsS0FBQWEsVUFBQWIsS0FBQTNWLE9BQUE2TyxNQUFBMUksS0FBQXFRLFVBQUFyUSxLQUNBL0UsU0FBQXBCLE9BQUE2TyxNQUFBMkcsUUFDQXhWLE9BQUE2TyxNQUFBQyxLQUFBOU8sT0FBQTZPLE1BQUEyRyxNQUNBeFYsT0FBQTZPLE1BQUEyRyxNQUFBcFUsUUFFQW9WLFVBQUFLLGNBQUEsR0FBQTdXLE9BQUE2TyxNQUFBckMsWUFBQSxnQkFBQSxjQUNBLElBQUFnSyxVQUFBaEssY0FDQXhNLE9BQUFtbUIsZUFBQWhjLE9BQUFuSyxPQUFBOFcsa0JBQUEsR0FDQTlXLE9BQUFtbUIsZUFBQXhqQixLQUFBNlQsWUFFQXhXLE9BQUFrbUIsWUFBQWxtQixPQUFBK1csZ0JBQUFQLFVBQ0F4VyxPQUFBZ00sVUFBQWhNLE9BQUFnWCxlQUFBUixVQUNBM0wsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0FoTSxPQUFBeVYsa0JBQUEsRUFDQXpWLE9BQUFzVixnQkFBQSxHQUNBLFNBQUF0VSxlQUNBaEIsT0FBQXlWLGtCQUFBLEVBQ0EvTCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGdCQUtBNUosT0FBQWtYLGVBQUEsU0FBQUMsT0FDQS9XLFVBQUFtQixNQUNBekIsU0FBQSxzUEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUVBMUIsT0FBQW9YLFFBQUFELE1BQ0FuWCxPQUFBcVgsT0FBQTVNLFdBQUEsVUFBQXpLLE9BQUFvWCxRQUFBLFVBRUF6VixLQUFBLFFBS0EzQixPQUFBc1gsU0FBQSxTQUFBQyxNQVNBLEdBUkF2WCxPQUFBd1gsVUFBQXhYLE9BQUE2TCxhQUNBN0wsT0FBQXlYLFNBQUE3TSxXQUNBNUssT0FBQStXLGVBQUEsR0FDQS9XLE9BQUE4VyxrQkFBQSxHQUNBOVcsT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBQ0ExWCxPQUFBMFEsWUFDQSxJQUFBNkcsS0FBQSxDQWNBLEdBWkF2WCxPQUFBK1csZUFBQS9XLE9BQUFrbUIsWUFBQWhjLFFBQUFxTixNQUNBdlgsT0FBQWdYLGNBQUFoWCxPQUFBZ00sVUFBQTlCLFFBQUFxTixNQUNBdlgsT0FBQThXLGtCQUFBOVcsT0FBQW1tQixlQUFBemdCLE9BQUEsRUFBQTFGLE9BQUFtbUIsZUFBQWpjLFFBQUFxTixNQUFBLEdBQ0F2WCxPQUFBNk8sTUFBQWpSLFFBQUErWixLQUFBSixNQUNBak0sS0FBQXNNLGFBQUE3VixHQUFBL0IsT0FBQTZPLE1BQUE2RyxVQUFBakcsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBc1YsZUFBQWhNLFNBQUF1TyxPQUFBLEdBQUEsR0FBQSxHQUNBLFNBQUE3VyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxjQUVBNUosT0FBQTZPLE1BQUFpSixTQUFBOVgsT0FBQTZMLGFBQUFNLE9BQUEsU0FBQTRMLElBQUEsTUFBQUEsSUFBQXZMLGFBQUF4TSxPQUFBNk8sTUFBQXJDLGNBQUEsR0FBQXdMLFNBRUE1VyxTQUFBcEIsT0FBQTZPLE1BQUE4RyxLQUFBLENBQ0EsR0FBQXNDLElBQUFqWSxPQUFBNk8sTUFBQThHLEtBQUF1QyxZQUFBLEtBQ0FDLFFBQUFuWSxPQUFBNk8sTUFBQThHLEtBQUF5QyxVQUFBSCxHQUFBLEVBRUFqWSxRQUFBNFcsUUFEQXVCLFFBQUFFLE1BQUEseUNBQ0EsR0FDQTs7Q0FFQXJZLE9BQUEwVyxJQUFBMVcsT0FBQXVOLFVBQUEsVUFBQXZOLE9BQUE2TyxNQUFBNkcsUUFBQSxRQUFBaEwsV0FBQTJLLFdBQ0FyVixPQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQUFwUSxPQUFBNk8sTUFBQW1ILFdBQ0E1VSxTQUFBcEIsT0FBQTZPLE1BQUF1SCxhQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUFBLEdBQUFoRyxNQUFBcFEsT0FBQTZPLE1BQUF1SCxhQUNBaFYsU0FBQW1XLEtBQUFyQixXQUNBM0ssT0FBQStNLE9BQUF2VyxHQUFBd1YsS0FBQXJCLFlBQUF6RyxTQUFBNU4sS0FBQSxTQUFBVixHQUNBbkIsT0FBQTBYLFFBQUF2VyxFQUNBbkIsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQWMsWUFFQSxHQUFBeFksT0FBQTZPLE1BQUFyQyxjQUNBeE0sT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsY0FDQSxTQUFBNVgsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHlCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHlCQUFBTyxjQUFBNEksY0FHQXhJLFNBQUFtVyxLQUFBcEIsZUFDQW5XLE9BQUFrcEIsZ0JBQ0E3ZCxVQUFBaU4sT0FBQXZXLEdBQUF3VixLQUFBcEIsZUFBQTFHLFNBQUE1TixLQUFBLFNBQUFnWCxJQUNBN1ksT0FBQTBRLFNBQUFtSSxHQUNBN1ksT0FBQThZLFVBQUE1TixXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQS9ZLE9BQUEwUSxTQUFBc0ksZUFBQSxHQUNBaFosT0FBQTBRLFNBQUF1SSxhQUFBLEdBQUE3SSxNQUFBcFEsT0FBQTBRLFNBQUF1SSxjQUNBalosT0FBQTBRLFNBQUFDLFdBQUFILGlCQUFBeFEsT0FBQTBRLFNBQUFDLFlBQ0EzUSxPQUFBMFEsU0FBQUUsU0FBQUosaUJBQUF4USxPQUFBMFEsU0FBQUUsVUFDQXhQLFNBQUF5WCxHQUFBaUQsYUFBQSxPQUFBakQsR0FBQWlELGFBQUFqRCxHQUFBaUQsYUFBQSxHQUNBelEsVUFBQThkLGVBQUFwbkIsR0FBQThXLEdBQUExQyxjQUFBLFNBQUEwRixrQkFDQTdiLE9BQUFrcEIsYUFBQUUsYUFBQSxHQUFBaFosTUFBQXlMLGlCQUFBd04sZUFDQXJwQixPQUFBa3BCLGFBQUFJLE9BQUFwZSxXQUFBaUIsT0FBQSxTQUFBb2QsTUFBQSxNQUFBQSxNQUFBeFEsV0FBQThDLGlCQUFBOUMsWUFBQSxJQUNBLFNBQUEvWCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEscUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EscUNBQUFPLGNBQUE0SSxlQUdBLFNBQUE1SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxtQkFJQSxDQUVBNUosT0FBQTZPLE1BQUFtSCxVQUFBLEdBQUE1RixNQUFBcFEsT0FBQTZPLE1BQUF1SCxXQUFBLEdBQUFoRyxNQUNBcFEsT0FBQTBYLFFBQUF4TSxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxHQUNBakcsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQXdCLE1BQUEsSUFBQWxaLE9BQUEwWCxRQUFBeUIsTUFDQW5aLE9BQUE4WSxVQUFBNU4sV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUFoVCxTQUFBRSxJQUFBLFNBQUEsRUFDQSxJQUFBbVQsSUFBQUMsa0JBQ0FyWixRQUFBMFEsU0FBQXVJLGFBQUFHLEdBQUEsR0FDQXBaLE9BQUEwUSxTQUFBNEksVUFBQUYsR0FBQSxHQUNBcFosT0FBQTBRLFNBQUFDLFdBQUEsS0FDQTNRLE9BQUEwUSxTQUFBRSxTQUFBLEtBRUE1USxPQUFBeU0sY0FBQSxFQUdBek0sT0FBQXVaLHVCQUFBLFdBQ0EsR0FBQXZaLE9BQUE2TyxNQUFBckMsY0FDQXhNLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGVBS0E1WSxPQUFBd1osV0FBQSxTQUFBQyxPQUNBLEdBQUFyWSxTQUFBcEIsT0FBQTZPLE1BQUFDLEtBQUEsQ0FDQSxHQUFBLEdBQUE5TyxPQUFBNk8sTUFBQXJDLFlBQUEsQ0FFQSxHQUFBckwsR0FBQW5CLE9BQUEwUSxTQUFBQyxXQUNBbkwsRUFBQXhGLE9BQUEwUSxTQUFBRSxRQUNBLElBQUEsR0FBQVIsTUFBQTVLLEdBQUEsR0FBQTRLLE1BQUFqUCxHQUFBLENBQ0FzWSxPQUFBLENBQ0EsSUFBQUMsU0FBQXRaLFVBQUFtQixNQUNBekIsU0FBQSx5UUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUErWCxTQUFBOVgsT0FBQUMsS0FBQSxXQUNBNFgsT0FBQSxJQUdBLEdBQUFyWSxRQUFBRCxHQUFBQyxRQUFBb0UsRUFBQSxDQUNBaVUsT0FBQSxDQUNBLElBQUFFLGFBQUF2WixVQUFBbUIsTUFDQXpCLFNBQUEsdVhBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBZ1ksYUFBQS9YLE9BQUFDLEtBQUEsV0FDQTRYLE9BQUEsS0FJQSxHQUFBQSxNQUtBLEdBSkF6WixPQUFBK2xCLHdCQUFBLEVBQ0E3bEIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBRUEsR0FBQVgsT0FBQTZPLE1BQUFyQyxZQUFBLENBRUEsR0FBQSxPQUFBeE0sT0FBQTBRLFNBQUE0SSxVQUFBLENBRUEsR0FBQU0sa0JBQUEsR0FBQXhKLE1BQUFwUSxPQUFBMFEsU0FBQUMsWUFBQWtKLGNBQ0FDLGVBQUEsR0FBQTFKLE1BQUFwUSxPQUFBMFEsU0FBQUUsVUFBQWlKLGFBQ0E3WixRQUFBMFEsU0FBQUMsV0FBQWlKLGlCQUNBNVosT0FBQTBRLFNBQUFFLFNBQUFrSixlQUNBOVosT0FBQTBRLFNBQUE0SSxVQUFBLFVBQ0EsQ0FFQSxHQUFBUyxJQUFBL1osT0FBQTBRLFNBQUFDLFdBQUEyRCxXQUFBcEssUUFBQSxPQUFBLEVBQ0E4UCxHQUFBaGEsT0FBQTBRLFNBQUFFLFNBQUEwRCxXQUFBcEssUUFBQSxPQUFBLENBQ0FsSyxRQUFBMFEsU0FBQUMsV0FBQTNRLE9BQUEwUSxTQUFBQyxXQUFBMkQsV0FBQThELFVBQUEsRUFBQTJCLElBQ0EvWixPQUFBMFEsU0FBQUUsU0FBQTVRLE9BQUEwUSxTQUFBRSxTQUFBMEQsV0FBQThELFVBQUEsRUFBQTRCLElBRUFoYSxPQUFBMFEsU0FBQXJFLGNBQUF0QixXQUFBc0IsY0FDQXJNLE9BQUEwUSxTQUFBc0ksYUFBQWpULFNBQUFFLElBQUEsTUFDQSxJQUFBZ1UsWUFBQSxDQUNBNU8sV0FBQTZPLEtBQUFsYSxPQUFBMFEsVUFBQWpCLFNBQUE1TixLQUFBLFNBQUFzWSxZQUNBRixXQUFBRSxXQUFBaEUsWUFFQSxJQUFBbkgsWUFDQUMsWUFDQXpDLFlBQUF4TSxPQUFBNk8sTUFBQXJDLFlBQ0FtSixLQUFBM1YsT0FBQTZPLE1BQUFDLEtBQUE2RyxLQUNBSyxVQUFBaFcsT0FBQTZPLE1BQUFtSCxVQUNBSixZQUFBNVYsT0FBQTZPLE1BQUErRyxZQUNBNVQsUUFBQWhDLE9BQUFrUCxlQUFBbE4sUUFDQW1VLGFBQUFnRSxXQUFBaEUsYUFDQU4sZ0JBQUE3VixPQUFBNk8sTUFBQWdILGdCQUNBQyxZQUFBOVYsT0FBQTZPLE1BQUFpSCxZQUNBQyxhQUFBL1YsT0FBQTZPLE1BQUFrSCxhQUNBMUosY0FBQXRCLFdBQUFzQixlQUVBeUMsS0FBQTlPLE9BQUE2TyxNQUFBQyxNQUdBSyxHQUFBLEdBQUFDLFNBQ0FELElBQUFwUSxPQUFBLGFBQUFzUSxLQUFBQyxVQUFBTixVQUFBQyxhQUNBRSxHQUFBcFEsT0FBQSxPQUFBaVEsVUFBQUYsTUFFQXhELEtBQUFpTCxXQUFBcEgsSUFBQU0sU0FBQTVOLEtBQUEsU0FBQTJVLFdBQ0E5TSxPQUFBK00sUUFBQSxpQkFDQUQsVUFBQUssY0FBQSxnQkFDQTdXLE9BQUFrbUIsWUFBQXZqQixLQUFBNlQsV0FDQXhXLE9BQUFnTSxVQUFBckosS0FBQTZULFdBQ0EzTCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQSxJQUFBd0ssVUFBQWhLLGFBQUF4TSxPQUFBbW1CLGVBQUF4akIsS0FBQTZULFdBQ0F4VyxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQStsQix3QkFBQSxHQUNBLFNBQUEva0IsZUFFQXFLLFVBQUFBLFdBQUF0SixHQUFBa1ksYUFDQWphLE9BQUE2TyxTQUFBN08sT0FBQTBYLFdBQUExWCxPQUFBMFEsWUFBQTFRLE9BQUF5TSxjQUFBLEVBQ0F6TSxPQUFBK2xCLHdCQUFBLEVBQ0FyYyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0FoQixPQUFBK2xCLHdCQUFBLEVBQ0FyYyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxvQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxvQ0FBQU8sY0FBQTRJLGtCQUVBLENBRUEsR0FBQXdRLFlBQUE1QixZQUFBeFksT0FBQTBYLFFBQUFhLFNBQUFJLFVBQUEzWSxPQUFBMFgsUUFBQWlCLFVBQ0FwTixRQUFBMk8sS0FBQUUsV0FBQTNLLFNBQUE1TixLQUFBLFNBQUF5SCxVQUVBLEdBQUEwRixZQUNBQyxZQUNBekMsWUFBQXhNLE9BQUE2TyxNQUFBckMsWUFDQW1KLEtBQUEzVixPQUFBNk8sTUFBQUMsS0FBQTZHLEtBQ0FLLFVBQUFoVyxPQUFBNk8sTUFBQW1ILFVBQ0FJLFdBQUFwVyxPQUFBNk8sTUFBQXVILFdBQ0FSLFlBQUE1VixPQUFBNk8sTUFBQStHLFlBQ0E1VCxRQUFBaEMsT0FBQWtQLGVBQUFsTixRQUNBa1UsVUFBQTVNLFNBQUE0TSxVQUNBTCxnQkFBQTdWLE9BQUE2TyxNQUFBZ0gsZ0JBQ0FDLFlBQUE5VixPQUFBNk8sTUFBQWlILFlBQ0FDLGFBQUEvVixPQUFBNk8sTUFBQWtILGFBQ0ExSixjQUFBdEIsV0FBQXNCLGVBRUF5QyxLQUFBOU8sT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLGNBQ0E3VyxPQUFBa21CLFlBQUF2akIsS0FBQTZULFdBQ0F4VyxPQUFBZ00sVUFBQXJKLEtBQUE2VCxXQUNBM0wsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0EsSUFBQXdLLFVBQUFoSyxhQUFBeE0sT0FBQW1tQixlQUFBeGpCLEtBQUE2VCxXQUNBeFcsT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUErbEIsd0JBQUEsR0FDQSxTQUFBL2tCLGVBQ0FoQixPQUFBK2xCLHdCQUFBLEVBQ0FyYyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0FoQixPQUFBK2xCLHdCQUFBLEVBQ0FyYyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLG1CQUtBa0ksT0FBQSxvQ0FLQTlSLE9BQUFxYSxTQUFBLFNBQUFaLE9BQ0EsR0FBQSxHQUFBelosT0FBQTZPLE1BQUFyQyxZQUFBLENBRUEsR0FBQXJMLEdBQUFuQixPQUFBMFEsU0FBQUMsV0FDQW5MLEVBQUF4RixPQUFBMFEsU0FBQUUsUUFDQSxJQUFBLEdBQUFSLE1BQUE1SyxHQUFBLEdBQUE0SyxNQUFBalAsR0FBQSxDQUNBc1ksT0FBQSxDQUNBLElBQUFDLFNBQUF0WixVQUFBbUIsTUFDQXpCLFNBQUEseVFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBK1gsU0FBQTlYLE9BQUFDLEtBQUEsV0FDQTRYLE9BQUEsS0FJQSxHQUFBQSxNQUFBLENBQ0F6WixPQUFBK2xCLHdCQUFBLENBRUEsRUFBQS9sQixPQUFBNk8sTUFBQWdJLGNBR0EsR0FGQTNXLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBUyxTQUFBcEIsT0FBQTBRLFNBQUF5RixhQUFBLENBR0EsR0FBQSxPQUFBblcsT0FBQTBRLFNBQUE0SSxVQUFBLENBRUEsR0FBQU0sa0JBQUEsR0FBQXhKLE1BQUFwUSxPQUFBMFEsU0FBQUMsWUFBQWtKLGNBQ0FDLGVBQUEsR0FBQTFKLE1BQUFwUSxPQUFBMFEsU0FBQUUsVUFBQWlKLGFBQ0E3WixRQUFBMFEsU0FBQUMsV0FBQWlKLGlCQUNBNVosT0FBQTBRLFNBQUFFLFNBQUFrSixlQUNBOVosT0FBQTBRLFNBQUE0SSxVQUFBLFVBQ0EsQ0FFQSxHQUFBUyxJQUFBL1osT0FBQTBRLFNBQUFDLFdBQUEyRCxXQUFBcEssUUFBQSxPQUFBLEVBQ0E4UCxHQUFBaGEsT0FBQTBRLFNBQUFFLFNBQUEwRCxXQUFBcEssUUFBQSxPQUFBLENBQ0FsSyxRQUFBMFEsU0FBQUMsV0FBQTNRLE9BQUEwUSxTQUFBQyxXQUFBMkQsV0FBQThELFVBQUEsRUFBQTJCLElBQ0EvWixPQUFBMFEsU0FBQUUsU0FBQTVRLE9BQUEwUSxTQUFBRSxTQUFBMEQsV0FBQThELFVBQUEsRUFBQTRCLElBRUEzTyxVQUFBaVAsUUFBQXZZLEdBQUEvQixPQUFBMFEsU0FBQXlGLGNBQUFuVyxPQUFBMFEsVUFBQWpCLFNBQUE1TixLQUFBLFdBQ0F5SixLQUFBZ1AsUUFBQXZZLEdBQUEvQixPQUFBNk8sTUFBQTZHLFNBQUExVixPQUFBNk8sT0FBQVksU0FBQTVOLEtBQUEsU0FBQTBZLGNBQ0E3USxPQUFBK00sUUFBQSxnQkFDQThELGFBQUExRCxjQUFBLGdCQUNBN1csT0FBQWttQixZQUFBbG1CLE9BQUErVyxnQkFBQXdELGFBQ0F2YSxPQUFBZ00sVUFBQWhNLE9BQUFnWCxlQUFBdUQsYUFDQTFQLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUErbEIsd0JBQUEsR0FDQSxTQUFBL2tCLGVBQ0FoQixPQUFBK2xCLHdCQUFBLEVBQ0FyYyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxzQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSxzQkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0FoQixPQUFBK2xCLHdCQUFBLEVBQ0FyYyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxrQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxrQ0FBQU8sY0FBQTRJLGtCQUVBLENBR0EsR0FBQXdRLFlBQUE1QixZQUFBeFksT0FBQTBYLFFBQUFhLFNBQUFJLFVBQUEzWSxPQUFBMFgsUUFBQWlCLFVBQ0FwTixRQUFBMk8sS0FBQUUsV0FBQTNLLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBdEosT0FBQTZPLE1BQUFxSCxVQUFBNU0sU0FBQTRNLFVBQ0E1SyxLQUFBZ1AsUUFBQXZZLEdBQUEvQixPQUFBNk8sTUFBQTZHLFNBQUExVixPQUFBNk8sT0FBQVksU0FBQTVOLEtBQUEsU0FBQTBZLGNBQ0E3USxPQUFBK00sUUFBQSxnQkFDQThELGFBQUExRCxjQUFBLGNBQ0E3VyxPQUFBa21CLFlBQUFsbUIsT0FBQStXLGdCQUFBd0QsYUFDQXZhLE9BQUFnTSxVQUFBaE0sT0FBQWdYLGVBQUF1RCxhQUNBMVAsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0FoTSxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQStsQix3QkFBQSxHQUNBLFNBQUEva0IsZUFDQWhCLE9BQUErbEIsd0JBQUEsRUFDQXJjLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHNCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUErbEIsd0JBQUEsRUFDQXJjLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBd2EsV0FBQSxXQUNBLEdBQUFDLHFCQUFBcmEsVUFBQW1CLE1BQ0FtWixTQUFBLFNBQ0FDLFVBQUEsRUFDQUMsWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBNk8sT0FFQWlNLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGdCQUNBelcsT0FBQWttQixZQUFBL2IsT0FBQW5LLE9BQUErVyxlQUFBLEdBQ0EvVyxPQUFBZ00sVUFBQTdCLE9BQUFuSyxPQUFBZ1gsY0FBQSxHQUNBaFgsT0FBQW1tQixlQUFBaGMsT0FBQW5LLE9BQUE4VyxrQkFBQSxHQUNBak0sV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0FoTSxPQUFBeU0sY0FBQSxHQUNBLFNBQUF6TCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxpQkFLQTVKLE9BQUFnYixXQUFBLFdBQ0FoYixPQUFBNk8sU0FDQTdPLE9BQUEwWCxXQUNBMVgsT0FBQTBRLFlBQ0ExUSxPQUFBeU0sY0FBQSxFQUNBek0sT0FBQWdtQixnQkFBQSxFQUNBaG1CLE9BQUFpbUIsY0FBQSxFQUNBam1CLE9BQUFzbUIsa0JBQ0F0bUIsT0FBQXVtQixPQUFBaGUsVUFBQSxJQUlBdkksT0FBQXdwQixVQUFBLFdBRUEsR0FBQUMsUUFBQXpwQixPQUFBMFEsU0FDQWdaLGFBQUF0cEIsVUFBQW1CLE1BQ0F6QixTQUFBLHdVQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sUUFBQSxXQUVBL1AsT0FBQTJwQixVQUFBLFdBRUFub0Isa0JBQUFFLE1BQUErbkIsV0FHQTluQixLQUFBLE1BRUErbkIsY0FBQTluQixPQUFBQyxLQUFBLFNBQUFnWCxJQUNBM1ksTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQW9GLFVBQUFtZSxXQUFBem5CLEdBQUE4VyxHQUFBMUMsZUFBQTFHLFNBQUE1TixLQUFBLFNBQUFnYSxrQkFDQWhELEdBQUFpRCxZQUFBRCxpQkFBQUMsWUFDQTliLE9BQUEwUSxTQUFBbUksR0FDQW5QLE9BQUErTSxRQUFBLHNCQUNBelcsT0FBQWtwQixhQUFBRSxhQUFBLEdBQUFoWixNQUFBeUwsaUJBQUF3TixlQUNBcnBCLE9BQUFrcEIsYUFBQUksT0FBQXBlLFdBQUFpQixPQUFBLFNBQUFvZCxNQUFBLE1BQUFBLE1BQUF4USxXQUFBOEMsaUJBQUE5QyxZQUFBLElBQ0EsU0FBQS9YLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw4QkFBQU8sY0FBQTRJLGlCQU1BNUosT0FBQTRwQixZQUFBLFdBRUEsR0FBQUgsUUFBQXpwQixPQUFBMFEsU0FDQW1aLGVBQUF6cEIsVUFBQW1CLE1BQ0F6QixTQUFBLG1WQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sUUFBQSxXQUVBL1AsT0FBQThwQixZQUFBLFdBRUF0b0Isa0JBQUFFLE1BQUErbkIsV0FHQTluQixLQUFBLE1BRUFrb0IsZ0JBQUFqb0IsT0FBQUMsS0FBQSxTQUFBZ1gsSUFDQTNZLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FvRixVQUFBdWUsYUFBQTduQixHQUFBOFcsR0FBQTFDLGVBQUExRyxTQUFBNU4sS0FBQSxXQUNBZ1gsR0FBQWlELFlBQUEsS0FDQTliLE9BQUEwUSxTQUFBbUksR0FDQW5QLE9BQUErTSxRQUFBLHdCQUNBelcsT0FBQWtwQixpQkFDQSxTQUFBbG9CLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxnQ0FBQU8sY0FBQTRJLGlCQU1BNUosT0FBQStwQixhQUFBLFdBRUEsR0FBQTNvQixTQUFBcEIsT0FBQXdtQixtQkFBQXpJLGtCQUFBM2MsU0FBQXBCLE9BQUFxbkIsb0JBQUF0SixpQkFDQSxHQUFBLFFBQUEvZCxPQUFBNk8sTUFBQW1iLGNBQUEsQ0FFQSxHQUFBQyxZQUFBN3BCLFVBQUFtQixNQUNBbVosU0FBQSxTQUNBQyxVQUFBLEVBQ0E3YSxTQUFBLGdiQUdBQyxZQUFBLFNBQUEsb0JBQUEsVUFBQSxTQUFBQyxPQUFBd0Isa0JBQUEwb0IsU0FDQWxxQixPQUFBbXFCLEdBQUEsV0FDQTNvQixrQkFBQXVPLFdBRUEvUCxPQUFBb3FCLElBQUEsV0FDQTVvQixrQkFBQUUsTUFBQXdvQixZQUdBdm9CLEtBQUEsS0FDQXFPLFNBQ0FrYSxRQUFBLFdBQ0EsTUFBQWxxQixRQUFBNk8sU0FJQW9iLFlBQUFyb0IsT0FBQUMsS0FBQSxTQUFBd29CLE9BQ0FycUIsT0FBQWdtQixnQkFBQSxFQUVBOWxCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFdBQ0EsSUFBQXFrQixvQkFBQXRxQixPQUFBa21CLFlBQUEvWixPQUFBLFNBQUErTyxHQUFBLE1BQUFBLEdBQUE4TyxlQUFBSyxNQUFBM1UsUUFBQXBCLGFBQ0FpVyxTQUFBLENBQ0EsSUFBQUQscUJBRUFqZixVQUFBMGUsY0FBQVMsUUFBQUgsTUFBQWxVLGFBQUFzVSxTQUFBMWtCLFNBQUFFLElBQUEsaUJBQUF3SixTQUFBNU4sS0FBQSxXQUNBN0IsT0FBQWdtQixnQkFBQSxHQUNBLFNBQUFobEIsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDZCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDZCQUFBTyxjQUFBNEksY0FFQXFiLFlBQUF5RixtQkFBQSxRQUNBMXFCLE9BQUFnYixjQUVBaGIsT0FBQWttQixZQUFBN2IsUUFBQSxTQUFBNlEsR0FDQUEsRUFBQThPLGVBQUFLLE1BQUEzVSxRQUFBcEIsWUFDQWhKLEtBQUFBLFdBQUF2SixHQUFBbVosRUFBQXhGLFVBQUFqRyxTQUFBNU4sS0FBQSxXQUNBMG9CLFdBQ0F2cUIsT0FBQWttQixZQUFBL2IsT0FBQW5LLE9BQUErVyxlQUFBLEdBQ0EvVyxPQUFBZ00sVUFBQTdCLE9BQUFuSyxPQUFBZ1gsY0FBQSxHQUNBaFgsT0FBQW1tQixlQUFBaGMsT0FBQW5LLE9BQUE4VyxrQkFBQSxHQUNBak0sV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0F1ZSxVQUFBRCxtQkFBQTVrQixTQUVBMkYsVUFBQTBlLGNBQUFTLFFBQUFILE1BQUFsVSxhQUFBc1UsU0FBQTFrQixTQUFBRSxJQUFBLGlCQUFBd0osU0FBQTVOLEtBQUEsV0FDQTdCLE9BQUFnbUIsZ0JBQUEsR0FDQSxTQUFBaGxCLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw2QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw2QkFBQU8sY0FBQTRJLGNBRUFxYixZQUFBeUYsbUJBQUEsUUFDQTFxQixPQUFBZ2IsZUFFQSxTQUFBaGEsZUFDQTBJLE9BQUFDLE1BQUEsK0JBQUEzSSxjQUFBNEksc0JBT0E1SixRQUFBZ21CLGdCQUFBLEVBQ0EzYSxVQUFBMGUsY0FBQVMsUUFBQXhxQixPQUFBMFEsU0FBQXlGLGFBQUFzVSxTQUFBMWtCLFNBQUFFLElBQUEsaUJBQUF3SixTQUFBNU4sS0FBQSxXQUNBN0IsT0FBQWdtQixnQkFBQSxHQUNBLFNBQUFobEIsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDZCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDZCQUFBTyxjQUFBNEksY0FFQXFiLFlBQUF5RixtQkFBQSxRQUNBMXFCLE9BQUFnYixpQkFHQSxDQUFBNWEsVUFBQW1CLE1BQ0F6QixTQUFBLHlhQUlBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsU0FrQkEzQixPQUFBMnFCLGlCQUFBLFdBQ0EzcUIsT0FBQWltQixjQUFBLENBRUFyb0IsU0FBQXlNLFFBQUEyYSxrQkFBQSxTQUFBbk0sSUFDQUEsR0FBQXRRLFVBQUEsRUFDQXNRLEdBQUErUixTQUFBMUYsYUFBQXJNLEdBQUEvQyxZQUFBK0MsR0FBQTlDLGVBQ0EzVSxTQUFBeVgsR0FBQW1SLGVBQUEsUUFBQW5SLEdBQUFtUixnQkFDQWhxQixPQUFBc21CLGVBQUEzakIsS0FBQWtXLE1BR0E3WSxPQUFBc21CLGVBQUF1RSxLQUFBLFNBQUFuUyxFQUFBb1MsR0FDQSxNQUFBQyxZQUFBclMsRUFBQWtTLFVBQUFHLFdBQUFELEVBQUFGLGFBTUE1cUIsT0FBQXdILFFBQUEsU0FBQUMsaUJBQ0F6SCxPQUFBMEgsY0FBQUQsa0JBQ0F6SCxPQUFBMkgsU0FBQTNILE9BQUEySCxTQUVBM0gsT0FBQTBILGFBQUFELGdCQUVBRyxFQUFBLFFBQUFDLEtBQUEsV0FFQUQsRUFBQW5DLE1BQUFxQyxjQUFBQyxTQUFBLDhCQUdBSCxFQUFBLE1BQUFILGdCQUFBLE1BQUFLLGNBQUFDLFNBREEvSCxPQUFBMkgsUUFDQSxpQ0FFQSxxQ0FJQTNILE9BQUFnckIsWUFDQUMsWUFBQSxFQUNBQyxrQkFBQSxLQUdBbHJCLE9BQUFtckIsYUFBQSxHQUdBbnJCLE9BQUFvckIsa0JBQUEsU0FBQTFTLEdBQ0F2RSxRQUFBQyxJQUFBLG9CQUFBcFUsT0FBQWdyQixXQUFBQyxhQUNBanJCLE9BQUFxckIsWUFBQXJyQixPQUFBZ3JCLFdBQUFDLFlBQUEsR0FBQWpyQixPQUFBbXJCLGFBQ0FuckIsT0FBQXNyQixVQUFBdHJCLE9BQUFnckIsV0FBQUMsWUFBQWpyQixPQUFBbXJCLGNBRUFuckIsT0FBQW9yQixvQkFJQXByQixPQUFBdXJCLHFCQUFBLFNBQUFDLE9BQ0EsSUFBQSxHQUFBcmpCLEdBQUEsRUFBQUEsRUFBQW5JLE9BQUFzbUIsZUFBQTVnQixPQUFBeUMsSUFDQXFqQixNQUFBclYsY0FBQW5XLE9BQUFzbUIsZUFBQW5lLEdBQUFnTyxlQUNBblcsT0FBQXNtQixlQUFBbmUsR0FBQUksU0FBQSxTQUlBLElBQUFrakIsbUJBQUEsU0FBQUMsT0FDQXZnQixXQUFBd2dCLG1CQUFBNXBCLEdBQUEycEIsTUFBQXJmLGdCQUFBb0QsU0FBQTVOLEtBQUEsU0FBQStwQixXQUNBLEdBQ0FDLFVBREFELFVBQUExSyxrQkFDQWxoQixPQUFBMFEsU0FBQXlGLGNBQ0EyVixRQUFBOXJCLE9BQUF1bUIsTUFBQWhlLFFBRUE4QyxXQUFBMGdCLGdCQUFBQyxRQUFBSCxRQUFBckIsUUFBQWtCLE1BQUF2VixhQUFBOFYsTUFBQUgsUUFBQXJCLFNBQUExa0IsU0FBQUUsSUFBQSxpQkFBQXdKLFNBQUE1TixLQUFBLGFBRUEsU0FBQWIsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDZCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDZCQUFBTyxjQUFBNEksY0FFQXFiLFlBQUF5RixtQkFBQSxRQUNBMXFCLE9BQUFnYixjQUNBLFNBQUFyUixPQUNBRCxPQUFBQyxNQUFBLGdDQUFBQSxNQUFBQyxjQXNSQSxJQWpSQTVKLE9BQUErckIsZUFBQSxXQUNBLEdBQUFMLE9BQUExckIsT0FBQXNtQixlQUFBbmEsT0FBQSxTQUFBN00sR0FBQSxNQUFBLFFBQUFBLEVBQUFpSixXQUFBLEVBQ0EsSUFBQW5ILFNBQUFzcUIsTUFBQSxDQUdBLEdBQUFRLFdBQUFsc0IsT0FBQWttQixZQUFBL1osT0FBQSxTQUFBK08sR0FBQSxNQUFBQSxHQUFBL0UsY0FBQW5XLE9BQUEwUSxTQUFBeUYsZUFBQSxHQUNBZ1csVUFBQUQsVUFBQXhXLFFBQUEsSUFBQWdXLE1BQUFoVyxRQUNBMFcsWUFBQSxDQU1BLElBSkFwc0IsT0FBQWttQixZQUFBN2IsUUFBQSxTQUFBZ2lCLFVBQ0FBLFNBQUFyQyxlQUFBbUMsWUFDQUMsWUFBQSxLQUVBQSxXQUFBLENBRUEsR0FBQUUsaUJBQUFsc0IsVUFBQW1CLE1BQ0FtWixTQUFBLFNBQ0FDLFVBQUEsRUFDQTdhLFNBQUEsMGNBR0FDLFlBQUEsU0FBQSxvQkFBQSxhQUFBLGVBQUEsU0FBQUMsT0FBQXdCLGtCQUFBK3FCLFdBQUFDLGNBQ0F4c0IsT0FBQW1xQixHQUFBLFdBQ0Ezb0Isa0JBQUF1TyxXQUVBL1AsT0FBQW9xQixJQUFBLFdBQ0EsR0FBQXFDLGFBQUFGLFdBQUFDLGFBQ0FockIsbUJBQUFFLE1BQUErcUIsZUFHQTlxQixLQUFBLEtBQ0FxTyxTQUNBdWMsV0FBQSxXQUNBLE1BQUFiLFFBRUFjLGFBQUEsV0FDQSxNQUFBTixjQUlBSSxpQkFBQTFxQixPQUFBQyxLQUFBLFNBQUE2cUIsV0FDQTFzQixPQUFBZ21CLGdCQUFBLEVBRUE5bEIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsV0FDQSxJQUFBcWtCLG9CQUFBdHFCLE9BQUFrbUIsWUFBQS9aLE9BQUEsU0FBQStPLEdBQUEsTUFBQUEsR0FBQThPLGVBQUEwQyxVQUFBLEdBQUFoWCxRQUFBcEIsV0FBQSxJQUFBb1ksVUFBQSxHQUFBaFgsUUFBQXBCLGFBQ0FpVyxTQUFBLENBQ0F2cUIsUUFBQWttQixZQUFBN2IsUUFBQSxTQUFBNlEsR0FDQSxHQUFBQSxFQUFBOE8sZUFBQTBDLFVBQUEsR0FBQWhYLFFBQUFwQixXQUFBLElBQUFvWSxVQUFBLEdBQUFoWCxRQUFBcEIsV0FBQSxDQUNBLENBQUE0RyxFQUFBeEYsUUFDQXBLLEtBQUFBLFdBQUF2SixHQUFBbVosRUFBQXhGLFVBQUFqRyxTQUFBNU4sS0FBQSxXQUNBMG9CLFdBQ0F2cUIsT0FBQWttQixZQUFBL2IsT0FBQW5LLE9BQUErVyxlQUFBLEdBQ0EvVyxPQUFBZ00sVUFBQTdCLE9BQUFuSyxPQUFBZ1gsY0FBQSxHQUNBaFgsT0FBQW1tQixlQUFBaGMsT0FBQW5LLE9BQUE4VyxrQkFBQSxHQUNBak0sV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0F1ZSxVQUFBRCxtQkFBQTVrQixRQUNBK2xCLGtCQUFBQyxRQUVBLFNBQUExcUIsZUFDQTBJLE9BQUFDLE1BQUEsK0JBQUEzSSxjQUFBNEksdUJBT0E2aEIsbUJBQUFDLFdBS0EsQ0FBQXRyQixVQUFBbUIsTUFDQXpCLFNBQUEsZ1JBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxTQUtBM0IsT0FBQTJzQixrQkFBQSxFQUNBM3NCLE9BQUE0c0Isd0JBQ0E1c0IsT0FBQTZzQixpQkFDQTdzQixPQUFBbU8sYUFDQUMsTUFBQUMsVUFBQUMsSUFBQSxTQUFBQyxLQUNBLE1BQUE5SSxNQUFBK0ksSUFBQSxTQUFBaEosRUFBQTJDLEdBQ0EsT0FBQTNDLEVBQUErSSxJQUFBcEcsT0FLQW5JLE9BQUF5TyxXQUFBLFdBU0EsR0FSQXpPLE9BQUFtTyxhQUNBbk8sT0FBQTZzQixpQkFDQTdzQixPQUFBMnNCLGtCQUFBLEVBQ0Ezc0IsT0FBQTRzQix3QkFDQTVzQixPQUFBME8sV0FDQTFPLE9BQUEwTyxTQUFBQyxNQUFBLEdBQUFDLGVBQUEsU0FDQTVPLE9BQUEwTyxTQUFBQyxNQUFBLEdBQUFDLGVBQUEsUUFFQXhOLFNBQUFwQixPQUFBNk8sTUFBQUMsS0FBQSxDQUNBNU8sTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsa0JBQ0EsSUFBQXFPLFlBQ0FDLFlBQ0FqTixRQUFBaEMsT0FBQWtQLGVBQUFsTixRQUNBcUssY0FBQXRCLFdBQUFzQixlQUVBeUMsS0FBQTlPLE9BQUE2TyxNQUFBQyxNQUdBSyxHQUFBLEdBQUFDLFNBQ0FELElBQUFwUSxPQUFBLGFBQUFzUSxLQUFBQyxVQUFBTixVQUFBQyxhQUNBRSxHQUFBcFEsT0FBQSxPQUFBaVEsVUFBQUYsTUFDQTlPLE9BQUF1UCxnQkFBQSxFQUNBbEUsVUFBQW1FLGlCQUFBTCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBeUgsVUFHQSxHQUZBdEosT0FBQXVQLGdCQUFBLEVBQ0F2UCxPQUFBNHNCLHFCQUFBbGQsT0FBQUMsS0FBQXJHLFVBQ0FBLFNBQUFzRyxNQUNBLENBQUEsR0FBQUMsY0FBQXZHLFNBQUFzRyxLQUNBeFAsV0FBQW1CLE1BQ0F6QixTQUFBLDBSQUdBQyxZQUFBLFNBQUEsb0JBQUEsVUFBQSxTQUFBQyxPQUFBd0Isa0JBQUFzTyxTQUNBOVAsT0FBQTZQLGFBQUFDLFFBQ0E5UCxPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQXVPLGFBR0FDLFNBQ0FGLFFBQUEsV0FDQSxNQUFBRCxnQkFHQWxPLEtBQUEsV0FHQTNCLFFBQUFtTyxVQUFBN0UsU0FBQTJHLEtBQUEzQixJQUFBaEYsU0FBQTRHLFVBQ0FsUSxPQUFBNnNCLGVBQ0FudUIsT0FDQW1TLFFBQ0FDLEtBQUEsV0FDQTlRLE9BQUEwTyxTQUFBakosT0FHQXNMLFNBQUEsSUFDQUssU0FBQSxFQUNBQyxPQUFBLFNBRUFDLGVBQUEsSUFDQUMsYUFDQUMsUUFDQVgsUUFDQVksTUFBQSxTQUFBdlAsT0FDQSxHQUFBd1AsWUFBQXRSLFVBQUFtQixNQUNBekIsU0FBQSw0bUJBT0FDLFlBQUEsU0FBQSxvQkFBQSxhQUFBLFNBQUEsU0FBQUMsT0FBQXdCLGtCQUFBbVEsV0FBQUMsUUFDQTVSLE9BQUF5QixHQUFBLFdBQ0EsR0FBQSxJQUFBekIsT0FBQTZSLFVBQUFDLE1BQUEsc0JBQ0EsQ0FDQSxHQUFBQyxRQUFBL1IsT0FBQTZSLFVBQUFGLFdBQUFDLE9BQ0FwUSxtQkFBQUUsTUFBQXFRLFNBR0EvUixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUF1TyxXQUVBL1AsT0FBQTZSLFVBQUEsR0FDQTdSLE9BQUFpUyxTQUFBLEdBQUE3QixNQUFBdUIsY0FFQTNCLFNBQ0EyQixXQUFBelAsTUFBQWdRLE1BQUFDLFNBQ0FQLE9BQUExUCxNQUFBa1EsUUFFQXpRLEtBQUEsTUFFQStQLFlBQUE5UCxPQUFBQyxLQUFBLFNBQUFrUSxPQUNBLEdBQUFyVCxPQUFBc0IsT0FBQTBPLFNBQUFDLE1BQUEsRUFFQWpRLE9BQUFrUSxlQUFBbUQsTUFBQSxJQUVBclQsTUFBQTJULGFBQ0F2TyxNQUFBcEYsTUFBQTRULFFBQUFQLE1BQUEsSUFDQVEsTUFBQSxTQUFBUixNQUFBLEdBQUEsVUFBQSxVQUNBUyxNQUFBLEVBQ0F6USxHQUFBZ1EsTUFBQSxHQUNBVSxPQUFBLE1BQ0FDLE9BQUFuVCxLQUFBd1MsTUFBQSxLQUVBLElBQUFZLFNBQUEsR0FBQXZDLE1BQUEyQixNQUFBLElBQUExQixjQUNBL1EsRUFBQWtSLGlCQUFBbUMsUUFDQSxVQUFBWixNQUFBLEdBQUEvUixPQUFBMFEsU0FBQUMsV0FBQXJSLEVBQ0FVLE9BQUEwUSxTQUFBRSxTQUFBdFIsTUFJQXNULGtCQUFBLEVBQ0FDLE9BQUEsVUFDQVgsT0FDQXJCLFFBQ0FpQyxVQUFBLFdBQ0FyTixLQUFBK0wsT0FBQXVCLE1BQ0F0TixLQUFBK0wsT0FBQXVCLEtBQUEvVCxNQUFBZ1UsUUFBQSx1QkFBQUMsYUFLQUMsUUFDQUMsU0FBQSxLQUlBQyxPQUNBN1QsS0FBQSw0QkFFQThULFVBQ0E5VCxLQUFBLDhHQUVBb1AsT0FDQXlFLE9BQ0E3VCxLQUFBUyxPQUFBNHNCLHFCQUFBLElBRUF0WixLQUFBLFdBQ0FDLHNCQUNBQyxPQUFBLHdCQUNBQyxPQUFBLHFCQUNBQyxLQUFBLHFCQUNBQyxJQUFBLGVBQ0FDLEtBQUEsZUFDQUMsTUFBQSxRQUNBQyxLQUFBLE1BRUFDLE9BQUEsSUFFQUMsT0FDQVosT0FDQTdULEtBQUFTLE9BQUE0c0IscUJBQUEsSUFFQTNZLFFBQ0FDLE9BQUEsZUFFQUgsT0FBQSxJQUVBdkMsU0FDQWxULEtBQUEwQixPQUFBbU8sYUFJQW5PLE9BQUEyc0Isa0JBQUEsR0FFQSxTQUFBaGpCLE9BQ0F3SyxRQUFBQyxJQUFBekssYUFJQW1JLE9BQUEsb0NBTUE5UixPQUFBNE4sZUFBQSxDQUVBNU4sT0FBQW1iLGtCQUNBLEtBQUEsR0FBQW9ILElBQUF2aUIsT0FBQWttQixZQUFBeGdCLE9BQUEsRUFBQTZjLElBQUEsRUFBQUEsS0FDQSxHQUFBdmlCLE9BQUFrbUIsWUFBQTNELElBQUFsTSxVQUNBclcsT0FBQW1iLGdCQUFBeFksS0FBQTNDLE9BQUFrbUIsWUFBQTNELEtBQ0F2aUIsT0FBQWttQixZQUFBL2IsT0FBQW9ZLEdBQUEsR0FHQSxJQUFBbkosSUFBQUMsa0JBQ0FyWixRQUFBb2IsWUFDQXBiLE9BQUFzYixVQUVBdGIsT0FBQWliLGFBQUEsU0FBQUMsR0FFQWxiLE9BQUErVyxlQUFBLEdBQ0EvVyxPQUFBZ1gsY0FBQSxHQUNBLElBQUFrRSxHQUVBbGIsT0FBQStXLGVBQUEvVyxPQUFBbWIsZ0JBQUFqUixRQUFBZ1IsR0FDQWxiLE9BQUFnWCxjQUFBaFgsT0FBQWdNLFVBQUE5QixRQUFBZ1IsR0FDQWxiLE9BQUFvYixTQUFBeGQsUUFBQStaLEtBQUF1RCxHQUNBbGIsT0FBQW9iLFNBQUFwRixVQUFBLEdBQUE1RixNQUFBcFEsT0FBQW9iLFNBQUFwRixXQUNBaFcsT0FBQW9iLFNBQUFDLFNBQUEsT0FDQWhRLFVBQUFpTixPQUFBdlcsR0FBQW1aLEVBQUEvRSxlQUFBMUcsU0FBQTVOLEtBQUEsU0FBQWdYLElBQ0E3WSxPQUFBc2IsT0FBQXpDLEdBQ0E3WSxPQUFBdWIsY0FBQXJRLFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBL1ksT0FBQXNiLE9BQUF0QyxlQUFBLEdBQ0FoWixPQUFBc2IsT0FBQXJDLGFBQUEsR0FBQTdJLE1BQUFwUSxPQUFBc2IsT0FBQXJDLGNBQ0FqWixPQUFBc2IsT0FBQTNLLFdBQUFILGlCQUFBeFEsT0FBQXNiLE9BQUEzSyxZQUNBM1EsT0FBQXNiLE9BQUExSyxTQUFBSixpQkFBQXhRLE9BQUFzYixPQUFBMUssV0FDQSxTQUFBNVAsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDRCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDRCQUFBTyxjQUFBNEksZ0JBS0E1SixPQUFBb2IsVUFDQXBGLFVBQUEsR0FBQTVGLE1BQ0E1RCxZQUFBLEVBQ0FtSixLQUFBLDhDQUFBM1YsT0FBQWtQLGVBQUFzTSxTQUNBclYsS0FBQSxTQUNBa1YsU0FBQSxPQUNBclosUUFBQWhDLE9BQUF3SSxPQUFBeEcsUUFDQW1VLGFBQUEsRUFDQTlKLGNBQUFyTSxPQUFBd0ksT0FBQTZELGNBQ0FnSyxRQUFBLEdBRUFyVyxPQUFBc2IsUUFDQXRDLGFBQUFqVCxTQUFBRSxJQUFBLE9BQ0FvRyxjQUFBck0sT0FBQXdJLE9BQUE2RCxjQUNBNE0sYUFBQUcsR0FBQSxHQUNBRSxVQUFBRixHQUFBLEdBQ0F6SSxXQUFBLEdBQUFQLE1BQ0FRLFNBQUEsR0FBQVIsT0FFQXBRLE9BQUF1YixjQUFBclEsV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUFoVCxTQUFBRSxJQUFBLFNBQUEsSUFFQWpHLE9BQUEwTSxrQkFBQSxFQUVBLElBQUFnUCx5QkFBQSxTQUFBQyxNQUNBdFEsVUFBQXVRLGVBQUE3WixHQUFBNFosT0FBQWxNLFNBQUE1TixLQUFBLFNBQUFnYSxrQkFDQTdiLE9BQUFvYixTQUFBVSxZQUFBRCxpQkFBQUMsYUFDQSxTQUFBOWEsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG1DQUFBTyxjQUFBNEksY0FHQTVKLFFBQUErYixlQUFBLFNBQUF0QyxPQUVBLEdBQUF0WSxHQUFBbkIsT0FBQXNiLE9BQUEzSyxXQUNBbkwsRUFBQXhGLE9BQUFzYixPQUFBMUssUUFDQSxJQUFBLEdBQUFSLE1BQUE1SyxHQUFBLEdBQUE0SyxNQUFBalAsR0FBQSxDQUNBc1ksT0FBQSxDQUNBLElBQUFDLFNBQUF0WixVQUFBbUIsTUFDQXpCLFNBQUEseVFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBK1gsU0FBQTlYLE9BQUFDLEtBQUEsV0FDQTRYLE9BQUEsSUFHQSxHQUFBQSxNQUFBLENBS0EsR0FKQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUdBLE9BQUFYLE9BQUFzYixPQUFBaEMsVUFBQSxDQUVBLEdBQUFNLGtCQUFBLEdBQUF4SixNQUFBcFEsT0FBQXNiLE9BQUEzSyxZQUFBa0osY0FDQUMsZUFBQSxHQUFBMUosTUFBQXBRLE9BQUFzYixPQUFBMUssVUFBQWlKLGFBQ0E3WixRQUFBc2IsT0FBQTNLLFdBQUFpSixpQkFDQTVaLE9BQUFzYixPQUFBMUssU0FBQWtKLGVBQ0E5WixPQUFBc2IsT0FBQWhDLFVBQUEsVUFDQSxDQUVBLEdBQUFTLElBQUEvWixPQUFBc2IsT0FBQTNLLFdBQUEyRCxXQUFBcEssUUFBQSxPQUFBLEVBQ0E4UCxHQUFBaGEsT0FBQXNiLE9BQUExSyxTQUFBMEQsV0FBQXBLLFFBQUEsT0FBQSxDQUNBbEssUUFBQXNiLE9BQUEzSyxXQUFBM1EsT0FBQXNiLE9BQUEzSyxXQUFBMkQsV0FBQThELFVBQUEsRUFBQTJCLElBQ0EvWixPQUFBc2IsT0FBQTFLLFNBQUE1USxPQUFBc2IsT0FBQTFLLFNBQUEwRCxXQUFBOEQsVUFBQSxFQUFBNEIsSUFFQSxHQUFBQyxZQUFBLENBQ0E1TyxXQUFBNk8sS0FBQWxhLE9BQUFzYixRQUFBN0wsU0FBQTVOLEtBQUEsU0FBQW9hLGFBQ0FoQyxXQUFBZ0MsWUFBQTlGLGFBRUFuVyxPQUFBb2IsU0FBQWpGLGFBQUE4RixZQUFBOUYsYUFDQXVGLHdCQUFBTyxZQUFBOUYsY0FFQTdLLEtBQUE0TyxLQUFBbGEsT0FBQW9iLFVBQUEzTCxTQUFBNU4sS0FBQSxTQUFBcWEsV0FDQXhTLE9BQUErTSxRQUFBLG1CQUNBeUYsVUFBQXJGLGNBQUEsZ0JBRUE3VyxPQUFBbWIsZ0JBQUF4WSxLQUFBdVosV0FDQWxjLE9BQUFnTSxVQUFBckosS0FBQXVaLFdBQ0FyUixXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUEwTSxrQkFBQSxHQUNBLFNBQUExTCxlQUVBcUssVUFBQUEsV0FBQXRKLEdBQUFrWSxhQUNBamEsT0FBQW9iLFlBQUFwYixPQUFBc2IsVUFBQXRiLE9BQUEwTSxrQkFBQSxFQUNBaEQsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0STs7SUFFQSxTQUFBNUksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG9DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG9DQUFBTyxjQUFBNEksZ0JBS0E1SixPQUFBbWMsYUFBQSxTQUFBMUMsT0FFQSxHQUFBdFksR0FBQW5CLE9BQUFzYixPQUFBM0ssV0FDQW5MLEVBQUF4RixPQUFBc2IsT0FBQTFLLFFBQ0EsSUFBQSxHQUFBUixNQUFBNUssR0FBQSxHQUFBNEssTUFBQWpQLEdBQUEsQ0FDQXNZLE9BQUEsQ0FDQSxJQUFBQyxTQUFBdFosVUFBQW1CLE1BQ0F6QixTQUFBLHlRQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQStYLFNBQUE5WCxPQUFBQyxLQUFBLFdBQ0E0WCxPQUFBLElBR0EsR0FBQUEsTUFBQSxDQUtBLEdBSEF2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFFQSxPQUFBWCxPQUFBc2IsT0FBQWhDLFVBQUEsQ0FFQSxHQUFBTSxrQkFBQSxHQUFBeEosTUFBQXBRLE9BQUFzYixPQUFBM0ssWUFBQWtKLGNBQ0FDLGVBQUEsR0FBQTFKLE1BQUFwUSxPQUFBc2IsT0FBQTFLLFVBQUFpSixhQUNBN1osUUFBQXNiLE9BQUEzSyxXQUFBaUosaUJBQ0E1WixPQUFBc2IsT0FBQTFLLFNBQUFrSixlQUNBOVosT0FBQXNiLE9BQUFoQyxVQUFBLFVBQ0EsQ0FFQSxHQUFBUyxJQUFBL1osT0FBQXNiLE9BQUEzSyxXQUFBMkQsV0FBQXBLLFFBQUEsT0FBQSxFQUNBOFAsR0FBQWhhLE9BQUFzYixPQUFBMUssU0FBQTBELFdBQUFwSyxRQUFBLE9BQUEsQ0FDQWxLLFFBQUFzYixPQUFBM0ssV0FBQTNRLE9BQUFzYixPQUFBM0ssV0FBQTJELFdBQUE4RCxVQUFBLEVBQUEyQixJQUNBL1osT0FBQXNiLE9BQUExSyxTQUFBNVEsT0FBQXNiLE9BQUExSyxTQUFBMEQsV0FBQThELFVBQUEsRUFBQTRCLElBRUEzTyxVQUFBaVAsUUFBQXZZLEdBQUEvQixPQUFBc2IsT0FBQW5GLGNBQUFuVyxPQUFBc2IsUUFBQTdMLFNBQUE1TixLQUFBLFdBQ0F5SixLQUFBZ1AsUUFBQXZZLEdBQUEvQixPQUFBb2IsU0FBQTFGLFNBQUExVixPQUFBb2IsVUFBQTNMLFNBQUE1TixLQUFBLFNBQUEwWSxjQUNBN1EsT0FBQStNLFFBQUEscUJBQ0E4RCxhQUFBMUQsY0FBQSxnQkFDQTdXLE9BQUFtYixnQkFBQW5iLE9BQUErVyxnQkFBQXdELGFBQ0F2YSxPQUFBZ00sVUFBQWhNLE9BQUFnWCxlQUFBdUQsYUFDQTFQLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQTBNLGtCQUFBLEdBQ0EsU0FBQTFMLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwyQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwyQkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxnQ0FBQU8sY0FBQTRJLGdCQU1BNUosT0FBQW9jLGVBQUEsV0FDQSxHQUFBM0IscUJBQUFyYSxVQUFBbUIsTUFDQW1aLFNBQUEsU0FDQUMsVUFBQSxFQUNBQyxZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQTdhLFFBQUFvYixVQUVBTixLQUFBLFdBQ0EsTUFBQSxVQUtBTCxxQkFBQTdZLE9BQUFDLEtBQUEsU0FBQWtaLGNBQ0E3YSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBcUYsS0FBQUEsV0FBQXZKLEdBQUFnWixhQUFBckYsVUFBQWpHLFNBQUE1TixLQUFBLFdBQ0E2SCxPQUFBK00sUUFBQSxnQkFDQXpXLE9BQUFtYixnQkFBQWhSLE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQWdNLFVBQUE3QixPQUFBbkssT0FBQWdYLGNBQUEsR0FDQW5NLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQTBNLGtCQUFBLEdBQ0EsU0FBQTFMLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGlCQUtBNUosT0FBQXFjLGVBQUEsV0FDQXJjLE9BQUFvYixZQUNBcGIsT0FBQXNiLFVBQ0F0YixPQUFBME0sa0JBQUEsR0FHQTVHLFdBQUEwRCxlQUFBQyxhQUFBLFFDMy9HQSxXQUNBLFlBRUEsSUFBQTlMLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsY0FBQSxTQUFBLGFBQUEsS0FBQSxXQUFBLFlBQUEsU0FBQSxRQUFBLFlBQUEsVUFBQSxXQUFBLFdBQUEscUJBQUEsa0JBQ0Esa0JBQUEsY0FBQSxnQkFBQSxpQkFBQSxpQkFBQSxrQkFBQSxZQUFBLGVBQUEsYUFBQSxvQkFBQSxPQUFBLFNBQUEsa0JBQUEsY0FDQSxzQkFBQSxZQUNBLFNBQUFDLE9BQUE4RixXQUFBZ25CLEdBQUEvbUIsU0FBQUMsVUFBQS9GLE9BQUFDLE1BQUFFLFVBQUF5a0IsUUFBQTFnQixTQUFBNG9CLFNBQUFDLG1CQUFBQyxnQkFBQUMsZ0JBQUFDLFlBQUFDLGNBQUFDLGVBQ0FDLGVBQUFDLGdCQUFBeEksVUFBQXlJLGFBQUFyaUIsV0FBQUMsa0JBQUFqTCxLQUFBc3RCLE9BQUFDLGdCQUFBQyxZQUFBQyxvQkFBQXZpQixXQUNBLEdBQUFqSyxTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUVBbkcsT0FBQTZ0QixhQUFBQyxNQUFBYixnQkFBQXZuQixRQUNBMUYsT0FBQSt0QixlQUFBbndCLFFBQUErWixLQUFBMFYsZUFHQSxLQUFBLEdBRkFXLGVBQUEsRUFFQTF1QixFQUFBLEVBQUFBLEVBQUFVLE9BQUErdEIsZUFBQXJvQixPQUFBcEcsSUFDQSxnQkFBQVUsT0FBQSt0QixlQUFBenVCLEdBQUEyZ0IsU0FDQStOLGNBQUFodUIsT0FBQSt0QixlQUFBenVCLEdBQUFzZixtQkFDQTVlLE9BQUErdEIsZUFBQXp1QixHQUFBMmdCLE9BQUEsMkJBR0FqZ0IsUUFBQSt0QixlQUFBcHJCLE1BQUFpYyxtQkFBQW9QLGNBQUEvTixPQUFBLHNDQUVBamdCLE9BQUFpdUIsYUFBQVgsZUFDQXR0QixPQUFBa3VCLGNBQUEsQ0FFQSxLQUFBLEdBQUEvc0IsR0FBQSxFQUFBQSxFQUFBOHJCLGdCQUFBdm5CLE9BQUF2RSxJQUFBLENBQ0EsR0FBQWd0QixtQkFDQUMsZUFBQW5CLGdCQUFBOXJCLEdBQUErZixpQkFDQSxJQUFBa04sZUFBQTFvQixPQUFBLEVBQUEsQ0FFQSxHQUFBMm9CLGNBQUFELGVBQUFqaUIsT0FBQSxTQUFBbWlCLElBQUEsTUFBQSxZQUFBQSxHQUFBanRCLFNBQUEsR0FDQWt0QixhQUFBSCxlQUFBamlCLE9BQUEsU0FBQW1pQixJQUFBLE1BQUEsWUFBQUEsR0FBQWp0QixTQUFBLEdBQ0FtdEIsWUFBQUosZUFBQWppQixPQUFBLFNBQUFtaUIsSUFBQSxNQUFBLGFBQUFBLEdBQUFqdEIsUUFBQSxRQUFBaXRCLEdBQUFqdEIsU0FBQSxFQUVBbXRCLGNBQUFMLGVBQUF4ckIsS0FBQTZyQixhQUNBRCxjQUFBSixlQUFBeHJCLEtBQUE0ckIsY0FDQUYsY0FBQUYsZUFBQXhyQixLQUFBMHJCLGtCQUVBRixnQkFBQXhyQixLQUFBeXJCLGVBQUEsR0FHQW5CLGlCQUFBOXJCLEdBQUErZixxQkFDQStMLGdCQUFBOXJCLEdBQUErZixrQkFBQWlOLGVBR0FudUIsT0FBQXl1QixZQUFBeEIsZ0JBQ0FELG1CQUFBMEIsa0JBQUExdUIsT0FBQXl1QixZQUVBLElBQUFFLGVBQUFuQixhQUFBcmhCLE9BQUEsU0FBQXlpQixLQUVBLE1BQUEsVUFBQUEsSUFBQTVXLFVBQUEsU0FBQTRXLElBQUE1VyxVQUFBLHNCQUFBNFcsSUFBQTVXLFVBQUEsaUJBQUE0VyxJQUFBNVcsVUFBQSxnQkFBQTRXLElBQUE1VyxVQUNBLFVBQUE0VyxJQUFBNVcsVUFBQSxTQUFBNFcsSUFBQTVXLFVBQUEsV0FBQTRXLElBQUE1VyxVQUdBaFksUUFBQTZ1QixpQkFBQSxXQUNBN3VCLE9BQUFrdUIsY0FBQWx1QixPQUFBa3VCLGNBSUFsdUIsT0FBQTh1QixZQUFBLFdBRUEsSUFBQSxHQURBQyxZQUFBLEdBQUEzZSxNQUNBZ0osR0FBQSxFQUFBQSxHQUFBcFosT0FBQSt0QixlQUFBcm9CLE9BQUEwVCxLQUNBLEdBQUFwWixPQUFBK3RCLGVBQUEzVSxJQUFBN1EsWUFBQSxFQUFBLENBQ0EsR0FBQXltQixrQkFBQUMsZ0JBQ0EsSUFBQSxRQUFBanZCLE9BQUErdEIsZUFBQTNVLElBQUE2RyxPQUFBN0gsVUFBQSxFQUFBLEdBRUE0VyxlQUNBMVEsU0FBQSxFQUNBZ0QscUJBQUEsMEVBQ0ExQyxtQkFBQTVlLE9BQUErdEIsZUFBQTNVLElBQUF3RixtQkFDQTVjLFFBQUErcUIsU0FBQS9xQixRQUNBMGMsZUFBQSxxQ0FBQTFlLE9BQUErdEIsZUFBQTNVLElBQUE2RyxPQUFBLEVBQUEsT0FFQSxDQUVBLEdBQUFpUCxLQUFBLENBQ0F0eEIsU0FBQXlNLFFBQUFySyxPQUFBaXVCLGFBQUEsU0FBQWtCLEtBQ0EsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFELElBQUF4USxnQkFBQWpaLE9BQUEwcEIsSUFDQUQsSUFBQXhRLGdCQUFBeVEsR0FBQXhRLG9CQUFBNWUsT0FBQSt0QixlQUFBM1UsSUFBQXdGLHFCQUNBc1EsSUFBQUMsSUFBQXpRLGtCQUlBc1EsZUFDQTFRLFNBQUEsRUFDQWdELHFCQUFBLDBFQUNBMUMsbUJBQUE1ZSxPQUFBK3RCLGVBQUEzVSxJQUFBd0YsbUJBQ0E1YyxRQUFBK3FCLFNBQUEvcUIsUUFDQTBjLGVBQUF3USxLQUlBaHZCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUNBLElBQUFpaEIsY0FBQSxDQUNBelcsWUFBQStPLEtBQUE4VSxlQUFBdmYsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0FzWSxhQUFBdFksU0FBQStDLGFBQ0EsSUFBQWdqQixvQkFDQXpRLG1CQUFBdFYsU0FBQXNWLG1CQUNBNWMsUUFBQXNILFNBQUF0SCxRQUNBc2MsU0FBQWhWLFNBQUFnVixTQUNBZ0QscUJBQUFoWSxTQUFBZ1kscUJBQ0E1QyxlQUFBcFYsU0FBQW9WLGVBQ0FyUyxjQUFBL0MsU0FBQStDLGNBQ0EyVCxlQUFBaGdCLE9BQUErdEIsZUFBQTVoQixPQUFBLFNBQUFtakIsS0FBQSxNQUFBQSxLQUFBMVEsb0JBQUF0VixTQUFBc1YscUJBQUEsR0FBQXFCLE9BQ0FPLFdBQUF4Z0IsT0FBQWl1QixhQUFBOWhCLE9BQUEsU0FBQWhMLEdBQUEsTUFBQUEsR0FBQXVkLGdCQUFBcFYsU0FBQW9WLGlCQUFBLEdBQUFsVyxPQUVBeW1CLGdCQUFBNWlCLGNBQUEvQyxTQUFBK0MsY0FBQStRLGVBQUEsRUFBQXJFLFVBQUFoVCxTQUFBRSxJQUFBLE9BQUF5WixXQUFBcVAsV0FBQXpWLFVBQUEsT0FFQWxPLGtCQUFBOE8sS0FBQStVLGVBQUF4ZixTQUFBNU4sS0FBQSxTQUFBOGUsY0FDQXNPLGNBQUE1dEIsT0FBQSxXQUFBNHRCLGNBQUF2TyxxQkFBQUMsYUFBQUQscUJBQ0EyTyxrQkFBQW5PLG1CQUFBK04sZUFFQWp2QixPQUFBeXVCLFlBQUE5ckIsS0FBQTBzQixtQkFDQXJ2QixPQUFBNnRCLGFBQUFDLE1BQUE5dEIsT0FBQXl1QixZQUFBL29CLE9BRUEsS0FBQSxHQUFBNnBCLEtBQUEsRUFBQUEsSUFBQXZ2QixPQUFBK3RCLGVBQUFyb0IsT0FBQTZwQixNQUNBdnZCLE9BQUErdEIsZUFBQXdCLEtBQUFobkIsVUFBQSxDQUVBcEUsVUFBQSxXQUVBbkUsT0FBQWt1QixjQUFBLEVBQ0F4a0IsT0FBQStNLFFBQUEsOEJBR0EsU0FBQXpWLGVBRUFtSyxXQUFBQSxXQUFBcEosR0FBQTZmLGVBQ0FsWSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGdCQU9BNUosT0FBQXd2QixrQkFBQSxTQUFBQyxlQUVBLEdBQUFDLGNBQUExdkIsT0FBQXl1QixZQUFBdmtCLFFBQUF1bEIsZUFBQUUsU0FBQTFDLGdCQUFBL2lCLFFBQUF1bEIsY0FDQTNwQixZQUFBMEQsZUFBQUMsYUFBQSxDQUVBLElBQUFtbUIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsNEJBQ0E3YSxXQUFBLDJCQUNBNEIsS0FBQSxLQUNBK1ksU0FBQSxTQUNBbVYsWUFBQSxhQUNBN2YsU0FDQWpGLFdBQUEsV0FDQSxNQUFBLEtBQUEwa0IsY0FBQUEsY0FBQSxTQUVBemtCLFdBQUEsV0FDQSxNQUFBN0ssTUFBQW1ZLE9BQUF2VyxHQUFBZ3JCLFNBQUEvcUIsVUFBQXlOLFVBRUEyVCxhQUFBLFdBQ0EsTUFBQTJCLFlBRUE5WixRQUFBLFdBQ0EsTUFBQTlLLE1BQUEydkIsWUFBQS90QixHQUFBZ3JCLFNBQUEvcUIsVUFBQXlOLFVBRUF2RSxXQUFBLFdBR0EsTUFGQWhMLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHNCLE9BQUFzQyxTQUFBdGdCLFVBRUE2VCxlQUFBLFdBQ0EsTUFBQXFLLGFBQUFvQyxTQUFBdGdCLFVBRUE4VCxnQkFBQSxXQUNBLE1BQUFxSyxxQkFBQW1DLFNBQUF0Z0IsVUFFQTRULGNBQUEsV0FDQSxNQUFBK0osa0JBSUF3QyxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQW11QixpQkFJQSxHQUhBLGFBQUFBLGdCQUFBLEtBQ0Fod0IsT0FBQXl1QixZQUFBaUIsY0FBQU0sZ0JBQUEsR0FBQS9DLGdCQUFBMEMsVUFBQUssZ0JBQUEsSUFFQSxZQUFBQSxnQkFBQSxHQUFBLENBQ0EsR0FBQUMsZUFBQWp3QixPQUFBeXVCLFlBQUF2a0IsUUFBQXVsQixjQUNBenZCLFFBQUF5dUIsWUFBQXRrQixPQUFBOGxCLGNBQUEsR0FDQWp3QixPQUFBNnRCLFlBQUFDLE1BQUE5dEIsT0FBQXl1QixZQUFBL29CLE9BRUFJLFdBQUEwRCxlQUFBQyxhQUFBLEtBSUF6SixPQUFBa3dCLG1CQUFBLFNBQUFDLHVCQUNBLEdBQUFDLFdBQUFwd0IsT0FBQXl1QixZQUFBdmtCLFFBQUFpbUIsdUJBQ0FFLGtCQUFBandCLFVBQUFtQixNQUNBcVosWUFBQSxzQkFDQTdhLFlBQUEsU0FBQSxvQkFBQSxpQkFBQSxTQUFBQyxPQUFBd0Isa0JBQUE4dUIsZ0JBQ0F0d0IsT0FBQXV3QixtQkFBQUQsZUFDQXR3QixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUF1TyxXQUVBL1AsT0FBQXd3QixlQUFBLFdBQ0EsR0FBQS9WLHFCQUFBcmEsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQSxtQkFFQUMsS0FBQSxXQUNBLE1BQUEscUJBSUFMLHFCQUFBN1ksT0FBQUMsS0FBQSxXQUNBTCxrQkFBQUUsTUFBQSxlQUlBQyxLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQWtWLFlBQUEsYUFDQTdmLFNBQ0FzZ0IsZUFBQSxXQUNBLE1BQUFILDBCQUlBRSxtQkFBQXp1QixPQUFBQyxLQUFBLFNBQUF2QyxHQUNBLFVBQUFBLElBQ0FZLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FrRixXQUFBQSxXQUFBcEosR0FBQW91QixzQkFBQTlqQixnQkFBQW9ELFNBQUE1TixLQUFBLFdBQ0FvckIsZ0JBQUE5aUIsT0FBQWltQixVQUFBLEdBQ0Fwd0IsT0FBQXl1QixZQUFBeEIsZ0JBQ0FqdEIsT0FBQTZ0QixZQUFBQyxNQUFBOXRCLE9BQUF5dUIsWUFBQS9vQixPQUNBc25CLG1CQUFBMEIsa0JBQUExdUIsT0FBQXl1QixhQUNBL2tCLE9BQUErTSxRQUFBLDRCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsbUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsbUNBQUFPLGNBQUE0SSxrQkFNQTVKLE9BQUF5d0IsZ0JBQUEsU0FBQWhCLGVBQ0EsR0FBQWlCLGVBQUFwRCxlQUFBSixnQkFBQUssZ0JBQUF4SSxVQUFBNEosY0FBQXZCLGVBQ0FzQyxhQUFBMXZCLE9BQUF5dUIsWUFBQXZrQixRQUFBdWxCLGNBQ0EzcEIsWUFBQTBELGVBQUFDLGFBQUEsQ0FHQSxJQUFBbW1CLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLElBQUE2VSxlQUFBLElBQUFBLGNBQUF2TyxrQkFBQSxHQUFBOUQsZUFBQSxtQkFBQSxzQkFDQXJkLFdBQUEsa0JBQ0E0QixLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQWtWLFlBQUEsYUFDQTdmLFNBQ0FyRixhQUFBLFdBQ0EsTUFBQStsQixlQUVBNWxCLFlBQUEsV0FDQSxNQUFBNGlCLGlCQUFBcUMsU0FBQXRnQixVQUVBMUUsV0FBQSxXQUNBLE1BQUEsS0FBQTBrQixjQUFBQSxjQUFBLFNBRUF6a0IsV0FBQSxXQUNBLE1BQUE3SyxNQUFBbVksT0FBQXZXLEdBQUFnckIsU0FBQS9xQixVQUFBeU4sVUFFQXhFLFFBQUEsV0FDQSxNQUFBOUssTUFBQTJ2QixZQUFBL3RCLEdBQUFnckIsU0FBQS9xQixVQUFBeU4sVUFFQTdFLFdBQUEsV0FDQSxNQUFBdWlCLGNBRUFqaUIsV0FBQSxXQUdBLE1BRkFoTCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBc0MsU0FBQXRnQixZQUlBbWdCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBMmYsZUFDQSxHQUFBclosR0FBQW5JLE9BQUF5dUIsWUFBQXZrQixRQUFBdWxCLGVBQUExVixHQUFBa1QsZ0JBQUEvaUIsUUFBQXVsQixjQUVBLHFCQUFBak8sY0FBQSxLQUNBeGhCLE9BQUF5dUIsWUFBQXRtQixHQUFBcVosY0FBQSxHQUNBeUwsZ0JBQUFsVCxJQUFBeUgsY0FBQSxHQUNBd0wsbUJBQUEwQixrQkFBQTF1QixPQUFBeXVCLGNBRUEsZUFBQWpOLGNBQUEsS0FDQXhoQixPQUFBeXVCLFlBQUE5ckIsS0FBQTZlLGNBQUEsSUFDQXhoQixPQUFBNnRCLFlBQUFDLE1BQUE5dEIsT0FBQXl1QixZQUFBL29CLE9BQ0FzbkIsbUJBQUEwQixrQkFBQTF1QixPQUFBeXVCLGNBRUFydEIsU0FBQW9nQixjQUFBLEtBR0F4aEIsT0FBQXl1QixZQUFBaUIsY0FBQWxPLGNBQUEsR0FDQTFiLFdBQUEwRCxlQUFBQyxhQUFBLEdBRUEsV0FBQStYLGNBQUEsS0FDQXhoQixPQUFBeXVCLFlBQUF0a0IsT0FBQWhDLEVBQUEsR0FDQW5JLE9BQUE2dEIsWUFBQUMsTUFBQTl0QixPQUFBeXVCLFlBQUEvb0IsT0FDQXNuQixtQkFBQTBCLGtCQUFBMXVCLE9BQUF5dUIsY0FFQTNvQixXQUFBMEQsZUFBQUMsYUFBQSxLQUtBekosT0FBQTJ3QixvQkFBQSxTQUFBbEIsZUFFQSxHQUFBbUIsZ0JBQUF0RCxlQUFBSixnQkFBQUssZ0JBQUFvQixjQUFBdkIsZUFFQXNDLGFBQUExdkIsT0FBQXl1QixZQUFBdmtCLFFBQUF1bEIsY0FDQTNwQixZQUFBMEQsZUFBQUMsYUFBQSxDQUVBLElBQUFtbUIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsdUJBQ0E3YSxXQUFBLHNCQUNBNEIsS0FBQSxLQUNBK1ksU0FBQSxTQUNBQyxVQUFBLEVBQ0FrVixZQUFBLGFBQ0E3ZixTQUNBOFUsZ0JBQUEsV0FDQSxNQUFBOEwsZ0JBRUF0TixlQUFBLFdBQ0EsTUFBQXFLLGFBQUFvQyxTQUFBdGdCLFVBRUE4VCxnQkFBQSxXQUNBLE1BQUFxSyxxQkFBQW1DLFNBQUF0Z0IsVUFFQXNWLFVBQUEsV0FDQSxNQUFBQSxZQUVBamEsWUFBQSxXQUNBLE1BQUE0aUIsaUJBQUFxQyxTQUFBdGdCLFVBRUExRSxXQUFBLFdBQ0EsTUFBQSxLQUFBMGtCLGNBQUFBLGNBQUEsU0FFQXprQixXQUFBLFdBQ0EsTUFBQTdLLE1BQUFtWSxPQUFBdlcsR0FBQWdyQixTQUFBL3FCLFVBQUF5TixVQUVBeEUsUUFBQSxXQUNBLE1BQUE5SyxNQUFBMnZCLFlBQUEvdEIsR0FBQWdyQixTQUFBL3FCLFVBQUF5TixVQUVBN0UsV0FBQSxXQUNBLE1BQUF1aUIsY0FFQWppQixXQUFBLFdBR0EsTUFGQWhMLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHNCLE9BQUFzQyxTQUFBdGdCLFVBRUF1VixrQkFBQSxXQUNBLE1BQUEzWixXQUFBd2xCLGtCQUFBQyxRQUFBckIsY0FBQW5SLFdBQUE3TyxZQUlBbWdCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBMmYsZUFDQSxXQUFBQSxjQUFBLElBQ0F4aEIsT0FBQXl1QixZQUFBdGtCLE9BQUF1bEIsYUFBQSxHQUNBMXZCLE9BQUE2dEIsWUFBQUMsTUFBQTl0QixPQUFBeXVCLFlBQUEvb0IsT0FDQXNuQixtQkFBQTBCLGtCQUFBMXVCLE9BQUF5dUIsY0FHQXp1QixPQUFBeXVCLFlBQUFpQixjQUFBbE8sY0FBQSxHQUVBMWIsV0FBQTBELGVBQUFDLGFBQUEsS0FPQXpKLE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxxQkFBQSxTQUFBeEcsVUFDQU8sT0FBQSt3QixpQkFBQTN2QixTQUFBM0IsU0FBQUEsU0FBQSxhQUNBTyxPQUFBZ3hCLG1CQUFBLGNBQUFoeEIsT0FBQSt3QixrQkFBQSxHQUFBLEVBQ0EzdkIsU0FBQTNCLFVBQ0FPLE9BQUF5dUIsWUFBQXhCLGdCQUFBOWdCLE9BQUEsU0FBQXdJLEdBQUEsTUFBQUEsR0FBQTJKLFVBQUF2WSxTQUFBRSxJQUFBLG1CQUFBLEdBQUEwTyxFQUFBdU0sa0JBQUEsR0FBQTlELGlCQUNBcGQsT0FBQTZ0QixhQUFBQyxNQUFBOXRCLE9BQUF5dUIsWUFBQS9vQixVQUVBMUYsT0FBQXl1QixZQUFBeEIsZ0JBQ0FqdEIsT0FBQTZ0QixhQUFBQyxNQUFBOXRCLE9BQUF5dUIsWUFBQS9vQixrQkM3WUEsV0FDQSxZQUVBLElBQUE2RSxrQkFBQTNNLFFBQUFDLE9BQUEsbUJBRUEwTSxrQkFBQXhLLFdBQUEsaUJBQUEsU0FBQSxhQUFBLFdBQUEsS0FBQSxZQUFBLFNBQUEsUUFBQSxPQUFBLFdBQUEsWUFBQSxvQkFBQSxVQUFBLHNCQUFBLG1CQUNBLFlBQUEsYUFBQSxVQUFBLGdCQUFBLGFBQUEsT0FBQSxlQUFBLGFBQUEsU0FBQSxhQUFBLG9CQUFBLG9CQUFBLFVBQUEsYUFBQSxPQUFBLFNBQUEsYUFDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQSttQixHQUFBOW1CLFVBQUEvRixPQUFBQyxNQUFBc0ssS0FBQXJHLFNBQUEvRCxVQUFBb0Isa0JBQUFxakIsUUFBQW9NLG9CQUFBQyxpQkFBQTFaLFVBQUE1TSxXQUFBdW1CLFFBQUFDLGNBQUFsbUIsV0FBQS9LLEtBQ0FreEIsYUFBQXhtQixXQUFBNGlCLE9BQUF0aUIsV0FBQUMsa0JBQUFrbUIsa0JBQUFDLFFBQUE3bUIsV0FBQVksS0FBQUMsT0FBQWQsWUFFQXpLLE9BQUF3eEIsb0JBQUFOLGlCQUFBLEdBQ0FseEIsT0FBQXl4QixrQkFBQVAsaUJBQUEsR0FDQWx4QixPQUFBMHhCLFVBQUFSLGlCQUFBLEdBQ0FseEIsT0FBQTJ4QixjQUFBVCxpQkFBQSxHQUNBbHhCLE9BQUE0eEIsbUJBQ0E1eEIsT0FBQTZ4QixPQUNBN3hCLE9BQUE4eEIsbUJBQUFaLGlCQUFBLEdBQ0FseEIsT0FBQSt4QixnQkFBQWIsaUJBQUEsR0FDQWx4QixPQUFBZ3lCLFlBQUFkLGlCQUFBLEdBQ0FseEIsT0FBQWl5QixZQUFBZixpQkFBQSxHQUNBbHhCLE9BQUFreUIsYUFBQWhCLGlCQUFBLEdBQ0FseEIsT0FBQW15QixpQkFBQWpCLGlCQUFBLEdBQ0FseEIsT0FBQWtOLFNBQUFuSCxTQUFBRSxJQUFBLGFBQ0FqRyxPQUFBb3lCLFdBQUEsRUFDQXB5QixPQUFBcXlCLFNBQUEsRUFDQXJ5QixPQUFBc3lCLFFBQUEsRUFDQXR5QixPQUFBdXlCLFNBQUEsRUFDQXZ5QixPQUFBd3lCLG1CQUFBaG9CLEtBQUFpRCxZQUFBLHNGQUNBek4sT0FBQXl5QixXQUNBQyxJQUFBMXlCLE9BQUFzeUIsUUFDQUssSUFBQTN5QixPQUFBdXlCLFNBQ0FLLEtBQUEsSUFHQTV5QixPQUFBNlEsUUFDQWdpQixZQUNBQyxPQUFBN0Isb0JBQUE4Qix1QkFHQS95QixPQUFBNnlCLGFBRUEsSUFBQUcsUUFDQUMsS0FDQTNmLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLGVBRUFDLFFBQ0E5ZixLQUFBLE1BQ0E0ZixVQUFBLEdBQUEsSUFDQUMsVUFBQSxjQUNBRSxZQUFBLEVBQUEsS0FJQUMsUUFBQSxTQUFBQyxJQUFBQyxJQUFBM2UsS0FDQSxHQUFBNGUsS0FBQSxDQUNBLE9BQUEsR0FBQUYsS0FDQUUsSUFBQSxHQUFBRixJQUFBLEVBQUFDLElBQUEsR0FBQSxFQUFBM2UsSUFBQSxNQUNBLEdBQUE0ZSxLQUFBQyxRQUFBLEtBR0FELElBQUEsRUFBQUYsSUFBQSxFQUFBQyxJQUFBLEdBQUEsRUFBQTNlLElBQUEsS0FDQSxJQUFBNmUsUUFBQSxJQUlBMXpCLFFBQUEyekIsa0JBQUEsV0FDQXZ5QixTQUFBcEIsT0FBQTZ4QixJQUFBK0IsUUFBQTV6QixPQUFBNnpCLE1BQUEvZCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsUUFDQTN5QixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsUUFBQWgwQixPQUFBNnpCLE1BQUE5ZCxhQUFBdWQsUUFBQXR6QixPQUFBNnhCLElBQUFtQyxNQUFBaDBCLE9BQUE2eEIsSUFBQW9DLE1BQUFqMEIsT0FBQTZ4QixJQUFBcUMsY0FDQWgwQixPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FDQTdPLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E0d0IsUUFBQTRDLGlCQUFBQyxVQUFBcDBCLE9BQUE2ekIsTUFBQTlkLGFBQUFzZSxTQUFBcjBCLE9BQUE2ekIsTUFBQS9kLGFBQUEsU0FBQXhNLFVBQ0EsR0FBQUEsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQTd1QixPQUFBLEVBQUEsQ0FDQSxHQUFBOHVCLFdBQUFsckIsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQSxHQUFBRSxNQUNBQyxXQUFBcHJCLFNBQUExSCxPQUFBMHlCLFlBQUFDLFNBQUEsR0FBQUksS0FDQUMsWUFBQTUwQixPQUFBMnhCLGNBQUF4bEIsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQUMsV0FBQU4sWUFBQSxHQUFBTyxTQUNBQyxVQUFBaDFCLE9BQUEweEIsVUFBQXZsQixPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUE0ekIsVUFBQUgsY0FBQSxFQUNBeHpCLFVBQUE0ekIsV0FDQWgxQixPQUFBNnpCLE1BQUF4ckIsTUFBQTJzQixVQUFBMXNCLGFBQ0F0SSxPQUFBNHhCLGdCQUFBNXhCLE9BQUEyeEIsY0FBQXhsQixPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBRSxVQUFBQyxVQUFBRCxXQUNBLzBCLE9BQUE2ekIsTUFBQW9CLE9BQUFQLGFBRUE1dUIsV0FBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQSx1R0FHQTdELFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUEseURBRUEsU0FBQTNJLGVBQ0EwSSxPQUFBQyxNQUFBLDBDQUlBM0osT0FBQWsxQixJQUFBLGlDQUFBLFNBQUFoekIsTUFBQWl6QixNQUNBLEdBQUFDLGlCQUFBRCxLQUFBeDFCLEtBRUFLLFFBQUE2ekIsTUFBQS9kLFlBQUFpVixXQUFBcUssZ0JBQUExQyxJQUFBZ0IsUUFBQSxJQUNBMXpCLE9BQUE2ekIsTUFBQTlkLGFBQUFnVixXQUFBcUssZ0JBQUF6QyxJQUFBZSxRQUFBLEdBRUEsSUFBQTJCLFFBQUFDLFdBQUF0MUIsT0FBQTZ6QixNQUFBL2QsYUFBQXhCLFdBQ0FpaEIsWUFBQUYsT0FBQXoyQixNQUFBLElBQ0FvQixRQUFBNnhCLElBQUErQixNQUFBMkIsWUFBQSxHQUNBdjFCLE9BQUE2eEIsSUFBQWlDLE1BQUF5QixZQUFBLEdBQ0F2MUIsT0FBQTZ4QixJQUFBa0MsTUFBQXdCLFlBQUEsRUFFQSxJQUFBQyxTQUFBRixXQUFBdDFCLE9BQUE2ekIsTUFBQTlkLGNBQ0EwZixhQUFBRCxRQUFBNTJCLE1BQUEsSUFDQW9CLFFBQUE2eEIsSUFBQW1DLE1BQUEsR0FBQXlCLGFBQUEsR0FDQXoxQixPQUFBNnhCLElBQUFvQyxNQUFBd0IsYUFBQSxHQUNBejFCLE9BQUE2eEIsSUFBQXFDLE1BQUF1QixhQUFBLEdBRUF6MUIsT0FBQTJ6QixzQkFJQTN6QixPQUFBMDFCLFdBQUEsV0FHQSxHQUZBdDBCLFNBQUFwQixPQUFBNnhCLElBQUErQixRQUFBNXpCLE9BQUE2ekIsTUFBQS9kLFlBQUF3ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxRQUNBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFtQyxRQUFBaDBCLE9BQUE2ekIsTUFBQTlkLGFBQUF1ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQW1DLE1BQUFoMEIsT0FBQTZ4QixJQUFBb0MsTUFBQWowQixPQUFBNnhCLElBQUFxQyxRQUNBOXlCLFNBQUFwQixPQUFBNnpCLE1BQUEvZCxhQUFBMVUsU0FBQXBCLE9BQUE2ekIsTUFBQTlkLGNBQUE0ZixNQUFBMzFCLE9BQUE2ekIsTUFBQS9kLGNBQUE2ZixNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGNBZ0VBLENBQUEzVixVQUFBbUIsTUFDQXpCLFNBQUEsMFNBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxXQXhFQTNCLFFBQUF5eUIsV0FBQUMsSUFBQTNILFdBQUEvcUIsT0FBQTZ6QixNQUFBL2QsYUFBQTZjLElBQUE1SCxXQUFBL3FCLE9BQUE2ekIsTUFBQTlkLGNBQUE2YyxLQUFBLElBQ0E1eUIsT0FBQTZ5QixjQUNBL3NCLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0F2SixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLHlCQUNBVCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FDQXdpQixRQUFBNEMsaUJBQUFDLFVBQUFwMEIsT0FBQTZ6QixNQUFBOWQsYUFBQXNlLFNBQUFyMEIsT0FBQTZ6QixNQUFBL2QsYUFBQSxTQUFBeE0sVUFDQSxHQUFBQSxTQUFBMUgsT0FBQTB5QixZQUFBQyxTQUFBN3VCLE9BQUEsRUFBQSxDQUNBLEdBQUE4dUIsV0FBQWxyQixTQUFBMUgsT0FBQTB5QixZQUFBQyxTQUFBLEdBQUFFLE1BQ0FDLFdBQUFwckIsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQSxHQUFBSSxLQUNBQyxZQUFBeHpCLFNBQUFvekIsVUFDQXgwQixPQUFBMnhCLGNBQUF4bEIsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQUMsV0FBQU4sWUFBQSxHQUFBTyxTQUNBLEVBQ0FDLFVBQUFoMUIsT0FBQTB4QixVQUFBdmxCLE9BQUEsU0FBQWhMLEdBQUEsTUFBQUEsR0FBQTR6QixVQUFBSCxjQUFBLEVBRUF4ekIsVUFBQTR6QixXQUNBaDFCLE9BQUE2ekIsTUFBQXhyQixNQUFBMnNCLFVBQUExc0IsYUFDQXRJLE9BQUE0eEIsZ0JBQUE1eEIsT0FBQTJ4QixjQUFBeGxCLE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFFLFVBQUFDLFVBQUFELFdBQ0EvMEIsT0FBQTZ6QixNQUFBb0IsT0FBQVAsV0FFQXYwQixLQUFBeTFCLG1CQUFBdkIsU0FBQXIwQixPQUFBNnpCLE1BQUEvZCxZQUFBc2UsVUFBQXAwQixPQUFBNnpCLE1BQUE5ZCxhQUFBOGYsT0FBQSxNQUFBLFNBQUF2c0IsVUFFQSxHQURBdEosT0FBQW95QixXQUFBOW9CLFNBQ0F0SixPQUFBb3lCLFdBQUExc0IsT0FBQSxFQUNBLElBQUEsR0FBQXlDLEdBQUEsRUFBQUEsRUFBQW5JLE9BQUFveUIsV0FBQTFzQixPQUFBeUMsSUFBQSxDQUNBLEdBQUF1USxHQUFBMVksT0FBQW95QixXQUFBanFCLEVBQ0FuSSxRQUFBNnlCLFdBQUFsd0IsTUFDQSt2QixJQUFBaGEsRUFBQTVDLFlBQ0E2YyxJQUFBamEsRUFBQTNDLGFBQ0EvVCxRQUFBMFcsRUFBQTFXLFFBQ0E4ekIsUUFBQXBkLEVBQUFvZCxRQUNBQyxLQUFBL0MsTUFBQUMsSUFDQW5qQixRQUFBNEksRUFBQW9kLFFBQ0EzeUIsT0FBQSxJQUlBbkQsT0FBQTZ5QixXQUFBbHdCLE1BQ0ErdkIsSUFBQTNILFdBQUEvcUIsT0FBQTZ6QixNQUFBL2QsYUFDQTZjLElBQUE1SCxXQUFBL3FCLE9BQUE2ekIsTUFBQTlkLGNBQ0FnZ0IsS0FBQS9DLE1BQUFJLE9BQ0F0akIsUUFBQSx5QkFDQTNNLE9BQUEsRUFDQTZ5QixXQUFBLElBRUFoMkIsT0FBQXF5QixTQUFBLEVBQ0F2c0IsV0FBQTBELGVBQUFDLGFBQUEsR0FDQSxTQUFBekksZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksY0FDQTZGLFdBRUEzSixXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBLHVHQUdBN0QsWUFBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQSxvQ0FFQSxTQUFBM0ksZUFDQTBJLE9BQUFDLE1BQUEsVUFBQTNJLGNBQUE0SSxlQW1CQTVKLE9BQUFpMkIsWUFBQSxFQUFBajJCLE9BQUFrMkIsY0FBQSxFQUNBbDJCLE9BQUFtMkIsdUJBQ0FuMkIsT0FBQTZ6QixTQUdBenlCLFNBQUErdkIsVUFDQW54QixPQUFBNnpCLE1BQUEvZCxZQUFBaVYsV0FBQW9HLFFBQUEsR0FBQXVDLFFBQUEsSUFDQTF6QixPQUFBNnpCLE1BQUE5ZCxhQUFBZ1YsV0FBQW9HLFFBQUEsR0FBQXVDLFFBQUEsSUFDQTF6QixPQUFBNnpCLE1BQUF1QyxVQUFBLEVBQ0FwMkIsT0FBQTZ6QixNQUFBd0MsbUJBQUEsRUFDQXIyQixPQUFBMDFCLGNBR0ExMUIsT0FBQTZ6QixNQUFBeUMsWUFBQSxLQUVBdDJCLE9BQUF1MkIsd0JBQ0F2MkIsT0FBQXcyQixRQUFBLEdBQUF4MkIsT0FBQXkyQixZQUFBLGNBQ0F6MkIsT0FBQTAyQixhQUNBMTJCLE9BQUEyMkIsY0FBQSxFQUNBMzJCLE9BQUE0MkIsb0JBQUEsRUFDQTUyQixPQUFBNjJCLG9CQUFBLEVBQ0E3MkIsT0FBQW0yQix1QkFDQW4yQixPQUFBODJCLG1CQUNBOTJCLE9BQUErMkIsc0JBQ0EvMkIsT0FBQWczQixvQkFDQWgzQixPQUFBaTNCLHVCQUNBajNCLE9BQUFrM0Isb0JBQ0FsM0IsT0FBQW0zQix1QkFFQW4zQixPQUFBbzNCLG9CQUNBcDNCLE9BQUFxM0Isb0JBR0FyM0IsT0FBQXVOLFVBQUE5QyxXQUNBekssT0FBQTZMLGFBQUEyTCxVQUFBckwsT0FBQSxTQUFBNEwsSUFDQSxNQUFBLFVBQUFBLEdBQUFDLFVBQUEsc0JBQUFELEdBQUFDLFVBQUEsaUJBQUFELEdBQUFDLFVBQ0EsZ0JBQUFELEdBQUFDLFVBQUEsZ0JBQUFELEdBQUFDLFVBQUEsVUFBQUQsR0FBQUMsVUFBQSxTQUFBRCxHQUFBQyxVQUFBLFdBQUFELEdBQUFDLFVBQ0EsOEJBQUFELEdBQUFDLFdBRUFoWSxPQUFBZ00sVUFBQW5CLFdBQUFvQixrQkFFQWpNLE9BQUFzM0IsVUFBQWwyQixTQUFBZ3dCLGNBQ0FweEIsT0FBQWdNLFVBQUFHLE9BQUEsU0FBQUMsSUFDQSxRQUFBQSxHQUFBcEssU0FBQW92QixjQUFBLEdBQUFwdkIsU0FDQVosU0FBQWdMLEdBQUE2SixRQUFBLElBQUE3SixHQUFBNkosUUFDQTdVLFNBQUFnTCxHQUFBQyxlQUFBLElBQUFELEdBQUFDLGVBQ0FqTCxTQUFBZ0wsR0FBQWtLLG9CQUFBLElBQUFsSyxHQUFBa0sseUJBR0F0VyxPQUFBdTNCLGVBQUF2M0IsT0FBQXMzQixVQUFBbnJCLE9BQUEsU0FBQUksSUFBQSxNQUFBLEtBQUFBLEdBQUFDLGNBQ0F4TSxPQUFBeU0sY0FBQSxFQUdBek0sT0FBQW9WLE1BQUExSyxXQUFBMkssV0FBQXJWLE9BQUFzVixnQkFBQSxFQUVBdFYsT0FBQXVWLGVBQUEsV0FDQXJWLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBWCxPQUFBeVYsa0JBQUEsQ0FDQSxJQUFBekcsWUFDQUMsWUFDQXlHLFFBQUExVixPQUFBNk8sTUFBQTZHLFFBQ0FDLEtBQUEzVixPQUFBNk8sTUFBQThHLEtBQ0FDLFlBQUE1VixPQUFBNk8sTUFBQStHLFlBQ0FDLGdCQUFBN1YsT0FBQTZPLE1BQUFnSCxnQkFDQUMsWUFBQTlWLE9BQUE2TyxNQUFBaUgsWUFDQUMsYUFBQS9WLE9BQUE2TyxNQUFBa0gsYUFDQUMsVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQWhVLFFBQUFoQyxPQUFBNk8sTUFBQTdNLFFBQ0F3SyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBMEosVUFBQWxXLE9BQUE2TyxNQUFBcUgsVUFDQS9QLEtBQUFuRyxPQUFBNk8sTUFBQTFJLEtBQ0FpUSxXQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUNBQyxRQUFBclcsT0FBQTZPLE1BQUF3SCxTQUVBdkgsS0FBQTFOLFNBQUFwQixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQUMsTUFHQUssR0FBQSxHQUFBQyxTQUNBRCxJQUFBcFEsT0FBQSxhQUFBc1EsS0FBQUMsVUFBQU4sVUFBQUMsYUFDQUUsR0FBQXBRLE9BQUEsT0FBQWlRLFVBQUFGLE1BRUF4RCxLQUFBaUwsV0FBQXBILElBQUFNLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsaUJBQ0F6VyxPQUFBMFcsSUFBQTFXLE9BQUF1TixVQUFBLFVBQUF2TixPQUFBNk8sTUFBQTZHLFFBQUEsUUFBQWhMLFdBQUEySyxXQUNBM0ssV0FBQWlNLFdBQ0EzVyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUVBclYsT0FBQTRXLFFBREE1VyxPQUFBNk8sTUFBQTJHLE1BQUFsQyxLQUFBcEosUUFBQSxTQUFBLElBQ0EsR0FDQSxFQUNBbEssT0FBQTZPLE1BQUE4RyxLQUFBYSxVQUFBYixLQUFBM1YsT0FBQTZPLE1BQUExSSxLQUFBcVEsVUFBQXJRLEtBQ0EvRSxTQUFBcEIsT0FBQTZPLE1BQUEyRyxRQUNBeFYsT0FBQTZPLE1BQUFDLEtBQUE5TyxPQUFBNk8sTUFBQTJHLE1BQ0F4VixPQUFBNk8sTUFBQTJHLE1BQUFwVSxRQUVBb1YsVUFBQUssY0FBQSxZQUNBN1csT0FBQXMzQixVQUFBbnRCLE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQXMzQixVQUFBMzBCLEtBQUE2VCxXQUNBLElBQUFBLFVBQUFoSyxjQUNBeE0sT0FBQXUzQixlQUFBcHRCLE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQXUzQixlQUFBNTBCLEtBQUE2VCxZQUVBeFcsT0FBQWdNLFVBQUFoTSxPQUFBZ1gsZUFBQVIsVUFDQTNMLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlWLGtCQUFBLEVBQ0F6VixPQUFBc1YsZ0JBQUEsR0FDQSxTQUFBdFUsZUFDQWhCLE9BQUF5VixrQkFBQSxFQUNBL0wsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxlQUlBNUosT0FBQWtYLGVBQUEsU0FBQUMsT0FDQS9XLFVBQUFtQixNQUNBekIsU0FBQSxzUEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUVBMUIsT0FBQW9YLFFBQUFELE1BQ0FuWCxPQUFBcVgsT0FBQTVNLFdBQUEsVUFBQXpLLE9BQUFvWCxRQUFBLFVBRUF6VixLQUFBLFFBSUEzQixPQUFBc1gsU0FBQSxTQUFBQyxNQU9BLEdBTkF2WCxPQUFBd1gsVUFBQXhYLE9BQUE2TCxhQUNBN0wsT0FBQXlYLFNBQUE3TSxXQUNBNUssT0FBQStXLGVBQUEsR0FBQS9XLE9BQUE4VyxrQkFBQSxHQUFBOVcsT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBRUEsSUFBQUgsS0FBQSxDQWNBLEdBWkF2WCxPQUFBK1csZUFBQS9XLE9BQUFzM0IsVUFBQXB0QixRQUFBcU4sTUFDQXZYLE9BQUFnWCxjQUFBaFgsT0FBQWdNLFVBQUE5QixRQUFBcU4sTUFDQXZYLE9BQUE4VyxrQkFBQTlXLE9BQUF1M0IsZUFBQTd4QixPQUFBLEVBQUExRixPQUFBdTNCLGVBQUFydEIsUUFBQXFOLE1BQUEsR0FDQXZYLE9BQUE2TyxNQUFBalIsUUFBQStaLEtBQUFKLE1BQ0FqTSxLQUFBc00sYUFBQTdWLEdBQUEvQixPQUFBNk8sTUFBQTZHLFVBQUFqRyxTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUFzVixlQUFBaE0sU0FBQXVPLE9BQUEsR0FBQSxHQUFBLEdBQ0EsU0FBQTdXLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGNBRUE1SixPQUFBNk8sTUFBQWlKLFNBQUE5WCxPQUFBNkwsYUFBQU0sT0FBQSxTQUFBNEwsSUFBQSxNQUFBQSxJQUFBdkwsYUFBQXhNLE9BQUE2TyxNQUFBckMsY0FBQSxHQUFBd0wsU0FFQTVXLFNBQUFwQixPQUFBNk8sTUFBQThHLEtBQUEsQ0FDQSxHQUFBc0MsSUFBQWpZLE9BQUE2TyxNQUFBOEcsS0FBQXVDLFlBQUEsS0FDQUMsUUFBQW5ZLE9BQUE2TyxNQUFBOEcsS0FBQXlDLFVBQUFILEdBQUEsRUFFQWpZLFFBQUE0VyxRQURBdUIsUUFBQUUsTUFBQSx5Q0FDQSxHQUNBLEVBRUFyWSxPQUFBMFcsSUFBQTFXLE9BQUF1TixVQUFBLFVBQUF2TixPQUFBNk8sTUFBQTZHLFFBQUEsUUFBQWhMLFdBQUEySyxXQUNBclYsT0FBQTZPLE1BQUFtSCxVQUFBLEdBQUE1RixNQUFBcFEsT0FBQTZPLE1BQUFtSCxXQUNBNVUsU0FBQXBCLE9BQUE2TyxNQUFBdUgsYUFBQXBXLE9BQUE2TyxNQUFBdUgsV0FBQSxHQUFBaEcsTUFBQXBRLE9BQUE2TyxNQUFBdUgsYUFDQSxPQUFBbUIsS0FBQXJCLFdBQ0EzSyxPQUFBK00sT0FBQXZXLEdBQUF3VixLQUFBckIsWUFBQXpHLFNBQUE1TixLQUFBLFNBQUFWLEdBQ0FuQixPQUFBMFgsUUFBQXZXLEVBQ0FuQixPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBYyxZQUNBeFksT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsYUFDQSxTQUFBNVgsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHlCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHlCQUFBTyxjQUFBNEksa0JBS0E1SixRQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQUFwUSxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQ0FwUSxPQUFBMFgsUUFBQXhNLFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBaFQsU0FBQUUsSUFBQSxTQUFBLEdBQ0FqRyxPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBd0IsTUFBQSxJQUFBbFosT0FBQTBYLFFBQUF5QixNQUNBblosT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsV0FFQTVZLFFBQUF5TSxjQUFBLEVBR0F6TSxPQUFBdVosdUJBQUEsV0FDQSxHQUFBdlosT0FBQTZPLE1BQUFyQyxjQUNBeE0sT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsZUFJQTVZLE9BQUF3WixXQUFBLFNBQUFDLE9BQ0EsR0FBQUEsTUFBQSxDQUNBelosT0FBQXczQixxQkFBQSxFQUNBdDNCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUNBLElBQUF5WixZQUFBNUIsWUFBQXhZLE9BQUEwWCxRQUFBYSxTQUFBSSxVQUFBM1ksT0FBQTBYLFFBQUFpQixVQUVBcE4sUUFBQTJPLEtBQUFFLFdBQUEzSyxTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQSxHQUFBLElBQUF0SixPQUFBNk8sTUFBQXJDLFlBQUEsQ0FFQSxHQUFBd0MsWUFDQUMsWUFDQXpDLFlBQUF4TSxPQUFBNk8sTUFBQXJDLFlBQ0FtSixLQUFBM1YsT0FBQTZPLE1BQUFDLEtBQUE2RyxLQUNBSyxVQUFBaFcsT0FBQTZPLE1BQUFtSCxVQUNBSSxXQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUNBUixZQUFBNVYsT0FBQTZPLE1BQUErRyxZQUNBNVQsUUFBQWhDLE9BQUE2ekIsTUFBQTd4QixRQUNBa1UsVUFBQTVNLFNBQUE0TSxVQUNBTCxnQkFBQTdWLE9BQUE2TyxNQUFBZ0gsZ0JBQ0FDLFlBQUE5VixPQUFBNk8sTUFBQWlILFlBQ0FDLGFBQUEvVixPQUFBNk8sTUFBQWtILGNBRUFqSCxLQUFBOU8sT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLFlBQ0E3VyxPQUFBczNCLFVBQUEzMEIsS0FBQTZULFdBQ0F4VyxPQUFBZ00sVUFBQXJKLEtBQUE2VCxXQUNBM0wsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0EsSUFBQXdLLFVBQUFoSyxhQUFBeE0sT0FBQXUzQixlQUFBNTBCLEtBQUE2VCxXQUNBeFcsT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUF3M0IscUJBQUEsR0FDQSxTQUFBeDJCLGVBQ0FoQixPQUFBdzNCLHFCQUFBLEVBQ0E5dEIsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxrQkFHQTVKLFFBQUE2TyxNQUFBcUgsVUFBQTVNLFNBQUE0TSxVQUFBbFcsT0FBQTZPLE1BQUE3TSxRQUFBaEMsT0FBQTZ6QixNQUFBN3hCLFFBQ0FzSixLQUFBNE8sS0FBQWxhLE9BQUE2TyxPQUFBWSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGNBQ0FELFVBQUFLLGNBQUEsWUFDQTdXLE9BQUFzM0IsVUFBQTMwQixLQUFBNlQsV0FDQXhXLE9BQUFnTSxVQUFBckosS0FBQTZULFdBQ0EzTCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEVBQUF6TSxPQUFBdzNCLHFCQUFBLEdBQ0EsU0FBQXgyQixlQUNBaEIsT0FBQXczQixxQkFBQSxFQUNBOXRCLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFHQSxTQUFBNUksZUFDQWhCLE9BQUF3M0IscUJBQUEsRUFDQTl0QixPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGdCQUtBNUosT0FBQXFhLFNBQUEsU0FBQVosT0FDQSxHQUFBQSxNQUFBLENBQ0F6WixPQUFBdzNCLHFCQUFBLENBR0EsRUFBQXgzQixPQUFBNk8sTUFBQWdJLGNBR0EsR0FGQTNXLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBO0FBQ0FTLFNBQUFwQixPQUFBMFgsUUFBQXhCLFVBQUEsQ0FFQSxHQUFBa0UsWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFDQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBNk8sTUFBQXFILFVBQUE1TSxTQUFBNE0sVUFDQTVLLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUE2TyxNQUFBNkcsU0FBQTFWLE9BQUE2TyxPQUFBWSxTQUFBNU4sS0FBQSxTQUFBMFksY0FDQTdRLE9BQUErTSxRQUFBLGdCQUNBOEQsYUFBQTFELGNBQUEsWUFDQTdXLE9BQUFzM0IsVUFBQXQzQixPQUFBK1csZ0JBQUF3RCxhQUNBdmEsT0FBQWdNLFVBQUFoTSxPQUFBZ1gsZUFBQXVELGFBQ0ExUCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEVBQUF6TSxPQUFBdzNCLHFCQUFBLEdBQ0EsU0FBQXgyQixlQUNBaEIsT0FBQXczQixxQkFBQSxFQUNBOXRCLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUF3M0IscUJBQUEsRUFDQTl0QixPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGlCQU1BNUosT0FBQXdhLFdBQUEsV0FDQSxHQUFBQyxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBNk8sT0FFQWlNLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGdCQUNBelcsT0FBQXMzQixVQUFBbnRCLE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQWdNLFVBQUE3QixPQUFBbkssT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUF1M0IsZUFBQXB0QixPQUFBbkssT0FBQThXLGtCQUFBLEdBQ0FqTSxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEdBQ0EsU0FBQXpMLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGlCQUlBNUosT0FBQWdiLFdBQUEsV0FDQWhiLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBRUExWCxPQUFBeU0sY0FBQSxFQUtBLElBQUFnckIsY0FBQSxTQUFBalksR0FDQSxHQUFBa1ksVUFBQXQzQixVQUFBbUIsTUFDQXpCLFNBQUEsMFFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBKzFCLFVBQUE5MUIsT0FBQUMsS0FBQSxTQUFBODFCLFlBQ0EsV0FBQW5ZLEVBQUE1WCxFQUFBLGdCQUFBekUsUUFDQXlFLEVBQUEsVUFBQXpFLFdBS0F5MEIsY0FBQSxTQUFBcFksR0FDQSxHQUFBcVksV0FBQXozQixVQUFBbUIsTUFDQXpCLFNBQUEsaVJBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBazJCLFdBQUFqMkIsT0FBQUMsS0FBQSxTQUFBODFCLFlBQ0EsV0FBQW5ZLEVBQUE1WCxFQUFBLGlCQUFBekUsUUFDQXlFLEVBQUEsVUFBQXpFLFVBS0FuRCxRQUFBODNCLFdBQUEsU0FBQXg0QixFQUFBeTRCLFdBQ0EsT0FBQXo0QixHQUVBLE9BQUF5NEIsWUFDQS8zQixPQUFBNnhCLElBQUErQixNQUFBLEdBQUE1ekIsT0FBQTZ4QixJQUFBK0IsTUFBQSxJQUFBK0IsTUFBQTMxQixPQUFBNnhCLElBQUErQixRQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBK0IsTUFBQTMxQixPQUFBNnhCLElBQUFpQyxRQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBNkIsTUFBQTMxQixPQUFBNnhCLElBQUFrQyxRQUFBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxTQUNBMEQsYUFBQSxPQUVBOUIsTUFBQTMxQixPQUFBNnhCLElBQUErQixTQUFBNXpCLE9BQUE2eEIsSUFBQStCLE1BQUF4eUIsUUFDQXUwQixNQUFBMzFCLE9BQUE2eEIsSUFBQWlDLFNBQUE5ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTF5QixRQUNBdTBCLE1BQUEzMUIsT0FBQTZ4QixJQUFBa0MsU0FBQS96QixPQUFBNnhCLElBQUFrQyxNQUFBM3lCLFNBR0EsUUFBQTIyQixZQUNBLzNCLE9BQUE2eEIsSUFBQW1DLE1BQUEsTUFBQWgwQixPQUFBNnhCLElBQUFtQyxNQUFBLEtBQUEyQixNQUFBMzFCLE9BQUE2eEIsSUFBQW1DLFFBQUE1eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLE9BQUEyQixNQUFBMzFCLE9BQUE2eEIsSUFBQW9DLFFBQUE3eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW9DLE9BQUEwQixNQUFBMzFCLE9BQUE2eEIsSUFBQXFDLFFBQUE5eUIsU0FBQXBCLE9BQUE2eEIsSUFBQXFDLFNBQ0EwRCxjQUFBLE9BRUFqQyxNQUFBMzFCLE9BQUE2eEIsSUFBQW1DLFNBQUFoMEIsT0FBQTZ4QixJQUFBbUMsTUFBQTV5QixRQUNBdTBCLE1BQUEzMUIsT0FBQTZ4QixJQUFBb0MsU0FBQWowQixPQUFBNnhCLElBQUFvQyxNQUFBN3lCLFFBQ0F1MEIsTUFBQTMxQixPQUFBNnhCLElBQUFxQyxTQUFBbDBCLE9BQUE2eEIsSUFBQXFDLE1BQUE5eUIsV0FLQSxPQUFBMjJCLFlBQ0EvM0IsT0FBQTZ6QixNQUFBL2QsWUFBQSxHQUFBOVYsT0FBQTZ6QixNQUFBL2QsWUFBQSxJQUFBNmYsTUFBQTMxQixPQUFBNnpCLE1BQUEvZCxnQkFDQTJoQixhQUFBLFdBRUE5QixNQUFBMzFCLE9BQUE2ekIsTUFBQS9kLGVBQ0E5VixPQUFBNnpCLE1BQUEvZCxZQUFBMVUsU0FJQSxRQUFBMjJCLFlBQ0EvM0IsT0FBQTZ6QixNQUFBOWQsYUFBQSxNQUFBL1YsT0FBQTZ6QixNQUFBOWQsYUFBQSxLQUFBNGYsTUFBQTMxQixPQUFBNnpCLE1BQUE5ZCxpQkFDQTZoQixjQUFBLFdBRUFqQyxNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGdCQUNBL1YsT0FBQTZ6QixNQUFBOWQsYUFBQTNVLFVBUUEsSUFBQWswQixZQUFBLFNBQUEvQixLQUNBLEVBQUFBLE1BQ0FBLElBQUFBLElBQUFqZixXQUdBaWYsSUFBQUEsSUFBQW5iLFVBQUEsR0FFQSxJQUFBOVksR0FBQWdtQixLQUFBMFMsTUFBQXpFLEtBQ0EwRSxTQUFBLElBQUExRSxJQUFBajBCLEdBQ0FtVixFQUFBNlEsS0FBQTBTLE1BQUFDLFVBQ0E5MkIsR0FBQSxJQUFBODJCLFNBQUF4akIsSUFBQWlmLFFBQUEsRUFFQSxPQUFBLEdBQUFwMEIsRUFBQSxJQUFBbVYsRUFBQSxJQUFBdFQsRUFJQW5CLFFBQUFrNEIsY0FBQSxXQUNBLEdBQUEsTUFBQWw0QixPQUFBNnpCLE1BQUF5QyxZQUVBLEdBQUFsMUIsU0FBQXBCLE9BQUE2eEIsSUFBQStCLE9BQUF4eUIsU0FBQXBCLE9BQUE2eEIsSUFBQWlDLE9BQUExeUIsU0FBQXBCLE9BQUE2eEIsSUFBQWtDLE9BQ0EzeUIsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLE9BQUE1eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW9DLE9BQUE3eUIsU0FBQXBCLE9BQUE2eEIsSUFBQXFDLE1BRUFsMEIsT0FBQTZ6QixNQUFBL2QsWUFBQXdkLFFBQUF0ekIsT0FBQTZ4QixJQUFBK0IsTUFBQTV6QixPQUFBNnhCLElBQUFpQyxNQUFBOXpCLE9BQUE2eEIsSUFBQWtDLE9BQ0EvekIsT0FBQTZ6QixNQUFBOWQsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLFdBQ0EsQ0FFQSxHQUFBaUUsVUFBQS8zQixVQUFBbUIsTUFDQXpCLFNBQUEsdVRBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBdzJCLFVBQUF2MkIsT0FBQUMsS0FBQSxZQUNBVCxTQUFBcEIsT0FBQTZ4QixJQUFBK0IsT0FBQXh5QixTQUFBcEIsT0FBQTZ4QixJQUFBaUMsT0FBQTF5QixTQUFBcEIsT0FBQTZ4QixJQUFBa0MsUUFDQW5zQixFQUFBLFVBQUF6RSxTQUNBL0IsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLE9BQUE1eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW9DLE9BQUE3eUIsU0FBQXBCLE9BQUE2eEIsSUFBQXFDLFFBQ0F0c0IsRUFBQSxVQUFBekUsUUFDQW5ELE9BQUE2ekIsTUFBQXlDLFlBQUEsWUFLQSxJQUFBbDFCLFNBQUFwQixPQUFBNnpCLE1BQUEvZCxZQUFBLENBQ0EsR0FBQXVmLFFBQUFDLFdBQUF0MUIsT0FBQTZ6QixNQUFBL2QsYUFBQXhCLFdBQ0FpaEIsWUFBQUYsT0FBQXoyQixNQUFBLElBQ0FvQixRQUFBNnhCLElBQUErQixNQUFBMkIsWUFBQSxHQUNBdjFCLE9BQUE2eEIsSUFBQWlDLE1BQUF5QixZQUFBLEdBQ0F2MUIsT0FBQTZ4QixJQUFBa0MsTUFBQXdCLFlBQUEsRUFFQSxJQUFBQyxTQUFBRixXQUFBdDFCLE9BQUE2ekIsTUFBQTlkLGNBQ0EwZixhQUFBRCxRQUFBNTJCLE1BQUEsSUFDQW9CLFFBQUE2eEIsSUFBQW1DLE1BQUEsR0FBQXlCLGFBQUEsR0FDQXoxQixPQUFBNnhCLElBQUFvQyxNQUFBd0IsYUFBQSxHQUNBejFCLE9BQUE2eEIsSUFBQXFDLE1BQUF1QixhQUFBLEtBTUF6MUIsT0FBQW80QixXQUFBLFNBQUFDLElBRUEsR0FBQUEsR0FBQTl2QixVQUVBLEdBREF2SSxPQUFBazNCLGlCQUFBdjBCLEtBQUEwMUIsSUFDQWozQixTQUFBcEIsT0FBQTZ6QixNQUFBN3hCLFFBQUEsQ0FFQSxHQUFBbUcsR0FBQW5JLE9BQUFtM0Isb0JBQUEzb0IsSUFBQSxTQUFBaEosR0FBQSxNQUFBQSxHQUFBOHlCLGtCQUFBcHVCLFFBQUFtdUIsR0FBQUMsZ0JBQ0Fud0IsSUFBQSxHQUFBbkksT0FBQW0zQixvQkFBQWh0QixPQUFBaEMsRUFBQSxRQUVBLENBRUEsR0FBQThCLEtBQUFqSyxPQUFBazNCLGlCQUFBMW9CLElBQUEsU0FBQWhKLEdBQUEsTUFBQUEsR0FBQTh5QixrQkFBQXB1QixRQUFBbXVCLEdBQUFDLGdCQUNBcnVCLE1BQUEsR0FBQWpLLE9BQUFrM0IsaUJBQUEvc0IsT0FBQUYsSUFBQSxHQUVBN0ksU0FBQXBCLE9BQUE2ekIsTUFBQTd4QixTQUNBaEMsT0FBQW0zQixvQkFBQXgwQixLQUFBMDFCLE1BTUFyNEIsT0FBQXU0QixTQUFBLFNBQUFDLEdBRUEsR0FBQUEsRUFBQWp3QixVQUVBLEdBREF2SSxPQUFBZzNCLGlCQUFBcjBCLEtBQUE2MUIsR0FDQXAzQixTQUFBcEIsT0FBQTZ6QixNQUFBN3hCLFFBQUEsQ0FFQSxHQUFBbUcsR0FBQW5JLE9BQUFpM0Isb0JBQUF6b0IsSUFBQSxTQUFBaEosR0FBQSxNQUFBQSxHQUFBaXpCLGtCQUFBdnVCLFFBQUFzdUIsRUFBQUMsZ0JBQ0F0d0IsSUFBQSxHQUFBbkksT0FBQWkzQixvQkFBQTlzQixPQUFBaEMsRUFBQSxRQUVBLENBRUEsR0FBQThCLEtBQUFqSyxPQUFBZzNCLGlCQUFBeG9CLElBQUEsU0FBQWhKLEdBQUEsTUFBQUEsR0FBQWl6QixrQkFBQXZ1QixRQUFBc3VCLEVBQUFDLGdCQUNBeHVCLE1BQUEsR0FBQWpLLE9BQUFnM0IsaUJBQUE3c0IsT0FBQUYsSUFBQSxHQUVBN0ksU0FBQXBCLE9BQUE2ekIsTUFBQTd4QixTQUNBaEMsT0FBQWkzQixvQkFBQXQwQixLQUFBNjFCLEdBS0EsR0FBQSxlQUFBQSxFQUFBN2lCLE1BQUE2aUIsRUFBQWp3QixZQUFBLEVBQUEsQ0FFQSxJQUFBLEdBQUFtd0IsSUFBQSxFQUFBQSxHQUFBMTRCLE9BQUFneUIsWUFBQXRzQixPQUFBZ3pCLEtBRUEsZUFBQTE0QixPQUFBZ3lCLFlBQUEwRyxJQUFBL2lCLE1BQUEzVixPQUFBZ3lCLFlBQUEwRyxJQUFBbndCLFlBQUEsSUFDQXZJLE9BQUFpM0Isb0JBQUF0MEIsS0FBQTNDLE9BQUFneUIsWUFBQTBHLEtBQ0ExNEIsT0FBQWd5QixZQUFBMEcsSUFBQW53QixVQUFBLEVBSUF2SSxRQUFBdzJCLFFBQUEsY0FHQSxlQUFBZ0MsRUFBQTdpQixNQUFBNmlCLEVBQUFqd0IsWUFBQSxJQUNBdkksT0FBQXcyQixRQUFBLEtBSUF4MkIsT0FBQTI0QixVQUFBLFdBQ0EsR0FBQSxHQUFBMzRCLE9BQUE2ekIsTUFBQStFLHVCQUFBLENBQ0E1NEIsT0FBQTQyQixvQkFBQSxDQUVBLEtBQUEsR0FBQXhILEdBQUEsRUFBQUEsRUFBQXB2QixPQUFBa3lCLGFBQUF4c0IsT0FBQTBwQixJQUNBcHZCLE9BQUFreUIsYUFBQTlDLEdBQUE3bUIsVUFBQSxDQUVBdkksUUFBQTZ6QixNQUFBZ0YsK0JBQUEsU0FFQTc0QixRQUFBNDJCLG9CQUFBLEdBSUE1MkIsT0FBQTg0QixlQUNBOTRCLE9BQUErNEIsZ0JBQUEsV0FDQS80QixPQUFBODRCLGdCQUNBOTRCLE9BQUEwMkIsVUFBQXNDLFFBQUFoNUIsT0FBQTZ6QixNQUFBbUYsUUFDQWg1QixPQUFBMDJCLFVBQUF1QyxLQUFBajVCLE9BQUE2ekIsTUFBQW9GLEtBQ0FqNUIsT0FBQTAyQixVQUFBcnVCLE1BQUFySSxPQUFBNnpCLE1BQUF4ckIsTUFDQXJJLE9BQUEwMkIsVUFBQXBvQixJQUFBdE8sT0FBQTZ6QixNQUFBdmxCLE1BRUF0TyxPQUFBMDJCLFVBQUFzQyxRQUFBLEdBQ0FoNUIsT0FBQTAyQixVQUFBdUMsS0FBQSxHQUNBajVCLE9BQUEwMkIsVUFBQXJ1QixNQUFBLEdBQ0FySSxPQUFBMDJCLFVBQUFwb0IsSUFBQSxLQUlBdE8sT0FBQWthLEtBQUEsU0FBQVQsT0FDQUEsUUFDQXpaLE9BQUE2ekIsTUFBQS9kLFlBQUEsR0FBQTlWLE9BQUE2ekIsTUFBQS9kLFlBQUEsSUFBQTZmLE1BQUEzMUIsT0FBQTZ6QixNQUFBL2QsY0FDQTJoQixhQUFBLFdBRUE5QixNQUFBMzFCLE9BQUE2ekIsTUFBQS9kLGVBQ0E5VixPQUFBNnpCLE1BQUEvZCxZQUFBMVUsU0FFQXBCLE9BQUE2ekIsTUFBQTlkLGFBQUEsTUFBQS9WLE9BQUE2ekIsTUFBQTlkLGFBQUEsS0FBQTRmLE1BQUEzMUIsT0FBQTZ6QixNQUFBOWQsZUFDQTZoQixjQUFBLFdBRUFqQyxNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGdCQUNBL1YsT0FBQTZ6QixNQUFBOWQsYUFBQTNVLFVBR0EwRSxXQUFBMEQsZUFBQUMsYUFBQSxFQUVBdkosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBRUFYLE9BQUEyMkIsZ0JBQUEsRUFFQSxPQUFBMzJCLE9BQUE2ekIsTUFBQXFGLHFCQUFBOTNCLFNBQUFwQixPQUFBNnpCLE1BQUFxRixxQkFBQWw1QixPQUFBNnpCLE1BQUFxRixvQkFBQSxFQUVBNUgsa0JBQUFoWCxRQUFBdlksR0FBQS9CLE9BQUE2ekIsTUFBQXFGLHFCQUFBbDVCLE9BQUEwMkIsV0FBQWpuQixTQUFBNU4sS0FBQSxXQUNBczNCLG1CQUNBLFNBQUFuNEIsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFDQUFBTyxjQUFBNEksY0FFQXhJLFNBQUFwQixPQUFBMDJCLFVBQUF4ZCxPQUFBOVgsU0FBQXBCLE9BQUEwMkIsVUFBQXZkLE9BQUEvWCxTQUFBcEIsT0FBQTAyQixVQUFBdGpCLE9BQ0FoUyxTQUFBcEIsT0FBQTAyQixVQUFBc0MsU0FBQTUzQixTQUFBcEIsT0FBQTAyQixVQUFBdUMsTUFBQTczQixTQUFBcEIsT0FBQTAyQixVQUFBMEMsYUFFQTlILGtCQUFBcFgsS0FBQWxhLE9BQUEwMkIsVUFBQSxTQUFBcHRCLFVBQ0F0SixPQUFBNnpCLE1BQUFxRixvQkFBQTV2QixTQUFBK3ZCLG1CQUNBRixtQkFDQSxTQUFBbjRCLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxxQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxxQ0FBQU8sY0FBQTRJLGNBRUF1dkIsa0JBQ0FBLG9CQUlBLElBQUFBLGlCQUFBLFdBQ0EvM0IsU0FBQXBCLE9BQUE2eEIsSUFBQStCLFFBQUE1ekIsT0FBQTZ6QixNQUFBL2QsWUFBQXdkLFFBQUF0ekIsT0FBQTZ4QixJQUFBK0IsTUFBQTV6QixPQUFBNnhCLElBQUFpQyxNQUFBOXpCLE9BQUE2eEIsSUFBQWtDLFFBQ0EzeUIsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLFFBQUFoMEIsT0FBQTZ6QixNQUFBOWQsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLE9BQ0EsSUFBQW9GLFlBQUExN0IsUUFBQStaLEtBQUEzWCxPQUFBNnpCLGFBQ0F5RixZQUFBQyxjQUFBRCxZQUFBRSw4QkFBQUYsWUFBQUcsc0JBQUFILFlBQUFJLG1CQUNBSixZQUFBaEQsWUFDQW4yQixLQUFBbWEsUUFBQXZZLEdBQUEvQixPQUFBNnpCLE1BQUE3eEIsU0FBQXMzQixXQUFBLFNBQUFod0IsVUFFQSxHQUNBcXdCLGlCQURBN00sR0FBQThNLFlBRUFDLGNBRUFqOEIsU0FBQXlNLFFBQUFySyxPQUFBKzJCLG1CQUFBLFNBQUErQyxNQUNBLEdBQUFDLFdBQUExSSxhQUFBQSxXQUFBdHZCLEdBQUErM0IsT0FBQXJxQixRQUNBa3FCLGdCQUFBaDNCLEtBQUFvM0IsYUFHQW44QixRQUFBeU0sUUFBQXJLLE9BQUFpM0Isb0JBQUEsU0FBQStDLEtBQ0EsR0FBQUMsV0FBQTk1QixLQUFBKzVCLHVCQUFBQyxPQUFBbjZCLE9BQUE2ekIsTUFBQTd4QixRQUFBbzRCLGNBQUFKLElBQUF2QixrQkFBQWhwQixRQUNBa3FCLGdCQUFBaDNCLEtBQUFzM0IsYUFHQXI4QixRQUFBeU0sUUFBQXJLLE9BQUFtM0Isb0JBQUEsU0FBQWtELEtBQ0EsR0FBQUMsV0FBQW42QixLQUFBbzZCLHVCQUFBSixPQUFBbjZCLE9BQUE2ekIsTUFBQTd4QixRQUFBdzRCLGNBQUFILElBQUEvQixrQkFBQTdvQixRQUNBa3FCLGdCQUFBaDNCLEtBQUEyM0IsYUFHQXQ2QixPQUFBaTJCLGNBQUEsR0FDQXI0QixRQUFBeU0sUUFBQXJLLE9BQUFtMkIsb0JBQUEsU0FBQXNFLElBQ0EsR0FBQUMsVUFDQXQ1QixVQUFBcTVCLEdBQUFFLGdCQUVBRCxVQUFBckosYUFBQS9XLFFBQUF2WSxHQUFBMDRCLEdBQUFFLGlCQUFBRixJQUFBaHJCLFVBR0FnckIsR0FBQXo0QixRQUFBaEMsT0FBQTZ6QixNQUFBN3hCLFFBQ0EwNEIsVUFBQXJKLGFBQUFuWCxLQUFBdWdCLElBQUFockIsVUFFQW9xQixZQUFBbDNCLEtBQUErM0IsYUFJQTk4QixRQUFBeU0sUUFBQXJLLE9BQUFnM0IsaUJBQUEsU0FBQTRELE1BQ0E1NkIsT0FBQW8zQixpQkFBQXowQixLQUFBaTRCLEtBQUFqbEIsS0FDQSxJQUFBa2xCLFdBQUExNkIsS0FBQTI2QixxQkFBQVgsT0FBQW42QixPQUFBNnpCLE1BQUE3eEIsUUFBQW80QixjQUFBUSxLQUFBbkMsa0JBQUFocEIsUUFDQW9xQixhQUFBbDNCLEtBQUFrNEIsYUFHQWo5QixRQUFBeU0sUUFBQXJLLE9BQUFrM0IsaUJBQUEsU0FBQTZELE1BQ0EvNkIsT0FBQXEzQixpQkFBQTEwQixLQUFBbzRCLEtBQUFDLGtCQUNBLElBQUFDLFdBQUE5NkIsS0FBQSs2QixxQkFBQWYsT0FBQW42QixPQUFBNnpCLE1BQUE3eEIsUUFBQXc0QixjQUFBTyxLQUFBekMsa0JBQUE3b0IsUUFDQW9xQixhQUFBbDNCLEtBQUFzNEIsYUFJQW5PLEdBQUFxTyxJQUFBeEIsZ0JBQUE5M0IsS0FBQSxXQUNBaXJCLEdBQUFxTyxJQUFBdEIsYUFBQWg0QixLQUFBLFNBQUF5SCxVQUNBdEosT0FBQW8zQixvQkFBQXAzQixPQUFBcTNCLG9CQUNBejVCLFFBQUF5TSxRQUFBckssT0FBQWd5QixZQUFBLFNBQUEwRyxJQUNBQSxHQUFBbndCLFlBQUEsR0FBQXZJLE9BQUFvM0IsaUJBQUF6MEIsS0FBQSsxQixHQUFBL2lCLFFBRUEvWCxRQUFBeU0sUUFBQXJLLE9BQUFpeUIsWUFBQSxTQUFBb0csSUFDQUEsR0FBQTl2QixZQUFBLEdBQUF2SSxPQUFBcTNCLGlCQUFBMTBCLEtBQUEwMUIsR0FBQTJDLG9CQUVBLElBQUFqYyxXQUFBL2UsT0FBQTZ6QixNQUFBN3pCLE9BQUFvM0IsaUJBQUFwM0IsT0FBQXEzQixpQkFDQTcxQixtQkFBQUUsTUFBQXFkLFVBQ0FqWixXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBK00sUUFBQSxrQkFYQXFXLFNBY0EsU0FBQXNPLEtBQ0FqbkIsUUFBQXhLLE1BQUF5eEIsU0FoQkF0TyxTQWtCQSxTQUFBc08sS0FDQWpuQixRQUFBeEssTUFBQXl4QixRQUVBLFNBQUFwNkIsZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHNCQUFBTyxjQUFBNEksZUFLQXl4QixXQUFBLFNBQUFuTSxLQUVBLEdBQ0FvTSxlQURBeE8sR0FBQThNLFdBR0FoOEIsU0FBQXlNLFFBQUFySyxPQUFBbTJCLG9CQUFBLFNBQUFvRixPQUNBQSxNQUFBdjVCLFFBQUFrdEIsVUFDQXFNLE9BQUFuYixTQUNBLElBQUFvYixXQUFBbkssYUFBQW5YLEtBQUFxaEIsT0FBQTlyQixRQUNBNnJCLGNBQUEzNEIsS0FBQTY0QixhQUdBNTlCLFFBQUF5TSxRQUFBckssT0FBQWd5QixZQUFBLFNBQUF5SixPQUNBLEdBQUFBLE1BQUFsekIsWUFBQSxFQUFBLENBQ0EsR0FBQW16QixXQUFBdjdCLEtBQUEyNkIscUJBQUFYLE9BQUFqTCxJQUFBa0wsY0FBQXFCLE1BQUFoRCxrQkFBQWhwQixRQUNBNnJCLGNBQUEzNEIsS0FBQSs0QixjQUlBOTlCLFFBQUF5TSxRQUFBckssT0FBQWl5QixZQUFBLFNBQUEwSixPQUNBLEdBQUFBLE1BQUFwekIsWUFBQSxFQUFBLENBQ0EsR0FBQXF6QixXQUFBejdCLEtBQUErNkIscUJBQUFmLE9BQUFqTCxJQUFBc0wsY0FBQW1CLE1BQUFyRCxrQkFBQTdvQixRQUNBNnJCLGNBQUEzNEIsS0FBQWk1QixjQUlBOU8sR0FBQXFPLElBQUFHLGNBQUF6NUIsS0FBQSxTQUFBeUgsVUFDQTlILGtCQUFBdU8sUUFBQSxVQUNBakssV0FBQTBELGVBQUFDLGFBQUEsRUFDQXRGLFNBQUEsV0FFQWxFLE9BQUE2QixHQUFBLGtCQUFBQyxHQUFBbXRCLFVBSUFsdkIsUUFBQTY3QixPQUFBLFNBQUFwaUIsT0FDQUEsUUFDQXpaLE9BQUE2ekIsTUFBQS9kLFlBQUEsR0FBQTlWLE9BQUE2ekIsTUFBQS9kLFlBQUEsSUFBQTZmLE1BQUEzMUIsT0FBQTZ6QixNQUFBL2QsY0FDQTJoQixhQUFBLFdBRUE5QixNQUFBMzFCLE9BQUE2ekIsTUFBQS9kLGVBQ0E5VixPQUFBNnpCLE1BQUEvZCxZQUFBMVUsU0FFQXBCLE9BQUE2ekIsTUFBQTlkLGFBQUEsTUFBQS9WLE9BQUE2ekIsTUFBQTlkLGFBQUEsS0FBQTRmLE1BQUEzMUIsT0FBQTZ6QixNQUFBOWQsZUFDQTZoQixjQUFBLFdBRUFqQyxNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGdCQUNBL1YsT0FBQTZ6QixNQUFBOWQsYUFBQTNVLFVBR0EwRSxXQUFBMEQsZUFBQUMsYUFBQSxFQUVBdkosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEseUJBQ0FYLFFBQUE2ekIsTUFBQTBGLGNBQUF2NUIsUUFBQTZ6QixNQUFBeUMsWUFDQXQyQixPQUFBMjJCLGdCQUFBLElBQ0F2MUIsU0FBQXBCLE9BQUEwMkIsVUFBQXhkLE9BQUE5WCxTQUFBcEIsT0FBQTAyQixVQUFBdmQsT0FBQS9YLFNBQUFwQixPQUFBMDJCLFVBQUF0akIsT0FDQWhTLFNBQUFwQixPQUFBMDJCLFVBQUFzQyxTQUFBNTNCLFNBQUFwQixPQUFBMDJCLFVBQUF1QyxNQUFBNzNCLFNBQUFwQixPQUFBMDJCLFVBQUEwQyxjQUNBOUgsa0JBQUFwWCxLQUFBbGEsT0FBQTAyQixVQUFBLFNBQUFwdEIsVUFDQXRKLE9BQUE2ekIsTUFBQXFGLG9CQUFBNXZCLFNBQUErdkIsbUJBRUF5QyxvQkFDQSxTQUFBOTZCLGVBQ0E4RSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxtQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxtQ0FBQU8sY0FBQTRJLGNBTUFreUIscUJBS0EsSUFBQUEsa0JBQUEsV0FFQSxHQUFBQyxlQUFBLENBQ0EzNkIsVUFBQXBCLE9BQUE2eEIsSUFBQStCLFFBQUE1ekIsT0FBQTZ6QixNQUFBL2QsWUFBQXdkLFFBQUF0ekIsT0FBQTZ4QixJQUFBK0IsTUFBQTV6QixPQUFBNnhCLElBQUFpQyxNQUFBOXpCLE9BQUE2eEIsSUFBQWtDLFFBQ0EzeUIsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLFFBQUFoMEIsT0FBQTZ6QixNQUFBOWQsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLFFBRUEvekIsS0FBQStaLEtBQUFsYSxPQUFBNnpCLE1BQUEsU0FBQXZxQixVQUdBLEdBRkF5eUIsY0FBQXp5QixTQUFBdEgsUUFFQWhDLE9BQUE0MkIsc0JBQUEsRUFBQSxDQUVBLEdBQUFvRix5QkFBQWg4QixPQUFBa3lCLGFBQUEvbEIsT0FBQSxTQUFBOHZCLEdBQUEsTUFBQUEsR0FBQTF6QixZQUFBLEdBQ0F5ekIseUJBQUF0MkIsT0FBQSxFQUNBOUgsUUFBQXlNLFFBQUEyeEIsd0JBQUEsU0FBQUUsU0FBQUMsT0FFQSxHQUFBak4sS0FBQSxDQUNBdHhCLFNBQUF5TSxRQUFBckssT0FBQW15QixpQkFBQSxTQUFBaEQsS0FDQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUEsRUFBQUQsSUFBQXhRLGdCQUFBalosT0FBQTBwQixJQUNBRCxJQUFBeFEsZ0JBQUF5USxHQUFBeFEsb0JBQUFzZCxTQUFBdGQscUJBQ0FzUSxJQUFBQyxJQUFBelEsaUJBSUEsSUFBQTBkLGNBQUFsTixJQUNBekksTUFDQW5JLFNBQUEsRUFDQWdELHFCQUFBLDBFQUNBMUMsbUJBQUFzZCxTQUFBdGQsbUJBQ0E1YyxRQUFBKzVCLGNBQ0FyZCxlQUFBMGQsY0FFQXhhLGFBQUEsQ0FDQXpXLFlBQUErTyxLQUFBdU0sTUFBQWhYLFNBQUE1TixLQUFBLFNBQUF3NkIsYUFDQXphLGFBQUF5YSxZQUFBaHdCLGFBQ0EsSUFBQWl3QixXQUFBandCLGNBQUFnd0IsWUFBQWh3QixjQUFBK1EsZUFBQSxFQUFBckUsVUFBQS9ZLE9BQUE2ekIsTUFBQTlhLFVBQUEyRyxXQUFBLEdBQUF0UCxNQUFBa0osVUFBQSxNQUNBbE8sbUJBQUE4TyxLQUFBb2lCLFVBQUE3c0IsU0FBQTVOLEtBQUEsV0FFQXM2QixPQUFBSCx3QkFBQXQyQixPQUFBLEdBQ0EyMUIsV0FBQVUsZ0JBQ0EsU0FBQS82QixlQUNBOEUsV0FBQTBELGVBQUFDLGFBQUEsRUFFQTBCLFdBQUFBLFdBQUFwSixHQUFBNmYsZUFDQWxZLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG1DQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG1DQUFBTyxjQUFBNEksZ0JBR0F5eEIsV0FBQVUsbUJBRUFWLFlBQUFVLGdCQUVBLFNBQUEvNkIsZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksY0FJQSxJQUFBeEksU0FBQWd3QixjQUFBLENBT0EsR0FKQXB4QixPQUFBNnpCLE1BQUFqMkIsUUFBQStaLEtBQUF5WixjQUFBLElBRUFweEIsT0FBQTZ6QixNQUFBd0Msb0JBQUEsSUFBQXIyQixPQUFBNnpCLE1BQUF3QyxtQkFBQSxNQUVBcjJCLE9BQUE2ekIsTUFBQStFLHVCQUFBLEVBQUEsQ0FDQTU0QixPQUFBNDJCLG9CQUFBLENBRUEsS0FBQSxHQUFBeEgsR0FBQSxFQUFBQSxFQUFBcHZCLE9BQUFreUIsYUFBQXhzQixPQUFBMHBCLElBQ0FwdkIsT0FBQWt5QixhQUFBOUMsR0FBQTdtQixVQUFBLENBRUF2SSxRQUFBNnpCLE1BQUFnRiwrQkFBQSxLQUlBLEdBQUE3RCxXQUFBaDFCLE9BQUEweEIsVUFBQXZsQixPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUFtSCxjQUFBdEksT0FBQTZ6QixNQUFBeHJCLFFBQUEsRUFJQSxJQUhBckksT0FBQTR4QixnQkFBQTV4QixPQUFBMnhCLGNBQUF4bEIsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQUUsVUFBQUMsVUFBQUQsV0FHQTNELGNBQUEsR0FBQTFyQixPQUFBLEVBQUEsQ0FDQTFGLE9BQUF1MkIscUJBQUFuRixjQUFBLEdBQ0FweEIsT0FBQTYyQixvQkFBQSxFQUNBNzJCLE9BQUFtMkIsb0JBQUEvRSxjQUFBLEVBR0EsS0FBQSxHQUFBcUosSUFBQSxFQUFBQSxHQUFBejZCLE9BQUE4eEIsbUJBQUFwc0IsT0FBQSswQixLQUFBLENBRUEsSUFBQSxHQUFBcnlCLEdBQUEsRUFBQUEsRUFBQXBJLE9BQUF1MkIscUJBQUE3d0IsT0FBQTBDLElBQ0FwSSxPQUFBdTJCLHFCQUFBbnVCLEdBQUErWCxpQkFBQW5nQixPQUFBOHhCLG1CQUFBMkksSUFBQXRhLGlCQUNBbmdCLE9BQUE4eEIsbUJBQUEySSxJQUFBbHlCLFVBQUEsRUFDQUgsRUFBQXBJLE9BQUF1MkIscUJBQUE3d0IsUUFHQTFGLE9BQUE4eEIsbUJBQUEySSxJQUFBbHlCLFVBQUEsQ0FHQSxLQUFBdkksT0FBQXUyQixxQkFBQTd3QixTQUNBMUYsT0FBQTh4QixtQkFBQTJJLElBQUFseUIsVUFBQSxJQVFBLEdBQUE2b0IsY0FBQSxHQUFBMXJCLE9BQUEsRUFBQSxDQUdBLElBQUEsR0FGQTYyQixZQUFBMytCLFFBQUErWixLQUFBeVosY0FBQSxJQUVBMVksRUFBQSxFQUFBQSxFQUFBMVksT0FBQWd5QixZQUFBdHNCLE9BQUFnVCxJQUFBLENBQ0EsSUFBQSxHQUFBbFQsR0FBQSxFQUFBQSxFQUFBKzJCLFdBQUE3MkIsT0FBQUYsSUFDQSsyQixXQUFBLzJCLEdBQUFpekIsaUJBQUF6NEIsT0FBQWd5QixZQUFBdFosR0FBQStmLGlCQUNBejRCLE9BQUFneUIsWUFBQXRaLEdBQUFuUSxVQUFBLEVBQ0EvQyxFQUFBKzJCLFdBQUE3MkIsUUFFQTFGLE9BQUFneUIsWUFBQXRaLEdBQUFuUSxVQUFBLENBR0EsS0FBQWcwQixXQUFBNzJCLFNBQ0ExRixPQUFBZ3lCLFlBQUF0WixHQUFBblEsVUFBQSxHQUVBdkksT0FBQWd5QixZQUFBLEdBQUF6cEIsWUFBQSxJQUVBdkksT0FBQXcyQixRQUFBLGVBSUEsR0FBQXBGLGNBQUEsR0FBQTFyQixPQUFBLEVBR0EsSUFBQSxHQUZBODJCLFdBQUE1K0IsUUFBQStaLEtBQUF5WixjQUFBLElBRUFxTCxHQUFBLEVBQUFBLEdBQUF6OEIsT0FBQWl5QixZQUFBdnNCLE9BQUErMkIsS0FBQSxDQUNBLElBQUEsR0FBQUMsSUFBQSxFQUFBQSxHQUFBRixVQUFBOTJCLE9BQUFnM0IsS0FDQUYsVUFBQUUsSUFBQXBFLGlCQUFBdDRCLE9BQUFpeUIsWUFBQXdLLElBQUFuRSxpQkFDQXQ0QixPQUFBaXlCLFlBQUF3SyxJQUFBbDBCLFVBQUEsRUFDQW0wQixHQUFBRixVQUFBOTJCLFFBRUExRixPQUFBaXlCLFlBQUF3SyxJQUFBbDBCLFVBQUEsQ0FHQSxLQUFBaTBCLFVBQUE5MkIsU0FDQTFGLE9BQUFpeUIsWUFBQXdLLElBQUFsMEIsVUFBQSxHQUtBbkgsU0FBQWd3QixjQUFBLEtBQ0FweEIsT0FBQTAyQixVQUFBdEYsY0FBQSxHQUNBcHhCLE9BQUEyMkIsYUFBQXYxQixTQUFBcEIsT0FBQTAyQixVQUFBeGQsT0FBQTlYLFNBQUFwQixPQUFBMDJCLFVBQUF2ZCxPQUFBL1gsU0FBQXBCLE9BQUEwMkIsVUFBQXNDLFNBQUE1M0IsU0FBQXBCLE9BQUEwMkIsVUFBQTBDLGNBQUEsR0FBQSxHQUdBcDVCLE9BQUFtQixHQUFBdzdCLE9BQUEsRUFBQTd1QixXQUFBLE9BTUE1TixPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBblYsT0FBQXZXLEdBQUFnRSxTQUFBRSxJQUFBLFFBQUEsU0FBQXFELFVBQ0F0SixPQUFBNnpCLE1BQUEwRixRQUFBandCLFNBQUE0UCxNQUFBLElBQUE1UCxTQUFBNlAsTUFDQW5aLE9BQUE2ekIsTUFBQTlhLFVBQUF6UCxTQUFBeVAsVUFDQS9ZLE9BQUE2ekIsTUFBQWdGLCtCQUFBLEtBQ0E3NEIsT0FBQTZ6QixNQUFBK0ksZUFBQSxjQUVBLFNBQUE1N0IsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG1DQUFBTyxjQUFBNEksY0FFQTVKLE9BQUFtQixHQUFBdzdCLE9BQUEsRUFLQTM4QixRQUFBZ2YsTUFBQSxTQUFBQyxLQUNBLEdBQUFDLFVBQUFELEtBQUFFLE9BQUFqZCxNQUNBa2QsSUFBQUYsU0FBQUcsU0FBQUgsU0FBQS9jLEtBQ0EsS0FBQWlkLEtBQUEsSUFBQUEsS0FBQUEsSUFBQSxLQUFBLEdBQUFBLEtBQUFBLElBQUEsTUFDQUYsU0FBQUksYUFBQSxFQUNBSixTQUFBM2MsZ0JBQUEyYyxTQUFBM2MsbUJBS0F2QyxPQUFBNjhCLGVBQUEsU0FBQXBDLElBS0EsR0FKQXo2QixPQUFBaTJCLFlBQUEsRUFJQXdFLEdBQUFseUIsWUFBQSxFQUFBLENBQ0EsR0FBQXUwQixTQUFBMWMsVUFBQXFhLEdBQUFyYSxVQUFBRCxnQkFBQXNhLEdBQUF0YSxnQkFBQXphLE9BQUErMEIsR0FBQS8wQixPQUFBcTNCLFNBQUF0QyxHQUFBc0MsU0FBQUMsTUFBQXZDLEdBQUF1QyxNQUFBQyxPQUFBLEVBQ0FqOUIsUUFBQW0yQixvQkFBQXh6QixLQUFBbTZCLFFBQ0E5OEIsT0FBQTYyQixvQkFBQSxFQUVBLEdBQUE0RCxHQUFBbHlCLFlBQUEsRUFBQSxDQUNBLEdBQUFuSCxTQUFBcEIsT0FBQTZ6QixNQUFBN3hCLFFBQUEsQ0FDQSxHQUFBazdCLE9BQUFsOUIsT0FBQW0yQixvQkFBQWhxQixPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUF5TCxXQUFBcWEsR0FBQXJhLFlBQUEsR0FBQXVhLGVBQ0EzNkIsUUFBQSsyQixtQkFBQXAwQixLQUFBdTZCLE9BRUEsR0FBQS8wQixHQUFBbkksT0FBQW0yQixvQkFBQWpzQixRQUFBbEssT0FBQW0yQixvQkFBQWhxQixPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUF5TCxXQUFBcWEsR0FBQXJhLFlBQUEsR0FDQXBnQixRQUFBbTJCLG9CQUFBaHNCLE9BQUFoQyxFQUFBLEdBQ0EsSUFBQW5JLE9BQUFtMkIsb0JBQUF6d0IsU0FDQTFGLE9BQUE2MkIsb0JBQUEsS0FPQTcyQixPQUFBbTlCLGtCQUFBLFdBQ0FuOUIsT0FBQTIyQixjQUFBLEdBSUEzMkIsT0FBQW85QixpQkFBQSxTQUFBajhCLEdBQ0EsR0FBQTZ6QixXQUFBaDFCLE9BQUEweEIsVUFBQXZsQixPQUFBLFNBQUE3QixJQUFBLE1BQUFBLElBQUFoQyxjQUFBbkgsSUFBQSxFQUNBbkIsUUFBQTR4QixnQkFBQTV4QixPQUFBMnhCLGNBQUF4bEIsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQUUsVUFBQUMsVUFBQUQsWUFJQS8wQixPQUFBZ1MsT0FBQSxXQUNBbE0sV0FBQTBELGVBQUFDLGFBQUEsRUFDQWpJLGtCQUFBdU8sUUFBQSxXQUlBL1AsT0FBQXE5QixXQUFBLFdBQ0EsR0FBQXRRLFVBQUEvc0IsT0FBQTZ6QixNQUNBeUosV0FBQWw5QixVQUFBbUIsTUFDQXpCLFNBQUEsK1ZBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBdTlCLE9BQUF4USxTQUFBK0ksUUFDQTkxQixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQXVPLFFBQUEsV0FFQS9QLE9BQUF3OUIsU0FBQSxXQUVBaDhCLGtCQUFBRSxNQUFBcXJCLGFBR0FwckIsS0FBQSxNQUVBMjdCLFlBQUExN0IsT0FBQUMsS0FBQSxTQUFBVixHQUNBakIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQTlGLEtBQUFBLFdBQUE0QixHQUFBWixFQUFBYSxVQUFBeU4sU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGVBQ0EsSUFBQXNJLFVBQUEsU0FDQXZkLG1CQUFBRSxNQUFBcWQsV0FDQSxTQUFBL2QsZUFDQVosVUFBQW1CLE1BQ0F6QixTQUFBLGtPQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQThQLFFBQUE5TyxjQUFBUCxRQUFBLG9CQUNBVCxPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQXVPLFFBQUEsYUFFQXBPLEtBQUEsWUFNQW1FLFdBQUEwRCxlQUFBQyxhQUFBLFFDaHRDQSxXQUVBLFlBRUEsSUFBQTlMLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsZUFBQSxTQUFBLGFBQUEsV0FBQSxZQUFBLFNBQUEsT0FBQSxXQUFBLGtCQUNBLGNBQUEsYUFBQSxhQUFBLGVBQUEsY0FBQSxrQkFBQSxlQUFBLGdCQUFBLGtCQUFBLGNBQUEsUUFDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQUMsVUFBQS9GLE9BQUFFLEtBQUFzOUIsU0FBQUMsZ0JBQ0FDLFlBQUFDLFdBQUFDLFdBQUFDLGFBQUFDLFlBQUFDLGdCQUFBQyxhQUFBQyxjQUFBQyxnQkFBQUMsWUFBQXZLLE9BQ0EsR0FBQXp5QixTQUFBeXlCLE1BQUEsQ0FDQTd6QixPQUFBcStCLFNBQUEsbUNBQ0FyK0IsT0FBQStzQixTQUFBOEcsTUFDQTd6QixPQUFBcytCLFlBQUFiLFNBQ0F6OUIsT0FBQXUrQixtQkFBQVosWUFBQXh4QixPQUFBLFNBQUFxeUIsSUFBQSxNQUFBQSxJQUFBeDhCLFNBQUE2eEIsTUFBQTd4QixVQUNBaEMsT0FBQXkrQixrQkFBQWIsV0FBQXp4QixPQUFBLFNBQUFxeUIsSUFBQSxNQUFBQSxJQUFBeDhCLFNBQUE2eEIsTUFBQTd4QixVQUNBaEMsT0FBQTArQixrQkFBQWIsV0FBQTF4QixPQUFBLFNBQUFxeUIsSUFBQSxNQUFBQSxJQUFBeDhCLFNBQUE2eEIsTUFBQTd4QixVQUNBaEMsT0FBQTIrQixvQkFBQWIsYUFBQTN4QixPQUFBLFNBQUFxeUIsSUFBQSxNQUFBQSxJQUFBeDhCLFNBQUE2eEIsTUFBQTd4QixVQUNBaEMsT0FBQTQrQixtQkFBQWIsWUFBQTV4QixPQUFBLFNBQUFxeUIsSUFBQSxNQUFBQSxJQUFBeDhCLFNBQUE2eEIsTUFBQTd4QixVQUNBaEMsT0FBQTYrQix1QkFBQWIsZ0JBQUE3eEIsT0FBQSxTQUFBcXlCLElBQUEsTUFBQUEsSUFBQXg4QixTQUFBNnhCLE1BQUE3eEIsVUFDQWhDLE9BQUE4K0Isb0JBQUFiLGFBQUE5eEIsT0FBQSxTQUFBcXlCLElBQUEsTUFBQUEsSUFBQXg4QixTQUFBNnhCLE1BQUE3eEIsVUFDQWhDLE9BQUErK0Isa0JBQUFiLGNBQUEveEIsT0FBQSxTQUFBcXlCLElBQUEsTUFBQUEsSUFBQXg4QixTQUFBNnhCLE1BQUE3eEIsVUFDQWhDLE9BQUFnL0IsbUJBQUFiLGdCQUFBaHlCLE9BQUEsU0FBQXF5QixJQUFBLE1BQUFBLElBQUF4OEIsU0FBQTZ4QixNQUFBN3hCLFVBQ0FoQyxPQUFBaS9CLG1CQUFBdkIsZ0JBRUExOUIsT0FBQWsvQixTQUNBbC9CLE9BQUFtL0IsV0FHQW4vQixPQUFBUixPQUFBLFdBQUEsTUFBQXVHLFVBQUFFLElBQUEsbUJBQUEsU0FBQXhHLFVBY0EsR0FiQU8sT0FBQW0vQixXQUNBdkosb0JBRUE1MUIsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsK0JBQUE5UCxPQUFBK3NCLFNBQUErSSxRQUFBLFNBQ0FwRCxJQUFBMXlCLE9BQUErc0IsU0FBQWpYLFlBQ0E2YyxJQUFBM3lCLE9BQUErc0IsU0FBQWhYLGFBQ0FnZ0IsS0FBQS9DLE1BQUF6cUIsU0FDQTZLLE1BQUEsT0FDQWlzQixRQUFBLElBR0FqK0IsU0FBQTNCLFNBQUEsQ0FFQSxJQUFBLEdBQUFrVixHQUFBLEVBQUFBLEVBQUEzVSxPQUFBcytCLFlBQUE1NEIsT0FBQWlQLElBQUEsQ0FDQSxHQUFBMnFCLFNBQUF0L0IsT0FBQXMrQixZQUFBM3BCLEVBQ0EycUIsU0FBQWhoQixVQUFBN2UsVUFFQU8sT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsb0JBQUF3dkIsUUFBQUMsVUFBQSxTQUNBN00sSUFBQTRNLFFBQUF4cEIsWUFDQTZjLElBQUEyTSxRQUFBdnBCLGFBQ0FnZ0IsS0FBQS9DLE1BQUF3TSxRQUNBcHNCLE1BQUEsTUFDQWlzQixRQUFBQyxRQUFBaGhCLFdBS0FtaEIsV0FBQWhnQyxjQUNBLENBQ0EsSUFBQSxHQUFBaWdDLFVBQUEsRUFBQUEsU0FBQTEvQixPQUFBcytCLFlBQUE1NEIsT0FBQWc2QixXQUFBLENBQ0EsR0FBQUMsWUFBQTMvQixPQUFBcytCLFlBQUFvQixTQUNBMS9CLFFBQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLG9CQUFBNnZCLFdBQUFKLFVBQUEsU0FDQTdNLElBQUFpTixXQUFBN3BCLFlBQ0E2YyxJQUFBZ04sV0FBQTVwQixhQUNBZ2dCLEtBQUEvQyxNQUFBd00sUUFDQXBzQixNQUFBLE1BQ0Fpc0IsUUFBQU0sV0FBQXJoQixXQUlBbWhCLFdBQUEsS0FLQSxJQUFBQSxZQUFBLFNBQUFKLFNBQ0EsR0FBQUEsUUFBQSxFQUFBLENBRUEsSUFBQSxHQUFBYixJQUFBLEVBQUFBLEdBQUF4K0IsT0FBQXUrQixtQkFBQTc0QixPQUFBODRCLEtBQUEsQ0FDQSxHQUFBb0IsU0FBQTUvQixPQUFBdStCLG1CQUFBQyxHQUNBb0IsU0FBQXRoQixVQUFBK2dCLFNBRUFyL0IsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsa0RBQUE4dkIsUUFBQXYrQixPQUFBLFNBQ0FxeEIsSUFBQWtOLFFBQUE5cEIsWUFDQTZjLElBQUFpTixRQUFBN3BCLGFBQ0FnZ0IsS0FBQS9DLE1BQUE2TSxTQUNBenNCLE1BQUEsY0FDQWlzQixRQUFBTyxRQUFBdGhCLFdBS0EsSUFBQSxHQUFBd2hCLElBQUEsRUFBQUEsR0FBQTkvQixPQUFBeStCLGtCQUFBLzRCLE9BQUFvNkIsS0FBQSxDQUNBLEdBQUFDLFNBQUEvL0IsT0FBQXkrQixrQkFBQXFCLEdBQ0FDLFNBQUF6aEIsVUFBQStnQixTQUVBci9CLE9BQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLFdBQUE5UCxPQUFBaS9CLG1CQUFBOXlCLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLG9CQUFBbWhCLFFBQUFuaEIscUJBQUEsR0FBQXFCLE9BQUEsdUJBQUE4ZixRQUFBMStCLE9BQUEsU0FDQXF4QixJQUFBcU4sUUFBQWpxQixZQUNBNmMsSUFBQW9OLFFBQUFocUIsYUFDQWdnQixLQUFBL0MsTUFBQWdOLFFBQ0E1c0IsTUFBQSxhQUNBaXNCLFFBQUFVLFFBQUF6aEIsV0FLQSxJQUFBLEdBQUEyaEIsSUFBQSxFQUFBQSxHQUFBamdDLE9BQUEwK0Isa0JBQUFoNUIsT0FBQXU2QixLQUFBLENBQ0EsR0FBQUMsU0FBQWxnQyxPQUFBMCtCLGtCQUFBdUIsR0FDQUMsU0FBQTVoQixVQUFBK2dCLFNBRUFyL0IsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsK0NBQUFvd0IsUUFBQTcrQixPQUFBLFNBQ0FxeEIsSUFBQXdOLFFBQUFwcUIsWUFDQTZjLElBQUF1TixRQUFBbnFCLGFBQ0FnZ0IsS0FBQS9DLE1BQUFtTixRQUNBL3NCLE1BQUEsYUFDQWlzQixRQUFBYSxRQUFBNWhCLFdBS0EsSUFBQSxHQUFBOGhCLElBQUEsRUFBQUEsR0FBQXBnQyxPQUFBMitCLG9CQUFBajVCLE9BQUEwNkIsS0FBQSxDQUNBLEdBQUFDLFNBQUFyZ0MsT0FBQTIrQixvQkFBQXlCLEdBQ0FDLFNBQUEvaEIsVUFBQStnQixTQUVBci9CLE9BQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLFdBQUE5UCxPQUFBaS9CLG1CQUFBOXlCLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLG9CQUFBeWhCLFFBQUF6aEIscUJBQUEsR0FBQXFCLE9BQUEsdUJBQUFvZ0IsUUFBQWgvQixPQUFBLFNBQ0FxeEIsSUFBQTJOLFFBQUF2cUIsWUFDQTZjLElBQUEwTixRQUFBdHFCLGFBQ0FnZ0IsS0FBQS9DLE1BQUFzTixVQUNBbHRCLE1BQUEsbUJBQ0Fpc0IsUUFBQWdCLFFBQUEvaEIsV0FLQSxJQUFBLEdBQUFpaUIsSUFBQSxFQUFBQSxHQUFBdmdDLE9BQUE0K0IsbUJBQUFsNUIsT0FBQTY2QixLQUFBLENBQ0EsR0FBQUMsU0FBQXhnQyxPQUFBNCtCLG1CQUFBMkIsR0FDQUMsU0FBQWxpQixVQUFBK2dCLFNBRUFyL0IsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsMENBQUEwd0IsUUFBQW4vQixPQUFBLFNBQ0FxeEIsSUFBQThOLFFBQUExcUIsWUFDQTZjLElBQUE2TixRQUFBenFCLGFBQ0FnZ0IsS0FBQS9DLE1BQUF5TixTQUNBcnRCLE1BQUEsb0JBQ0Fpc0IsUUFBQW1CLFFBQUFsaUIsV0FLQSxJQUFBLEdBQUFnUSxJQUFBLEVBQUFBLEdBQUF0dUIsT0FBQTYrQix1QkFBQW41QixPQUFBNG9CLEtBQUEsQ0FDQSxHQUFBb1MsU0FBQTFnQyxPQUFBNitCLHVCQUFBdlEsR0FDQW9TLFNBQUFwaUIsVUFBQStnQixTQUVBci9CLE9BQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLFdBQUE5UCxPQUFBaS9CLG1CQUFBOXlCLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLG9CQUFBOGhCLFFBQUE5aEIscUJBQUEsR0FBQXFCLE9BQUEsdUJBQUF5Z0IsUUFBQXIvQixPQUFBLFNBQ0FxeEIsSUFBQWdPLFFBQUE1cUIsWUFDQTZjLElBQUErTixRQUFBM3FCLGFBQ0FnZ0IsS0FBQS9DLE1BQUEyTixhQUNBdnRCLE1BQUEsc0JBQ0Fpc0IsUUFBQXFCLFFBQUFwaUIsV0FLQSxJQUFBLEdBQUFzaUIsSUFBQSxFQUFBQSxHQUFBNWdDLE9BQUE4K0Isb0JBQUFwNUIsT0FBQWs3QixLQUFBLENBQ0EsR0FBQUMsU0FBQTdnQyxPQUFBOCtCLG9CQUFBOEIsR0FDQUMsU0FBQXZpQixVQUFBK2dCLFNBRUFyL0IsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsMENBQUErd0IsUUFBQXgvQixPQUFBLFNBQ0FxeEIsSUFBQW1PLFFBQUEvcUIsWUFDQTZjLElBQUFrTyxRQUFBOXFCLGFBQ0FnZ0IsS0FBQS9DLE1BQUE4TixVQUNBMXRCLE1BQUEscUJBQ0Fpc0IsUUFBQXdCLFFBQUF2aUIsV0FLQSxJQUFBLEdBQUF5aUIsTUFBQSxFQUFBQSxLQUFBL2dDLE9BQUErK0Isa0JBQUFyNUIsT0FBQXE3QixPQUFBLENBQ0EsR0FBQUMsV0FBQWhoQyxPQUFBKytCLGtCQUFBZ0MsS0FDQUMsV0FBQTFpQixVQUFBK2dCLFNBRUFyL0IsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEscUNBQUFreEIsVUFBQTMvQixPQUFBLFNBQ0FxeEIsSUFBQXNPLFVBQUFsckIsWUFDQTZjLElBQUFxTyxVQUFBanJCLGFBQ0FnZ0IsS0FBQS9DLE1BQUFpTyxXQUNBN3RCLE1BQUEsZ0JBQ0Fpc0IsUUFBQTJCLFVBQUExaUIsV0FLQSxJQUFBLEdBQUE0aUIsT0FBQSxFQUFBQSxNQUFBbGhDLE9BQUFnL0IsbUJBQUF0NUIsT0FBQXc3QixRQUFBLENBQ0EsR0FBQUMsWUFBQW5oQyxPQUFBZy9CLG1CQUFBa0MsTUFDQUMsWUFBQTdpQixVQUFBK2dCLFNBRUFyL0IsT0FBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsd0NBQUFxeEIsV0FBQTkvQixPQUFBLFNBQ0FxeEIsSUFBQXlPLFdBQUFyckIsWUFDQTZjLElBQUF3TyxXQUFBcHJCLGFBQ0FnZ0IsS0FBQS9DLE1BQUFvTyxhQUNBaHVCLE1BQUEsa0JBQ0Fpc0IsUUFBQThCLFdBQUE3aUIsZ0JBSUEsQ0FFQSxJQUFBLEdBQUEraUIsT0FBQSxFQUFBQSxNQUFBcmhDLE9BQUF1K0IsbUJBQUE3NEIsT0FBQTI3QixRQUFBLENBQ0EsR0FBQUMsWUFBQXRoQyxPQUFBdStCLG1CQUFBOEMsTUFFQXJoQyxRQUFBbS9CLFFBQUF4OEIsTUFDQXk4QixNQUFBLFdBQ0F0dkIsUUFBQSxrREFBQXd4QixXQUFBamdDLE9BQUEsU0FDQXF4QixJQUFBNE8sV0FBQXhyQixZQUNBNmMsSUFBQTJPLFdBQUF2ckIsYUFDQWdnQixLQUFBL0MsTUFBQTZNLFNBQ0F6c0IsTUFBQSxjQUNBaXNCLFFBQUFpQyxXQUFBaGpCLFdBSUEsSUFBQSxHQUFBaWpCLE9BQUEsRUFBQUEsTUFBQXZoQyxPQUFBeStCLGtCQUFBLzRCLE9BQUE2N0IsUUFBQSxDQUNBLEdBQUFDLFlBQUF4aEMsT0FBQXkrQixrQkFBQThDLE1BRUF2aEMsUUFBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsV0FBQTlQLE9BQUFpL0IsbUJBQUE5eUIsT0FBQSxTQUFBN00sR0FBQSxNQUFBQSxHQUFBc2Ysb0JBQUE0aUIsV0FBQTVpQixxQkFBQSxHQUFBcUIsT0FBQSx1QkFBQXVoQixXQUFBbmdDLE9BQUEsU0FDQXF4QixJQUFBOE8sV0FBQTFyQixZQUNBNmMsSUFBQTZPLFdBQUF6ckIsYUFDQWdnQixLQUFBL0MsTUFBQWdOLFFBQ0E1c0IsTUFBQSxhQUNBaXNCLFFBQUFtQyxXQUFBbGpCLFdBSUEsSUFBQSxHQUFBbWpCLE9BQUEsRUFBQUEsTUFBQXpoQyxPQUFBMCtCLGtCQUFBaDVCLE9BQUErN0IsUUFBQSxDQUNBLEdBQUFDLFlBQUExaEMsT0FBQTArQixrQkFBQStDLE1BRUF6aEMsUUFBQW0vQixRQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBdHZCLFFBQUEsK0NBQUE0eEIsV0FBQXJnQyxPQUFBLFNBQ0FxeEIsSUFBQWdQLFdBQUE1ckIsWUFDQTZjLElBQUErTyxXQUFBM3JCLGFBQ0FnZ0IsS0FBQS9DLE1BQUFtTixRQUNBL3NCLE1BQUEsYUFDQWlzQixRQUFBcUMsV0FBQXBqQixXQUlBLElBQUEsR0FBQXFqQixPQUFBLEVBQUFBLE1BQUEzaEMsT0FBQTIrQixvQkFBQWo1QixPQUFBaThCLFFBQUEsQ0FDQSxHQUFBQyxZQUFBNWhDLE9BQUEyK0Isb0JBQUFnRCxNQUVBM2hDLFFBQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLFdBQUE5UCxPQUFBaS9CLG1CQUFBOXlCLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLG9CQUFBZ2pCLFdBQUFoakIscUJBQUEsR0FBQXFCLE9BQUEsdUJBQUEyaEIsV0FBQXZnQyxPQUFBLFNBQ0FxeEIsSUFBQWtQLFdBQUE5ckIsWUFDQTZjLElBQUFpUCxXQUFBN3JCLGFBQ0FnZ0IsS0FBQS9DLE1BQUFzTixVQUNBbHRCLE1BQUEsbUJBQ0Fpc0IsUUFBQXVDLFdBQUF0akIsV0FLQSxJQUFBLEdBQUF1akIsT0FBQSxFQUFBQSxNQUFBN2hDLE9BQUE0K0IsbUJBQUFsNUIsT0FBQW04QixRQUFBLENBQ0EsR0FBQUMsWUFBQTloQyxPQUFBNCtCLG1CQUFBaUQsTUFFQTdoQyxRQUFBbS9CLFFBQUF4OEIsTUFDQXk4QixNQUFBLFdBQ0F0dkIsUUFBQSwwQ0FBQWd5QixXQUFBemdDLE9BQUEsU0FDQXF4QixJQUFBb1AsV0FBQWhzQixZQUNBNmMsSUFBQW1QLFdBQUEvckIsYUFDQWdnQixLQUFBL0MsTUFBQXlOLFNBQ0FydEIsTUFBQSxvQkFDQWlzQixRQUFBeUMsV0FBQXhqQixXQUlBLElBQUEsR0FBQXlqQixPQUFBLEVBQUFBLE1BQUEvaEMsT0FBQTYrQix1QkFBQW41QixPQUFBcThCLFFBQUEsQ0FDQSxHQUFBQyxZQUFBaGlDLE9BQUE2K0IsdUJBQUFrRCxNQUVBL2hDLFFBQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLFdBQUE5UCxPQUFBaS9CLG1CQUFBOXlCLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLG9CQUFBb2pCLFdBQUFwakIscUJBQUEsR0FBQXFCLE9BQUEsdUJBQUEraEIsV0FBQTNnQyxPQUFBLFNBQ0FxeEIsSUFBQXNQLFdBQUFsc0IsWUFDQTZjLElBQUFxUCxXQUFBanNCLGFBQ0FnZ0IsS0FBQS9DLE1BQUEyTixhQUNBdnRCLE1BQUEsc0JBQ0Fpc0IsUUFBQTJDLFdBQUExakIsV0FJQSxJQUFBLEdBQUEyakIsT0FBQSxFQUFBQSxNQUFBamlDLE9BQUE4K0Isb0JBQUFwNUIsT0FBQXU4QixRQUFBLENBQ0EsR0FBQUMsWUFBQWxpQyxPQUFBOCtCLG9CQUFBbUQsTUFFQWppQyxRQUFBbS9CLFFBQUF4OEIsTUFDQXk4QixNQUFBLFdBQ0F0dkIsUUFBQSwwQ0FBQW95QixXQUFBN2dDLE9BQUEsU0FDQXF4QixJQUFBd1AsV0FBQXBzQixZQUNBNmMsSUFBQXVQLFdBQUFuc0IsYUFDQWdnQixLQUFBL0MsTUFBQThOLFVBQ0ExdEIsTUFBQSxxQkFDQWlzQixRQUFBNkMsV0FBQTVqQixXQUlBLElBQUEsR0FBQTZqQixTQUFBLEVBQUFBLFFBQUFuaUMsT0FBQSsrQixrQkFBQXI1QixPQUFBeThCLFVBQUEsQ0FDQSxHQUFBQyxjQUFBcGlDLE9BQUErK0Isa0JBQUFvRDs7QUFFQW5pQyxPQUFBbS9CLFFBQUF4OEIsTUFDQXk4QixNQUFBLFdBQ0F0dkIsUUFBQSxxQ0FBQXN5QixhQUFBL2dDLE9BQUEsU0FDQXF4QixJQUFBMFAsYUFBQXRzQixZQUNBNmMsSUFBQXlQLGFBQUFyc0IsYUFDQWdnQixLQUFBL0MsTUFBQWlPLFdBQ0E3dEIsTUFBQSxnQkFDQWlzQixRQUFBK0MsYUFBQTlqQixXQUlBLElBQUEsR0FBQStqQixVQUFBLEVBQUFBLFNBQUFyaUMsT0FBQWcvQixtQkFBQXQ1QixPQUFBMjhCLFdBQUEsQ0FDQSxHQUFBQyxlQUFBdGlDLE9BQUFnL0IsbUJBQUFxRCxTQUVBcmlDLFFBQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLHNDQUFBd3lCLGNBQUFqaEMsT0FBQSxTQUNBcXhCLElBQUE0UCxjQUFBeHNCLFlBQ0E2YyxJQUFBMlAsY0FBQXZzQixhQUNBZ2dCLEtBQUEvQyxNQUFBb08sYUFDQWh1QixNQUFBLGtCQUNBaXNCLFFBQUFpRCxjQUFBaGtCLGNBT0EwVSxPQUNBQyxLQUNBM2YsS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEsZUFFQTVxQixVQUNBK0ssS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEsZ0JBRUFxTSxTQUNBbHNCLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLGNBRUEwTSxVQUNBdnNCLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLHFCQUVBNk0sU0FDQTFzQixLQUFBLE1BQ0E0ZixVQUFBLEdBQUEsSUFDQUMsVUFBQSxvQkFFQWdOLFNBQ0E3c0IsS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEsb0JBRUFtTixXQUNBaHRCLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLHNCQUVBc04sVUFDQW50QixLQUFBLE1BQ0E0ZixVQUFBLEdBQUEsSUFDQUMsVUFBQSxxQkFFQXdOLGNBQ0FydEIsS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEseUJBRUEyTixXQUNBeHRCLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLHNCQUVBOE4sWUFDQTN0QixLQUFBLE1BQ0E0ZixVQUFBLEdBQUEsSUFDQUMsVUFBQSx1QkFFQWlPLGNBQ0E5dEIsS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEseUJBR0FuekIsUUFBQXVpQyxVQUNBQyxjQUNBbHZCLEtBQUEsZUFDQW12QixPQUFBLEdBQ0FDLE9BQUEsRUFDQW53QixNQUFBLFVBQ0Fvd0IsWUFHQSxJQUFBQyxVQUFBLFdBQ0E1aUMsT0FBQWsvQixTQUNBbC9CLE9BQUF1aUMsU0FBQUMsYUFBQUcsU0FBQWpRLElBQUExeUIsT0FBQStzQixTQUFBalgsWUFBQTZjLElBQUEzeUIsT0FBQStzQixTQUFBaFgsY0FDQS9WLE9BQUFrL0IsTUFBQXNELGFBQUF4aUMsT0FBQXVpQyxTQUFBQyxhQUVBSSxZQUVBaGxDLFFBQUFpbEMsT0FBQTdpQyxRQUNBeXlCLFdBQ0FDLElBQUExeUIsT0FBQStzQixTQUFBalgsWUFDQTZjLElBQUEzeUIsT0FBQStzQixTQUFBaFgsYUFDQTZjLEtBQUEsR0FDQWtRLFFBQUEsSUFFQTNELFFBQUFuL0IsT0FBQW0vQixRQUNBNEQsc0JBQ0FDLFFBQ0FDLFlBQ0FDLE1BQ0F2dEIsS0FBQSxvQkFDQXJDLEtBQUEsVUFDQThyQixNQUFBLGNBQ0ErRCxTQUFBLElBR0FDLFVBQ0FDLFVBQ0EvdkIsS0FBQSxnQkFDQXFDLEtBQUEsWUFDQXd0QixTQUFBLE1BTUEsSUFBQXZOLG1CQUFBLFdBQ0F6MUIsS0FBQXkxQixtQkFBQXZCLFNBQUFyMEIsT0FBQStzQixTQUFBalgsWUFBQXNlLFVBQUFwMEIsT0FBQStzQixTQUFBaFgsYUFBQThmLE9BQUEsS0FDQSxTQUFBdnNCLFVBRUEsR0FEQXRKLE9BQUFveUIsV0FBQTlvQixTQUNBdEosT0FBQW95QixXQUFBMXNCLE9BQUEsRUFDQSxJQUFBLEdBQUF5QyxHQUFBLEVBQUFBLEVBQUFuSSxPQUFBb3lCLFdBQUExc0IsT0FBQXlDLElBQUEsQ0FDQSxHQUFBdVEsR0FBQTFZLE9BQUFveUIsV0FBQWpxQixFQUNBdVEsR0FBQTFXLFVBQUFoQyxPQUFBK3NCLFNBQUEvcUIsU0FDQWhDLE9BQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLGlDQUFBNEksRUFBQW9kLFFBQUEsU0FDQXBELElBQUFoYSxFQUFBNUMsWUFDQTZjLElBQUFqYSxFQUFBM0MsYUFDQWdnQixLQUFBL0MsTUFBQUMsUUFLQSxTQUFBanlCLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxrQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxrQ0FBQU8sY0FBQTRJLHNCQ3JlQSxXQUNBLFlBRUEsSUFBQWpNLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsWUFBQSxTQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsUUFBQSxZQUFBLFVBQUEsV0FBQSxVQUFBLHVCQUFBLHVCQUFBLG1CQUNBLE9BQUEsU0FBQSxZQUFBLFNBQUEsY0FBQSxlQUFBLG9CQUFBLFlBQUEsY0FBQSxzQkFBQSxrQkFBQSxrQkFBQSxrQkFBQSxpQkFBQSxpQkFDQSxTQUFBQyxPQUFBQyxPQUFBNkYsV0FBQUMsU0FBQUMsVUFBQTlGLE1BQUFFLFVBQUF5a0IsUUFBQWtJLFNBQUFvRSxRQUFBbVMscUJBQUFDLHFCQUFBQyxpQkFBQXJqQyxLQUFBc3RCLE9BQUFnVyxVQUFBQyxPQUFBemUsWUFBQTBlLGFBQ0FDLGtCQUFBQyxVQUFBQyxZQUFBQyxvQkFBQXhXLGdCQUFBeVcsZ0JBQUFDLGdCQUFBNVcsZUFBQUMsZ0JBQ0EsR0FBQWxzQixTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUNBTCxXQUFBTSxTQUFBLGlCQUNBcEcsT0FBQTZ6QixRQUVBLElBQUFxUSxpQkFBQSxXQUNBeDZCLE9BQUF5NkIsUUFDQSwrT0FDQSxNQUNBQyxhQUFBLEVBQUFDLGNBQUEscUJBQUFDLFFBQUEsS0FBQUMsUUFBQSxFQUFBQyxnQkFBQSxJQXFHQSxJQWxHQSxRQUFBdmYsWUFBQXdmLHNCQUNBUCxrQkFFQWxrQyxPQUFBazFCLElBQUEsc0JBQUEsU0FBQTF2QixFQUFBay9CLGVBQ0EsUUFBQUEsY0FDQVIsa0JBRUF4NkIsT0FBQWk3QixVQUdBM2tDLE9BQUFxQixRQUNBdWpDLFNBQUEsRUFBQUMsVUFBQSxFQUFBQyxRQUFBLEVBQUFDLFlBQUEsRUFBQUMsU0FBQSxFQUFBQyxXQUFBLEVBQUFDLFVBQUEsR0FFQWxsQyxPQUFBbWxDLDBCQUdBbmxDLE9BQUFvbEMsZUFBQSxXQUNBdC9CLFdBQUEwRCxlQUFBQyxhQUFBLENBQ0EsSUFBQTQ3QixnQkFBQTFCLGFBQUFDLGtCQUFBQyxVQUFBQyxZQUFBdlcsZ0JBQUF3VyxvQkFDQUMsZ0JBQUFDLGdCQUFBNVcsZUFBQUMsZ0JBQ0FnWSxtQkFDQSxJQUFBbGtDLFNBQUFwQixPQUFBbzNCLGlCQUNBLElBQUEsR0FBQW1PLEtBQUEsRUFBQUEsSUFBQXZCLGdCQUFBdCtCLE9BQUE2L0IsTUFBQSxDQUVBLEdBQUFwOUIsR0FBQW5JLE9BQUFvM0IsaUJBQUE1b0IsSUFBQSxTQUFBaEosR0FBQSxNQUFBQSxLQUFBMEUsUUFBQTg1QixnQkFBQXVCLEtBQUE1dkIsS0FDQXhOLEdBQUEsSUFDQW05QixpQkFBQTNpQyxLQUFBcWhDLGdCQUFBdUIsTUFHQSxHQUFBQyxvQkFDQSxJQUFBcGtDLFNBQUFwQixPQUFBcTNCLGlCQUNBLElBQUEsR0FBQW9PLEtBQUEsRUFBQUEsSUFBQXhCLGdCQUFBditCLE9BQUErL0IsTUFBQSxDQUVBLEdBQUEvc0IsR0FBQTFZLE9BQUFxM0IsaUJBQUE3b0IsSUFBQSxTQUFBaEosR0FBQSxNQUFBQSxLQUFBMEUsUUFBQSs1QixnQkFBQXdCLEtBQUF6SyxrQkFDQXRpQixHQUFBLElBQ0E4c0IsaUJBQUE3aUMsS0FBQXNoQyxnQkFBQXdCLE1BSUEsR0FBQTdWLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLGlCQUNBN2EsV0FBQSxnQkFDQTRCLEtBQUEsS0FDQWdaLFVBQUEsRUFDQUQsU0FBQSxTQUNBbVYsWUFBQSxhQUNBN2YsU0FDQWtoQixpQkFBQSxXQUNBLE1BQUFtVSxnQkFFQWpVLGNBQUEsV0FDQSxHQUFBaHdCLFNBQUFwQixPQUFBNnpCLE1BQUE3eEIsUUFBQSxDQUNBLEdBQUEwakMsZ0JBQUF0a0MsU0FBQXBCLE9BQUF1MkIscUJBQUF2MkIsT0FBQXUyQix3QkFDQW9QLGdCQUFBM2xDLE9BQUFtbEMsdUJBQUF6L0IsT0FBQSxFQUFBMUYsT0FBQW1sQywwQkFDQVMsVUFBQU4saUJBQUE1L0IsT0FBQSxFQUFBNC9CLG9CQUNBTyxVQUFBTCxpQkFBQTkvQixPQUFBLEVBQUE4L0Isb0JBQ0FNLEdBQUExa0MsU0FBQXBCLE9BQUEwMkIsVUFBQTEyQixPQUFBMDJCLGFBQ0FxUCxrQkFBQS9sQyxPQUFBNnpCLE1BQUE2UixlQUFBQyxnQkFBQUMsVUFBQUMsVUFBQUMsR0FDQSxPQUFBQyxvQkFHQXZ1QixVQUFBLFdBQ0EsTUFBQWlzQixXQUFBMVQsU0FBQXRnQixVQUVBdkUsV0FBQSxXQUdBLE1BRkFoTCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBc0MsU0FBQXRnQixVQUVBN0UsV0FBQSxXQUNBLE1BQUE4NEIsUUFBQTNULFNBQUF0Z0IsVUFFQTBoQixRQUFBLFdBQ0EsTUFBQS92QixVQUFBK3ZCLFFBQ0FBLFFBREEsVUFNQXZCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBK2dCLEdBQ0EsWUFBQUEsR0FDQTVpQixPQUFBNnpCLE1BQUFqUixFQUFBLEdBQ0FvakIsc0JBQ0FobUMsT0FBQTZ6QixNQUFBNEYsZ0JBQUF6NUIsT0FBQTZ6QixNQUFBdUMsVUFBQSxFQUFBdU4sYUFBQXgzQixPQUFBLFNBQUE4NUIsSUFBQSxNQUFBQSxJQUFBanBCLFVBQUFoZCxPQUFBNnpCLE1BQUF1QyxZQUFBLEdBQUE4UCxXQUFBLE1BQ0FsbUMsT0FBQTZ6QixNQUFBMkYsd0JBQUFwNEIsU0FBQXBCLE9BQUE2ekIsTUFBQXdDLG9CQUFBcjJCLE9BQUE2ekIsTUFBQXdDLG1CQUFBLEVBQUF1TixrQkFBQXozQixPQUFBLFNBQUFnNkIsSUFBQSxNQUFBQSxJQUFBOVAsb0JBQUFyMkIsT0FBQTZ6QixNQUFBd0MscUJBQUEsR0FBQStQLGdCQUFBLE1BQ0FwbUMsT0FBQTZ6QixNQUFBNkYsYUFBQXQ0QixTQUFBcEIsT0FBQTZ6QixNQUFBd1MsYUFBQXJtQyxPQUFBNnpCLE1BQUF3UyxZQUFBLEVBQUF0QyxvQkFBQTUzQixPQUFBLFNBQUFtNkIsSUFBQSxNQUFBQSxJQUFBRCxhQUFBcm1DLE9BQUE2ekIsTUFBQXdTLGNBQUEsR0FBQUUsY0FBQSxNQUVBdm1DLE9BQUFvM0IsaUJBQUF4VSxFQUFBLEdBQ0E1aUIsT0FBQXEzQixpQkFBQXpVLEVBQUEsS0FFQTVpQixPQUFBNnpCLFNBQ0E1ekIsT0FBQTZCLEdBQUEsUUFFQWdFLFdBQUEwRCxlQUFBQyxhQUFBLEtBS0FySSxTQUFBMnJCLFNBRUEsR0FBQTNyQixTQUFBMnJCLFNBQUEvcUIsUUFBQSxDQVNBLEdBUkFoQyxPQUFBNnpCLE1BQUE5RyxTQUVBL3NCLE9BQUE2ekIsTUFBQXlDLFlBQUEsS0FDQXQyQixPQUFBNnpCLE1BQUE0RixnQkFBQXo1QixPQUFBNnpCLE1BQUF1QyxVQUFBLEVBQUF1TixhQUFBeDNCLE9BQUEsU0FBQTg1QixJQUFBLE1BQUFBLElBQUFqcEIsVUFBQWhkLE9BQUE2ekIsTUFBQXVDLFlBQUEsR0FBQThQLFdBQUEsTUFDQWxtQyxPQUFBNnpCLE1BQUEyRix3QkFBQXA0QixTQUFBcEIsT0FBQTZ6QixNQUFBd0Msb0JBQUFyMkIsT0FBQTZ6QixNQUFBd0MsbUJBQUEsRUFBQXVOLGtCQUFBejNCLE9BQUEsU0FBQWc2QixJQUFBLE1BQUFBLElBQUE5UCxvQkFBQXIyQixPQUFBNnpCLE1BQUF3QyxxQkFBQSxHQUFBK1AsZ0JBQUEsTUFDQXBtQyxPQUFBNnpCLE1BQUE2RixhQUFBdDRCLFNBQUFwQixPQUFBNnpCLE1BQUF3UyxhQUFBcm1DLE9BQUE2ekIsTUFBQXdTLFlBQUEsRUFBQXRDLG9CQUFBNTNCLE9BQUEsU0FBQW02QixJQUFBLE1BQUFBLElBQUFELGFBQUFybUMsT0FBQTZ6QixNQUFBd1MsY0FBQSxHQUFBRSxjQUFBLE1BR0EvQyxpQkFBQTk5QixPQUFBLEVBQUEsQ0FDQTFGLE9BQUF1MkIscUJBQUEzNEIsUUFBQStaLEtBQUE2ckIsa0JBQ0F4akMsT0FBQTYyQixvQkFBQSxDQUVBLEtBQUEsR0FBQTJQLEdBQUEsRUFBQUEsRUFBQXhtQyxPQUFBdTJCLHFCQUFBN3dCLE9BQUE4Z0MsSUFBQSxDQUVBLEdBQUFDLGVBQUFsWixnQkFBQXBoQixPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUF3TCxpQkFBQW5nQixPQUFBdTJCLHFCQUFBaVEsR0FBQXJtQixrQkFBQSxHQUFBQyxVQUNBMGMsUUFDQTFjLFVBQUFxbUIsY0FDQXRtQixnQkFBQW5nQixPQUFBdTJCLHFCQUFBaVEsR0FBQXJtQixnQkFDQXdhLGdCQUFBMzZCLE9BQUF1MkIscUJBQUFpUSxHQUFBN0wsZ0JBQ0FqMUIsT0FBQTFGLE9BQUF1MkIscUJBQUFpUSxHQUFBOWdDLE9BQ0FxM0IsU0FBQS84QixPQUFBdTJCLHFCQUFBaVEsR0FBQXpKLFNBQ0FDLE1BQUFoOUIsT0FBQXUyQixxQkFBQWlRLEdBQUF4SixNQUNBQyxPQUFBajlCLE9BQUF1MkIscUJBQUFpUSxHQUFBdkosT0FFQWo5QixRQUFBbWxDLHVCQUFBeGlDLEtBQUFtNkIsU0FNQSxHQURBOThCLE9BQUFvM0Isb0JBQ0FrTSxxQkFBQTU5QixPQUFBLEVBQ0EsSUFBQSxHQUFBZ1QsR0FBQSxFQUFBQSxFQUFBNHFCLHFCQUFBNTlCLE9BQUFnVCxJQUFBLENBQ0EsR0FBQWdnQixJQUFBc0wsZ0JBQUE3M0IsT0FBQSxTQUFBcXNCLEdBQUEsTUFBQUEsR0FBQUMsaUJBQUE2SyxxQkFBQTVxQixHQUFBK2Ysa0JBQUEsRUFDQXo0QixRQUFBbzNCLGlCQUFBejBCLEtBQUErMUIsR0FBQS9pQixNQUtBLEdBREEzVixPQUFBcTNCLG9CQUNBa00scUJBQUE3OUIsT0FBQSxFQUNBLElBQUEsR0FBQW9sQixHQUFBLEVBQUFBLEVBQUF5WSxxQkFBQTc5QixPQUFBb2xCLElBQUEsQ0FDQSxHQUFBdU4sSUFBQTRMLGdCQUFBOTNCLE9BQUEsU0FBQWtzQixJQUFBLE1BQUFBLElBQUFDLGlCQUFBaUwscUJBQUF6WSxHQUFBd04sa0JBQUEsRUFDQXQ0QixRQUFBcTNCLGlCQUFBMTBCLEtBQUEwMUIsR0FBQTJDLG1CQUlBaDdCLE9BQUEwbUMsY0FEQXRsQyxTQUFBcEIsT0FBQTZ6QixNQUFBK0Usd0JBQUE1NEIsT0FBQTZ6QixNQUFBK0UsdUJBQUEsRUFDQSxNQUVBLEtBSUF4M0IsU0FBQXBCLE9BQUE2ekIsTUFBQTlhLFdBQUEvWSxPQUFBNnpCLE1BQUE5YSxVQUFBLEdBQ0E3WSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBblYsT0FBQXZXLEdBQUEvQixPQUFBNnpCLE1BQUE5YSxZQUFBdEosU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBNnpCLE1BQUEwRixRQUFBandCLFNBQUE0UCxNQUFBLElBQUE1UCxTQUFBNlAsT0FDQSxTQUFBeFAsT0FDQTNKLE9BQUE2ekIsTUFBQTBGLFFBQUEsaUJBQ0E5cEIsVUFDQXpQLE9BQUE2ekIsTUFBQTBGLFFBQUEsY0FHQSxJQUFBeU0scUJBQUEsV0FDQSxPQUFBaG1DLE9BQUE2ekIsTUFBQXFGLHFCQUFBOTNCLFNBQUFwQixPQUFBNnpCLE1BQUFxRixxQkFBQWw1QixPQUFBNnpCLE1BQUFxRixvQkFBQSxJQUNBaDVCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBUixLQUFBd21DLGtCQUFBNWtDLEdBQUEvQixPQUFBNnpCLE1BQUE3eEIsU0FBQSxTQUFBc0gsVUFDQXRKLE9BQUEwMkIsVUFBQXB0QixTQUNBdEosT0FBQTIyQixjQUFBLEdBQ0EsU0FBQTMxQixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxjQUNBNkYsVUFHQXUyQiwyQkFJQXQ4QixRQUFBQyxNQUFBLDRCQUNBM0QsVUFBQUcsS0FBQSxTQUFBL0gsVUFDQTRCLE9BQUE0bUMsVUFLQTVtQyxRQUFBb2xDLHdCQ2xOQSxXQUVBLFlBRUEsSUFBQXpuQyxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLG1CQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsU0FBQSxRQUFBLFlBQUEsVUFBQSxPQUFBLGFBQUEsZUFDQSxvQkFBQSxZQUFBLGNBQUEsYUFBQSxnQkFBQSxvQkFBQSxpQkFBQSxjQUFBLGtCQUFBLGFBQ0EsWUFBQSxpQkFBQSxrQkFBQSxpQkFBQSxrQkFBQSxPQUFBLGtCQUFBLE1BQUEsU0FBQSxhQUFBLG9CQUFBLGFBQUEsd0JBQUEsVUFDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQUMsVUFBQS9GLE9BQUFDLE1BQUFFLFVBQUF5a0IsUUFBQXJhLEtBQUFxOEIsV0FBQWxELGFBQUFDLGtCQUFBQyxVQUFBQyxZQUFBZ0QsV0FDQTFaLGNBQUEyWixrQkFBQUMsZUFBQUMsWUFBQUMsZ0JBQUFDLFdBQUFwaUIsVUFBQXVJLGVBQUFKLGdCQUFBRyxlQUFBRSxnQkFDQXB0QixLQUFBaW5DLGdCQUFBQyxJQUFBNVosT0FBQXRpQixXQUFBQyxrQkFBQUksV0FBQTg3QixzQkFBQS9WLFNBQ0EsR0FBQW53QixTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUVBbkcsT0FBQXVuQyxXQUFBVixXQUNBN21DLE9BQUF3eUIsbUJBQUFob0IsS0FBQWlELFlBQUEsc0ZBQ0F2TixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBblYsT0FBQXZXLEdBQUFnRSxTQUFBRSxJQUFBLFNBQUF3SixTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUF3bkMsZUFBQWwrQixVQUNBLFNBQUF0SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsbUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsbUNBQUFPLGNBQUE0SSxjQUVBOUQsV0FBQU0sU0FBQSxRQUFBeWdDLFdBQ0E3bUMsT0FBQXluQyxZQUVBLElBQUFDLFdBQUEsU0FBQXBvQyxHQUNBLEdBQUFxb0MsT0FBQSxHQUFBdjNCLEtBQ0EsTUFBQTlRLEdBQUE4QixTQUFBOUIsSUFFQXFvQyxNQUFBLEdBQUF2M0IsTUFBQTlRLEdBR0EsSUFBQXdVLE1BQUE2ekIsTUFBQTdsQixjQUNBak8sTUFBQTh6QixNQUFBNWxCLFdBQ0FwTyxLQUFBLElBQUFnMEIsTUFBQTFsQixXQUFBRCxNQUFBLElBQ0E0bEIsWUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FDQUMsV0FBQSxHQUFBejNCLE1BQUF3M0IsV0FBQS96QixPQUFBLElBQUFGLElBQUEsS0FBQUcsS0FDQSxPQUFBK3pCLFlBd0JBLElBdEJBN25DLE9BQUFzMkIsZUFDQXQyQixPQUFBcWUsVUFBQXRZLFNBQUFFLElBQUEsb0JBQ0FqRyxPQUFBNnpCLE9BQUE5YSxVQUFBaFQsU0FBQUUsSUFBQSxRQUNBakcsT0FBQThuQyxLQUFBQyxpQkFBQUwsVUFBQSxLQUVBMW5DLE9BQUFxQixRQUFBd2pDLFVBQUEsRUFBQUMsUUFBQSxFQUFBRSxTQUFBLEdBQ0FobEMsT0FBQWdvQyxrQkFDQWhvQyxPQUFBaW9DLG9CQUNBam9DLE9BQUFrb0Msb0JBQUEsRUFHQWxvQyxPQUFBbW9DLGFBQUF4RSxhQUFBM2pDLE9BQUFvb0Msa0JBQUF4RSxrQkFDQTVqQyxPQUFBeUcsVUFBQW85QixVQUFBN2pDLE9BQUFxb0MsY0FBQXZFLFlBQUE5akMsT0FBQTR4QixtQkFDQTV4QixPQUFBc29DLFdBQUF4QixXQUFBOW1DLE9BQUE4TCxjQUFBc2hCLGNBQ0FwdEIsT0FBQXVvQyxtQkFBQXhCLGtCQUFBL21DLE9BQUF3b0MsV0FBQXhCLGVBR0EsT0FBQUgsYUFDQTdtQyxPQUFBeW9DLE1BQUFsSixVQUFBLFFBQUFtSixnQkFBQSxXQUFBcHFCLFNBQUF2WSxTQUFBRSxJQUFBLGtCQUFBMGlDLEtBQUEsTUFBQUMsVUFBQWxCLFVBQUEsSUFBQW1CLFdBQUEsRUFBQUMsZUFBQS9pQyxTQUFBRSxJQUFBLFFBQ0FqRyxPQUFBK29DLFlBQUE5QixZQUFBam5DLE9BQUFncEMsWUFBQTlCLGdCQUFBbG5DLE9BQUFpcEMsV0FBQTlCLFlBR0EsVUFBQU4sV0FBQSxDQUNBLEdBQUF4dEIsa0JBQUEsU0FBQTJFLE9BQ0EsR0FDQTFlLEdBREEyZSxXQUdBM2UsR0FBQThCLFNBQUE0YyxNQUFBLEdBQUE1TixNQUFBNE4sT0FDQSxHQUFBNU4sS0FFQSxJQUFBMkQsUUFBQXpVLEVBQUFnVixXQUFBOEQsVUFBQSxJQUNBOEYsS0FBQSxFQUNBLFFBQUFuSyxPQUFBUyxPQUFBLEVBQUEsSUFDQSxJQUFBLE1BQ0EwSixLQUFBLEtBQ0EsTUFDQSxLQUFBLE1BQ0FBLEtBQUEsS0FDQSxNQUNBLEtBQUEsTUFDQUEsS0FBQSxLQUNBLE1BQ0EsS0FBQSxNQUNBQSxLQUFBLE1BSUEsTUFEQUQsV0FBQTNlLEVBQUE0ZSxNQUdBbGUsUUFBQStNLFlBQUFzZ0IsZUFDQXJ0QixPQUFBMkwsY0FBQTRoQixnQkFDQXZ0QixPQUFBaU4sY0FBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FqTixPQUFBeWIsU0FBQTZDLFNBQUF2WSxTQUFBRSxJQUFBLG1CQUNBakcsT0FBQW1kLGFBQUFDLGVBQUEsRUFBQXJFLFVBQUFoVCxTQUFBRSxJQUFBLFFBQ0FqRyxPQUFBNEwsVUFBQW1aLFVBQUEva0IsT0FBQXlMLGVBQUE2aEIsZUFBQXR0QixPQUFBMEwsZ0JBQUF3aEIsZ0JBQ0FsdEIsT0FBQXFOLGNBQUFpRyxLQUFBLFVBRUEsSUFBQTBQLGNBQUEzSixrQkFDQXJaLFFBQUFtZCxZQUFBdUMsV0FBQXNELGFBQUEsR0FDQWhqQixPQUFBbWQsWUFBQTdELFVBQUEwSixhQUFBLEdBSUFoakIsT0FBQXdlLFlBQUEsV0FDQXhlLE9BQUFnTiwwQkFDQSxJQUFBeVIscUJBQUE2TyxlQUFBbmhCLE9BQUEsU0FBQW9FLElBQUEsTUFBQUEsSUFBQW1PLGdCQUFBMWUsT0FBQXliLFFBQUFpRCxpQkFBQSxFQUVBMWUsUUFBQWdOLHdCQUFBeVIsb0JBQUFFLGdCQUNBLEdBQUEzZSxPQUFBZ04sd0JBQUF0SCxTQUNBMUYsT0FBQXliLFFBQUFtRCxtQkFBQTVlLE9BQUFnTix3QkFBQSxHQUFBNFIscUJBTUE1ZSxPQUFBa3BDLFVBQUEsS0FDQWxwQyxPQUFBbXBDLE9BQUEsS0FHQW5wQyxPQUFBb3BDLGlCQUFBLFdBQ0FwcEMsT0FBQWlvQyxpQkFBQXRsQyxNQUFBMG1DLFdBQUEsR0FBQUMsZ0JBQUEsS0FDQXRwQyxPQUFBa29DLG9CQUFBLEVBSUEsSUFBQTNvQix5QkFBQSxXQUVBLEdBQUEsT0FBQXZmLE9BQUFtZCxZQUFBN0QsVUFBQSxDQUVBLEdBQUE0SyxhQUFBLEdBQUE5VCxNQUFBcFEsT0FBQW1kLFlBQUF1QyxZQUFBN0YsYUFDQTdaLFFBQUFtZCxZQUFBdUMsV0FBQXdFLFlBQ0Fsa0IsT0FBQW1kLFlBQUE3RCxVQUFBLFVBQ0EsQ0FFQSxHQUFBblIsR0FBQW5JLE9BQUFtZCxZQUFBdUMsV0FBQXBMLFdBQUFwSyxRQUFBLE9BQUEsQ0FDQWxLLFFBQUFtZCxZQUFBdUMsV0FBQTFmLE9BQUFtZCxZQUFBdUMsV0FBQXBMLFdBQUE4RCxVQUFBLEVBQUFqUSxJQUtBbkksUUFBQWlWLGNBQ0FqVixPQUFBdUIsS0FBQSxTQUFBMlQsT0FBQS9TLE9BQ0ErUyxPQUFBM1MsaUJBQ0EyUyxPQUFBQyxrQkFFQW5WLE9BQUFpVixXQUFBOVMsUUFBQSxHQU1BbkMsT0FBQXMyQixZQUFBajJCLElBQUEsS0FDQUwsT0FBQTZ4QixNQUdBLElBQUF5QixTQUFBLFNBQUFDLElBQUFDLElBQUEzZSxLQUNBLEdBQUE0ZSxLQUFBLENBQ0EsT0FBQSxHQUFBRixLQUVBRSxJQUFBLEdBQUFGLElBQUEsRUFBQUMsSUFBQSxHQUFBLEVBQUEzZSxJQUFBLE1BQ0EsR0FBQTRlLEtBQUFDLFFBQUEsS0FHQUQsSUFBQSxFQUFBRixJQUFBLEVBQUFDLElBQUEsR0FBQSxFQUFBM2UsSUFBQSxLQUNBLElBQUE2ZSxRQUFBLEtBS0E0QixXQUFBLFNBQUEvQixLQUNBLEVBQUFBLE1BQ0FBLElBQUFBLElBQUFqZixXQUdBaWYsSUFBQUEsSUFBQW5iLFVBQUEsR0FFQSxJQUFBOVksR0FBQWdtQixLQUFBMFMsTUFBQXpFLEtBQ0EwRSxTQUFBLElBQUExRSxJQUFBajBCLEdBQ0FtVixFQUFBNlEsS0FBQTBTLE1BQUFDLFVBQ0E5MkIsR0FBQSxJQUFBODJCLFNBQUF4akIsSUFBQWlmLFFBQUEsRUFFQSxPQUFBLEdBQUFwMEIsRUFBQSxJQUFBbVYsRUFBQSxJQUFBdFQsRUFJQW5CLFFBQUFrNEIsY0FBQSxXQUNBLEdBQUEsTUFBQWw0QixPQUFBczJCLFlBQUFqMkIsSUFFQSxHQUFBZSxTQUFBcEIsT0FBQTZ4QixJQUFBK0IsT0FBQXh5QixTQUFBcEIsT0FBQTZ4QixJQUFBaUMsT0FBQTF5QixTQUFBcEIsT0FBQTZ4QixJQUFBa0MsT0FDQTN5QixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsTUFFQWwwQixPQUFBNnpCLE1BQUEvZCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsT0FDQS96QixPQUFBNnpCLE1BQUE5ZCxhQUFBdWQsUUFBQXR6QixPQUFBNnhCLElBQUFtQyxNQUFBaDBCLE9BQUE2eEIsSUFBQW9DLE1BQUFqMEIsT0FBQTZ4QixJQUFBcUMsV0FDQSxDQUVBLEdBQUFpRSxVQUFBLzNCLFVBQUFtQixNQUNBekIsU0FBQSx1VEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUF3MkIsVUFBQXYyQixPQUFBQyxLQUFBLFlBQ0FULFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxRQUNBbnNCLEVBQUEsVUFBQXpFLFNBQ0EvQixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsUUFDQXRzQixFQUFBLFVBQUF6RSxRQUNBbkQsT0FBQXMyQixZQUFBajJCLElBQUEsWUFLQSxJQUFBZSxTQUFBcEIsT0FBQTZ6QixNQUFBL2QsWUFBQSxDQUNBLEdBQUF1ZixRQUFBQyxXQUFBdDFCLE9BQUE2ekIsTUFBQS9kLGFBQUF4QixXQUNBaWhCLFlBQUFGLE9BQUF6MkIsTUFBQSxJQUNBb0IsUUFBQTZ4QixJQUFBK0IsTUFBQTJCLFlBQUEsR0FDQXYxQixPQUFBNnhCLElBQUFpQyxNQUFBeUIsWUFBQSxHQUNBdjFCLE9BQUE2eEIsSUFBQWtDLE1BQUF3QixZQUFBLEVBRUEsSUFBQUMsU0FBQUYsV0FBQXQxQixPQUFBNnpCLE1BQUE5ZCxjQUNBMGYsYUFBQUQsUUFBQTUyQixNQUFBLElBQ0FvQixRQUFBNnhCLElBQUFtQyxNQUFBLEdBQUF5QixhQUFBLEdBQ0F6MUIsT0FBQTZ4QixJQUFBb0MsTUFBQXdCLGFBQUEsR0FDQXoxQixPQUFBNnhCLElBQUFxQyxNQUFBdUIsYUFBQSxJQU1BLElBQUFnQyxjQUFBLFNBQUFqWSxHQUNBLEdBQUFrWSxVQUFBdDNCLFVBQUFtQixNQUNBekIsU0FBQSw0UEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUErMUIsVUFBQTkxQixPQUFBQyxLQUFBLFNBQUE4MUIsWUFDQSxXQUFBblksRUFBQTVYLEVBQUEscUJBQUF6RSxRQUNBeUUsRUFBQSxVQUFBekUsV0FLQXkwQixjQUFBLFNBQUFwWSxHQUNBLEdBQUFxWSxXQUFBejNCLFVBQUFtQixNQUNBekIsU0FBQSxtUUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUFrMkIsV0FBQWoyQixPQUFBQyxLQUFBLFNBQUE4MUIsWUFDQSxXQUFBblksRUFBQTVYLEVBQUEsc0JBQUF6RSxRQUNBeUUsRUFBQSxVQUFBekUsVUFLQW5ELFFBQUE4M0IsV0FBQSxTQUFBeDRCLEVBQUF5NEIsV0FDQSxPQUFBejRCLEdBRUEsT0FBQXk0QixZQUNBLzNCLE9BQUE2eEIsSUFBQStCLE1BQUEsR0FBQTV6QixPQUFBNnhCLElBQUErQixNQUFBLElBQUErQixNQUFBMzFCLE9BQUE2eEIsSUFBQStCLFFBQUF4eUIsU0FBQXBCLE9BQUE2eEIsSUFBQStCLE9BQUErQixNQUFBMzFCLE9BQUE2eEIsSUFBQWlDLFFBQUExeUIsU0FBQXBCLE9BQUE2eEIsSUFBQWlDLE9BQUE2QixNQUFBMzFCLE9BQUE2eEIsSUFBQWtDLFFBQUEzeUIsU0FBQXBCLE9BQUE2eEIsSUFBQWtDLFNBQ0EwRCxhQUFBLE9BRUE5QixNQUFBMzFCLE9BQUE2eEIsSUFBQStCLFNBQUE1ekIsT0FBQTZ4QixJQUFBK0IsTUFBQXh5QixRQUNBdTBCLE1BQUEzMUIsT0FBQTZ4QixJQUFBaUMsU0FBQTl6QixPQUFBNnhCLElBQUFpQyxNQUFBMXlCLFFBQ0F1MEIsTUFBQTMxQixPQUFBNnhCLElBQUFrQyxTQUFBL3pCLE9BQUE2eEIsSUFBQWtDLE1BQUEzeUIsU0FHQSxRQUFBMjJCLFlBQ0EvM0IsT0FBQTZ4QixJQUFBbUMsTUFBQSxNQUFBaDBCLE9BQUE2eEIsSUFBQW1DLE1BQUEsS0FBQTJCLE1BQUEzMUIsT0FBQTZ4QixJQUFBbUMsUUFBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTJCLE1BQUEzMUIsT0FBQTZ4QixJQUFBb0MsUUFBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTBCLE1BQUEzMUIsT0FBQTZ4QixJQUFBcUMsUUFBQTl5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsU0FDQTBELGNBQUEsT0FFQWpDLE1BQUEzMUIsT0FBQTZ4QixJQUFBbUMsU0FBQWgwQixPQUFBNnhCLElBQUFtQyxNQUFBNXlCLFFBQ0F1MEIsTUFBQTMxQixPQUFBNnhCLElBQUFvQyxTQUFBajBCLE9BQUE2eEIsSUFBQW9DLE1BQUE3eUIsUUFDQXUwQixNQUFBMzFCLE9BQUE2eEIsSUFBQXFDLFNBQUFsMEIsT0FBQTZ4QixJQUFBcUMsTUFBQTl5QixXQUtBLE9BQUEyMkIsWUFDQS8zQixPQUFBNnpCLE1BQUEvZCxZQUFBLEdBQUE5VixPQUFBNnpCLE1BQUEvZCxZQUFBLElBQUE2ZixNQUFBMzFCLE9BQUE2ekIsTUFBQS9kLGdCQUNBMmhCLGFBQUEsV0FFQTlCLE1BQUEzMUIsT0FBQTZ6QixNQUFBL2QsZUFDQTlWLE9BQUE2ekIsTUFBQS9kLFlBQUExVSxTQUlBLFFBQUEyMkIsWUFDQS8zQixPQUFBNnpCLE1BQUE5ZCxhQUFBLE1BQUEvVixPQUFBNnpCLE1BQUE5ZCxhQUFBLEtBQUE0ZixNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGlCQUNBNmhCLGNBQUEsV0FFQWpDLE1BQUEzMUIsT0FBQTZ6QixNQUFBOWQsZ0JBQ0EvVixPQUFBNnpCLE1BQUE5ZCxhQUFBM1UsV0FRQXBCLE9BQUFnZixNQUFBLFNBQUFDLEtBQ0EsR0FBQUMsVUFBQUQsS0FBQUUsT0FBQWpkLE1BQ0FrZCxJQUFBRixTQUFBRyxTQUFBSCxTQUFBL2MsS0FDQSxLQUFBaWQsS0FBQSxJQUFBQSxLQUFBQSxJQUFBLEtBQUEsR0FBQUEsS0FBQUEsSUFBQSxNQUNBRixTQUFBSSxhQUFBLEVBQ0FKLFNBQUEzYyxnQkFBQTJjLFNBQUEzYyxtQkFLQXZDLE9BQUEwMUIsV0FBQSxXQU1BLFNBSkExMUIsUUFBQTZ6QixNQUFBbUYsY0FBQWg1QixRQUFBNnpCLE1BQUFvRixXQUFBajVCLFFBQUE2ekIsTUFBQXhyQixNQUNBckksT0FBQTR4Qix5QkFBQTV4QixRQUFBNnpCLE1BQUF2bEIsSUFDQWxOLFNBQUFwQixPQUFBNnhCLElBQUErQixRQUFBNXpCLE9BQUE2ekIsTUFBQS9kLFlBQUF3ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxRQUNBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFtQyxRQUFBaDBCLE9BQUE2ekIsTUFBQTlkLGFBQUF1ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQW1DLE1BQUFoMEIsT0FBQTZ4QixJQUFBb0MsTUFBQWowQixPQUFBNnhCLElBQUFxQyxRQUNBOXlCLFNBQUFwQixPQUFBNnpCLE1BQUEvZCxhQUFBMVUsU0FBQXBCLE9BQUE2ekIsTUFBQTlkLGNBQUE0ZixNQUFBMzFCLE9BQUE2ekIsTUFBQS9kLGNBQUE2ZixNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGNBbUNBLENBRUFqUSxXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLEVBQUFySixVQUFBbUIsTUFDQXpCLFNBQUEsNFJBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxZQTlDQW1FLFlBQUEwRCxlQUFBQyxhQUFBLFFBQ0F2SixPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FDQTdPLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E0d0IsUUFBQTRDLGlCQUFBQyxVQUFBcDBCLE9BQUE2ekIsTUFBQTlkLGFBQUFzZSxTQUFBcjBCLE9BQUE2ekIsTUFBQS9kLGFBQUEsU0FBQXhNLFVBQ0EsR0FBQWxJLFNBQUFrSSxTQUFBMUgsT0FDQSxHQUFBMEgsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQTd1QixPQUFBLEVBQUEsQ0FDQSxHQUFBOHVCLFdBQUFsckIsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQSxHQUFBRSxNQUNBQyxXQUFBcHJCLFNBQUExSCxPQUFBMHlCLFlBQUFDLFNBQUEsR0FBQUksS0FDQUMsWUFBQXh6QixTQUFBb3pCLFVBQ0F4MEIsT0FBQXFvQyxjQUFBbDhCLE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFDLFdBQUFOLFlBQUEsR0FBQU8sU0FDQSxFQUNBQyxVQUFBaDFCLE9BQUF5RyxVQUFBMEYsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBNHpCLFVBQUFILGNBQUEsRUFFQXh6QixVQUFBNHpCLFdBQ0FoMUIsT0FBQTZ6QixNQUFBeHJCLE1BQUEyc0IsVUFBQTFzQixhQUNBdEksT0FBQTR4QixnQkFBQTV4QixPQUFBcW9DLGNBQUFsOEIsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQUUsVUFBQUMsVUFBQUQsV0FDQS8wQixPQUFBNnpCLE1BQUFvQixPQUFBUCxXQUNBNXVCLFdBQUEwRCxlQUFBQyxhQUFBLElBRUEzRCxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBLHVHQUdBN0QsWUFBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQSw0REFHQTdELFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUEsbUVBRUEsU0FBQTNJLGVBQ0E4RSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBLDBCQUFBM0ksY0FBQTRJLGVBc0JBNUosT0FBQXVwQyxjQUFBLFdBQ0EsR0FBQSxLQUFBdnBDLE9BQUF5b0MsS0FBQWUsZ0JBQUEsQ0FDQSxHQUFBcGEsR0FBQWxuQixPQUFBbEksT0FBQXlvQyxLQUFBZSxnQkFNQXhwQyxRQUFBeW9DLEtBQUFnQixlQUFBenBDLE9BQUFncEMsWUFBQTc4QixPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUErMEIsV0FBQXRhLEdBQUF6YSxFQUFBZzFCLFdBQUF2YSxJQUFBLEdBQUFxYSxpQkFJQXpwQyxPQUFBNHBDLHFCQUFBLFdBQ0EsR0FBQSxLQUFBNXBDLE9BQUF5b0MsS0FBQWUsaUJBQUFwb0MsU0FBQXBCLE9BQUF5b0MsS0FBQWUsZ0JBQUEsQ0FDQSxHQUFBcGEsR0FBQWxuQixPQUFBbEksT0FBQXlvQyxLQUFBZSxpQkFDQUssZUFBQTdwQyxPQUFBZ3BDLFlBQUE3OEIsT0FBQSxTQUFBd0ksR0FBQSxNQUFBQSxHQUFBKzBCLFdBQUF0YSxHQUFBemEsRUFBQWcxQixXQUFBdmEsSUFBQSxHQUFBcWEsY0FDQSxJQUFBenBDLE9BQUF5b0MsS0FBQWdCLGlCQUFBSSxlQUFBLENBRUEsR0FBQUMsa0JBQUExcEMsVUFBQW1CLE1BQ0F6QixTQUFBLDZVQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQW1vQyxrQkFBQWxvQyxPQUFBQyxLQUFBLFdBQ0FqRSxRQUFBWSxRQUFBLDRCQUFBMkUsYUFPQW5ELE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxxQkFBQSxTQUFBeEcsVUFDQU8sT0FBQSt3QixpQkFBQTN2QixTQUFBM0IsU0FBQUEsU0FBQSxhQUNBTyxPQUFBZ3hCLG1CQUFBLGNBQUFoeEIsT0FBQSt3QixrQkFBQSxHQUFBLElBSUEvd0IsT0FBQW85QixpQkFBQSxTQUFBajhCLEdBQ0EsR0FBQTZ6QixXQUFBaDFCLE9BQUF5RyxVQUFBMEYsT0FBQSxTQUFBN0IsSUFBQSxNQUFBQSxJQUFBaEMsY0FBQW5ILElBQUEsRUFDQW5CLFFBQUE0eEIsZ0JBQUE1eEIsT0FBQXFvQyxjQUFBbDhCLE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFFLFVBQUFDLFVBQUFELFlBSUEvMEIsT0FBQStwQyxlQUFBLFdBQ0EsR0FBQS9wQyxPQUFBOG5DLElBQUFrQyxlQUNBaHFDLE9BQUE4bkMsSUFBQW1DLFlBQUEsTUFJQSxJQUFBQyxRQUFBLFNBQUFubkIsSUFDQSxHQUFBb25CLFNBQ0E3ekIsbUJBQUFsVixTQUFBMmhCLEdBQUF6TSxtQkFBQXlNLEdBQUF6TSxtQkFBQSxFQUNBWCxLQUFBb04sR0FBQXBOLEtBQ0FDLFlBQUFtTixHQUFBbk4sWUFDQWlILFFBQUF6YixTQUFBMmhCLEdBQUFsRyxRQUFBa0csR0FBQWxHLFFBQUEsS0FDQWtyQixpQkFBQWhsQixHQUFBZ2xCLGlCQUNBcUMsZ0JBQUFocEMsU0FBQTJoQixHQUFBcW5CLGdCQUFBcm5CLEdBQUFxbkIsZ0JBQUEsRUFDQUMsU0FBQWpwQyxTQUFBMmhCLEdBQUFzbkIsU0FBQXRuQixHQUFBc25CLFNBQUEsS0FDQXJvQyxRQUFBK2dCLEdBQUEvZ0IsUUFDQWliLFVBQUE3YixTQUFBMmhCLEdBQUE5RixVQUFBOEYsR0FBQTlGLFVBQUEsRUFDQW5ILFlBQUFpTixHQUFBak4sWUFDQUMsYUFBQWdOLEdBQUFoTixhQUNBcWdCLFVBQUFoMUIsU0FBQTJoQixHQUFBcVQsVUFBQXJULEdBQUFxVCxVQUFBLEVBQ0FDLG1CQUFBajFCLFNBQUEyaEIsR0FBQXNULG1CQUFBdFQsR0FBQXNULG1CQUFBLEVBQ0FpVSxtQkFBQWxwQyxTQUFBMmhCLEdBQUF1bkIsbUJBQUF2bkIsR0FBQXVuQixtQkFBQSxFQUNBQyxXQUFBeG5CLEdBQUF3bkIsV0FDQUMsZUFBQXBwQyxTQUFBMmhCLEdBQUF5bkIsZUFBQXpuQixHQUFBeW5CLGVBQUEsS0FDQVAsWUFBQTdvQyxTQUFBMmhCLEdBQUFrbkIsWUFBQWxuQixHQUFBa25CLFlBQUEsS0FDQUQsYUFBQTVvQyxTQUFBMmhCLEdBQUFpbkIsYUFBQWpuQixHQUFBaW5CLGFBQUEsS0FDQVMsY0FBQXJwQyxTQUFBMmhCLEdBQUEwbkIsY0FBQTFuQixHQUFBMG5CLGNBQUEsS0FFQSxPQUFBTixRQUlBbnFDLFFBQUEwcUMsU0FBQSxTQUFBQyxXQUVBLEdBQUF4aUMsR0FBQW5JLE9BQUFpb0MsaUJBQUEvOUIsUUFBQXlnQyxVQUNBdnBDLFVBQUF1cEMsVUFBQUMsMEJBQ0E1cUMsT0FBQWdvQyxlQUFBcmxDLEtBQUFnb0MsV0FDQTNxQyxPQUFBaW9DLGlCQUFBOTlCLE9BQUFoQyxFQUFBLElBRUFuSSxPQUFBaW9DLGlCQUFBOTlCLE9BQUFoQyxFQUFBLEdBS0EsSUFBQTBpQyxnQkFBQSxTQUFBQyxPQUVBLFNBQUFBLE1BQUE1QixZQUNBbHBDLE9BQUE4bkMsSUFBQW9CLFVBQUEsS0FDQWxwQyxPQUFBOG5DLElBQUFqckIsUUFBQSxPQUFBN2MsT0FBQThuQyxJQUFBanJCLFNBR0EsTUFBQWl1QixNQUFBM0IsU0FDQW5wQyxPQUFBOG5DLElBQUFxQixPQUFBLEtBQ0FucEMsT0FBQThuQyxJQUFBbUMsWUFBQWpxQyxPQUFBOG5DLElBQUFtQyxZQUFBLE9BR0FqcUMsUUFBQStxQyxVQUFBQyxNQUFBLEVBRUEsSUFBQUMsc0JBQUEsV0FDQSxHQUFBQyxhQUFBOXFDLFVBQUFtQixNQUNBekIsU0FBQSwyYkFJQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUF1cEMsYUFBQXRwQyxPQUFBQyxLQUFBLFdBQ0E3QixPQUFBK3FDLFNBQUFDLE1BQUEsSUFHQWhyQyxRQUFBOE0saUJBQ0E5TSxPQUFBbXJDLFNBQUEsV0FFQSxHQUFBNXRCLGNBQUFuZCxVQUFBbUIsTUFDQW1aLFNBQUEsU0FDQUMsVUFBQSxFQUNBN2EsU0FBQSxrWEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxNQUFBLFdBRUExQixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUFFLE1BQUEsYUFHQUMsS0FBQSxNQUVBNGIsY0FBQTNiLE9BQUFDLEtBQUEsU0FBQTJiLFNBQ0EsVUFBQUEsVUFDQXhkLE9BQUErcUMsU0FBQUMsTUFBQSxFQUVBaHJDLE9BQUE4TSxjQUFBM0MsT0FBQSxFQUFBLEdBQ0FuSyxPQUFBNE0sa0JBQ0E1TSxPQUFBMGMsYUFBQTFjLE9BQUFvckMsYUFBQSxFQUNBcHJDLE9BQUFtZCxZQUFBWSxpQkFBQSxHQUFBL2QsT0FBQW1kLFlBQUFXLGFBQUEsR0FBQTlkLE9BQUFtZCxZQUFBVSxhQUFBLEdBQUE3ZCxPQUFBbWQsWUFBQUYsVUFBQSxPQUlBamQsT0FBQW9yQyxhQUFBLEVBQ0FwckMsT0FBQTRNLGtCQUNBNU0sT0FBQXFyQyxpQkFBQSxXQUNBcnJDLE9BQUE4TSxjQUFBcEgsT0FBQSxFQUVBdEUsU0FBQXBCLE9BQUE4bkMsSUFBQW55QixNQUFBdlUsU0FBQXBCLE9BQUE4bkMsSUFBQWpyQixTQUFBemIsU0FBQXBCLE9BQUE4bkMsSUFBQTdxQixXQUNBamQsT0FBQTBjLGFBQ0ExYyxPQUFBMGMsVUFBQUMsUUFBQTNjLE9BQUE4bkMsSUFBQW55QixLQUNBM1YsT0FBQTBjLFVBQUFFLFVBQUE1YyxPQUFBOG5DLElBQUFqckIsUUFDQTdjLE9BQUEwYyxVQUFBSSxPQUFBOWMsT0FBQThMLGNBQUFLLE9BQUEsU0FBQTRRLElBQUEsTUFBQUEsSUFBQUMsVUFBQWhkLE9BQUE4bkMsSUFBQTdxQixZQUFBLEdBQUFDLG1CQUNBbGQsT0FBQThNLGNBQUFuSyxLQUFBM0MsT0FBQTBjLFdBRUExYyxPQUFBNE0sZUFBQWpLLEtBQUEzQyxPQUFBOG5DLEtBQ0E5bkMsT0FBQW9yQyxhQUFBLEVBQUFwckMsT0FBQStxQyxTQUFBQyxNQUFBLEVBQ0FockMsT0FBQW1kLFlBQUFGLFVBQUFqZCxPQUFBOG5DLElBQUE3cUIsV0FFQWd1Qix3QkFHQWpyQyxPQUFBb3JDLGFBQUEsRUFBQXByQyxPQUFBK3FDLFNBQUFDLE1BQUEsSUFJQWhyQyxPQUFBc3JDLFlBQUEsRUFBQXRyQyxPQUFBdXJDLFVBQUEsRUFBQXZyQyxPQUFBd3JDLFdBQUEsRUFDQXhyQyxPQUFBNjdCLE9BQUEsV0FDQS8xQixXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLElBQUFnaUMsU0FBQXpyQyxPQUFBeW5DLFVBQUFpRSxLQUVBLElBREExckMsT0FBQXNyQyxZQUFBLEVBQUF0ckMsT0FBQXVyQyxVQUFBLEVBQUF2ckMsT0FBQXdyQyxXQUFBLEVBQ0FDLFFBQUFwcUIsT0FPQSxHQUxBbmhCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBUyxTQUFBcEIsT0FBQTZ6QixNQUFBL2QsY0FBQTlWLE9BQUE2ekIsTUFBQS9kLFlBQUF3ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxRQUNBM3lCLFNBQUFwQixPQUFBNnpCLE1BQUE5ZCxlQUFBL1YsT0FBQTZ6QixNQUFBOWQsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLFFBRUFsMEIsT0FBQTZ6QixNQUFBL2QsWUFBQSxHQUFBOVYsT0FBQTZ6QixNQUFBL2QsWUFBQSxJQUFBNmYsTUFBQTMxQixPQUFBNnpCLE1BQUEvZCxhQUNBMmhCLGFBQUEsV0FDQTN4QixXQUFBMEQsZUFBQUMsYUFBQSxFQUVBa3NCLE1BQUEzMUIsT0FBQTZ6QixNQUFBL2QsZUFDQTlWLE9BQUE2ekIsTUFBQS9kLFlBQUExVSxZQUVBLElBQUFwQixPQUFBNnpCLE1BQUE5ZCxhQUFBLE1BQUEvVixPQUFBNnpCLE1BQUE5ZCxhQUFBLEtBQUE0ZixNQUFBMzFCLE9BQUE2ekIsTUFBQTlkLGNBQ0E2aEIsY0FBQSxXQUNBOXhCLFdBQUEwRCxlQUFBQyxhQUFBLEVBRUFrc0IsTUFBQTMxQixPQUFBNnpCLE1BQUE5ZCxnQkFDQS9WLE9BQUE2ekIsTUFBQTlkLGFBQUEzVSxZQUVBLENBQ0EsR0FBQTI2QixlQUFBLENBRUE1N0IsTUFBQStaLEtBQUFsYSxPQUFBNnpCLE1BQUEsU0FBQXZxQixVQUNBeXlCLGNBQUF6eUIsU0FBQXRILFFBQ0FoQyxPQUFBOG5DLElBQUE5bEMsUUFBQSs1QixjQUFBLzdCLE9BQUE4bkMsSUFBQWh5QixZQUFBeE0sU0FBQXdNLFlBQUE5VixPQUFBOG5DLElBQUEveEIsYUFBQXpNLFNBQUF5TSxhQUNBL1YsT0FBQThuQyxJQUFBMVIsVUFBQTlzQixTQUFBOHNCLFVBQUFwMkIsT0FBQThuQyxJQUFBelIsbUJBQUEvc0IsU0FBQStzQixtQkFDQSxPQUFBcjJCLE9BQUF1bkMsYUFDQXZuQyxPQUFBeW9DLEtBQUF6bUMsUUFBQSs1QixjQUNBLzdCLE9BQUF5b0MsS0FBQWtELFVBQUFyaUMsU0FBQXFpQyxVQUNBM3JDLE9BQUF5b0MsS0FBQTN5QixZQUFBeE0sU0FBQXdNLFlBQ0E5VixPQUFBeW9DLEtBQUExeUIsYUFBQXpNLFNBQUF5TSxhQUNBL1YsT0FBQXlvQyxLQUFBcFMsbUJBQUEvc0IsU0FBQStzQixtQkFDQXIyQixPQUFBeW9DLEtBQUFyUyxVQUFBOXNCLFNBQUE4c0IsVUFDQXAyQixPQUFBeW9DLEtBQUFLLGVBQUF4L0IsU0FBQXlQLFVBQ0EvWSxPQUFBeW9DLEtBQUFucUIsU0FBQXZZLFNBQUFFLElBQUEsa0JBR0EsSUFBQTJsQyxhQUVBZixnQkFBQTdxQyxPQUFBOG5DLElBQ0EsSUFBQStELFVBQUEzQixPQUFBbHFDLE9BQUE4bkMsSUFFQVYsaUJBQUFsdEIsS0FBQTJ4QixTQUFBLFNBQUF2aUMsVUFFQSxHQURBc2lDLFVBQUF0aUMsU0FDQXRKLE9BQUFpb0MsaUJBQUF2aUMsT0FBQSxFQUVBLElBQUEsR0FBQW9tQyxLQUFBLEVBQUFBLElBQUE5ckMsT0FBQWlvQyxpQkFBQXZpQyxPQUFBb21DLE1BQUEsQ0FDQSxHQUFBQyxpQkFBQS9yQyxPQUFBaW9DLGlCQUFBNkQsSUFDQUMsaUJBQUF6MUIsbUJBQUFoTixTQUFBZ04sbUJBQ0FneEIsc0JBQUFwdEIsS0FBQTZ4QixpQkFBQXQ4QixTQUlBLEdBQUEsT0FBQXpQLE9BQUF1bkMsV0FBQSxDQUdBbm1DLFNBQUFwQixPQUFBeW9DLEtBQUF1RCxjQUNBaHNDLE9BQUF5b0MsS0FBQXdELGlCQUFBanNDLE9BQUF5b0MsS0FBQUssZ0JBRUExbkMsU0FBQXBCLE9BQUF5b0MsS0FBQTVyQixVQUVBemIsU0FBQXBCLE9BQUF5b0MsS0FBQXVELGNBQ0Foc0MsT0FBQXlvQyxLQUFBdUQsWUFBQXRFLFVBQUEsS0FFQTFuQyxPQUFBeW9DLEtBQUF3RCxpQkFBQWpzQyxPQUFBeW9DLEtBQUFLLGdCQUVBekIsSUFBQW50QixLQUFBbGEsT0FBQXlvQyxNQUFBaDVCLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBSSxPQUFBK00sUUFBQSxxQkFDQTNRLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0F6RCxVQUFBRyxLQUFBLFNBQUE0MUIsY0FBQSxrQkFBQTM5QixVQUNBNEIsT0FBQTRtQyxPQUNBLFNBQUE1bEMsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFCQUFBTyxjQUFBNEksY0FHQSxHQUFBLFVBQUE1SixPQUFBdW5DLFdBQUEsQ0FDQSxHQUFBL2xCLGlCQUNBLFlBQUF4aEIsT0FBQXFOLGFBQUFpRyxPQUNBdFQsT0FBQXliLFFBQUFzRSxTQUFBLEdBQUEvZixPQUFBeWIsUUFBQXNFLFVBRUEvZixPQUFBeWIsUUFBQXpaLFFBQUErNUIsY0FDQXhjLDBCQUNBcmYsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsa0JBQ0EsSUFBQWloQixjQUFBLENBQ0F6VyxZQUFBK08sS0FBQWxhLE9BQUF5YixTQUFBaE0sU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0FzWSxhQUFBdFksU0FBQStDLGNBRUFtVixjQUFBbFksU0FDQXRKLE9BQUFtZCxZQUFBOVEsY0FBQS9DLFNBQUErQyxjQUNBakIsa0JBQUE4TyxLQUFBbGEsT0FBQW1kLGFBQUExTixTQUFBNU4sS0FBQSxTQUFBOGUsY0FFQSxHQUFBM2dCLE9BQUE4TSxjQUFBcEgsT0FBQSxFQUFBLENBQ0EsR0FBQWdjLFVBQUExaEIsT0FBQThNLGNBQUEsRUFDQTRVLFVBQUFoQixxQkFBQUMsYUFBQUQscUJBQ0FnQixTQUFBcEwsbUJBQUFzMUIsVUFBQXQxQixtQkFFQTlLLFdBQUEwTyxLQUFBd0gsVUFBQWpTLFNBRUEvRixPQUFBK00sUUFBQSx3QkFDQTNRLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0F6RCxVQUFBRyxLQUFBLFNBQUE0MUIsY0FBQSxrQkFBQTM5QixVQUNBNEIsT0FBQTRtQyxPQUNBLFNBQUE1bEMsZUFDQW1LLFdBQUFBLFdBQUFwSixHQUFBNmYsZUFDQWxZLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDBCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEk7O0lBRUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGdCQUdBLFNBQUE1SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsa0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esa0NBQUFPLGNBQUE0SSxlQUVBLFNBQUE1SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxrQkFJQTlELFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0F6SixPQUFBcUIsT0FBQXdqQyxVQUFBLEVBQ0E3a0MsT0FBQXFCLE9BQUF5akMsUUFBQSxFQUNBOWtDLE9BQUFxQixPQUFBMmpDLFNBQUEsRUFFQXBuQyxRQUFBWSxRQUFBLFVBQUFpdEMsUUFBQVMsTUFBQSxNQUFBQyxLQUFBLDZCQUFBaHBDLFNBRUFzb0MsUUFBQVcsaUJBQUFDLFVBQUFaLFFBQUEzMUIsWUFBQXUyQixVQUFBWixRQUFBMTFCLGFBQUFzMkIsVUFBQVosUUFBQXJWLFVBQUFpVyxVQUFBWixRQUFBcFYsbUJBQUFnVyxVQUFBWixRQUFBRSxVQUFBVSxVQUFBWixRQUFBcGpDLE1BQUFpa0MsV0FBQWIsUUFBQXhXLE9BQUFvWCxZQUNBcnNDLE9BQUFzckMsWUFBQSxJQUVBRyxRQUFBbEIsV0FBQThCLFVBQUFaLFFBQUE5MUIsS0FBQTAyQixVQUFBWixRQUFBNzFCLFlBQUF5MkIsVUFBQVosUUFBQWMsR0FBQUYsWUFDQXJzQyxPQUFBdXJDLFVBQUEsSUFFQUUsUUFBQWUsWUFBQUgsVUFBQVosUUFBQS9DLGdCQUFBMkQsVUFBQVosUUFBQWhDLGVBQUE0QyxVQUFBWixRQUFBdDhCLEdBQUFrOUIsWUFDQXJzQyxPQUFBd3JDLFdBQUEsR0FFQTloQyxPQUFBQyxNQUFBLGtDQzNzQkEsV0FDQSxZQUVBLElBQUE5RCxxQkFBQWpJLFFBQUFDLE9BQUEsc0JBRUFnSSxxQkFBQTlGLFdBQUEsaUJBQUEsU0FBQSxhQUFBLFdBQUEsWUFBQSxTQUFBLFFBQUEsVUFBQSxZQUFBLFNBQUEsZUFBQSxzQkFBQSxlQUNBLGFBQUEsWUFBQSwwQkFBQSxtQkFBQSxlQUFBLGNBQUEsV0FBQSxzQkFBQSxTQUFBLGVBQUEsYUFDQSxVQUFBLGVBQUEsa0JBQUEsY0FBQSxlQUFBLGNBQUEsdUJBQUEsaUJBQUEsWUFBQSxjQUFBLGtCQUFBLHNCQUFBLGdCQUFBLGdCQUNBLGVBQUEsb0JBQUEsZUFBQSxnQkFBQSxrQkFBQSxjQUFBLDJCQUFBLGFBQUEsa0JBQUEsb0JBQ0EsZ0JBQUEsa0JBQUEscUJBQUEsaUJBQUEsaUJBQUEsa0JBQUEseUJBQUEsb0JBQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUFDLFVBQUEvRixPQUFBQyxNQUFBMmtCLFFBQUF6a0IsVUFBQXNqQyxPQUFBK0ksYUFBQUMsb0JBQUFDLGFBQUFDLFdBQUFuSixVQUNBb0osd0JBQUFDLGlCQUFBQyxhQUFBQyxZQUFBQyxTQUFBcmYsb0JBQUFzZixPQUFBQyxhQUFBQyxXQUFBQyxRQUFBQyxhQUFBNWYsZ0JBQ0E2ZixZQUFBQyxhQUFBN2YsWUFBQThmLHFCQUFBQyxlQUFBN0osVUFBQTFXLFlBQUF3Z0IsZ0JBQUE1SixvQkFBQTZKLGNBQUFDLGNBQUFyZ0IsYUFDQW9XLGtCQUFBRCxhQUFBbUssY0FBQUMsZ0JBQUFDLFlBQUFDLHlCQUFBOUcsV0FBQW5ELGdCQUFBa0ssa0JBQUFDLGNBQ0FqaEIsZ0JBQUErUixtQkFBQTNiLGVBQUFnSyxlQUFBMlcsZ0JBQUFtSyx1QkFBQUMsbUJBQ0FqdEMsU0FBQTJFLFNBQUFFLElBQUEsYUFBQSxLQUFBRixTQUFBRSxJQUFBLGFBQ0FqRyxPQUFBa0csTUFBQSxFQUNBRixVQUFBRyxLQUFBLFlBRUFMLFdBQUFNLFNBQUEscUJBQ0FwRyxPQUFBc3VDLFlBQUF2b0MsU0FBQUUsSUFBQSxhQUVBakcsT0FBQXdILFFBQUEsU0FBQUMsaUJBQ0F6SCxPQUFBMEgsY0FBQUQsa0JBQ0F6SCxPQUFBMkgsU0FBQTNILE9BQUEySCxTQUVBM0gsT0FBQTBILGFBQUFELGdCQUVBRyxFQUFBLFFBQUFDLEtBQUEsV0FFQUQsRUFBQW5DLE1BQUFxQyxjQUFBQyxTQUFBLDhCQUdBSCxFQUFBLE1BQUFILGdCQUFBLE1BQUFLLGNBQUFDLFNBREEvSCxPQUFBMkgsUUFDQSxpQ0FFQSxxQ0FJQTNILE9BQUF1dUMsY0FDQXZ1QyxPQUFBd3VDLGVBQUEsRUFDQXh1QyxPQUFBeXVDLG9CQUFBLEVBQ0F6dUMsT0FBQXFHLFdBQUEsR0FDQXJHLE9BQUF5RyxVQUFBbzlCLFVBSUE3akMsT0FBQTRLLFdBQUF1aUIsWUFDQW50QixPQUFBd3VDLGVBQUEsRUFDQXh1QyxPQUFBeXVDLG9CQUFBLEVBQ0F6dUMsT0FBQTB1QyxTQUdBMXVDLE9BQUEydUMsaUJBQUEsV0FDQTN1QyxPQUFBd3VDLGVBQUEsRUFDQXh1QyxPQUFBeXVDLG9CQUFBLEdBRUF6dUMsT0FBQTR1QyxZQUFBLFdBQ0E1dUMsT0FBQTB1QyxTQUNBMXVDLE9BQUF3dUMsZUFBQSxFQUNBeHVDLE9BQUF5dUMsb0JBQUEsR0FJQXp1QyxPQUFBNnVDLFVBQUEsU0FBQXAxQixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0EraUMsT0FBQXhwQixLQUFBbGEsT0FBQTB1QyxNQUFBLFNBQUFwbEMsVUFDQXRKLE9BQUE0SyxXQUFBakksS0FBQTJHLFVBQ0F0SixPQUFBMHVDLFNBQ0ExdUMsT0FBQXd1QyxlQUFBLEVBQ0F4dUMsT0FBQXl1QyxvQkFBQSxFQUNBL2tDLE9BQUErTSxRQUFBLGlCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUE4dUMsV0FBQSxTQUFBeHdDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0EraUMsT0FBQXBwQixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSxtQkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQWd2QyxhQUFBLFNBQUFDLElBRUEsR0FBQXJmLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQW8wQixLQUVBbjBCLEtBQUEsV0FDQSxNQUFBLFlBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUVBLEdBQUEvUyxPQUFBbjhCLE9BQUE0SyxXQUFBVixRQUFBK2tDLEdBRUEvdUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQXk5QixPQUFBQSxXQUFBM2hDLEdBQUFrdEMsR0FBQXQyQixXQUFBczJCLEdBQUEsU0FBQTNsQyxVQUNBdEosT0FBQTRLLFdBQUFULE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLG1CQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxlQUVBLGVBS0E1SixPQUFBbXZDLGdCQUFBLFNBQUF6MkIsR0FDQSxHQUFBblEsWUFJQSxPQUhBbVEsR0FBQXJRLFFBQ0FFLFNBQUFzYyxRQUFBLFVBQUE3a0IsT0FBQXlHLFdBQUE2QixhQUFBb1EsRUFBQXJRLFNBRUFFLFNBQUE3QyxPQUFBNkMsU0FBQSxHQUFBRCxhQUFBLElBS0F0SSxPQUFBb3ZDLGdCQUFBekIsZ0JBQ0EzdEMsT0FBQXF2QyxlQUFBLEVBQ0FydkMsT0FBQXN2QyxvQkFBQSxFQUNBdHZDLE9BQUF1dkMsU0FHQXZ2QyxPQUFBd3ZDLGlCQUFBLFdBQ0F4dkMsT0FBQXF2QyxlQUFBLEVBQ0FydkMsT0FBQXN2QyxvQkFBQSxHQUVBdHZDLE9BQUF5dkMsWUFBQSxXQUNBenZDLE9BQUF1dkMsU0FDQXZ2QyxPQUFBcXZDLGVBQUEsRUFDQXJ2QyxPQUFBc3ZDLG9CQUFBLEdBSUF0dkMsT0FBQTB2QyxlQUFBLFNBQUFqMkIsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHJDLGFBQUF2eUIsS0FBQWxhLE9BQUF1dkMsTUFBQSxTQUFBam1DLFVBQ0F0SixPQUFBb3ZDLGdCQUFBenNDLEtBQUEyRyxVQUNBdEosT0FBQXV2QyxTQUNBdnZDLE9BQUFxdkMsZUFBQSxFQUNBcnZDLE9BQUFzdkMsb0JBQUEsRUFDQTVsQyxPQUFBK00sUUFBQSx1QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksZ0JBS0E1SixPQUFBMnZDLGdCQUFBLFNBQUFyeEMsS0FBQXlELElBQ0EsR0FBQWd0QyxRQUFBLENBV0EsT0FWQTd1QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThyQyxhQUFBbnlCLFFBQUF2WSxHQUFBQSxJQUFBekQsS0FBQSxTQUFBZ0wsVUFDQXlsQyxNQUFBemxDLFNBQ0FJLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBK3RDLE9BQUEsRUFDQXJsQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxnQ0FBQU8sY0FBQTRJLGNBRUFtbEMsT0FHQS91QyxPQUFBNHZDLGtCQUFBLFNBQUFDLElBRUEsR0FBQWpnQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUFnMUIsS0FFQS8wQixLQUFBLFdBQ0EsTUFBQSxrQkFJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBcXRDLGFBRUEsR0FBQS9TLE9BQUFuOEIsT0FBQW92QyxnQkFBQWxsQyxRQUFBMmxDLEdBRUEzdkMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQXdtQyxhQUFBQSxXQUFBMXFDLEdBQUE4dEMsR0FBQUMsaUJBQUFELEdBQUEsU0FBQXZtQyxVQUNBdEosT0FBQW92QyxnQkFBQWpsQyxPQUFBZ3lCLE1BQUEsR0FDQXp5QixPQUFBK00sUUFBQSx5QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBK3ZDLG1CQUFBaE0sb0JBQ0EvakMsT0FBQWd3QyxlQUFBLEVBQ0Fod0MsT0FBQWl3QyxvQkFBQSxFQUNBandDLE9BQUFrd0MsU0FHQWx3QyxPQUFBbXdDLGlCQUFBLFdBQ0Fud0MsT0FBQWd3QyxlQUFBLEVBQ0Fod0MsT0FBQWl3QyxvQkFBQSxHQUVBandDLE9BQUFvd0MsWUFBQSxXQUNBcHdDLE9BQUFrd0MsU0FDQWx3QyxPQUFBZ3dDLGVBQUEsRUFDQWh3QyxPQUFBaXdDLG9CQUFBLEdBR0Fqd0MsT0FBQXF3QyxlQUFBLFNBQUE1MkIsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBK3JDLG9CQUFBeHlCLEtBQUFsYSxPQUFBa3dDLE1BQUEsU0FBQTVtQyxVQUNBdEosT0FBQSt2QyxtQkFBQXB0QyxLQUFBMkcsVUFDQXRKLE9BQUFrd0MsU0FDQWx3QyxPQUFBZ3dDLGVBQUEsRUFDQWh3QyxPQUFBaXdDLG9CQUFBLEVBQ0F2bUMsT0FBQStNLFFBQUEsOEJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx1Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSx1Q0FBQU8sY0FBQTRJLGdCQUlBNUosT0FBQXN3QyxnQkFBQSxTQUFBaHlDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0ErckMsb0JBQUFweUIsUUFBQXZZLEdBQUFBLElBQUF6RCxLQUFBLFNBQUFnTCxVQUNBeWxDLE1BQUF6bEMsU0FDQUksT0FBQStNLFFBQUEsZ0NBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFDQUFBTyxjQUFBNEksY0FFQW1sQyxPQUVBL3VDLE9BQUF1d0Msa0JBQUEsU0FBQWpLLElBQ0EsR0FBQTFXLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQXlyQixLQUVBeHJCLEtBQUEsV0FDQSxNQUFBLHlCQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFxdEMsYUFDQSxHQUFBL1MsT0FBQW44QixPQUFBK3ZDLG1CQUFBN2xDLFFBQUFvOEIsR0FDQXBtQyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBeW1DLG9CQUFBQSxXQUFBM3FDLEdBQUF1a0MsR0FBQUQsYUFBQUMsR0FBQSxTQUFBaDlCLFVBQ0F0SixPQUFBK3ZDLG1CQUFBNWxDLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLGdDQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsdUNBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUF3d0MsY0FBQTVDLGNBQ0E1dEMsT0FBQXl3QyxlQUFBLEVBQ0F6d0MsT0FBQTB3QyxvQkFBQSxFQUNBMXdDLE9BQUEyd0MsU0FHQTN3QyxPQUFBNHdDLGlCQUFBLFdBQ0E1d0MsT0FBQXl3QyxlQUFBLEVBQ0F6d0MsT0FBQTB3QyxvQkFBQSxHQUVBMXdDLE9BQUE2d0MsWUFBQSxXQUNBN3dDLE9BQUEyd0MsU0FDQTN3QyxPQUFBeXdDLGVBQUEsRUFDQXp3QyxPQUFBMHdDLG9CQUFBLEdBR0Exd0MsT0FBQTh3QyxhQUFBLFNBQUFyM0IsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBZ3NDLGFBQUF6eUIsS0FBQWxhLE9BQUEyd0MsTUFBQSxTQUFBcm5DLFVBQ0F0SixPQUFBd3dDLGNBQUE3dEMsS0FBQTJHLFVBQ0F0SixPQUFBMndDLFNBQ0Ezd0MsT0FBQXl3QyxlQUFBLEVBQ0F6d0MsT0FBQTB3QyxvQkFBQSxFQUNBaG5DLE9BQUErTSxRQUFBLHVCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0NBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0NBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUErd0MsY0FBQSxTQUFBenlDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Fnc0MsYUFBQXJ5QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSx5QkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsOEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsOEJBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQWd4QyxnQkFBQSxTQUFBQyxJQUNBLEdBQUFyaEIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBbzJCLEtBRUFuMkIsS0FBQSxXQUNBLE1BQUEsa0JBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUF3d0MsY0FBQXRtQyxRQUFBK21DLEdBQ0Evd0MsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQTBtQyxhQUFBQSxXQUFBNXFDLEdBQUFrdkMsR0FBQUMsaUJBQUFELEdBQUEsU0FBQTNuQyxVQUNBdEosT0FBQXd3QyxjQUFBcm1DLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0NBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0NBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUFteEMsY0FBQXRELGNBQ0E3dEMsT0FBQW94QyxlQUFBLEVBQ0FweEMsT0FBQXF4QyxvQkFBQSxFQUNBcnhDLE9BQUFzeEMsU0FHQXR4QyxPQUFBdXhDLGlCQUFBLFdBQ0F2eEMsT0FBQW94QyxlQUFBLEVBQ0FweEMsT0FBQXF4QyxvQkFBQSxHQUVBcnhDLE9BQUF3eEMsWUFBQSxXQUNBeHhDLE9BQUFzeEMsU0FDQXR4QyxPQUFBb3hDLGVBQUEsRUFDQXB4QyxPQUFBcXhDLG9CQUFBLEdBSUFyeEMsT0FBQXl4QyxhQUFBLFNBQUFoNEIsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBaXNDLFdBQUExeUIsS0FBQWxhLE9BQUFzeEMsTUFBQSxTQUFBaG9DLFVBQ0F0SixPQUFBbXhDLGNBQUF4dUMsS0FBQTJHLFVBQ0F0SixPQUFBc3hDLFNBQ0F0eEMsT0FBQW94QyxlQUFBLEVBQ0FweEMsT0FBQXF4QyxvQkFBQSxFQUNBM25DLE9BQUErTSxRQUFBLHFCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsOEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsOEJBQUFPLGNBQUE0SSxnQkFLQTVKLE9BQUEweEMsY0FBQSxTQUFBcHpDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Fpc0MsV0FBQXR5QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSx1QkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxjQUVBbWxDLE9BR0EvdUMsT0FBQTJ4QyxnQkFBQSxTQUFBQyxJQUVBLEdBQUFoaUIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBKzJCLEtBRUE5MkIsS0FBQSxXQUNBLE1BQUEsZ0JBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUVBLEdBQUEvUyxPQUFBbjhCLE9BQUFteEMsY0FBQWpuQyxRQUFBMG5DLEdBRUExeEMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQTJtQyxXQUFBQSxXQUFBN3FDLEdBQUE2dkMsR0FBQUMsZUFBQUQsR0FBQSxTQUFBdG9DLFVBQ0F0SixPQUFBbXhDLGNBQUFobkMsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEsdUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw4QkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQTZMLGFBQUEyaEIsYUFDQXh0QixPQUFBOHhDLGVBQUEsRUFDQTl4QyxPQUFBK3hDLG9CQUFBLEVBQ0EveEMsT0FBQWd5QyxTQUdBaHlDLE9BQUFpeUMsaUJBQUEsV0FDQWp5QyxPQUFBOHhDLGVBQUEsRUFDQTl4QyxPQUFBK3hDLG9CQUFBLEdBRUEveEMsT0FBQWt5QyxZQUFBLFdBQ0FseUMsT0FBQWd5QyxTQUNBaHlDLE9BQUE4eEMsZUFBQSxFQUNBOXhDLE9BQUEreEMsb0JBQUEsR0FHQS94QyxPQUFBbXlDLFlBQUEsU0FBQTE0QixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E4aUMsVUFBQXZwQixLQUFBbGEsT0FBQWd5QyxNQUFBLFNBQUExb0MsVUFDQXRKLE9BQUE2TCxhQUFBbEosS0FBQTJHLFVBQ0F0SixPQUFBZ3lDLFNBQ0FoeUMsT0FBQTh4QyxlQUFBLEVBQ0E5eEMsT0FBQSt4QyxvQkFBQSxFQUNBcm9DLE9BQUErTSxRQUFBLG9CQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNkJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNkJBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUFveUMsYUFBQSxTQUFBOXpDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E4aUMsVUFBQW5wQixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSxzQkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMkJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMkJBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQXF5QyxlQUFBLFNBQUF0NkIsSUFDQSxHQUFBNlgsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBOUMsS0FFQStDLEtBQUEsV0FDQSxNQUFBLGVBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUE2TCxhQUFBM0IsUUFBQTZOLEdBQ0E3WCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBdzlCLFVBQUFBLFdBQUExaEMsR0FBQWdXLEdBQUF2TCxhQUFBdUwsR0FBQSxTQUFBek8sVUFDQXRKLE9BQUE2TCxhQUFBMUIsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEsc0JBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw2QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw2QkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQXN5QyxlQUFBMU8sa0JBQ0E1akMsT0FBQXV5QyxnQkFBQSxFQUNBdnlDLE9BQUF3eUMscUJBQUEsRUFDQXh5QyxPQUFBeXlDLFVBR0F6eUMsT0FBQTB5QyxrQkFBQSxXQUNBMXlDLE9BQUF1eUMsZ0JBQUEsRUFDQXZ5QyxPQUFBd3lDLHFCQUFBLEdBRUF4eUMsT0FBQTJ5QyxhQUFBLFdBQ0EzeUMsT0FBQXl5QyxVQUNBenlDLE9BQUF1eUMsZ0JBQUEsRUFDQXZ5QyxPQUFBd3lDLHFCQUFBLEdBR0F4eUMsT0FBQTR5QyxpQkFBQSxTQUFBbjVCLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQWtzQyx3QkFBQTN5QixLQUFBbGEsT0FBQXl5QyxPQUFBLFNBQUFucEMsVUFDQXRKLE9BQUFzeUMsZUFBQTN2QyxLQUFBMkcsVUFDQXRKLE9BQUF5eUMsVUFDQXp5QyxPQUFBdXlDLGdCQUFBLEVBQ0F2eUMsT0FBQXd5QyxxQkFBQSxFQUNBOW9DLE9BQUErTSxRQUFBLHVDQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0RBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0RBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUE2eUMsa0JBQUEsU0FBQXYwQyxLQUFBeUQsSUFDQSxHQUFBZ3RDLFFBQUEsQ0FXQSxPQVZBN3VDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBa3NDLHdCQUFBdnlCLFFBQUF2WSxHQUFBQSxJQUFBekQsS0FBQSxTQUFBZ0wsVUFDQXlsQyxNQUFBemxDLFNBQ0FJLE9BQUErTSxRQUFBLHlDQUNBLFNBQUF6VixlQUNBK3RDLE9BQUEsRUFDQXJsQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSw4Q0FBQU8sY0FBQTRJLGNBRUFtbEMsT0FFQS91QyxPQUFBOHlDLG9CQUFBLFNBQUFDLEtBQ0EsR0FBQW5qQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUFrNEIsTUFFQWo0QixLQUFBLFdBQ0EsTUFBQSxrQ0FJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBcXRDLGFBQ0EsR0FBQS9TLE9BQUFuOEIsT0FBQXN5QyxlQUFBcG9DLFFBQUE2b0MsSUFDQTd5QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBNG1DLHdCQUFBQSxXQUFBOXFDLEdBQUFneEMsSUFBQTFjLG9CQUFBMGMsSUFBQSxTQUFBenBDLFVBQ0F0SixPQUFBc3lDLGVBQUFub0MsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEseUNBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnREFBQU8sY0FBQVAsU0FBQSxxQkFDQSxnREFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQWd6QyxXQUFBclAsYUFDQTNqQyxPQUFBaXpDLGVBQUEsRUFDQWp6QyxPQUFBa3pDLG9CQUFBLEVBQ0FsekMsT0FBQW16QyxTQUdBbnpDLE9BQUFvekMsaUJBQUEsV0FDQXB6QyxPQUFBaXpDLGVBQUEsRUFDQWp6QyxPQUFBa3pDLG9CQUFBLEdBRUFsekMsT0FBQXF6QyxZQUFBLFdBQ0FyekMsT0FBQW16QyxTQUNBbnpDLE9BQUFpekMsZUFBQSxFQUNBanpDLE9BQUFrekMsb0JBQUEsR0FJQWx6QyxPQUFBc3pDLFlBQUEsU0FBQTc1QixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Ftc0MsaUJBQUE1eUIsS0FBQWxhLE9BQUFtekMsTUFBQSxTQUFBN3BDLFVBQ0F0SixPQUFBZ3pDLFdBQUFyd0MsS0FBQTJHLFVBQ0F0SixPQUFBbXpDLFNBQ0FuekMsT0FBQWl6QyxlQUFBLEVBQ0FqekMsT0FBQWt6QyxvQkFBQSxFQUNBeHBDLE9BQUErTSxRQUFBLDJCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsb0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esb0NBQUFPLGNBQUE0SSxnQkFLQTVKLE9BQUF1ekMsYUFBQSxTQUFBajFDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Ftc0MsaUJBQUF4eUIsUUFBQXZZLEdBQUFBLElBQUF6RCxLQUFBLFNBQUFnTCxVQUNBeWxDLE1BQUF6bEMsU0FDQUksT0FBQStNLFFBQUEsNkJBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksY0FFQW1sQyxPQUdBL3VDLE9BQUF3ekMsZUFBQSxTQUFBdk4sSUFFQSxHQUFBclcsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBb3JCLEtBRUFuckIsS0FBQSxXQUNBLE1BQUEsc0JBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUVBLEdBQUEvUyxPQUFBbjhCLE9BQUFnekMsV0FBQTlvQyxRQUFBKzdCLEdBRUEvbEMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQTZtQyxpQkFBQUEsV0FBQS9xQyxHQUFBa2tDLEdBQUFqcEIsVUFBQWlwQixHQUFBLFNBQUEzOEIsVUFDQXRKLE9BQUFnekMsV0FBQTdvQyxPQUFBZ3lCLE1BQUEsR0FDQXp5QixPQUFBK00sUUFBQSw2QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG9DQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG9DQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBMkwsY0FBQW1pQyxjQUNBOXRDLE9BQUF5ekMsZUFBQSxFQUNBenpDLE9BQUEwekMsb0JBQUEsRUFDQTF6QyxPQUFBMnpDLFNBR0EzekMsT0FBQTR6QyxpQkFBQSxXQUNBNXpDLE9BQUF5ekMsZUFBQSxFQUNBenpDLE9BQUEwekMsb0JBQUEsR0FFQTF6QyxPQUFBNnpDLFlBQUEsV0FDQTd6QyxPQUFBMnpDLFNBQ0EzekMsT0FBQXl6QyxlQUFBLEVBQ0F6ekMsT0FBQTB6QyxvQkFBQSxHQUdBMXpDLE9BQUE4ekMsYUFBQSxTQUFBcjZCLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQW9zQyxhQUFBN3lCLEtBQUFsYSxPQUFBMnpDLE1BQUEsU0FBQXJxQyxVQUNBdEosT0FBQTJMLGNBQUFoSixLQUFBMkcsVUFDQXRKLE9BQUEyekMsU0FDQTN6QyxPQUFBeXpDLGVBQUEsRUFDQXp6QyxPQUFBMHpDLG9CQUFBLEVBQ0FocUMsT0FBQStNLFFBQUEsdUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxnQ0FBQU8sY0FBQTRJLGdCQUlBNUosT0FBQSt6QyxjQUFBLFNBQUF6MUMsS0FBQXlELElBQ0EsR0FBQWd0QyxRQUFBLENBV0EsT0FWQTd1QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQW9zQyxhQUFBenlCLFFBQUF2WSxHQUFBQSxJQUFBekQsS0FBQSxTQUFBZ0wsVUFDQXlsQyxNQUFBemxDLFNBQ0FJLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBK3RDLE9BQUEsRUFDQXJsQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw4QkFBQU8sY0FBQTRJLGNBRUFtbEMsT0FFQS91QyxPQUFBZzBDLGdCQUFBLFNBQUF2WixJQUNBLEdBQUE3SyxlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE0ZixLQUVBM2YsS0FBQSxXQUNBLE1BQUEsa0JBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUEyTCxjQUFBekIsUUFBQXV3QixHQUNBdjZCLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0E4bUMsYUFBQUEsV0FBQWhyQyxHQUFBMDRCLEdBQUF0YSxpQkFBQXNhLEdBQUEsU0FBQW54QixVQUNBdEosT0FBQTJMLGNBQUF4QixPQUFBZ3lCLE1BQUEsR0FDQXp5QixPQUFBK00sUUFBQSx5QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBZ3BDLFlBQUErRSxnQkFDQS90QyxPQUFBaTBDLGlCQUFBLEVBQ0FqMEMsT0FBQWswQyxzQkFBQSxFQUNBbDBDLE9BQUFtMEMsV0FHQW4wQyxPQUFBbzBDLG1CQUFBLFdBQ0FwMEMsT0FBQWkwQyxpQkFBQSxFQUNBajBDLE9BQUFrMEMsc0JBQUEsR0FFQWwwQyxPQUFBcTBDLGNBQUEsV0FDQXIwQyxPQUFBbTBDLFdBQ0FuMEMsT0FBQWkwQyxpQkFBQSxFQUNBajBDLE9BQUFrMEMsc0JBQUEsR0FHQWwwQyxPQUFBczBDLGNBQUEsU0FBQTc2QixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Fxc0MsWUFBQTl5QixLQUFBbGEsT0FBQW0wQyxRQUFBLFNBQUE3cUMsVUFDQXRKLE9BQUFncEMsWUFBQXJtQyxLQUFBMkcsVUFDQXRKLE9BQUFtMEMsV0FDQW4wQyxPQUFBaTBDLGlCQUFBLEVBQ0FqMEMsT0FBQWswQyxzQkFBQSxFQUNBeHFDLE9BQUErTSxRQUFBLHNCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsK0JBQUFPLGNBQUFQLFNBQUEscUJBQ0EsK0JBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUF1MEMsZUFBQSxTQUFBajJDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Fxc0MsWUFBQTF5QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSx3QkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNkJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNkJBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQXcwQyxpQkFBQSxTQUFBQyxNQUNBLEdBQUE3a0IsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBNDVCLE9BRUEzNUIsS0FBQSxXQUNBLE1BQUEsaUJBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUFncEMsWUFBQTkrQixRQUFBdXFDLEtBQ0F2MEMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQSttQyxZQUFBQSxXQUFBanJDLEdBQUEweUMsS0FBQWhMLGdCQUFBZ0wsS0FBQSxTQUFBbnJDLFVBQ0F0SixPQUFBZ3BDLFlBQUE3K0IsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEsd0JBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwrQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwrQkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQStvQyxZQUFBaUYsWUFDQWh1QyxPQUFBMDBDLGlCQUFBLEVBQ0ExMEMsT0FBQTIwQyxzQkFBQSxFQUNBMzBDLE9BQUE0MEMsV0FHQTUwQyxPQUFBNjBDLG1CQUFBLFdBQ0E3MEMsT0FBQTAwQyxpQkFBQSxFQUNBMTBDLE9BQUEyMEMsc0JBQUEsR0FFQTMwQyxPQUFBODBDLGNBQUEsV0FDQTkwQyxPQUFBNDBDLFdBQ0E1MEMsT0FBQTAwQyxpQkFBQSxFQUNBMTBDLE9BQUEyMEMsc0JBQUEsR0FJQTMwQyxPQUFBKzBDLFdBQUEsU0FBQXQ3QixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Fzc0MsU0FBQS95QixLQUFBbGEsT0FBQTQwQyxRQUFBLFNBQUF0ckMsVUFDQXRKLE9BQUErb0MsWUFBQXBtQyxLQUFBMkcsVUFDQXRKLE9BQUE0MEMsV0FDQTUwQyxPQUFBMDBDLGlCQUFBLEVBQ0ExMEMsT0FBQTIwQyxzQkFBQSxFQUNBanJDLE9BQUErTSxRQUFBLG1CQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxnQkFLQTVKLE9BQUFnMUMsWUFBQSxTQUFBMTJDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Fzc0MsU0FBQTN5QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSxxQkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxjQUVBbWxDLE9BR0EvdUMsT0FBQWkxQyxjQUFBLFNBQUFDLE1BRUEsR0FBQXRsQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUFxNkIsT0FFQXA2QixLQUFBLFdBQ0EsTUFBQSxjQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFxdEMsYUFFQSxHQUFBL1MsT0FBQW44QixPQUFBK29DLFlBQUE3K0IsUUFBQWdyQyxLQUVBaDFDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FnbkMsU0FBQUEsV0FBQWxyQyxHQUFBbXpDLEtBQUExSSxhQUFBMEksS0FBQSxTQUFBNXJDLFVBQ0F0SixPQUFBK29DLFlBQUE1K0IsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEscUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQW0xQyxnQkFBQWxILHlCQUNBanVDLE9BQUFvMUMsZ0JBQUEsRUFDQXAxQyxPQUFBcTFDLHFCQUFBLEVBQ0FyMUMsT0FBQXMxQyxVQUdBdDFDLE9BQUF1MUMsa0JBQUEsV0FDQXYxQyxPQUFBbzFDLGdCQUFBLEVBQ0FwMUMsT0FBQXExQyxxQkFBQSxHQUVBcjFDLE9BQUF3MUMsYUFBQSxXQUNBeDFDLE9BQUFzMUMsVUFDQXQxQyxPQUFBbzFDLGdCQUFBLEVBQ0FwMUMsT0FBQXExQyxxQkFBQSxHQUdBcjFDLE9BQUF5MUMsZUFBQSxTQUFBaDhCLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQWl0QixvQkFBQTFULEtBQUFsYSxPQUFBczFDLE9BQUEsU0FBQWhzQyxVQUNBdEosT0FBQW0xQyxnQkFBQXh5QyxLQUFBMkcsVUFDQXRKLE9BQUFzMUMsVUFDQXQxQyxPQUFBbzFDLGdCQUFBLEVBQ0FwMUMsT0FBQXExQyxxQkFBQSxFQUNBM3JDLE9BQUErTSxRQUFBLDBDQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsbURBQUFPLGNBQUFQLFNBQUEscUJBQ0EsbURBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUEwMUMsZ0JBQUEsU0FBQXAzQyxLQUFBeUQsSUFDQSxHQUFBZ3RDLFFBQUEsQ0FXQSxPQVZBN3VDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBaXRCLG9CQUFBdFQsUUFBQXZZLEdBQUFBLElBQUF6RCxLQUFBLFNBQUFnTCxVQUNBeWxDLE1BQUF6bEMsU0FDQUksT0FBQStNLFFBQUEsNENBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGlEQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGlEQUFBTyxjQUFBNEksY0FFQW1sQyxPQUVBL3VDLE9BQUEyMUMsa0JBQUEsU0FBQUMsS0FDQSxHQUFBaG1CLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQSs2QixNQUVBOTZCLEtBQUEsV0FDQSxNQUFBLHFDQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFxdEMsYUFDQSxHQUFBL1MsT0FBQW44QixPQUFBbTFDLGdCQUFBanJDLFFBQUEwckMsSUFDQTExQyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBMm5CLG9CQUFBQSxXQUFBN3JCLEdBQUE2ekMsSUFBQTd6QyxJQUFBNnpDLElBQUEsU0FBQXRzQyxVQUNBdEosT0FBQW0xQyxnQkFBQWhyQyxPQUFBZ3lCLE1BQUEsR0FDQXp5QixPQUFBK00sUUFBQSw0Q0FDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1EQUFBTyxjQUFBUCxTQUFBLHFCQUNBLG1EQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBNjFDLFNBQUExTyxXQUNBbm5DLE9BQUE4MUMsY0FBQSxFQUNBOTFDLE9BQUErMUMsbUJBQUEsRUFDQS8xQyxPQUFBZzJDLFFBR0FoMkMsT0FBQWkyQyxnQkFBQSxXQUNBajJDLE9BQUE4MUMsY0FBQSxFQUNBOTFDLE9BQUErMUMsbUJBQUEsR0FFQS8xQyxPQUFBazJDLFdBQUEsV0FDQWwyQyxPQUFBZzJDLFFBQ0FoMkMsT0FBQTgxQyxjQUFBLEVBQ0E5MUMsT0FBQSsxQyxtQkFBQSxHQUdBLzFDLE9BQUFtMkMsVUFBQSxTQUFBMThCLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXVzQyxPQUFBaHpCLEtBQUFsYSxPQUFBZzJDLEtBQUEsU0FBQTFzQyxVQUNBdEosT0FBQTYxQyxTQUFBbHpDLEtBQUEyRyxVQUNBdEosT0FBQWcyQyxRQUNBaDJDLE9BQUE4MUMsY0FBQSxFQUNBOTFDLE9BQUErMUMsbUJBQUEsRUFDQXJzQyxPQUFBK00sUUFBQSxpQkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDBCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEksZ0JBSUE1SixPQUFBbzJDLFdBQUEsU0FBQTkzQyxLQUFBeUQsSUFDQSxHQUFBZ3RDLFFBQUEsQ0FXQSxPQVZBN3VDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBdXNDLE9BQUE1eUIsUUFBQXZZLEdBQUFBLElBQUF6RCxLQUFBLFNBQUFnTDtBQUNBeWxDLE1BQUF6bEMsU0FDQUksT0FBQStNLFFBQUEsbUJBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksY0FFQW1sQyxPQUVBL3VDLE9BQUFxMkMsYUFBQSxTQUFBNWhDLEdBQ0EsR0FBQW1iLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQXBHLElBRUFxRyxLQUFBLFdBQ0EsTUFBQSxZQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFxdEMsYUFDQSxHQUFBL1MsT0FBQW44QixPQUFBNjFDLFNBQUEzckMsUUFBQXVLLEVBQ0F2VSxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBaW5DLE9BQUFBLFdBQUFuckMsR0FBQTBTLEVBQUE2aEMsV0FBQTdoQyxFQUFBLFNBQUFuTCxVQUNBdEosT0FBQTYxQyxTQUFBMXJDLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLG1CQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUF1MkMsWUFBQXZTLGdCQUNBaGtDLE9BQUF3MkMsZUFBQSxFQUNBeDJDLE9BQUF5MkMsb0JBQUEsRUFDQXoyQyxPQUFBMDJDLFNBR0ExMkMsT0FBQTIyQyxpQkFBQSxXQUNBMzJDLE9BQUF3MkMsZUFBQSxFQUNBeDJDLE9BQUF5MkMsb0JBQUEsR0FFQXoyQyxPQUFBNDJDLFlBQUEsV0FDQTUyQyxPQUFBMDJDLFNBQ0ExMkMsT0FBQXcyQyxlQUFBLEVBQ0F4MkMsT0FBQXkyQyxvQkFBQSxHQUdBejJDLE9BQUE2MkMsZUFBQSxTQUFBcDlCLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXdzQyxhQUFBanpCLEtBQUFsYSxPQUFBMDJDLE1BQUEsU0FBQXB0QyxVQUNBdEosT0FBQXUyQyxZQUFBNXpDLEtBQUEyRyxVQUNBdEosT0FBQTAyQyxTQUNBMTJDLE9BQUF3MkMsZUFBQSxFQUNBeDJDLE9BQUF5MkMsb0JBQUEsRUFDQS9zQyxPQUFBK00sUUFBQSx1QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksZ0JBSUE1SixPQUFBODJDLGdCQUFBLFNBQUF4NEMsS0FBQXlELElBQ0EsR0FBQWd0QyxRQUFBLENBV0EsT0FWQTd1QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXdzQyxhQUFBN3lCLFFBQUF2WSxHQUFBQSxJQUFBekQsS0FBQSxTQUFBZ0wsVUFDQXlsQyxNQUFBemxDLFNBQ0FJLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBK3RDLE9BQUEsRUFDQXJsQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw4QkFBQU8sY0FBQTRJLGNBRUFtbEMsT0FFQS91QyxPQUFBKzJDLGtCQUFBLFNBQUFyZSxJQUNBLEdBQUE5SSxlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE2ZCxLQUVBNWQsS0FBQSxXQUNBLE1BQUEsa0JBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUF1MkMsWUFBQXJzQyxRQUFBd3VCLEdBQ0F4NEIsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQWtuQyxhQUFBQSxXQUFBcHJDLEdBQUEyMkIsR0FBQUQsaUJBQUFDLEdBQUEsU0FBQXB2QixVQUNBdEosT0FBQXUyQyxZQUFBcHNDLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0NBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0NBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUF3b0MsV0FBQTBGLGtCQUNBbHVDLE9BQUFnM0MsZ0JBQUEsRUFDQWgzQyxPQUFBaTNDLHFCQUFBLEVBQ0FqM0MsT0FBQWszQyxVQUdBbDNDLE9BQUFtM0Msa0JBQUEsV0FDQW4zQyxPQUFBZzNDLGdCQUFBLEVBQ0FoM0MsT0FBQWkzQyxxQkFBQSxHQUVBajNDLE9BQUFvM0MsYUFBQSxXQUNBcDNDLE9BQUFrM0MsVUFDQWwzQyxPQUFBZzNDLGdCQUFBLEVBQ0FoM0MsT0FBQWkzQyxxQkFBQSxHQUlBajNDLE9BQUFxM0MsYUFBQSxTQUFBNTlCLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXlzQyxXQUFBbHpCLEtBQUFsYSxPQUFBazNDLE9BQUEsU0FBQTV0QyxVQUNBdEosT0FBQXdvQyxXQUFBN2xDLEtBQUEyRyxVQUNBdEosT0FBQWszQyxVQUNBbDNDLE9BQUFnM0MsZ0JBQUEsRUFDQWgzQyxPQUFBaTNDLHFCQUFBLEVBQ0F2dEMsT0FBQStNLFFBQUEsaUNBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQ0FBQU8sY0FBQTRJLGdCQUtBNUosT0FBQXMzQyxjQUFBLFNBQUFoNUMsS0FBQXlELElBQ0EsR0FBQWd0QyxRQUFBLENBV0EsT0FWQTd1QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQXlzQyxXQUFBOXlCLFFBQUF2WSxHQUFBQSxJQUFBekQsS0FBQSxTQUFBZ0wsVUFDQXlsQyxNQUFBemxDLFNBQ0FJLE9BQUErTSxRQUFBLG1DQUNBLFNBQUF6VixlQUNBK3RDLE9BQUEsRUFDQXJsQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSx3Q0FBQU8sY0FBQTRJLGNBRUFtbEMsT0FHQS91QyxPQUFBdTNDLGdCQUFBLFNBQUFDLEtBRUEsR0FBQTVuQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUEyOEIsTUFFQTE4QixLQUFBLFdBQ0EsTUFBQSw2QkFJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBcXRDLGFBRUEsR0FBQS9TLE9BQUFuOEIsT0FBQXdvQyxXQUFBdCtCLFFBQUFzdEMsSUFFQXQzQyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBbW5DLFdBQUFBLFdBQUFyckMsR0FBQXkxQyxJQUFBL00sZUFBQStNLElBQUEsU0FBQWx1QyxVQUNBdEosT0FBQXdvQyxXQUFBcitCLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLG1DQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMENBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMENBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUFzb0MsV0FBQTZGLGNBQ0FudUMsT0FBQXkzQyxnQkFBQSxFQUNBejNDLE9BQUEwM0MscUJBQUEsRUFDQTEzQyxPQUFBMjNDLFVBR0EzM0MsT0FBQTQzQyxrQkFBQSxXQUNBNTNDLE9BQUF5M0MsZ0JBQUEsRUFDQXozQyxPQUFBMDNDLHFCQUFBLEdBRUExM0MsT0FBQTYzQyxhQUFBLFdBQ0E3M0MsT0FBQTIzQyxVQUNBMzNDLE9BQUF5M0MsZ0JBQUEsRUFDQXozQyxPQUFBMDNDLHFCQUFBLEdBR0ExM0MsT0FBQTgzQyxVQUFBLFNBQUFyK0IsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBMHNDLFFBQUFuekIsS0FBQWxhLE9BQUEyM0MsT0FBQSxTQUFBcnVDLFVBQ0F0SixPQUFBc29DLFdBQUEzbEMsS0FBQTJHLFVBQ0F0SixPQUFBMjNDLFVBQ0EzM0MsT0FBQXkzQyxnQkFBQSxFQUNBejNDLE9BQUEwM0MscUJBQUEsRUFDQWh1QyxPQUFBK00sUUFBQSw4QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHVDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHVDQUFBTyxjQUFBNEksZ0JBSUE1SixPQUFBKzNDLFdBQUEsU0FBQXo1QyxLQUFBeUQsSUFDQSxHQUFBZ3RDLFFBQUEsQ0FXQSxPQVZBN3VDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBMHNDLFFBQUEveUIsUUFBQXZZLEdBQUFBLElBQUF6RCxLQUFBLFNBQUFnTCxVQUNBeWxDLE1BQUF6bEMsU0FDQUksT0FBQStNLFFBQUEsZ0NBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFDQUFBTyxjQUFBNEksY0FFQW1sQyxPQUVBL3VDLE9BQUFnNEMsYUFBQSxTQUFBQyxLQUNBLEdBQUFyb0IsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBbzlCLE1BRUFuOUIsS0FBQSxXQUNBLE1BQUEsMEJBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUFzb0MsV0FBQXArQixRQUFBK3RDLElBQ0EvM0MsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQW9uQyxRQUFBQSxXQUFBdHJDLEdBQUFrMkMsSUFBQUMseUJBQUFELElBQUEsU0FBQTN1QyxVQUNBdEosT0FBQXNvQyxXQUFBbitCLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLGdDQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsdUNBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUFtNEMsY0FBQWpyQixnQkFDQWx0QixPQUFBbzRDLGVBQUEsRUFDQXA0QyxPQUFBcTRDLG9CQUFBLEVBQ0FyNEMsT0FBQXM0QyxTQUdBdDRDLE9BQUF1NEMsaUJBQUEsV0FDQXY0QyxPQUFBbzRDLGVBQUEsRUFDQXA0QyxPQUFBcTRDLG9CQUFBLEdBRUFyNEMsT0FBQXc0QyxZQUFBLFdBQ0F4NEMsT0FBQXM0QyxTQUNBdDRDLE9BQUFvNEMsZUFBQSxFQUNBcDRDLE9BQUFxNEMsb0JBQUEsR0FHQXI0QyxPQUFBeTRDLGVBQUEsU0FBQWgvQixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Eyc0MsYUFBQXB6QixLQUFBbGEsT0FBQXM0QyxNQUFBLFNBQUFodkMsVUFDQXRKLE9BQUFtNEMsY0FBQXgxQyxLQUFBMkcsVUFDQXRKLE9BQUFzNEMsU0FDQXQ0QyxPQUFBbzRDLGVBQUEsRUFDQXA0QyxPQUFBcTRDLG9CQUFBLEVBQ0EzdUMsT0FBQStNLFFBQUEsdUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxnQ0FBQU8sY0FBQTRJLGdCQUlBNUosT0FBQTA0QyxnQkFBQSxTQUFBcDZDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Eyc0MsYUFBQWh6QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSx5QkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsOEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsOEJBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQTI0QyxrQkFBQSxTQUFBQyxJQUNBLEdBQUFocEIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBKzlCLEtBRUE5OUIsS0FBQSxXQUNBLE1BQUEsa0JBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUFtNEMsY0FBQWp1QyxRQUFBMHVDLEdBQ0ExNEMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQXFuQyxhQUFBQSxXQUFBdnJDLEdBQUE2MkMsR0FBQXQ0QixpQkFBQXM0QixHQUFBLFNBQUF0dkMsVUFDQXRKLE9BQUFtNEMsY0FBQWh1QyxPQUFBZ3lCLE1BQUEsR0FDQXp5QixPQUFBK00sUUFBQSx5QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBK00sWUFBQWt5QixtQkFDQWovQixPQUFBNjRDLGVBQUEsRUFDQTc0QyxPQUFBODRDLG9CQUFBLEVBQ0E5NEMsT0FBQSs0QyxTQUdBLzRDLE9BQUFnNUMsaUJBQUEsV0FDQWg1QyxPQUFBNjRDLGVBQUEsRUFDQTc0QyxPQUFBODRDLG9CQUFBLEdBRUE5NEMsT0FBQWk1QyxZQUFBLFdBQ0FqNUMsT0FBQSs0QyxTQUNBLzRDLE9BQUE2NEMsZUFBQSxFQUNBNzRDLE9BQUE4NEMsb0JBQUEsR0FJQTk0QyxPQUFBazVDLFdBQUEsU0FBQXovQixPQUNBQSxRQUNBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Erc0IsZ0JBQUF4VCxLQUFBbGEsT0FBQSs0QyxNQUFBLFNBQUF6dkMsVUFDQXRKLE9BQUErTSxZQUFBcEssS0FBQTJHLFVBQ0F0SixPQUFBKzRDLFNBQ0EvNEMsT0FBQTY0QyxlQUFBLEVBQ0E3NEMsT0FBQTg0QyxvQkFBQSxFQUNBcHZDLE9BQUErTSxRQUFBLDBCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsbUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsbUNBQUFPLGNBQUE0SSxnQkFLQTVKLE9BQUFtNUMsWUFBQSxTQUFBNzZDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Erc0IsZ0JBQUFwVCxRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSw0QkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsaUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EsaUNBQUFPLGNBQUE0SSxjQUVBbWxDLE9BR0EvdUMsT0FBQW81QyxjQUFBLFNBQUFoZ0MsSUFFQSxHQUFBd1csZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBekIsS0FFQTBCLEtBQUEsV0FDQSxNQUFBLHFCQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFxdEMsYUFFQSxHQUFBL1MsT0FBQW44QixPQUFBK00sWUFBQTdDLFFBQUFrUCxHQUVBbFosT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQXluQixnQkFBQUEsV0FBQTNyQixHQUFBcVgsR0FBQXdGLG9CQUFBeEYsR0FBQSxTQUFBOVAsVUFDQXRKLE9BQUErTSxZQUFBNUMsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEsNEJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxtQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxtQ0FBQU8sY0FBQTRJLGlCQU9BNUosT0FBQXE1QyxhQUFBLzFCLGVBQ0F0akIsT0FBQXM1QyxrQkFBQSxFQUNBdDVDLE9BQUF1NUMsdUJBQUEsRUFDQXY1QyxPQUFBdzVDLFlBR0F4NUMsT0FBQXk1QyxvQkFBQSxXQUNBejVDLE9BQUFzNUMsa0JBQUEsRUFDQXQ1QyxPQUFBdTVDLHVCQUFBLEdBRUF2NUMsT0FBQTA1QyxlQUFBLFdBQ0ExNUMsT0FBQXc1QyxZQUNBeDVDLE9BQUFzNUMsa0JBQUEsRUFDQXQ1QyxPQUFBdTVDLHVCQUFBLEdBR0F2NUMsT0FBQTI1QyxjQUFBLFNBQUFsZ0MsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBZ3RCLFlBQUF6VCxLQUFBbGEsT0FBQXc1QyxTQUFBLFNBQUFsd0MsVUFDQXRKLE9BQUFxNUMsYUFBQTEyQyxLQUFBMkcsVUFDQXRKLE9BQUE0NUMsYUFDQTU1QyxPQUFBczVDLGtCQUFBLEVBQ0F0NUMsT0FBQXU1Qyx1QkFBQSxFQUNBN3ZDLE9BQUErTSxRQUFBLHNCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsK0JBQUFPLGNBQUFQLFNBQUEscUJBQ0EsK0JBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUE2NUMsZUFBQSxTQUFBdjdDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FndEIsWUFBQXJULFFBQUF2WSxHQUFBQSxJQUFBekQsS0FBQSxTQUFBZ0wsVUFDQXlsQyxNQUFBemxDLFNBQ0FJLE9BQUErTSxRQUFBLHdCQUNBLFNBQUF6VixlQUNBK3RDLE9BQUEsRUFDQXJsQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw2QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw2QkFBQU8sY0FBQTRJLGNBRUFtbEMsT0FFQS91QyxPQUFBODVDLGlCQUFBLFNBQUFDLE9BQ0EsR0FBQW5xQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUFrL0IsUUFFQWovQixLQUFBLFdBQ0EsTUFBQSxpQkFJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBcXRDLGFBQ0EsR0FBQS9TLE9BQUFuOEIsT0FBQXE1QyxhQUFBbnZDLFFBQUE2dkMsTUFDQTc1QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBMG5CLFlBQUFBLFdBQUE1ckIsR0FBQWc0QyxNQUFBMzhCLGdCQUFBMjhCLE1BQUEsU0FBQXp3QyxVQUNBdEosT0FBQXE1QyxhQUFBbHZDLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLHdCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsK0JBQUFPLGNBQUFQLFNBQUEscUJBQ0EsK0JBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUFnNkMsYUFBQTFzQixlQUNBdHRCLE9BQUFpNkMsc0JBQ0FqNkMsT0FBQWs2QyxzQkFHQWw2QyxPQUFBbTZDLHlCQUNBbjZDLE9BQUFnNkMsYUFBQTN2QyxRQUFBLFNBQUFrZSxVQUNBZ2xCLFlBQUE2TSwwQkFBQXI0QyxHQUFBd21CLFNBQUE3SixnQkFBQSxTQUFBcFYsVUFDQSxHQUFBK3dDLE1BQUEvd0MsUUFDQWlmLFVBQUEreEIsV0FBQSxJQUFBQyxlQUFBaHlCLFVBQUFpeUIsaUJBQUEsR0FDQUgsS0FBQTMwQyxPQUFBLEdBQ0EyMEMsS0FBQWh3QyxRQUFBLFNBQUEvSyxHQUNBaXBCLFNBQUEreEIsU0FBQTMzQyxLQUFBckQsRUFBQXNmLG9CQUNBMjdCLFlBQUE1M0MsS0FBQXJELEVBQUEyZ0IsUUFDQXNJLFNBQUFpeUIsaUJBQUFELFlBQUFseEMsS0FBQSxRQUdBckosT0FBQW02QyxzQkFBQXgzQyxLQUFBNGxCLFdBQ0EsU0FBQXZuQixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMENBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMENBQUFPLGNBQUE0SSxjQUNBNkYsV0FJQXpQLE9BQUF5NkMsYUFBQSxTQUFBQyxNQUNBLEdBQUFueUMsWUFNQSxPQUxBM0ssU0FBQXlNLFFBQUFySyxPQUFBK00sWUFBQSxTQUFBNUwsR0FDQXU1QyxLQUFBSixTQUFBcHdDLFFBQUEvSSxFQUFBeWQscUJBQUEsR0FDQXJXLFNBQUE1RixLQUFBeEIsRUFBQThlLFVBR0ExWCxTQUFBN0MsT0FBQTZDLFNBQUFjLEtBQUEsTUFBQSxJQUVBckosT0FBQTI2Qyx1QkFDQTM2QyxPQUFBNDZDLGVBQUEsU0FBQUMsZ0JBQUFDLFlBR0FBLFdBQUFwMUMsT0FBQW0xQyxnQkFBQW4xQyxRQUVBOUgsUUFBQXlNLFFBQUF3d0MsZ0JBQUEsU0FBQUUsSUFDQSxHQUFBRCxXQUFBNXdDLFFBQUE2d0MsSUFBQSxFQUFBLENBRUEsR0FBQUMsV0FBQWg3QyxPQUFBK00sWUFBQVosT0FBQSxTQUFBaU4sSUFBQSxNQUFBQSxJQUFBd0Ysb0JBQUFtOEIsS0FBQSxFQUVBLElBQUEvNkMsT0FBQTI2QyxvQkFBQWoxQyxPQUFBLEVBQ0EsSUFBQSxHQUFBcEcsR0FBQSxFQUFBQSxFQUFBVSxPQUFBMjZDLG9CQUFBajFDLE9BQUFwRyxJQUNBVSxPQUFBMjZDLG9CQUFBcjdDLEdBQUFzZixvQkFBQW84QixVQUFBcDhCLG1CQUVBdGYsRUFBQVUsT0FBQWk2QyxtQkFBQXYwQyxPQUVBMUYsT0FBQTI2QyxvQkFBQWg0QyxLQUFBcTRDLGVBSUFoN0MsUUFBQTI2QyxvQkFBQWg0QyxLQUFBcTRDLGVBTUFoN0MsT0FBQWk3QyxpQkFBQSxFQUNBajdDLE9BQUFrN0Msc0JBQUEsRUFDQWw3QyxPQUFBbTdDLFdBR0FuN0MsT0FBQW83QyxtQkFBQSxXQUNBcDdDLE9BQUFpN0MsaUJBQUEsRUFDQWo3QyxPQUFBazdDLHNCQUFBLEdBRUFsN0MsT0FBQXE3QyxjQUFBLFdBQ0FyN0MsT0FBQW03QyxXQUNBbjdDLE9BQUFpNkMsc0JBQ0FyOEMsUUFBQXlNLFFBQUFySyxPQUFBK00sWUFBQSxTQUFBek4sR0FBQUEsRUFBQWlKLFVBQUEsSUFDQXZJLE9BQUFpN0MsaUJBQUEsRUFDQWo3QyxPQUFBazdDLHNCQUFBLEdBSUFsN0MsT0FBQXM3QyxvQkFBQSxTQUFBbGlDLElBRUEsR0FBQUEsR0FBQTdRLFlBQUEsRUFBQSxDQUVBLEdBQUF2SSxPQUFBaTZDLG1CQUFBdjBDLE9BQUEsRUFDQSxJQUFBLEdBQUFwRyxHQUFBLEVBQUFBLEVBQUFVLE9BQUFpNkMsbUJBQUF2MEMsT0FBQXBHLElBQ0FVLE9BQUFpNkMsbUJBQUEzNkMsR0FBQXNmLG9CQUFBeEYsR0FBQXdGLG1CQUVBdGYsRUFBQVUsT0FBQWk2QyxtQkFBQXYwQyxRQUVBMUYsT0FBQWk2QyxtQkFBQXQzQyxLQUFBeVcsSUFDQTlaLEVBQUFVLE9BQUFpNkMsbUJBQUF2MEMsT0FLQSxLQUFBMUYsT0FBQWk2QyxtQkFBQXYwQyxRQUNBMUYsT0FBQWk2QyxtQkFBQXQzQyxLQUFBeVcsTUFJQXBaLE9BQUF1N0MsY0FBQSxTQUFBOWhDLE9BQ0EsR0FBQUEsTUFBQSxDQUNBLEdBQUEraEMsY0FDQUMsY0FDQXY3QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQTRzQyxZQUFBcnpCLEtBQUFsYSxPQUFBbTdDLFFBQUEsU0FBQTd4QyxVQUNBa3lDLFVBQUFseUMsU0FDQXRKLE9BQUFtN0MsV0FDQW43QyxPQUFBaTdDLGlCQUFBLEVBQ0FqN0MsT0FBQWs3QyxzQkFBQSxFQUVBbDdDLE9BQUFpNkMsbUJBQUF2MEMsT0FBQSxHQUNBOUgsUUFBQXlNLFFBQUFySyxPQUFBaTZDLG1CQUFBLFNBQUF5QixXQUNBQSxLQUFBbnpDLFNBQ0FrekMsWUFBQTk0QyxLQUFBKzRDLElBQUE5OEIsb0JBQ0EydUIsWUFBQW9PLHlCQUFBQyxhQUFBSixVQUFBOThCLGVBQUFtOUIsaUJBQUFILElBQUE5OEIsb0JBQUEsU0FBQWs5QixhQUVBLFNBQUE5NkMsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdDQUFBTyxjQUFBNEksZ0JBSUE0eEMsVUFBQWxCLFNBQUFtQixZQUNBejdDLE9BQUFtNkMsc0JBQUF4M0MsS0FBQTY0QyxXQUNBOXhDLE9BQUErTSxRQUFBLHNCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsK0JBQUFPLGNBQUFQLFNBQUEscUJBQ0EsK0JBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUErN0MsZUFBQSxTQUFBejlDLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQUNBN3VDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUVBLElBQ0FxN0MsT0FEQXQ5QixlQUFBcGdCLEtBQUFvZ0IsZUFBQWxXLE9BQUFsSyxLQUFBa0ssV0FxQ0EsT0FsQ0E1SyxTQUFBeU0sUUFBQXJLLE9BQUErTSxZQUFBLFNBQUE1TCxHQUNBLEdBQUE3QyxLQUFBZzhDLFNBQUFwd0MsUUFBQS9JLEVBQUF5ZCxxQkFBQSxFQUFBLENBQ0EsR0FBQXE5QixTQUFBcjlCLG1CQUFBemQsRUFBQXlkLG1CQUFBcUIsT0FBQTllLEVBQUE4ZSxPQUNBKzdCLEtBQUFyNUMsS0FBQXM1QyxXQUlBMU8sWUFBQWp6QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBMUwsUUFBQXlNLFFBQUEyeEMsSUFBQSxTQUFBNWlDLElBQ0FtMEIsWUFBQW9PLHlCQUFBQyxhQUFBNzVDLEdBQUE4NUMsaUJBQUFILElBQUE5OEIsb0JBQUF4RixHQUFBLFNBQUEwaUMsV0FDQXB5QyxPQUFBK00sUUFBQSxtQ0FDQSxTQUFBeWxDLGdCQUNBeHlDLE9BQUFDLE1BQUF2SSxTQUFBODZDLGVBQUF6N0MsU0FBQSxxQkFBQSxtQ0FBQXk3QyxlQUFBejdDLFNBQUEscUJBQ0EsbUNBQUF5N0MsZUFBQXR5QyxnQkFHQUYsT0FBQStNLFFBQUEsd0JBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDZCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDZCQUFBTyxjQUFBNEksY0FDQTZGLFNBQUE1TixLQUVBakUsUUFBQXlNLFFBQUFySyxPQUFBMjZDLG9CQUFBLFNBQUF3QixLQUNBNU8sWUFBQTZPLDRCQUFBUixhQUFBNzVDLEdBQUFzNkMsaUJBQUFGLElBQUF2OUIsb0JBQUEsU0FBQTA5QixXQUNBNXlDLE9BQUErTSxRQUFBLHlDQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEscUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EscUNBQUFPLGNBQUE0SSxpQkFLQW1sQyxPQUVBL3VDLE9BQUF1OEMsaUJBQUEsU0FBQUMsTUFDQSxHQUFBNXNCLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQTJoQyxPQUVBMWhDLEtBQUEsV0FDQSxNQUFBLGlCQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFxdEMsYUFDQSxHQUFBL1MsT0FBQW44QixPQUFBbTZDLHNCQUFBandDLFFBQUFzeUMsTUFDQUMsSUFBQS85QixlQUFBODlCLEtBQUE5OUIsZUFBQWxXLE9BQUFnMEMsS0FBQWgwQyxPQUNBdEksT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFHQXJJLFFBQUF5TSxRQUFBckssT0FBQStNLFlBQUEsU0FBQTVMLEdBQ0EsR0FBQXE3QyxLQUFBbEMsU0FBQXB3QyxRQUFBL0ksRUFBQXlkLHFCQUFBLEVBQUEsQ0FFQSxHQUFBcTlCLFNBQUFyOUIsbUJBQUF6ZCxFQUFBeWQsbUJBQUFxQixPQUFBOWUsRUFBQThlLE9BQ0FzdEIsYUFBQTZPLDRCQUFBUixhQUFBYSxHQUFBLzlCLGVBQUEyOUIsaUJBQUFKLE9BQUFyOUIsb0JBQUEsU0FBQTA5QixhQUVBLFNBQUF0N0MsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFDQUFBTyxjQUFBNEksaUJBS0EyakMsWUFBQUEsV0FBQXhyQyxHQUFBMDZDLEdBQUEvOUIsZ0JBQUErOUIsR0FBQSxTQUFBbnpDLFVBQ0F0SixPQUFBbTZDLHNCQUFBaHdDLE9BQUFneUIsTUFBQSxHQUVBenlCLE9BQUErTSxRQUFBLHdCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsK0JBQUFPLGNBQUFQLFNBQUEscUJBQ0EsK0JBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUEwOEMsWUFBQXpZLGdCQUNBamtDLE9BQUEyOEMsZUFBQSxFQUNBMzhDLE9BQUE0OEMsb0JBQUEsRUFDQTU4QyxPQUFBNjhDLFNBR0E3OEMsT0FBQTg4QyxpQkFBQSxXQUNBOThDLE9BQUEyOEMsZUFBQSxFQUNBMzhDLE9BQUE0OEMsb0JBQUEsR0FFQTU4QyxPQUFBKzhDLFlBQUEsV0FDQS84QyxPQUFBNjhDLFNBQ0E3OEMsT0FBQTI4QyxlQUFBLEVBQ0EzOEMsT0FBQTQ4QyxvQkFBQSxHQUlBNThDLE9BQUFnOUMsV0FBQSxTQUFBdmpDLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQTZzQyxhQUFBdHpCLEtBQUFsYSxPQUFBNjhDLE1BQUEsU0FBQXZ6QyxVQUNBdEosT0FBQTA4QyxZQUFBLzVDLEtBQUEyRyxVQUNBdEosT0FBQTY4QyxTQUNBNzhDLE9BQUEyOEMsZUFBQSxFQUNBMzhDLE9BQUE0OEMsb0JBQUEsRUFDQWx6QyxPQUFBK00sUUFBQSx1QkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksZ0JBS0E1SixPQUFBaTlDLFlBQUEsU0FBQTMrQyxLQUFBeUQsSUFDQSxHQUFBZ3RDLFFBQUEsQ0FXQSxPQVZBN3VDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBNnNDLGFBQUFsekIsUUFBQXZZLEdBQUFBLElBQUF6RCxLQUFBLFNBQUFnTCxVQUNBeWxDLE1BQUF6bEMsU0FDQUksT0FBQStNLFFBQUEseUJBQ0EsU0FBQXpWLGVBQ0ErdEMsT0FBQSxFQUNBcmxDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDhCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDhCQUFBTyxjQUFBNEksY0FFQW1sQyxPQUdBL3VDLE9BQUFrOUMsY0FBQSxTQUFBN2tCLElBRUEsR0FBQXpJLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQXdkLEtBRUF2ZCxLQUFBLFdBQ0EsTUFBQSxrQkFJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBcXRDLGFBRUEsR0FBQS9TLE9BQUFuOEIsT0FBQTA4QyxZQUFBeHlDLFFBQUFtdUIsR0FFQW40QixPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBdW5DLGFBQUFBLFdBQUF6ckMsR0FBQXMyQixHQUFBQyxpQkFBQUQsR0FBQSxTQUFBL3VCLFVBQ0F0SixPQUFBMDhDLFlBQUF2eUMsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEseUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxnQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxnQ0FBQU8sY0FBQTRJLGlCQU9BNUosT0FBQW05QyxnQkFBQS9PLHVCQUNBcHVDLE9BQUFvOUMsZ0JBQUEsRUFDQXA5QyxPQUFBcTlDLHFCQUFBLEVBQ0FyOUMsT0FBQXM5QyxVQUdBdDlDLE9BQUF1OUMsa0JBQUEsV0FDQXY5QyxPQUFBbzlDLGdCQUFBLEVBQ0FwOUMsT0FBQXE5QyxxQkFBQSxHQUVBcjlDLE9BQUF3OUMsYUFBQSxXQUNBeDlDLE9BQUFzOUMsVUFDQXQ5QyxPQUFBbzlDLGdCQUFBLEVBQ0FwOUMsT0FBQXE5QyxxQkFBQSxHQUdBcjlDLE9BQUF5OUMsZUFBQSxTQUFBaGtDLE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQyxxQkFBQXZ6QixLQUFBbGEsT0FBQXM5QyxPQUFBLFNBQUFoMEMsVUFDQXRKLE9BQUFtOUMsZ0JBQUF4NkMsS0FBQTJHLFVBQ0F0SixPQUFBczlDLFVBQ0F0OUMsT0FBQW85QyxnQkFBQSxFQUNBcDlDLE9BQUFxOUMscUJBQUEsRUFDQTN6QyxPQUFBK00sUUFBQSxxQ0FDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDhDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDhDQUFBTyxjQUFBNEksZ0JBSUE1SixPQUFBMDlDLGdCQUFBLFNBQUFwL0MsS0FBQXlELElBQ0EsR0FBQWd0QyxRQUFBLENBV0EsT0FWQTd1QyxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQyxxQkFBQW56QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSx1Q0FDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNENBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNENBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQTI5QyxrQkFBQSxTQUFBQyxLQUNBLEdBQUFodUIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBK2lDLE1BRUE5aUMsS0FBQSxXQUNBLE1BQUEsZ0NBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQXF0QyxhQUNBLEdBQUEvUyxPQUFBbjhCLE9BQUFtOUMsZ0JBQUFqekMsUUFBQTB6QyxJQUNBMTlDLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0F3bkMscUJBQUFBLFdBQUExckMsR0FBQTY3QyxJQUFBdFQsb0JBQUFzVCxJQUFBLFNBQUF0MEMsVUFDQXRKLE9BQUFtOUMsZ0JBQUFoekMsT0FBQWd5QixNQUFBLEdBQ0F6eUIsT0FBQStNLFFBQUEsdUNBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4Q0FBQU8sY0FBQVAsU0FBQSxxQkFDQSw4Q0FBQU8sY0FBQTRJLGlCQU9BNUosT0FBQTY5QyxZQUFBeFAsa0JBQ0FydUMsT0FBQTg5QyxlQUFBLEVBQ0E5OUMsT0FBQSs5QyxvQkFBQSxFQUNBLzlDLE9BQUFnK0MsU0FHQWgrQyxPQUFBaStDLGlCQUFBLFdBQ0FqK0MsT0FBQTg5QyxlQUFBLEVBQ0E5OUMsT0FBQSs5QyxvQkFBQSxHQUVBLzlDLE9BQUFrK0MsWUFBQSxXQUNBbCtDLE9BQUFnK0MsU0FDQWgrQyxPQUFBODlDLGVBQUEsRUFDQTk5QyxPQUFBKzlDLG9CQUFBLEdBR0EvOUMsT0FBQW0rQyxhQUFBLFNBQUExa0MsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBK3NDLGVBQUF4ekIsS0FBQWxhLE9BQUFnK0MsTUFBQSxTQUFBMTBDLFVBQ0F0SixPQUFBNjlDLFlBQUFsN0MsS0FBQTJHLFVBQ0F0SixPQUFBZytDLFNBQ0FoK0MsT0FBQTg5QyxlQUFBLEVBQ0E5OUMsT0FBQSs5QyxvQkFBQSxFQUNBcjBDLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsa0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esa0NBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUFvK0MsY0FBQSxTQUFBOS9DLEtBQUF5RCxJQUNBLEdBQUFndEMsUUFBQSxDQVdBLE9BVkE3dUMsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0Erc0MsZUFBQXB6QixRQUFBdlksR0FBQUEsSUFBQXpELEtBQUEsU0FBQWdMLFVBQ0F5bEMsTUFBQXpsQyxTQUNBSSxPQUFBK00sUUFBQSwyQkFDQSxTQUFBelYsZUFDQSt0QyxPQUFBLEVBQ0FybEMsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0NBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0NBQUFPLGNBQUE0SSxjQUVBbWxDLE9BRUEvdUMsT0FBQXErQyxnQkFBQSxTQUFBdGhDLElBQ0EsR0FBQTZTLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQWtDLEtBRUFqQyxLQUFBLFdBQ0EsTUFBQSxvQkFJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBcXRDLGFBQ0EsR0FBQS9TLE9BQUFuOEIsT0FBQTY5QyxZQUFBM3pDLFFBQUE2UyxHQUNBN2MsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQXluQyxlQUFBQSxXQUFBM3JDLEdBQUFnYixHQUFBQyxVQUFBRCxHQUFBLFNBQUF6VCxVQUNBdEosT0FBQTY5QyxZQUFBMXpDLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLDJCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsa0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esa0NBQUFPLGNBQUE0SSx3QkNqN0RBLFdBQ0EsWUFFQSxJQUFBak0sZ0JBQUFDLFFBQUFDLE9BQUEsaUJBQ0FGLGdCQUFBb0MsV0FBQSxvQkFBQSxTQUFBLFFBQUEsV0FBQSxZQUFBLFNBQUEsVUFBQSxTQUNBLFNBQUFDLE9BQUFFLE1BQUE2RixTQUFBM0YsVUFBQUgsT0FBQXErQyxRQUFBQyxRQUVBLEdBQUF2K0MsT0FBQXcrQyxRQUFBQyxrQkFBQSxFQUNBeitDLE9BQUF3K0MsUUFBQUUsV0FBQUMsWUFBQSxHQUFBdnVDLFdBRUEsQ0FFQSxHQUFBd3VDLElBQUE1K0MsT0FBQTArQyxVQUFBQyxZQUFBbnFDLE9BQUEsRUFBQSxHQUNBcXFDLEdBQUE3K0MsT0FBQTArQyxVQUFBQyxZQUFBbnFDLE9BQUEsRUFBQSxHQUNBYixJQUFBM1QsT0FBQTArQyxVQUFBQyxZQUFBbnFDLE9BQUEsRUFBQSxFQUNBeFUsUUFBQTArQyxVQUFBQyxZQUFBLEdBQUF2dUMsTUFBQXl1QyxHQUFBLElBQUFsckMsSUFBQSxJQUFBaXJDLElBS0E1K0MsT0FBQTgrQyxlQUNBOStDLE9BQUErK0MsWUFDQS8rQyxPQUFBZy9DLGVBQ0FoL0MsT0FBQWkvQyxjQUNBai9DLE9BQUFrL0MsY0FFQWwvQyxPQUFBcUIsUUFBQTg5QyxjQUFBLEVBQUFDLFlBQUEsRUFBQUMsZUFBQSxFQWdCQXIvQyxRQUFBdytDLFFBQUFDLGdCQUFBLEVBRUFyOUMsU0FBQXBCLE9BQUEwK0MsVUFBQVksdUJBQ0F0L0MsT0FBQXUvQyxVQUFBLEdBR0F2L0MsT0FBQXcvQyxhQUFBLFNBQUF6MUMsTUFDQSxHQUFBNEwsTUFDQThwQyxVQUFBei9DLE9BQUE2USxPQUFBMUUsT0FBQSxTQUFBM0csR0FBQSxNQUFBQSxHQUFBOFksVUFBQXZVLE9BQUEsRUFFQSxPQURBNEwsTUFBQThwQyxVQUFBbGhDLFdBS0EsSUFBQW1oQyxtQkFBQSxTQUFBQyxVQUNBei9DLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBMjlDLFFBQUFzQixpQkFBQUMsYUFBQUYsVUFBQSxTQUFBcjJDLFVBQ0F0SixPQUFBOCtDLFlBQUF4MUMsU0FBQTZDLE9BQUEsU0FBQTdNLEdBQUEsTUFBQSxrQkFBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQSsrQyxTQUFBejFDLFNBQUE2QyxPQUFBLFNBQUE3TSxHQUFBLE1BQUEsV0FBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQWcvQyxZQUFBMTFDLFNBQUE2QyxPQUFBLFNBQUE3TSxHQUFBLE1BQUEsZ0JBQUFBLEVBQUF3Z0QsY0FBQSxHQUNBOS9DLE9BQUFpL0MsV0FBQTMxQyxTQUFBNkMsT0FBQSxTQUFBN00sR0FBQSxNQUFBLGlCQUFBQSxFQUFBd2dELGNBQUEsR0FDQTkvQyxPQUFBay9DLFdBQUE1MUMsU0FBQTZDLE9BQUEsU0FBQTdNLEdBQUEsTUFBQSxpQkFBQUEsRUFBQXdnRCxjQUFBLElBQ0EsU0FBQTkrQyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEscUNBQUFPLGNBQUFQLFNBQUEscUJBQ0EscUNBQUFPLGNBQUE0SSxjQUNBNkYsU0FDQXpQLE9BQUF1L0MsVUFBQSxHQUtBUSxtQkFBQSxTQUFBSixVQUNBL2hELFFBQUFvaUQsVUFBQWhnRCxPQUFBOCtDLGNBQUExOUMsU0FBQXBCLE9BQUE4K0MsYUFDQVAsT0FBQTBCLGtCQUFBQyxTQUFBUCxTQUFBUSxjQUFBLEdBQUFuZ0QsT0FBQTgrQyxZQUFBLFNBQUFoRCxXQUNBcHlDLE9BQUErTSxRQUFBLHlCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0NBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0NBQUFPLGNBQUE0SSxjQUNBNkYsU0FFQTdSLFFBQUFvaUQsVUFBQWhnRCxPQUFBKytDLFdBQUEzOUMsU0FBQXBCLE9BQUErK0MsVUFDQVIsT0FBQTBCLGtCQUFBQyxTQUFBUCxTQUFBUSxjQUFBLEdBQUFuZ0QsT0FBQSsrQyxTQUFBLFNBQUF6QyxXQUNBNXlDLE9BQUErTSxRQUFBLDBCQUNBLFNBQUEycEMsZ0JBQ0ExMkMsT0FBQUMsTUFBQXZJLFNBQUFnL0MsZUFBQTMvQyxTQUFBLHFCQUFBLGdDQUFBMi9DLGVBQUEzL0MsU0FBQSxxQkFDQSxnQ0FBQTIvQyxlQUFBeDJDLGNBQ0E2RixTQUVBN1IsUUFBQW9pRCxVQUFBaGdELE9BQUFnL0MsY0FBQTU5QyxTQUFBcEIsT0FBQWcvQyxhQUNBVCxPQUFBMEIsa0JBQUFDLFNBQUFQLFNBQUFRLGNBQUEsR0FBQW5nRCxPQUFBZy9DLFlBQUEsU0FBQXFCLFdBQ0EzMkMsT0FBQStNLFFBQUEseUJBQ0EsU0FBQTZwQyxnQkFDQTUyQyxPQUFBQyxNQUFBdkksU0FBQWsvQyxlQUFBNy9DLFNBQUEscUJBQUEsZ0NBQUE2L0MsZUFBQTcvQyxTQUFBLHFCQUNBLGdDQUFBNi9DLGVBQUExMkMsY0FDQTZGLFNBRUE3UixRQUFBb2lELFVBQUFoZ0QsT0FBQWkvQyxhQUFBNzlDLFNBQUFwQixPQUFBaS9DLFlBQ0FWLE9BQUEwQixrQkFBQUMsU0FBQVAsU0FBQVEsY0FBQSxHQUFBbmdELE9BQUFpL0MsV0FBQSxTQUFBc0IsV0FDQTcyQyxPQUFBK00sUUFBQSwwQkFDQSxTQUFBK3BDLGdCQUNBOTJDLE9BQUFDLE1BQUF2SSxTQUFBby9DLGVBQUEvL0MsU0FBQSxxQkFBQSxnQ0FBQSsvQyxlQUFBLy9DLFNBQUEscUJBQ0EsZ0NBQUErL0MsZUFBQTUyQyxjQUNBNkYsU0FFQTdSLFFBQUFvaUQsVUFBQWhnRCxPQUFBay9DLGFBQUE5OUMsU0FBQXBCLE9BQUFrL0MsWUFDQVgsT0FBQTBCLGtCQUFBQyxTQUFBUCxTQUFBUSxjQUFBLEdBQUFuZ0QsT0FBQWsvQyxXQUFBLFNBQUF1QixXQUNBLzJDLE9BQUErTSxRQUFBLHdCQUNBLFNBQUFpcUMsZ0JBQ0FoM0MsT0FBQUMsTUFBQXZJLFNBQUFzL0MsZUFBQWpnRCxTQUFBLHFCQUFBLGdDQUFBaWdELGVBQUFqZ0QsU0FBQSxxQkFDQSxnQ0FBQWlnRCxlQUFBOTJDOztHQUNBNkYsVUFLQWt4QyxpQkFBQSxXQUdBLElBQUEsR0FEQXhrQixPQUFBLEVBQ0FoMEIsRUFBQSxFQUFBQSxFQUFBbkksT0FBQTRnRCxrQkFBQWw3QyxPQUFBeUMsSUFDQW5JLE9BQUE0Z0Qsa0JBQUF6NEMsR0FBQW0zQyxzQkFBQXQvQyxPQUFBMCtDLFVBQUFZLHVCQUNBbmpCLE1BQUFoMEIsRUFDQUEsRUFBQW5JLE9BQUE0Z0Qsa0JBQUFsN0MsT0FHQTFGLFFBQUE0Z0Qsa0JBQUF6MkMsT0FBQWd5QixNQUFBLElBSUEwa0IsK0JBQUEsV0FFQTdnRCxPQUFBMCtDLFVBQUFDLFlBQUEzK0MsT0FBQTArQyxVQUFBQyxZQUFBbUMsZUFDQTVnRCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQVMsU0FBQXBCLE9BQUEwK0MsVUFBQVkscUJBRUFmLE9BQUFqa0MsUUFBQXZZLEdBQUEvQixPQUFBMCtDLFVBQUFZLHNCQUFBdC9DLE9BQUEwK0MsVUFBQSxTQUFBcDFDLFVBQ0FJLE9BQUErTSxRQUFBLGtCQUNBelcsT0FBQTArQyxVQUFBbmdDLFdBQUF2ZSxPQUFBdy9DLGFBQUF4L0MsT0FBQTArQyxVQUFBcGdDLFVBQ0EsR0FBQXRlLE9BQUEwK0MsVUFBQXFDLFdBQ0FKLG1CQUNBM2dELE9BQUFnaEQsYUFBQSxHQUdBakIsbUJBQUEvL0MsT0FBQTArQyxVQUFBWSx1QkFDQSxTQUFBdCtDLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGNBQ0E2RixTQUFBNU4sS0FBQSxXQUNBN0IsT0FBQWloRCxlQUFBQyxPQUFBQyxlQUNBbmhELE9BQUFpaEQsZUFBQUMsT0FBQTVpQyxTQUFBOGlDLFdBQUFoZ0QsT0FDQW5CLE9BQUE2QixHQUFBLDBCQUlBeThDLE9BQUFya0MsS0FBQWxhLE9BQUEwK0MsVUFBQSxTQUFBcDFDLFVBQ0FJLE9BQUErTSxRQUFBLGtCQUNBelcsT0FBQXFoRCxRQUFBMStDLEtBQUEyRyxVQUNBLEdBQUF0SixPQUFBMCtDLFVBQUFxQyxVQUNBSixtQkFBQTNnRCxPQUFBZ2hELGFBQUEsRUFDQWhoRCxPQUFBMCtDLFVBQUFuZ0MsV0FBQXZlLE9BQUF3L0MsYUFBQXgvQyxPQUFBMCtDLFVBQUFwZ0MsV0FFQXRlLE9BQUE0Z0Qsa0JBQUFqK0MsS0FBQTJHLFVBR0F0SixPQUFBMCtDLFVBQUFZLHFCQUFBaDJDLFNBQUFnMkMscUJBQ0FTLG1CQUFBLy9DLE9BQUEwK0MsVUFBQVksdUJBQ0EsU0FBQXQrQyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxjQUNBNkYsU0FBQTVOLEtBQUEsV0FDQTdCLE9BQUFpaEQsZUFBQUMsT0FBQUMsZUFDQW5oRCxPQUFBaWhELGVBQUFDLE9BQUE1aUMsU0FBQThpQyxXQUFBaGdELE9BQ0FuQixPQUFBNkIsR0FBQSwwQkFNQTlCLFFBQUFzaEQsaUJBQUEsV0FDQSxHQUFBbGdELFNBQUFwQixPQUFBMCtDLFVBQUFDLGFBQUF2OUMsU0FBQXBCLE9BQUEwK0MsVUFBQXIyQyxPQUFBakgsU0FBQXBCLE9BQUEwK0MsVUFBQXBnQyxTQUFBLENBQ0EsR0FBQWlqQyxZQUFBLEdBQUFueEMsTUFBQXBRLE9BQUEwK0MsVUFBQUMsWUFDQTRDLFlBQUFDLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQUQsV0FBQUEsV0FBQWx4QyxjQUFBbUUsT0FBQSxFQUFBLEdBQ0EsSUFBQWl0QyxRQUFBRixXQUNBRyxTQUFBMWhELE9BQUEwK0MsVUFBQXIyQyxNQUNBczVDLElBQUEzaEQsT0FBQTArQyxVQUFBcGdDLFFBRUF0ZSxRQUFBdS9DLFVBQUEsRUFDQXYvQyxPQUFBMCtDLFdBQUFDLFlBQUEzK0MsT0FBQTArQyxVQUFBQyxZQUFBdDJDLE1BQUFxNUMsU0FBQXBqQyxTQUFBcWpDLEtBQ0EzaEQsT0FBQTgrQyxlQUFBOStDLE9BQUErK0MsWUFBQS8rQyxPQUFBZy9DLGVBQ0FoL0MsT0FBQWkvQyxjQUFBai9DLE9BQUFrL0MsYUFDQSxJQUFBMEMsYUFBQSxHQUFBeHhDLE1BQUFxeEMsT0FDQUcsYUFBQUosU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBSSxZQUFBQSxZQUFBdnhDLGNBQUFtRSxPQUFBLEVBQUEsR0FFQSxJQUFBcXRDLGNBQUE3aEQsT0FBQXFoRCxRQUFBbDFDLE9BQUEsU0FBQXlXLEdBQ0EsR0FBQWsvQixTQUFBbC9CLEVBQUErN0IsWUFBQXJxQyxXQUFBOEQsVUFBQSxFQUFBLEdBQ0EsT0FBQXdLLEdBQUF0RSxVQUFBdGUsT0FBQTArQyxVQUFBcGdDLFVBQUFzRSxFQUFBdmEsT0FBQXJJLE9BQUEwK0MsVUFBQXIyQyxPQUFBeTVDLFNBQUFGLGNBQ0EsRUFDQTFoRCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQVMsU0FBQXlnRCxjQUVBN2hELE9BQUEwK0MsVUFBQXFELGVBQUFGLGFBQUFHLGNBQ0FoaUQsT0FBQTArQyxVQUFBdUQsZ0JBQUFKLGFBQUFLLGVBR0F4QyxrQkFBQW1DLGFBQUF2Qyx3QkFHQXQvQyxPQUFBMCtDLFVBQUFxRCxlQUFBLEVBQ0EvaEQsT0FBQTArQyxVQUFBdUQsZ0JBQUEsR0FHQTFELE9BQUE0RCxvQkFBQS94QyxLQUFBcXhDLE9BQUF0NEMsTUFBQW5KLE9BQUEwK0MsVUFBQXBnQyxTQUFBbFYsTUFBQXBKLE9BQUEwK0MsVUFBQXIyQyxPQUFBLFNBQUErNUMsV0FFQXBpRCxPQUFBMCtDLFVBQUEyRCxpQkFBQUQsVUFBQUMsaUJBQ0FyaUQsT0FBQTArQyxVQUFBNEQsaUJBQUFGLFVBQUFFLGlCQUNBdGlELE9BQUEwK0MsVUFBQTZELGtCQUFBSCxVQUFBRyxrQkFDQXZpRCxPQUFBMCtDLFVBQUE4RCxrQkFBQUosVUFBQUksa0JBQ0F4aUQsT0FBQTArQyxVQUFBK0Qsa0JBQUFMLFVBQUFLLGtCQUNBemlELE9BQUEwK0MsVUFBQWdFLG1CQUFBTixVQUFBTSxtQkFDQTFpRCxPQUFBMCtDLFVBQUFpRSxZQUFBUCxVQUFBTyxZQUNBM2lELE9BQUEwK0MsVUFBQWtFLFlBQUFSLFVBQUFRLFlBQ0E1aUQsT0FBQTArQyxVQUFBbUUsYUFBQVQsVUFBQVMsYUFDQTdpRCxPQUFBMCtDLFVBQUFvRSxlQUFBVixVQUFBVSxlQUNBOWlELE9BQUEwK0MsVUFBQXFFLGVBQUFYLFVBQUFXLGVBQ0EvaUQsT0FBQTArQyxVQUFBc0UsZ0JBQUFaLFVBQUFZLGdCQUNBaGpELE9BQUEwK0MsVUFBQXVFLG1CQUFBYixVQUFBYSxtQkFDQWpqRCxPQUFBMCtDLFVBQUF3RSxtQkFBQWQsVUFBQWMsbUJBQ0FsakQsT0FBQTArQyxVQUFBeUUsb0JBQUFmLFVBQUFlLG9CQUNBbmpELE9BQUEwK0MsVUFBQTBFLFlBQUFoQixVQUFBZ0IsWUFDQXBqRCxPQUFBMCtDLFVBQUEyRSxjQUFBakIsVUFBQWlCLGVBQ0EsU0FBQUMsZ0JBQ0E1NUMsT0FBQUMsTUFBQXZJLFNBQUFraUQsZUFBQTdpRCxTQUFBLHFCQUFBLGdDQUFBNmlELGVBQUE3aUQsU0FBQSxxQkFDQSxnQ0FBQTZpRCxlQUFBMTVDLGtCQUlBa0ksT0FBQSxpREFLQTlSLE9BQUF1akQsV0FBQSxTQUFBOXBDLE9BQ0EsR0FBQXJZLFNBQUFwQixPQUFBMCtDLFVBQUFxQyxVQUFBLElBQUEvZ0QsT0FBQTArQyxVQUFBcUMsU0FBQSxDQUVBLEdBQUFueEIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsdUJBQ0E3YSxXQUFBLHlCQUNBNEIsS0FBQSxNQUVBaXVCLGVBQUFodUIsT0FBQUMsS0FBQSxXQUVBN0IsT0FBQTArQyxVQUFBcUMsU0FBQSxFQUNBL2dELE9BQUEwK0MsVUFBQTNsQyxVQUFBL1ksT0FBQXdqRCxlQUFBenFDLFVBQ0E4bkMsdUNBSUFwbkMsUUFFQXpaLE9BQUEwK0MsVUFBQTNsQyxVQUFBL1ksT0FBQXdqRCxlQUFBenFDLFVBQ0E4bkMsbUNBR0E3Z0QsT0FBQXFCLE9BQUE4OUMsY0FBQSxFQUFBbi9DLE9BQUFxQixPQUFBKzlDLFlBQUEsRUFBQXAvQyxPQUFBcUIsT0FBQWcrQyxlQUFBLEVBQ0F6aEQsUUFBQVksUUFBQSxVQUFBd0IsT0FBQWloRCxlQUFBQyxPQUFBaFYsTUFBQSxNQUFBQyxLQUFBLDZCQUFBaHBDLFVBS0FuRCxPQUFBeWpELGlCQUFBLFdBQ0F6akQsT0FBQTgrQyxZQUFBOStDLE9BQUF3akQsZ0JBR0F4akQsT0FBQTBqRCxvQkFBQSxXQUNBLEdBQUF4RCxVQUFBejZDLEtBQUFrK0MsR0FBQXJFLG9CQUNBZixRQUFBam1DLE9BQUF2VyxHQUFBbStDLFVBQUEsU0FBQTUyQyxVQUNBdEosT0FBQTArQyxVQUFBcDFDLFFBRUEsSUFBQXMxQyxJQUFBdDFDLFNBQUFxMUMsWUFBQW5xQyxPQUFBLEVBQUEsR0FDQXFxQyxHQUFBdjFDLFNBQUFxMUMsWUFBQW5xQyxPQUFBLEVBQUEsR0FDQWIsSUFBQXJLLFNBQUFxMUMsWUFBQW5xQyxPQUFBLEVBQUEsRUFDQXhVLFFBQUEwK0MsVUFBQUMsWUFBQSxHQUFBdnVDLE1BQUF5dUMsR0FBQSxJQUFBbHJDLElBQUEsSUFBQWlyQyxJQUVBNStDLE9BQUFpaEQsZUFBQUMsT0FBQTBDLFlBRUFsRSxrQkFBQVEsV0FDQSxTQUFBbC9DLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx5QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx5QkFBQU8sY0FBQTRJLGNBQ0E2RixVQUdBck8sU0FBQXBCLE9BQUEwK0MsVUFBQVksc0JBQ0FJLGtCQUFBMS9DLE9BQUEwK0MsVUFBQVksNEJDM1NBLFdBQ0EsWUFFQSxJQUFBLzBDLGtCQUFBM00sUUFBQUMsT0FBQSxtQkFDQTBNLGtCQUFBeEssV0FBQSxtQkFBQSxTQUFBLG9CQUFBLFNBQUEsZUFBQSxXQUNBLFNBQUFDLE9BQUF3QixrQkFBQXFpRCxPQUFBQyxhQUFBQyxVQUNBL2pELE9BQUFna0QsY0FDQWhrRCxPQUFBZ2tELFdBQUFDLE9BQUFKLE9BQ0E3akQsT0FBQWdrRCxXQUFBRSxVQUFBSixhQUNBOWpELE9BQUFna0QsV0FBQUcsWUFBQUosU0FBQTUzQyxPQUFBLFNBQUE3TSxHQUFBLE1BQUEsa0JBQUFBLEVBQUF3Z0QsY0FBQSxHQUNBOS9DLE9BQUFna0QsV0FBQUksYUFBQUwsU0FBQTUzQyxPQUFBLFNBQUE3TSxHQUFBLE1BQUEsV0FBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQWdrRCxXQUFBSyxZQUFBTixTQUFBNTNDLE9BQUEsU0FBQTdNLEdBQUEsTUFBQSxnQkFBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQWdrRCxXQUFBTSxXQUFBUCxTQUFBNTNDLE9BQUEsU0FBQTdNLEdBQUEsTUFBQSxpQkFBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQWdrRCxXQUFBTyxXQUFBUixTQUFBNTNDLE9BQUEsU0FBQTdNLEdBQUEsTUFBQSxpQkFBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQXdrRCxNQUFBLFdBQ0FybEMsT0FBQXFsQyxTQUVBeGtELE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sUUFBQSxpQkNsQkEsV0FDQSxZQUVBLElBQUFwUyxnQkFBQUMsUUFBQUMsT0FBQSxpQkFDQUYsZ0JBQUFvQyxXQUFBLHFCQUFBLFNBQUEsV0FBQSxVQUFBLFlBQUEsU0FBQSxRQUFBLFVBQUEsU0FBQSxrQkFDQSxTQUFBQyxPQUFBK0YsU0FBQThlLFFBQUF6a0IsVUFBQUgsT0FBQUMsTUFBQW8rQyxRQUFBN3dCLE9BQUFnM0IsaUJBQ0F6a0QsT0FBQTBrRCxjQUFBRCxnQkFDQXprRCxPQUFBMmtELGFBQUEza0QsT0FBQTRrRCxpQkFBQTVrRCxPQUFBNmtELGdCQUFBN2tELE9BQUE4a0Qsa0JBQUEsRUFDQTlrRCxPQUFBK2tELE1BQUEsR0FBQTMwQyxNQUNBcFEsT0FBQStrRCxNQUFBdkQsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBeGhELE9BQUFnbEQsVUFBQSxHQUFBNTBDLE1BQUFwUSxPQUFBK2tELE9BQ0Eva0QsT0FBQWdsRCxVQUFBQyxRQUFBamxELE9BQUEra0QsTUFBQTlpQyxVQUFBLEdBQ0FqaUIsT0FBQStrRCxNQUFBL2tELE9BQUEra0QsTUFBQTEwQyxjQUFBbUUsT0FBQSxFQUFBLElBQ0F4VSxPQUFBZ2xELFVBQUFobEQsT0FBQWdsRCxVQUFBMzBDLGNBQUFtRSxPQUFBLEVBQUEsSUFFQXhVLE9BQUFrbEQsYUFFQWxsRCxPQUFBbWxELFdBQUEsU0FBQXZpQyxHQUVBLEdBQUFnTixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxrQkFDQTdhLFdBQUEsa0JBQ0E0QixLQUFBLEtBQ0FrdUIsWUFBQSxhQUNBN2YsU0FDQTZ6QyxPQUFBLFdBQ0EsTUFBQWpoQyxJQUVBa2hDLGFBQUEsV0FDQTVqRCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBeWtELFVBT0EsT0FOQTMzQixRQUFBblYsT0FBQXZXLEdBQUE2Z0IsRUFBQTdKLFdBQUEsU0FBQXpQLFVBQ0E4N0MsT0FBQUMsSUFBQS83QyxRQUNBLElBQUFnOEMsY0FBQXRsRCxPQUFBeVgsU0FBQXRMLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQXlzQyxPQUFBQyxJQUFBMXNDLFlBQUEsRUFDQXlzQyxRQUFBeHNDLFlBQUEwc0MsYUFBQTFzQyxZQUNBd3NDLE9BQUFHLGVBQUFELGFBQUF0c0IsUUFBQSxLQUFBc3NCLGFBQUFyc0IsS0FBQSxJQUFBcXNCLGFBQUFqOUMsTUFBQSxJQUFBaTlDLGFBQUFoM0MsTUFDQW1CLFNBQ0EyMUMsUUFFQXJCLFNBQUEsV0FHQSxNQUZBN2pELE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBMjlDLFFBQUFzQixpQkFBQUMsYUFBQWo5QixFQUFBMDhCLHVCQUFBN3ZDLFlBSUFtZ0IsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUErZ0IsTUFPQSxJQUFBNGlDLGNBQUEsU0FBQUMsU0FFQSxJQUFBLEdBREFDLGVBQ0F2OUMsRUFBQSxFQUFBQSxFQUFBczlDLFFBQUEvL0MsT0FBQXlDLElBQUEsQ0FDQSxHQUFBdzlDLEtBQUFGLFFBQUF0OUMsR0FDQWpHLE1BQUFsQyxPQUFBNlEsT0FBQTFFLE9BQUEsU0FBQTNHLEdBQUEsTUFBQUEsR0FBQThZLFVBQUFxbkMsSUFBQXJuQyxXQUFBLEVBQ0FxbkMsS0FBQXBuQyxXQUFBcmMsTUFBQXFjLFdBQ0FtbkMsV0FBQS9pRCxLQUFBZ2pELEtBRUEsTUFBQUQsYUFHQUUsYUFBQTVsRCxPQUFBMGtELGNBQUF2NEMsT0FBQSxTQUFBMDVDLFVBQ0EsR0FBQUMsWUFBQUQsU0FBQWxILFlBQUFycUMsV0FBQThELFVBQUEsRUFBQSxHQUNBLE9BQUEwdEMsYUFBQTlsRCxPQUFBK2tELE9BRUEva0QsUUFBQTJrRCxVQUFBYSxhQUFBSSxhQUVBLElBQUFHLGtCQUFBL2xELE9BQUEwa0QsY0FBQXY0QyxPQUFBLFNBQUE2NUMsU0FDQSxHQUFBRixZQUFBRSxRQUFBckgsWUFBQXJxQyxXQUFBOEQsVUFBQSxFQUFBLEdBQ0EsT0FBQTB0QyxhQUFBOWxELE9BQUFnbEQsV0FFQWhsRCxRQUFBNGtELGNBQUFZLGFBQUFPLGtCQUdBL2xELE9BQUFpbUQsaUJBQUEsV0FDQSxHQUFBN2tELFNBQUFwQixPQUFBa2xELFVBQUFnQixLQUFBLENBQ0EsR0FBQTNFLFlBQUEsR0FBQW54QyxNQUFBcFEsT0FBQWtsRCxVQUFBZ0IsS0FDQTNFLFlBQUFDLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQUQsV0FBQUEsV0FBQWx4QyxjQUFBbUUsT0FBQSxFQUFBLEdBQ0EsSUFBQTJ4QyxpQkFBQW5tRCxPQUFBMGtELGNBQUF2NEMsT0FBQSxTQUFBaTZDLE9BQ0EsR0FBQU4sWUFBQU0sTUFBQXpILFlBQUFycUMsV0FBQThELFVBQUEsRUFBQSxHQUNBLE9BQUEwdEMsYUFBQXZFLFlBRUF2aEQsUUFBQTZrRCxhQUFBVyxhQUFBVyxpQkFDQW5tRCxPQUFBOGtELGtCQUFBLE1BRUFoekMsT0FBQSx1QkFNQTlSLE9BQUFxbUQsbUJBQUEsU0FBQVYsS0FDQTNsRCxPQUFBdytDLFFBQUFFLFVBQUFpSCxJQUVBM2xELE9BQUF3K0MsUUFBQWUsVUFBQSxFQUNBdi9DLE9BQUF3K0MsUUFBQUMsZ0JBQUEsRUFDQXYrQyxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQTI5QyxRQUFBc0IsaUJBQUFDLGFBQUE4RixJQUFBckcsc0JBQUEsU0FBQWgyQyxVQUNBQSxTQUFBNUQsUUFBQSxHQUNBMUYsT0FBQXcrQyxRQUFBTSxZQUFBeDFDLFNBQUE2QyxPQUFBLFNBQUE3TSxHQUFBLE1BQUEsa0JBQUFBLEVBQUF3Z0QsY0FBQSxHQUNBOS9DLE9BQUF3K0MsUUFBQU8sU0FBQXoxQyxTQUFBNkMsT0FBQSxTQUFBN00sR0FBQSxNQUFBLFdBQUFBLEVBQUF3Z0QsY0FBQSxHQUNBOS9DLE9BQUF3K0MsUUFBQVEsWUFBQTExQyxTQUFBNkMsT0FBQSxTQUFBN00sR0FBQSxNQUFBLGdCQUFBQSxFQUFBd2dELGNBQUEsR0FDQTkvQyxPQUFBdytDLFFBQUFTLFdBQUEzMUMsU0FBQTZDLE9BQUEsU0FBQTdNLEdBQUEsTUFBQSxpQkFBQUEsRUFBQXdnRCxjQUFBLEdBQ0E5L0MsT0FBQXcrQyxRQUFBVSxXQUFBNTFDLFNBQUE2QyxPQUFBLFNBQUE3TSxHQUFBLE1BQUEsaUJBQUFBLEVBQUF3Z0QsY0FBQSxLQUVBOS9DLE9BQUF3K0MsUUFBQU0sZUFBQTkrQyxPQUFBdytDLFFBQUFPLFlBQUEvK0MsT0FBQXcrQyxRQUFBUSxlQUFBaC9DLE9BQUF3K0MsUUFBQVMsY0FBQWovQyxPQUFBdytDLFFBQUFVLGdCQUVBLFNBQUFsK0MsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFDQUFBTyxjQUFBNEksY0FDQTZGLFNBQUE1TixLQUFBLFdBQ0E1QixPQUFBNkIsR0FBQSw2QkFLQTlCLE9BQUFzbUQsb0JBQUEsU0FBQVgsS0FJQTNsRCxPQUFBdW1ELHFCQUNBdm1ELE9BQUF1bUQsa0JBQUF0QyxPQUFBMEIsSUFFQTNsRCxPQUFBdW1ELGtCQUFBQyxpQkFBQWIsSUFBQTVELGVBRUEvaEQsT0FBQXVtRCxrQkFBQUUsaUJBQUFkLElBQUExRCxnQkFFQWppRCxPQUFBdW1ELGtCQUFBRyxXQUFBZixJQUFBZ0Isa0JBRUEsSUFBQUMsY0FBQTVtRCxPQUFBMGtELGNBQUF2NEMsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBdEUsVUFBQXFuQyxJQUFBcm5DLFdBQ0ExYSxLQUFBaWhCLFFBQUEsV0FBQStoQyxhQUFBLFFBQ0E1bUQsUUFBQXVtRCxrQkFBQU0sV0FBQSxFQUNBanBELFFBQUF5TSxRQUFBekcsS0FBQSxTQUFBa2pELElBQ0E5bUQsT0FBQXVtRCxrQkFBQU0sZUFHQTdtRCxPQUFBdW1ELGtCQUFBcDlDLE1BQUFuSixPQUFBNlEsT0FBQTFFLE9BQUEsU0FBQTNHLEdBQUEsTUFBQUEsR0FBQThZLFVBQUFxbkMsSUFBQXJuQyxXQUFBLEVBR0EsSUFBQXNSLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLEdBQUE1YSxPQUFBdW1ELGtCQUFBcDlDLE1BQUEwb0MsY0FBQSxlQUFBLG1CQUNBOXhDLFdBQUEscUJBQ0E0QixLQUFBLEtBQ0FrdUIsWUFBQSxhQUNBN2YsU0FDQSsyQyxVQUFBLFdBQ0EsTUFBQS9tRCxRQUFBdW1ELHFCQUlBMzJCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBK2dCLGFDNUpBLFdBQ0EsWUFFQSxJQUFBamxCLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsaUJBQUEsU0FBQSxhQUFBLFdBQUEsWUFBQSxRQUFBLFlBQUEsZ0JBQUEsWUFBQSxZQUFBLGFBQUEsZ0JBQUEsaUJBQUEsY0FBQSxhQUFBLFNBQUEsU0FDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQUMsVUFBQTlGLE1BQUFFLFVBQUE0bUQsY0FBQWppQyxVQUFBOGUsVUFBQW9qQixXQUFBcFosY0FBQXFaLGVBQUEvNUIsWUFBQTFpQixXQUFBOHpDLE9BQUE5d0IsUUFDQXJzQixTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsYUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsWUFFQUwsV0FBQU0sU0FBQSxZQUNBTixXQUFBTyxXQUFBLFNBRUFQLFdBQUFvdkIsSUFBQSxvQkFBQSxTQUFBaHpCLE1BQUFpbEQsUUFBQUMsU0FBQUMsVUFBQUMsWUFDQSxHQUFBQyxrQkFBQSxDQUNBLFFBQUFGLFVBQUFHLEtBQ0EsSUFBQSxnQkFDQXBtRCxTQUFBcEIsT0FBQWloRCxlQUFBQyxTQUNBcUcsZ0JBQUF2bkQsT0FBQWloRCxlQUFBQyxPQUFBdUcsT0FDQUYsZ0JBQUFubUQsU0FBQXBCLE9BQUFpaEQsZUFBQUMsT0FBQTVpQyxTQUFBOGlDLFlBQUEsRUFBQW1HLGlCQUlBQSxrQkFDQXB6QyxRQUFBQyxJQUFBLGlCQUFBK3lDLFFBQUF4eEMsTUFDQXhCLFFBQUFDLElBQUEsbUJBQUFpekMsVUFBQTF4QyxNQUVBK3hDLFFBQUEsK0ZBQ0F2ekMsUUFBQUMsSUFBQSxVQUFBK3lDLFFBQUF4eEMsT0FFQXhCLFFBQUFDLElBQUEsa0JBQUFpekMsVUFBQTF4QyxNQUNBN1AsV0FBQTBELGVBQUFDLGFBQUEsRUFFQXZILE1BQUFLLHFCQVFBdkMsT0FBQWlWLGNBRUFqVixPQUFBdUIsS0FBQSxTQUFBMlQsT0FBQS9TLE9BQ0ErUyxPQUFBM1MsaUJBQ0EyUyxPQUFBQyxrQkFFQW5WLE9BQUFpVixXQUFBOVMsUUFBQSxHQUtBbkMsT0FBQXVoRCxXQUFBLFNBQUFqaUQsR0FDQSxHQUFBcW9ELFdBQUEsR0FBQXYzQyxNQUFBOVEsR0FDQXNvRCxHQUFBRCxVQUFBNWxDLFdBQUEsQ0FDQTZsQyxJQUFBLEdBQUFBLEdBQUEsSUFBQUEsR0FBQUEsRUFDQSxJQUFBQyxJQUFBRixVQUFBMWxDLFVBQ0E2bEMsS0FBQUgsVUFBQTdsQyxjQUNBb2tDLEtBQUEwQixHQUFBLElBQUFDLEdBQUEsSUFBQUMsSUFDQSxPQUFBNUIsT0FJQWxtRCxPQUFBdU4sVUFBQTlDLFdBQ0F6SyxPQUFBaWhELGtCQUNBamhELE9BQUEwK0MsYUFDQTErQyxPQUFBOCtDLGVBQUE5K0MsT0FBQSsrQyxZQUNBLytDLE9BQUFnL0MsZUFBQWgvQyxPQUFBaS9DLGNBQ0FqL0MsT0FBQWsvQyxjQUNBbC9DLE9BQUF1L0MsVUFBQSxFQUNBdi9DLE9BQUF5K0MsZ0JBQUEsRUFDQXorQyxPQUFBNGdELGtCQUFBb0csY0FBQTc2QyxPQUFBLFNBQUF3M0MsSUFBQSxNQUFBLEtBQUFBLEdBQUE1QyxXQUNBL2dELE9BQUE2USxPQUFBa1UsVUFDQS9rQixPQUFBNkcsT0FBQWc5QixVQUNBN2pDLE9BQUFxaEQsUUFBQTRGLFdBRUEvbUQsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E4c0IsT0FBQW5WLE9BQUF2VyxHQUFBZ0UsU0FBQUUsSUFBQSxRQUFBLFNBQUFxRCxVQUNBdEosT0FBQXdqRCxlQUFBbDZDLFFBQ0EsSUFBQWc4QyxjQUFBbjRCLFlBQUFoaEIsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQXdqRCxlQUFBN3FDLFlBQUEsRUFDQTNZLFFBQUF3akQsZUFBQTVxQyxZQUFBMHNDLGFBQUExc0MsWUFDQTVZLE9BQUF3akQsZUFBQStCLGVBQUFELGFBQUF0c0IsUUFBQSxLQUFBc3NCLGFBQUFyc0IsS0FBQSxJQUFBcXNCLGFBQUFqOUMsTUFBQSxJQUFBaTlDLGFBQUFoM0MsS0FDQSxTQUFBdE4sZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHlCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHlCQUFBTyxjQUFBNEksY0FDQTZGLFNBQ0FnZSxPQUFBc0MsU0FBQXRnQixTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUErbkQsUUFBQXorQyxVQUNBLFNBQUF0SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxjQUdBNUosT0FBQXlYLFNBQUEwVixZQUNBbnRCLE9BQUFnb0QsV0FBQW5hLGNBQ0E3dEMsT0FBQWlvRCxXQUFBZixlQUtBbG5ELE9BQUFrb0QsY0FDQWxvRCxPQUFBbW9ELGNBQ0Fub0QsT0FBQW9vRCxtQkFHQXBvRCxPQUFBcW9ELGFBQUEsV0FDQXJvRCxPQUFBcWUsVUFBQXJlLE9BQUE2USxPQUFBMUUsT0FBQSxTQUFBM0csR0FBQSxNQUFBQSxHQUFBOFksVUFBQXRlLE9BQUFtb0QsV0FBQTdwQyxXQUFBLEVBQ0EsSUFBQWdxQyxVQUNBQyxVQUNBM3FELFNBQUF5TSxRQUFBckssT0FBQWtvRCxXQUFBcGtELE1BQUEsU0FBQXVFLE9BQ0FpZ0QsTUFBQTNsRCxLQUFBMEYsTUFBQW1nRCxZQUFBRCxRQUFBNWxELEtBQUEwRixNQUFBQyxnQkFHQXRJLE9BQUF5b0QsV0FBQUgsTUFBQWovQyxLQUFBLEtBQUFySixPQUFBMG9ELGFBQUFILFFBQUFsL0MsS0FBQSxNQUdBckosT0FBQTJvRCxzQkFFQTNvRCxPQUFBNG9ELGlCQUFBLFNBQUFudkMsT0FDQSxHQUFBQSxNQUFBLENBRUF6WixPQUFBMm9ELHNCQUNBM29ELE9BQUE2b0Qsb0JBQ0E3b0QsT0FBQThvRCxZQUNBOW9ELE9BQUE4b0QsU0FBQUMsZUFBQSxFQUFBL29ELE9BQUE4b0QsU0FBQUUsVUFBQSxFQUFBaHBELE9BQUE4b0QsU0FBQUcsVUFBQSxFQUFBanBELE9BQUE4b0QsU0FBQUksVUFBQSxFQUNBbHBELE9BQUE4b0QsU0FBQUssVUFBQSxFQUFBbnBELE9BQUE4b0QsU0FBQU0sV0FBQSxFQUFBcHBELE9BQUE4b0QsU0FBQU8sV0FBQSxFQUFBcnBELE9BQUE4b0QsU0FBQVEsV0FBQSxFQUNBdHBELE9BQUE4b0QsU0FBQVMsV0FBQSxFQUFBdnBELE9BQUE4b0QsU0FBQVUsTUFBQSxFQUFBeHBELE9BQUE4b0QsU0FBQVcsS0FBQSxFQUFBenBELE9BQUE4b0QsU0FBQVksTUFBQSxFQUVBMXBELE9BQUE4b0QsU0FBQWEsV0FBQSxFQUFBM3BELE9BQUE4b0QsU0FBQWMsVUFBQSxFQUFBNXBELE9BQUE4b0QsU0FBQWUsV0FBQSxFQUFBN3BELE9BQUE4b0QsU0FBQWdCLFlBQUEsRUFDQTlwRCxPQUFBOG9ELFNBQUFpQixnQkFBQSxFQUFBL3BELE9BQUE4b0QsU0FBQWtCLGlCQUFBLEVBQUFocUQsT0FBQThvRCxTQUFBbUIsUUFBQSxFQUFBanFELE9BQUE4b0QsU0FBQW9CLE9BQUEsRUFDQWxxRCxPQUFBOG9ELFNBQUFxQixXQUFBLEVBQUFucUQsT0FBQThvRCxTQUFBc0IsVUFBQSxFQUFBcHFELE9BQUE4b0QsU0FBQXVCLGNBQUEsRUFBQXJxRCxPQUFBOG9ELFNBQUF3QixlQUFBLEVBQ0F0cUQsT0FBQThvRCxTQUFBeUIsYUFBQSxFQUFBdnFELE9BQUE4b0QsU0FBQTBCLFdBQUEsRUFFQXhxRCxPQUFBOG9ELFNBQUEyQixRQUFBLEVBQUF6cUQsT0FBQThvRCxTQUFBNEIsT0FBQSxFQUFBMXFELE9BQUE4b0QsU0FBQTZCLE9BQUEsRUFBQTNxRCxPQUFBOG9ELFNBQUE4QixRQUFBLEVBQ0E1cUQsT0FBQThvRCxTQUFBK0IsVUFBQSxFQUFBN3FELE9BQUE4b0QsU0FBQWdDLFNBQUEsRUFBQTlxRCxPQUFBOG9ELFNBQUFpQyxTQUFBLEVBQUEvcUQsT0FBQThvRCxTQUFBa0MsVUFBQSxFQUNBaHJELE9BQUE4b0QsU0FBQW1DLFNBQUEsRUFBQWpyRCxPQUFBOG9ELFNBQUFvQyxRQUFBLEVBQUFsckQsT0FBQThvRCxTQUFBcUMsUUFBQSxFQUFBbnJELE9BQUE4b0QsU0FBQXNDLFNBQUEsRUFDQXByRCxPQUFBOG9ELFNBQUF1QyxTQUFBLEVBQUFyckQsT0FBQThvRCxTQUFBd0MsUUFBQSxFQUFBdHJELE9BQUE4b0QsU0FBQXlDLFFBQUEsRUFBQXZyRCxPQUFBOG9ELFNBQUEwQyxTQUFBLEVBQ0F4ckQsT0FBQThvRCxTQUFBMkMsUUFBQSxFQUFBenJELE9BQUE4b0QsU0FBQTRDLE9BQUEsRUFBQTFyRCxPQUFBOG9ELFNBQUE2QyxPQUFBLEVBQUEzckQsT0FBQThvRCxTQUFBOEMsUUFBQSxFQUNBNXJELE9BQUE4b0QsU0FBQStDLFFBQUEsRUFBQTdyRCxPQUFBOG9ELFNBQUFnRCxPQUFBLENBSUEsSUFBQXZELFdBQ0EzcUQsU0FBQXlNLFFBQUFySyxPQUFBa29ELFdBQUFwa0QsTUFBQSxTQUFBdUUsT0FDQWtnRCxRQUFBNWxELEtBQUEwRixNQUFBQyxlQUVBLElBQUF5akQsY0FBQXhELFFBQUFsL0MsS0FBQSxLQUNBNEksU0FBQWpTLE9BQUF1aEQsV0FBQXZoRCxPQUFBbW9ELFdBQUE2RCxTQUdBek4sUUFBQTBOLG9CQUNBOWlELE1BQUFuSixPQUFBcWUsVUFBQUMsU0FBQTR0QyxPQUFBSCxhQUFBMzdDLEtBQUE2QixXQUNBeEMsU0FBQTVOLEtBQUEsU0FBQUQsUUFFQSxJQUFBLEdBQUF3dEIsR0FBQSxFQUFBQSxFQUFBeHRCLE9BQUE4RCxPQUFBMHBCLElBQUEsQ0FDQSxHQUFBKzhCLGVBQ0FBLGFBQUF0SSxPQUFBamlELE9BQUF3dEIsR0FHQXB2QixPQUFBOG9ELFNBQUFDLGdCQUFBb0QsWUFBQXRJLE9BQUF1SSxxQkFBQUQsWUFBQXRJLE9BQUF3SSxxQkFDQXJzRCxPQUFBOG9ELFNBQUFFLFdBQUFtRCxZQUFBdEksT0FBQTlCLGVBQUFvSyxZQUFBdEksT0FBQTdCLGNBQUFtSyxZQUFBdEksT0FBQXlJLGNBQ0F0c0QsT0FBQThvRCxTQUFBRyxXQUFBa0QsWUFBQXRJLE9BQUE5QixlQUNBL2hELE9BQUE4b0QsU0FBQUksV0FBQWlELFlBQUF0SSxPQUFBN0IsY0FDQWhpRCxPQUFBOG9ELFNBQUFLLFdBQUFnRCxZQUFBdEksT0FBQXlJLGNBQ0F0c0QsT0FBQThvRCxTQUFBTSxZQUFBK0MsWUFBQXRJLE9BQUE1QixnQkFBQWtLLFlBQUF0SSxPQUFBM0IsZUFBQWlLLFlBQUF0SSxPQUFBMEksZUFDQXZzRCxPQUFBOG9ELFNBQUFPLFlBQUE4QyxZQUFBdEksT0FBQTVCLGdCQUNBamlELE9BQUE4b0QsU0FBQVEsWUFBQTZDLFlBQUF0SSxPQUFBM0IsZUFDQWxpRCxPQUFBOG9ELFNBQUFTLFlBQUE0QyxZQUFBdEksT0FBQTBJLGVBRUF2c0QsT0FBQThvRCxTQUFBYSxZQUFBd0MsWUFBQXRJLE9BQUEySSxXQUFBeHNELE9BQUE4b0QsU0FBQWMsV0FBQXVDLFlBQUF0SSxPQUFBNEksVUFDQXpzRCxPQUFBOG9ELFNBQUFlLFlBQUFzQyxZQUFBdEksT0FBQThDLG1CQUFBM21ELE9BQUE4b0QsU0FBQWdCLGFBQUFxQyxZQUFBdEksT0FBQTZJLG9CQUNBMXNELE9BQUE4b0QsU0FBQW1CLFNBQUFrQyxZQUFBdEksT0FBQThJLG1CQUFBM3NELE9BQUE4b0QsU0FBQW9CLFFBQUFpQyxZQUFBdEksT0FBQStJLGNBQ0E1c0QsT0FBQThvRCxTQUFBcUIsWUFBQWdDLFlBQUF0SSxPQUFBZ0osaUJBQ0E3c0QsT0FBQThvRCxTQUFBeUIsY0FBQTRCLFlBQUF0SSxPQUFBaUosaUJBQUE5c0QsT0FBQThvRCxTQUFBMEIsWUFBQTJCLFlBQUF0SSxPQUFBa0osZ0JBRUEvc0QsT0FBQThvRCxTQUFBMkIsU0FBQTBCLFlBQUF0SSxPQUFBbUosa0JBQUFodEQsT0FBQThvRCxTQUFBNEIsUUFBQXlCLFlBQUF0SSxPQUFBeEIsaUJBQ0FyaUQsT0FBQThvRCxTQUFBNkIsUUFBQXdCLFlBQUF0SSxPQUFBdkIsaUJBQUF0aUQsT0FBQThvRCxTQUFBOEIsU0FBQXVCLFlBQUF0SSxPQUFBdEIsa0JBQ0F2aUQsT0FBQThvRCxTQUFBK0IsV0FBQXNCLFlBQUF0SSxPQUFBb0osbUJBQUFqdEQsT0FBQThvRCxTQUFBZ0MsVUFBQXFCLFlBQUF0SSxPQUFBckIsa0JBQ0F4aUQsT0FBQThvRCxTQUFBaUMsVUFBQW9CLFlBQUF0SSxPQUFBcEIsa0JBQUF6aUQsT0FBQThvRCxTQUFBa0MsV0FBQW1CLFlBQUF0SSxPQUFBbkIsbUJBQ0ExaUQsT0FBQThvRCxTQUFBbUMsVUFBQWtCLFlBQUF0SSxPQUFBcUosYUFBQWx0RCxPQUFBOG9ELFNBQUFvQyxTQUFBaUIsWUFBQXRJLE9BQUFsQixZQUNBM2lELE9BQUE4b0QsU0FBQXFDLFNBQUFnQixZQUFBdEksT0FBQWpCLFlBQUE1aUQsT0FBQThvRCxTQUFBc0MsVUFBQWUsWUFBQXRJLE9BQUFoQixhQUNBN2lELE9BQUE4b0QsU0FBQXVDLFVBQUFjLFlBQUF0SSxPQUFBc0osZ0JBQUFudEQsT0FBQThvRCxTQUFBd0MsU0FBQWEsWUFBQXRJLE9BQUFmLGVBQ0E5aUQsT0FBQThvRCxTQUFBeUMsU0FBQVksWUFBQXRJLE9BQUFkLGVBQUEvaUQsT0FBQThvRCxTQUFBMEMsVUFBQVcsWUFBQXRJLE9BQUFiLGdCQUNBaGpELE9BQUE4b0QsU0FBQTJDLFNBQUFVLFlBQUF0SSxPQUFBdUosb0JBQUFwdEQsT0FBQThvRCxTQUFBNEMsUUFBQVMsWUFBQXRJLE9BQUFaLG1CQUNBampELE9BQUE4b0QsU0FBQTZDLFFBQUFRLFlBQUF0SSxPQUFBWCxtQkFBQWxqRCxPQUFBOG9ELFNBQUE4QyxTQUFBTyxZQUFBdEksT0FBQVYsb0JBQ0FuakQsT0FBQThvRCxTQUFBK0MsU0FBQU0sWUFBQXRJLE9BQUFULFlBQUFwakQsT0FBQThvRCxTQUFBZ0QsT0FBQUssWUFBQXRJLE9BQUFSLGNBRUFyakQsT0FBQTJvRCxtQkFBQWhtRCxLQUFBd3BELGFBR0Fuc0QsT0FBQTZvRCxvQkFDQTdvRCxPQUFBNm9ELGlCQUFBMS9DLE1BQUFuSixPQUFBcWUsVUFDQXJlLE9BQUE2b0QsaUJBQUF3RSxVQUFBcnRELE9BQUFnb0QsV0FBQTc3QyxPQUFBLFNBQUF5bEMsSUFBQSxNQUFBQSxJQUFBQyxlQUFBN3hDLE9BQUFxZSxVQUFBd3pCLGdCQUFBLEdBQ0E3eEMsT0FBQTZvRCxpQkFBQXlFLFVBQUF0dEQsT0FBQWlvRCxXQUFBOTdDLE9BQUEsU0FBQThrQyxJQUFBLE1BQUFBLElBQUFDLGlCQUFBbHhDLE9BQUFxZSxVQUFBNnlCLGtCQUFBLEdBRUFseEMsT0FBQTZvRCxpQkFBQTBFLFlBQUF2dEQsT0FBQStuRCxRQUFBNTdDLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBNm9ELGlCQUFBMS9DLE1BQUFxa0Qsb0JBQUEsR0FDQXh0RCxPQUFBNm9ELGlCQUFBNEUsWUFBQXp0RCxPQUFBeVgsU0FBQXRMLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQTNZLE9BQUE2b0QsaUJBQUEwRSxZQUFBNTBDLFlBQUEsRUFHQXZZLFdBQUFtQixNQUNBcVosWUFBQSxzQkFDQWpaLEtBQUEsS0FDQWt1QixZQUFBLGFBQ0E3ZixTQUNBMDlDLFdBQUEsV0FDQSxNQUFBMXRELFFBQUEyb0Qsb0JBRUFsSixVQUFBLFdBQ0EsTUFBQXovQyxRQUFBNm9ELGtCQUVBOEUsWUFBQSxXQUNBLE1BQUEzdEQsUUFBQThvRCxXQUdBL29ELFlBQUEsU0FBQSxvQkFBQSxhQUFBLFlBQUEsY0FBQSxTQUFBQyxPQUFBd0Isa0JBQUFrc0QsV0FBQWpPLFVBQUFrTyxhQUNBM3RELE9BQUFpa0QsT0FBQXlKLFdBQ0ExdEQsT0FBQW1KLE1BQUFzMkMsVUFDQXovQyxPQUFBNHRELE9BQUFELFlBQ0EzdEQsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUF1TyxRQUFBLFdBRUEvUCxPQUFBd2tELE1BQUEsV0FDQXJsQyxPQUFBcWxDLGNBSUEsU0FBQXhqRCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEseUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EseUJBQUFPLGNBQUE0SSxnQkFNQTVKLE9BQUE2dEQsbUJBQUEsU0FBQXAwQyxPQUNBLEdBQUFBLE1BQUEsQ0FJQSxHQUFBOHVDLFdBQ0EzcUQsU0FBQXlNLFFBQUFySyxPQUFBa29ELFdBQUFwa0QsTUFBQSxTQUFBdUUsT0FDQWtnRCxRQUFBNWxELEtBQUEwRixNQUFBQyxlQUVBLElBQUF5akQsY0FBQXhELFFBQUFsL0MsS0FBQSxLQUNBNEksU0FBQWpTLE9BQUF1aEQsV0FBQXZoRCxPQUFBbW9ELFdBQUE2RCxTQUNBaHNELFFBQUE4dEQsZUFFQTV0RCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQTQ5QyxPQUFBd1AsdUJBQ0E1a0QsTUFBQW5KLE9BQUFxZSxVQUFBQyxTQUFBNHRDLE9BQUFILGFBQUEzN0MsS0FBQTZCLFdBQ0F4QyxTQUFBNU4sS0FBQSxTQUFBRCxRQUVBLElBQUEsR0FBQXd0QixHQUFBLEVBQUFBLEVBQUF4dEIsT0FBQThELE9BQUEwcEIsSUFBQSxDQUNBLEdBQUF1MkIsT0FDQUEsS0FBQXFJLE1BQUFwc0QsT0FBQXd0QixHQUFBa3dCLHFCQUFBcUcsSUFBQXY4QyxNQUFBeEgsT0FBQXd0QixHQUFBL21CLE1BQUFzOUMsSUFBQWhILFlBQUEvOEMsT0FBQXd0QixHQUFBdXZCLFdBQ0EsSUFBQXVGLFdBQUFsa0QsT0FBQStuRCxRQUFBNTdDLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUFuWCxPQUFBd3RCLEdBQUFyVyxZQUFBLEdBQ0FrMUMsZ0JBQUFqdUQsT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUF1ckMsVUFBQXZyQyxZQUFBLEdBQ0F1MUMsTUFDQUEsS0FBQWgxQyxNQUFBZ3JDLFVBQUFockMsTUFBQWcxQyxJQUFBLzBDLE1BQUErcUMsVUFBQS9xQyxNQUNBKzBDLElBQUFDLE1BQUFqSyxVQUFBaUssTUFBQUQsSUFBQUUsTUFBQWxLLFVBQUFrSyxNQUNBRixJQUFBRyxXQUFBSixnQkFBQXIxQyxZQUNBczFDLElBQUFJLFVBQUFMLGdCQUFBaDFCLEtBQUEsSUFBQWcxQixnQkFBQTVsRCxNQUFBLElBQUE0bEQsZ0JBQUEzL0MsSUFDQXEzQyxJQUFBekIsVUFBQWdLLElBQ0F2SSxJQUFBNEksS0FBQTNzRCxPQUFBd3RCLEdBQUFvL0IsZUFBQXJpRCxPQUFBLFNBQUFpakIsR0FBQSxNQUFBLGtCQUFBQSxFQUFBOWIsT0FBQSxHQUNBcXlDLElBQUE4SSxLQUFBN3NELE9BQUF3dEIsR0FBQW8vQixlQUFBcmlELE9BQUEsU0FBQWlqQixHQUFBLE1BQUEsV0FBQUEsRUFBQTliLE9BQUEsR0FDQXF5QyxJQUFBK0ksS0FBQTlzRCxPQUFBd3RCLEdBQUFvL0IsZUFBQXJpRCxPQUFBLFNBQUFpakIsR0FBQSxNQUFBLGdCQUFBQSxFQUFBOWIsT0FBQSxHQUNBcXlDLElBQUFnSixPQUFBL3NELE9BQUF3dEIsR0FBQW8vQixlQUFBcmlELE9BQUEsU0FBQWlqQixHQUFBLE1BQUEsaUJBQUFBLEVBQUE5YixPQUFBLEdBQ0FxeUMsSUFBQWlKLE9BQUFodEQsT0FBQXd0QixHQUFBby9CLGVBQUFyaUQsT0FBQSxTQUFBaWpCLEdBQUEsTUFBQSxpQkFBQUEsRUFBQTliLE9BQUEsR0FDQXRULE9BQUE4dEQsWUFBQW5yRCxLQUFBZ2pELEtBR0FrSixXQUFBLFdBQUFDLGFBQUEsSUFHQSxJQUFBQSxXQUFBLFdBQ0ExdUQsVUFBQW1CLE1BQ0FxWixZQUFBLDZCQUNBalosS0FBQSxLQUNBa3VCLFlBQUEsYUFDQTdmLFNBQ0ErK0MsYUFBQSxXQUNBLE1BQUEvdUQsUUFBQTh0RCxhQUVBck8sVUFBQSxXQVFBLE1BUEF6L0MsUUFBQTZvRCxvQkFDQTdvRCxPQUFBNm9ELGlCQUFBMS9DLE1BQUFuSixPQUFBcWUsVUFDQXJlLE9BQUE2b0QsaUJBQUF3RSxVQUFBcnRELE9BQUFnb0QsV0FBQTc3QyxPQUFBLFNBQUF5bEMsSUFBQSxNQUFBQSxJQUFBQyxlQUFBN3hDLE9BQUFxZSxVQUFBd3pCLGdCQUFBLEdBQ0E3eEMsT0FBQTZvRCxpQkFBQXlFLFVBQUF0dEQsT0FBQWlvRCxXQUFBOTdDLE9BQUEsU0FBQThrQyxJQUFBLE1BQUFBLElBQUFDLGlCQUFBbHhDLE9BQUFxZSxVQUFBNnlCLGtCQUFBLEdBRUFseEMsT0FBQTZvRCxpQkFBQTBFLFlBQUF2dEQsT0FBQStuRCxRQUFBNTdDLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBcWUsVUFBQW12QyxvQkFBQSxHQUNBeHRELE9BQUE2b0QsaUJBQUE0RSxZQUFBenRELE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTZvRCxpQkFBQTBFLFlBQUE1MEMsWUFBQSxHQUNBM1ksT0FBQTZvRCxtQkFHQTlvRCxZQUFBLFNBQUEsUUFBQSxvQkFBQSxlQUFBLFlBQUEsU0FBQUMsT0FBQUUsTUFBQXNCLGtCQUFBdXRELGFBQUF0UCxXQUNBei9DLE9BQUFndkQsUUFBQUQsYUFDQS91RCxPQUFBbUosTUFBQXMyQyxVQUNBei9DLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sUUFBQSxXQUVBL1AsT0FBQXdrRCxNQUFBLFdBQ0FybEMsT0FBQXFsQyxlQUtBLFNBQUF4akQsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHlCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHlCQUFBTyxjQUFBNEksZ0JBTUE1SixPQUFBaXZELFdBQUEsU0FBQXgxQyxPQUNBQSxRQUVBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxXQUNBNDlDLE9BQUEyUSxlQUFBL2xELE1BQUFuSixPQUFBbW9ELFdBQUE3cEMsU0FBQTR0QyxPQUFBbHNELE9BQUEwb0QsYUFBQXQ0QyxLQUFBcFEsT0FBQW1vRCxXQUFBNkQsV0FBQXY4QyxTQUFBNU4sS0FBQSxTQUFBRCxRQUNBLEdBQUF1dEQsUUFBQXZ4RCxRQUFBWSxRQUFBLFFBQ0E0d0QsZUFBQXh0RCxPQUFBeUgsS0FBQSxJQUNBa08sS0FBQSxHQUFBODNDLE9BQUFELGlCQUFBOTdDLEtBQUEsb0JBQ0FnOEMsUUFBQUMsSUFBQUMsZ0JBQUFqNEMsS0FDQTQzQyxRQUFBTSxLQUFBSCxRQUNBSCxPQUFBTyxTQUFBLGFBQ0FQLE9BQUExOUMsU0FHQSxTQUFBelEsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHNCQUFBTyxjQUFBNEksdUJDN1VBLFdBQ0EsWUFFQSxJQUFBak0sZ0JBQUFDLFFBQUFDLE9BQUEsaUJBRUFGLGdCQUFBb0MsV0FBQSxpQkFBQSxTQUFBLGFBQUEsV0FBQSxZQUFBLFFBQUEsWUFBQSxnQkFBQSxZQUFBLFlBQUEsYUFBQSxnQkFBQSxpQkFBQSxjQUFBLGFBQUEsU0FBQSxTQUNBLFNBQUFDLE9BQUE4RixXQUFBQyxTQUFBQyxVQUFBOUYsTUFBQUUsVUFBQTRtRCxjQUFBamlDLFVBQUE4ZSxVQUFBb2pCLFdBQUFwWixjQUFBcVosZUFBQS81QixZQUFBMWlCLFdBQUE4ekMsT0FBQTl3QixRQUNBcnNCLFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxhQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxZQUVBTCxXQUFBTSxTQUFBLFlBQ0FOLFdBQUFPLFdBQUEsU0FFQVAsV0FBQW92QixJQUFBLG9CQUFBLFNBQUFoekIsTUFBQWlsRCxRQUFBQyxTQUFBQyxVQUFBQyxZQUNBLEdBQUFDLGtCQUFBLENBQ0EsUUFBQUYsVUFBQUcsS0FDQSxJQUFBLGdCQUNBcG1ELFNBQUFwQixPQUFBaWhELGVBQUFDLFNBQ0FxRyxnQkFBQXZuRCxPQUFBaWhELGVBQUFDLE9BQUF1RyxPQUNBRixnQkFBQW5tRCxTQUFBcEIsT0FBQWloRCxlQUFBQyxPQUFBNWlDLFNBQUE4aUMsWUFBQSxFQUFBbUcsaUJBSUFBLGtCQUNBcHpDLFFBQUFDLElBQUEsaUJBQUEreUMsUUFBQXh4QyxNQUNBeEIsUUFBQUMsSUFBQSxtQkFBQWl6QyxVQUFBMXhDLE1BRUEreEMsUUFBQSwrRkFDQXZ6QyxRQUFBQyxJQUFBLFVBQUEreUMsUUFBQXh4QyxPQUVBeEIsUUFBQUMsSUFBQSxrQkFBQWl6QyxVQUFBMXhDLE1BQ0E3UCxXQUFBMEQsZUFBQUMsYUFBQSxFQUVBdkgsTUFBQUsscUJBUUF2QyxPQUFBaVYsY0FFQWpWLE9BQUF1QixLQUFBLFNBQUEyVCxPQUFBL1MsT0FDQStTLE9BQUEzUyxpQkFDQTJTLE9BQUFDLGtCQUVBblYsT0FBQWlWLFdBQUE5UyxRQUFBLEdBS0FuQyxPQUFBdWhELFdBQUEsU0FBQWppRCxHQUNBLEdBQUFxb0QsV0FBQSxHQUFBdjNDLE1BQUE5USxHQUNBc29ELEdBQUFELFVBQUE1bEMsV0FBQSxDQUNBNmxDLElBQUEsR0FBQUEsR0FBQSxJQUFBQSxHQUFBQSxFQUNBLElBQUFDLElBQUFGLFVBQUExbEMsVUFDQTZsQyxLQUFBSCxVQUFBN2xDLGNBQ0Fva0MsS0FBQTBCLEdBQUEsSUFBQUMsR0FBQSxJQUFBQyxJQUNBLE9BQUE1QixPQUlBbG1ELE9BQUF1TixVQUFBOUMsV0FDQXpLLE9BQUFpaEQsa0JBQ0FqaEQsT0FBQTArQyxhQUNBMStDLE9BQUE4K0MsZUFBQTkrQyxPQUFBKytDLFlBQ0EvK0MsT0FBQWcvQyxlQUFBaC9DLE9BQUFpL0MsY0FDQWovQyxPQUFBay9DLGNBQ0FsL0MsT0FBQXUvQyxVQUFBLEVBQ0F2L0MsT0FBQXkrQyxnQkFBQSxFQUNBeitDLE9BQUE0Z0Qsa0JBQUFvRyxjQUFBNzZDLE9BQUEsU0FBQXczQyxJQUFBLE1BQUEsS0FBQUEsR0FBQTVDLFdBQ0EvZ0QsT0FBQTZRLE9BQUFrVSxVQUNBL2tCLE9BQUE2RyxPQUFBZzlCLFVBQ0E3akMsT0FBQXFoRCxRQUFBNEYsV0FFQS9tRCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBblYsT0FBQXZXLEdBQUFnRSxTQUFBRSxJQUFBLFFBQUEsU0FBQXFELFVBQ0F0SixPQUFBd2pELGVBQUFsNkMsUUFDQSxJQUFBZzhDLGNBQUFuNEIsWUFBQWhoQixPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBd2pELGVBQUE3cUMsWUFBQSxFQUNBM1ksUUFBQXdqRCxlQUFBNXFDLFlBQUEwc0MsYUFBQTFzQyxZQUNBNVksT0FBQXdqRCxlQUFBK0IsZUFBQUQsYUFBQXRzQixRQUFBLEtBQUFzc0IsYUFBQXJzQixLQUFBLElBQUFxc0IsYUFBQWo5QyxNQUFBLElBQUFpOUMsYUFBQWgzQyxNQUNBbUIsU0FDQWdlLE9BQUFzQyxTQUFBdGdCLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBdEosT0FBQStuRCxRQUFBeitDLFdBR0F0SixPQUFBeVgsU0FBQTBWLFlBQ0FudEIsT0FBQWdvRCxXQUFBbmEsY0FDQTd0QyxPQUFBaW9ELFdBQUFmLGVBS0FsbkQsT0FBQWtvRCxjQUNBbG9ELE9BQUFtb0QsY0FDQW5vRCxPQUFBb29ELG1CQUdBcG9ELE9BQUFxb0QsYUFBQSxXQUNBcm9ELE9BQUFxZSxVQUFBcmUsT0FBQTZRLE9BQUExRSxPQUFBLFNBQUEzRyxHQUFBLE1BQUFBLEdBQUE4WSxVQUFBdGUsT0FBQW1vRCxXQUFBN3BDLFdBQUEsRUFDQSxJQUFBZ3FDLFVBQ0FDLFVBQ0EzcUQsU0FBQXlNLFFBQUFySyxPQUFBa29ELFdBQUFwa0QsTUFBQSxTQUFBdUUsT0FDQWlnRCxNQUFBM2xELEtBQUEwRixNQUFBbWdELFlBQUFELFFBQUE1bEQsS0FBQTBGLE1BQUFDLGdCQUdBdEksT0FBQXlvRCxXQUFBSCxNQUFBai9DLEtBQUEsS0FBQXJKLE9BQUEwb0QsYUFBQUgsUUFBQWwvQyxLQUFBLE1BR0FySixPQUFBMm9ELHNCQUVBM29ELE9BQUE0b0QsaUJBQUEsU0FBQW52QyxPQUNBLEdBQUFBLE1BQUEsQ0FFQXpaLE9BQUEyb0Qsc0JBQ0Ezb0QsT0FBQTZvRCxvQkFDQTdvRCxPQUFBOG9ELFlBQ0E5b0QsT0FBQThvRCxTQUFBQyxlQUFBLEVBQUEvb0QsT0FBQThvRCxTQUFBRSxVQUFBLEVBQUFocEQsT0FBQThvRCxTQUFBRyxVQUFBLEVBQUFqcEQsT0FBQThvRCxTQUFBSSxVQUFBLEVBQ0FscEQsT0FBQThvRCxTQUFBSyxVQUFBLEVBQUFucEQsT0FBQThvRCxTQUFBTSxXQUFBLEVBQUFwcEQsT0FBQThvRCxTQUFBTyxXQUFBLEVBQUFycEQsT0FBQThvRCxTQUFBUSxXQUFBLEVBQ0F0cEQsT0FBQThvRCxTQUFBUyxXQUFBLEVBQUF2cEQsT0FBQThvRCxTQUFBVSxNQUFBLEVBQUF4cEQsT0FBQThvRCxTQUFBVyxLQUFBLEVBQUF6cEQsT0FBQThvRCxTQUFBWSxNQUFBLEVBRUExcEQsT0FBQThvRCxTQUFBYSxXQUFBLEVBQUEzcEQsT0FBQThvRCxTQUFBYyxVQUFBLEVBQUE1cEQsT0FBQThvRCxTQUFBZSxXQUFBLEVBQUE3cEQsT0FBQThvRCxTQUFBZ0IsWUFBQSxFQUNBOXBELE9BQUE4b0QsU0FBQWlCLGdCQUFBLEVBQUEvcEQsT0FBQThvRCxTQUFBa0IsaUJBQUEsRUFBQWhxRCxPQUFBOG9ELFNBQUFtQixRQUFBLEVBQUFqcUQsT0FBQThvRCxTQUFBb0IsT0FBQSxFQUNBbHFELE9BQUE4b0QsU0FBQXFCLFdBQUEsRUFBQW5xRCxPQUFBOG9ELFNBQUFzQixVQUFBLEVBQUFwcUQsT0FBQThvRCxTQUFBdUIsY0FBQSxFQUFBcnFELE9BQUE4b0QsU0FBQXdCLGVBQUEsRUFDQXRxRCxPQUFBOG9ELFNBQUF5QixhQUFBLEVBQUF2cUQsT0FBQThvRCxTQUFBMEIsV0FBQSxFQUVBeHFELE9BQUE4b0QsU0FBQTJCLFFBQUEsRUFBQXpxRCxPQUFBOG9ELFNBQUE0QixPQUFBLEVBQUExcUQsT0FBQThvRCxTQUFBNkIsT0FBQSxFQUFBM3FELE9BQUE4b0QsU0FBQThCLFFBQUEsRUFDQTVxRCxPQUFBOG9ELFNBQUErQixVQUFBLEVBQUE3cUQsT0FBQThvRCxTQUFBZ0MsU0FBQSxFQUFBOXFELE9BQUE4b0QsU0FBQWlDLFNBQUEsRUFBQS9xRCxPQUFBOG9ELFNBQUFrQyxVQUFBLEVBQ0FockQsT0FBQThvRCxTQUFBbUMsU0FBQSxFQUFBanJELE9BQUE4b0QsU0FBQW9DLFFBQUEsRUFBQWxyRCxPQUFBOG9ELFNBQUFxQyxRQUFBLEVBQUFuckQsT0FBQThvRCxTQUFBc0MsU0FBQSxFQUNBcHJELE9BQUE4b0QsU0FBQXVDLFNBQUEsRUFBQXJyRCxPQUFBOG9ELFNBQUF3QyxRQUFBLEVBQUF0ckQsT0FBQThvRCxTQUFBeUMsUUFBQSxFQUFBdnJELE9BQUE4b0QsU0FBQTBDLFNBQUEsRUFDQXhyRCxPQUFBOG9ELFNBQUEyQyxRQUFBLEVBQUF6ckQsT0FBQThvRCxTQUFBNEMsT0FBQSxFQUFBMXJELE9BQUE4b0QsU0FBQTZDLE9BQUEsRUFBQTNyRCxPQUFBOG9ELFNBQUE4QyxRQUFBLEVBQ0E1ckQsT0FBQThvRCxTQUFBK0MsUUFBQSxFQUFBN3JELE9BQUE4b0QsU0FBQWdELE9BQUEsQ0FJQSxJQUFBdkQsV0FDQTNxRCxTQUFBeU0sUUFBQXJLLE9BQUFrb0QsV0FBQXBrRCxNQUFBLFNBQUF1RSxPQUNBa2dELFFBQUE1bEQsS0FBQTBGLE1BQUFDLGVBRUEsSUFBQXlqRCxjQUFBeEQsUUFBQWwvQyxLQUFBLEtBQ0E0SSxTQUFBalMsT0FBQXVoRCxXQUFBdmhELE9BQUFtb0QsV0FBQTZELFNBR0F6TixRQUFBME4sb0JBQ0E5aUQsTUFBQW5KLE9BQUFxZSxVQUFBQyxTQUFBNHRDLE9BQUFILGFBQUEzN0MsS0FBQTZCLFdBQ0F4QyxTQUFBNU4sS0FBQSxTQUFBRCxRQUVBLElBQUEsR0FBQXd0QixHQUFBLEVBQUFBLEVBQUF4dEIsT0FBQThELE9BQUEwcEIsSUFBQSxDQUNBLEdBQUErOEIsZUFDQUEsYUFBQXRJLE9BQUFqaUQsT0FBQXd0QixHQUdBcHZCLE9BQUE4b0QsU0FBQUMsZ0JBQUFvRCxZQUFBdEksT0FBQXVJLHFCQUFBRCxZQUFBdEksT0FBQXdJLHFCQUNBcnNELE9BQUE4b0QsU0FBQUUsV0FBQW1ELFlBQUF0SSxPQUFBOUIsZUFBQW9LLFlBQUF0SSxPQUFBN0IsY0FBQW1LLFlBQUF0SSxPQUFBeUksY0FDQXRzRCxPQUFBOG9ELFNBQUFHLFdBQUFrRCxZQUFBdEksT0FBQTlCLGVBQ0EvaEQsT0FBQThvRCxTQUFBSSxXQUFBaUQsWUFBQXRJLE9BQUE3QixjQUNBaGlELE9BQUE4b0QsU0FBQUssV0FBQWdELFlBQUF0SSxPQUFBeUksY0FDQXRzRCxPQUFBOG9ELFNBQUFNLFlBQUErQyxZQUFBdEksT0FBQTVCLGdCQUFBa0ssWUFBQXRJLE9BQUEzQixlQUFBaUssWUFBQXRJLE9BQUEwSSxlQUNBdnNELE9BQUE4b0QsU0FBQU8sWUFBQThDLFlBQUF0SSxPQUFBNUIsZ0JBQ0FqaUQsT0FBQThvRCxTQUFBUSxZQUFBNkMsWUFBQXRJLE9BQUEzQixlQUNBbGlELE9BQUE4b0QsU0FBQVMsWUFBQTRDLFlBQUF0SSxPQUFBMEksZUFFQXZzRCxPQUFBOG9ELFNBQUFhLFlBQUF3QyxZQUFBdEksT0FBQTJJLFdBQUF4c0QsT0FBQThvRCxTQUFBYyxXQUFBdUMsWUFBQXRJLE9BQUE0SSxVQUNBenNELE9BQUE4b0QsU0FBQWUsWUFBQXNDLFlBQUF0SSxPQUFBOEMsbUJBQUEzbUQsT0FBQThvRCxTQUFBZ0IsYUFBQXFDLFlBQUF0SSxPQUFBNkksb0JBQ0Exc0QsT0FBQThvRCxTQUFBbUIsU0FBQWtDLFlBQUF0SSxPQUFBOEksbUJBQUEzc0QsT0FBQThvRCxTQUFBb0IsUUFBQWlDLFlBQUF0SSxPQUFBK0ksY0FDQTVzRCxPQUFBOG9ELFNBQUFxQixZQUFBZ0MsWUFBQXRJLE9BQUFnSixpQkFDQTdzRCxPQUFBOG9ELFNBQUF5QixjQUFBNEIsWUFBQXRJLE9BQUFpSixpQkFBQTlzRCxPQUFBOG9ELFNBQUEwQixZQUFBMkIsWUFBQXRJLE9BQUFrSixnQkFFQS9zRCxPQUFBOG9ELFNBQUEyQixTQUFBMEIsWUFBQXRJLE9BQUFtSixrQkFBQWh0RCxPQUFBOG9ELFNBQUE0QixRQUFBeUIsWUFBQXRJLE9BQUF4QjtBQUNBcmlELE9BQUE4b0QsU0FBQTZCLFFBQUF3QixZQUFBdEksT0FBQXZCLGlCQUFBdGlELE9BQUE4b0QsU0FBQThCLFNBQUF1QixZQUFBdEksT0FBQXRCLGtCQUNBdmlELE9BQUE4b0QsU0FBQStCLFdBQUFzQixZQUFBdEksT0FBQW9KLG1CQUFBanRELE9BQUE4b0QsU0FBQWdDLFVBQUFxQixZQUFBdEksT0FBQXJCLGtCQUNBeGlELE9BQUE4b0QsU0FBQWlDLFVBQUFvQixZQUFBdEksT0FBQXBCLGtCQUFBemlELE9BQUE4b0QsU0FBQWtDLFdBQUFtQixZQUFBdEksT0FBQW5CLG1CQUNBMWlELE9BQUE4b0QsU0FBQW1DLFVBQUFrQixZQUFBdEksT0FBQXFKLGFBQUFsdEQsT0FBQThvRCxTQUFBb0MsU0FBQWlCLFlBQUF0SSxPQUFBbEIsWUFDQTNpRCxPQUFBOG9ELFNBQUFxQyxTQUFBZ0IsWUFBQXRJLE9BQUFqQixZQUFBNWlELE9BQUE4b0QsU0FBQXNDLFVBQUFlLFlBQUF0SSxPQUFBaEIsYUFDQTdpRCxPQUFBOG9ELFNBQUF1QyxVQUFBYyxZQUFBdEksT0FBQXNKLGdCQUFBbnRELE9BQUE4b0QsU0FBQXdDLFNBQUFhLFlBQUF0SSxPQUFBZixlQUNBOWlELE9BQUE4b0QsU0FBQXlDLFNBQUFZLFlBQUF0SSxPQUFBZCxlQUFBL2lELE9BQUE4b0QsU0FBQTBDLFVBQUFXLFlBQUF0SSxPQUFBYixnQkFDQWhqRCxPQUFBOG9ELFNBQUEyQyxTQUFBVSxZQUFBdEksT0FBQXVKLG9CQUFBcHRELE9BQUE4b0QsU0FBQTRDLFFBQUFTLFlBQUF0SSxPQUFBWixtQkFDQWpqRCxPQUFBOG9ELFNBQUE2QyxRQUFBUSxZQUFBdEksT0FBQVgsbUJBQUFsakQsT0FBQThvRCxTQUFBOEMsU0FBQU8sWUFBQXRJLE9BQUFWLG9CQUNBbmpELE9BQUE4b0QsU0FBQStDLFNBQUFNLFlBQUF0SSxPQUFBVCxZQUFBcGpELE9BQUE4b0QsU0FBQWdELE9BQUFLLFlBQUF0SSxPQUFBUixjQUVBcmpELE9BQUEyb0QsbUJBQUFobUQsS0FBQXdwRCxhQUdBbnNELE9BQUE2b0Qsb0JBQ0E3b0QsT0FBQTZvRCxpQkFBQTEvQyxNQUFBbkosT0FBQXFlLFVBQ0FyZSxPQUFBNm9ELGlCQUFBd0UsVUFBQXJ0RCxPQUFBZ29ELFdBQUE3N0MsT0FBQSxTQUFBeWxDLElBQUEsTUFBQUEsSUFBQUMsZUFBQTd4QyxPQUFBcWUsVUFBQXd6QixnQkFBQSxHQUNBN3hDLE9BQUE2b0QsaUJBQUF5RSxVQUFBdHRELE9BQUFpb0QsV0FBQTk3QyxPQUFBLFNBQUE4a0MsSUFBQSxNQUFBQSxJQUFBQyxpQkFBQWx4QyxPQUFBcWUsVUFBQTZ5QixrQkFBQSxHQUVBbHhDLE9BQUE2b0QsaUJBQUEwRSxZQUFBdnRELE9BQUErbkQsUUFBQTU3QyxPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBL1ksT0FBQTZvRCxpQkFBQTEvQyxNQUFBcWtELG9CQUFBLEdBQ0F4dEQsT0FBQTZvRCxpQkFBQTRFLFlBQUF6dEQsT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBNm9ELGlCQUFBMEUsWUFBQTUwQyxZQUFBLEVBR0EsSUFBQWlYLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLHNCQUNBalosS0FBQSxLQUNBa3VCLFlBQUEsYUFDQTdmLFNBQ0EwOUMsV0FBQSxXQUNBLE1BQUExdEQsUUFBQTJvRCxvQkFFQWxKLFVBQUEsV0FDQSxNQUFBei9DLFFBQUE2b0Qsa0JBRUE4RSxZQUFBLFdBQ0EsTUFBQTN0RCxRQUFBOG9ELFdBR0Evb0QsWUFBQSxTQUFBLG9CQUFBLGFBQUEsWUFBQSxjQUFBLFNBQUFDLE9BQUF3QixrQkFBQWtzRCxXQUFBak8sVUFBQWtPLGFBQ0EzdEQsT0FBQWlrRCxPQUFBeUosV0FDQTF0RCxPQUFBbUosTUFBQXMyQyxVQUNBei9DLE9BQUE0dEQsT0FBQUQsWUFDQTN0RCxPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQXVPLFFBQUEsV0FFQS9QLE9BQUF3a0QsTUFBQSxXQUNBcmxDLE9BQUFxbEMsWUFJQTUwQixlQUFBaHVCLE9BQUFDLEtBQUEsa0JBUUE3QixPQUFBNnRELG1CQUFBLFNBQUFwMEMsT0FDQSxHQUFBQSxNQUFBLENBSUEsR0FBQTh1QyxXQUNBM3FELFNBQUF5TSxRQUFBckssT0FBQWtvRCxXQUFBcGtELE1BQUEsU0FBQXVFLE9BQ0FrZ0QsUUFBQTVsRCxLQUFBMEYsTUFBQUMsZUFFQSxJQUFBeWpELGNBQUF4RCxRQUFBbC9DLEtBQUEsS0FDQTRJLFNBQUFqUyxPQUFBdWhELFdBQUF2aEQsT0FBQW1vRCxXQUFBNkQsU0FDQWhzRCxRQUFBOHRELGVBRUE1dEQsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E0OUMsT0FBQXdQLHVCQUNBNWtELE1BQUFuSixPQUFBcWUsVUFBQUMsU0FBQTR0QyxPQUFBSCxhQUFBMzdDLEtBQUE2QixXQUNBeEMsU0FBQTVOLEtBQUEsU0FBQUQsUUFFQSxJQUFBLEdBQUF3dEIsR0FBQSxFQUFBQSxFQUFBeHRCLE9BQUE4RCxPQUFBMHBCLElBQUEsQ0FDQSxHQUFBdTJCLE9BQ0FBLEtBQUFxSSxNQUFBcHNELE9BQUF3dEIsR0FBQWt3QixxQkFBQXFHLElBQUF2OEMsTUFBQXhILE9BQUF3dEIsR0FBQS9tQixNQUFBczlDLElBQUFoSCxZQUFBLzhDLE9BQUF3dEIsR0FBQXV2QixXQUNBLElBQUF1RixXQUFBbGtELE9BQUErbkQsUUFBQTU3QyxPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBblgsT0FBQXd0QixHQUFBclcsWUFBQSxHQUNBazFDLGdCQUFBanVELE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBdXJDLFVBQUF2ckMsWUFBQSxHQUNBdTFDLE1BQ0FBLEtBQUFoMUMsTUFBQWdyQyxVQUFBaHJDLE1BQUFnMUMsSUFBQS8wQyxNQUFBK3FDLFVBQUEvcUMsTUFDQSswQyxJQUFBQyxNQUFBakssVUFBQWlLLE1BQUFELElBQUFFLE1BQUFsSyxVQUFBa0ssTUFDQUYsSUFBQUcsV0FBQUosZ0JBQUFyMUMsWUFDQXMxQyxJQUFBSSxVQUFBTCxnQkFBQWgxQixLQUFBLElBQUFnMUIsZ0JBQUE1bEQsTUFBQSxJQUFBNGxELGdCQUFBMy9DLElBQ0FxM0MsSUFBQXpCLFVBQUFnSyxJQUNBdkksSUFBQTRJLEtBQUEzc0QsT0FBQXd0QixHQUFBby9CLGVBQUFyaUQsT0FBQSxTQUFBaWpCLEdBQUEsTUFBQSxrQkFBQUEsRUFBQTliLE9BQUEsR0FDQXF5QyxJQUFBOEksS0FBQTdzRCxPQUFBd3RCLEdBQUFvL0IsZUFBQXJpRCxPQUFBLFNBQUFpakIsR0FBQSxNQUFBLFdBQUFBLEVBQUE5YixPQUFBLEdBQ0FxeUMsSUFBQStJLEtBQUE5c0QsT0FBQXd0QixHQUFBby9CLGVBQUFyaUQsT0FBQSxTQUFBaWpCLEdBQUEsTUFBQSxnQkFBQUEsRUFBQTliLE9BQUEsR0FDQXF5QyxJQUFBZ0osT0FBQS9zRCxPQUFBd3RCLEdBQUFvL0IsZUFBQXJpRCxPQUFBLFNBQUFpakIsR0FBQSxNQUFBLGlCQUFBQSxFQUFBOWIsT0FBQSxHQUNBcXlDLElBQUFpSixPQUFBaHRELE9BQUF3dEIsR0FBQW8vQixlQUFBcmlELE9BQUEsU0FBQWlqQixHQUFBLE1BQUEsaUJBQUFBLEVBQUE5YixPQUFBLEdBQ0F0VCxPQUFBOHRELFlBQUFuckQsS0FBQWdqRCxLQUdBa0osV0FBQSxXQUFBQyxhQUFBLElBR0EsSUFBQUEsV0FBQSxXQUNBLEdBQUFsL0IsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsNkJBQ0FqWixLQUFBLEtBQ0FrdUIsWUFBQSxhQUNBN2YsU0FDQSsrQyxhQUFBLFdBQ0EsTUFBQS91RCxRQUFBOHRELGFBRUFyTyxVQUFBLFdBUUEsTUFQQXovQyxRQUFBNm9ELG9CQUNBN29ELE9BQUE2b0QsaUJBQUExL0MsTUFBQW5KLE9BQUFxZSxVQUNBcmUsT0FBQTZvRCxpQkFBQXdFLFVBQUFydEQsT0FBQWdvRCxXQUFBNzdDLE9BQUEsU0FBQXlsQyxJQUFBLE1BQUFBLElBQUFDLGVBQUE3eEMsT0FBQXFlLFVBQUF3ekIsZ0JBQUEsR0FDQTd4QyxPQUFBNm9ELGlCQUFBeUUsVUFBQXR0RCxPQUFBaW9ELFdBQUE5N0MsT0FBQSxTQUFBOGtDLElBQUEsTUFBQUEsSUFBQUMsaUJBQUFseEMsT0FBQXFlLFVBQUE2eUIsa0JBQUEsR0FFQWx4QyxPQUFBNm9ELGlCQUFBMEUsWUFBQXZ0RCxPQUFBK25ELFFBQUE1N0MsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQS9ZLE9BQUFxZSxVQUFBbXZDLG9CQUFBLEdBQ0F4dEQsT0FBQTZvRCxpQkFBQTRFLFlBQUF6dEQsT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBNm9ELGlCQUFBMEUsWUFBQTUwQyxZQUFBLEdBQ0EzWSxPQUFBNm9ELG1CQUdBOW9ELFlBQUEsU0FBQSxRQUFBLG9CQUFBLGVBQUEsWUFBQSxTQUFBQyxPQUFBRSxNQUFBc0Isa0JBQUF1dEQsYUFBQXRQLFdBQ0F6L0MsT0FBQWd2RCxRQUFBRCxhQUNBL3VELE9BQUFtSixNQUFBczJDLFVBQ0F6L0MsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUF1TyxRQUFBLFdBRUEvUCxPQUFBd2tELE1BQUEsV0FDQXJsQyxPQUFBcWxDLFlBSUE1MEIsZUFBQWh1QixPQUFBQyxLQUFBLG1CQVNBN0IsT0FBQWl2RCxXQUFBLFNBQUF4MUMsT0FDQUEsUUFFQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsV0FFQTQ5QyxPQUFBMlEsZUFBQS9sRCxNQUFBbkosT0FBQW1vRCxXQUFBN3BDLFNBQUE0dEMsT0FBQWxzRCxPQUFBMG9ELGFBQUF0NEMsS0FBQXBRLE9BQUFtb0QsV0FBQTZELFdBQUF2OEMsU0FBQTVOLEtBQUEsU0FBQUQsUUFDQSxHQUFBdXRELFFBQUF2eEQsUUFBQVksUUFBQSxRQUNBNHdELGVBQUF4dEQsT0FBQXlILEtBQUEsSUFDQWtPLEtBQUEsR0FBQTgzQyxPQUFBRCxpQkFBQTk3QyxLQUFBLG9CQUNBZzhDLFFBQUFDLElBQUFDLGdCQUFBajRDLEtBQ0E0M0MsUUFBQU0sS0FBQUgsUUFDQUgsT0FBQU8sU0FBQSxhQUNBUCxPQUFBMTlDLFVBR0EsV0FDQTBDLFFBQUFDLElBQUEsbUJDdlVBLFdBQ0EsWUFFQSxJQUFBN0osa0JBQUEzTSxRQUFBQyxPQUFBLG1CQUNBME0sa0JBQUF4SyxXQUFBLHNCQUFBLFNBQUEsb0JBQUEsWUFDQSxTQUFBQyxPQUFBd0Isa0JBQUF1bEQsV0FDQS9tRCxPQUFBMnZELGVBQUE1SSxVQUNBL21ELE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sUUFBQSxpQkNSQSxXQUNBLFlBRUEsSUFBQXhGLGtCQUFBM00sUUFBQUMsT0FBQSxtQkFFQTBNLGtCQUFBeEssV0FBQSwwQkFBQSxTQUFBLG9CQUNBLFNBQUFDLE9BQUF3QixtQkFFQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUdBMUIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sUUFBQSxpQkNiQSxXQUNBLFlBRUEsSUFBQWxLLHFCQUFBakksUUFBQUMsT0FBQSxzQkFFQWdJLHFCQUFBOUYsV0FBQSxtQkFBQSxTQUFBLGFBQUEsV0FBQSxRQUFBLFlBQUEsb0JBQUEsVUFBQSxPQUFBLFdBQUEsYUFBQSxhQUFBLFNBQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUE3RixNQUFBRSxVQUFBb0Isa0JBQUFxakIsUUFBQXJhLEtBQUFvbEQsU0FBQWhsRCxXQUFBaWxELFdBQUFwaUMsUUFrQkEsT0FoQkF6dEIsT0FBQTh2RCxXQUNBOXZELE9BQUErdkQsZUFBQSxFQUNBL3ZELE9BQUFnd0QsZ0JBQUF4bEQsS0FBQWlELFlBQUEscUVBQ0F6TixPQUFBNEssV0FBQUEsV0FDQTVLLE9BQUFpd0QsTUFDQUMsS0FBQSxHQUNBQyxTQUFBLElBRUFud0QsT0FBQW93RCxRQUFBLEdBRUFwd0QsT0FBQXF3RCxnQkFDQXJ3RCxPQUFBcXdELGFBQUFDLEtBQUF2cUQsU0FBQUUsSUFBQSxhQUNBakcsT0FBQXF3RCxhQUFBRSxHQUFBeHFELFNBQUFFLElBQUEsT0FDQWpHLE9BQUFxd0QsYUFBQUcsS0FBQXpxRCxTQUFBRSxJQUFBLGFBR0FqRyxPQUFBcXdELGFBQUFHLE1BQ0EsSUFBQSxRQUNBeHdELE9BQUE0dkQsU0FBQUEsU0FBQXpqRCxPQUFBLFNBQUF5VyxHQUFBLE1BQUFBLEdBQUE2dEMsU0FBQSxHQUNBLE1BQ0EsS0FBQSxVQUNBendELE9BQUE0dkQsU0FBQUEsU0FBQXpqRCxPQUFBLFNBQUF5VyxHQUFBLE1BQUEsSUFBQUEsRUFBQTZ0QyxVQUlBLFNBQUFaLFlBRUE3dkQsT0FBQSt2RCxjQUFBRixXQUFBOTJDLFdBQUEvWSxPQUFBcXdELGFBQUFFLElBQUEsR0FBQSxFQUVBdndELE9BQUE4dkQsUUFBQWx5RCxRQUFBK1osS0FBQWs0QyxZQUNBN3ZELE9BQUE4dkQsUUFBQVUsS0FBQVosU0FBQXpqRCxPQUFBLFNBQUF5VyxHQUFBLE1BQUFBLEdBQUE2dEMsU0FBQXp3RCxPQUFBOHZELFFBQUFXLFVBQUEsR0FBQUMsVUFDQTF3RCxPQUFBMndELFlBQUEsRUFJQTN3RCxPQUFBNHdELGdCQUFBLFNBQUEzeEMsS0FDQWpmLE9BQUEyd0QsV0FBQTN3RCxPQUFBMndELGNBQUEsR0FBQSxHQUFBLEdBSUEzd0QsT0FBQTZ3RCxlQUFBLFdBRUE3d0QsT0FBQTJ3RCxZQUFBLEtBS0Ezd0QsT0FBQTh2RCxXQUVBLEdBQUE5dkQsT0FBQTR2RCxTQUFBbHFELFNBQ0ExRixPQUFBOHZELFFBQUFXLFFBQUF6d0QsT0FBQTR2RCxTQUFBLEdBQUFhLFVBR0F6d0QsT0FBQTY3QixPQUFBLFNBQUFwaUIsT0FDQSxHQUFBQSxNQUFBLENBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQVgsT0FBQTh2RCxRQUFBZ0IsU0FBQUMsS0FBQS93RCxPQUFBaXdELEtBQUFFLFNBQ0EsSUFBQWEsaUJBQ0F2akMsUUFBQXZULEtBQUFsYSxPQUFBOHZELFFBQUEsU0FBQXhtRCxVQUNBSSxPQUFBK00sUUFBQSxrQkFFQXU2QyxjQUFBMW5ELFFBQ0EsSUFBQTJsQyxJQUFBanZDLE9BQUE0SyxXQUFBdUIsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBclAsU0FBQXFQLFlBQUEsR0FDQXM0QyxHQUFBckIsU0FBQXpqRCxPQUFBLFNBQUF5VyxHQUFBLE1BQUFBLEdBQUE2dEMsU0FBQW5uRCxTQUFBbW5ELFVBQUEsRUFDQU8sZUFBQUUsT0FBQWppQixHQUFBcjJCLFlBQ0FvNEMsY0FBQVIsS0FBQVMsR0FBQVAsV0FFQSxTQUFBMXZELGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGNBQ0E2RixTQUFBNU4sS0FBQSxXQUNBLEdBQUFrZCxXQUFBaXlDLGNBQUEsVUFDQXh2RCxtQkFBQUUsTUFBQXFkLGNBS0EvZSxPQUFBa2EsS0FBQSxTQUFBVCxPQUNBLEdBQUFBLE1BQUEsQ0FDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUNBLElBQUF3d0QsaUJBQUF2ekQsUUFBQStaLEtBQUEzWCxPQUFBOHZELFFBRUEsTUFBQTl2RCxPQUFBaXdELEtBQUFDLEtBQUFpQixnQkFBQUwsU0FBQUMsS0FBQS93RCxPQUFBaXdELEtBQUFDLGFBR0FpQixpQkFBQUwsZUFBQUssaUJBQUFDLEtBRUEsSUFBQUMsaUJBRUFqaEQsTUFBQS9CLFVBQUFpakQsU0FBQSxTQUFBMzhDLEdBRUEsTUFEQWxQLE1BQUErN0MsU0FBQS83QyxLQUFBeWMsV0FBQXZOLEdBQ0FsUCxZQUdBMHJELGlCQUFBWCxXQUFBVyxpQkFBQUQsT0FDQXpqQyxPQUFBblQsUUFBQXZZLEdBQUFvdkQsZ0JBQUFwNEMsV0FBQW80QyxnQkFBQSxTQUFBN25ELFVBQ0ErbkQsY0FBQS9uRCxRQUNBLElBQUEybEMsSUFBQWp2QyxPQUFBNEssV0FBQXVCLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQXJQLFNBQUFxUCxZQUFBLEdBQ0FzNEMsR0FBQXJCLFNBQUF6akQsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBNnRDLFNBQUFubkQsU0FBQW1uRCxVQUFBLEVBS0EsSUFKQVksY0FBQUgsT0FBQWppQixHQUFBcjJCLFlBQ0F5NEMsY0FBQWIsS0FBQVMsR0FBQVAsVUFHQTF3RCxPQUFBcXdELGFBQUFFLElBQUFqbkQsU0FBQXlQLFVBQUEsQ0FDQSxHQUFBLEtBQUEvWSxPQUFBaXdELEtBQUFDLEtBQUEsQ0FFQSxHQUFBcUIsS0FBQVIsS0FBQU0sY0FBQTVtQyxTQUFBK21DLE9BQUEsSUFBQXh4RCxPQUFBaXdELEtBQUFDLE9BQ0F1QixZQUFBLEdBQUFyaEQsT0FBQWtoRCxTQUFBLEVBQ0F2ckQsVUFBQTJyRCxJQUFBLFdBQUFILEtBQUFJLFFBQUFGLGFBR0ExckQsU0FBQTJyRCxJQUFBLGNBQUFMLGNBQUE1bUMsU0FDQSxJQUFBbW5DLFdBQUFQLGNBQUFuNEMsTUFBQSxJQUFBbTRDLGNBQUFsNEMsS0FDQXBULFVBQUEyckQsSUFBQSxZQUFBRSxXQUVBbG9ELE9BQUErTSxRQUFBLG1CQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxjQUNBNkYsU0FBQTVOLEtBQUEsV0FDQSxHQUFBa2QsV0FBQXN5QyxjQUFBLFVBQ0E3dkQsbUJBQUFFLE1BQUFxZCxnQkFHQSxDQUFBM2UsVUFBQW1CLE1BQ0F6QixTQUFBLHlQQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsU0FNQTNCLE9BQUE2eEQsYUFBQSxTQUFBeE0sS0FFQSxHQUFBejFCLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQXdxQyxNQUVBdnFDLEtBQUEsV0FDQSxNQUFBLFlBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQWl3RCxhQUVBNXhELE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBRUF3bkIsT0FBQXNrQyxjQUFBaHdELEdBQUErdkQsWUFBQS80QyxXQUFBLFNBQUF6UCxVQUNBSSxPQUFBK00sUUFBQSxtQkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDBCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEksY0FDQTZGLFNBQUE1TixLQUFBLFdBQ0FMLGtCQUFBRSxPQUFBLEtBQUEsaUJBT0ExQixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUFFLFNBRUFvRSxXQUFBMEQsZ0JBQUFDLGFBQUEsU0N4TEEsV0FDQSxZQUVBLElBQUE1RCxxQkFBQWpJLFFBQUFDLE9BQUEsc0JBRUFnSSxxQkFBQTlGLFdBQUEsa0JBQUEsU0FBQSxXQUFBLFlBQUEsUUFBQSxZQUFBLGVBQUEsVUFBQSxPQUFBLFdBQUEsU0FBQSxhQUNBLFNBQUFDLE9BQUErRixTQUFBQyxVQUFBOUYsTUFBQUUsVUFBQTR4RCxhQUFBbnRDLFFBQUFyYSxLQUFBeW5ELFNBQUF4a0MsT0FBQW9pQyxZQUNBenVELFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxhQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxZQUdBbkcsT0FBQTh2RCxXQUNBOXZELE9BQUErdkQsZUFBQSxFQUNBL3ZELE9BQUFnd0QsZ0JBQUF4bEQsS0FBQWlELFlBQUEscUVBRUF6TixPQUFBNnhELGFBQUEsU0FBQXhNLEtBRUEsR0FBQXoxQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUF3cUMsTUFFQXZxQyxLQUFBLFdBQ0EsTUFBQSxZQUlBOFUsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFnWixjQUlBM2EsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFFQXduQixPQUFBc2tDLGNBQUFod0QsR0FBQThZLGFBQUE5QixXQUFBLFNBQUF6UCxVQUNBLEdBQUE0b0QsVUFDQUEsUUFBQW41QyxVQUFBOEIsYUFBQTlCLFVBQ0FtNUMsT0FBQTVCLEtBQUF6MUMsYUFBQTNCLE1BQUEsSUFBQTJCLGFBQUExQixLQUNBLElBQUE4MUIsSUFBQWp2QyxPQUFBNEssV0FBQXVCLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQWtDLGFBQUFsQyxZQUFBLEdBQ0FzNEMsR0FBQWdCLFNBQUE5bEQsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBNnRDLFNBQUE1MUMsYUFBQTQxQyxVQUFBLEVBQ0F5QixRQUFBaEIsT0FBQWppQixHQUFBcjJCLFlBQ0FzNUMsT0FBQTFCLEtBQUFTLEdBQUFQLFVBQ0Exd0QsT0FBQW15RCxXQUFBaG9ELE9BQUFuSyxPQUFBbXlELFdBQUFqb0QsUUFBQWdvRCxRQUFBLEdBQ0F4b0QsT0FBQStNLFFBQUEsbUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBLFVBQUEzSSxjQUFBNEksY0FDQTZGLFNBQUE1TixLQUFBLFdBQ0FtRSxVQUFBRyxLQUFBLHdCQUFBL0gsZUFPQTRCLE9BQUFpd0QsTUFDQUMsS0FBQSxHQUNBQyxTQUFBLElBRUFud0QsT0FBQW93RCxRQUFBLEdBR0FodkQsU0FBQXl1RCxZQUdBN3ZELE9BQUErdkQsY0FBQWlDLGFBQUFqd0QsSUFBQS9CLE9BQUFxd0QsYUFBQUUsSUFBQSxHQUFBLEVBRUF2d0QsT0FBQTh2RCxRQUFBRCxXQUNBN3ZELE9BQUE4dkQsUUFBQVUsS0FBQXlCLFNBQUE5bEQsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBNnRDLFNBQUF6d0QsT0FBQTh2RCxRQUFBVyxVQUFBLEdBQUFDLFVBQ0Exd0QsT0FBQTJ3RCxZQUFBLEVBR0Ezd0QsT0FBQW95RCxXQUFBLFNBQUExdUMsR0FDQSxHQUFBQSxFQUVBeGpCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHNCLE9BQUFuVCxRQUFBdlksR0FBQS9CLE9BQUE4dkQsUUFBQS8yQyxXQUFBL1ksT0FBQTh2RCxRQUFBLFNBQUF4bUQsVUFDQUksT0FBQStNLFFBQUEsbUJBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBLFVBQUEzSSxjQUFBNEksa0JBR0EsQ0FBQXhKLFVBQUFtQixNQUNBekIsU0FBQSx5UEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLFNBTUEzQixPQUFBNHdELGdCQUFBLFNBQUEzeEMsS0FDQWpmLE9BQUEyd0QsV0FBQTN3RCxPQUFBMndELGNBQUEsR0FBQSxHQUFBLEdBR0Ezd0QsT0FBQXF5RCxlQUFBLFdBRUEsR0FBQSxLQUFBcnlELE9BQUFpd0QsS0FBQUMsTUFBQSxLQUFBbHdELE9BQUFpd0QsS0FBQUUsU0FDQSxDQUFBL3ZELFVBQUFtQixNQUNBekIsU0FBQSx5UEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLFdBR0E4ckIsUUFBQTZrQyxVQUFBN25DLFNBQUF6cUIsT0FBQTh2RCxRQUFBcmxDLFNBQUEybEMsUUFBQXB3RCxPQUFBaXdELEtBQUFDLE1BQ0EsU0FBQTVtRCxVQUdBLEdBRkFJLE9BQUErTSxRQUFBLG9CQUVBelcsT0FBQTh2RCxRQUFBLzJDLFdBQUEvWSxPQUFBcXdELGFBQUF0M0MsVUFBQSxDQUNBLEdBQUF3NEMsS0FBQVIsS0FBQS93RCxPQUFBOHZELFFBQUFybEMsU0FBQSttQyxPQUFBLElBQUF4eEQsT0FBQWl3RCxLQUFBQyxNQUNBbnFELFVBQUEyckQsSUFBQSxXQUFBSCxLQUNBeHJELFNBQUEyckQsSUFBQSxjQUFBMXhELE9BQUE4dkQsUUFBQXJsQyxVQUNBMWtCLFNBQUEyckQsSUFBQSxZQUFBMXhELE9BQUFxd0QsYUFBQUMsTUFDQXZxRCxTQUFBMnJELElBQUEsTUFBQTF4RCxPQUFBOHZELFFBQUEvMkMsVUFDQSxJQUFBdzVDLFNBQ0EsUUFBQXZ5RCxPQUFBOHZELFFBQUFXLFNBQ0EsSUFBQSxHQUNBOEIsU0FBQSxPQUNBLE1BQ0EsS0FBQSxHQUNBQSxTQUFBLFNBQ0EsTUFDQSxLQUFBLEdBQ0FBLFNBQUEsT0FDQSxNQUNBLEtBQUEsR0FDQUEsU0FBQSxRQUNBLE1BQ0EsU0FDQUEsU0FBQSxpQkFHQXhzRCxTQUFBMnJELElBQUEsWUFBQWEsVUFFQXZ5RCxPQUFBMndELFlBQUEsRUFDQTN3RCxPQUFBaXdELEtBQUFDLEtBQUEsR0FDQWx3RCxPQUFBaXdELEtBQUFFLFNBQUEsSUFFQSxTQUFBbnZELGVBQ0EwSSxPQUFBQyxNQUFBLFVBQUEzSSxjQUFBNEksZUFNQTVKLE9BQUE2d0QsZUFBQSxXQUVBN3dELE9BQUEyd0QsWUFBQSxJQUtBM3dELE9BQUFrYSxLQUFBLFNBQUFULE9BQ0FBLFFBQ0F2WixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFFQThzQixPQUFBK2tDLFdBQUF2QyxLQUFBandELE9BQUFpd0QsS0FBQUUsVUFBQW53RCxPQUFBOHZELFFBQUEsU0FBQXhtRCxVQUNBSSxPQUFBK00sUUFBQSxpQkFFQSxJQUFBZzhDLE1BQ0FBLElBQUExNUMsVUFBQXpQLFNBQUF5UCxVQUNBMDVDLEdBQUFuQyxLQUFBaG5ELFNBQUE0UCxNQUFBLElBQUE1UCxTQUFBNlAsS0FDQSxJQUFBODFCLElBQUFqdkMsT0FBQTRLLFdBQUF1QixPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUFyUCxTQUFBcVAsWUFBQSxHQUNBczRDLEdBQUFnQixTQUFBOWxELE9BQUEsU0FBQXlXLEdBQUEsTUFBQUEsR0FBQTZ0QyxTQUFBbm5ELFNBQUFtbkQsVUFBQSxFQUNBZ0MsSUFBQXZCLE9BQUFqaUIsR0FBQXIyQixZQUNBNjVDLEdBQUFqQyxLQUFBUyxHQUFBUCxVQUNBMXdELE9BQUFteUQsV0FBQXh2RCxLQUFBOHZELE1BQ0FoakQsU0FBQTVOLEtBQUEsV0FDQW1FLFVBQUFHLEtBQUEsd0JBQUEvSCxxQkN4TEEsV0FDQSxZQUVBLElBQUF5SCxxQkFBQWpJLFFBQUFDLE9BQUEsc0JBRUFnSSxxQkFBQTlGLFdBQUEsY0FBQSxTQUFBLGFBQUEsV0FBQSxZQUFBLFFBQUEsVUFBQSxZQUFBLFNBQUEsV0FBQSxjQUFBLGdCQUNBLFNBQUFDLE9BQUE4RixXQUFBQyxTQUFBQyxVQUFBOUYsTUFBQTJrQixRQUFBemtCLFVBQUFxdEIsT0FBQXdrQyxTQUFBOWtDLFlBQUF1bEMsZUFDQXR4RCxTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsYUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsWUFHQUwsV0FBQU0sU0FBQSxtQkFFQXBHLE9BQUF3SCxRQUFBLFNBQUFDLGlCQUNBekgsT0FBQTBILGNBQUFELGtCQUNBekgsT0FBQTJILFNBQUEzSCxPQUFBMkgsU0FFQTNILE9BQUEwSCxhQUFBRCxnQkFFQUcsRUFBQSxRQUFBQyxLQUFBLFdBRUFELEVBQUFuQyxNQUFBcUMsY0FBQUMsU0FBQSw4QkFHQUgsRUFBQSxNQUFBSCxnQkFBQSxNQUFBSyxjQUFBQyxTQURBL0gsT0FBQTJILFFBQ0EsaUNBRUEscUNBSUF6SCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFHQVgsT0FBQTJ5RCxnQkFBQSxTQUFBQyxlQUNBLEdBQUFsakMsY0FBQTF2QixPQUFBbXlELFdBQUFqb0QsUUFBQTBvRCxjQUNBOXNELFlBQUEwRCxnQkFBQUMsYUFBQSxFQUVBLElBQUFtbUIsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLGtCQUNBNEIsS0FBQSxLQUNBK1ksU0FBQSxTQUNBQyxVQUFBLEVBQ0FrVixZQUFBLGFBQ0E3ZixTQUNBNi9DLFdBQUEsV0FDQSxNQUFBLEtBQUErQyxjQUFBQSxjQUFBLFNBRUFob0QsV0FBQSxXQUNBLE1BQUF1aUIsY0FFQXlpQyxTQUFBLFdBQ0EsTUFBQXFDLGFBSUFyaUMsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUFtdkQsZUFFQWxyRCxXQUFBMEQsZ0JBQUFDLGFBQUEsR0FDQXJJLFNBQUE0dkQsZ0JBQ0EsV0FBQUEsY0FBQSxJQUNBaHhELE9BQUFteUQsV0FBQXh2RCxLQUFBcXVELGNBQUEsSUFFQSxZQUFBQSxjQUFBLEtBRUFoeEQsT0FBQW15RCxXQUFBemlDLGNBQUFzaEMsY0FBQSxJQUVBLFdBQUFBLGNBQUEsSUFFQWh4RCxPQUFBbXlELFdBQUFob0QsT0FBQXVsQixhQUFBLE9BS0ExdkIsT0FBQTRLLFdBQUF1aUIsWUFDQWp0QixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBc0MsU0FBQXRnQixTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUFteUQsYUFDQSxLQUFBLEdBQUEvaUMsR0FBQSxFQUFBQSxFQUFBOWxCLFNBQUE1RCxPQUFBMHBCLElBQUEsQ0FDQSxHQUFBeWpDLE9BQUF2cEQsU0FBQThsQixHQUNBNmYsR0FBQWp2QyxPQUFBNEssV0FBQXVCLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQXJQLFNBQUE4bEIsR0FBQXpXLFlBQUEsR0FDQXM0QyxHQUFBZ0IsU0FBQTlsRCxPQUFBLFNBQUF5VyxHQUFBLE1BQUFBLEdBQUE2dEMsU0FBQW5uRCxTQUFBOGxCLEdBQUFxaEMsVUFBQSxFQUNBb0MsT0FBQTNCLE9BQUFqaUIsR0FBQXIyQixZQUNBaTZDLE1BQUFyQyxLQUFBUyxHQUFBUCxVQUVBMXdELE9BQUFteUQsV0FBQXh2RCxLQUFBa3dELE9BR0F6eEQsU0FBQXN4RCxlQUFBLE9BQUFBLGVBQ0FqbEMsT0FBQW5WLE9BQUF2VyxHQUFBMndELGdCQUFBampELFNBQUE1TixLQUFBLFNBQUFmLE1BQ0FkLE9BQUEyeUQsZ0JBQUE3eEQsT0FDQSxTQUFBRSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEseUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EseUJBQUFPLGNBQUE0SSxlQUdBLFNBQUE1SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxxQkNyR0EsV0FFQSxZQUVBLElBQUFXLGtCQUFBM00sUUFBQUMsT0FBQSxtQkFDQTBNLGtCQUFBeEssV0FBQSxpQkFBQSxTQUFBLGFBQUEsV0FBQSxRQUFBLG9CQUFBLFlBQUEsYUFBQSxnQkFBQSx1QkFBQSxXQUFBLFdBQUEsYUFBQSxlQUFBLGlCQUFBLGVBQUEsY0FBQSxZQUFBLE9BQUEsTUFDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQTdGLE1BQUFzQixrQkFBQXBCLFVBQUFxSyxXQUFBMmlCLGNBQUEwbEMscUJBQUFDLFNBQUFDLFNBQUE5bkQsV0FBQStuRCxhQUFBQyxlQUFBQyxhQUFBQyxZQUFBL25ELFVBQUFnb0QsS0FBQWhzQixLQUNBcm5DLE9BQUF1TixVQUFBOUMsV0FFQXpLLE9BQUFzekQsWUFBQWxtQyxjQUNBcHRCLE9BQUErc0IsU0FBQWltQyxTQUNBaHpELE9BQUFteUQsV0FBQWpuRCxXQUNBbEwsT0FBQXV6RCxhQUFBeHRELFNBQUFFLElBQUEsWUFXQSxLQUFBLEdBVEF1dEQsb0JBQUEsU0FBQXQ0QyxHQUNBLElBQUEsR0FBQWtVLEdBQUEsRUFBQUEsRUFBQWxVLEVBQUF4VixPQUFBMHBCLElBQ0EsR0FBQSxHQUFBbFUsRUFBQWtVLEdBQUE1aUIsWUFDQSxPQUFBLENBR0EsUUFBQSxHQUdBSixHQUFBLEVBQUFBLEdBQUErbUQsYUFBQXp0RCxPQUFBMEcsTUFDQSxpQkFBQSttRCxhQUFBL21ELElBQUF5SyxlQUFBLGVBQUFzOEMsYUFBQS9tRCxJQUFBeUssaUJBQ0FzOEMsYUFBQS9tRCxJQUFBN0QsVUFBQSxFQUlBLEtBQUEsR0FBQXBILEdBQUEsRUFBQUEsRUFBQSt4RCxlQUFBeHRELE9BQUF2RSxJQUFBLENBQ0EsR0FBQWd0QixtQkFDQUMsZUFBQThrQyxlQUFBL3hELEdBQUErZixpQkFDQSxJQUFBa04sZUFBQTFvQixPQUFBLEVBQUEsQ0FFQSxHQUFBMm9CLGNBQUFELGVBQUFqaUIsT0FBQSxTQUFBbWlCLElBQUEsTUFBQSxZQUFBQSxHQUFBanRCLFNBQUEsR0FDQWt0QixhQUFBSCxlQUFBamlCLE9BQUEsU0FBQW1pQixJQUFBLE1BQUEsWUFBQUEsR0FBQWp0QixTQUFBLEdBQ0FtdEIsWUFBQUosZUFBQWppQixPQUFBLFNBQUFtaUIsSUFBQSxNQUFBLGFBQUFBLEdBQUFqdEIsUUFBQSxRQUFBaXRCLEdBQUFqdEIsU0FBQSxFQUVBbXRCLGNBQUFMLGVBQUF4ckIsS0FBQTZyQixhQUNBRCxjQUFBSixlQUFBeHJCLEtBQUE0ckIsY0FDQUYsY0FBQUYsZUFBQXhyQixLQUFBMHJCLGtCQUVBRixnQkFBQXhyQixLQUFBeXJCLGVBQUEsR0FHQThrQyxnQkFBQS94RCxHQUFBK2YscUJBQ0FneUMsZUFBQS94RCxHQUFBK2Ysa0JBQUFpTixlQUdBbnVCLE9BQUF5ekQsY0FBQVIsYUFBQTltRCxPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUEzUyxTQUFBZ3hELFNBQUFoeEQsVUFDQXBFLFFBQUF5TSxRQUFBckssT0FBQXl6RCxjQUFBLFNBQUFDLEtBQ0FBLElBQUFuckQsVUFBQSxFQUNBbXJELElBQUExdUQsTUFBQW11RCxhQUFBaG5ELE9BQUEsU0FBQUMsSUFBQSxNQUFBQSxJQUFBNkosUUFBQXk5QyxJQUFBejlDLFFBQUEsWUFBQTdKLEdBQUF5SyxrQkFHQTdXLE9BQUEyekQsaUJBQUFULGVBQUEvbUQsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBbWQsVUFBQXZZLFNBQUFFLElBQUEsbUJBQ0EsS0FBQSxHQUFBMnRELFdBQUEsRUFBQUEsVUFBQTV6RCxPQUFBMnpELGlCQUFBanVELE9BQUFrdUQsWUFHQTV6RCxPQUFBMnpELGlCQUFBQyxXQUFBQyxpQkFBQSxPQUFBN3pELE9BQUEyekQsaUJBQUFDLFdBQUFqdkMsb0JBQUEza0IsT0FBQTJ6RCxpQkFBQUMsV0FBQWp2QyxtQkFBQSxFQUNBbXVDLHFCQUFBM21ELE9BQUEsU0FBQTJuRCxJQUFBLE1BQUFBLElBQUEveEQsSUFBQS9CLE9BQUEyekQsaUJBQUFDLFdBQUFqdkMscUJBQUEsR0FBQUMsVUFDQSxHQUVBNWtCLE9BQUEyekQsaUJBQUFDLFdBQUFHLFlBQUEsYUFBQS96RCxPQUFBMnpELGlCQUFBQyxXQUFBMXlDLGtCQUFBLEdBQUE3ZixRQUFBLEdBQUEsRUFDQXJCLE9BQUEyekQsaUJBQUFDLFdBQUE1dUQsTUFBQW11RCxhQUFBaG5ELE9BQUEsU0FBQUMsSUFBQSxNQUFBQSxJQUFBQyxlQUFBck0sT0FBQTJ6RCxpQkFBQUMsV0FBQXZuRCxnQkFBQSxpQkFBQUQsR0FBQXlLLGVBQUEsZUFBQXpLLEdBQUF5SyxrQkFFQSxHQUFBN1csT0FBQTJ6RCxpQkFBQUMsV0FBQWwxQyxnQkFBQSxHQUFBMWUsT0FBQTJ6RCxpQkFBQUMsV0FBQWwxQyxnQkFBQSxHQUFBMWUsT0FBQTJ6RCxpQkFBQUMsV0FBQWwxQyxrQkFDQSxJQUFBMWUsT0FBQTJ6RCxpQkFBQUMsV0FBQTV1RCxNQUFBVSxPQUFBMUYsT0FBQTJ6RCxpQkFBQUMsV0FBQUksUUFBQSxFQUVBUixtQkFBQXh6RCxPQUFBMnpELGlCQUFBQyxXQUFBNXVELFNBQUFoRixPQUFBMnpELGlCQUFBQyxXQUFBSSxRQUFBLEdBT0FoMEQsUUFBQWlOLGNBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUNBak4sT0FBQTZlLGVBQUEzVCxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxHQUNBakcsT0FBQWkwRCxpQkFDQWowRCxPQUFBazBELHdCQUNBbDBELE9BQUFtMEQsZ0JBQ0FuMEQsT0FBQW8wRCx1QkFDQXAwRCxPQUFBcTBELFdBQUEsRUFDQXIwRCxPQUFBczBELFVBQ0F0MEQsT0FBQXUwRCxjQUFBLEVBQ0F2MEQsT0FBQXcwRCxhQUNBeDBELE9BQUF5MEQsZ0JBQUEsRUFDQXowRCxPQUFBMDBELFNBQ0ExMEQsT0FBQTIwRCxRQUVBLElBQUFua0Qsa0JBQUEsU0FBQWxSLEdBQ0EsR0FBQThJLEdBQUE5SSxFQUFBa1YsT0FBQSxFQUFBLEdBQ0FDLEVBQUFuVixFQUFBa1YsT0FBQSxFQUFBLEdBQUEsRUFDQUUsR0FBQXBWLEVBQUFrVixPQUFBLEVBQUEsR0FDQUcsRUFBQXJWLEVBQUFrVixPQUFBLEdBQUEsR0FDQUksR0FBQXRWLEVBQUFrVixPQUFBLEdBQUEsR0FDQUssSUFBQXZWLEVBQUFrVixPQUFBLEdBQUEsR0FDQTdCLFFBQUEsR0FBQXZDLE1BQUFoSSxFQUFBcU0sRUFBQUMsR0FBQUMsRUFBQUMsR0FBQUMsSUFDQSxPQUFBbEMsVUFHQTBHLGlCQUFBLFNBQUEyRSxPQUNBLEdBQ0ExZSxHQURBMmUsV0FHQTNlLEdBQUE4QixTQUFBNGMsTUFBQSxHQUFBNU4sTUFBQTROLE9BQ0EsR0FBQTVOLEtBRUEsSUFBQTJELFFBQUF6VSxFQUFBZ1YsV0FBQThELFVBQUEsSUFDQThGLEtBQUEsRUFDQSxRQUFBbkssT0FBQVMsT0FBQSxFQUFBLElBQ0EsSUFBQSxNQUNBMEosS0FBQSxLQUNBLE1BQ0EsS0FBQSxNQUNBQSxLQUFBLEtBQ0EsTUFDQSxLQUFBLE1BQ0FBLEtBQUEsS0FDQSxNQUNBLEtBQUEsTUFDQUEsS0FBQSxNQUlBLE1BREFELFdBQUEzZSxFQUFBNGUsTUFLQWxlLFFBQUE4VSxhQUNBQyxZQUFBLEVBQ0FDLFdBQUEsR0FFQWhWLE9BQUFpVixjQUNBalYsT0FBQXVCLEtBQUEsU0FBQTJULE9BQUEvUyxPQUNBK1MsT0FBQTNTLGlCQUNBMlMsT0FBQUMsa0JBRUFuVixPQUFBaVYsV0FBQTlTLFFBQUEsRUFJQSxJQUFBb2QseUJBQUEsV0FFQSxHQUFBLE9BQUF2ZixPQUFBMjBELE1BQUFyN0MsVUFBQSxDQUVBLEdBQUE0SyxhQUFBLEdBQUE5VCxNQUFBcFEsT0FBQTIwRCxNQUFBQyxXQUFBLzZDLGFBQ0E3WixRQUFBMjBELE1BQUFDLFVBQUExd0MsWUFDQWxrQixPQUFBMjBELE1BQUFyN0MsVUFBQSxVQUNBLENBRUEsR0FBQW5SLEdBQUFuSSxPQUFBMjBELE1BQUFDLFVBQUF0Z0QsV0FBQXBLLFFBQUEsT0FBQSxDQUNBbEssUUFBQTIwRCxNQUFBQyxVQUFBNTBELE9BQUEyMEQsTUFBQUMsVUFBQXRnRCxXQUFBOEQsVUFBQSxFQUFBalEsSUFvQkEsSUFmQW5JLE9BQUFnUyxPQUFBLFdBQ0FsTSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBakksa0JBQUF1TyxRQUFBLFdBSUEvUCxPQUFBZ2YsTUFBQSxTQUFBQyxLQUNBLEdBQUFDLFVBQUFELEtBQUFFLE9BQUFqZCxNQUNBa2QsSUFBQUYsU0FBQUcsU0FBQUgsU0FBQS9jLEtBQ0EsS0FBQWlkLEtBQUEsSUFBQUEsS0FBQUEsSUFBQSxLQUFBLEdBQUFBLEtBQUFBLElBQUEsTUFDQUYsU0FBQUksYUFBQSxFQUNBSixTQUFBM2MsZ0JBQUEyYyxTQUFBM2MsbUJBSUEsU0FBQXd3RCxTQUFBLENBRUEveUQsT0FBQTIwRCxNQUFBLzJELFFBQUErWixLQUFBbzdDLFVBQ0EveUQsT0FBQTIwRCxNQUFBQyxXQUFBMU8sS0FBQTExQyxpQkFBQXhRLE9BQUEyMEQsTUFBQUMsV0FBQTNrRCxLQUFBTyxpQkFBQXhRLE9BQUEyMEQsTUFBQUMsWUFFQTUwRCxPQUFBNjBELFlBQUEzcEQsV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBMjBELE1BQUE1N0MsWUFBQSxFQUVBLEtBQUEsR0FBQXBFLEdBQUEsRUFBQUEsRUFBQTNVLE9BQUF5ekQsY0FBQS90RCxPQUFBaVAsSUFDQTNVLE9BQUF5ekQsY0FBQTkrQyxHQUFBbWdELGlCQUFBOTBELE9BQUEyMEQsTUFBQUcsa0JBQ0E5MEQsT0FBQXl6RCxjQUFBOStDLEdBQUFwTSxVQUFBLEVBSUEsS0FBQSxHQUFBd3NELEtBQUEsRUFBQUEsSUFBQS8wRCxPQUFBMnpELGlCQUFBanVELE9BQUFxdkQsTUFHQSxJQUFBLEdBREFDLE1BQUFELElBQ0FsOEMsR0FBQSxFQUFBQSxHQUFBN1ksT0FBQTJ6RCxpQkFBQXFCLE1BQUFod0QsTUFBQVUsT0FBQW1ULEtBQUEsQ0FFQSxHQUFBbzhDLFNBQUE3QixZQUFBam5ELE9BQUEsU0FBQStvRCxLQUFBLE1BQUFBLEtBQUEvK0MsY0FBQW5XLE9BQUEyekQsaUJBQUFxQixNQUFBaHdELE1BQUE2VCxJQUFBMUMsZUFBQSxFQUNBL1UsVUFBQTZ6RCxVQUFBajFELE9BQUEyekQsaUJBQUFxQixNQUFBaHdELE1BQUE2VCxJQUFBdFEsVUFBQSxRQUlBLENBRUEsR0FBQWlhLFdBQUFuSixrQkFDQXJaLFFBQUEyMEQsT0FBQUMsV0FBQTFPLEtBQUExakMsVUFBQSxHQUFBdlMsS0FBQXVTLFVBQUEsSUFBQWxKLFVBQUFrSixVQUFBLEdBQUF6SixVQUFBaFQsU0FBQUUsSUFBQSxRQUNBakcsT0FBQTYwRCxZQUFBM3BELFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBaFQsU0FBQUUsSUFBQSxTQUFBLEdBTUFqRyxPQUFBa1gsZUFBQSxTQUFBQyxPQUNBL1csVUFBQW1CLE1BQ0F6QixTQUFBLHNQQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFNBRUExQixPQUFBb1gsUUFBQUQsTUFDQW5YLE9BQUFxWCxPQUFBNU0sV0FBQSxVQUFBekssT0FBQW9YLFFBQUEsVUFFQXpWLEtBQUEsT0FLQSxJQUFBd3pELG1CQUFBLFNBQUF4Z0QsR0FDQSxHQUFBeWdELFFBOEJBLE9BN0JBQSxNQUFBdDVDLFlBQUFuSCxFQUFBbUgsWUFDQXM1QyxLQUFBNzFCLFVBQUE1cUIsRUFBQTRxQixVQUNBNjFCLEtBQUF6c0IsS0FBQWgwQixFQUFBZzBCLEtBQ0F5c0IsS0FBQXY0QyxRQUFBbEksRUFBQWtJLFFBQ0F1NEMsS0FBQTkyQyxTQUFBM0osRUFBQTJKLFNBQ0E4MkMsS0FBQXhzQixVQUFBajBCLEVBQUFpMEIsVUFDQXdzQixLQUFBdHNCLGVBQUFuMEIsRUFBQW0wQixlQUNBc3NCLEtBQUEvK0IsbUJBQUExaEIsRUFBQTBoQixtQkFDQSsrQixLQUFBaC9CLFVBQUF6aEIsRUFBQXloQixVQUNBZy9CLEtBQUFDLGlCQUFBMWdELEVBQUEwZ0QsaUJBQ0FELEtBQUExc0IsZ0JBQUEvekIsRUFBQSt6QixnQkFDQTBzQixLQUFBbi9DLE9BQUF0QixFQUFBc0IsT0FDQW0vQyxLQUFBRSx3QkFBQTNnRCxFQUFBMmdELHdCQUNBRixLQUFBRyxVQUFBNWdELEVBQUE0Z0QsVUFDQUgsS0FBQTVyQixnQkFBQTcwQixFQUFBNjBCLGdCQUNBNHJCLEtBQUFuckIsWUFBQXQxQixFQUFBczFCLFlBQ0FtckIsS0FBQTNyQixlQUFBOTBCLEVBQUE4MEIsZUFDQTJyQixLQUFBNW9CLFlBQUE3M0IsRUFBQTYzQixZQUNBNG9CLEtBQUF0L0MsWUFBQW5CLEVBQUFtQixZQUNBcy9DLEtBQUFyL0MsYUFBQXBCLEVBQUFvQixhQUNBcS9DLEtBQUE5ZSxVQUFBM2hDLEVBQUEyaEMsVUFDQThlLEtBQUFOLGdCQUFBbmdELEVBQUFtZ0QsZ0JBQ0FNLEtBQUFwekQsUUFBQTJTLEVBQUEzUyxRQUNBb3pELEtBQUF2c0IsV0FBQSxNQUFBbDBCLEVBQUFrMEIsV0FBQSxFQUFBLEVBQ0F1c0IsS0FBQXBwQixZQUFBcjNCLEVBQUFxM0IsWUFDQW9wQixLQUFBbnBCLGlCQUFBdDNCLEVBQUFzM0IsaUJBQ0FtcEIsS0FBQTlxQixtQkFBQTMxQixFQUFBMjFCLG1CQUNBOHFCLEtBQUFuNEMsVUFBQXRJLEVBQUFzSSxVQUNBbTRDLEtBQUF6cEIsVUFBQWgzQixFQUFBZzNCLFVBQ0F5cEIsS0FHQXAxRCxRQUFBdzFELE9BQUEsU0FBQTdnRCxHQUNBLEdBQUE4ekIsTUFBQTBzQixrQkFBQXhnRCxFQUNBLElBQUFBLEVBQUFwTSxZQUFBLEVBQ0F2SSxPQUFBaTBELGNBQUF0eEQsS0FBQThsQyxVQU1BLElBSkFybkMsU0FBQXBCLE9BQUEyMEQsTUFBQUcsaUJBRUE5MEQsT0FBQWswRCxxQkFBQXZ4RCxLQUFBOHlELFVBRUF6MUQsT0FBQWkwRCxjQUFBdnVELE9BQUEsRUFBQSxDQUNBLEdBQUF1RSxLQUFBakssT0FBQWkwRCxjQUFBemxELElBQUEsU0FBQWtuRCxLQUFBLE1BQUFBLEtBQUF6L0MsU0FBQS9MLFFBQUF1K0IsS0FBQXh5QixPQUNBalcsUUFBQWkwRCxjQUFBOXBELE9BQUFGLElBQUEsS0FNQWpLLE9BQUEyMUQsZUFBQSxTQUFBaGhELEdBQ0EzVSxPQUFBcTBELFdBQUEsRUFBQXIwRCxPQUFBdTBELGNBQUEsRUFBQXYwRCxPQUFBeTBELGdCQUFBLEVBQ0F6MEQsT0FBQXMwRCxPQUFBMy9DLEdBSUEzVSxPQUFBNDFELFdBQUEsU0FBQWpoRCxHQUNBLEdBQUFraEQsWUFBQXoxRCxVQUFBbUIsTUFDQXpCLFNBQUEsK2JBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUF1TyxXQUVBL1AsT0FBQTgxRCxNQUFBLFdBQ0F0MEQsa0JBQUFFLE1BQUEsVUFHQUMsS0FBQSxNQUVBazBELFlBQUFqMEQsT0FBQUMsS0FBQSxTQUFBazBELE9BQ0EsR0FBQSxPQUFBQSxNQUFBLENBQ0EvMUQsT0FBQTIwRCxNQUFBQyxVQUFBMU8sS0FBQSxHQUFBOTFDLE1BQUF1RSxFQUFBaTBCLFdBQ0E1b0MsT0FBQTIwRCxNQUFBcUIsV0FBQXJoRCxFQUFBa0ksUUFDQTdjLE9BQUEyMEQsTUFBQTEzQyxVQUFBdEksRUFBQXNJLFVBQ0FqZCxPQUFBMjBELE1BQUFVLGlCQUFBMWdELEVBQUEwZ0QsZ0JBQ0EsSUFBQVksUUFBQWoyRCxPQUFBeXpELGNBQUF2cEQsUUFBQXlLLEVBQ0EzVSxRQUFBeXpELGNBQUF3QyxRQUFBMXRELFVBQUEsTUFNQXZJLE9BQUFrMkQsWUFBQSxXQUNBbDJELE9BQUF1MEQsY0FBQSxFQUFBdjBELE9BQUFxMEQsV0FBQSxFQUFBcjBELE9BQUF5MEQsZ0JBQUEsR0FLQXowRCxPQUFBbTJELFlBQUEsU0FBQXpsRCxVQUNBLEdBQUEra0QsWUFDQXBxRCxXQUFBaU4sT0FBQXZXLEdBQUEyTyxTQUFBeUYsZUFBQTFHLFNBQUE1TixLQUFBLFNBQUF5SCxVQUVBLEdBREFtc0QsU0FBQW5zRCxTQUNBb0gsU0FBQW5JLFlBQUEsRUFDQXZJLE9BQUFtMEQsYUFBQXh4RCxLQUFBOHlELGNBTUEsSUFKQXIwRCxTQUFBcEIsT0FBQTIwRCxNQUFBRyxpQkFFQTkwRCxPQUFBbzBELG9CQUFBenhELEtBQUE4eUQsVUFFQXoxRCxPQUFBbTBELGFBQUF6dUQsT0FBQSxFQUFBLENBQ0EsR0FBQXVFLEtBQUFqSyxPQUFBbTBELGFBQUEzbEQsSUFBQSxTQUFBcUssSUFBQSxNQUFBQSxJQUFBMUMsZUFBQWpNLFFBQUF3RyxTQUFBeUYsYUFDQW5XLFFBQUFtMEQsYUFBQWhxRCxPQUFBRixJQUFBLEtBR0EsU0FBQWpKLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGVBS0E1SixPQUFBbzJELGtCQUFBLFNBQUFqMUQsR0FDQW5CLE9BQUF1MEQsY0FBQSxFQUFBdjBELE9BQUFxMEQsV0FBQSxFQUFBcjBELE9BQUF5MEQsZ0JBQUEsRUFDQXowRCxPQUFBdzBELFVBQUFyekQsR0FHQW5CLE9BQUFxMkQsb0JBQUEsU0FBQW43QyxHQUNBN1AsVUFBQWlOLE9BQUF2VyxHQUFBbVosRUFBQS9FLGNBQUEsU0FBQTdNLFVBQ0F0SixPQUFBMDBELE1BQUFwckQsU0FDQXRKLE9BQUEwMEQsTUFBQTRCLFNBQUFwN0MsRUFBQS9VLEtBQ0FuRyxPQUFBMDBELE1BQUE2QixPQUFBcjdDLEVBQUF4RixRQUNBMVYsT0FBQTAwRCxNQUFBOEIsU0FBQXQ3QyxFQUFBdEYsWUFDQTVWLE9BQUEwMEQsTUFBQStCLFlBQUF2ckQsV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUF6UCxTQUFBMFAsZUFBQSxHQUNBaFosT0FBQTAwRCxNQUFBZ0MsU0FBQSxHQUFBeDdDLEVBQUE3RSxTQUFBLEdBQUEsRUFDQXJXLE9BQUEwMEQsTUFBQXBGLFFBQUFwMEMsRUFBQXZGLEtBQ0EzVixPQUFBeTBELGdCQUFBLEVBQUF6MEQsT0FBQXEwRCxXQUFBLEVBQUFyMEQsT0FBQXUwRCxjQUFBLEdBQ0EsU0FBQXZ6RCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxlQU1BNUosT0FBQTIyRCxnQkFBQSxTQUFBejdDLEdBQ0EsR0FBQTA3QyxZQUFBeDJELFVBQUFtQixNQUNBekIsU0FBQSwrZEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLFdBRUEvUCxPQUFBODFELE1BQUEsV0FDQXQwRCxrQkFBQUUsTUFBQSxVQUdBQyxLQUFBLE1BRUFpMUQsWUFBQWgxRCxPQUFBQyxLQUFBLFNBQUFrMEQsT0FDQSxHQUFBLE9BQUFBLE1BQUEsQ0FLQSxHQUFBYyxNQUFBNzJELE9BQUEyekQsaUJBQUF4bkQsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBa0wsZUFBQTZPLEVBQUE3TyxnQkFBQSxHQUNBeXFELE9BQUE5MkQsT0FBQTJ6RCxpQkFBQXpwRCxRQUFBMnNELE1BQ0FFLE9BQUFGLEtBQUE3eEQsTUFBQWtGLFFBQUFnUixFQUNBbGIsUUFBQTJ6RCxpQkFBQW1ELFFBQUE5eEQsTUFBQSt4RCxRQUFBeHVELFVBQUEsTUFPQXZJLE9BQUFnM0QsU0FBQSxTQUFBdjlDLE9BQ0EsR0FBQUEsTUFBQSxDQUNBLEdBQUF3OUMsZ0JBQ0FDLFNBQUEsR0FBQTltRCxNQUFBcFEsT0FBQTIwRCxNQUFBQyxVQUFBMU8sS0FBQXBrQyxjQUFBOWhCLE9BQUEyMEQsTUFBQUMsVUFBQTFPLEtBQUFua0MsV0FBQS9oQixPQUFBMjBELE1BQUFDLFVBQUExTyxLQUFBamtDLFVBQ0FqaUIsT0FBQTIwRCxNQUFBQyxVQUFBM2tELEtBQUFpUyxXQUFBbGlCLE9BQUEyMEQsTUFBQUMsVUFBQTNrRCxLQUFBa1MsYUFBQW5pQixPQUFBMjBELE1BQUFDLFVBQUEza0QsS0FBQWtuRCxhQUNBbjNELFFBQUEyMEQsTUFBQUMsVUFBQXNDLFNBQ0EzM0MsMEJBRUFyZixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQTB5RCxLQUFBLzRDLFFBQUF2WSxHQUFBL0IsT0FBQTIwRCxNQUFBRyxpQkFBQTkwRCxPQUFBMjBELE9BQUFsbEQsU0FBQTVOLEtBQUEsU0FBQXlILFVBR0EsR0FBQXRKLE9BQUFvMEQsb0JBQUExdUQsT0FBQSxFQUNBLElBQUEsR0FBQTB4RCxNQUFBLEVBQUFBLEtBQUFwM0QsT0FBQW8wRCxvQkFBQTF1RCxPQUFBMHhELE9BQ0FwM0QsT0FBQW8wRCxvQkFBQWdELE1BQUF0QyxnQkFBQSxLQUNBenBELFVBQUFpUCxRQUFBdlksR0FBQS9CLE9BQUFvMEQsb0JBQUFnRCxNQUFBamhELGNBQUFuVyxPQUFBbzBELG9CQUFBZ0QsT0FBQTNuRCxRQUdBLElBQUF6UCxPQUFBazBELHFCQUFBeHVELE9BQUEsRUFDQSxJQUFBLEdBQUEyeEQsTUFBQSxFQUFBQSxLQUFBcjNELE9BQUFrMEQscUJBQUF4dUQsT0FBQTJ4RCxPQUNBcjNELE9BQUFrMEQscUJBQUFtRCxNQUFBdkMsZ0JBQUEsS0FDQXp0QixJQUFBL3NCO0FBQUF2WSxHQUFBL0IsT0FBQWswRCxxQkFBQW1ELE1BQUFsaEQsY0FBQW5XLE9BQUFrMEQscUJBQUFtRCxPQUFBNW5ELFFBSUEsS0FBQSxHQUFBNm5ELE1BQUEsRUFBQUEsS0FBQXQzRCxPQUFBaTBELGNBQUF2dUQsT0FBQTR4RCxPQUNBdDNELE9BQUFpMEQsY0FBQXFELE1BQUF4QyxnQkFBQXhyRCxTQUFBd3JELGdCQUNBenRCLElBQUEvc0IsUUFBQXZZLEdBQUEvQixPQUFBaTBELGNBQUFxRCxNQUFBcmhELFFBQUFqVyxPQUFBaTBELGNBQUFxRCxPQUFBN25ELFFBRUEsS0FBQSxHQUFBOG5ELE1BQUEsRUFBQUEsS0FBQXYzRCxPQUFBbTBELGFBQUF6dUQsT0FBQTZ4RCxPQUNBdjNELE9BQUFtMEQsYUFBQW9ELE1BQUF6QyxnQkFBQXhyRCxTQUFBd3JELGdCQUNBenBELFVBQUFpUCxRQUFBdlksR0FBQS9CLE9BQUFtMEQsYUFBQW9ELE1BQUFwaEQsY0FBQW5XLE9BQUFtMEQsYUFBQW9ELE9BQUE5bkQsUUFFQS9GLFFBQUErTSxRQUFBLGdCQUNBd2dELFlBQUEzdEQsUUFDQSxJQUFBeVYsV0FBQWs0QyxZQUFBLFVBQ0F6MUQsbUJBQUFFLE1BQUFxZCxXQUNBLFNBQUEvZCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsc0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esc0JBQUFPLGNBQUE0SSxlQU1BLElBQUE0dEQsa0JBQUEsU0FBQUMsT0FFQXBzRCxVQUFBaU4sT0FBQXZXLEdBQUEwMUQsUUFBQWhvRCxTQUFBNU4sS0FBQSxTQUFBNjFELEtBQ0F4M0QsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0ErMkQsSUFBQTVDLGdCQUFBLEtBQ0F6cEQsVUFBQWlQLFFBQUF2WSxHQUFBMjFELElBQUF2aEQsY0FBQXVoRCxLQUFBam9ELFVBQ0EsU0FBQXpPLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw0QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw0QkFBQU8sY0FBQTRJLGNBSUE1SixRQUFBMjNELFdBQUEsV0FDQSxHQUFBQyxlQUFBeDNELFVBQUFtQixNQUNBekIsU0FBQSx3VEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUE2M0QsR0FBQSxXQUNBcjJELGtCQUFBRSxTQUVBMUIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sYUFHQXBPLEtBQUEsTUFHQWkyRCxlQUFBaDJELE9BQUFDLEtBQUEsV0FDQSxHQUNBcTFELFdBREFsM0QsT0FBQTIwRCxNQUFBRyxnQkFDQSxHQUFBMWtELE1BQUFwUSxPQUFBMjBELE1BQUFDLFVBQUExTyxLQUFBcGtDLGNBQUE5aEIsT0FBQTIwRCxNQUFBQyxVQUFBMU8sS0FBQW5rQyxXQUFBL2hCLE9BQUEyMEQsTUFBQUMsVUFBQTFPLEtBQUFqa0MsVUFDQWppQixPQUFBMjBELE1BQUFDLFVBQUEza0QsS0FBQWlTLFdBQUFsaUIsT0FBQTIwRCxNQUFBQyxVQUFBM2tELEtBQUFrUyxhQUFBbmlCLE9BQUEyMEQsTUFBQUMsVUFBQTNrRCxLQUFBa25ELGNBQ0FuM0QsUUFBQTIwRCxNQUFBQyxVQUFBc0MsU0FFQWgzRCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQTB5RCxLQUFBQSxXQUFBdHhELEdBQUEvQixPQUFBMjBELE1BQUFHLGtCQUFBcmxELFNBQUE1TixLQUFBLFdBRUEsSUFBQSxHQUFBc0csR0FBQSxFQUFBQSxFQUFBbkksT0FBQTJ6RCxpQkFBQWp1RCxPQUFBeUMsSUFFQSxJQUFBLEdBREEydkQsT0FBQTkzRCxPQUFBMnpELGlCQUFBeHJELEdBQ0ErUyxFQUFBLEVBQUFBLEVBQUE0OEMsTUFBQTl5RCxNQUFBVSxPQUFBd1YsSUFBQSxDQUNBLEdBQUE2OEMsT0FBQUQsTUFBQTl5RCxNQUFBa1csRUFDQTY4QyxPQUFBeHZELFVBQ0FpdkQsaUJBQUFPLE1BQUE1aEQsY0FLQSxJQUFBLEdBQUF4QixHQUFBLEVBQUFBLEVBQUEzVSxPQUFBeXpELGNBQUEvdEQsT0FBQWlQLElBQUEsQ0FDQSxHQUFBcWpELE9BQUFoNEQsT0FBQXl6RCxjQUFBOStDLEVBQ0EsSUFBQXFqRCxNQUFBenZELFNBQUEsQ0FFQXl2RCxNQUFBbEQsZ0JBQUEsSUFDQSxJQUFBbUQsZUFBQTlDLGtCQUFBNkMsTUFDQTN3QixLQUFBL3NCLFFBQUF2WSxHQUFBaTJELE1BQUEvaEQsUUFBQWdpRCxlQUFBeG9ELFVBSUEvRixPQUFBK00sUUFBQSxlQUNBLElBQUFzSSxXQUFBLEtBQUEsVUFDQXZkLG1CQUFBRSxNQUFBcWQsV0FDQSxTQUFBL2QsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksaUJBTUE1SixPQUFBazRELFdBQUEsU0FBQXorQyxPQUVBLEdBQUEwK0MsZUFBQSxFQUFBQyxhQUFBLENBWUEsSUFYQXg2RCxRQUFBeU0sUUFBQXJLLE9BQUF5ekQsY0FBQSxTQUFBNEUsTUFDQUEsS0FBQTl2RCxXQUFBNHZELGNBQUEsS0FFQXY2RCxRQUFBeU0sUUFBQXJLLE9BQUEyekQsaUJBQUEsU0FBQTJFLE1BQ0EsSUFBQSxHQUFBcmdELElBQUEsRUFBQUEsR0FBQXFnRCxLQUFBdHpELE1BQUFVLE9BQUF1UyxLQUNBcWdELEtBQUF0ekQsTUFBQWlULElBQUExUCxXQUNBNnZELGFBQUEsRUFDQW5nRCxHQUFBcWdELEtBQUF0ekQsTUFBQVUsVUFJQXl5RCxjQUFBQyxhQUVBLEdBQUEzK0MsTUFBQSxDQUNBLEdBQUE4K0MsZ0JBRUFyQixTQUFBLEdBQUE5bUQsTUFBQXBRLE9BQUEyMEQsTUFBQUMsVUFBQTFPLEtBQUFwa0MsY0FBQTloQixPQUFBMjBELE1BQUFDLFVBQUExTyxLQUFBbmtDLFdBQUEvaEIsT0FBQTIwRCxNQUFBQyxVQUFBMU8sS0FBQWprQyxVQUNBamlCLE9BQUEyMEQsTUFBQUMsVUFBQTNrRCxLQUFBaVMsV0FBQWxpQixPQUFBMjBELE1BQUFDLFVBQUEza0QsS0FBQWtTLGFBQUFuaUIsT0FBQTIwRCxNQUFBQyxVQUFBM2tELEtBQUFrbkQsYUFDQW4zRCxRQUFBMjBELE1BQUFDLFVBQUFzQyxTQUNBMzNDLDBCQUVBcmYsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0EweUQsS0FBQW41QyxLQUFBbGEsT0FBQTIwRCxPQUFBbGxELFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBaXZELFlBQUFqdkQsUUFFQSxLQUFBLEdBQUFxTCxHQUFBLEVBQUFBLEVBQUEzVSxPQUFBaTBELGNBQUF2dUQsT0FBQWlQLElBQ0EzVSxPQUFBaTBELGNBQUF0L0MsR0FBQW1nRCxnQkFBQXhyRCxTQUFBd3JELGdCQUNBenRCLElBQUEvc0IsUUFBQXZZLEdBQUEvQixPQUFBaTBELGNBQUF0L0MsR0FBQXNCLFFBQUFqVyxPQUFBaTBELGNBQUF0L0MsSUFBQWxGLFFBRUEsS0FBQSxHQUFBblEsR0FBQSxFQUFBQSxFQUFBVSxPQUFBbTBELGFBQUF6dUQsT0FBQXBHLElBQ0FVLE9BQUFtMEQsYUFBQTcwRCxHQUFBdzFELGdCQUFBeHJELFNBQUF3ckQsZ0JBQ0F6cEQsVUFBQWlQLFFBQUF2WSxHQUFBL0IsT0FBQW0wRCxhQUFBNzBELEdBQUE2VyxjQUFBblcsT0FBQW0wRCxhQUFBNzBELElBQUFtUSxRQUdBL0YsUUFBQStNLFFBQUEsZUFDQSxJQUFBc0ksV0FBQXc1QyxZQUFBLFVBQ0EvMkQsbUJBQUFFLE1BQUFxZCxXQUNBLFNBQUEvZCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxtQkFLQSxDQUFBeEosVUFBQW1CLE1BQ0F6QixTQUFBLG1TQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQTYzRCxHQUFBLFdBQ0FyMkQsa0JBQUF1TyxhQUdBcE8sS0FBQSxTQUtBM0IsT0FBQXc0RCxxQkFBQSxXQUNBcDRELFVBQUFtQixNQUNBekIsU0FBQSx3ZEFJQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUE2M0QsR0FBQSxXQUNBcjJELGtCQUFBdU8sYUFHQXBPLEtBQUEsUUFHQTNCLE9BQUF5NEQsc0JBQUEsV0FDQXI0RCxVQUFBbUIsTUFDQXpCLFNBQUEsMGNBSUFDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBNjNELEdBQUEsV0FDQXIyRCxrQkFBQXVPLGFBR0FwTyxLQUFBLFFBR0EzQixPQUFBMDRELGlCQUFBLFdBQ0F0NEQsVUFBQW1CLE1BQ0F6QixTQUFBLDhRQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQTYzRCxHQUFBLFdBQ0FyMkQsa0JBQUF1TyxhQUdBcE8sS0FBQSxRQUlBbUUsV0FBQTBELGVBQUFDLGFBQUEsUUNsbUJBLFdBQ0EsWUFFQSxJQUFBOUwsZ0JBQUFDLFFBQUFDLE9BQUEsaUJBRUFGLGdCQUFBb0MsV0FBQSxZQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsU0FBQSxRQUFBLFlBQUEsVUFBQSxXQUFBLFdBQUEsYUFBQSxnQkFBQSxnQkFBQSxrQkFBQSxjQUFBLE9BQUEsTUFBQSxTQUFBLE9BQUEsc0JBQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUFDLFVBQUEvRixPQUFBQyxNQUFBRSxVQUFBeWtCLFFBQUExZ0IsU0FBQTRvQixTQUFBbGlCLFdBQUE4dEQsY0FBQXZyQyxjQUFBOFosZ0JBQUFELFlBQUFvc0IsS0FBQWhzQixJQUFBNVosT0FBQXR0QixLQUFBeXRCLHFCQUNBeHNCLFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxhQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxZQUdBbkcsT0FBQTQ0RCxXQUFBOXFDLE1BQUE2cUMsY0FBQWp6RCxRQUNBMUYsT0FBQTY0RCxVQUFBRixjQUdBMzRELE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxxQkFBQSxTQUFBeEcsVUFDQU8sT0FBQSt3QixpQkFBQTN2QixTQUFBM0IsU0FBQUEsU0FBQSxhQUNBTyxPQUFBZ3hCLG1CQUFBLGNBQUFoeEIsT0FBQSt3QixrQkFBQSxHQUFBLEVBQ0EzdkIsU0FBQTNCLFVBQ0FPLE9BQUE2NEQsVUFBQUYsY0FBQXhzRCxPQUFBLFNBQUE4dkIsR0FBQSxNQUFBQSxHQUFBMWQsWUFBQXZlLE9BQUErd0IsbUJBQ0Evd0IsT0FBQTQ0RCxXQUFBOXFDLE1BQUE5dEIsT0FBQTY0RCxVQUFBbnpELFVBRUExRixPQUFBNjRELFVBQUFGLGNBQ0EzNEQsT0FBQTQ0RCxXQUFBOXFDLE1BQUE5dEIsT0FBQTY0RCxVQUFBbnpELFdBS0ExRixPQUFBODRELGNBQUEsU0FBQUMsYUFDQWp6RCxXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLElBQUFpbUIsY0FBQTF2QixPQUFBNjRELFVBQUEzdUQsUUFBQTZ1RCxhQUVBbnBDLGNBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLGlCQUNBN2EsV0FBQSxnQkFDQTRCLEtBQUEsS0FDQStZLFNBQUEsU0FDQUMsVUFBQSxFQUNBa1YsWUFBQSxhQUNBN2YsU0FDQThpRCxxQkFBQSxXQUNBLE1BQUFsbEMscUJBQUFtQyxTQUFBdGdCLFVBRUEyZCxjQUFBLFdBQ0EsTUFBQUEsZ0JBRUEybEMsU0FBQSxXQUNBLE1BQUEsS0FBQWdHLFlBQ0ExRixLQUFBLzZDLE9BQUF2VyxHQUFBZzNELFlBQUFqRSxrQkFBQXJsRCxTQUNBLFNBRUEyakQsWUFBQSxXQUNBLE1BQUEsS0FBQTJGLFlBQ0ExRixLQUFBMkYsbUJBQUFqM0QsR0FBQWczRCxZQUFBakUsa0JBQUFybEQsU0FEQSxRQUlBdWpELFNBQUEsV0FDQSxNQUFBN3lELE1BQUFtWSxPQUFBdlcsR0FBQWdyQixTQUFBL3FCLFVBQUF5TixVQUVBdkUsV0FBQSxXQUdBLE1BRkFoTCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBc0MsU0FBQXRnQixVQUVBd2pELGFBQUEsV0FDQSxNQUFBNXJCLEtBQUE0eEIsaUJBQUE5dkQsTUFBQXBELFNBQUFFLElBQUEsa0JBQUFpekQsWUFBQSxJQUFBenBELFVBRUEwakQsYUFBQSxXQUNBLE1BQUF0b0QsWUFBQW9CLG1CQUVBaW5ELGVBQUEsV0FDQSxNQUFBL3lELE1BQUFnNUQsZ0JBQUFwM0QsR0FBQWdyQixTQUFBL3FCLFVBQUF5TixZQUtBbWdCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBMDJELGFBRUEsV0FBQUEsWUFBQSxLQUNBdjRELE9BQUE2NEQsVUFBQWwyRCxLQUFBNDFELFlBQUEsSUFDQXY0RCxPQUFBNDRELFVBQUE5cUMsTUFBQTl0QixPQUFBNjRELFVBQUFuekQsUUFFQSxXQUFBNnlELFlBQUEsS0FFQXY0RCxPQUFBNjRELFVBQUFucEMsY0FBQTZvQyxZQUFBLElBRUEsV0FBQUEsWUFBQSxLQUNBdjRELE9BQUE2NEQsVUFBQTF1RCxPQUFBdWxCLGFBQUEsR0FDQTF2QixPQUFBNDRELFVBQUE5cUMsTUFBQTl0QixPQUFBNjRELFVBQUFuekQsUUFFQUksV0FBQTBELGVBQUFDLGFBQUEsWUMzRkEsV0FDQSxZQUVBLElBQUFjLGtCQUFBM00sUUFBQUMsT0FBQSxtQkFDQTBNLGtCQUFBeEssV0FBQSxlQUFBLFNBQUEsYUFBQSxXQUFBLFFBQUEsT0FBQSxvQkFBQSxZQUFBLGFBQUEsYUFBQSxhQUFBLGVBQUEsU0FBQSxpQkFBQSxTQUFBLGFBQUEsYUFBQSxrQkFBQSx3QkFBQSxhQUFBLFNBQUEsT0FDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQTdGLE1BQUFzSyxLQUFBaEosa0JBQUFwQixVQUFBcUssV0FBQUMsV0FBQUcsV0FBQUYsYUFBQXl1RCxPQUFBQyxlQUFBQyxPQUFBMXVELFdBQUFNLFdBQUFrOEIsZ0JBQUFFLHNCQUFBOTdCLFdBQUFELE9BQUFELE1BR0F0TCxPQUFBdU4sVUFBQTlDLFdBQ0F6SyxPQUFBd0csTUFBQSt5RCxNQUFBLFVBQ0F2NUQsT0FBQXc1RCxpQkFBQSxFQUNBeDVELE9BQUF5NUQsSUFBQUMsUUFBQSxFQUFBQyxZQUFBLEdBQ0EzNUQsT0FBQTQ1RCxXQUFBanZELGFBQUEsR0FDQTNLLE9BQUE2NUQsT0FBQWx2RCxhQUFBLEdBQ0EzSyxPQUFBODVELG1CQUFBbnZELGFBQUEsR0FDQTNLLE9BQUErNUQsV0FBQXB2RCxhQUFBLEdBQ0EzSyxPQUFBZzZELG1CQUFBcnZELGFBQUEsR0FDQTNLLE9BQUFpNkQsY0FBQXR2RCxhQUFBLEdBQ0EzSyxPQUFBNkwsYUFBQWxCLGFBQUEsR0FDQTNLLE9BQUF3eUIsbUJBQUFob0IsS0FBQWlELFlBQUEsb0lBQ0F6TixPQUFBazZELG9CQUFBLEVBQ0FsNkQsT0FBQW02RCxNQUNBbjZELE9BQUFnb0Msa0JBQ0Fob0MsT0FBQW82RCxXQUFBZCxPQUNBdDVELE9BQUFpb0Msb0JBQ0Fqb0MsT0FBQWtvQyxvQkFBQSxFQUNBbG9DLE9BQUE2eEIsT0FDQTd4QixPQUFBZ00sVUFBQW5CLFdBQUFvQixrQkFDQWpNLE9BQUFxNkQsUUFBQSxVQUFBakIsT0FBQXA1RCxPQUFBZ00sVUFBQUcsT0FBQSxTQUFBQyxJQUFBLE1BQUFBLElBQUFrSyxvQkFBQThpRCxPQUFBOWlELHdCQUNBdFcsT0FBQXM2RCxhQUFBdDZELE9BQUFxNkQsUUFBQWx1RCxPQUFBLFNBQUFvdUQsS0FBQSxNQUFBLEtBQUFBLElBQUEvdEQsY0FDQXhNLE9BQUF5TSxjQUFBLEVBRUF6TSxPQUFBK3BDLGVBQUEsV0FDQTNvQyxTQUFBcEIsT0FBQXc2RCxRQUNBLEdBQUF4NkQsT0FBQXc2RCxPQUFBeHdCLGVBQ0FocUMsT0FBQXc2RCxPQUFBdndCLFlBQUEsS0FLQWpxQyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUFBclYsT0FBQXNWLGdCQUFBLEVBRUF0VixPQUFBdVYsZUFBQSxXQUNBclYsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FYLE9BQUF5VixrQkFBQSxDQUNBLElBQUF6RyxZQUNBQyxZQUNBeUcsUUFBQTFWLE9BQUE2TyxNQUFBNkcsUUFDQUMsS0FBQTNWLE9BQUE2TyxNQUFBOEcsS0FDQUMsWUFBQTVWLE9BQUE2TyxNQUFBK0csWUFDQUMsZ0JBQUE3VixPQUFBNk8sTUFBQWdILGdCQUNBQyxZQUFBOVYsT0FBQTZPLE1BQUFpSCxZQUNBQyxhQUFBL1YsT0FBQTZPLE1BQUFrSCxhQUNBQyxVQUFBaFcsT0FBQTZPLE1BQUFtSCxVQUNBQyxPQUFBalcsT0FBQTZPLE1BQUFvSCxPQUNBalUsUUFBQWhDLE9BQUE2TyxNQUFBN00sUUFDQXdLLFlBQUF4TSxPQUFBNk8sTUFBQXJDLFlBQ0EwSixVQUFBbFcsT0FBQTZPLE1BQUFxSCxVQUNBL1AsS0FBQW5HLE9BQUE2TyxNQUFBMUksS0FDQWdRLGFBQUFuVyxPQUFBNk8sTUFBQXNILGFBQ0E5SixjQUFBck0sT0FBQTZPLE1BQUF4QyxjQUNBK0osV0FBQXBXLE9BQUE2TyxNQUFBdUgsV0FDQUMsUUFBQXJXLE9BQUE2TyxNQUFBd0gsUUFDQUMsbUJBQUF0VyxPQUFBNk8sTUFBQXlILG9CQUVBeEgsS0FBQTFOLFNBQUFwQixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQUMsTUFHQUssR0FBQSxHQUFBQyxTQUNBRCxJQUFBcFEsT0FBQSxhQUFBc1EsS0FBQUMsVUFBQU4sVUFBQUMsYUFDQUUsR0FBQXBRLE9BQUEsT0FBQWlRLFVBQUFGLE1BRUF4RCxLQUFBaUwsV0FBQXBILElBQUFNLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsaUJBQ0FELFVBQUFLLGNBQUEsdUJBQ0E3VyxPQUFBMFcsSUFBQTFXLE9BQUF1TixVQUFBLFVBQUF2TixPQUFBNk8sTUFBQTZHLFFBQUEsUUFBQWhMLFdBQUEySyxXQUNBM0ssV0FBQWlNLFdBQ0EzVyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUVBclYsT0FBQTRXLFFBREE1VyxPQUFBNk8sTUFBQTJHLE1BQUFsQyxLQUFBcEosUUFBQSxTQUFBLElBQ0EsR0FDQSxFQUNBbEssT0FBQTZPLE1BQUE4RyxLQUFBYSxVQUFBYixLQUFBM1YsT0FBQTZPLE1BQUExSSxLQUFBcVEsVUFBQXJRLEtBQ0EvRSxTQUFBcEIsT0FBQTZPLE1BQUEyRyxRQUNBeFYsT0FBQTZPLE1BQUFDLEtBQUE5TyxPQUFBNk8sTUFBQTJHLE1BQ0F4VixPQUFBNk8sTUFBQTJHLE1BQUFwVSxRQUVBcEIsT0FBQXE2RCxRQUFBbHdELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQXE2RCxRQUFBMTNELEtBQUE2VCxXQUNBLElBQUFBLFVBQUFoSyxjQUNBeE0sT0FBQXM2RCxhQUFBbndELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQXM2RCxhQUFBMzNELEtBQUE2VCxZQUdBeFcsT0FBQWdNLFVBQUFoTSxPQUFBZ1gsZUFBQVIsVUFDQTNMLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlWLGtCQUFBLEVBQ0F6VixPQUFBc1YsZ0JBQUEsR0FDQSxTQUFBdFUsZUFDQWhCLE9BQUF5VixrQkFBQSxFQUNBL0wsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxlQUtBNUosT0FBQWtYLGVBQUEsU0FBQUMsT0FDQS9XLFVBQUFtQixNQUNBekIsU0FBQSxzUEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUVBMUIsT0FBQW9YLFFBQUFELE1BQ0FuWCxPQUFBcVgsT0FBQTVNLFdBQUEsVUFBQXpLLE9BQUFvWCxRQUFBLFVBRUF6VixLQUFBLFFBS0EzQixPQUFBc1gsU0FBQSxTQUFBQyxNQU9BLEdBTkF2WCxPQUFBd1gsVUFBQXhYLE9BQUE2TCxhQUNBN0wsT0FBQXlYLFNBQUE3TSxXQUNBNUssT0FBQStXLGVBQUEsR0FBQS9XLE9BQUE4VyxrQkFBQSxHQUFBOVcsT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBRUEsSUFBQUgsS0FBQSxDQWFBLEdBWEF2WCxPQUFBK1csZUFBQS9XLE9BQUFxNkQsUUFBQW53RCxRQUFBcU4sTUFBQXZYLE9BQUFnWCxjQUFBaFgsT0FBQWdNLFVBQUE5QixRQUFBcU4sTUFDQXZYLE9BQUE4VyxrQkFBQTlXLE9BQUFzNkQsYUFBQTUwRCxPQUFBLEVBQUExRixPQUFBczZELGFBQUFwd0QsUUFBQXFOLE1BQUEsR0FDQXZYLE9BQUE2TyxNQUFBalIsUUFBQStaLEtBQUFKLE1BQ0F2WCxPQUFBNk8sTUFBQWlKLFNBQUE5WCxPQUFBNkwsYUFBQU0sT0FBQSxTQUFBNEwsSUFBQSxNQUFBQSxJQUFBdkwsYUFBQXhNLE9BQUE2TyxNQUFBckMsY0FBQSxHQUFBd0wsU0FDQTFNLEtBQUFzTSxhQUFBN1YsR0FBQS9CLE9BQUE2TyxNQUFBNkcsVUFBQWpHLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBdEosT0FBQXNWLGVBQUFoTSxTQUFBdU8sT0FBQSxHQUFBLEdBQUEsR0FDQSxTQUFBN1csZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDRCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDRCQUFBTyxjQUFBNEksY0FHQXhJLFNBQUFwQixPQUFBNk8sTUFBQThHLEtBQUEsQ0FDQSxHQUFBc0MsSUFBQWpZLE9BQUE2TyxNQUFBOEcsS0FBQXVDLFlBQUEsS0FDQUMsUUFBQW5ZLE9BQUE2TyxNQUFBOEcsS0FBQXlDLFVBQUFILEdBQUEsRUFFQWpZLFFBQUE0VyxRQURBdUIsUUFBQUUsTUFBQSx5Q0FDQSxHQUNBLEVBRUFyWSxPQUFBMFcsSUFBQTFXLE9BQUF1TixVQUFBLFVBQUF2TixPQUFBNk8sTUFBQTZHLFFBQUEsUUFBQWhMLFdBQUEySyxXQUNBclYsT0FBQTZPLE1BQUFtSCxVQUFBLEdBQUE1RixNQUFBcFEsT0FBQTZPLE1BQUFtSCxXQUNBNVUsU0FBQXBCLE9BQUE2TyxNQUFBdUgsYUFBQXBXLE9BQUE2TyxNQUFBdUgsV0FBQSxHQUFBaEcsTUFBQXBRLE9BQUE2TyxNQUFBdUgsYUFDQSxPQUFBbUIsS0FBQXJCLFdBQ0EzSyxPQUFBK00sT0FBQXZXLEdBQUF3VixLQUFBckIsWUFBQXpHLFNBQUE1TixLQUFBLFNBQUFWLEdBQ0FuQixPQUFBMFgsUUFBQXZXLEVBQ0FuQixPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBYyxZQUVBLEdBQUF4WSxPQUFBNk8sTUFBQXJDLGNBQ0F4TSxPQUFBeVksaUJBQUF6WSxPQUFBeVgsU0FBQXRMLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQTNZLE9BQUEwWCxRQUFBaUIsWUFBQSxHQUFBQyxjQUNBLFNBQUE1WCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEseUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EseUJBQUFPLGNBQUE0SSxrQkFLQTVKLFFBQUE2TyxNQUFBbUgsVUFBQSxHQUFBNUYsTUFBQXBRLE9BQUE2TyxNQUFBdUgsV0FBQSxHQUFBaEcsTUFDQXBRLE9BQUEwWCxRQUFBeE0sV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUFoVCxTQUFBRSxJQUFBLFNBQUEsR0FDQWpHLE9BQUEwWCxRQUFBYSxTQUFBdlksT0FBQTBYLFFBQUF3QixNQUFBLElBQUFsWixPQUFBMFgsUUFBQXlCLEtBRUFuWixRQUFBeU0sY0FBQSxFQUVBek0sT0FBQXVaLHVCQUFBLFdBQ0EsR0FBQXZaLE9BQUE2TyxNQUFBckMsY0FDQXhNLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGVBSUE1WSxPQUFBd1osV0FBQSxTQUFBQyxPQUNBLEdBQUFBLFFBQ0F6WixPQUFBdzVELGlCQUFBLEVBQ0F0NUQsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBRUEsT0FBQVgsT0FBQTBYLFFBQUFpQixXQUFBLENBQ0EsR0FBQXlCLFlBQUE1QixZQUFBeFksT0FBQTBYLFFBQUFhLFNBQUFJLFVBQUEzWSxPQUFBMFgsUUFBQWlCLFVBRUFwTixRQUFBMk8sS0FBQUUsV0FBQTNLLFNBQUE1TixLQUFBLFNBQUF5SCxVQUVBLEdBQUEwRixZQUNBQyxZQUNBekMsWUFBQXhNLE9BQUE2TyxNQUFBckMsWUFDQW1KLEtBQUEzVixPQUFBNk8sTUFBQUMsS0FBQTZHLEtBQ0FLLFVBQUFoVyxPQUFBNk8sTUFBQW1ILFVBQ0FJLFdBQUFwVyxPQUFBNk8sTUFBQXVILFdBQ0FSLFlBQUE1VixPQUFBNk8sTUFBQStHLFlBQ0E1VCxRQUFBaEMsT0FBQW82RCxXQUFBcDRELFFBQ0FrVSxVQUFBNU0sU0FBQTRNLFVBQ0FMLGdCQUFBN1YsT0FBQTZPLE1BQUFnSCxnQkFDQUMsWUFBQTlWLE9BQUE2TyxNQUFBaUgsWUFDQUMsYUFBQS9WLE9BQUE2TyxNQUFBa0gsYUFDQU8sbUJBQUF0VyxPQUFBbTZELEdBQUE3akQsb0JBRUF4SCxLQUFBOU8sT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLHVCQUNBN1csT0FBQXE2RCxRQUFBMTNELEtBQUE2VCxXQUNBeFcsT0FBQWdNLFVBQUFySixLQUFBNlQsV0FDQTNMLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBdEIsV0FBQWlNLFdBQ0EsSUFBQUgsVUFBQWhLLGFBQUF4TSxPQUFBczZELGFBQUEzM0QsS0FBQTZULFdBQ0F4VyxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQXc1RCxpQkFBQSxHQUNBLFNBQUF4NEQsZUFDQWhCLE9BQUF3NUQsaUJBQUEsRUFDQTl2RCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0FoQixPQUFBdzVELGlCQUFBLEVBQ0E5dkQsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxnQkFPQTVKLE9BQUFxYSxTQUFBLFNBQUFaLE9BQ0EsR0FBQUEsTUFBQSxDQUNBelosT0FBQXc1RCxpQkFBQSxDQUdBLEVBQUF4NUQsT0FBQTZPLE1BQUFnSSxjQUdBLEdBRkEzVyxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQVMsU0FBQXBCLE9BQUEwWCxRQUFBeEIsVUFBQSxDQUVBLEdBQUFrRSxZQUFBNUIsWUFBQXhZLE9BQUEwWCxRQUFBYSxTQUFBSSxVQUFBM1ksT0FBQTBYLFFBQUFpQixVQUNBcE4sUUFBQTJPLEtBQUFFLFdBQUEzSyxTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUE2TyxNQUFBcUgsVUFBQTVNLFNBQUE0TSxVQUNBNUssS0FBQWdQLFFBQUF2WSxHQUFBL0IsT0FBQTZPLE1BQUE2RyxTQUFBMVYsT0FBQTZPLE9BQUFZLFNBQUE1TixLQUFBLFNBQUEwWSxjQUNBN1EsT0FBQStNLFFBQUEsZ0JBQ0E4RCxhQUFBMUQsY0FBQSx1QkFDQTdXLE9BQUFxNkQsUUFBQXI2RCxPQUFBK1csZ0JBQUF3RCxhQUNBdmEsT0FBQWdNLFVBQUFoTSxPQUFBZ1gsZUFBQXVELGFBQ0ExUCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEVBQUF6TSxPQUFBdzVELGlCQUFBLEdBQ0EsU0FBQXg0RCxlQUNBaEIsT0FBQXc1RCxpQkFBQSxFQUNBOXZELE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUF3NUQsaUJBQUEsRUFDQTl2RCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQXdhLFdBQUEsV0FDQSxHQUFBQyxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBNk8sT0FFQWlNLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGdCQUNBelcsT0FBQXE2RCxRQUFBbHdELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQWdNLFVBQUE3QixPQUFBbkssT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUFzNkQsYUFBQW53RCxPQUFBbkssT0FBQThXLGtCQUFBLEdBQ0FqTSxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEdBQ0EsU0FBQXpMLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGlCQUtBNUosT0FBQWdiLFdBQUEsV0FDQWhiLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBRUExWCxPQUFBeU0sY0FBQSxFQUtBLElBQUFpN0IsV0FBQSxTQUFBcG9DLEdBQ0EsR0FBQXFvQyxPQUFBLEdBQUF2M0IsS0FDQSxNQUFBOVEsR0FBQThCLFNBQUE5QixJQUVBcW9DLE1BQUEsR0FBQXYzQixNQUFBOVEsR0FHQSxJQUFBd1UsTUFBQTZ6QixNQUFBN2xCLGNBQ0FqTyxNQUFBOHpCLE1BQUE1bEIsV0FDQXBPLEtBQUEsSUFBQWcwQixNQUFBMWxCLFdBQUFELE1BQUEsSUFDQTRsQixZQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUNBQyxXQUFBLEdBQUF6M0IsTUFBQXczQixXQUFBL3pCLE9BQUEsSUFBQUYsSUFBQSxLQUFBRyxLQUNBLE9BQUErekIsWUFHQSxVQUFBdXhCLFFBQ0FwNUQsT0FBQXk2RCxjQUFBLDZCQUNBejZELE9BQUEwNkQsZUFBQSxPQUVBMTZELE9BQUFtNkQsR0FBQXY4RCxRQUFBK1osS0FBQXloRCxRQUVBcDVELE9BQUFtNkQsR0FBQXB5QixpQkFBQUwsVUFBQTFuQyxPQUFBbTZELEdBQUFweUIsa0JBRUEsSUFBQS9uQyxPQUFBbTZELEdBQUFsOUMsaUJBQUFqZCxRQUFBbTZELEdBQUFsOUMsVUFFQSxPQUFBamQsT0FBQW02RCxHQUFBM3ZCLGlCQUNBeHFDLE9BQUFtNkQsR0FBQTN2QixlQUFBOUMsVUFBQTFuQyxPQUFBbTZELEdBQUEzdkIsaUJBRUE2dUIsZUFBQTN6RCxPQUFBLElBQ0ExRixPQUFBaW9DLGlCQUFBb3hCLGVBQ0FyNUQsT0FBQWtvQyxvQkFBQSxHQUVBbG9DLE9BQUFtNkQsR0FBQVEsT0FBQTM2RCxPQUFBbTZELEdBQUE1dkIsV0FBQSxFQUFBdnFDLE9BQUE0NUQsV0FBQXp0RCxPQUFBLFNBQUFzVSxHQUFBLE1BQUFBLEdBQUF5M0IseUJBQUFsNEMsT0FBQW02RCxHQUFBNXZCLGFBQUEsR0FBQXF3QixRQUFBLEdBQ0E1NkQsT0FBQW02RCxHQUFBVSxRQUFBNzZELE9BQUFtNkQsR0FBQTF2QixjQUFBLEVBQUF6cUMsT0FBQWk2RCxjQUFBOXRELE9BQUEsU0FBQTJ1RCxHQUFBLE1BQUFBLEdBQUFyd0IsZUFBQXpxQyxPQUFBbTZELEdBQUExdkIsZ0JBQUEsR0FBQW93QixRQUFBLEdBQ0E3NkQsT0FBQW02RCxHQUFBWSxPQUFBLzZELE9BQUFtNkQsR0FBQS9qQyxVQUFBLEVBQUFwMkIsT0FBQTY1RCxPQUFBMXRELE9BQUEsU0FBQTg1QixJQUFBLE1BQUFBLElBQUFqcEIsVUFBQWhkLE9BQUFtNkQsR0FBQS9qQyxZQUFBLEdBQUE4UCxXQUFBLEdBQ0FsbUMsT0FBQW02RCxHQUFBYSxlQUFBaDdELE9BQUFtNkQsR0FBQTlqQyxtQkFBQSxFQUFBcjJCLE9BQUE4NUQsbUJBQUEzdEQsT0FBQSxTQUFBZzZCLElBQUEsTUFBQUEsSUFBQTlQLG9CQUFBcjJCLE9BQUFtNkQsR0FBQTlqQyxxQkFBQSxHQUFBK1AsZ0JBQUEsR0FDQXBtQyxPQUFBbTZELEdBQUFjLE9BQUFqN0QsT0FBQW02RCxHQUFBbDlDLFVBQUEsRUFBQWpkLE9BQUErNUQsV0FBQTV0RCxPQUFBLFNBQUE0USxJQUFBLE1BQUFBLElBQUFDLFVBQUFoZCxPQUFBbTZELEdBQUFsOUMsWUFBQSxHQUFBaXBCLFdBQUEsR0FDQWxtQyxPQUFBbTZELEdBQUFlLGVBQUFsN0QsT0FBQW02RCxHQUFBN3ZCLG1CQUFBLEVBQUF0cUMsT0FBQWc2RCxtQkFBQTd0RCxPQUFBLFNBQUFndkQsSUFBQSxNQUFBQSxJQUFBN3dCLG9CQUFBdHFDLE9BQUFtNkQsR0FBQTd2QixxQkFBQSxHQUFBOHdCLGdCQUFBLEtBSUFwN0QsT0FBQXk2RCxjQUFBLDRCQUNBejZELE9BQUEwNkQsZUFBQSxTQUVBMTZELE9BQUFtNkQsR0FBQXJrRCxZQUFBd2pELE9BQUF4akQsWUFDQTlWLE9BQUFtNkQsR0FBQXBrRCxhQUFBdWpELE9BQUF2akQsYUFDQS9WLE9BQUFtNkQsR0FBQS9qQyxVQUFBa2pDLE9BQUFsakMsVUFFQXAyQixPQUFBbTZELEdBQUFweUIsaUJBQUFMLFVBQUEsS0FLQTFuQyxPQUFBbTZELEdBQUE3akMsWUFBQSxLQUNBdDJCLE9BQUFtNkQsR0FBQWp4QixVQUFBLEtBQ0FscEMsT0FBQW02RCxHQUFBaHhCLE9BQUEsS0FHQW5wQyxPQUFBb3BDLGlCQUFBLFdBQ0EsUUFBQXBwQyxPQUFBMDZELGVBQ0ExNkQsT0FBQXE3RCxxQkFBQTE0RCxNQUFBMlQsbUJBQUF0VyxPQUFBbTZELEdBQUE3akQsbUJBQUEreUIsV0FBQSxHQUFBQyxnQkFBQSxLQUVBdHBDLE9BQUFpb0MsaUJBQUF0bEMsTUFBQTBtQyxXQUFBLEdBQUFDLGdCQUFBLEtBRUF0cEMsT0FBQWtvQyxvQkFBQSxHQU1BbG9DLE9BQUFpVixjQUNBalYsT0FBQThVLGFBQ0FDLFlBQUEsRUFDQUMsV0FBQSxHQUVBaFYsT0FBQXVCLEtBQUEsU0FBQTJULE9BQUEvUyxPQUNBK1MsT0FBQTNTLGlCQUNBMlMsT0FBQUMsa0JBRUFuVixPQUFBaVYsV0FBQTlTLFFBQUEsR0FLQW5DLE9BQUFnZixNQUFBLFNBQUFDLEtBQ0EsR0FBQUMsVUFBQUQsS0FBQUUsT0FBQWpkLE1BQ0FrZCxJQUFBRixTQUFBRyxTQUFBSCxTQUFBL2MsS0FDQSxLQUFBaWQsS0FBQSxJQUFBQSxLQUFBQSxJQUFBLEtBQUEsR0FBQUEsS0FBQUEsSUFBQSxNQUNBRixTQUFBSSxhQUFBLEVBQ0FKLFNBQUEzYyxnQkFBQTJjLFNBQUEzYyxrQkFLQSxJQUFBK3dCLFNBQUEsU0FBQUMsSUFBQUMsSUFBQTNlLEtBQ0EsR0FBQTRlLEtBQUEsQ0FDQSxPQUFBLEdBQUFGLEtBQ0FFLElBQUEsR0FBQUYsSUFBQSxFQUFBQyxJQUFBLEdBQUEsRUFBQTNlLElBQUEsTUFDQSxHQUFBNGUsS0FBQUMsUUFBQSxLQUdBRCxJQUFBLEVBQUFGLElBQUEsRUFBQUMsSUFBQSxHQUFBLEVBQUEzZSxJQUFBLEtBQ0EsSUFBQTZlLFFBQUEsS0FLQTRCLFdBQUEsU0FBQS9CLEtBQ0EsRUFBQUEsTUFDQUEsSUFBQUEsSUFBQWpmLFdBR0FpZixJQUFBQSxJQUFBbmIsVUFBQSxHQUVBLElBQUE5WSxHQUFBZ21CLEtBQUEwUyxNQUFBekUsS0FDQTBFLFNBQUEsSUFBQTFFLElBQUFqMEIsR0FDQW1WLEVBQUE2USxLQUFBMFMsTUFBQUMsVUFDQTkyQixHQUFBLElBQUE4MkIsU0FBQXhqQixJQUFBaWYsUUFBQSxFQUVBLE9BQUEsR0FBQXAwQixFQUFBLElBQUFtVixFQUFBLElBQUF0VCxFQUlBbkIsUUFBQWs0QixjQUFBLFdBQ0EsR0FBQSxRQUFBbDRCLE9BQUEwNkQsZ0JBQ0EsR0FBQSxNQUFBMTZELE9BQUF3NkQsT0FBQWxrQyxZQUVBLEdBQUFsMUIsU0FBQXBCLE9BQUE2eEIsSUFBQStCLE9BQUF4eUIsU0FBQXBCLE9BQUE2eEIsSUFBQWlDLE9BQUExeUIsU0FBQXBCLE9BQUE2eEIsSUFBQWtDLE9BQ0EzeUIsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLE9BQUE1eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW9DLE9BQUE3eUIsU0FBQXBCLE9BQUE2eEIsSUFBQXFDLE1BRUFsMEIsT0FBQXc2RCxPQUFBMWtELFlBQUF3ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxPQUNBL3pCLE9BQUF3NkQsT0FBQXprRCxhQUFBdWQsUUFBQXR6QixPQUFBNnhCLElBQUFtQyxNQUFBaDBCLE9BQUE2eEIsSUFBQW9DLE1BQUFqMEIsT0FBQTZ4QixJQUFBcUMsT0FFQWwwQixPQUFBNnhCLFdBQ0EsQ0FFQSxHQUFBc0csVUFBQS8zQixVQUFBbUIsTUFDQXpCLFNBQUEsdVRBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBdzJCLFVBQUF2MkIsT0FBQUMsS0FBQSxZQUNBVCxTQUFBcEIsT0FBQTZ4QixJQUFBK0IsT0FBQXh5QixTQUFBcEIsT0FBQTZ4QixJQUFBaUMsT0FBQTF5QixTQUFBcEIsT0FBQTZ4QixJQUFBa0MsUUFDQW5zQixFQUFBLFVBQUF6RSxTQUNBL0IsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLE9BQUE1eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW9DLE9BQUE3eUIsU0FBQXBCLE9BQUE2eEIsSUFBQXFDLFFBQ0F0c0IsRUFBQSxVQUFBekUsUUFDQW5ELE9BQUF3NkQsT0FBQWxrQyxZQUFBLFlBS0EsSUFBQWwxQixTQUFBcEIsT0FBQXc2RCxPQUFBMWtELFlBQUEsQ0FDQSxHQUFBdWYsUUFBQUMsV0FBQXQxQixPQUFBdzZELE9BQUExa0QsYUFBQXhCLFdBQ0FpaEIsWUFBQUYsT0FBQXoyQixNQUFBLElBQ0FvQixRQUFBNnhCLElBQUErQixNQUFBMkIsWUFBQSxHQUNBdjFCLE9BQUE2eEIsSUFBQWlDLE1BQUF5QixZQUFBLEdBQ0F2MUIsT0FBQTZ4QixJQUFBa0MsTUFBQXdCLFlBQUEsRUFFQSxJQUFBQyxTQUFBRixXQUFBdDFCLE9BQUF3NkQsT0FBQXprRCxjQUNBMGYsYUFBQUQsUUFBQTUyQixNQUFBLElBQ0FvQixRQUFBNnhCLElBQUFtQyxNQUFBLEdBQUF5QixhQUFBLEdBQ0F6MUIsT0FBQTZ4QixJQUFBb0MsTUFBQXdCLGFBQUEsR0FDQXoxQixPQUFBNnhCLElBQUFxQyxNQUFBdUIsYUFBQSxHQUVBejFCLE9BQUF3NkQsT0FBQTFrRCxZQUFBMVUsT0FBQXBCLE9BQUF3NkQsT0FBQXprRCxhQUFBM1UsWUFJQSxJQUFBLE1BQUFwQixPQUFBbTZELEdBQUE3akMsWUFFQSxHQUFBbDFCLFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxPQUNBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFtQyxPQUFBNXlCLFNBQUFwQixPQUFBNnhCLElBQUFvQyxPQUFBN3lCLFNBQUFwQixPQUFBNnhCLElBQUFxQyxNQUVBbDBCLE9BQUFtNkQsR0FBQXJrRCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsT0FDQS96QixPQUFBbTZELEdBQUFwa0QsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLE9BRUFsMEIsT0FBQTZ4QixXQUNBLENBRUEsR0FBQXlwQyxZQUFBbDdELFVBQUFtQixNQUNBekIsU0FBQSx1VEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUEyNUQsWUFBQTE1RCxPQUFBQyxLQUFBLFlBQ0FULFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxRQUNBbnNCLEVBQUEsVUFBQXpFLFNBQ0EvQixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsUUFDQXRzQixFQUFBLFVBQUF6RSxRQUNBbkQsT0FBQW02RCxHQUFBN2pDLFlBQUEsWUFLQSxJQUFBbDFCLFNBQUFwQixPQUFBbTZELEdBQUFya0QsWUFBQSxDQUNBLEdBQUF5bEQsZUFBQWptQyxXQUFBdDFCLE9BQUFtNkQsR0FBQXJrRCxhQUFBeEIsV0FDQWtuRCxtQkFBQUQsY0FBQTM4RCxNQUFBLElBQ0FvQixRQUFBNnhCLElBQUErQixNQUFBNG5DLG1CQUFBLEdBQ0F4N0QsT0FBQTZ4QixJQUFBaUMsTUFBQTBuQyxtQkFBQSxHQUNBeDdELE9BQUE2eEIsSUFBQWtDLE1BQUF5bkMsbUJBQUEsRUFFQSxJQUFBQyxnQkFBQW5tQyxXQUFBdDFCLE9BQUFtNkQsR0FBQXBrRCxjQUNBMmxELG9CQUFBRCxlQUFBNzhELE1BQUEsSUFDQW9CLFFBQUE2eEIsSUFBQW1DLE1BQUEsR0FBQTBuQyxvQkFBQSxHQUNBMTdELE9BQUE2eEIsSUFBQW9DLE1BQUF5bkMsb0JBQUEsR0FDQTE3RCxPQUFBNnhCLElBQUFxQyxNQUFBd25DLG9CQUFBLEdBRUExN0QsT0FBQW02RCxHQUFBcmtELFlBQUExVSxPQUFBcEIsT0FBQW02RCxHQUFBcGtELGFBQUEzVSxRQU9BLElBQUE4b0MsUUFBQSxTQUFBbm5CLElBQ0EsR0FBQW9uQixTQUNBeDBCLEtBQUFvTixHQUFBcE4sS0FDQUMsWUFBQW1OLEdBQUFuTixZQUNBaUgsUUFBQXpiLFNBQUEyaEIsR0FBQWxHLFFBQUFrRyxHQUFBbEcsUUFBQSxLQUNBa3JCLGlCQUFBaGxCLEdBQUFnbEIsaUJBQ0FxQyxnQkFBQWhwQyxTQUFBMmhCLEdBQUFxbkIsZ0JBQUFybkIsR0FBQXFuQixnQkFBQSxFQUNBQyxTQUFBanBDLFNBQUEyaEIsR0FBQXNuQixTQUFBdG5CLEdBQUFzbkIsU0FBQSxLQUNBcm9DLFFBQUFoQyxPQUFBbzZELFdBQUFwNEQsUUFDQWliLFVBQUE3YixTQUFBMmhCLEdBQUE5RixVQUFBOEYsR0FBQTlGLFVBQUEsRUFDQW5ILFlBQUFpTixHQUFBak4sWUFDQUMsYUFBQWdOLEdBQUFoTixhQUNBcWdCLFVBQUFoMUIsU0FBQTJoQixHQUFBcVQsVUFBQXJULEdBQUFxVCxVQUFBLEVBQ0FDLG1CQUFBajFCLFNBQUEyaEIsR0FBQXNULG1CQUFBdFQsR0FBQXNULG1CQUFBLEVBQ0FpVSxtQkFBQWxwQyxTQUFBMmhCLEdBQUF1bkIsbUJBQUF2bkIsR0FBQXVuQixtQkFBQSxFQUNBQyxXQUFBeG5CLEdBQUF3bkIsV0FDQUMsZUFBQXBwQyxTQUFBMmhCLEdBQUF5bkIsZUFBQXpuQixHQUFBeW5CLGVBQUEsS0FDQVAsWUFBQTdvQyxTQUFBMmhCLEdBQUFrbkIsYUFBQSxLQUFBbG5CLEdBQUFrbkIsWUFBQWxuQixHQUFBa25CLFlBQUEsS0FDQUQsYUFBQTVvQyxTQUFBMmhCLEdBQUFpbkIsYUFBQWpuQixHQUFBaW5CLGFBQUEsS0FDQVMsY0FBQXJwQyxTQUFBMmhCLEdBQUEwbkIsY0FBQTFuQixHQUFBMG5CLGNBQUEsS0FFQSxPQUFBTixRQUlBbnFDLFFBQUFnUyxPQUFBLFdBQ0F4USxrQkFBQUUsUUFLQSxJQUFBbXBDLGdCQUFBLFNBQUFDLE1BQUE2d0IsV0FDQSxVQUFBQSxXQUVBLFNBQUE3d0IsTUFBQTVCLFlBQ0FscEMsT0FBQW02RCxHQUFBanhCLFVBQUEsS0FDQWxwQyxPQUFBbTZELEdBQUF0OUMsUUFBQSxPQUFBN2MsT0FBQW02RCxHQUFBdDlDLFNBR0EsTUFBQWl1QixNQUFBM0IsU0FDQW5wQyxPQUFBbTZELEdBQUFoeEIsT0FBQSxLQUNBbnBDLE9BQUFtNkQsR0FBQWx3QixZQUFBbGYsV0FBQS9xQixPQUFBbTZELEdBQUFsd0IsWUFBQSxPQUFBdlcsUUFBQSxJQUdBLE9BQUFvWCxNQUFBeFUsY0FDQXQyQixPQUFBbTZELEdBQUE3akMsWUFBQSxLQUNBdDJCLE9BQUFtNkQsR0FBQXJrRCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsT0FDQS96QixPQUFBbTZELEdBQUFwa0QsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLE9BQ0FsMEIsT0FBQTZ4QixPQUNBN3hCLE9BQUFtNkQsR0FBQW40RCxRQUFBaEMsT0FBQW82RCxXQUFBcDRELFdBSUEsU0FBQThvQyxNQUFBNUIsWUFDQWxwQyxPQUFBdzZELE9BQUF0eEIsVUFBQSxLQUNBbHBDLE9BQUF3NkQsT0FBQTM5QyxRQUFBLE9BQUE3YyxPQUFBdzZELE9BQUEzOUMsU0FHQSxNQUFBaXVCLE1BQUEzQixTQUNBbnBDLE9BQUF3NkQsT0FBQXJ4QixPQUFBLEtBQ0FucEMsT0FBQXc2RCxPQUFBdndCLFlBQUFsZixXQUFBL3FCLE9BQUF3NkQsT0FBQXZ3QixZQUFBLE9BQUF2VyxRQUFBLElBR0EsT0FBQW9YLE1BQUF4VSxjQUNBdDJCLE9BQUF3NkQsT0FBQWxrQyxZQUFBLEtBQ0F0MkIsT0FBQXc2RCxPQUFBMWtELFlBQUF3ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxPQUNBL3pCLE9BQUF3NkQsT0FBQXprRCxhQUFBdWQsUUFBQXR6QixPQUFBNnhCLElBQUFtQyxNQUFBaDBCLE9BQUE2eEIsSUFBQW9DLE1BQUFqMEIsT0FBQTZ4QixJQUFBcUMsT0FDQWwwQixPQUFBNnhCLE9BQ0E3eEIsT0FBQXc2RCxPQUFBeDRELFFBQUFoQyxPQUFBbzZELFdBQUFwNEQsVUFNQWhDLFFBQUE2N0IsT0FBQSxXQUNBLEdBQUFwMkIsS0FBQW0yRCxPQUFBdjZDLE9BQUEsQ0FDQW5oQixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBaXJDLGFBR0EsSUFEQWYsZUFBQTdxQyxPQUFBbTZELEdBQUEsVUFDQW42RCxPQUFBbTZELEdBQUFya0QsWUFBQSxHQUFBOVYsT0FBQW02RCxHQUFBcmtELFlBQUEsSUFBQTZmLE1BQUEzMUIsT0FBQW02RCxHQUFBcmtELGFBQ0EyaEIsYUFBQSxXQUVBOUIsTUFBQTMxQixPQUFBbTZELEdBQUFya0QsZUFDQTlWLE9BQUFtNkQsR0FBQXJrRCxZQUFBMVUsWUFFQSxJQUFBcEIsT0FBQW02RCxHQUFBcGtELGFBQUEsTUFBQS9WLE9BQUFtNkQsR0FBQXBrRCxhQUFBLEtBQUE0ZixNQUFBMzFCLE9BQUFtNkQsR0FBQXBrRCxjQUNBNmhCLGNBQUEsV0FFQWpDLE1BQUEzMUIsT0FBQW02RCxHQUFBcGtELGdCQUNBL1YsT0FBQW02RCxHQUFBcGtELGFBQUEzVSxZQUVBLENBQ0EsR0FBQXlxQyxVQUFBM0IsT0FBQWxxQyxPQUFBbTZELEdBRUEveUIsaUJBQUFsdEIsS0FBQTJ4QixTQUFBLFNBQUF2aUMsVUFHQSxHQUZBSSxPQUFBK00sUUFBQSwwQkFDQW0xQixVQUFBdGlDLFNBQ0F0SixPQUFBaW9DLGlCQUFBdmlDLE9BQUEsRUFFQSxJQUFBLEdBQUFvbUMsS0FBQSxFQUFBQSxJQUFBOXJDLE9BQUFpb0MsaUJBQUF2aUMsT0FBQW9tQyxNQUFBLENBQ0EsR0FBQSt2QixTQUFBNzdELE9BQUFpb0MsaUJBQUE2RCxJQUNBK3ZCLFNBQUF2bEQsbUJBQUFoTixTQUFBZ04sbUJBQ0FneEIsc0JBQUFwdEIsS0FBQTJoRCxTQUFBcHNELFdBR0EsU0FBQXpPLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxrQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxrQ0FBQU8sY0FBQTRJLGNBQ0E2RixTQUFBNU4sS0FBQSxXQUNBLEdBQUFrZCxXQUFBNnNCLFVBQUEsVUFDQXBxQyxtQkFBQUUsTUFBQXFkLGVBT0EvZSxPQUFBMHFDLFNBQUEsU0FBQUMsV0FFQSxHQUFBdnBDLFNBQUFwQixPQUFBcTdELHFCQUFBLENBQ0EsR0FBQWx6RCxHQUFBbkksT0FBQXE3RCxxQkFBQW54RCxRQUFBeWdDLFVBQ0F2cEMsVUFBQXVwQyxVQUFBQywwQkFDQTVxQyxPQUFBZ29DLGVBQUFybEMsS0FBQWdvQyxXQUNBM3FDLE9BQUFxN0QscUJBQUFseEQsT0FBQWhDLEVBQUEsSUFFQW5JLE9BQUFxN0QscUJBQUFseEQsT0FBQWhDLEVBQUEsT0FFQSxDQUVBLEdBQUEyekQsSUFBQTk3RCxPQUFBaW9DLGlCQUFBLzlCLFFBQUF5Z0MsVUFDQTNxQyxRQUFBaW9DLGlCQUFBOTlCLE9BQUEyeEQsR0FBQSxLQUtBOTdELE9BQUFrYSxLQUFBLFNBQUFULE9BQ0EsR0FBQUEsTUFLQSxHQUpBdlosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FTLFNBQUFwQixPQUFBNnhCLElBQUErQixRQUFBNXpCLE9BQUF3NkQsT0FBQTFrRCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsUUFDQTN5QixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsUUFBQWgwQixPQUFBdzZELE9BQUF6a0QsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLFFBQ0FsMEIsT0FBQXc2RCxPQUFBMWtELFlBQUEsR0FBQTlWLE9BQUF3NkQsT0FBQTFrRCxZQUFBLElBQUE2ZixNQUFBMzFCLE9BQUF3NkQsT0FBQTFrRCxhQUNBMmhCLGFBQUEsV0FFQTlCLE1BQUEzMUIsT0FBQXc2RCxPQUFBMWtELGVBQ0E5VixPQUFBdzZELE9BQUExa0QsWUFBQTFVLFlBRUEsSUFBQXBCLE9BQUF3NkQsT0FBQXprRCxhQUFBLE1BQUEvVixPQUFBdzZELE9BQUF6a0QsYUFBQSxLQUFBNGYsTUFBQTMxQixPQUFBdzZELE9BQUF6a0QsY0FDQTZoQixjQUFBLFdBRUFqQyxNQUFBMzFCLE9BQUF3NkQsT0FBQXprRCxnQkFDQS9WLE9BQUF3NkQsT0FBQXprRCxhQUFBM1UsWUFFQSxDQUdBLEdBQUFwQixPQUFBcTdELHFCQUFBMzFELE9BQUEsRUFDQSxJQUFBLEdBQUF5QyxHQUFBLEVBQUFBLEVBQUFuSSxPQUFBcTdELHFCQUFBMzFELE9BQUF5QyxJQUNBLEdBQUEvRyxTQUFBcEIsT0FBQXE3RCxxQkFBQWx6RCxHQUFBeWlDLHlCQUFBLENBRUEsR0FBQW14QixZQUFBLzdELE9BQUFpb0MsaUJBQUF6NUIsSUFBQSxTQUFBckcsR0FBQSxNQUFBQSxHQUFBeWlDLDJCQUFBMWdDLFFBQUFsSyxPQUFBcTdELHFCQUFBbHpELEdBQUF5aUM7O0FBQ0F0RCxzQkFBQWh0QixRQUFBdlksR0FBQS9CLE9BQUFxN0QscUJBQUFsekQsR0FBQXlpQywwQkFBQTVxQyxPQUFBcTdELHFCQUFBbHpELElBQUFzSCxTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUFpb0MsaUJBQUE4ekIsWUFBQXp5RCxVQUNBLFNBQUF0SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsb0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esb0NBQUFPLGNBQUE0SSxrQkFFQSxDQUVBLEdBQUFtaUMsaUJBQUEvckMsT0FBQXE3RCxxQkFBQWx6RCxFQUNBNGpDLGlCQUFBejFCLG1CQUFBdFcsT0FBQW02RCxHQUFBN2pELG1CQUNBZ3hCLHNCQUFBcHRCLEtBQUE2eEIsaUJBQUF0OEIsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBaW9DLGlCQUFBdGxDLEtBQUEyRyxXQUNBLFNBQUF0SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsc0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esc0NBQUFPLGNBQUE0SSxjQU9BLEdBQUE1SixPQUFBZ29DLGVBQUF0aUMsT0FBQSxFQUNBLElBQUEsR0FBQWtkLEdBQUEsRUFBQUEsRUFBQTVpQixPQUFBZ29DLGVBQUF0aUMsT0FBQWtkLElBQUEsQ0FDQSxHQUFBbzVDLFNBQUFoOEQsT0FBQWlvQyxpQkFBQXo1QixJQUFBLFNBQUF5dEQsSUFBQSxNQUFBQSxJQUFBcnhCLDJCQUFBMWdDLFFBQUFsSyxPQUFBZ29DLGVBQUFwbEIsR0FBQWdvQix5QkFDQXRELHVCQUFBQSxXQUFBdmxDLEdBQUEvQixPQUFBZ29DLGVBQUFwbEIsR0FBQWdvQiwyQkFBQW43QixTQUFBNU4sS0FBQSxXQUNBN0IsT0FBQWlvQyxpQkFBQTk5QixPQUFBNnhELFFBQUEsSUFDQSxTQUFBaDdELGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxzQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxzQ0FBQU8sY0FBQTRJLGNBTUFpaEMsZUFBQTdxQyxPQUFBdzZELE9BQUEsT0FDQSxJQUFBM3VCLFVBQUEzQixPQUFBbHFDLE9BQUF3NkQsT0FDQTN1QixVQUFBdjFCLG1CQUFBdFcsT0FBQXc2RCxPQUFBbGtELG1CQUVBOHdCLGdCQUFBOXNCLFFBQUF2WSxHQUFBOHBDLFNBQUF2MUIsb0JBQUF1MUIsU0FBQSxTQUFBdmlDLFVBQ0FJLE9BQUErTSxRQUFBLDBCQUNBelcsT0FBQW02RCxHQUFBN3dELFNBQUE4dkQsT0FBQTl2RCxTQUNBdEosT0FBQW02RCxHQUFBcHlCLGlCQUFBTCxVQUFBMW5DLE9BQUFtNkQsR0FBQXB5QixrQkFDQSxPQUFBL25DLE9BQUFtNkQsR0FBQTN2QixpQkFDQXhxQyxPQUFBbTZELEdBQUEzdkIsZUFBQTlDLFVBQUExbkMsT0FBQW02RCxHQUFBM3ZCLGlCQUNBeHFDLE9BQUFtNkQsR0FBQVEsT0FBQTM2RCxPQUFBbTZELEdBQUE1dkIsV0FBQSxFQUFBdnFDLE9BQUE0NUQsV0FBQXp0RCxPQUFBLFNBQUFzVSxHQUFBLE1BQUFBLEdBQUF5M0IseUJBQUFsNEMsT0FBQW02RCxHQUFBNXZCLGFBQUEsR0FBQXF3QixRQUFBLEdBQ0E1NkQsT0FBQW02RCxHQUFBVSxRQUFBNzZELE9BQUFtNkQsR0FBQTF2QixjQUFBLEVBQUF6cUMsT0FBQWk2RCxjQUFBOXRELE9BQUEsU0FBQTJ1RCxHQUFBLE1BQUFBLEdBQUFyd0IsZUFBQXpxQyxPQUFBbTZELEdBQUExdkIsZ0JBQUEsR0FBQW93QixRQUFBLEdBQ0E3NkQsT0FBQW02RCxHQUFBWSxPQUFBLzZELE9BQUFtNkQsR0FBQS9qQyxVQUFBLEVBQUFwMkIsT0FBQTY1RCxPQUFBMXRELE9BQUEsU0FBQTg1QixJQUFBLE1BQUFBLElBQUFqcEIsVUFBQWhkLE9BQUFtNkQsR0FBQS9qQyxZQUFBLEdBQUE4UCxXQUFBLEdBQ0FsbUMsT0FBQW02RCxHQUFBYSxlQUFBaDdELE9BQUFtNkQsR0FBQTlqQyxtQkFBQSxFQUFBcjJCLE9BQUE4NUQsbUJBQUEzdEQsT0FBQSxTQUFBZzZCLElBQUEsTUFBQUEsSUFBQTlQLG9CQUFBcjJCLE9BQUFtNkQsR0FBQTlqQyxxQkFBQSxHQUFBK1AsZ0JBQUEsR0FDQXBtQyxPQUFBbTZELEdBQUFjLE9BQUFqN0QsT0FBQW02RCxHQUFBbDlDLFVBQUEsRUFBQWpkLE9BQUErNUQsV0FBQTV0RCxPQUFBLFNBQUE0USxJQUFBLE1BQUFBLElBQUFDLFVBQUFoZCxPQUFBbTZELEdBQUFsOUMsWUFBQSxHQUFBaXBCLFdBQUEsR0FDQWxtQyxPQUFBbTZELEdBQUFlLGVBQUFsN0QsT0FBQW02RCxHQUFBN3ZCLG1CQUFBLEVBQUF0cUMsT0FBQWc2RCxtQkFBQTd0RCxPQUFBLFNBQUFndkQsSUFBQSxNQUFBQSxJQUFBN3dCLG9CQUFBdHFDLE9BQUFtNkQsR0FBQTd2QixxQkFBQSxHQUFBOHdCLGdCQUFBLEdBQ0FwN0QsT0FBQXc2RCxVQUNBeDZELE9BQUFxN0Qsd0JBQUFyN0QsT0FBQXdHLEtBQUEreUQsTUFBQSxVQUVBLFNBQUF2NEQsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksY0FDQTZGLFdBTUF6UCxPQUFBazhELFNBQUEsV0FDQTF3RCxXQUFBMndELDRCQUFBQyxpQkFBQXA4RCxPQUFBbTZELEdBQUE3akQscUJBQUE3RyxTQUFBNU4sS0FBQSxTQUFBRCxRQUNBLEdBQUFBLE9BQUE4RCxPQUFBLEVBQ0EsQ0FBQXRGLFVBQUFtQixNQUNBekIsU0FBQSxpV0FHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsV0FFQSxDQUVBLEdBQUE4WSxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBbTZELElBRUFyL0MsS0FBQSxXQUNBLE1BQUEscUJBSUFMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBdzZELFlBQ0FuOEQsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQW1oQyxnQkFBQUEsV0FBQXJsQyxHQUFBczZELFdBQUEvbEQsb0JBQUErbEQsWUFBQTVzRCxTQUFBNU4sS0FBQSxXQUNBN0IsT0FBQXE2RCxXQUNBcjZELE9BQUFzNkQsZUFHQSxLQURBLEdBQUFoNEMsR0FBQXRpQixPQUFBZ00sVUFBQXRHLE9BQ0E0YyxLQUNBdGlCLE9BQUFnTSxVQUFBc1csR0FBQWhNLG9CQUFBK2xELFdBQUEvbEQsb0JBQUF0VyxPQUFBZ00sVUFBQTdCLE9BQUFtWSxFQUFBLEVBR0F6WCxZQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FFQXRDLE9BQUErTSxRQUFBLHlCQUNBLElBQUFzSSxXQUFBLEtBQUEsVUFDQXZkLG1CQUFBRSxNQUFBcWQsV0FDQSxTQUFBL2QsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksa0JBSUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQ0FBQU8sY0FBQTRJLGNBS0EsSUFBQTZ0QixjQUFBLFNBQUFqWSxHQUNBLEdBQUFrWSxVQUFBdDNCLFVBQUFtQixNQUNBekIsU0FBQSw0UEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUErMUIsVUFBQTkxQixPQUFBQyxLQUFBLFNBQUE4MUIsWUFDQSxXQUFBblksRUFBQTVYLEVBQUEsZ0JBQUF6RSxRQUNBeUUsRUFBQSxVQUFBekUsV0FLQXkwQixjQUFBLFNBQUFwWSxHQUNBLEdBQUFxWSxXQUFBejNCLFVBQUFtQixNQUNBekIsU0FBQSxtUUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUFrMkIsV0FBQWoyQixPQUFBQyxLQUFBLFNBQUE4MUIsWUFDQSxXQUFBblksRUFBQTVYLEVBQUEsaUJBQUF6RSxRQUNBeUUsRUFBQSxVQUFBekUsVUFLQW5ELFFBQUE4M0IsV0FBQSxTQUFBeDRCLEdBQ0EsR0FBQSxPQUFBQSxHQUVBVSxPQUFBNnhCLElBQUErQixNQUFBLEdBQUE1ekIsT0FBQTZ4QixJQUFBK0IsTUFBQSxJQUFBK0IsTUFBQTMxQixPQUFBNnhCLElBQUErQixRQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBK0IsTUFBQTMxQixPQUFBNnhCLElBQUFpQyxRQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBNkIsTUFBQTMxQixPQUFBNnhCLElBQUFrQyxRQUFBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxTQUNBMEQsYUFBQSxPQUVBOUIsTUFBQTMxQixPQUFBNnhCLElBQUErQixTQUFBNXpCLE9BQUE2eEIsSUFBQStCLE1BQUF4eUIsUUFDQXUwQixNQUFBMzFCLE9BQUE2eEIsSUFBQWlDLFNBQUE5ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTF5QixRQUNBdTBCLE1BQUEzMUIsT0FBQTZ4QixJQUFBa0MsU0FBQS96QixPQUFBNnhCLElBQUFrQyxNQUFBM3lCLFVBRUFwQixPQUFBNnhCLElBQUFtQyxNQUFBLE1BQUFoMEIsT0FBQTZ4QixJQUFBbUMsTUFBQSxLQUFBMkIsTUFBQTMxQixPQUFBNnhCLElBQUFtQyxRQUFBNXlCLFNBQUFwQixPQUFBNnhCLElBQUFtQyxPQUFBMkIsTUFBQTMxQixPQUFBNnhCLElBQUFvQyxRQUFBN3lCLFNBQUFwQixPQUFBNnhCLElBQUFvQyxPQUFBMEIsTUFBQTMxQixPQUFBNnhCLElBQUFxQyxRQUFBOXlCLFNBQUFwQixPQUFBNnhCLElBQUFxQyxTQUNBMEQsY0FBQSxPQUVBakMsTUFBQTMxQixPQUFBNnhCLElBQUFtQyxTQUFBaDBCLE9BQUE2eEIsSUFBQW1DLE1BQUE1eUIsUUFDQXUwQixNQUFBMzFCLE9BQUE2eEIsSUFBQW9DLFNBQUFqMEIsT0FBQTZ4QixJQUFBb0MsTUFBQTd5QixRQUNBdTBCLE1BQUEzMUIsT0FBQTZ4QixJQUFBcUMsU0FBQWwwQixPQUFBNnhCLElBQUFxQyxNQUFBOXlCLGFBRUEsQ0FFQSxHQUFBMmhCLElBQUEsUUFBQS9pQixPQUFBd0csS0FBQSt5RCxNQUFBdjVELE9BQUF3NkQsT0FBQXg2RCxPQUFBbTZELElBQ0FwM0MsR0FBQWpOLFlBQUEsR0FBQWlOLEdBQUFqTixZQUFBLElBQUE2ZixNQUFBNVMsR0FBQWpOLGdCQUNBMmhCLGFBQUEsV0FFQTlCLE1BQUE1UyxHQUFBak4sZUFDQWlOLEdBQUFqTixZQUFBMVUsVUFHQTJoQixHQUFBaE4sYUFBQSxNQUFBZ04sR0FBQWhOLGFBQUEsS0FBQTRmLE1BQUE1UyxHQUFBaE4saUJBQ0E2aEIsY0FBQSxXQUVBakMsTUFBQTVTLEdBQUFoTixnQkFDQWdOLEdBQUFoTixhQUFBM1UsV0FPQXBCLE9BQUFzOEQsWUFBQSxXQUNBdDhELE9BQUF3RyxLQUFBK3lELE1BQUEsT0FDQXY1RCxPQUFBdzZELE9BQUE1OEQsUUFBQStaLEtBQUEzWCxPQUFBbTZELElBQ0FuNkQsT0FBQXc2RCxPQUFBbGtDLFlBQUEsS0FBQXQyQixPQUFBdzZELE9BQUF0eEIsVUFBQSxLQUFBbHBDLE9BQUF3NkQsT0FBQXJ4QixPQUFBLEtBQ0FucEMsT0FBQXE3RCxxQkFBQXo5RCxRQUFBK1osS0FBQTNYLE9BQUFpb0MsbUJBRUFqb0MsT0FBQXU4RCxhQUFBLFdBQ0F2OEQsT0FBQXdHLEtBQUEreUQsTUFBQSxTQUNBdjVELE9BQUF3NkQsV0FFQTEwRCxXQUFBMEQsZUFBQUMsYUFBQSxRQ3o0QkEsV0FFQSxZQUVBLElBQUE5TCxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLHNCQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsU0FBQSxRQUFBLFlBQUEsVUFBQSxXQUFBLGtCQUFBLFNBQUEsT0FBQSxXQUFBLGNBQUEsYUFBQSxlQUFBLG9CQUFBLGdCQUFBLG9CQUFBLGlCQUFBLGVBQUEsY0FDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQUMsVUFBQS9GLE9BQUFDLE1BQUFFLFVBQUF5a0IsUUFBQTFnQixTQUFBaWpDLGdCQUFBM1osT0FBQXR0QixLQUFBNHNCLFNBQUF5dkMsWUFBQTExQixXQUFBbkQsYUFBQUMsa0JBQUF4VyxjQUFBMlosa0JBQUFDLGVBQUF4WixhQUFBTCxhQUNBL3JCLFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxhQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxZQUdBbkcsT0FBQXk4RCxTQUFBM3VDLE1BQUEwdUMsWUFBQTkyRCxRQUNBMUYsT0FBQTA4RCxvQkFBQUYsWUFFQXg4RCxPQUFBMjhELFlBQUEsU0FBQUMsV0FDQTU4RCxPQUFBNjhELFlBQUFydkMsYUFBQXJoQixPQUFBLFNBQUEyd0QsS0FDQSxNQUFBLFVBQUFBLElBQUE5a0QsVUFBQSxpQkFBQThrRCxJQUFBOWtELFVBQUEsZ0JBQUE4a0QsSUFBQTlrRCxVQUNBLFVBQUE4a0QsSUFBQTlrRCxVQUFBLGtCQUFBOGtELElBQUE5a0QsVUFBQSxXQUFBOGtELElBQUE5a0QsVUFFQSxFQUFBLEdBQUEwWSxlQUFBb1csV0FBQW5ELGFBQUFDLGtCQUFBeFcsY0FBQTJaLGtCQUFBQyxlQUFBaG5DLE9BQUE2OEQsWUFDQTc4RCxRQUFBMDhELG9CQUFBeHlELFFBQUEweUQsV0FDQTkyRCxXQUFBMEQsZ0JBQUFDLGFBQUEsRUFFQSxJQUFBbW1CLGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLGVBQ0E3YSxXQUFBLGNBQ0E0QixLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQWtWLFlBQUEsYUFDQTdmLFNBQ0FyRixhQUFBLFdBQ0EsTUFBQStsQixlQUVBMG9DLE9BQUEsV0FDQSxNQUFBLEtBQUF3RCxVQUFBQSxVQUFBLFNBRUF2RCxlQUFBLFdBQ0EsTUFBQSxLQUFBdUQsVUFDQXgxQixnQkFBQTIxQixlQUFBaDdELEdBQUE2NkQsVUFBQXRtRCxxQkFBQTdHLFNBREEsUUFJQTZwRCxPQUFBLFdBQ0EsTUFBQW41RCxNQUFBbVksT0FBQXZXLEdBQUFnckIsU0FBQS9xQixVQUFBeU4sVUFFQTdFLFdBQUEsV0FDQSxNQUFBdWlCLGNBRUFqaUIsV0FBQSxXQUdBLE1BRkFoTCxPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBc0MsU0FBQXRnQixZQUlBbWdCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBK3BDLFdBR0EsR0FEQTlsQyxXQUFBMEQsZ0JBQUFDLGFBQUEsR0FDQXJJLFNBQUF3cUMsVUFBQSxDQUtBLEdBSkEsV0FBQUEsVUFBQSxLQUNBNXJDLE9BQUEwOEQsb0JBQUEvNUQsS0FBQWlwQyxVQUFBLElBQ0E1ckMsT0FBQXk4RCxRQUFBM3VDLE1BQUE5dEIsT0FBQTA4RCxvQkFBQWgzRCxRQUVBdEUsU0FBQXdxQyxVQUFBLEdBQUEsQ0FHQSxHQUFBb3hCLFVBQUFoOUQsT0FBQTA4RCxvQkFBQXh5RCxRQUFBMHlELFVBQ0E1OEQsUUFBQTA4RCxvQkFBQU0sVUFBQXB4QixVQUVBLEdBQUEsV0FBQUEsVUFBQSxHQUFBLENBQ0EsR0FBQTNiLGVBQUFqd0IsT0FBQTA4RCxvQkFBQXh5RCxRQUFBMHlELFVBQ0E1OEQsUUFBQTA4RCxvQkFBQXZ5RCxPQUFBOGxCLGNBQUEsR0FDQWp3QixPQUFBeThELFFBQUEzdUMsTUFBQTl0QixPQUFBMDhELG9CQUFBaDNELG1CQ3ZFQSxXQUNBLFlBQ0EsSUFBQS9ILGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEseUJBQUEsU0FBQSxRQUFBLGFBQUEsV0FBQSxZQUFBLE9BQUEsc0JBQUEsdUJBQUEsU0FBQSxpQkFDQSxTQUFBQyxPQUFBRSxNQUFBNEYsV0FBQUMsU0FBQUMsVUFBQTdGLEtBQUE4d0Isb0JBQUFnc0MscUJBQUFoOUQsT0FBQWk5RCxnQkFDQWw5RCxPQUFBcUIsUUFBQXdqQyxVQUFBLEdBQ0EvK0IsV0FBQW92QixJQUFBLHNCQUFBLFNBQUFoekIsTUFBQWk3RCxXQUNBbjlELE9BQUE2ekIsTUFBQXNwQyxVQUFBLEdBR0FuOUQsT0FBQTZ6QixNQUFBL2QsWUFBQWlWLFdBQUEvcUIsT0FBQTZ6QixNQUFBL2QsWUFBQTRkLFFBQUEsSUFDQTF6QixPQUFBNnpCLE1BQUE5ZCxhQUFBZ1YsV0FBQS9xQixPQUFBNnpCLE1BQUE5ZCxhQUFBMmQsUUFBQSxJQUNBd3BDLGVBQUFFLEtBQUEscUJBR0FwOUQsT0FBQXE5RCxrQkFBQSxXQUNBcDlELE9BQUE2QixHQUFBLGtCQUFBQyxHQUFBL0IsT0FBQTZ6QixNQUFBN3hCLGlCQ2pCQSxXQUNBLFlBQ0EsSUFBQXJFLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsOEJBQUEsU0FBQSxRQUFBLFdBQUEsYUFBQSxXQUFBLFlBQUEsT0FBQSxhQUFBLG9CQUFBLGlCQUFBLGNBQUEsc0JBQUEsdUJBQUEsU0FDQSxTQUFBQyxPQUFBRSxNQUFBaUUsU0FBQTJCLFdBQUFDLFNBQUFDLFVBQUE3RixLQUFBZ0wsV0FBQUMsa0JBQUFpaUIsZUFBQWl3QyxZQUFBcnNDLG9CQUFBZ3NDLHFCQUFBaDlELFFBRUE2RixXQUFBb3ZCLElBQUEsc0JBQUEsU0FBQWh6QixNQUFBaTdELFdBQ0FuOUQsT0FBQStzQixTQUFBb3dDLFVBQUEsR0FDQW45RCxPQUFBcUIsT0FBQTBqQyxZQUFBLEVBQ0Eva0MsT0FBQXU5RCx3QkFDQXY5RCxPQUFBa3VCLGNBQUEsSUFHQWx1QixPQUFBK3RCLGVBQUFud0IsUUFBQStaLEtBQUEwVixlQUlBLEtBQUEsR0FIQVcsZUFBQSxFQUdBMXVCLEVBQUEsRUFBQUEsRUFBQVUsT0FBQSt0QixlQUFBcm9CLE9BQUFwRyxJQUNBLGdCQUFBVSxPQUFBK3RCLGVBQUF6dUIsR0FBQTJnQixTQUNBK04sY0FBQWh1QixPQUFBK3RCLGVBQUF6dUIsR0FBQXNmLG1CQUNBNWUsT0FBQSt0QixlQUFBenVCLEdBQUEyZ0IsT0FBQSwyQkFHQWpnQixRQUFBK3RCLGVBQUFwckIsTUFBQWljLG1CQUFBb1AsY0FBQS9OLE9BQUEsc0NBR0FqZ0IsT0FBQXc5RCxtQkFBQSxXQUNBcjlELEtBQUFnNUQsZ0JBQUFwM0QsR0FBQS9CLE9BQUErc0IsU0FBQS9xQixVQUFBeU4sU0FBQTVOLEtBQUEsU0FBQTQ3RCxXQUVBLElBQUEsR0FBQXQ4RCxHQUFBLEVBQUFBLEVBQUFzOEQsVUFBQS8zRCxPQUFBdkUsSUFBQSxDQUNBLEdBQUFndEIsbUJBQ0FDLGVBQUFxdkMsVUFBQXQ4RCxHQUFBK2YsaUJBQ0EsSUFBQWtOLGVBQUExb0IsT0FBQSxFQUFBLENBRUEsR0FBQTJvQixjQUFBRCxlQUFBamlCLE9BQUEsU0FBQW1pQixJQUFBLE1BQUEsWUFBQUEsR0FBQWp0QixTQUFBLEdBQ0FrdEIsYUFBQUgsZUFBQWppQixPQUFBLFNBQUFtaUIsSUFBQSxNQUFBLFlBQUFBLEdBQUFqdEIsU0FBQSxHQUNBbXRCLFlBQUFKLGVBQUFqaUIsT0FBQSxTQUFBbWlCLElBQUEsTUFBQSxhQUFBQSxHQUFBanRCLFFBQUEsUUFBQWl0QixHQUFBanRCLFNBQUEsRUFFQW10QixjQUFBTCxlQUFBeHJCLEtBQUE2ckIsYUFDQUQsY0FBQUosZUFBQXhyQixLQUFBNHJCLGNBQ0FGLGNBQUFGLGVBQUF4ckIsS0FBQTByQixrQkFFQUYsZ0JBQUF4ckIsS0FBQXlyQixlQUFBLEdBR0FxdkMsV0FBQXQ4RCxHQUFBK2YscUJBQ0F1OEMsVUFBQXQ4RCxHQUFBK2Ysa0JBQUFpTixlQUVBbnVCLE9BQUF1OUQscUJBQUFFLFVBQUF0eEQsT0FBQSxTQUFBaTBCLElBQUEsTUFBQSxJQUFBQSxHQUFBbGYsa0JBQUEsR0FBQTlELGtCQUNBLFNBQUFwYyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsK0JBQUFPLGNBQUFQLFNBQUEscUJBQ0EsK0JBQUFPLGNBQUE0SSxlQUtBNUosT0FBQWl1QixhQUFBcXZDLFlBQ0F0OUQsT0FBQWt1QixjQUFBLEVBQ0FsdUIsT0FBQXFCLFFBQUEwakMsWUFBQSxHQUVBL2tDLE9BQUE2dUIsaUJBQUEsV0FDQTd1QixPQUFBa3VCLGNBQUFsdUIsT0FBQWt1QixjQUlBbHVCLE9BQUEwOUQsZ0JBQUEsV0FDQTE5RCxPQUFBa3VCLGNBQUEsR0FHQWx1QixPQUFBOHVCLFlBQUEsV0FFQSxJQUFBLEdBREFDLFlBQUEsR0FBQTNlLE1BQ0FnSixHQUFBLEVBQUFBLEdBQUFwWixPQUFBK3RCLGVBQUFyb0IsT0FBQTBULEtBQ0EsR0FBQXBaLE9BQUErdEIsZUFBQTNVLElBQUE3USxZQUFBLEVBQUEsQ0FDQSxHQUFBeW1CLGtCQUFBQyxnQkFFQSxJQUFBLFFBQUFqdkIsT0FBQSt0QixlQUFBM1UsSUFBQTZHLE9BQUE3SCxVQUFBLEVBQUEsR0FFQTRXLGVBQ0ExUSxTQUFBLEVBQ0FnRCxxQkFBQSwwRUFDQTFDLG1CQUFBNWUsT0FBQSt0QixlQUFBM1UsSUFBQXdGLG1CQUNBNWMsUUFBQWhDLE9BQUErc0IsU0FBQS9xQixRQUNBMGMsZUFBQSxxQ0FBQTFlLE9BQUErdEIsZUFBQTNVLElBQUE2RyxPQUFBLEVBQUEsT0FFQSxDQUVBLEdBQUFpUCxLQUFBLENBQ0F0eEIsU0FBQXlNLFFBQUFySyxPQUFBaXVCLGFBQUEsU0FBQWtCLEtBQ0EsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFELElBQUF4USxnQkFBQWpaLE9BQUEwcEIsSUFDQUQsSUFBQXhRLGdCQUFBeVEsR0FBQXhRLG9CQUFBNWUsT0FBQSt0QixlQUFBM1UsSUFBQXdGLHFCQUNBc1EsSUFBQUMsSUFBQXpRLGtCQUlBc1EsZUFDQTFRLFNBQUEsRUFDQWdELHFCQUFBLDBFQUNBMUMsbUJBQUE1ZSxPQUFBK3RCLGVBQUEzVSxJQUFBd0YsbUJBQ0E1YyxRQUFBaEMsT0FBQStzQixTQUFBL3FCLFFBQ0EwYyxlQUFBd1EsS0FJQWh2QixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBaWhCLGNBQUEsQ0FDQXpXLFlBQUErTyxLQUFBOFUsZUFBQXZmLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBc1ksYUFBQXRZLFNBQUErQyxhQUNBLElBQUFnakIsb0JBQ0F6USxtQkFBQXRWLFNBQUFzVixtQkFDQTVjLFFBQUFzSCxTQUFBdEgsUUFDQTBjLGVBQUFwVixTQUFBb1YsZUFDQXJTLGNBQUEvQyxTQUFBK0MsY0FDQTJULGVBQUFoZ0IsT0FBQSt0QixlQUFBNWhCLE9BQUEsU0FBQW1qQixLQUFBLE1BQUFBLEtBQUExUSxvQkFBQXRWLFNBQUFzVixxQkFBQSxHQUFBcUIsT0FDQU8sV0FBQXhnQixPQUFBaXVCLGFBQUE5aEIsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBdWQsZ0JBQUFwVixTQUFBb1YsaUJBQUEsR0FBQWxXLE9BRUF5bUIsZ0JBQUE1aUIsY0FBQS9DLFNBQUErQyxjQUFBK1EsZUFBQSxFQUFBckUsVUFBQWhULFNBQUFFLElBQUEsT0FBQXlaLFdBQUFxUCxXQUFBelYsVUFBQSxPQUVBbE8sa0JBQUE4TyxLQUFBK1UsZUFBQXhmLFNBQUE1TixLQUFBLFNBQUE4ZSxjQUNBc08sY0FBQTV0QixPQUFBLFdBQUE0dEIsY0FBQXZPLHFCQUFBQyxhQUFBRCxxQkFDQTJPLGtCQUFBbk8sbUJBQUErTixlQUNBanZCLE9BQUF1OUQscUJBQUE1NkQsS0FBQTBzQixrQkFHQSxLQUFBLEdBQUFFLEtBQUEsRUFBQUEsSUFBQXZ2QixPQUFBK3RCLGVBQUFyb0IsT0FBQTZwQixNQUNBdnZCLE9BQUErdEIsZUFBQXdCLEtBQUFobkIsVUFBQSxDQUVBcEUsVUFBQSxXQUVBbkUsT0FBQWt1QixjQUFBLEVBQ0F4a0IsT0FBQStNLFFBQUEsOEJBR0EsU0FBQXpWLGVBRUFtSyxXQUFBQSxXQUFBcEosR0FBQTZmLGVBQ0Foa0IsUUFBQXlNLFFBQUFySyxPQUFBK3RCLGVBQUEsU0FBQTNVLElBQUFBLEdBQUE3USxVQUFBLElBQ0FtQixPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxtQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxtQ0FBQU8sY0FBQTRJLGVBRUEsU0FBQTVJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxtQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxtQ0FBQU8sY0FBQTRJLHNCQy9JQSxXQUNBLFlBQ0EsSUFBQWpNLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsc0JBQUEsU0FBQSxhQUFBLFFBQUEsV0FBQSxZQUFBLHNCQUFBLHVCQUFBLFNBQ0EsU0FBQUMsT0FBQThGLFdBQUE1RixNQUFBNkYsU0FBQUMsVUFBQWlyQixvQkFBQWdzQyxxQkFBQWg5RCxRQUNBNkYsV0FBQW92QixJQUFBLHNCQUFBLFNBQUFoekIsTUFBQWk3RCxXQUNBbjlELE9BQUEyOUQsWUFFQSxLQUFBLEdBREFDLGNBQUFULFVBQUEsR0FDQWxoQyxFQUFBLEVBQUFBLEVBQUEyaEMsYUFBQWw0RCxPQUFBdTJCLElBQ0EyaEMsYUFBQTNoQyxHQUFBMWQsWUFBQXhZLFNBQUFFLElBQUEscUJBQ0FqRyxPQUFBMjlELFVBQUFoN0QsS0FBQWk3RCxhQUFBM2hDLEdBRUFqOEIsUUFBQTY5RCxXQUFBLElBR0E3OUQsT0FBQTY5RCxXQUFBLFFDaEJBLFdBQ0EsWUFDQSxJQUFBbGdFLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsd0JBQUEsU0FBQSxRQUFBLGFBQUEsV0FBQSxZQUFBLE9BQUEsUUFBQSxhQUFBLFNBQUEsWUFBQSxjQUFBLGVBQUEsaUJBQ0EsU0FBQUMsT0FBQUUsTUFBQTRGLFdBQUFDLFNBQUFDLFVBQUE3RixLQUFBMjlELE1BQUFDLFdBQUE5OUQsT0FBQXdHLFVBQUFDLFlBQUFDLGFBQUF1MkQsZ0JBQ0FsOUQsT0FBQXFCLFFBQUF3akMsVUFBQSxHQUVBN2tDLE9BQUE2RyxPQUFBSixVQUNBekcsT0FBQThHLFNBQUFKLFlBQ0ExRyxPQUFBK0csU0FBQUosYUFDQTNHLE9BQUFnK0QsZ0JBQUFqOEQsSUFBQSxFQUFBK0IsTUFBQSxrQkFBQS9CLElBQUEsRUFBQStCLE1BQUEsb0JBQ0E5RCxPQUFBZ0gsUUFDQTBCLFFBQUEsS0FDQUYsT0FBQSxLQUNBSSxPQUFBLE1BR0E1SSxPQUFBaUgsZ0JBQ0FqSCxPQUFBa0gsY0FBQSxFQUNBbEgsT0FBQW1ILGVBQ0E4MkQsZUFBQSxJQUNBNzJELFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFVBQUEsS0FHQXZILE9BQUE2SixZQUFBLFdBSUEsR0FEQXF6RCxlQUFBZ0IsS0FBQSxjQUNBLE1BQUFsK0QsT0FBQW1ILGNBQUE4MkQsZ0JBQUFqK0QsT0FBQWd4QixzQkFBQSxFQUFBLENBQ0EsR0FBQWxuQixhQUFBOUosT0FBQWlILGFBQUFvQyxNQUNBckosUUFBQWtILGNBQUEsRUFDQWxILE9BQUF1SixXQUNBLElBQUFRLE1BQUEsT0FBQWhFLFNBQUFFLElBQUEsbUJBQUE3RSxTQUFBMkUsU0FBQUUsSUFBQSxrQkFBQUYsU0FBQUUsSUFBQSxrQkFBQSxDQUNBSCxZQUFBa0MsY0FDQTlGLE1BQUE2SCxLQUNBMUIsTUFBQXJJLE9BQUFpSCxhQUNBd0IsV0FBQXpJLE9BQUFnSCxPQUFBd0IsT0FDQUcsWUFBQTNJLE9BQUFnSCxPQUFBMEIsUUFDQUksUUFBQTlJLE9BQUFtSCxjQUFBQyxRQUNBeUIsWUFBQTdJLE9BQUFnSCxPQUFBNEIsT0FDQUcsV0FBQS9JLE9BQUFtSCxjQUFBRSxRQUNBMkIsUUFBQWhKLE9BQUFtSCxjQUFBRyxRQUNBMkIsVUFBQWpKLE9BQUFtSCxjQUFBSSxXQUVBcEgsS0FBQStJLGtCQUNBQyxNQUFBWSxLQUNBWCxNQUFBVSxZQUNBckIsV0FBQXpJLE9BQUFnSCxPQUFBd0IsT0FDQUcsWUFBQTNJLE9BQUFnSCxPQUFBMEIsUUFDQUksUUFBQTlJLE9BQUFtSCxjQUFBQyxRQUNBeUIsWUFBQTdJLE9BQUFnSCxPQUFBNEIsT0FDQUcsV0FBQS9JLE9BQUFtSCxjQUFBRSxRQUNBMkIsUUFBQWhKLE9BQUFtSCxjQUFBRyxRQUNBMkIsVUFBQWpKLE9BQUFtSCxjQUFBSSxXQUVBLFNBQUErQixVQUdBNHpELGVBQUFFLEtBQUEsY0FFQVcsV0FBQUksaUJBQUE3MEQsV0FFQSxTQUFBdEksZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGlDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGlDQUFBTyxjQUFBNEksa0JBRUEsSUFBQSxNQUFBNUosT0FBQW1ILGNBQUE4MkQsZ0JBQUFqK0QsT0FBQWd4QixzQkFBQSxFQUFBLENBR0EsR0FBQWxuQixhQUFBOUosT0FBQWlILGFBQUFvQyxNQUNBckosUUFBQWtILGNBQUEsRUFDQWxILE9BQUF1SixZQUVBekQsV0FBQWtDLGNBQ0FLLE1BQUFySSxPQUFBaUgsYUFDQXdCLFdBQUF6SSxPQUFBZ0gsT0FBQXdCLE9BQ0FHLFlBQUEzSSxPQUFBZ0gsT0FBQTBCLFFBQ0FJLFFBQUE5SSxPQUFBbUgsY0FBQUMsUUFDQXlCLFlBQUE3SSxPQUFBZ0gsT0FBQTRCLE9BQ0FHLFdBQUEvSSxPQUFBbUgsY0FBQUUsUUFDQTJCLFFBQUFoSixPQUFBbUgsY0FBQUcsUUFDQTJCLFVBQUFqSixPQUFBbUgsY0FBQUksVUFHQSxJQUFBNjJELElBQUF0NEQsV0FBQWtDLFlBQ0EsSUFBQSxNQUFBbzJELEdBQUF0MUQsU0FBQSxPQUFBczFELEdBQUF2MUQsYUFBQSxPQUFBdTFELEdBQUF6MUQsYUFBQSxNQUFBeTFELEdBQUFuMUQsV0FBQSxNQUFBbTFELEdBQUFwMUQsU0FBQSxNQUFBbzFELEdBQUFyMUQsWUFBQSxPQUFBcTFELEdBQUEzMUQsWUFBQSxJQUFBMjFELEdBQUEvMUQsTUFBQTNDLE9BSUEsTUFIQXczRCxnQkFBQUUsS0FBQSxjQUNBMXpELE9BQUEvRCxRQUFBMCtCLGNBQUEseUJBQ0EzNkIsUUFBQXk2QixRQUFBLCtDQUFBLGNBSUFoa0MsTUFBQStJLGtCQUNBRSxNQUFBVSxZQUNBckIsV0FBQXpJLE9BQUFnSCxPQUFBd0IsT0FDQUcsWUFBQTNJLE9BQUFnSCxPQUFBMEIsUUFDQUksUUFBQTlJLE9BQUFtSCxjQUFBQyxRQUNBeUIsWUFBQTdJLE9BQUFnSCxPQUFBNEIsT0FDQUcsV0FBQS9JLE9BQUFtSCxjQUFBRSxRQUNBMkIsUUFBQWhKLE9BQUFtSCxjQUFBRyxRQUNBMkIsVUFBQWpKLE9BQUFtSCxjQUFBSSxXQUVBLFNBQUErQixVQUNBNHpELGVBQUFFLEtBQUEsY0FDQVcsV0FBQUksaUJBQUE3MEQsV0FDQSxTQUFBdEksZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGlDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGlDQUFBTyxjQUFBNEksZ0JBTUE1SixPQUFBZ0ssV0FBQSxTQUFBMUwsTUFJQSxHQUhBQSxLQUFBaUssWUFBQSxHQUNBdkksT0FBQWlILGFBQUF0RSxLQUFBckUsS0FBQWdLLGNBRUFoSyxLQUFBaUssWUFBQSxFQUFBLENBQ0EsR0FBQTBCLEtBQUFqSyxPQUFBaUgsYUFBQWlELFFBQUE1TCxLQUFBZ0ssYUFDQTJCLE1BQUEsR0FDQWpLLE9BQUFpSCxhQUFBa0QsT0FBQUYsSUFBQSxLQU1BakssT0FBQW9LLGFBQUEsV0FDQTh5RCxlQUFBZ0IsS0FBQSxjQUNBbCtELE9BQUFtSCxlQUNBODJELGVBQUEsRUFDQTcyRCxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxVQUFBLEdBRUF2SCxPQUFBZ0gsVUFDQWhILE9BQUFpSCxnQkFDQXJKLFFBQUF5TSxRQUFBckssT0FBQTZHLE9BQUEsU0FBQXlELElBQ0FBLEdBQUEvQixVQUFBLEdBRUEsSUFBQXdCLE1BQUEsT0FBQWhFLFNBQUFFLElBQUEsbUJBQUE3RSxTQUFBMkUsU0FBQUUsSUFBQSxrQkFBQUYsU0FBQUUsSUFBQSxrQkFBQSxDQUNBakcsUUFBQXErRCxhQUFBUCxNQUFBUSxlQUFBdjhELEdBQUFnSSxNQUNBLFNBQUFULFVBQ0F5MEQsV0FBQUksaUJBQUE3MEQsVUFDQTR6RCxlQUFBRSxLQUFBLGVBQ0EsU0FBQXA4RCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxxQkM1SkEsV0FDQSxZQUNBLElBQUFqTSxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLGlCQUFBLFNBQUEsUUFBQSxhQUFBLFdBQUEsWUFBQSxPQUFBLFFBQUEsV0FBQSxzQkFBQSx1QkFBQSxjQUFBLFNBQUEsaUJBQ0EsU0FBQUMsT0FBQUUsTUFBQTRGLFdBQUFDLFNBQUFDLFVBQUE3RixLQUFBMjlELE1BQUFTLFNBQUF0dEMsb0JBQUFnc0MscUJBQUE3K0IsWUFBQW4rQixPQUFBaTlELGdCQUNBLEdBQUE5N0QsU0FBQTJFLFNBQUFFLElBQUEsYUFBQSxLQUFBRixTQUFBRSxJQUFBLFlBQ0FqRyxPQUFBa0csTUFBQSxFQUNBRixVQUFBRyxLQUFBLGNBQ0EsQ0FDQUwsV0FBQU0sU0FBQSxNQUNBTixXQUFBTyxXQUFBLE1BQ0FyRyxPQUFBOFAsUUFBQSxpY0FJQWhLLFdBQUFvdkIsSUFBQSxtQkFBQSxTQUFBaHpCLE1BQUFzOEQsb0JBQ0FBLG1CQUFBOTRELE9BQUEsR0FDQTFGLE9BQUFrL0IsU0FDQWwvQixPQUFBeStELGtCQUFBLEVBQ0FDLGVBQUFGLHNCQUdBOTBELE9BQUEvRCxRQUFBMCtCLGNBQUEscUJBQ0EzNkIsT0FBQXk2QixRQUFBLG1DQUFBLGlCQUlBLElBQUFuUixRQUNBQyxLQUNBM2YsS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEsZUFFQXdyQyxTQUNBcnJELEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLGVBRUF5ckMsU0FDQXRyRCxLQUFBLE1BQ0E0ZixVQUFBLEdBQUEsSUFDQUMsVUFBQSxjQUNBRSxZQUFBLEVBQUEsSUFFQTlxQixVQUNBK0ssS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEsZ0JBRUEwckMsS0FBQUMsRUFBQUMsU0FDQTdyQyxVQUFBLEdBQUEsSUFDQUMsVUFBQSxhQUlBNnJDLE9BQUFGLEVBQUEvb0MsTUFDQWtwQyxRQUFBLG9CQUNBQyxhQUFBLEdBQUEsTUFFQUMsY0FBQUwsRUFBQS9vQyxNQUNBa3BDLFFBQUEsMkJBQ0FDLGFBQUEsR0FBQSxNQUVBRSxNQUFBTixFQUFBL29DLE1BQ0FrcEMsUUFBQSxtQkFDQUMsYUFBQSxHQUFBLE1BRUFHLE1BQUFQLEVBQUEvb0MsTUFDQWtwQyxRQUFBLG1CQUNBQyxhQUFBLEdBQUEsTUFFQUksU0FBQVIsRUFBQS9vQyxNQUNBa3BDLFFBQUEsc0JBQ0FDLGFBQUEsR0FBQSxNQUVBSyxZQUFBVCxFQUFBL29DLE1BQ0FrcEMsUUFBQSx5QkFDQUMsYUFBQSxHQUFBLE1BRUFNLFlBQUFWLEVBQUEvb0MsTUFDQWtwQyxRQUFBLHlCQUNBQyxhQUFBLEdBQUEsTUFFQU8sZ0JBQUFYLEVBQUEvb0MsTUFDQWtwQyxRQUFBLDZCQUNBQyxhQUFBLEdBQUEsTUFFQVEsZUFBQVosRUFBQS9vQyxNQUNBa3BDLFFBQUEsNEJBQ0FDLGFBQUEsR0FBQSxPQUlBUixlQUFBLFNBQUFwMUQsVUFDQSxHQUFBcTJELFlBQUFyMkQsUUFDQXRKLFFBQUE0L0QsTUFBQUQsV0FDQTMvRCxPQUFBbS9CLFdBQ0FuL0IsT0FBQStpQyxzQkFHQTNFLFlBQUF5aEMsdUJBQUFoK0QsS0FBQSxTQUFBaStELFVBRUFBLFNBQUEzZ0MsUUFBQXRELFVBQUE3N0IsT0FBQW0vQixRQUdBLEtBQUEsR0FEQUEsWUFDQWgzQixFQUFBLEVBQUFBLEVBQUF3M0QsV0FBQWo2RCxPQUFBeUMsSUFBQSxDQUNBLEdBQUF1USxHQUFBaW5ELFdBQUF4M0QsRUFDQWczQixTQUFBeDhCLE1BQ0F5OEIsTUFBQSxXQUNBMU0sSUFBQWhhLEVBQUE1QyxZQUNBNmMsSUFBQWphLEVBQUEzQyxhQUNBL1QsUUFBQTBXLEVBQUExVyxRQUNBb1IsTUFBQSxXQUNBMmlCLEtBQUEvQyxNQUFBQyxNQUdBanpCLE9BQUEraUMsbUJBQUFwZ0MsTUFBQStWLEVBQUE1QyxZQUFBNEMsRUFBQTNDLGVBR0ErcEQsU0FBQTNnQyxRQUFBdEQsT0FBQXNELFFBQUFuL0IsT0FBQW0vQixTQUNBbi9CLE9BQUFtL0IsUUFBQUEsVUF3Q0FuL0IsUUFBQXVpQyxVQUNBQyxjQUNBbHZCLEtBQUEsZUFDQW12QixPQUFBLEdBQ0FDLE9BQUEsRUFDQW53QixNQUFBLFVBQ0Fvd0IsYUFLQTNpQyxPQUFBeStELGtCQUFBLEVBRUF6K0QsT0FBQWsxQixJQUFBLCtCQUFBLFNBQUFoekIsTUFBQWl6QixNQUNBLEdBQUEsV0FBQUEsS0FBQXgxQixNQUFBcUMsUUFBQSxDQUVBazdELGVBQUFnQixLQUFBLG1CQUVBbCtELE9BQUFtL0IsUUFBQW4vQixPQUFBeStELG1CQUFBMW9DLEtBQUEvQyxNQUFBQyxVQUNBanpCLFFBQUFtL0IsUUFBQW4vQixPQUFBeStELG1CQUFBL3JELEtBRUEsSUFBQXF0RCxRQUFBNXFDLEtBQUF4MUIsTUFBQXFDLE9BRUF1OEQsVUFBQXlCLGdCQUFBRCxRQUVBLy9ELE9BQUF5K0Qsa0JBQUFuNUQsU0FBQTZ2QixLQUFBOHFDLFdBRUFqZ0UsT0FBQW0vQixRQUFBbi9CLE9BQUF5K0QsbUJBQUExb0MsS0FBQS9DLE1BQUF6cUIsU0FDQXZJLE9BQUFtL0IsUUFBQW4vQixPQUFBeStELG1CQUFBL3JELE9BQ0E1QyxRQUFBLFFBQUFpd0QsT0FDQXA2RCxTQUNBdTZELFFBQUEsRUFDQW5zRCxRQUFBLEdBQUEsS0FDQW9mLFVBQUEsY0FHQW56QixPQUFBeXlCLFVBQUFHLE1BQUEsRUFDQTV5QixPQUFBeXlCLFdBQUFDLElBQUF5QyxLQUFBeDFCLE1BQUEreUIsSUFBQUMsSUFBQXdDLEtBQUF4MUIsTUFBQWd6QixJQUFBQyxLQUFBLElBQ0E1eUIsT0FBQXl5QixVQUFBRyxNQUFBLEtBQ0E1eUIsT0FBQXl5QixXQUFBQyxJQUFBeUMsS0FBQXgxQixNQUFBK3lCLElBQUFDLElBQUF3QyxLQUFBeDFCLE1BQUFnekIsSUFBQUMsS0FBQTV5QixPQUFBeXlCLFVBQUFHLE1BRUEsSUFBQWdRLFVBQUEsV0FDQTVpQyxPQUFBay9CLFNBQ0FsL0IsT0FBQXVpQyxTQUFBQyxhQUFBRyxTQUFBalEsSUFBQXlDLEtBQUF4MUIsTUFBQSt5QixJQUFBQyxJQUFBd0MsS0FBQXgxQixNQUFBZ3pCLEtBQ0EzeUIsT0FBQWsvQixNQUFBLGFBQUFsL0IsT0FBQXVpQyxTQUFBLGFBRUFLLGVBbUJBNWlDLE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxtQkFBQSxTQUFBeEcsVUFDQSxHQUFBMkIsU0FBQTNCLFNBMkJBLE1BSkFpSyxRQUFBL0QsUUFBQTArQixjQUFBLHFCQUNBMzZCLE9BQUEvRCxRQUFBNCtCLFFBQUEsT0FDQTc2QixPQUFBL0QsUUFBQXkrQixhQUFBLE1BQ0ExNkIsUUFBQXk2QixRQUFBLHlHQUFBLGNBekJBbmtDLFFBQUE0RyxhQUFBLE9BQUFiLFNBQUFFLElBQUEscUJBQUE3RSxTQUFBMkUsU0FBQUUsSUFBQSxvQkFBQUYsU0FBQUUsSUFBQSxvQkFBQSxZQUNBLElBQUE4RCxNQUFBdEssUUFFQXk5RCxnQkFBQWdCLEtBQUEsY0FDQWwrRCxPQUFBeStELGtCQUFBLEVBQ0F6K0QsT0FBQWsvQixTQUtBbC9CLE9BQUFxK0QsYUFBQVAsTUFBQVEsZUFBQXY4RCxHQUFBZ0ksTUFDQSxTQUFBVCxVQUNBNHpELGVBQUFFLEtBQUEsY0FDQXNCLGVBQUFwMUQsV0FDQSxTQUFBdEksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksWUFDQTVKLE9BQUEySixNQUFBLDRCQWVBM0osT0FBQVIsT0FBQSxXQUFBLE1BQUF1RyxVQUFBRSxJQUFBLHFCQUFBLFNBQUF4RyxVQUNBTyxPQUFBK3dCLGlCQUFBM3ZCLFNBQUEzQixTQUFBQSxTQUFBLGFBQ0FPLE9BQUFneEIsbUJBQUEsY0FBQWh4QixPQUFBK3dCLGtCQUFBLEdBQUEsR0FNQS93QixRQUFBazFCLElBQUEsNEJBQUEsU0FBQWh6QixNQUFBaXpCLE1BQ0EsR0FBQW4xQixPQUFBbWdFLHdCQUFBLEVBQUEsQ0FFQUMsdUJBQ0EsSUFBQUMsV0FBQWxyQyxLQUFBbXJDLFlBQ0F0Z0UsUUFBQXVnRSxpQkFDQUMsU0FBQUgsVUFBQUksT0FBQS90QyxJQUNBZ3VDLFVBQUFMLFVBQUFJLE9BQUE5dEMsS0FNQTN5QixPQUFBbS9CLFFBQUF4OEIsTUFDQXk4QixNQUFBLFVBQ0ExTSxJQUFBMXlCLE9BQUF1Z0UsZ0JBQUFDLFNBQ0E3dEMsSUFBQTN5QixPQUFBdWdFLGdCQUFBRyxVQUNBMStELFFBQUEsVUFDQSt6QixLQUFBL0MsTUFBQTRyQyxRQUNBOXVELFFBQUEseUJBQ0FrbUIsV0FBQSxFQUNBN3lCLE9BQUEsRUFDQXVQLE9BQ0E1QyxRQUFBLFdBQ0FuSyxTQUNBdTZELFFBQUEsRUFDQS9zQyxVQUFBLHFCQU9BLElBQUFpdEMsdUJBQUEsV0FFQSxHQUFBTyxrQkFBQTNnRSxPQUFBbS9CLFFBQUEzd0IsSUFBQSxTQUFBb3lELEtBQ0EsTUFBQUEsS0FBQTUrRCxVQUNBa0ksUUFBQSxVQUVBeTJELGtCQUFBLEtBQ0EzZ0UsT0FBQW0vQixRQUFBaDFCLE9BQUF3MkQsaUJBQUEsR0FDQTNnRSxPQUFBdWdFLG9CQUtBdmdFLFFBQUFrMUIsSUFBQSxpQ0FBQSxTQUFBaHpCLE1BQUFpekIsTUFDQSxHQUFBQyxpQkFBQUQsS0FBQXgxQixLQUNBSyxRQUFBdWdFLGlCQUNBQyxTQUFBcHJDLGdCQUFBMUMsSUFDQWd1QyxVQUFBdHJDLGdCQUFBekMsT0FJQTN5QixPQUFBUixPQUFBLHVCQUFBLFdBQ0FRLE9BQUE2Z0UscUJBQUE3Z0UsT0FBQW1nRSxxQkFBQSwwQkFBQSx5QkFDQW5nRSxPQUFBOGdFLFNBQUE5Z0UsT0FBQW1nRSxzQkFBQXR0RCxPQUFBLGNBQUFBLE9BQUEsUUFDQTdTLE9BQUFtZ0Usc0JBQUFDLDBCQU1BcGdFLE9BQUErZ0Usa0JBQUEsV0FDQTMvRCxTQUFBcEIsT0FBQXVnRSxnQkFBQUMsVUFBQXAvRCxTQUFBcEIsT0FBQXVnRSxnQkFBQUcsVUFDQXpnRSxPQUFBNkIsR0FBQSxrQkFBQUMsR0FBQSxFQUFBeStELFNBQUF4Z0UsT0FBQXVnRSxnQkFBQUMsU0FBQUUsVUFBQTFnRSxPQUFBdWdFLGdCQUFBRyxZQUVBNXVELE1BQUEsa0VBMERBc3NCLFlBQUE0aUMsU0FBQW4vRCxLQUFBLFNBQUEyTSxLQUNBLEdBQUF5eUQsa0JBQUEsR0FBQW5DLEdBQUFvQyxRQUFBQyxXQUNBQyxTQUFBLEdBQUF0QyxHQUFBcUMsVUFBQUUsU0FBQUMsS0FDQXJ3RCxTQUFBLFVBQ0Fzd0QsVUFBQSxJQUVBTixrQkFBQU8sTUFBQWh6RCxhQUdBdE8sT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQ0FuUixRQUFBaWxDLE9BQUE3aUMsUUFDQTZRLFFBQ0FzdUIsU0FDQXJNLE9BQUE3QixvQkFBQThCLHVCQUdBTixXQUNBQyxJQUFBLE9BQ0FDLElBQUEsUUFDQUMsS0FBQSxFQUNBa1EsUUFBQSxHQUVBZzlCLFlBQ0EyQixxQkFDQUMsU0FBQSxFQUNBQyxRQUFBLEVBQ0FDLFlBQ0FGLFNBQUEsRUFDQUMsUUFBQSxJQUdBemlDLFNBQ0FDLFdBQ0E0RCxzQkFDQW85QixzQkFBQSxFQUNBSSxtQkF1QkF2OUIsUUFDQUMsWUFDQTQrQixNQUNBbHNELEtBQUEsT0FDQXJDLEtBQUEsVUFDQThyQixNQUFBLE9BQ0ErRCxTQUFBLEdBRUEyK0IsU0FDQW5zRCxLQUFBLFVBQ0FyQyxLQUFBLFVBQ0E4ckIsTUFBQSxVQUNBK0QsU0FBQSxHQUVBRCxNQUNBdnRCLEtBQUEsb0JBQ0FyQyxLQUFBLFVBQ0E4ckIsTUFBQSxjQUNBK0QsU0FBQSxHQUVBNCtCLFVBQ0Fwc0QsS0FBQSxzQkFDQXJDLEtBQUEsVUFDQThyQixNQUFBLHFCQUNBK0QsU0FBQSxHQUVBNitCLFFBQ0Fyc0QsS0FBQSxTQUNBckMsS0FBQSxVQUNBOHJCLE1BQUEsU0FDQStELFNBQUEsR0FFQTgrQixVQUNBdHNELEtBQUEsV0FDQXJDLEtBQUEsVUFDQThyQixNQUFBLFdBQ0ErRCxTQUFBLEdBRUErK0IsU0FDQXZzRCxLQUFBLFVBQ0FyQyxLQUFBLFVBQ0E4ckIsTUFBQSxVQUNBK0QsU0FBQSxHQUVBZy9CLGNBQ0F4c0QsS0FBQSxnQkFDQXJDLEtBQUEsVUFDQThyQixNQUFBLGVBQ0ErRCxTQUFBLEdBRUFpL0IsU0FDQXpzRCxLQUFBLFVBQ0FyQyxLQUFBLFVBQ0E4ckIsTUFBQSxVQUNBK0QsU0FBQSxJQUdBQyxVQUNBQyxVQUNBL3ZCLEtBQUEsUUFDQXFDLEtBQUEsWUFDQXd0QixTQUFBLEdBRUFrL0IsYUFDQS91RCxLQUFBLFFBQ0FxQyxLQUFBLGdCQUNBd3RCLFNBQUEsR0FFQXk3QixTQUNBdHJELEtBQUEsUUFDQXFDLEtBQUEsVUFDQXd0QixTQUFBLEVBQ0FtL0IsYUFDQUMsZ0JBQUEsSUFvQkFDLE1BQ0E3c0QsS0FBQSxhQUNBckMsS0FBQSxhQUNBazBDLElBQUEsaUdBQ0Fya0IsU0FBQSxFQUNBcy9CLGNBRUFDLFFBQUEsRUFDQUMsYUFBQSxTQUFBQyxRQUFBbkMsUUFDQSxNQUFBM0IsR0FBQTVyRCxPQUFBdXRELFFBQ0ExcUMsS0FBQS9DLE1BQUE0dkMsUUFBQUMsV0FBQXhoRSxXQUdBeWhFLGNBQUEsU0FBQUMsUUFBQTNqQyxPQUVBLEdBQUE0akMsVUFBQSxtREFBQUQsUUFBQUYsV0FBQUksU0FBQUMsY0FBQSxTQUVBOWpDLE9BQUErakMsVUFBQSxtQkFBQUosUUFBQUYsV0FBQUksU0FBQSxpQ0FBQUYsUUFBQUYsV0FBQXJiLElBQUEsd0RBQUF3YixTQUFBLGNBS0FJLE9BQ0F6dEQsS0FBQSxnQkFDQXJDLEtBQUEsYUFDQWswQyxJQUFBLHVHQUNBcmtCLFNBQUEsRUFDQXMvQixjQUNBei9CLFFBQUEsR0FDQTAvQixRQUFBLElBR0FXLFdBQ0ExdEQsS0FBQSx5QkFDQXJDLEtBQUEsYUFDQWswQyxJQUFBLDZHQUNBcmtCLFNBQUEsRUFDQXMvQixjQUNBei9CLFFBQUEsR0FDQTAvQixRQUFBLGVDdmtCQSxXQUVBLFlBRUEsSUFBQS9rRSxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLGdCQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsU0FBQSxRQUFBLFlBQUEsVUFDQSxlQUFBLG9CQUFBLFlBQUEsY0FBQSxhQUFBLGdCQUFBLG9CQUNBLGlCQUFBLGNBQUEsa0JBQUEsYUFBQSxPQUFBLGtCQUFBLE1BQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUFDLFVBQUEvRixPQUFBQyxNQUFBRSxVQUFBeWtCLFFBQUE4ZSxhQUFBQyxrQkFBQUMsVUFDQUMsWUFBQWdELFdBQUExWixjQUFBMlosa0JBQUFDLGVBQUFDLFlBQUFDLGdCQUFBQyxXQUFBaG5DLEtBQUFpbkMsZ0JBQUFDLEtBQ0EsR0FBQWptQyxTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUVBTCxXQUFBTSxTQUFBLFlBQ0FwRyxPQUFBc2pFLFdBRUEsSUFBQTU3QixXQUFBLFNBQUFwb0MsR0FDQSxHQUFBcW9DLE9BQUEsR0FBQXYzQixLQUNBLE1BQUE5USxHQUFBOEIsU0FBQTlCLElBRUFxb0MsTUFBQSxHQUFBdjNCLE1BQUE5USxHQUdBLElBQUF3VSxNQUFBNnpCLE1BQUE3bEIsY0FDQWpPLE1BQUE4ekIsTUFBQTVsQixXQUNBcE8sS0FBQSxJQUFBZzBCLE1BQUExbEIsV0FBQUQsTUFBQSxJQUNBNGxCLFlBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FDLFdBQUEsR0FBQXozQixNQUFBdzNCLFdBQUEvekIsT0FBQSxJQUFBRixJQUFBLEtBQUFHLEtBQ0EsT0FBQSt6QixZQUVBN25DLFFBQUFzMkI7QUFDQXQyQixPQUFBNnpCLE9BQUEwdkMsVUFBQXg5RCxTQUFBRSxJQUFBLFFBQ0FqRyxPQUFBOG5DLEtBQUEwN0IsaUJBQUE5N0IsVUFBQSxLQUNBMW5DLE9BQUF5b0MsTUFBQWc3QixnQkFBQSxXQUFBQyxLQUFBLE1BQUFDLFVBQUFqOEIsVUFBQSxJQUFBazhCLFdBQUEsR0FDQTVqRSxPQUFBcUIsUUFBQXdqQyxVQUFBLEVBQUFDLFFBQUEsRUFBQUUsU0FBQSxHQUNBaGxDLE9BQUFnb0Msa0JBQ0Fob0MsT0FBQWlvQyxvQkFDQWpvQyxPQUFBa29DLG9CQUFBLEVBRUFsb0MsT0FBQW1vQyxhQUFBeEUsYUFBQTNqQyxPQUFBb29DLGtCQUFBeEUsa0JBQ0E1akMsT0FBQXlHLFVBQUFvOUIsVUFBQTdqQyxPQUFBcW9DLGNBQUF2RSxZQUFBOWpDLE9BQUE0eEIsbUJBQ0E1eEIsT0FBQXNvQyxXQUFBeEIsV0FBQTltQyxPQUFBOEwsY0FBQXNoQixjQUNBcHRCLE9BQUF1b0MsbUJBQUF4QixrQkFBQS9tQyxPQUFBd29DLFdBQUF4QixlQUNBaG5DLE9BQUErb0MsWUFBQTlCLFlBQUFqbkMsT0FBQWdwQyxZQUFBOUIsZ0JBQUFsbkMsT0FBQWlwQyxXQUFBOUIsV0FFQW5uQyxPQUFBa3BDLFVBQUEsS0FDQWxwQyxPQUFBbXBDLE9BQUEsS0FHQW5wQyxPQUFBb3BDLGlCQUFBLFdBQ0FwcEMsT0FBQWlvQyxpQkFBQXRsQyxNQUFBa2hFLG1CQUFBN2pFLE9BQUE4bkMsSUFBQSs3QixtQkFBQUMsV0FBQSxHQUFBQyxnQkFBQSxLQUNBL2pFLE9BQUFrb0Msb0JBQUEsR0FJQWxvQyxPQUFBaVYsY0FDQWpWLE9BQUF1QixLQUFBLFNBQUEyVCxPQUFBL1MsT0FDQStTLE9BQUEzUyxpQkFDQTJTLE9BQUFDLGtCQUVBblYsT0FBQWlWLFdBQUE5UyxRQUFBLEdBTUFuQyxPQUFBczJCLFlBQUFqMkIsSUFBQSxLQUNBTCxPQUFBNnhCLE1BR0EsSUFBQXlCLFNBQUEsU0FBQUMsSUFBQUMsSUFBQTNlLEtBQ0EsR0FBQTRlLEtBQUEsQ0FDQSxPQUFBLEdBQUFGLEtBQ0FFLElBQUEsR0FBQUYsSUFBQSxFQUFBQyxJQUFBLEdBQUEsRUFBQTNlLElBQUEsTUFDQSxHQUFBNGUsS0FBQUMsUUFBQSxLQUdBRCxJQUFBLEVBQUFGLElBQUEsRUFBQUMsSUFBQSxHQUFBLEVBQUEzZSxJQUFBLEtBQ0EsSUFBQTZlLFFBQUEsS0FLQTRCLFdBQUEsU0FBQS9CLEtBQ0EsRUFBQUEsTUFDQUEsSUFBQUEsSUFBQWpmLFdBR0FpZixJQUFBQSxJQUFBbmIsVUFBQSxHQUVBLElBQUE5WSxHQUFBZ21CLEtBQUEwUyxNQUFBekUsS0FDQTBFLFNBQUEsSUFBQTFFLElBQUFqMEIsR0FDQW1WLEVBQUE2USxLQUFBMFMsTUFBQUMsVUFDQTkyQixHQUFBLElBQUE4MkIsU0FBQXhqQixJQUFBaWYsUUFBQSxFQUVBLE9BQUEsR0FBQXAwQixFQUFBLElBQUFtVixFQUFBLElBQUF0VCxFQUlBbkIsUUFBQWs0QixjQUFBLFdBQ0EsR0FBQSxNQUFBbDRCLE9BQUFzMkIsWUFBQWoyQixLQUVBLEdBQUFlLFNBQUFwQixPQUFBNnhCLElBQUErQixNQUFBLENBRUE1ekIsT0FBQTZ6QixNQUFBbXdDLFlBQUExd0MsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsT0FDQS96QixPQUFBNnpCLE1BQUFvd0MsYUFBQTN3QyxRQUFBdHpCLE9BQUE2eEIsSUFBQW1DLE1BQUFoMEIsT0FBQTZ4QixJQUFBb0MsTUFBQWowQixPQUFBNnhCLElBQUFxQyxZQUtBLElBQUE5eUIsU0FBQXBCLE9BQUE2ekIsTUFBQW13QyxZQUFBLENBQ0EsR0FBQTN1QyxRQUFBQyxXQUFBdDFCLE9BQUE2ekIsTUFBQW13QyxhQUFBMXZELFdBQ0FpaEIsWUFBQUYsT0FBQXoyQixNQUFBLElBQ0FvQixRQUFBNnhCLElBQUErQixNQUFBMkIsWUFBQSxHQUNBdjFCLE9BQUE2eEIsSUFBQWlDLE1BQUF5QixZQUFBLEdBQ0F2MUIsT0FBQTZ4QixJQUFBa0MsTUFBQXdCLFlBQUEsRUFFQSxJQUFBQyxTQUFBRixXQUFBdDFCLE9BQUE2ekIsTUFBQW93QyxjQUNBeHVDLGFBQUFELFFBQUE1MkIsTUFBQSxJQUNBb0IsUUFBQTZ4QixJQUFBbUMsTUFBQSxHQUFBeUIsYUFBQSxHQUNBejFCLE9BQUE2eEIsSUFBQW9DLE1BQUF3QixhQUFBLEdBQ0F6MUIsT0FBQTZ4QixJQUFBcUMsTUFBQXVCLGFBQUEsS0FNQXoxQixPQUFBZ2YsTUFBQSxTQUFBQyxLQUNBLEdBQUFDLFVBQUFELEtBQUFFLE9BQUFqZCxNQUNBa2QsSUFBQUYsU0FBQUcsU0FBQUgsU0FBQS9jLEtBQ0EsS0FBQWlkLEtBQUEsSUFBQUEsS0FBQUEsSUFBQSxLQUFBLEdBQUFBLEtBQUFBLElBQUEsTUFDQUYsU0FBQUksYUFBQSxFQUNBSixTQUFBM2MsZ0JBQUEyYyxTQUFBM2MsbUJBS0F2QyxPQUFBMDFCLFdBQUEsaUJBRUExMUIsUUFBQTZ6QixNQUFBcXdDLGNBQUFsa0UsUUFBQTZ6QixNQUFBc3dDLFdBQUFua0UsUUFBQTZ6QixNQUFBWSxNQUNBejBCLE9BQUE0eEIseUJBQUE1eEIsUUFBQTZ6QixNQUFBdXdDLElBRUF0K0QsV0FBQTBELGVBQUFDLGFBQUEsQ0FDQSxJQUFBNDZELFVBQUEsR0FBQUMsUUFBQUMsS0FBQUMsU0FDQS9ELE9BQUEsR0FBQTZELFFBQUFDLEtBQUFFLE9BQUF6a0UsT0FBQTZ6QixNQUFBbXdDLFlBQUFoa0UsT0FBQTZ6QixNQUFBb3dDLGFBQ0FJLFVBQUFLLFNBQUFDLE9BQUFsRSxRQUFBLFNBQUFtRSxRQUFBdmpFLFFBQ0EsR0FBQUEsUUFBQWlqRSxPQUFBQyxLQUFBTSxlQUFBQyxHQUFBLENBRUEsR0FBQUMsb0JBQUFILFFBQUEsR0FBQUcsbUJBQ0FDLGFBQ0FwOUQsR0FBQUMsS0FBQWs5RCxtQkFBQSxTQUFBRSxFQUFBQyxJQUNBdDlELEVBQUFDLEtBQUFxOUQsR0FBQUMsTUFBQSxTQUFBQyxHQUFBQyxJQUNBTCxXQUFBSyxJQUFBSCxHQUFBSSxjQUlBdGxFLE9BQUE2ekIsTUFBQXF3QyxRQUFBOWlFLFNBQUE0akUsV0FBQU8sY0FBQVAsV0FBQU8sY0FBQSxJQUFBUCxXQUFBUSxNQUFBUixXQUFBUSxNQUNBeGxFLE9BQUE2ekIsTUFBQXN3QyxLQUFBYSxXQUFBUyxRQUVBLElBQUF6d0MsV0FBQWgxQixPQUFBeUcsVUFBQTBGLE9BQUEsU0FBQWhMLEdBQUEsTUFBQUEsR0FBQXVrRSxZQUFBVixXQUFBVyw4QkFBQSxFQUNBdmtFLFVBQUE0ekIsV0FDQWgxQixPQUFBNnpCLE1BQUFZLE1BQUFPLFVBQUE0d0MsYUFDQTVsRSxPQUFBNHhCLGdCQUFBNXhCLE9BQUFxb0MsY0FBQWw4QixPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBZ3hDLFVBQUE3d0MsVUFBQTZ3QyxXQUNBN2xFLE9BQUE2ekIsTUFBQWl5QyxPQUFBZCxXQUFBZSw0QkFDQS9sRSxPQUFBNnpCLE1BQUF1d0MsSUFBQVksV0FBQWdCLFlBQ0FsZ0UsV0FBQTBELGVBQUFDLGFBQUEsRUFDQXpKLE9BQUFvQyxXQUVBMEQsV0FBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQSx5RUFHQTdELFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUEsNERBVUEzSixPQUFBUixPQUFBLFdBQUEsTUFBQXVHLFVBQUFFLElBQUEscUJBQUEsU0FBQXhHLFVBQ0FPLE9BQUErd0IsaUJBQUEzdkIsU0FBQTNCLFNBQUFBLFNBQUEsYUFDQU8sT0FBQWd4QixtQkFBQSxjQUFBaHhCLE9BQUErd0Isa0JBQUEsR0FBQSxJQUlBL3dCLE9BQUFvOUIsaUJBQUEsU0FBQWo4QixHQUNBLEdBQUE2ekIsV0FBQWgxQixPQUFBeUcsVUFBQTBGLE9BQUEsU0FBQTdCLElBQUEsTUFBQUEsSUFBQXM3RCxjQUFBemtFLElBQUEsRUFDQW5CLFFBQUE0eEIsZ0JBQUE1eEIsT0FBQXFvQyxjQUFBbDhCLE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFneEMsVUFBQTd3QyxVQUFBNndDLFlBSUE3bEUsT0FBQStwQyxlQUFBLFdBQ0EsR0FBQS9wQyxPQUFBOG5DLElBQUFtK0IsZUFDQWptRSxPQUFBOG5DLElBQUFvK0IsWUFBQSxNQUlBLElBQUFoOEIsUUFBQSxTQUFBbm5CLElBQ0EsR0FBQW9uQixTQUNBMDVCLG1CQUFBemlFLFNBQUEyaEIsR0FBQThnRCxtQkFBQTlnRCxHQUFBOGdELG1CQUFBLEVBQ0FsdkMsS0FBQTVSLEdBQUE0UixLQUNBd3hDLFlBQUFwakQsR0FBQW9qRCxZQUNBQyxRQUFBaGxFLFNBQUEyaEIsR0FBQXFqRCxRQUFBcmpELEdBQUFxakQsUUFBQSxLQUNBNUMsaUJBQUF6Z0QsR0FBQXlnRCxpQkFDQTZDLGdCQUFBamxFLFNBQUEyaEIsR0FBQXNqRCxnQkFBQXRqRCxHQUFBc2pELGdCQUFBLEVBQ0FDLFNBQUFsbEUsU0FBQTJoQixHQUFBdWpELFNBQUF2akQsR0FBQXVqRCxTQUFBLEtBQ0FDLFFBQUF4akQsR0FBQXdqRCxRQUNBQyxVQUFBcGxFLFNBQUEyaEIsR0FBQXlqRCxVQUFBempELEdBQUF5akQsVUFBQSxFQUNBeEMsWUFBQWpoRCxHQUFBaWhELFlBQ0FDLGFBQUFsaEQsR0FBQWtoRCxhQUNBd0MsVUFBQXJsRSxTQUFBMmhCLEdBQUEwakQsVUFBQTFqRCxHQUFBMGpELFVBQUEsRUFDQUMsbUJBQUF0bEUsU0FBQTJoQixHQUFBMmpELG1CQUFBM2pELEdBQUEyakQsbUJBQUEsRUFDQUMsbUJBQUF2bEUsU0FBQTJoQixHQUFBNGpELG1CQUFBNWpELEdBQUE0akQsbUJBQUEsRUFDQUMsV0FBQTdqRCxHQUFBNmpELFdBQ0FDLGVBQUF6bEUsU0FBQTJoQixHQUFBOGpELGVBQUE5akQsR0FBQThqRCxlQUFBLEtBQ0FYLFlBQUE5a0UsU0FBQTJoQixHQUFBbWpELFlBQUFuakQsR0FBQW1qRCxZQUFBLEtBQ0FELGFBQUE3a0UsU0FBQTJoQixHQUFBa2pELGFBQUFsakQsR0FBQWtqRCxhQUFBLEtBQ0FhLGNBQUExbEUsU0FBQTJoQixHQUFBK2pELGNBQUEvakQsR0FBQStqRCxjQUFBLEtBRUEsT0FBQTM4QixTQUlBVSxlQUFBLFNBQUFDLE9BRUEsU0FBQUEsTUFBQTVCLFlBQ0FscEMsT0FBQThuQyxJQUFBb0IsVUFBQSxLQUNBbHBDLE9BQUE4bkMsSUFBQXMrQixRQUFBLE9BQUFwbUUsT0FBQThuQyxJQUFBcytCLFNBR0EsTUFBQXQ3QixNQUFBM0IsU0FDQW5wQyxPQUFBOG5DLElBQUFxQixPQUFBLEtBQ0FucEMsT0FBQThuQyxJQUFBbytCLFlBQUFsbUUsT0FBQThuQyxJQUFBbytCLFlBQUEsT0FJQWxtRSxRQUFBc3JDLFlBQUEsRUFBQXRyQyxPQUFBdXJDLFVBQUEsRUFBQXZyQyxPQUFBd3JDLFdBQUEsRUFDQXhyQyxPQUFBNjdCLE9BQUEsV0FDQS8xQixXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLElBQUFnaUMsU0FBQXpyQyxPQUFBc2pFLFNBQUF5RCxRQUNBLElBREEvbUUsT0FBQXNyQyxZQUFBLEVBQUF0ckMsT0FBQXVyQyxVQUFBLEVBQUF2ckMsT0FBQXdyQyxXQUFBLEVBQ0FDLFFBQUFwcUIsT0FBQSxDQUVBbmhCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUVBLElBQUFvN0IsZUFBQSxDQUNBLzdCLFFBQUE2ekIsTUFBQW93QyxhQUFBLElBQ0Fqa0UsT0FBQTZ6QixNQUFBb3dDLGFBQUEsR0FBQWprRSxPQUFBNnpCLE1BQUFvd0MsY0FFQTlqRSxLQUFBK1osS0FBQWxhLE9BQUE2ekIsTUFBQSxTQUFBdnFCLFVBQ0F5eUIsY0FBQXp5QixTQUFBaTlELFFBQ0F2bUUsT0FBQThuQyxJQUFBeStCLFFBQUF4cUMsY0FBQS83QixPQUFBOG5DLElBQUFrOEIsWUFBQTE2RCxTQUFBMDZELFlBQUFoa0UsT0FBQThuQyxJQUFBbThCLGFBQUEzNkQsU0FBQTI2RCxhQUNBamtFLE9BQUE4bkMsSUFBQTIrQixVQUFBbjlELFNBQUFtOUQsVUFBQXptRSxPQUFBOG5DLElBQUE0K0IsbUJBQUFwOUQsU0FBQW85RCxtQkFFQTFtRSxPQUFBeW9DLEtBQUE4OUIsUUFBQXhxQyxjQUFBLzdCLE9BQUF5b0MsS0FBQXUrQixVQUFBMTlELFNBQUEwOUQsVUFBQWhuRSxPQUFBeW9DLEtBQUF1N0IsWUFBQTE2RCxTQUFBMDZELFlBQ0Foa0UsT0FBQXlvQyxLQUFBdzdCLGFBQUEzNkQsU0FBQTI2RCxhQUFBamtFLE9BQUF5b0MsS0FBQWkrQixtQkFBQXA5RCxTQUFBbzlELG1CQUNBMW1FLE9BQUF5b0MsS0FBQWcrQixVQUFBbjlELFNBQUFtOUQsVUFBQXptRSxPQUFBeW9DLEtBQUF3K0IsYUFBQTM5RCxTQUFBaTZELFVBQUF2akUsT0FBQXlvQyxLQUFBeStCLFNBQUFuaEUsU0FBQUUsSUFBQSxpQkFHQSxJQUFBMmxDLGFBRUFmLGdCQUFBN3FDLE9BQUE4bkMsSUFDQSxJQUFBK0QsVUFBQTNCLE9BQUFscUMsT0FBQThuQyxJQUVBVixpQkFBQWx0QixLQUFBMnhCLFNBQUEsU0FBQXZpQyxVQUVBLEdBREFzaUMsVUFBQXRpQyxTQUNBdEosT0FBQWlvQyxpQkFBQXZpQyxPQUFBLEVBRUEsSUFBQSxHQUFBb21DLEtBQUEsRUFBQUEsSUFBQTlyQyxPQUFBaW9DLGlCQUFBdmlDLE9BQUFvbUMsTUFDQTFFLGdCQUFBKy9CLG1CQUFBcGxFLEdBQUF1SCxTQUFBdTZELG9CQUFBN2pFLE9BQUFpb0MsaUJBQUE2RCxNQUFBcjhCLFFBS0FyTyxVQUFBcEIsT0FBQXlvQyxLQUFBMitCLGNBQ0FwbkUsT0FBQXlvQyxLQUFBNCtCLGVBQUFybkUsT0FBQXlvQyxLQUFBdytCLGNBRUE3bEUsU0FBQXBCLE9BQUF5b0MsS0FBQTI5QixVQUVBaGxFLFNBQUFwQixPQUFBeW9DLEtBQUEyK0IsY0FDQXBuRSxPQUFBeW9DLEtBQUEyK0IsWUFBQTEvQixVQUFBLEtBRUExbkMsT0FBQXlvQyxLQUFBNCtCLGVBQUFybkUsT0FBQXlvQyxLQUFBdytCLGNBRUE1L0IsSUFBQW50QixLQUFBbGEsT0FBQXlvQyxNQUFBaDVCLFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBSSxPQUFBK00sUUFBQSxxQkFDQTNRLFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0F6RCxVQUFBRyxLQUFBLFNBQUE0MUIsY0FBQSxrQkFBQTM5QixVQUNBNEIsT0FBQTRtQyxnQkFNQTlnQyxZQUFBMEQsZUFBQUMsYUFBQSxFQUNBekosT0FBQXFCLE9BQUF3akMsVUFBQSxFQUNBN2tDLE9BQUFxQixPQUFBeWpDLFFBQUEsRUFDQTlrQyxPQUFBcUIsT0FBQTJqQyxTQUFBLEVBRUFwbkMsUUFBQVksUUFBQSxVQUFBaXRDLFFBQUFTLE1BQUEsTUFBQUMsS0FBQSw2QkFBQWhwQyxTQUVBc29DLFFBQUE2N0IsaUJBQUFqN0IsVUFBQVosUUFBQXU0QixZQUFBMzNCLFVBQUFaLFFBQUF3NEIsYUFBQTUzQixVQUFBWixRQUFBZzdCLFVBQUFwNkIsVUFBQVosUUFBQWk3QixtQkFBQXI2QixVQUFBWixRQUFBdTdCLFVBQUEzNkIsVUFBQVosUUFBQWhYLE1BQUE2WCxXQUFBYixRQUFBcTZCLE9BQUF6NUIsWUFDQXJzQyxPQUFBc3JDLFlBQUEsSUFFQUcsUUFBQW03QixXQUFBdjZCLFVBQUFaLFFBQUE5VyxLQUFBMFgsVUFBQVosUUFBQTA2QixZQUFBOTVCLFVBQUFaLFFBQUFjLEdBQUFGLFlBQ0Fyc0MsT0FBQXVyQyxVQUFBLElBRUFFLFFBQUE4N0IsWUFBQWw3QixVQUFBWixRQUFBZzRCLGdCQUFBcDNCLFVBQUFaLFFBQUErN0IsZUFBQW43QixVQUFBWixRQUFBdDhCLEdBQUFrOUIsWUFDQXJzQyxPQUFBd3JDLFdBQUEsR0FFQTloQyxPQUFBQyxNQUFBLGtDQzdUQSxXQUVBLFlBRUEsSUFBQVksa0JBQUEzTSxRQUFBQyxPQUFBLG1CQUNBME0sa0JBQUF4SyxXQUFBLGdCQUFBLFNBQUEsYUFBQSxXQUFBLFFBQUEsT0FBQSxvQkFBQSxZQUFBLGFBQUEsYUFBQSxlQUFBLGFBQUEsVUFBQSxjQUFBLGNBQUEsYUFBQSxVQUFBLGFBQUEsTUFBQSxTQUFBLE9BQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUE3RixNQUFBc0ssS0FBQWhKLGtCQUFBcEIsVUFBQXFLLFdBQUFDLFdBQUFDLGFBQUFFLFdBQUE0OEQsUUFBQW5wQyxZQUFBb3BDLFlBQUE5OEQsV0FBQSs4RCxRQUFBejhELFdBQUFtOEIsSUFBQTk3QixPQUFBRCxNQUVBdEwsT0FBQXdHLE1BQUFvaEUsT0FBQSxVQUNBNW5FLE9BQUEyVSxHQUFBa3pELE9BQUEsRUFBQUMsV0FBQSxHQUNBOW5FLE9BQUErb0MsWUFBQXArQixhQUFBLEdBQ0EzSyxPQUFBZ3BDLFlBQUFyK0IsYUFBQSxHQUNBM0ssT0FBQStuRSxZQUFBcDlELGFBQUEsR0FDQTNLLE9BQUFnb0UsV0FBQXI5RCxhQUFBLEdBQ0EzSyxPQUFBc3pELFlBQUEzb0QsYUFBQSxHQUNBM0ssT0FBQWlvRSxXQUFBdDlELGFBQUEsR0FDQTNLLE9BQUFpcEMsV0FBQXQrQixhQUFBLEdBQ0EzSyxPQUFBNEwsVUFBQWpCLGFBQUEsR0FDQTNLLE9BQUE2TCxhQUFBbEIsYUFBQSxHQUNBM0ssT0FBQWdNLFVBQUFuQixXQUFBb0Isa0JBQ0FqTSxPQUFBa29FLFNBQUEsVUFBQVQsUUFBQXpuRSxPQUFBZ00sVUFBQUcsT0FBQSxTQUFBQyxJQUFBLE1BQUFBLElBQUE2SixRQUFBd3hELFFBQUF4eEQsWUFDQWpXLE9BQUFtb0UsY0FBQW5vRSxPQUFBa29FLFNBQUEvN0QsT0FBQSxTQUFBSSxJQUFBLE1BQUEsS0FBQUEsR0FBQUMsY0FDQXhNLE9BQUF5TSxjQUFBLEVBQ0F6TSxPQUFBa04sU0FBQW5ILFNBQUFFLElBQUEsYUFDQWpHLE9BQUFvb0UsV0FBQSxHQUNBcG9FLE9BQUFxb0UsYUFBQSxHQUNBcm9FLE9BQUFtTixhQUFBLEVBQ0FuTixPQUFBb04sZ0JBQ0FwTixPQUFBdU4sVUFBQTlDLFdBRUF6SyxPQUFBbWUsa0JBQUEsV0FDQW5lLE9BQUFtTixhQUFBbk4sT0FBQW1OLGFBSUFuTixPQUFBb2UsWUFBQSxXQUNBcGUsT0FBQXFlLFVBQUFyZSxPQUFBNEwsVUFBQU8sT0FBQSxTQUFBMUgsSUFBQSxNQUFBQSxJQUFBNlosVUFBQXRlLE9BQUFvTixhQUFBa1IsV0FBQSxHQUFBQyxZQUdBdmUsT0FBQTZlLGVBQUEzVCxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxHQUVBakcsT0FBQXlvQyxRQUNBem9DLE9BQUE2eEIsT0FDQTd4QixPQUFBc29FLFlBQUFYLFFBQ0EzbkUsT0FBQWtwQixnQkFFQWxwQixPQUFBaVYsY0FDQWpWLE9BQUF1QixLQUFBLFNBQUEyVCxPQUFBL1MsT0FDQStTLE9BQUEzUyxpQkFDQTJTLE9BQUFDLGtCQUVBblYsT0FBQWlWLFdBQUE5UyxRQUFBLEVBSUEsSUFBQW14QixTQUFBLFNBQUFDLElBQUFDLElBQUEzZSxLQUNBLEdBQUE0ZSxLQUFBLENBQ0EsT0FBQSxHQUFBRixLQUNBRSxJQUFBLEdBQUFGLElBQUEsRUFBQUMsSUFBQSxHQUFBLEVBQUEzZSxJQUFBLE1BQ0EsR0FBQTRlLEtBQUFDLFFBQUEsS0FHQUQsSUFBQSxFQUFBRixJQUFBLEVBQUFDLElBQUEsR0FBQSxFQUFBM2UsSUFBQSxLQUNBLElBQUE2ZSxRQUFBLEtBS0E0QixXQUFBLFNBQUEvQixLQUNBLEVBQUFBLE1BQ0FBLElBQUFBLElBQUFqZixXQUdBaWYsSUFBQUEsSUFBQW5iLFVBQUEsR0FFQSxJQUFBOVksR0FBQWdtQixLQUFBMFMsTUFBQXpFLEtBQ0EwRSxTQUFBLElBQUExRSxJQUFBajBCLEdBQ0FtVixFQUFBNlEsS0FBQTBTLE1BQUFDLFVBQ0E5MkIsR0FBQSxJQUFBODJCLFNBQUF4akIsSUFBQWlmLFFBQUEsRUFFQSxPQUFBLEdBQUFwMEIsRUFBQSxJQUFBbVYsRUFBQSxJQUFBdFQsRUFJQW5CLFFBQUFrNEIsY0FBQSxXQUNBLEdBQUEsUUFBQWw0QixPQUFBdW9FLGlCQUNBLEdBQUEsTUFBQXZvRSxPQUFBd29FLFFBQUFseUMsWUFFQSxHQUFBbDFCLFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxPQUNBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFtQyxPQUFBNXlCLFNBQUFwQixPQUFBNnhCLElBQUFvQyxPQUFBN3lCLFNBQUFwQixPQUFBNnhCLElBQUFxQyxNQUVBbDBCLE9BQUF3b0UsUUFBQTF5RCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsT0FDQS96QixPQUFBd29FLFFBQUF6eUQsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLE9BRUFsMEIsT0FBQTZ4QixXQUNBLENBRUEsR0FBQXlwQyxZQUFBbDdELFVBQUFtQixNQUNBekIsU0FBQSx1VEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUEyNUQsWUFBQTE1RCxPQUFBQyxLQUFBLFlBQ0FULFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxRQUNBbnNCLEVBQUEsVUFBQXpFLFNBQ0EvQixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsUUFDQXRzQixFQUFBLFVBQUF6RSxRQUNBbkQsT0FBQXdvRSxRQUFBbHlDLFlBQUEsWUFLQSxJQUFBbDFCLFNBQUFwQixPQUFBd29FLFFBQUExeUQsWUFBQSxDQUNBLEdBQUF1ZixRQUFBQyxXQUFBdDFCLE9BQUF3b0UsUUFBQTF5RCxhQUFBeEIsV0FDQWloQixZQUFBRixPQUFBejJCLE1BQUEsSUFDQW9CLFFBQUE2eEIsSUFBQStCLE1BQUEyQixZQUFBLEdBQ0F2MUIsT0FBQTZ4QixJQUFBaUMsTUFBQXlCLFlBQUEsR0FDQXYxQixPQUFBNnhCLElBQUFrQyxNQUFBd0IsWUFBQSxFQUVBLElBQUFDLFNBQUFGLFdBQUF0MUIsT0FBQXdvRSxRQUFBenlELGNBQ0EwZixhQUFBRCxRQUFBNTJCLE1BQUEsSUFDQW9CLFFBQUE2eEIsSUFBQW1DLE1BQUEsR0FBQXlCLGFBQUEsR0FDQXoxQixPQUFBNnhCLElBQUFvQyxNQUFBd0IsYUFBQSxHQUNBejFCLE9BQUE2eEIsSUFBQXFDLE1BQUF1QixhQUFBLEdBRUF6MUIsT0FBQXdvRSxRQUFBMXlELFlBQUExVSxPQUFBcEIsT0FBQXdvRSxRQUFBenlELGFBQUEzVSxZQUtBLElBQUEsTUFBQXBCLE9BQUF5b0MsS0FBQW5TLFlBRUEsR0FBQWwxQixTQUFBcEIsT0FBQTZ4QixJQUFBK0IsT0FBQXh5QixTQUFBcEIsT0FBQTZ4QixJQUFBaUMsT0FBQTF5QixTQUFBcEIsT0FBQTZ4QixJQUFBa0MsT0FDQTN5QixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsTUFFQWwwQixPQUFBeW9DLEtBQUEzeUIsWUFBQXdkLFFBQUF0ekIsT0FBQTZ4QixJQUFBK0IsTUFBQTV6QixPQUFBNnhCLElBQUFpQyxNQUFBOXpCLE9BQUE2eEIsSUFBQWtDLE9BQ0EvekIsT0FBQXlvQyxLQUFBMXlCLGFBQUF1ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQW1DLE1BQUFoMEIsT0FBQTZ4QixJQUFBb0MsTUFBQWowQixPQUFBNnhCLElBQUFxQyxPQUVBbDBCLE9BQUE2eEIsV0FDQSxDQUVBLEdBQUFzRyxVQUFBLzNCLFVBQUFtQixNQUNBekIsU0FBQSx1VEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUF3MkIsVUFBQXYyQixPQUFBQyxLQUFBLFlBQ0FULFNBQUFwQixPQUFBNnhCLElBQUErQixPQUFBeHlCLFNBQUFwQixPQUFBNnhCLElBQUFpQyxPQUFBMXlCLFNBQUFwQixPQUFBNnhCLElBQUFrQyxRQUNBbnNCLEVBQUEsVUFBQXpFLFNBQ0EvQixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsT0FBQTV5QixTQUFBcEIsT0FBQTZ4QixJQUFBb0MsT0FBQTd5QixTQUFBcEIsT0FBQTZ4QixJQUFBcUMsUUFDQXRzQixFQUFBLFVBQUF6RSxRQUNBbkQsT0FBQXlvQyxLQUFBblMsWUFBQSxZQUtBLElBQUFsMUIsU0FBQXBCLE9BQUF5b0MsS0FBQTN5QixZQUFBLENBQ0EsR0FBQXlsRCxlQUFBam1DLFdBQUF0MUIsT0FBQXlvQyxLQUFBM3lCLGFBQUF4QixXQUNBa25ELG1CQUFBRCxjQUFBMzhELE1BQUEsSUFDQW9CLFFBQUE2eEIsSUFBQStCLE1BQUE0bkMsbUJBQUEsR0FDQXg3RCxPQUFBNnhCLElBQUFpQyxNQUFBMG5DLG1CQUFBLEdBQ0F4N0QsT0FBQTZ4QixJQUFBa0MsTUFBQXluQyxtQkFBQSxFQUVBLElBQUFDLGdCQUFBbm1DLFdBQUF0MUIsT0FBQXlvQyxLQUFBMXlCLGNBQ0EybEQsb0JBQUFELGVBQUE3OEQsTUFBQSxJQUNBb0IsUUFBQTZ4QixJQUFBbUMsTUFBQSxHQUFBMG5DLG9CQUFBLEdBQ0ExN0QsT0FBQTZ4QixJQUFBb0MsTUFBQXluQyxvQkFBQSxHQUNBMTdELE9BQUE2eEIsSUFBQXFDLE1BQUF3bkMsb0JBQUEsR0FFQTE3RCxPQUFBeW9DLEtBQUEzeUIsWUFBQTFVLE9BQUFwQixPQUFBeW9DLEtBQUExeUIsYUFBQTNVLFFBT0EsSUFBQXEyQixjQUFBLFNBQUFqWSxFQUFBMVAsU0FDQSxHQUFBNG5CLFVBQUF0M0IsVUFBQW1CLE1BQ0F6QixTQUFBLGdPQUdBa1EsU0FDQWt1RCxLQUFBLFdBQ0EsTUFBQXB1RCxXQUdBL1AsWUFBQSxTQUFBLG9CQUFBLE9BQUEsU0FBQUMsT0FBQXdCLGtCQUFBMDhELE1BQ0FsK0QsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFNBRUEsU0FBQXc4RCxPQUFBbCtELE9BQUE4UCxRQUFBLDJDQUVBLFlBQUFvdUQsT0FBQWwrRCxPQUFBOFAsUUFBQSx5R0FFQW5PLEtBQUEsTUFFQSsxQixVQUFBOTFCLE9BQUFDLEtBQUEsU0FBQTgxQixZQUNBLFdBQUFuWSxFQUFBNVgsRUFBQSxnQkFBQXpFLFFBQ0F5RSxFQUFBLFVBQUF6RSxXQUtBeTBCLGNBQUEsU0FBQXBZLEVBQUExUCxTQUNBLEdBQUErbkIsV0FBQXozQixVQUFBbUIsTUFDQXpCLFNBQUEsZ09BR0FrUSxTQUNBa3VELEtBQUEsV0FDQSxNQUFBcHVELFdBR0EvUCxZQUFBLFNBQUEsb0JBQUEsT0FBQSxTQUFBQyxPQUFBd0Isa0JBQUEwOEQsTUFDQWwrRCxPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsU0FFQSxTQUFBdzhELE9BQUFsK0QsT0FBQThQLFFBQUEsa0RBRUEsWUFBQW91RCxPQUFBbCtELE9BQUE4UCxRQUFBLDBHQUVBbk8sS0FBQSxNQUVBazJCLFdBQUFqMkIsT0FBQUMsS0FBQSxTQUFBODFCLFlBQ0EsV0FBQW5ZLEVBQUE1WCxFQUFBLGlCQUFBekUsUUFDQXlFLEVBQUEsVUFBQXpFLFVBS0FuRCxRQUFBODNCLFdBQUEsU0FBQXg0QixHQUNBLEdBQUEsT0FBQUEsRUFBQSxDQUVBLEdBQUFVLE9BQUE2eEIsSUFBQStCLE1BQUEsR0FBQTV6QixPQUFBNnhCLElBQUErQixNQUFBLElBQUErQixNQUFBMzFCLE9BQUE2eEIsSUFBQStCLFFBQUF4eUIsU0FBQXBCLE9BQUE2eEIsSUFBQStCLE9BQUErQixNQUFBMzFCLE9BQUE2eEIsSUFBQWlDLFFBQUExeUIsU0FBQXBCLE9BQUE2eEIsSUFBQWlDLE9BQUE2QixNQUFBMzFCLE9BQUE2eEIsSUFBQWtDLFFBQUEzeUIsU0FBQXBCLE9BQUE2eEIsSUFBQWtDLE1BQ0EwRCxhQUFBLE1BQUEsU0FFQTlCLE1BQUEzMUIsT0FBQTZ4QixJQUFBK0IsU0FBQTV6QixPQUFBNnhCLElBQUErQixNQUFBeHlCLFFBQ0F1MEIsTUFBQTMxQixPQUFBNnhCLElBQUFpQyxTQUFBOXpCLE9BQUE2eEIsSUFBQWlDLE1BQUExeUIsUUFDQXUwQixNQUFBMzFCLE9BQUE2eEIsSUFBQWtDLFNBQUEvekIsT0FBQTZ4QixJQUFBa0MsTUFBQTN5QixZQUNBLENBRUEsR0FBQXN4QixLQUFBWSxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxPQUNBMDBDLE9BQUFkLFFBQUE3eEQsWUFBQTRjLEdBQ0FwTixNQUFBb2pELElBQUFELFFBQUEsTUFBQWh4QyxhQUFBLE1BQUEsWUFFQSxHQUFBejNCLE9BQUE2eEIsSUFBQW1DLE1BQUEsTUFBQWgwQixPQUFBNnhCLElBQUFtQyxNQUFBLEtBQUEyQixNQUFBMzFCLE9BQUE2eEIsSUFBQW1DLFFBQUE1eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW1DLE9BQUEyQixNQUFBMzFCLE9BQUE2eEIsSUFBQW9DLFFBQUE3eUIsU0FBQXBCLE9BQUE2eEIsSUFBQW9DLE9BQUEwQixNQUFBMzFCLE9BQUE2eEIsSUFBQXFDLFFBQUE5eUIsU0FBQXBCLE9BQUE2eEIsSUFBQXFDLE1BQ0EwRCxjQUFBLE1BQUEsU0FFQWpDLE1BQUEzMUIsT0FBQTZ4QixJQUFBbUMsU0FBQWgwQixPQUFBNnhCLElBQUFtQyxNQUFBNXlCLFFBQ0F1MEIsTUFBQTMxQixPQUFBNnhCLElBQUFvQyxTQUFBajBCLE9BQUE2eEIsSUFBQW9DLE1BQUE3eUIsUUFDQXUwQixNQUFBMzFCLE9BQUE2eEIsSUFBQXFDLFNBQUFsMEIsT0FBQTZ4QixJQUFBcUMsTUFBQTl5QixZQUNBLENBRUEsR0FBQTBrQyxJQUFBeFMsUUFBQXR6QixPQUFBNnhCLElBQUFtQyxNQUFBaDBCLE9BQUE2eEIsSUFBQW9DLE1BQUFqMEIsT0FBQTZ4QixJQUFBcUMsT0FDQXkwQyxNQUFBaEIsUUFBQTV4RCxhQUFBK3ZCLEVBQ0F4Z0IsTUFBQW9qRCxJQUFBQyxPQUFBLE1BQUEvd0MsY0FBQSxNQUFBLGlCQUVBLENBRUEsR0FBQWpqQixHQUFBLFFBQUEzVSxPQUFBd0csS0FBQW9oRSxPQUFBNW5FLE9BQUF3b0UsUUFBQXhvRSxPQUFBeW9DLElBRUEsSUFBQTl6QixFQUFBbUIsWUFBQSxHQUFBbkIsRUFBQW1CLFlBQUEsSUFBQTZmLE1BQUFoaEIsRUFBQW1CLGFBQ0EyaEIsYUFBQSxVQUFBLFNBRUE5QixNQUFBaGhCLEVBQUFtQixlQUNBbkIsRUFBQW1CLFlBQUExVSxZQUVBLENBRUEsR0FBQXduRSxhQUFBakIsUUFBQTd4RCxZQUFBbkIsRUFBQW1CLFdBQ0F3UCxNQUFBb2pELElBQUFFLGFBQUEsTUFDQW54QyxhQUFBLFVBQUEsWUFHQSxHQUFBOWlCLEVBQUFvQixhQUFBLE1BQUFwQixFQUFBb0IsYUFBQSxLQUFBNGYsTUFBQWhoQixFQUFBb0IsY0FDQTZoQixjQUFBLFVBQUEsU0FFQWpDLE1BQUFoaEIsRUFBQW9CLGdCQUNBcEIsRUFBQW9CLGFBQUEzVSxZQUVBLENBRUEsR0FBQXluRSxjQUFBbEIsUUFBQTV4RCxhQUFBcEIsRUFBQW9CLFlBQ0F1UCxNQUFBb2pELElBQUFHLGNBQUEsTUFDQWp4QyxjQUFBLFVBQUEsZUFNQTUzQixPQUFBZ2YsTUFBQSxTQUFBQyxLQUNBLEdBQUFDLFVBQUFELEtBQUFFLE9BQUFqZCxNQUNBa2QsSUFBQUYsU0FBQUcsU0FBQUgsU0FBQS9jLEtBQ0EsS0FBQWlkLEtBQUEsSUFBQUEsS0FBQUEsSUFBQSxLQUFBLEdBQUFBLEtBQUFBLElBQUEsTUFDQUYsU0FBQUksYUFBQSxFQUNBSixTQUFBM2MsZ0JBQUEyYyxTQUFBM2MsbUJBSUF2QyxPQUFBdXBDLGNBQUEsV0FDQSxHQUFBNTBCLEdBQUEsUUFBQTNVLE9BQUF3RyxLQUFBb2hFLE9BQUE1bkUsT0FBQXdvRSxRQUFBeG9FLE9BQUF5b0MsSUFDQSxJQUFBLEtBQUE5ekIsRUFBQTYwQixnQkFBQSxDQUNBLEdBQUFwYSxHQUFBbG5CLE9BQUF5TSxFQUFBNjBCLGdCQU1BNzBCLEdBQUE4MEIsZUFBQXpwQyxPQUFBZ3BDLFlBQUE3OEIsT0FBQSxTQUFBd0ksR0FBQSxNQUFBQSxHQUFBKzBCLFdBQUF0YSxHQUFBemEsRUFBQWcxQixXQUFBdmEsSUFBQSxHQUFBcWEsaUJBSUF6cEMsT0FBQTRwQyxxQkFBQSxXQUNBLEdBQUFqMUIsR0FBQSxRQUFBM1UsT0FBQXdHLEtBQUFvaEUsT0FBQTVuRSxPQUFBd29FLFFBQUF4b0UsT0FBQXlvQyxJQUNBLElBQUEsS0FBQTl6QixFQUFBNjBCLGlCQUFBcG9DLFNBQUF1VCxFQUFBNjBCLGdCQUFBLENBQ0EsR0FBQXBhLEdBQUFsbkIsT0FBQXlNLEVBQUE2MEIsaUJBQ0FLLGVBQUE3cEMsT0FBQWdwQyxZQUFBNzhCLE9BQUEsU0FBQXdJLEdBQUEsTUFBQUEsR0FBQSswQixXQUFBdGEsR0FBQXphLEVBQUFnMUIsV0FBQXZhLElBQUEsR0FBQXFhLGNBQ0EsSUFBQTkwQixFQUFBODBCLGlCQUFBSSxlQUFBLENBRUEsR0FBQUMsa0JBQUExcEMsVUFBQW1CLE1BQ0F6QixTQUFBLDZVQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQW1vQyxrQkFBQWxvQyxPQUFBQyxLQUFBLFdBQ0FqRSxRQUFBWSxRQUFBLDRCQUFBMkUsWUFNQSxJQUFBdWtDLFdBQUEsU0FBQXBvQyxHQUNBLEdBQUFxb0MsT0FBQSxHQUFBdjNCLEtBQ0EsTUFBQTlRLEdBQUE4QixTQUFBOUIsSUFFQXFvQyxNQUFBLEdBQUF2M0IsTUFBQTlRLEdBRUEsSUFBQXdVLE1BQUE2ekIsTUFBQTdsQixjQUNBak8sTUFBQTh6QixNQUFBNWxCLFdBQ0FwTyxLQUFBLElBQUFnMEIsTUFBQTFsQixXQUFBRCxNQUFBLElBQ0E0bEIsWUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FDQUMsV0FBQSxHQUFBejNCLE1BQUF3M0IsV0FBQS96QixPQUFBLElBQUFGLElBQUEsS0FBQUcsS0FDQSxPQUFBK3pCLFlBR0EsVUFBQTQvQixTQUVBem5FLE9BQUF1b0UsZ0JBQUEsT0FDQXZvRSxPQUFBeW9DLEtBQUE3cUMsUUFBQStaLEtBQUE4dkQsU0FFQXpuRSxPQUFBeW9DLEtBQUFxZ0MsU0FBQTlvRSxPQUFBK29DLFlBQUE1OEIsT0FBQSxTQUFBc3VCLElBQUEsTUFBQUEsSUFBQStSLGFBQUF4c0MsT0FBQXlvQyxLQUFBK0QsY0FBQSxHQUFBczhCLFNBQ0EsT0FBQTlvRSxPQUFBeW9DLEtBQUFJLGFBQ0E3b0MsT0FBQXlvQyxLQUFBc2dDLFNBQUEvb0UsT0FBQXlvQyxLQUFBSSxXQUFBLEVBQUEsTUFBQSxNQUVBN29DLE9BQUF5b0MsS0FBQXVnQyxPQUFBaHBFLE9BQUF5b0MsS0FBQTZOLFVBQUEsRUFBQXQyQyxPQUFBaXBDLFdBQUE5OEIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBNmhDLFdBQUF0MkMsT0FBQXlvQyxLQUFBNk4sWUFBQSxHQUFBMnlCLFFBQUEsR0FDQWpwRSxPQUFBeW9DLEtBQUF5Z0MsUUFBQWxwRSxPQUFBeW9DLEtBQUFnQixlQUFBLEVBQUF6cEMsT0FBQWdwQyxZQUFBNzhCLE9BQUEsU0FBQWc5RCxJQUFBLE1BQUFBLElBQUExL0IsZ0JBQUF6cEMsT0FBQXlvQyxLQUFBZ0IsaUJBQUEsR0FBQTIvQixZQUFBLEdBQ0FwcEUsT0FBQXlvQyxLQUFBc3lCLE9BQUEvNkQsT0FBQXlvQyxLQUFBclMsVUFBQSxFQUFBcDJCLE9BQUErbkUsWUFBQTU3RCxPQUFBLFNBQUE4NUIsSUFBQSxNQUFBQSxJQUFBanBCLFVBQUFoZCxPQUFBeW9DLEtBQUFyUyxZQUFBLEdBQUE4UCxXQUFBLEdBQ0FsbUMsT0FBQXlvQyxLQUFBdXlCLGVBQUFoN0QsT0FBQXlvQyxLQUFBcFMsbUJBQUEsRUFBQXIyQixPQUFBZ29FLFdBQUE3N0QsT0FBQSxTQUFBZzZCLElBQUEsTUFBQUEsSUFBQTlQLG9CQUFBcjJCLE9BQUF5b0MsS0FBQXBTLHFCQUFBLEdBQUErUCxnQkFBQSxHQUNBcG1DLE9BQUF5b0MsS0FBQXd5QixPQUFBajdELE9BQUF5b0MsS0FBQXhyQixVQUFBLEVBQUFqZCxPQUFBc3pELFlBQUFubkQsT0FBQSxTQUFBNFEsSUFBQSxNQUFBQSxJQUFBQyxVQUFBaGQsT0FBQXlvQyxLQUFBeHJCLFlBQUEsR0FBQWlwQixXQUFBLEdBQ0FsbUMsT0FBQXlvQyxLQUFBeXlCLGVBQUFsN0QsT0FBQXlvQyxLQUFBNkIsbUJBQUEsRUFBQXRxQyxPQUFBaW9FLFdBQUE5N0QsT0FBQSxTQUFBZ3ZELElBQUEsTUFBQUEsSUFBQTd3QixvQkFBQXRxQyxPQUFBeW9DLEtBQUE2QixxQkFBQSxHQUFBOHdCLGdCQUFBLEdBRUFoNkQsU0FBQXBCLE9BQUF5b0MsS0FBQTNzQixhQUNBdXJCLElBQUFnaUMsZ0JBQUF0bkUsR0FBQS9CLE9BQUF5b0MsS0FBQXh5QixTQUFBeEcsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBa3BCLGFBQUFFLGFBQUEsR0FBQWhaLE1BQUE5RyxTQUFBK2YsZUFDQXJwQixPQUFBa3BCLGFBQUFJLE9BQUFwZSxXQUFBaUIsT0FBQSxTQUFBb2QsTUFBQSxNQUFBQSxNQUFBeFEsV0FBQXpQLFNBQUF5UCxZQUFBLElBQ0EsU0FBQS9YLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxvQ0FBQU8sY0FBQVAsU0FBQSxxQkFDQSxvQ0FBQU8sY0FBQTRJLGNBSUE1SixPQUFBc3BFLGVBQUEsa0JBRUF0cEUsT0FBQXFlLFVBQUFyZSxPQUFBeW9DLEtBQUFucUIsU0FBQSxFQUFBdGUsT0FBQTRMLFVBQUFPLE9BQUEsU0FBQTNHLEdBQUEsTUFBQUEsR0FBQThZLFVBQUF0ZSxPQUFBeW9DLEtBQUFucUIsV0FBQSxHQUFBQyxXQUFBLGdCQUVBdmUsT0FBQXlvQyxLQUFBRyxVQUFBbEIsVUFBQTFuQyxPQUFBeW9DLEtBQUFHLFdBRUEsT0FBQTVvQyxPQUFBeW9DLEtBQUF1RCxhQUFBNXFDLFNBQUFwQixPQUFBeW9DLEtBQUF1RCxjQUNBaHNDLE9BQUF5b0MsS0FBQXVELFlBQUF0RSxVQUFBMW5DLE9BQUF5b0MsS0FBQXVELGFBQ0Foc0MsT0FBQXFvRSxhQUFBbjlELFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBL1ksT0FBQXlvQyxLQUFBd0QsbUJBQUEsSUFHQWpzQyxPQUFBb29FLFdBQUFsOUQsV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBeW9DLEtBQUFLLGlCQUFBLEtBSUE5b0MsT0FBQXNwRSxlQUFBLGlCQUNBdHBFLE9BQUF1b0UsZ0JBQUEsU0FFQXZvRSxPQUFBeW9DLE1BQ0F6bUMsUUFBQWhDLE9BQUFzb0UsWUFBQXRtRSxRQUNBc2MsU0FBQXZZLFNBQUFFLElBQUEsa0JBQ0F5aUMsZ0JBQUEsV0FDQUMsS0FBQSxNQUNBcEosVUFBQSxXQUNBc0osV0FBQSxFQUNBL3lCLFlBQUE2eEQsUUFBQTd4RCxZQUNBQyxhQUFBNHhELFFBQUE1eEQsYUFDQTQxQixVQUFBZzhCLFFBQUFoOEIsVUFDQXZWLFVBQUF1eEMsUUFBQXZ4QyxVQUNBQyxtQkFBQXN4QyxRQUFBdHhDLG1CQUNBdVMsVUFBQWxCLFVBQUEsSUFDQW9CLGVBQUE5b0MsT0FBQTZlLGVBQUE5RixXQUVBL1ksT0FBQXFlLFVBQUF0WSxTQUFBRSxJQUFBLG9CQUNBakcsT0FBQW9vRSxXQUFBcG9FLE9BQUE2ZSxnQkFJQTdlLE9BQUF5b0MsS0FBQW5TLFlBQUEsS0FDQXQyQixPQUFBeW9DLEtBQUFVLE9BQUEsS0FFQW5wQyxPQUFBNjdCLE9BQUEsU0FBQXBpQixPQUNBLEdBQUFBLE1BQUEsQ0FDQSxHQUFBOHZELGNBQ0Fub0UsVUFBQXBCLE9BQUE2eEIsSUFBQStCLFFBQUE1ekIsT0FBQXlvQyxLQUFBM3lCLFlBQUF3ZCxRQUFBdHpCLE9BQUE2eEIsSUFBQStCLE1BQUE1ekIsT0FBQTZ4QixJQUFBaUMsTUFBQTl6QixPQUFBNnhCLElBQUFrQyxRQUNBM3lCLFNBQUFwQixPQUFBNnhCLElBQUFtQyxRQUFBaDBCLE9BQUF5b0MsS0FBQTF5QixhQUFBdWQsUUFBQXR6QixPQUFBNnhCLElBQUFtQyxNQUFBaDBCLE9BQUE2eEIsSUFBQW9DLE1BQUFqMEIsT0FBQTZ4QixJQUFBcUMsUUFHQWwwQixPQUFBeW9DLEtBQUEzeUIsWUFBQSxHQUFBOVYsT0FBQXlvQyxLQUFBM3lCLFlBQUEsSUFBQTZmLE1BQUEzMUIsT0FBQXlvQyxLQUFBM3lCLGNBRUEyaEIsYUFBQSxVQUFBLFNBRUE5QixNQUFBMzFCLE9BQUF5b0MsS0FBQTN5QixlQUNBOVYsT0FBQXlvQyxLQUFBM3lCLFlBQUExVSxTQUVBcEIsT0FBQXlvQyxLQUFBMXlCLGFBQUEsTUFBQS9WLE9BQUF5b0MsS0FBQTF5QixhQUFBLEtBQUE0ZixNQUFBMzFCLE9BQUF5b0MsS0FBQTF5QixlQUVBNmhCLGNBQUEsVUFBQSxTQUVBakMsTUFBQTMxQixPQUFBeW9DLEtBQUExeUIsZ0JBQ0EvVixPQUFBeW9DLEtBQUExeUIsYUFBQTNVLFVBS0FBLFNBQUFwQixPQUFBeW9DLEtBQUF1RCxhQUFBLE9BQUFoc0MsT0FBQXlvQyxLQUFBdUQsY0FDQWhzQyxPQUFBeW9DLEtBQUF3RCxpQkFBQWpzQyxPQUFBOG9DLGdCQUVBLE1BQUE5b0MsT0FBQXlvQyxLQUFBVSxTQUNBbnBDLE9BQUF5b0MsS0FBQVUsT0FBQSxLQUNBL25DLFNBQUFwQixPQUFBeW9DLEtBQUF3QixjQUNBanFDLE9BQUF5b0MsS0FBQXdCLFlBQUFsZixXQUFBL3FCLE9BQUF5b0MsS0FBQXdCLFlBQUEsT0FBQXZXLFFBQUEsS0FHQXR5QixTQUFBcEIsT0FBQXlvQyxLQUFBNXJCLFNBQUEsT0FBQTdjLE9BQUF5b0MsS0FBQTVyQixVQUVBemIsU0FBQXBCLE9BQUF5b0MsS0FBQXVELGNBQ0Foc0MsT0FBQXlvQyxLQUFBdUQsWUFBQXRFLFVBQUEsS0FFQTFuQyxPQUFBeW9DLEtBQUF3RCxpQkFBQWpzQyxPQUFBeW9DLEtBQUFLLGdCQUdBNW9DLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBMG1DLElBQUFudEIsS0FBQWxhLE9BQUF5b0MsTUFBQWg1QixTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQWlnRSxXQUFBamdFLFNBQ0FJLE9BQUErTSxRQUFBLGNBQ0EsSUFBQXNJLFdBQUF3cUQsV0FBQSxVQUNBL25FLG1CQUFBRSxNQUFBcWQsV0FDQSxTQUFBL2QsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHVCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHVCQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBd3BFLFdBQUEsV0FFQSxHQUFBL0IsU0FBQXpuRSxPQUFBeW9DLEtBQ0EvZSxhQUFBdHBCLFVBQUFtQixNQUNBekIsU0FBQSxzY0FHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF3cEUsV0FBQS9CLFFBQ0F6bkUsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sUUFBQSxXQUVBL1AsT0FBQTJwQixVQUFBLFdBQ0Fub0Isa0JBQUFFLE1BQUErbEUsWUFHQTlsRSxLQUFBLE1BRUErbkIsY0FBQTluQixPQUFBQyxLQUFBLFNBQUE4UyxHQUNBelUsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQW9oQyxJQUFBbWlDLFlBQUF6bkUsR0FBQTRTLEVBQUFzQixTQUFBeEcsU0FBQTVOLEtBQUEsU0FBQWdhLGtCQUNBbEgsRUFBQW1ILFlBQUFELGlCQUFBQyxZQUNBcFMsT0FBQStNLFFBQUEsZ0JBQ0F6VyxPQUFBa3BCLGFBQUFFLGFBQUEsR0FBQWhaLE1BQUF5TCxpQkFBQXdOLGVBQ0FycEIsT0FBQWtwQixhQUFBSSxPQUFBcGUsV0FBQWlCLE9BQUEsU0FBQW9kLE1BQUEsTUFBQUEsTUFBQXhRLFdBQUE4QyxpQkFBQTlDLFlBQUEsSUFHQSxTQUFBL1gsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFFQSxlQUtBNUosT0FBQXlwRSxhQUFBLFdBRUEsR0FBQWhDLFNBQUF6bkUsT0FBQXlvQyxLQUNBNWUsZUFBQXpwQixVQUFBbUIsTUFDQXpCLFNBQUEsNlVBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBd3BFLFdBQUEvQixRQUNBem5FLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLFFBQUEsV0FFQS9QLE9BQUE4cEIsWUFBQSxXQUNBdG9CLGtCQUFBRSxNQUFBK2xFLFlBR0E5bEUsS0FBQSxNQUVBa29CLGdCQUFBam9CLE9BQUFDLEtBQUEsU0FBQThTLEdBQ0F6VSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBb2hDLElBQUFvaUMsY0FBQTFuRSxHQUFBNFMsRUFBQXNCLFNBQUF4RyxTQUFBNU4sS0FBQSxXQUNBOFMsRUFBQW1ILFlBQUEsS0FDQXBTLE9BQUErTSxRQUFBLGtCQUNBelcsT0FBQWtwQixpQkFHQSxTQUFBbG9CLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxzQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGVBRUEsY0FLQSxJQUFBOC9ELFdBQUEsU0FBQS8wRCxHQUNBLEdBQUFnMUQsZUFDQTF6RCxPQUFBdEIsRUFBQXNCLE9BQ0EwMUIsVUFBQWgzQixFQUFBZzNCLFVBQ0EzcEMsUUFBQTJTLEVBQUEzUyxRQUNBc2MsU0FBQTNKLEVBQUEySixTQUNBa3VCLFlBQUE3M0IsRUFBQTYzQixZQUNBL0MsZUFBQTkwQixFQUFBODBCLGVBQ0E2ckIsd0JBQUEzZ0QsRUFBQTJnRCx3QkFDQXgvQyxZQUFBbkIsRUFBQW1CLFlBQ0FDLGFBQUFwQixFQUFBb0IsYUFDQWkyQixZQUFBcjNCLEVBQUFxM0IsWUFDQW52QixRQUFBbEksRUFBQWtJLFFBQ0FJLFVBQUF0SSxFQUFBc0ksVUFDQXF0QixtQkFBQTMxQixFQUFBMjFCLG1CQUNBM0IsS0FBQWgwQixFQUFBZzBCLEtBQ0E3c0IsWUFBQW5ILEVBQUFtSCxZQUNBdzZCLFVBQUEzaEMsRUFBQTJoQyxVQUNBK2UsaUJBQUExZ0QsRUFBQTBnRCxpQkFDQWgvQixtQkFBQTFoQixFQUFBMGhCLG1CQUNBeStCLGdCQUFBbmdELEVBQUFtZ0QsZ0JBQ0FTLFVBQUE1Z0QsRUFBQTRnRCxVQUNBN3NCLGdCQUFBL3pCLEVBQUErekIsZ0JBQ0FFLFVBQUFqMEIsRUFBQWkwQixVQUNBQyxXQUFBbDBCLEVBQUFrMEIsV0FDQXpTLFVBQUF6aEIsRUFBQXloQixVQUNBMFMsZUFBQW4wQixFQUFBbTBCLGVBQ0FtRCxpQkFBQXQzQixFQUFBczNCLGlCQUNBaEMsWUFBQXQxQixFQUFBczFCLFlBQ0FULGdCQUFBNzBCLEVBQUE2MEIsZ0JBQ0FqSyxVQUFBNXFCLEVBQUE0cUIsVUFFQSxPQUFBb3FDLGNBR0EzcEUsUUFBQWthLEtBQUEsU0FBQVQsT0FDQSxHQUFBQSxNQUFBLENBS0EsR0FIQXJZLFNBQUFwQixPQUFBNnhCLElBQUErQixRQUFBNXpCLE9BQUF3b0UsUUFBQTF5RCxZQUFBd2QsUUFBQXR6QixPQUFBNnhCLElBQUErQixNQUFBNXpCLE9BQUE2eEIsSUFBQWlDLE1BQUE5ekIsT0FBQTZ4QixJQUFBa0MsUUFDQTN5QixTQUFBcEIsT0FBQTZ4QixJQUFBbUMsUUFBQWgwQixPQUFBd29FLFFBQUF6eUQsYUFBQXVkLFFBQUF0ekIsT0FBQTZ4QixJQUFBbUMsTUFBQWgwQixPQUFBNnhCLElBQUFvQyxNQUFBajBCLE9BQUE2eEIsSUFBQXFDLFFBRUFsMEIsT0FBQXdvRSxRQUFBMXlELFlBQUEsR0FBQTlWLE9BQUF3b0UsUUFBQTF5RCxZQUFBLElBQUE2ZixNQUFBMzFCLE9BQUF3b0UsUUFBQTF5RCxhQUVBMmhCLGFBQUEsVUFBQSxTQUVBOUIsTUFBQTMxQixPQUFBd29FLFFBQUExeUQsZUFDQTlWLE9BQUF3b0UsUUFBQTF5RCxZQUFBMVUsWUFFQSxJQUFBcEIsT0FBQXdvRSxRQUFBenlELGFBQUEsTUFBQS9WLE9BQUF3b0UsUUFBQXp5RCxhQUFBLEtBQUE0ZixNQUFBMzFCLE9BQUF3b0UsUUFBQXp5RCxjQUVBNmhCLGNBQUEsVUFBQSxTQUVBakMsTUFBQTMxQixPQUFBd29FLFFBQUF6eUQsZ0JBQ0EvVixPQUFBd29FLFFBQUF6eUQsYUFBQTNVLFlBRUEsQ0FHQUEsU0FBQXBCLE9BQUFvTixhQUFBa1IsV0FFQXRlLE9BQUF3b0UsUUFBQWxxRCxTQUFBdGUsT0FBQW9OLGFBQUFrUixVQUdBbGQsU0FBQXBCLE9BQUF3b0UsUUFBQXg4QixhQUFBNXFDLFNBQUFwQixPQUFBd29FLFFBQUF2OEIsbUJBQ0Fqc0MsT0FBQXdvRSxRQUFBdjhCLGlCQUFBbG1DLFNBQUFFLElBQUEsUUFFQSxNQUFBakcsT0FBQXdvRSxRQUFBci9CLFNBQ0FucEMsT0FBQXdvRSxRQUFBci9CLE9BQUEsS0FDQS9uQyxTQUFBcEIsT0FBQXdvRSxRQUFBditCLGNBQ0FqcUMsT0FBQXdvRSxRQUFBditCLFlBQUFsZixXQUFBL3FCLE9BQUF3b0UsUUFBQXYrQixZQUFBLE9BQUF2VyxRQUFBLEtBR0F0eUIsU0FBQXBCLE9BQUF3b0UsUUFBQTNyRCxTQUFBLE9BQUE3YyxPQUFBd29FLFFBQUEzckQsVUFFQXpiLFNBQUFwQixPQUFBd29FLFFBQUF4OEIsY0FDQWhzQyxPQUFBd29FLFFBQUF4OEIsWUFBQXRFLFVBQUEsS0FFQXRtQyxTQUFBcEIsT0FBQXdvRSxRQUFBdjhCLG1CQUNBanNDLE9BQUF3b0UsUUFBQXY4QixpQkFBQWxtQyxTQUFBRSxJQUFBLFNBR0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBaXBFLFVBQUFGLFVBQUExcEUsT0FBQXdvRSxRQUNBbmhDLEtBQUEvc0IsUUFBQXZZLEdBQUE2bkUsU0FBQTN6RCxRQUFBMnpELFVBQUFuNkQsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0FJLE9BQUErTSxRQUFBLGVBQ0F6VyxPQUFBeW9DLEtBQUFuL0IsU0FBQW0rRCxRQUFBbitELFNBRUF0SixPQUFBeW9DLEtBQUFxZ0MsU0FBQTlvRSxPQUFBK29DLFlBQUE1OEIsT0FBQSxTQUFBc3VCLElBQUEsTUFBQUEsSUFBQStSLGFBQUF4c0MsT0FBQXlvQyxLQUFBK0QsY0FBQSxHQUFBczhCLFNBQ0EsT0FBQTlvRSxPQUFBeW9DLEtBQUFJLGFBQ0E3b0MsT0FBQXlvQyxLQUFBc2dDLFNBQUEvb0UsT0FBQXlvQyxLQUFBSSxXQUFBLEVBQUEsTUFBQSxNQUVBN29DLE9BQUF5b0MsS0FBQXVnQyxPQUFBaHBFLE9BQUF5b0MsS0FBQTZOLFVBQUEsRUFBQXQyQyxPQUFBaXBDLFdBQUE5OEIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBNmhDLFdBQUF0MkMsT0FBQXlvQyxLQUFBNk4sWUFBQSxHQUFBMnlCLFFBQUEsR0FDQWpwRSxPQUFBeW9DLEtBQUF5Z0MsUUFBQWxwRSxPQUFBeW9DLEtBQUFnQixlQUFBLEVBQUF6cEMsT0FBQWdwQyxZQUFBNzhCLE9BQUEsU0FBQWc5RCxJQUFBLE1BQUFBLElBQUExL0IsZ0JBQUF6cEMsT0FBQXlvQyxLQUFBZ0IsaUJBQUEsR0FBQTIvQixZQUFBLEdBQ0FwcEUsT0FBQXlvQyxLQUFBc3lCLE9BQUEvNkQsT0FBQXlvQyxLQUFBclMsVUFBQSxFQUFBcDJCLE9BQUErbkUsWUFBQTU3RCxPQUFBLFNBQUE4NUIsSUFBQSxNQUFBQSxJQUFBanBCLFVBQUFoZCxPQUFBeW9DLEtBQUFyUyxZQUFBLEdBQUE4UCxXQUFBLEdBQ0FsbUMsT0FBQXlvQyxLQUFBdXlCLGVBQUFoN0QsT0FBQXlvQyxLQUFBcFMsbUJBQUEsRUFBQXIyQixPQUFBZ29FLFdBQUE3N0QsT0FBQSxTQUFBZzZCLElBQUEsTUFBQUEsSUFBQTlQLG9CQUFBcjJCLE9BQUF5b0MsS0FBQXBTLHFCQUFBLEdBQUErUCxnQkFBQSxHQUNBcG1DLE9BQUF5b0MsS0FBQXd5QixPQUFBajdELE9BQUF5b0MsS0FBQXhyQixVQUFBLEVBQUFqZCxPQUFBc3pELFlBQUFubkQsT0FBQSxTQUFBNFEsSUFBQSxNQUFBQSxJQUFBQyxVQUFBaGQsT0FBQXlvQyxLQUFBeHJCLFlBQUEsR0FBQWlwQixXQUFBLEdBQ0FsbUMsT0FBQXlvQyxLQUFBeXlCLGVBQUFsN0QsT0FBQXlvQyxLQUFBNkIsbUJBQUEsRUFBQXRxQyxPQUFBaW9FLFdBQUE5N0QsT0FBQSxTQUFBZ3ZELElBQUEsTUFBQUEsSUFBQTd3QixvQkFBQXRxQyxPQUFBeW9DLEtBQUE2QixxQkFBQSxHQUFBOHdCLGdCQUFBLEdBQ0FwN0QsT0FBQXlvQyxLQUFBRyxVQUFBbEIsVUFBQTFuQyxPQUFBeW9DLEtBQUFHLFdBRUF4bkMsU0FBQXNtRSxjQUNBMW5FLE9BQUFrcEIsYUFBQUUsYUFBQSxHQUFBaFosTUFBQXMzRCxZQUFBcitDLGVBQ0FycEIsT0FBQWtwQixhQUFBSSxPQUFBcGUsV0FBQWlCLE9BQUEsU0FBQW9kLE1BQUEsTUFBQUEsTUFBQXhRLFdBQUEydUQsWUFBQTN1RCxZQUFBLElBSUEsT0FBQS9ZLE9BQUF5b0MsS0FBQXVELGFBQUE1cUMsU0FBQXBCLE9BQUF5b0MsS0FBQXVELGNBQ0Foc0MsT0FBQXlvQyxLQUFBdUQsWUFBQXRFLFVBQUExbkMsT0FBQXlvQyxLQUFBdUQsYUFDQWhzQyxPQUFBcW9FLGFBQUFuOUQsV0FBQWlCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQXNFLFdBQUEvWSxPQUFBeW9DLEtBQUF3RCxtQkFBQSxJQUlBanNDLE9BQUFvb0UsV0FBQWw5RCxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQS9ZLE9BQUF5b0MsS0FBQUssaUJBQUEsR0FFQTlvQyxPQUFBd29FLFdBQ0F4b0UsT0FBQXdHLEtBQUFvaEUsT0FBQSxVQUdBLFNBQUE1bUUsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHFCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHFCQUFBTyxjQUFBNEksaUJBT0E1SixPQUFBNnBFLFVBQUEsV0FFQSxHQUFBcHZELHFCQUFBcmEsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQTdhLFFBQUF5b0MsTUFFQTN0QixLQUFBLFdBQ0EsTUFBQSxTQUtBTCxxQkFBQTdZLE9BQUFDLEtBQUEsU0FBQWlvRSxhQUNBNXBFLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FvaEMsSUFBQUEsV0FBQXRsQyxHQUFBK25FLFlBQUE3ekQsUUFBQTZ6RCxhQUFBcjZELFNBQUE1TixLQUFBLFdBQ0E3QixPQUFBa29FLFlBQ0Fsb0UsT0FBQW1vRSxnQkFHQSxLQURBLEdBQUE3bEQsR0FBQXRpQixPQUFBZ00sVUFBQXRHLE9BQ0E0YyxLQUNBdGlCLE9BQUFnTSxVQUFBc1csR0FBQXJNLFFBQUE2ekQsWUFBQTd6RCxRQUFBalcsT0FBQWdNLFVBQUE3QixPQUFBbVksRUFBQSxFQUdBelgsWUFBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0F0QyxPQUFBK00sUUFBQSxjQUNBLElBQUFzSSxXQUFBLEtBQUEsVUFDQXZkLG1CQUFBRSxNQUFBcWQsV0FDQSxTQUFBL2QsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHVCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHVCQUFBTyxjQUFBNEksaUJBTUE1SixPQUFBZ1MsT0FBQSxXQUNBbE0sV0FBQTBELGVBQUFDLGFBQUEsQ0FDQSxJQUFBc1YsVUFBQS9lLE9BQUF5b0MsSUFDQWpuQyxtQkFBQUUsTUFBQXFkLFdBSUEvZSxPQUFBK3BFLGFBQUEsV0FDQS9wRSxPQUFBd0csS0FBQW9oRSxPQUFBLE9BQ0E1bkUsT0FBQXdvRSxRQUFBNXFFLFFBQUErWixLQUFBM1gsT0FBQXlvQyxNQUNBem9DLE9BQUF3b0UsUUFBQWx5QyxZQUFBLEtBQUF0MkIsT0FBQXdvRSxRQUFBci9CLE9BQUEsTUFFQW5wQyxPQUFBZ3FFLGNBQUEsV0FDQWhxRSxPQUFBd0csS0FBQW9oRSxPQUFBLFNBQ0E1bkUsT0FBQXdvRTtBQUNBeG9FLE9BQUFvTixnQkFDQXBOLE9BQUFxZSxVQUFBcmUsT0FBQTRMLFVBQUFPLE9BQUEsU0FBQTNHLEdBQUEsTUFBQUEsR0FBQThZLFVBQUF0ZSxPQUFBeW9DLEtBQUFucUIsV0FBQSxHQUFBQyxZQUlBdmUsT0FBQW9WLE1BQUExSyxXQUFBMkssV0FBQXJWLE9BQUFzVixnQkFBQSxFQUVBdFYsT0FBQXVWLGVBQUEsV0FDQXJWLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBWCxPQUFBeVYsa0JBQUEsQ0FDQSxJQUFBekcsWUFDQUMsWUFDQXlHLFFBQUExVixPQUFBNk8sTUFBQTZHLFFBQ0FDLEtBQUEzVixPQUFBNk8sTUFBQThHLEtBQ0FDLFlBQUE1VixPQUFBNk8sTUFBQStHLFlBQ0FDLGdCQUFBN1YsT0FBQTZPLE1BQUFnSCxnQkFDQUMsWUFBQTlWLE9BQUE2TyxNQUFBaUgsWUFDQUMsYUFBQS9WLE9BQUE2TyxNQUFBa0gsYUFDQUMsVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQUMsT0FBQWpXLE9BQUE2TyxNQUFBb0gsT0FDQWpVLFFBQUFoQyxPQUFBNk8sTUFBQTdNLFFBQ0F3SyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBMEosVUFBQWxXLE9BQUE2TyxNQUFBcUgsVUFDQS9QLEtBQUFuRyxPQUFBNk8sTUFBQTFJLEtBQ0FnUSxhQUFBblcsT0FBQTZPLE1BQUFzSCxhQUNBOUosY0FBQXJNLE9BQUE2TyxNQUFBeEMsY0FDQStKLFdBQUFwVyxPQUFBNk8sTUFBQXVILFdBQ0FDLFFBQUFyVyxPQUFBNk8sTUFBQXdILFFBQ0FDLG1CQUFBdFcsT0FBQTZPLE1BQUF5SCxvQkFFQXhILEtBQUExTixTQUFBcEIsT0FBQTZPLE1BQUEyRyxNQUFBeFYsT0FBQTZPLE1BQUEyRyxNQUFBeFYsT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBelcsT0FBQTBXLElBQUExVyxPQUFBdU4sVUFBQSxVQUFBdk4sT0FBQTZPLE1BQUE2RyxRQUFBLFFBQUFoTCxXQUFBMkssV0FDQTNLLFdBQUFpTSxXQUNBM1csT0FBQW9WLE1BQUExSyxXQUFBMkssV0FFQXJWLE9BQUE0VyxRQURBNVcsT0FBQTZPLE1BQUEyRyxNQUFBbEMsS0FBQXBKLFFBQUEsU0FBQSxJQUNBLEdBQ0EsRUFDQWxLLE9BQUE2TyxNQUFBOEcsS0FBQWEsVUFBQWIsS0FBQTNWLE9BQUE2TyxNQUFBMUksS0FBQXFRLFVBQUFyUSxLQUNBL0UsU0FBQXBCLE9BQUE2TyxNQUFBMkcsUUFDQXhWLE9BQUE2TyxNQUFBQyxLQUFBOU8sT0FBQTZPLE1BQUEyRyxNQUNBeFYsT0FBQTZPLE1BQUEyRyxNQUFBcFUsUUFFQW9WLFVBQUFLLGNBQUEsV0FDQTdXLE9BQUFrb0UsU0FBQS85RCxPQUFBbkssT0FBQStXLGVBQUEsR0FDQS9XLE9BQUFrb0UsU0FBQXZsRSxLQUFBNlQsV0FDQSxJQUFBQSxVQUFBaEssY0FDQXhNLE9BQUFtb0UsY0FBQWgrRCxPQUFBbkssT0FBQStXLGVBQUEsR0FDQS9XLE9BQUFtb0UsY0FBQXhsRSxLQUFBNlQsWUFFQXhXLE9BQUFnTSxVQUFBaE0sT0FBQWdYLGVBQUFSLFVBQ0EzTCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5VixrQkFBQSxFQUNBelYsT0FBQXNWLGdCQUFBLEdBQ0EsU0FBQXRVLGVBQ0FoQixPQUFBeVYsa0JBQUEsRUFDQS9MLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFLQTVKLE9BQUFrWCxlQUFBLFNBQUFDLE9BQ0EvVyxVQUFBbUIsTUFDQXpCLFNBQUEsc1BBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsU0FFQTFCLE9BQUFvWCxRQUFBRCxNQUNBblgsT0FBQXFYLE9BQUE1TSxXQUFBLFVBQUF6SyxPQUFBb1gsUUFBQSxVQUVBelYsS0FBQSxRQUtBM0IsT0FBQXNYLFNBQUEsU0FBQUMsTUFPQSxHQU5BdlgsT0FBQXdYLFVBQUF4WCxPQUFBNkwsYUFDQTdMLE9BQUF5WCxTQUFBN00sV0FDQTVLLE9BQUErVyxlQUFBLEdBQUEvVyxPQUFBOFcsa0JBQUEsR0FBQTlXLE9BQUFnWCxjQUFBLEdBQ0FoWCxPQUFBNk8sU0FDQTdPLE9BQUEwWCxXQUVBLElBQUFILEtBQUEsQ0FjQSxHQVpBdlgsT0FBQStXLGVBQUEvVyxPQUFBa29FLFNBQUFoK0QsUUFBQXFOLE1BQ0F2WCxPQUFBZ1gsY0FBQWhYLE9BQUFnTSxVQUFBOUIsUUFBQXFOLE1BQ0F2WCxPQUFBOFcsa0JBQUE5VyxPQUFBbW9FLGNBQUF6aUUsT0FBQSxFQUFBMUYsT0FBQW1vRSxjQUFBaitELFFBQUFxTixNQUFBLEdBQ0F2WCxPQUFBNk8sTUFBQWpSLFFBQUErWixLQUFBSixNQUNBak0sS0FBQXNNLGFBQUE3VixHQUFBL0IsT0FBQTZPLE1BQUE2RyxVQUFBakcsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBc1YsZUFBQWhNLFNBQUF1TyxPQUFBLEdBQUEsR0FBQSxHQUNBLFNBQUE3VyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxjQUVBNUosT0FBQTZPLE1BQUFpSixTQUFBOVgsT0FBQTZMLGFBQUFNLE9BQUEsU0FBQTRMLElBQUEsTUFBQUEsSUFBQXZMLGFBQUF4TSxPQUFBNk8sTUFBQXJDLGNBQUEsR0FBQXdMLFNBRUE1VyxTQUFBcEIsT0FBQTZPLE1BQUE4RyxLQUFBLENBQ0EsR0FBQXNDLElBQUFqWSxPQUFBNk8sTUFBQThHLEtBQUF1QyxZQUFBLEtBQ0FDLFFBQUFuWSxPQUFBNk8sTUFBQThHLEtBQUF5QyxVQUFBSCxHQUFBLEVBRUFqWSxRQUFBNFcsUUFEQXVCLFFBQUFFLE1BQUEseUNBQ0EsR0FDQSxFQUVBclksT0FBQTBXLElBQUExVyxPQUFBdU4sVUFBQSxVQUFBdk4sT0FBQTZPLE1BQUE2RyxRQUFBLFFBQUFoTCxXQUFBMkssV0FDQXJWLE9BQUE2TyxNQUFBbUgsVUFBQSxHQUFBNUYsTUFBQXBRLE9BQUE2TyxNQUFBbUgsV0FDQTVVLFNBQUFwQixPQUFBNk8sTUFBQXVILGFBQUFwVyxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQUFwUSxPQUFBNk8sTUFBQXVILGFBQ0EsT0FBQW1CLEtBQUFyQixXQUNBM0ssT0FBQStNLE9BQUF2VyxHQUFBd1YsS0FBQXJCLFlBQUF6RyxTQUFBNU4sS0FBQSxTQUFBVixHQUNBbkIsT0FBQTBYLFFBQUF2VyxFQUNBbkIsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQWMsWUFDQXhZLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGFBQ0EsU0FBQTVYLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx5QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx5QkFBQU8sY0FBQTRJLGtCQUtBNUosUUFBQTZPLE1BQUFtSCxVQUFBLEdBQUE1RixNQUFBcFEsT0FBQTZPLE1BQUF1SCxXQUFBLEdBQUFoRyxNQUNBcFEsT0FBQTBYLFFBQUF4TSxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxHQUNBakcsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQXdCLE1BQUEsSUFBQWxaLE9BQUEwWCxRQUFBeUIsTUFDQW5aLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLFdBRUE1WSxRQUFBeU0sY0FBQSxFQUdBek0sT0FBQXVaLHVCQUFBLFdBQ0EsR0FBQXZaLE9BQUE2TyxNQUFBckMsY0FDQXhNLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGVBSUE1WSxPQUFBd1osV0FBQSxTQUFBQyxPQUNBLEdBQUFBLE1BQUEsQ0FDQXpaLE9BQUFrNkQsb0JBQUEsRUFDQWg2RCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBeVosWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFFQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0EsR0FBQSxJQUFBdEosT0FBQTZPLE1BQUFyQyxZQUFBLENBRUEsR0FBQXdDLFlBQ0FDLFlBQ0F6QyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBbUosS0FBQTNWLE9BQUE2TyxNQUFBQyxLQUFBNkcsS0FDQUssVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQUksV0FBQXBXLE9BQUE2TyxNQUFBdUgsV0FDQVIsWUFBQTVWLE9BQUE2TyxNQUFBK0csWUFDQTVULFFBQUFoQyxPQUFBc29FLFlBQUF0bUUsUUFDQWtVLFVBQUE1TSxTQUFBNE0sVUFDQUwsZ0JBQUE3VixPQUFBNk8sTUFBQWdILGdCQUNBQyxZQUFBOVYsT0FBQTZPLE1BQUFpSCxZQUNBQyxhQUFBL1YsT0FBQTZPLE1BQUFrSCxhQUNBRSxPQUFBalcsT0FBQXlvQyxLQUFBeHlCLFFBRUFuSCxLQUFBOU8sT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLFdBQ0E3VyxPQUFBa29FLFNBQUF2bEUsS0FBQTZULFdBQ0F4VyxPQUFBZ00sVUFBQXJKLEtBQUE2VCxXQUNBM0wsV0FBQW9NLGdCQUFBalgsT0FBQWdNLFdBQ0EsSUFBQXdLLFVBQUFoSyxhQUFBeE0sT0FBQW1vRSxjQUFBeGxFLEtBQUE2VCxXQUNBeFcsT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUFrNkQsb0JBQUEsR0FDQSxTQUFBbDVELGVBQ0FoQixPQUFBazZELG9CQUFBLEVBQ0F4d0QsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxrQkFHQTVKLFFBQUE2TyxNQUFBcUgsVUFBQTVNLFNBQUE0TSxVQUFBbFcsT0FBQTZPLE1BQUE3TSxRQUFBaEMsT0FBQXNvRSxZQUFBdG1FLFFBQUFoQyxPQUFBNk8sTUFBQW9ILE9BQUFqVyxPQUFBeW9DLEtBQUF4eUIsT0FDQTNLLEtBQUE0TyxLQUFBbGEsT0FBQTZPLE9BQUFZLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsY0FDQUQsVUFBQUssY0FBQSxXQUNBN1csT0FBQWtvRSxTQUFBdmxFLEtBQUE2VCxXQUNBeFcsT0FBQWdNLFVBQUFySixLQUFBNlQsV0FDQTNMLFdBQUFvTSxnQkFBQWpYLE9BQUFnTSxXQUNBaE0sT0FBQXlNLGNBQUEsRUFBQXpNLE9BQUFrNkQsb0JBQUEsR0FDQSxTQUFBbDVELGVBQ0FoQixPQUFBazZELG9CQUFBLEVBQ0F4d0QsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxlQUdBLFNBQUE1SSxlQUNBaEIsT0FBQWs2RCxvQkFBQSxFQUNBeHdELE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLDBCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLDBCQUFBTyxjQUFBNEksZ0JBTUE1SixPQUFBcWEsU0FBQSxTQUFBWixPQUNBLEdBQUFBLE1BQUEsQ0FDQXpaLE9BQUFrNkQsb0JBQUEsQ0FHQSxFQUFBbDZELE9BQUE2TyxNQUFBZ0ksY0FHQSxHQUZBM1csTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FTLFNBQUFwQixPQUFBMFgsUUFBQXhCLFVBQUEsQ0FFQSxHQUFBa0UsWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFDQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBNk8sTUFBQXFILFVBQUE1TSxTQUFBNE0sVUFDQTVLLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUE2TyxNQUFBNkcsU0FBQTFWLE9BQUE2TyxPQUFBWSxTQUFBNU4sS0FBQSxTQUFBMFksY0FDQTdRLE9BQUErTSxRQUFBLGdCQUNBOEQsYUFBQTFELGNBQUEsV0FDQTdXLE9BQUFrb0UsU0FBQWxvRSxPQUFBK1csZ0JBQUF3RCxhQUNBdmEsT0FBQWdNLFVBQUFoTSxPQUFBZ1gsZUFBQXVELGFBQ0ExUCxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEVBQUF6TSxPQUFBazZELG9CQUFBLEdBQ0EsU0FBQWw1RCxlQUNBaEIsT0FBQWs2RCxvQkFBQSxFQUNBeHdELE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUFrNkQsb0JBQUEsRUFDQXh3RCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQXdhLFdBQUEsV0FDQSxHQUFBQyxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBNk8sT0FFQWlNLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGdCQUNBelcsT0FBQWtvRSxTQUFBLzlELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQWdNLFVBQUE3QixPQUFBbkssT0FBQWdYLGNBQUEsR0FDQWhYLE9BQUFtb0UsY0FBQWgrRCxPQUFBbkssT0FBQThXLGtCQUFBLEdBQ0FqTSxXQUFBb00sZ0JBQUFqWCxPQUFBZ00sV0FDQWhNLE9BQUF5TSxjQUFBLEdBQ0EsU0FBQXpMLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGlCQUtBNUosT0FBQWdiLFdBQUEsV0FDQWhiLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBRUExWCxPQUFBeU0sY0FBQSxHQUdBM0csV0FBQTBELGVBQUFDLGFBQUEsUUNoZ0NBLFdBRUEsWUFFQSxJQUFBOUwsZ0JBQUFDLFFBQUFDLE9BQUEsaUJBRUFGLGdCQUFBb0MsV0FBQSxXQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsU0FBQSxRQUFBLFlBQUEsVUFBQSxXQUFBLFdBQUEsZUFBQSxjQUFBLGNBQUEsY0FBQSxrQkFBQSxlQUFBLGFBQUEsb0JBQUEsZ0JBQUEsb0JBQUEsWUFBQSxlQUFBLFNBQUEsTUFBQSxPQUNBLFNBQUFDLE9BQUE4RixXQUFBQyxTQUFBQyxVQUFBL0YsT0FBQUMsTUFBQUUsVUFBQXlrQixRQUFBMWdCLFNBQUE0b0IsU0FBQWs5QyxhQUFBQyxZQUFBLzhDLFlBQUE4WixZQUFBQyxnQkFBQXZELGFBQUF3RCxXQUFBdkQsa0JBQUF4VyxjQUFBMlosa0JBQUFoaUIsVUFBQXlJLGFBQUFDLE9BQUE0WixJQUFBbG5DLE1BQ0FpQixTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsYUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsWUFHQW5HLE9BQUFtcUUsVUFBQXI4QyxNQUFBbThDLGFBQUF2a0UsUUFFQTFGLE9BQUFvcUUsU0FBQUgsYUFDQUMsWUFBQUcsZUFBQXJxRSxPQUFBb3FFLFVBRUFwcUUsT0FBQVIsT0FBQSxXQUFBLE1BQUF1RyxVQUFBRSxJQUFBLHFCQUFBLFNBQUF4RyxVQUNBTyxPQUFBK3dCLGlCQUFBM3ZCLFNBQUEzQixTQUFBQSxTQUFBLGFBQ0FPLE9BQUFneEIsbUJBQUEsY0FBQWh4QixPQUFBK3dCLGtCQUFBLEdBQUEsRUFDQTN2QixTQUFBM0IsVUFDQU8sT0FBQW9xRSxTQUFBSCxhQUFBOTlELE9BQUEsU0FBQXdJLEdBQUEsTUFBQUEsR0FBQTJKLFVBQUF2WSxTQUFBRSxJQUFBLG9CQUNBakcsT0FBQW1xRSxVQUFBcjhDLE1BQUE5dEIsT0FBQW9xRSxTQUFBMWtFLFVBRUExRixPQUFBb3FFLFNBQUFILGFBQ0FqcUUsT0FBQW1xRSxVQUFBcjhDLE1BQUE5dEIsT0FBQW9xRSxTQUFBMWtFLFdBSUExRixPQUFBc3FFLGFBQUEsU0FBQUMsWUFDQSxDQUFBLEdBQUFDLGNBQUFoOUMsYUFBQXJoQixPQUFBLFNBQUFzK0QsS0FFQSxNQUFBLFVBQUFBLElBQUF6eUQsVUFBQSxzQkFBQXl5RCxJQUFBenlELFVBQUEsaUJBQUF5eUQsSUFBQXp5RCxVQUFBLGdCQUFBeXlELElBQUF6eUQsVUFDQSxVQUFBeXlELElBQUF6eUQsVUFBQSxTQUFBeXlELElBQUF6eUQsVUFBQSxXQUFBeXlELElBQUF6eUQsV0FFQTBZLGNBQUF1VyxZQUFBQyxnQkFBQXZELGFBQUFDLGtCQUFBeFcsY0FBQTJaLGtCQUFBSSxXQUFBcGlCLFVBQUF5bEQsYUFDQXhxRSxRQUFBb3FFLFNBQUFsZ0UsUUFBQXFnRSxZQUNBemtFLFdBQUEwRCxlQUFBQyxhQUFBLENBRUEsSUFBQW1tQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxnQkFDQTdhLFdBQUEsZUFDQTRCLEtBQUEsS0FDQStZLFNBQUEsU0FDQUMsVUFBQSxFQUNBa1YsWUFBQSxhQUNBN2YsU0FDQXJGLGFBQUEsV0FDQSxNQUFBK2xCLGVBRUErMkMsUUFBQSxXQUNBLE1BQUEsS0FBQThDLFdBQUFBLFdBQUEsU0FFQWpzQyxZQUFBLFdBQ0EsTUFBQXQrQixRQUFBb3FFLFVBRUExQyxZQUFBLFdBQ0EsTUFBQSxLQUFBNkMsWUFBQW5wRSxTQUFBbXBFLFdBQUF6dUQsYUFBQXl1RCxXQUFBenVELFlBQUEsRUFDQXVyQixJQUFBZ2lDLGdCQUFBdG5FLEdBQUF3b0UsV0FBQXQwRCxTQUFBeEcsU0FEQSxRQUlBazRELFFBQUEsV0FDQSxNQUFBeG5FLE1BQUFtWSxPQUFBdlcsR0FBQWdyQixTQUFBL3FCLFVBQUF5TixVQUVBN0UsV0FBQSxXQUNBLE1BQUF1aUIsY0FFQWppQixXQUFBLFdBR0EsTUFGQWhMLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHNCLE9BQUFzQyxTQUFBdGdCLFlBS0FtZ0IsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUEwbkUsWUFPQSxHQUxBLFdBQUFBLFdBQUEsS0FDQXZwRSxPQUFBb3FFLFNBQUF6bkUsS0FBQTRtRSxXQUFBLElBQ0FXLFlBQUFHLGVBQUFycUUsT0FBQW9xRSxVQUNBcHFFLE9BQUFtcUUsU0FBQXI4QyxNQUFBOXRCLE9BQUFvcUUsU0FBQTFrRSxRQUVBdEUsU0FBQW1vRSxXQUFBLEdBQUEsQ0FHQSxHQUFBNzVDLGNBQUExdkIsT0FBQW9xRSxTQUFBbGdFLFFBQUFxZ0UsV0FDQXZxRSxRQUFBb3FFLFNBQUExNkMsY0FBQTY1QyxXQUNBVyxZQUFBRyxlQUFBcnFFLE9BQUFvcUUsVUFFQSxHQUFBLFdBQUFiLFdBQUEsR0FBQSxDQUNBLEdBQUF0NUMsZUFBQWp3QixPQUFBb3FFLFNBQUFsZ0UsUUFBQXFnRSxXQUNBdnFFLFFBQUFvcUUsU0FBQWpnRSxPQUFBOGxCLGNBQUEsR0FDQWp3QixPQUFBbXFFLFNBQUFyOEMsTUFBQTl0QixPQUFBb3FFLFNBQUExa0UsT0FDQXdrRSxZQUFBRyxlQUFBcnFFLE9BQUFvcUUscUJDOUZBLFdBQ0EsWUFFQSxJQUFBenNFLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsbUJBQUEsU0FBQSxhQUFBLFdBQUEsWUFBQSxRQUFBLFVBQUEsWUFBQSxPQUFBLE1BQUEsa0JBQUEsVUFBQSxZQUFBLFVBQUEsZ0JBQUEsU0FBQSxXQUFBLFVBQUEsVUFBQSxTQUFBLFdBQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUFDLFVBQUE5RixNQUFBMmtCLFFBQUF6a0IsVUFBQUQsS0FBQWtuQyxJQUFBRCxnQkFBQTdWLFFBQUFrdUIsVUFBQWlyQixRQUFBQyxjQUFBemUsT0FBQTMzQixTQUFBcTJDLFFBQUFDLFFBQUFDLE9BQUFDLFVBQ0EsR0FBQTNwRSxTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUVBbkcsT0FBQXlKLGFBQUEsRUFDQXpKLE9BQUFnckUsUUFBQSxFQUFBaHJFLE9BQUFpckUsSUFBQSxFQUNBanJFLE9BQUFrckUsWUFDQWxyRSxPQUFBbXJFLGNBQUEsSUFBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLEtBQ0FuckUsT0FBQW9yRSxXQUNBcHJFLE9BQUFxckUsWUFDQXJyRSxPQUFBa0MsTUFBQXU5QyxVQUNBei9DLE9BQUFzckUsV0FBQVosUUFBQTFxRSxPQUFBdXJFLGVBQ0F2ckUsT0FBQXdyRSxhQUFBYixjQUFBM3FFLE9BQUF5ckUsaUJBQ0F6ckUsT0FBQXlHLFVBQUF5bEQsT0FDQWxzRCxPQUFBMHJFLGNBQ0ExckUsT0FBQTJyRSxXQUFBcDNDLFNBQUF2MEIsT0FBQTRyRSxlQUNBNXJFLE9BQUFzb0MsV0FBQXNpQyxRQUFBNXFFLE9BQUE2ckUsZUFDQTdyRSxPQUFBOHJFLFdBQUFqQixRQUFBN3FFLE9BQUErckUsZUFDQS9yRSxPQUFBK29DLFlBQUEraEMsT0FBQTlxRSxPQUFBZ3NFLGdCQUNBaHNFLE9BQUFpc0UsY0FBQSxVQUFBLFlBQ0Fqc0UsT0FBQWtzRSxlQUFBbkIsU0FBQS9xRSxPQUFBbXNFLG1CQUVBbnNFLE9BQUFvc0UsZ0JBR0F4dUUsUUFBQXlNLFFBQUFySyxPQUFBc3JFLFdBQUEsU0FBQWhwRCxHQUFBdGlCLE9BQUF1ckUsWUFBQTVvRSxLQUFBMmYsRUFBQTRqQixjQUNBdG9DLFFBQUF5TSxRQUFBckssT0FBQXdyRSxhQUFBLFNBQUFscEQsR0FBQXRpQixPQUFBeXJFLGNBQUE5b0UsS0FBQTJmLEVBQUE4akIsbUJBQ0F4b0MsUUFBQXlNLFFBQUFySyxPQUFBeUcsVUFBQSxTQUFBNmIsR0FBQXRpQixPQUFBMHJFLFdBQUEvb0UsS0FBQTJmLEVBQUFrbUMsY0FDQTVxRCxRQUFBeU0sUUFBQXJLLE9BQUEyckUsV0FBQSxTQUFBcnBELEdBQUF0aUIsT0FBQTRyRSxZQUFBanBFLEtBQUEyZixFQUFBK3BELGVBQ0F6dUUsUUFBQXlNLFFBQUFySyxPQUFBc29DLFdBQUEsU0FBQWhtQixHQUFBdGlCLE9BQUE2ckUsWUFBQWxwRSxLQUFBMmYsRUFBQXM0QyxXQUNBaDlELFFBQUF5TSxRQUFBckssT0FBQThyRSxXQUFBLFNBQUF4cEQsR0FBQXRpQixPQUFBK3JFLFlBQUFwcEUsS0FBQTJmLEVBQUFwRixzQkFDQXRmLFFBQUF5TSxRQUFBckssT0FBQStvQyxZQUFBLFNBQUF6bUIsR0FBQXRpQixPQUFBZ3NFLGFBQUFycEUsS0FBQTJmLEVBQUF3bUQsWUFDQWxyRSxRQUFBeU0sUUFBQXJLLE9BQUFrc0UsZUFBQSxTQUFBNXBELEdBQUF0aUIsT0FBQW1zRSxnQkFBQXhwRSxLQUFBMmYsRUFBQThtRCxlQUlBcHBFLE9BQUFzc0UsV0FBQSxTQUFBejNDLEVBQUFqUyxHQUNBLEdBQUEycEQsV0FBQXZzRSxPQUFBa3JFLFlBQUFzQixhQUFBNXBELEVBQ0EsSUFBQSxLQUFBMnBELFVBQUEsSUFBQSxPQUFBQSxVQUFBLElBQUEsS0FBQUEsVUFBQSxJQUFBLE9BQUFBLFVBQUEsR0FDQXptRSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBdkosTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSx5QkFDQVQsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQ0F3aUIsUUFBQTRDLGlCQUFBQyxVQUFBbTRDLFVBQUEsR0FBQWw0QyxTQUFBazRDLFVBQUEsSUFBQSxTQUFBampFLFVBQ0EsR0FBQUEsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQTd1QixPQUFBLEVBQUEsQ0FDQSxHQUFBOHVCLFdBQUFsckIsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQSxHQUFBRSxNQUNBQyxXQUFBcHJCLFNBQUExSCxPQUFBMHlCLFlBQUFDLFNBQUEsR0FBQUksS0FDQUMsWUFBQTUwQixPQUFBMnJFLFdBQUF4L0QsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQUMsV0FBQU4sWUFBQSxHQUFBTyxTQUNBQyxVQUFBaDFCLE9BQUF5RyxVQUFBMEYsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBNHpCLFVBQUFILGNBQUEsRUFFQSxJQUFBeHpCLFNBQUE0ekIsVUFBQSxDQUNBaDFCLE9BQUFrckUsWUFBQXVCLGNBQUE3cEQsRUFBQSxFQUFBb1MsVUFBQXd6QixXQUNBLElBQUE1MkIsaUJBQUE1eEIsT0FBQTJyRSxXQUFBeC9ELE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFFLFVBQUFDLFVBQUFELFVBQ0EvMEIsUUFBQTRyRSxlQUNBaHVFLFFBQUF5TSxRQUFBdW5CLGdCQUFBLFNBQUF0UCxHQUFBdGlCLE9BQUE0ckUsWUFBQWpwRSxLQUFBMmYsRUFBQStwRCxlQUNBcnNFLE9BQUFrckUsWUFBQXdCLFlBQUE5cEQsRUFBQSxFQUFBLFNBQUE1aUIsT0FBQTRyRSxhQUNBNXJFLE9BQUFrckUsWUFBQXVCLGNBQUE3cEQsRUFBQSxFQUFBOFIsWUFDQTV1QixXQUFBMEQsZUFBQUMsYUFBQSxNQUVBM0QsWUFBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQSxzR0FHQTdELFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUEsb0NBRUEsU0FBQTNJLGVBQ0E4RSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGtCQUVBLENBRUE5RCxXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLEVBQUFySixVQUFBbUIsTUFDQXpCLFNBQUEsMlNBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxVQUlBM0IsT0FBQTJzRSxlQUFBLFNBQUFDLFdBQ0EsR0FBQTUzQyxXQUFBaDFCLE9BQUF5RyxVQUFBMEYsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBcW5ELFlBQUFva0IsVUFBQSxLQUFBLEdBQ0FoN0MsZ0JBQUE1eEIsT0FBQTJyRSxXQUFBeC9ELE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFFLFVBQUFDLFVBQUFELFVBQ0EvMEIsUUFBQTRyRSxlQUNBaHVFLFFBQUF5TSxRQUFBdW5CLGdCQUFBLFNBQUF0UCxHQUFBdGlCLE9BQUE0ckUsWUFBQWpwRSxLQUFBMmYsRUFBQStwRCxlQUNBcnNFLE9BQUFrckUsWUFBQXdCLFlBQUFFLFVBQUEsR0FBQSxFQUFBLFNBQUE1c0UsT0FBQTRyRSxhQUdBLElBQUFpQixlQUFBLFdBQ0F6c0UsVUFBQW1CLE1BQ0F6QixTQUFBLDRPQUdBNGEsU0FBQSxTQUNBQyxVQUFBLEVBQ0E1YSxXQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sWUFHQXBPLEtBQUEsT0FHQTNCLFFBQUE4c0UsYUFBQSxTQUFBaHBFLE1BQUFpcEUsVUFFQSxHQUFBLEVBQUFqcEUsT0FBQTZ4QixNQUFBN3hCLE9BQUEsQ0FDQSxDQUFBMUQsVUFBQW1CLE1BQ0F6QixTQUFBLHFQQUdBNGEsU0FBQSxTQUNBQyxVQUFBLEVBQ0E1YSxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUF1TyxhQUdBcE8sS0FBQSxPQUVBb3JFLFVBQUEsT0FDQWpwRSxPQUlBaXBFLFVBQUEsSUFIQUYsZ0JBQ0FFLFVBQUEsS0FLQS9zRSxPQUFBZ3RFLGNBQUEsU0FBQWxwRSxNQUFBaXBFLFVBQ0EsR0FBQWpwRSxNQUFBLEdBQUE2eEIsTUFBQTd4QixPQUFBLENBQ0EsQ0FBQTFELFVBQUFtQixNQUNBekIsU0FBQSxtUEFHQTRhLFNBQUEsU0FDQUMsVUFBQSxFQUNBNWEsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsT0FFQW9yRSxVQUFBLE9BQ0FqcEUsT0FLQWlwRSxVQUFBLElBSkFGLGdCQUNBRSxVQUFBLElBTUEsSUFBQUUsZUFBQSxTQUFBQyxTQUFBQyxHQUFBQyxJQUFBQyxJQUFBQyxLQUFBeHBFLE1BQUF5cEUsZ0JBQ0EsR0FBQUMsU0FBQTVsRSxFQUFBLDBEQUtBLE9BSkE0bEUsU0FBQUMsS0FBQSxvQkFDQTdsRSxFQUFBdWxFLElBQUFPLFFBQUEzdUUsT0FBQXl1RSxTQUdBTCxHQUVBbnRFLFFBQUEydEUsa0JBQUEsU0FBQTdwRSxNQUFBaXBFLFVBQ0FqcEUsTUFJQWlwRSxVQUFBLElBSEFGLGdCQUNBRSxVQUFBLEtBUUEvc0UsT0FBQTR0RSxNQUFBLFdBQ0EsR0FBQUMsWUFBQXp0RSxVQUFBbUIsTUFDQXpCLFNBQUEsNFNBR0E0YSxTQUFBLFNBQ0FDLFVBQUEsRUFDQTVhLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsU0FFQTFCLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLGFBR0FwTyxLQUFBLE1BRUFrc0UsWUFBQWpzRSxPQUFBQyxLQUFBLFdBQ0E3QixPQUFBb3NFLGdCQUNBcHNFLE9BQUFxckUsZUFLQXJyRSxPQUFBOHRFLGVBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxhQUFBLFlBQUEsWUFBQSxjQUNBQyxhQUFBLEVBQ0FDLFVBQUEsV0FDQW51RSxPQUFBa3JFLFlBQUF6bEUsTUFFQTJvRSxvQkFBQSxFQUNBQyxpQkFBQSxFQUNBQyxVQUFBLEVBQ0FDLG9DQUFBLEVBQ0FDLFVBQUF4dUUsT0FBQW1yRSxhQUNBc0QsTUFBQSxTQUFBckIsSUFBQUMsSUFBQUMsTUFFQSxHQUFBLEdBQUFELElBQUEsQ0FDQSxHQUFBcUIsYUFFQSxPQURBQSxXQUFBQyxTQUFBMUIsY0FDQXlCLFlBR0FFLGVBQUEsU0FBQXR3RSxNQUNBLElBQUEsR0FBQTZKLEdBQUEsRUFBQUEsRUFBQTdKLEtBQUFvSCxPQUFBeUMsSUFDQSxTQUFBN0osS0FBQTZKLEdBQUEsSUFBQTdKLEtBQUE2SixHQUFBLEtBQUE3SixLQUFBNkosR0FBQSxJQUNBbkksT0FBQTJzRSxlQUFBcnVFLEtBQUE2SixLQUlBMG1FLGNBQUEsU0FBQUMsT0FBQUMsUUFHQSxHQUFBLFlBQUFBLE9BQ0EsSUFBQSxHQUFBNW1FLEdBQUEsRUFBQUEsRUFBQTJtRSxPQUFBcHBFLE9BQUF5QyxJQUVBMm1FLE9BQUEzbUUsR0FBQSxLQUFBMm1FLE9BQUEzbUUsR0FBQSxJQUNBbkksT0FBQW9yRSxRQUFBem9FLEtBQUFtc0UsT0FBQTNtRSxLQVFBNm1FLHFCQUFBLFNBQUE5c0UsTUFBQStzRSxPQUFBOUIsSUFDQSxHQUFBOEIsT0FBQTVCLEtBQ0FydEUsT0FBQXNzRSxXQUFBMkMsT0FBQTVCLElBQUE0QixPQUFBN0IsTUFFQThCLGdCQUFBLFNBQUFDLFFBQUFyckUsTUFBQXNwRSxJQUFBRSxLQUFBOEIsT0FHQSxHQUZBRCxTQUNBbnZFLE9BQUFxckUsU0FBQTFvRSxNQUFBd3NFLFFBQUFBLFFBQUEvQixJQUFBQSxJQUFBRSxLQUFBQSxPQUNBNkIsUUFBQSxDQUVBLElBQUEsR0FEQUUsUUFBQSxHQUNBQyxHQUFBLEVBQUFBLEdBQUF0dkUsT0FBQXFyRSxTQUFBM2xFLE9BQUE0cEUsS0FDQSxHQUFBdHZFLE9BQUFxckUsU0FBQWlFLElBQUFsQyxLQUFBQSxLQUFBcHRFLE9BQUFxckUsU0FBQWlFLElBQUFoQyxNQUFBQSxLQUFBLENBQ0ErQixPQUFBQyxFQUNBLE9BR0FELE9BQUEsSUFDQXJ2RSxPQUFBcXJFLFNBQUFsaEUsT0FBQWtsRSxPQUFBLEtBR0FFLFdBQUEsV0M5UUEsV0FDQSxZQUVBLElBQUE1eEUsZ0JBQUFDLFFBQUFDLE9BQUEsaUJBRUFGLGdCQUFBb0MsV0FBQSxlQUFBLFNBQUEsU0FBQSxhQUFBLFdBQUEsUUFBQSxLQUFBLFVBQUEsWUFBQSxPQUFBLE1BQUEsU0FBQSxPQUFBLHNCQUFBLE9BQUEsU0FBQSxhQUNBLFlBQUEsWUFBQSxhQUFBLGNBQUEsYUFBQSxjQUFBLGlCQUFBLGtCQUFBLGdCQUFBLG1CQUFBLGdCQUFBLGVBQ0EsU0FBQUMsT0FBQUMsT0FBQTZGLFdBQUFDLFNBQUE3RixNQUFBNHNCLEdBQUFqSSxRQUFBemtCLFVBQUFELEtBQUFrbkMsSUFBQTVaLE9BQUFuaUIsS0FBQXNpQixvQkFBQXlsQyxLQUFBOW5ELE9BQUFkLFdBQUFtQixVQUFBbkYsVUFBQWtsRSxXQUNBNWlDLFlBQUFFLFdBQUFELFlBQUF3bUMsZUFBQUMsZ0JBQUEzakUsY0FBQTRqRSxpQkFBQUMsY0FBQUMsY0FDQSxHQUFBeHVFLFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxZQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxjQUNBLENBRUFuRyxPQUFBNnZFLFVBQUEsRUFDQTd2RSxPQUFBcUIsUUFBQTJqQyxTQUFBLEdBQ0FobEMsT0FBQXVOLFVBQUE5QyxXQUNBekssT0FBQTh2RSxTQUFBL21DLFlBQ0Evb0MsT0FBQW0vQixRQUFBOEosV0FDQWpwQyxPQUFBK3ZFLFNBQUEvbUMsWUFDQWhwQyxPQUFBZ3dFLFVBQUFSLGVBQ0F4dkUsT0FBQWl3RSxhQUFBUixnQkFDQXp2RSxPQUFBa3dFLFdBQUFwa0UsY0FDQTlMLE9BQUFtd0UsY0FBQVQsaUJBQ0ExdkUsT0FBQTZHLE9BQUFKLFVBQ0F6RyxPQUFBb3dFLFNBQUF6RSxXQUVBM3JFLE9BQUF5SixhQUFBLEVBQ0F6SixPQUFBaXJFLElBQUEsRUFBQWpyRSxPQUFBZ3JFLFFBQUEsRUFDQWhyRSxPQUFBcXdFLGlCQUFBLEVBQ0Fyd0UsT0FBQWtyRSxZQUVBbHJFLE9BQUFtckUsY0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLEtBQ0FuckUsT0FBQXN3RSxvQkFBQSxFQUNBdHdFLE9BQUF1d0UsY0FDQXZ3RSxPQUFBd3dFLGNBQ0F4d0UsT0FBQXFyRSxZQUNBcnJFLE9BQUE2USxPQUFBakYsVUFDQTVMLE9BQUF5d0UsVUFBQSxFQUVBendFLE9BQUFnc0UsZ0JBQ0FwdUUsUUFBQXlNLFFBQUEwK0IsWUFBQSxTQUFBdE8sSUFBQXo2QixPQUFBZ3NFLGFBQUFycEUsS0FBQTgzQixHQUFBcXVDLFlBQ0E5b0UsT0FBQTB3RSxZQUFBLFVBQUEsWUFDQTF3RSxPQUFBMndFLGVBQ0EveUUsUUFBQXlNLFFBQUE0K0IsV0FBQSxTQUFBeDBCLEdBQUF6VSxPQUFBMndFLFlBQUFodUUsS0FBQThSLEVBQUF3MEQsV0FDQWpwRSxPQUFBNHdFLGFBQ0FoekUsUUFBQXlNLFFBQUEyK0IsWUFBQSxTQUFBbWdDLElBQUFucEUsT0FBQTR3RSxVQUFBanVFLEtBQUF3bUUsR0FBQUMsZUFDQXBwRSxPQUFBNndFLFdBQUEsT0FBQSxRQUFBLE9BQ0E3d0UsT0FBQTh3RSxlQUNBbHpFLFFBQUF5TSxRQUFBbWxFLGVBQUEsU0FBQXZwQyxJQUFBam1DLE9BQUE4d0UsWUFBQW51RSxLQUFBc2pDLEdBQUFDLGNBQ0FsbUMsT0FBQSt3RSxrQkFDQW56RSxRQUFBeU0sUUFBQW9sRSxnQkFBQSxTQUFBMThCLEtBQUEveUMsT0FBQSt3RSxlQUFBcHVFLEtBQUFvd0MsSUFBQTNNLG1CQUNBcG1DLE9BQUFneEUsZUFDQXB6RSxRQUFBeU0sUUFBQXlCLGNBQUEsU0FBQWlSLElBQUEvYyxPQUFBZ3hFLFlBQUFydUUsS0FBQW9hLEdBQUFHLHNCQUNBbGQsT0FBQWl4RSxrQkFDQXJ6RSxRQUFBeU0sUUFBQXFsRSxpQkFBQSxTQUFBOXhCLEtBQUE1OUMsT0FBQWl4RSxlQUFBdHVFLEtBQUFpN0MsSUFBQXdkLG1CQUNBcDdELE9BQUFreEUsWUFBQSxNQUFBLE1BR0FseEUsT0FBQW14RSxZQUFBLEVBQ0FueEUsT0FBQW94RSxnQkFBQSxHQUNBcHhFLE9BQUFxeEUsU0FBQSxHQUNBcnhFLE9BQUFzeEUsaUJBRUF0eEUsT0FBQXV4RSxnQkFBQSxXQUNBLEdBQUFDLG1CQUFBcHhFLFVBQUFtQixNQUNBcVosWUFBQSw4QkFDQTdhLFlBQUEsU0FBQSxXQUFBLFlBQUEsb0JBQUEsZUFBQSxhQUFBLGFBQ0EsU0FBQUMsT0FBQStGLFNBQUEzRixVQUFBb0Isa0JBQUFxSyxhQUFBakIsV0FBQWlsRCxZQUNBN3ZELE9BQUF3cUUsYUFBQTMrRCxhQUFBTSxPQUFBLFNBQUFzK0QsS0FDQSxNQUFBLFVBQUFBLElBQUF6eUQsVUFBQSxzQkFBQXl5RCxJQUFBenlELFVBQUEsaUJBQUF5eUQsSUFBQXp5RCxVQUNBLGdCQUFBeXlELElBQUF6eUQsVUFBQSxVQUFBeXlELElBQUF6eUQsVUFBQSxTQUFBeXlELElBQUF6eUQsVUFBQSxXQUFBeXlELElBQUF6eUQsV0FFQWhZLE9BQUE2TyxTQUNBN08sT0FBQTZPLE1BQUFyQyxZQUFBLEVBQ0F4TSxPQUFBNk8sTUFBQStHLFlBQUEsdUJBQ0E1VixPQUFBMFgsV0FDQTFYLE9BQUF5WCxTQUFBN00sV0FDQTVLLE9BQUF5eEUsY0FBQSxFQUVBenhFLE9BQUEweEUsZUFBQSxXQUNBMXhFLE9BQUE2TyxNQUFBckMsWUFBQXRFLE9BQUFsSSxPQUFBeXhFLGVBQ0F6eEUsT0FBQTZPLE1BQUErRyxZQUFBLEtBQUE1VixPQUFBeXhFLGNBQUEsdUJBQUEsZUFJQXp4RSxPQUFBaVYsY0FDQWpWLE9BQUF1QixLQUFBLFNBQUEyVCxPQUFBL1MsT0FDQStTLE9BQUEzUyxpQkFDQTJTLE9BQUFDLGtCQUVBblYsT0FBQWlWLFdBQUE5UyxRQUFBLEdBR0FuQyxPQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQ0FwUSxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQ0FwUSxPQUFBMFgsUUFBQW00QyxXQUNBN3ZELE9BQUEwWCxRQUFBYSxTQUFBdlksT0FBQTBYLFFBQUF3QixNQUFBLElBQUFsWixPQUFBMFgsUUFBQXlCLE1BQ0FuWixPQUFBMnhFLFFBQUEsU0FBQWw0RCxPQUNBLEdBQUFBLE1BQ0EsR0FBQXpaLE9BQUE2TyxNQUFBOEcsTUFBQTNWLE9BQUE2TyxNQUFBQyxLQUFBLENBQ0EsR0FBQUUsWUFBQWhQLE9BQUE2TyxNQUFBN08sT0FBQTBYLFFBQ0FsVyxtQkFBQUUsTUFBQXNOLGVBRUEsQ0FBQTVPLFVBQUFtQixNQUNBekIsU0FBQSw0UkFHQTRhLFNBQUEsU0FDQUMsVUFBQSxFQUNBNWEsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsU0FLQTNCLE9BQUFnYixXQUFBLFdBQ0F4WixrQkFBQXVPLGFBSUFwTyxLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQWtWLFlBQUEsYUFDQTdmLFNBQ0FuRSxhQUFBLFdBQ0EsTUFBQThqRSxnQkFFQS9rRSxXQUFBLFdBQ0EsTUFBQWdsRSxlQUVBL2YsV0FBQSxXQUdBLE1BRkEzdkQsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E4c0IsT0FBQW5WLE9BQUF2VyxHQUFBZ0UsU0FBQUUsSUFBQSxTQUFBd0osWUFJQStoRSxtQkFBQTV2RSxPQUFBQyxLQUFBLFNBQUErdkUsYUFDQTV4RSxPQUFBNnhFLGFBQUFELFlBQUEsR0FDQTV4RSxPQUFBOHhFLGVBQUFGLFlBQUEsS0FNQSxJQUFBbHFDLFdBQUEsU0FBQXBvQyxHQUNBLEdBQUFxb0MsT0FBQSxHQUFBdjNCLEtBQ0EsTUFBQTlRLEdBQUE4QixTQUFBOUIsSUFFQXFvQyxNQUFBLEdBQUF2M0IsTUFBQTlRLEdBRUEsSUFBQXdVLE1BQUE2ekIsTUFBQTdsQixjQUNBak8sTUFBQTh6QixNQUFBNWxCLFdBQ0FwTyxLQUFBLElBQUFnMEIsTUFBQTFsQixXQUFBRCxNQUFBLElBQ0E0bEIsWUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FDQUMsV0FBQSxHQUFBejNCLE1BQUF3M0IsV0FBQS96QixPQUFBLElBQUFGLElBQUEsS0FBQUcsS0FDQSxPQUFBK3pCLGFBSUFrcUMsaUJBQUEsU0FBQW52RCxFQUFBaVMsRUFBQW05QyxVQUVBcDBFLFFBQUFZLFFBQUEsZUFBQXNKLFlBQUEsU0FDQSxJQUFBbXFFLFdBQUFqeUUsT0FBQWtyRSxZQUFBc0IsYUFBQTVwRCxFQUNBLElBREFpc0MsV0FBQSxXQUFBN3VELE9BQUFrckUsWUFBQWdILGdCQUFBLEtBQ0EsS0FBQUQsVUFBQSxJQUFBLEtBQUFBLFVBQUEsS0FBQSxPQUFBQSxVQUFBLElBQUEsT0FBQUEsVUFBQSxJQUFBLENBQ0FyMEUsUUFBQVksUUFBQSxlQUFBdUosU0FBQSxTQUNBLElBQUFvcUUsV0FBQS94RSxVQUFBbUIsTUFDQXFaLFlBQUEsMEJBQ0FGLFNBQUEsU0FDQUMsVUFBQSxFQUNBM0ssU0FDQW9pRSxZQUFBLFdBQ0EsTUFBQWp5RSxNQUFBeTFCLG1CQUFBdkIsU0FBQTQ5QyxVQUFBLEdBQUE3OUMsVUFBQTY5QyxVQUFBLElBQUFwOEMsT0FBQSxPQUFBcG1CLFVBRUE0aUUsU0FBQSxXQUFBLE1BQUFMLFdBQ0FNLG1CQUFBLFdBQUEsTUFBQUwsV0FBQSxLQUNBTSxRQUFBLFdBQUEsTUFBQXZ5RSxRQUFBZ3dFLFdBQ0F3QyxVQUFBLFdBQUEsTUFBQXh5RSxRQUFBaXdFLGNBQ0F3QyxRQUFBLFdBQUEsTUFBQXp5RSxRQUFBa3dFLFlBQ0F3QyxVQUFBLFdBQUEsTUFBQTF5RSxRQUFBbXdFLGVBQ0F0cEUsT0FBQSxXQUFBLE1BQUE3RyxRQUFBNkcsUUFDQXVwRSxTQUFBLFdBQUEsTUFBQXB3RSxRQUFBb3dFLFdBRUFyd0UsV0FBQSxtQkFDQTRCLEtBQUEsTUFFQXd3RSxXQUFBdndFLE9BQUFDLEtBQUEsU0FBQWtyQixVQUNBbnZCLFFBQUFZLFFBQUEsZUFBQXVKLFNBQUEsVUFDQTNHLFNBQUEyckIsVUFBQS9zQixPQUFBa3JFLFlBQUF1QixjQUFBN3BELEVBQUFpUyxFQUFBOUgsU0FBQStJLGVBRUEsQ0FDQWw0QixRQUFBWSxRQUFBLGVBQUF1SixTQUFBLFNBQ0EsRUFBQTNILFVBQUFtQixNQUNBekIsU0FBQSwyU0FHQTRhLFNBQUEsU0FDQUMsVUFBQSxFQUNBNWEsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsU0FPQTNCLFFBQUEydEUsa0JBQUEsU0FBQTdwRSxNQUFBaXBFLFVBRUEsR0FBQS9zRSxPQUFBc3dFLG1CQUNBdHdFLE9BQUFzd0Usb0JBQUEsRUFDQXZELFVBQUEsT0FDQSxDQUVBLEdBQUFLLEtBQUEzbkUsS0FBQTJuRSxJQUFBQyxJQUFBNW5FLEtBQUE0bkUsSUFFQTRFLFVBQUFqeUUsT0FBQWtyRSxZQUFBc0IsYUFBQVksS0FDQXVGLGdCQUFBLENBTUEsSUFMQS8wRSxRQUFBeU0sUUFBQTRuRSxVQUFBLFNBQUEzeUUsRUFBQTY4QixPQUVBLE9BQUE3OEIsR0FBQSxLQUFBQSxHQUFBNjhCLFFBQUFreEMsTUFDQXNGLGdCQUFBLE1BRUE3dUUsT0FBQTZ1RSxlQUFBLENBQ0EsR0FBQXA2QyxVQUFBdjRCLE9BQUFrckUsWUFBQTBILGFBQUF2RixJQUNBM2pFLFFBQUEvRCxRQUFBNCtCLFFBQUEsT0FDQTc2QixPQUFBL0QsUUFBQXkrQixhQUFBLEVBQ0ExNkIsT0FBQUMsTUFBQTR1QixTQUFBLHlCQUNBdzBDLFVBQUEsT0FFQUEsV0FBQSxLQUlBL3NFLE9BQUE4c0UsYUFBQSxTQUFBaHBFLE1BQUFpcEUsVUFDQSxHQUFBSyxLQUFBM25FLEtBQUEybkUsSUFBQUMsSUFBQTVuRSxLQUFBNG5FLElBQ0E0RSxVQUFBanlFLE9BQUFrckUsWUFBQXNCLGFBQUFZLEtBQ0F1RixnQkFBQSxDQU1BLElBTEEvMEUsUUFBQXlNLFFBQUE0bkUsVUFBQSxTQUFBM3lFLEVBQUE2OEIsT0FFQSxPQUFBNzhCLEdBQUEsS0FBQUEsR0FBQTY4QixRQUFBa3hDLE1BQ0FzRixnQkFBQSxNQUVBLEdBQUE3dUUsT0FBQUEsTUFBQSxJQUFBNnhCLE1BQUE3eEIsU0FBQTZ1RSxlQUNBOWpCLFdBQUEsV0FBQTd1RCxPQUFBa3JFLFlBQUFnSCxnQkFBQSxLQUNBeG9FLE9BQUEvRCxRQUFBNCtCLFFBQUEsT0FDQTc2QixPQUFBL0QsUUFBQXkrQixhQUFBLEVBQ0ExNkIsT0FBQUMsTUFBQSxxREFDQW9qRSxVQUFBLE9BQ0EsS0FBQWpwRSxPQUFBNnVFLGVBQUEsQ0FDQSxHQUFBcDZDLFVBQUF2NEIsT0FBQWtyRSxZQUFBMEgsYUFBQXZGLElBQ0EzakUsUUFBQS9ELFFBQUE0K0IsUUFBQSxPQUNBNzZCLE9BQUEvRCxRQUFBeStCLGFBQUEsRUFDQTE2QixPQUFBQyxNQUFBNHVCLFNBQUEseUJBQ0F3MEMsVUFBQSxPQUVBQSxXQUFBLElBR0Evc0UsT0FBQWd0RSxjQUFBLFNBQUFscEUsTUFBQWlwRSxVQUNBLEdBQUFLLEtBQUEzbkUsS0FBQTJuRSxJQUFBQyxJQUFBNW5FLEtBQUE0bkUsSUFDQTRFLFVBQUFqeUUsT0FBQWtyRSxZQUFBc0IsYUFBQVksS0FDQXVGLGdCQUFBLENBTUEsSUFMQS8wRSxRQUFBeU0sUUFBQTRuRSxVQUFBLFNBQUEzeUUsRUFBQTY4QixPQUVBLE9BQUE3OEIsR0FBQSxLQUFBQSxHQUFBNjhCLFFBQUFreEMsTUFDQXNGLGdCQUFBLE1BRUEsS0FBQTd1RSxPQUFBQSxNQUFBLEtBQUE2eEIsTUFBQTd4QixTQUFBNnVFLGVBQ0E5akIsV0FBQSxXQUFBN3VELE9BQUFrckUsWUFBQWdILGdCQUFBLEtBQ0F4b0UsT0FBQS9ELFFBQUE0K0IsUUFBQSxPQUNBNzZCLE9BQUEvRCxRQUFBeStCLGFBQUEsRUFDQTE2QixPQUFBQyxNQUFBLHlEQUNBb2pFLFVBQUEsT0FDQSxLQUFBanBFLE9BQUE2dUUsZUFBQSxDQUNBLEdBQUFwNkMsVUFBQXY0QixPQUFBa3JFLFlBQUEwSCxhQUFBdkYsSUFDQTNqRSxRQUFBL0QsUUFBQTQrQixRQUFBLE9BQ0E3NkIsT0FBQS9ELFFBQUF5K0IsYUFBQSxFQUNBMTZCLE9BQUFDLE1BQUE0dUIsU0FBQSx5QkFFQXcwQyxVQUFBLE9BR0FBLFdBQUEsSUFHQS9zRSxPQUFBNnlFLGlCQUFBLFNBQUEvdUUsTUFBQWlwRSxVQUNBLEdBQUF4MEMsVUFBQXY0QixPQUFBa3JFLFlBQUEwSCxhQUFBbnRFLEtBQUE0bkUsSUFDQSxJQUFBLEtBQUF2cEUsT0FBQSxPQUFBQSxPQUFBNnhCLE1BQUF6dEIsT0FBQXBFLFFBQ0ErcUQsV0FBQSxXQUFBN3VELE9BQUFrckUsWUFBQWdILGdCQUFBLEtBQ0F4b0UsT0FBQS9ELFFBQUE0K0IsUUFBQSxPQUNBNzZCLE9BQUEvRCxRQUFBeStCLGFBQUEsRUFDQTE2QixPQUFBQyxNQUFBNHVCLFNBQUEseUNBQ0F3MEMsVUFBQSxPQUNBLElBQUEsd0JBQUF4MEMsVUFBQSxLQUFBejBCLE9BQUEsT0FBQUEsTUFBQSxDQUVBLEdBQUFndkUsY0FBQTl5RSxPQUFBa3JFLFlBQUE2SCxjQUFBdHRFLEtBQUEybkUsSUFBQSxFQUNBLElBQUEsT0FBQTBGLGNBQUEsS0FBQUEsYUFBQSxDQUNBLEdBQUFFLG9CQUFBLEVBQ0FBLG9CQUFBbHZFLE1BQUEsR0FBQSxnQkFDQSxJQUFBQSxNQUFBLHlCQUVBOUQsT0FBQSt2RSxTQUFBNWpFLE9BQUEsU0FBQXdJLEdBQUEsTUFBQUEsR0FBQSswQixXQUFBNWxDLE9BQUE2USxFQUFBZzFCLFdBQUE3bEMsUUFBQSxHQUFBc2xFLFlBRUE0SixxQkFBQUYsY0FDQXBwRSxPQUFBL0QsUUFBQTQrQixRQUFBLE9BQ0E3NkIsT0FBQS9ELFFBQUF5K0IsYUFBQSxFQUNBMTZCLE9BQUFDLE1BQUE0dUIsU0FBQSxpREFBQXJ3QixPQUFBekMsS0FBQTJuRSxJQUFBLElBQ0FMLFVBQUEsSUFDQUEsVUFBQSxPQUNBQSxXQUFBLE9BRUFBLFdBQUEsSUFHQS9zRSxPQUFBaXpFLGdCQUFBLFNBQUFudkUsTUFBQWlwRSxVQUNBLEdBQUFLLEtBQUEzbkUsS0FBQTJuRSxJQUFBQyxJQUFBNW5FLEtBQUE0bkUsSUFDQTRFLFVBQUFqeUUsT0FBQWtyRSxZQUFBc0IsYUFBQVksS0FDQXVGLGdCQUFBLENBT0EsSUFOQS8wRSxRQUFBeU0sUUFBQTRuRSxVQUFBLFNBQUEzeUUsRUFBQTY4QixPQUVBLE9BQUE3OEIsR0FBQSxLQUFBQSxHQUFBNjhCLFFBQUFreEMsTUFDQXNGLGdCQUFBLEtBR0EsS0FBQTd1RSxPQUFBLE9BQUFBLE1BQUEsQ0FDQSxHQUFBd3BFLE1BQUE3bkUsS0FBQTZuRSxLQUFBNEYsVUFBQSxDQUNBLFFBQUE1RixNQUNBLElBQUEsY0FDQXR0RSxPQUFBZ3NFLGFBQUF4OUQsSUFBQSxTQUFBMmtFLEtBQUEsTUFBQUEsT0FBQWpwRSxRQUFBcEcsT0FBQSxJQUNBb3ZFLFVBQUEsRUFFQSxNQUNBLEtBQUEsWUFDQWx6RSxPQUFBMndFLFlBQUFuaUUsSUFBQSxTQUFBNGtFLEtBQUEsTUFBQUEsT0FBQWxwRSxRQUFBcEcsT0FBQSxJQUNBb3ZFLFVBQUEsRUFFQSxNQUNBLEtBQUEsa0JBQ0FsekUsT0FBQTB3RSxXQUFBbGlFLElBQUEsU0FBQTZrRTtBQUFBLE1BQUFBLE9BQUFucEUsUUFBQXBHLE9BQUEsSUFDQW92RSxVQUFBLEVBRUEsTUFDQSxLQUFBLGlCQUNBbHpFLE9BQUE0d0UsVUFBQXBpRSxJQUFBLFNBQUE4a0UsS0FBQSxNQUFBQSxPQUFBcHBFLFFBQUFwRyxPQUFBLElBQ0FvdkUsVUFBQSxFQUVBLE1BQ0EsS0FBQSxPQUNBbHpFLE9BQUE2d0UsVUFBQXJpRSxJQUFBLFNBQUEra0UsS0FBQSxNQUFBQSxPQUFBcnBFLFFBQUFwRyxPQUFBLElBQ0FvdkUsVUFBQSxFQUVBLE1BQ0EsS0FBQSxZQUNBbHpFLE9BQUE4d0UsWUFBQXRpRSxJQUFBLFNBQUFnbEUsSUFBQSxNQUFBQSxNQUFBdHBFLFFBQUFwRyxPQUFBLElBQ0FvdkUsVUFBQSxFQUVBLE1BQ0EsS0FBQSxxQkFDQWx6RSxPQUFBK3dFLGVBQUF2aUUsSUFBQSxTQUFBaWxFLElBQUEsTUFBQUEsTUFBQXZwRSxRQUFBcEcsT0FBQSxJQUNBb3ZFLFVBQUEsRUFFQSxNQUNBLEtBQUEsWUFDQWx6RSxPQUFBZ3hFLFlBQUF4aUUsSUFBQSxTQUFBZ2xFLElBQUEsTUFBQUEsTUFBQXRwRSxRQUFBcEcsT0FBQSxJQUNBb3ZFLFVBQUEsRUFFQSxNQUNBLEtBQUEscUJBQ0FsekUsT0FBQWl4RSxlQUFBemlFLElBQUEsU0FBQWlsRSxJQUFBLE1BQUFBLE1BQUF2cEUsUUFBQXBHLE9BQUEsSUFDQW92RSxVQUFBLEVBRUEsTUFDQSxLQUFBLGFBQ0FsekUsT0FBQWt4RSxXQUFBMWlFLElBQUEsU0FBQWlTLEdBQUEsTUFBQUEsS0FBQXZXLFFBQUFwRyxPQUFBLElBQ0FvdkUsVUFBQSxHQUtBLEdBQUFBLFNBQ0FuRyxVQUFBLE9BQ0EsSUFBQSxrQkFBQU8sS0FBQSxDQUVBLEdBQUFvRyxhQUFBMXpFLE9BQUFrckUsWUFBQTZILGNBQUEzRixJQUFBLEVBQ0EsSUFBQSxPQUFBc0csYUFBQSxLQUFBQSxZQUFBLENBQ0EsR0FBQUMsaUJBQUEsRUFDQUEsaUJBQUFELFlBQUEsR0FBQSxnQkFDQSxJQUFBQSxZQUFBLHlCQUVBMXpFLE9BQUErdkUsU0FBQTVqRSxPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUErMEIsV0FBQWdxQyxhQUFBLytELEVBQUFnMUIsV0FBQStwQyxjQUFBLEdBQUF0SyxZQUVBdUssa0JBQUE3dkUsT0FDQTRGLE9BQUEvRCxRQUFBNCtCLFFBQUEsT0FDQTc2QixPQUFBL0QsUUFBQXkrQixhQUFBLEVBQ0ExNkIsT0FBQUMsTUFBQSw0RUFBQXpCLE9BQUFrbEUsSUFBQSxJQUNBTCxVQUFBLElBQ0FBLFVBQUEsT0FDQUEsV0FBQSxPQUNBQSxXQUFBLE9BQ0EsS0FBQWpwRSxPQUFBNnVFLGlCQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQXpvRSxRQUFBekUsS0FBQTRuRSxLQUFBLEVBQUEsQ0FDQSxHQUFBOTBDLFVBQUF2NEIsT0FBQWtyRSxZQUFBMEgsYUFBQXZGLElBQ0EzakUsUUFBQS9ELFFBQUE0K0IsUUFBQSxPQUNBNzZCLE9BQUEvRCxRQUFBeStCLGFBQUEsRUFDQTE2QixPQUFBQyxNQUFBNHVCLFNBQUEseUJBQ0F3MEMsVUFBQSxPQUNBQSxXQUFBLEdBS0EsSUFBQTZHLHFCQUFBLFNBQUFDLGVBZUEsSUFBQSxHQWJBQyxhQUFBLEdBQ0FuckMsS0FBQWtyQyxjQUFBbHJDLEtBQ0FvckMsUUFBQXRFLGdCQUFBdGpFLE9BQUEsU0FBQTRtQyxLQUFBLE1BQUFBLEtBQUExYyxvQkFBQXc5QyxjQUFBeDlDLHFCQUFBLEdBQUErUCxnQkFDQTR0QyxPQUFBeEUsZUFBQXJqRSxPQUFBLFNBQUE4NUIsSUFBQSxNQUFBQSxJQUFBanBCLFVBQUE2MkQsY0FBQXo5QyxZQUFBLEdBQUE4UCxXQUNBK3RDLFNBQUFqckMsWUFBQTc4QixPQUFBLFNBQUFnOUQsSUFBQSxNQUFBQSxJQUFBMS9CLGdCQUFBb3FDLGNBQUFwcUMsaUJBQUEsR0FBQTIvQixZQUNBOEssU0FBQW5yQyxZQUFBNThCLE9BQUEsU0FBQXN1QixJQUFBLE1BQUFBLElBQUErUixhQUFBcW5DLGNBQUFybkMsY0FBQSxHQUFBczhCLFNBQ0FxTCxLQUFBL3lFLFNBQUF5eUUsY0FBQXY5QixVQUFBck4sV0FBQTk4QixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUE2aEMsV0FBQXU5QixjQUFBdjlCLFlBQUEsR0FBQTJ5QixRQUFBN25FLE9BQ0FnekUsUUFBQWh6RSxTQUFBeXlFLGNBQUF2cEMsbUJBQUFvbEMsaUJBQUF2akUsT0FBQSxTQUFBeXhDLEtBQUEsTUFBQUEsS0FBQXRULG9CQUFBdXBDLGNBQUF2cEMscUJBQUEsR0FBQTh3QixnQkFBQWg2RCxPQUNBaXpFLE9BQUFqekUsU0FBQXl5RSxjQUFBNTJELFVBQUFuUixjQUFBSyxPQUFBLFNBQUE0USxJQUFBLE1BQUFBLElBQUFDLFVBQUE2MkQsY0FBQTUyRCxZQUFBLEdBQUFDLG1CQUFBOWIsT0FDQWt6RSxJQUFBbHpFLFNBQUF5eUUsY0FBQXhlLGlCQUFBbnRELE9BQUEyckUsY0FBQXhlLGtCQUFBajBELE9BQ0FtekUsS0FBQW56RSxTQUFBeXlFLGNBQUFoM0QsUUFBQTNVLE9BQUEyckUsY0FBQWgzRCxTQUFBemIsT0FDQW96RSxJQUFBcHpFLFNBQUF5eUUsY0FBQTVwQyxZQUFBL2hDLE9BQUEyckUsY0FBQTVwQyxhQUFBN29DLE9BQ0FxekUsT0FBQXJ6RSxTQUFBeXlFLGNBQUFycUMsZ0JBQUF0aEMsT0FBQTJyRSxjQUFBcnFDLGlCQUFBcG9DLE9BQ0FzekUsS0FBQSxFQUFBQSxLQUFBMTBFLE9BQUF1d0UsV0FBQTdxRSxPQUFBZ3ZFLE9BQUEsQ0FDQSxHQUFBdHpFLFNBQUFwQixPQUFBdXdFLFdBQUFtRSxNQUFBNStDLFFBQUEsQ0FFQSxHQUFBNitDLGVBQUEsS0FBQTMwRSxPQUFBdXdFLFdBQUFtRSxNQUFBbHJDLGlCQUFBcG9DLFNBQUFwQixPQUFBdXdFLFdBQUFtRSxNQUFBbHJDLGdCQUFBdGhDLE9BQUFsSSxPQUFBdXdFLFdBQUFtRSxNQUFBbHJDLGlCQUFBcG9DLE9BQ0F3ekUsWUFBQSxLQUFBNTBFLE9BQUF1d0UsV0FBQW1FLE1BQUFwK0IsV0FBQWwxQyxTQUFBcEIsT0FBQXV3RSxXQUFBbUUsTUFBQXArQixVQUFBdDJDLE9BQUF1d0UsV0FBQW1FLE1BQUFwK0IsVUFBQWwxQyxPQUNBeXpFLFdBQUEsS0FBQTcwRSxPQUFBdXdFLFdBQUFtRSxNQUFBenFDLGFBQUE3b0MsU0FBQXBCLE9BQUF1d0UsV0FBQW1FLE1BQUF6cUMsWUFBQS9oQyxPQUFBbEksT0FBQXV3RSxXQUFBbUUsTUFBQXpxQyxhQUFBN29DLE9BQ0EwekUsV0FBQSxLQUFBOTBFLE9BQUF1d0UsV0FBQW1FLE1BQUFyZixrQkFBQWowRCxTQUFBcEIsT0FBQXV3RSxXQUFBbUUsTUFBQXJmLGlCQUFBbnRELE9BQUFsSSxPQUFBdXdFLFdBQUFtRSxNQUFBcmYsa0JBQUFqMEQsT0FDQTJ6RSxZQUFBLEtBQUEvMEUsT0FBQXV3RSxXQUFBbUUsTUFBQTczRCxTQUFBemIsU0FBQXBCLE9BQUF1d0UsV0FBQW1FLE1BQUE3M0QsUUFBQTNVLE9BQUFsSSxPQUFBdXdFLFdBQUFtRSxNQUFBNzNELFNBQUF6YixPQUNBNHpFLGlCQUFBLEtBQUFoMUUsT0FBQXV3RSxXQUFBbUUsTUFBQXBxQyxvQkFBQWxwQyxTQUFBcEIsT0FBQXV3RSxXQUFBbUUsTUFBQXBxQyxtQkFBQXRxQyxPQUFBdXdFLFdBQUFtRSxNQUFBcHFDLG1CQUFBbHBDLE9BQ0E2ekUsWUFBQSxLQUFBajFFLE9BQUF1d0UsV0FBQW1FLE1BQUF6M0QsV0FBQTdiLFNBQUFwQixPQUFBdXdFLFdBQUFtRSxNQUFBejNELFVBQUFqZCxPQUFBdXdFLFdBQUFtRSxNQUFBejNELFVBQUE3YixNQUVBcEIsUUFBQXV3RSxXQUFBbUUsTUFBQTUrQyxTQUFBKzlDLGNBQUEvOUMsU0FDQTkxQixPQUFBdXdFLFdBQUFtRSxNQUFBL29DLFdBQUFrb0MsY0FBQWxvQyxXQUNBZ3BDLGVBQUFGLFFBQ0F6MEUsT0FBQXV3RSxXQUFBbUUsTUFBQS9yQyxNQUFBQSxNQUNBM29DLE9BQUF1d0UsV0FBQW1FLE1BQUFwZix5QkFBQXVlLGNBQUF2ZSx5QkFDQXB0RCxPQUFBbEksT0FBQXV3RSxXQUFBbUUsTUFBQTUrRCxjQUFBKzlELGNBQUEvOUQsYUFBQTVOLE9BQUFsSSxPQUFBdXdFLFdBQUFtRSxNQUFBMytELGVBQUE4OUQsY0FBQTk5RCxjQUNBKytELFlBQUFSLEtBQ0F0MEUsT0FBQXV3RSxXQUFBbUUsTUFBQXIrQyxvQkFBQTA5QyxTQUNBL3pFLE9BQUF1d0UsV0FBQW1FLE1BQUF0K0MsV0FBQTQ5QyxRQUNBaDBFLE9BQUF1d0UsV0FBQW1FLE1BQUFqckMsZ0JBQUF3cUMsVUFDQWowRSxPQUFBdXdFLFdBQUFtRSxNQUFBbG9DLGFBQUEwbkMsVUFDQVUsYUFBQVQsTUFDQWEsa0JBQUFaLFNBQ0FhLGFBQUFaLFFBQ0FVLGFBQUFSLE1BQ0FNLFlBQUFMLEtBQ0F4MEUsT0FBQXV3RSxXQUFBbUUsTUFBQW5mLFdBQUFzZSxjQUFBdGUsWUFDQXVlLFlBQUFZLE1BR0FaLGFBQUEsSUFDQTl6RSxPQUFBdXdFLFdBQUFwbUUsT0FBQTJwRSxZQUFBLEdBQ0FZLEtBQUExMEUsT0FBQXV3RSxXQUFBN3FFLFFBR0ExRixPQUFBZ3JFLFNBQUFockUsT0FBQWlyRSxNQUNBanJFLE9BQUFxd0UsaUJBQUEsR0FDQXJ3RSxPQUFBeUosWUFBQSxRQUlBekosUUFBQWsxRSxjQUFBLFdBQ0FsMUUsT0FBQXlKLGFBQUEsRUFDQTdMLFFBQUFZLFFBQUEsZUFBQXNKLFlBQUEsU0FDQSxJQUFBcXRFLFVBQUFuMUUsT0FBQWtyRSxZQUFBNkgsY0FBQSxFQUFBLEVBQ0EsSUFBQSxPQUFBb0MsU0FDQW4xRSxPQUFBa3JFLFlBQUFrSyxjQUFBLFNBQUEzN0QsT0FDQSxHQUFBQSxNQUFBLENBQ0EsQ0FBQXJaLFVBQUFtQixNQUNBekIsU0FBQSwyT0FHQUMsWUFBQSxTQUFBLGFBQUEsb0JBQUEsU0FBQUMsT0FBQThGLFdBQUF0RSxtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sV0FFQS9QLE9BQUF5SixhQUFBLEVBQ0E3TCxRQUFBWSxRQUFBLGVBQUF1SixTQUFBLFlBRUFwRyxLQUFBLE9BRUEzQixPQUFBeXdFLFVBQUEsTUFFQSxDQUNBendFLE9BQUF5d0UsVUFBQSxDQUNBLEVBQUFyd0UsVUFBQW1CLE1BQ0F6QixTQUFBLHVSQUdBQyxZQUFBLFNBQUEsYUFBQSxvQkFBQSxTQUFBQyxPQUFBOEYsV0FBQXRFLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUF1TyxXQUVBL1AsT0FBQXlKLGFBQUEsRUFDQTdMLFFBQUFZLFFBQUEsZUFBQXVKLFNBQUEsWUFFQXBHLEtBQUEsT0FFQS9ELFFBQUFZLFFBQUEsZUFBQXVKLFNBQUEsaUJBSUEsQ0FDQW5LLFFBQUFZLFFBQUEsZUFBQXVKLFNBQUEsVUFDQS9ILE9BQUF5SixhQUFBLENBQ0EsRUFBQXJKLFVBQUFtQixNQUNBekIsU0FBQSw4UEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsVUFPQTNCLE9BQUFrYSxLQUFBLFdBQ0FsYSxPQUFBZ3JFLFFBQUEsRUFDQWhyRSxPQUFBb3hFLGdCQUFBcHhFLE9BQUE2USxPQUFBMUUsT0FBQSxTQUFBM0csR0FBQSxNQUFBQSxHQUFBOFksVUFBQXRlLE9BQUFteEUsY0FBQSxHQUFBNXlELFVBR0EsS0FBQSxHQUZBODJELFlBQUF6M0UsUUFBQStaLEtBQUEzWCxPQUFBdXdFLFlBRUFwb0UsRUFBQWt0RSxXQUFBM3ZFLE9BQUF5QyxNQUNBL0csU0FBQWkwRSxXQUFBbHRFLEdBQUEydEIsU0FBQSxPQUFBdS9DLFdBQUFsdEUsR0FBQTJ0QixTQUFBLEtBQUF1L0MsV0FBQWx0RSxHQUFBMnRCLFVBQ0F1L0MsV0FBQWxyRSxPQUFBaEMsRUFBQSxFQUdBbkksUUFBQWlyRSxJQUFBb0ssV0FBQTN2RSxPQUNBMUYsT0FBQXlKLFlBQUEsT0FDQXpKLE9BQUF5d0UsVUFBQSxFQUNBdndFLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBWCxPQUFBcXdFLGlCQUFBLEVBRUF6eUUsUUFBQXlNLFFBQUFnckUsV0FBQSxTQUFBM2YsSUFBQXY1QixPQUVBaDhCLEtBQUFTLGlCQUFBQyxTQUFBNjBELElBQUE1L0IsVUFBQXJtQixTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQW5KLEtBQUFtMUUsY0FBQXZ6RSxHQUFBdUgsU0FBQXRILFNBQUEsU0FBQXV6RSxjQUNBLElBQUEsR0FBQXQ1QyxHQUFBLEVBQUFBLEVBQUFzNUMsYUFBQTd2RSxPQUFBdTJCLElBRUFzNUMsYUFBQXQ1QyxHQUFBMWQsWUFBQXZlLE9BQUFveEUsaUJBQ0FweEUsT0FBQXN4RSxjQUFBM3VFLE1BQUEyRyxTQUFBdEgsUUFBQXV6RSxhQUFBdDVDLEdBQUE2NEIsaUJBR0FZLEtBQUExekQsUUFBQXNILFNBQUF0SCxRQUNBMHpELElBQUFwM0MsU0FBQXRlLE9BQUFteEUsWUFDQXpiLElBQUE1c0IsZUFBQTlvQyxPQUFBdytDLFFBQUFnM0IsT0FDQTlmLElBQUE5c0IsVUFBQWxCLFVBQUFndUIsSUFBQTlzQixXQUNBLEtBQUE4c0IsSUFBQTFwQixhQUFBNXFDLFNBQUFzMEQsSUFBQTFwQixjQUFBMHBCLElBQUExcEIsWUFBQXRFLFVBQUFndUIsSUFBQTFwQixjQUNBMHBCLElBQUFyL0IsbUJBQUFvNUMsZ0JBQUF0akUsT0FBQSxTQUFBNG1DLEtBQUEsTUFBQUEsS0FBQTNNLGlCQUFBc3ZCLElBQUFyL0IscUJBQUEsR0FBQUEsbUJBQ0FxL0IsSUFBQXQvQixVQUFBbzVDLGVBQUFyakUsT0FBQSxTQUFBODVCLElBQUEsTUFBQUEsSUFBQUMsWUFBQXd2QixJQUFBdC9CLFlBQUEsR0FBQXBaLFNBQ0EwNEMsSUFBQWpzQixlQUFBVCxZQUFBNzhCLE9BQUEsU0FBQWc5RCxJQUFBLE1BQUFBLElBQUFDLGFBQUExVCxJQUFBanNCLGlCQUFBLEdBQUFBLGVBQ0Fpc0IsSUFBQWxwQixZQUFBekQsWUFBQTU4QixPQUFBLFNBQUFzdUIsSUFBQSxNQUFBQSxJQUFBcXVDLFVBQUFwVCxJQUFBbHBCLGNBQUEsR0FBQUEsWUFDQWtwQixJQUFBcGYsVUFBQSxLQUFBb2YsSUFBQXBmLFdBQUFsMUMsU0FBQXMwRCxJQUFBcGYsVUFBQXJOLFdBQUE5OEIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBdzBELFNBQUF2VCxJQUFBcGYsWUFBQSxHQUFBQSxVQUFBbDFDLE9BQ0EsS0FBQXMwRCxJQUFBN3NCLFlBQUF6bkMsU0FBQXMwRCxJQUFBN3NCLGFBQUE2c0IsSUFBQTdzQixXQUFBLE1BQUE2c0IsSUFBQTdzQixXQUFBLElBQUEsS0FDQTZzQixJQUFBcHJCLG1CQUFBLEtBQUFvckIsSUFBQXByQixvQkFBQWxwQyxTQUFBczBELElBQUFwckIsbUJBQUFvbEMsaUJBQUF2akUsT0FBQSxTQUFBeXhDLEtBQUEsTUFBQUEsS0FBQXdkLGlCQUFBMUYsSUFBQXByQixxQkFBQSxHQUFBQSxtQkFBQWxwQyxPQUNBczBELElBQUF6NEMsVUFBQSxLQUFBeTRDLElBQUF6NEMsV0FBQTdiLFNBQUFzMEQsSUFBQXo0QyxVQUFBblIsY0FBQUssT0FBQSxTQUFBNFEsSUFBQSxNQUFBQSxJQUFBRyxvQkFBQXc0QyxJQUFBejRDLFlBQUEsR0FBQUQsU0FBQTViLE9BQ0EsS0FBQXMwRCxJQUFBMXBCLGFBQUE1cUMsU0FBQXMwRCxJQUFBMXBCLGNBQUEwcEIsSUFBQXpwQixpQkFBQWpzQyxPQUFBdytDLFFBQUFnM0IsT0FFQSxJQUFBajRDLFFBQUFtNEIsSUFBQTUvQixjQUNBNC9CLEtBQUE1L0IsUUFFQXVSLElBQUFudEIsS0FBQXc3QyxLQUFBam1ELFNBQUE1TixLQUFBLFNBQUE0ekUsYUFFQXYxRSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBb2hDLElBQUFtaUMsWUFBQXpuRSxHQUFBMHpFLFlBQUF4L0QsU0FBQXhHLFNBQUE1TixLQUFBLFNBQUFnYSxrQkFDQTQ1RCxZQUFBMzVELFlBQUFELGlCQUFBQyxZQUNBMjVELFlBQUEzL0MsUUFBQXlILE9BRUFrNEMsWUFBQTVzQyxXQURBem5DLFNBQUFxMEUsWUFBQTVzQyxXQUNBNHNDLFlBQUE1c0MsV0FBQSxFQUFBLE1BQUEsS0FDQSxFQUNBLElBQUE2c0MsWUFBQTExRSxPQUFBc3hFLGNBQUFubEUsT0FBQSxTQUFBaXlELElBQUEsTUFBQUEsSUFBQSxJQUFBcVgsWUFBQXp6RSxVQUFBLEVBQ0FaLFVBQUFzMEUsYUFFQUQsWUFBQUUsWUFBQUQsV0FHQSxJQUFBdDdELFlBQUE1QixZQUFBeFksT0FBQTh4RSxlQUFBdjVELFNBQUFJLFVBQUEzWSxPQUFBOHhFLGVBQUFuNUQsVUFFQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQSt6RSxnQkFDQSxHQUFBLElBQUE1MUUsT0FBQTZ4RSxhQUFBcmxFLFlBQUEsQ0FFQSxHQUFBd0MsWUFDQUMsWUFDQXpDLFlBQUF4TSxPQUFBNnhFLGFBQUFybEUsWUFDQW1KLEtBQUEzVixPQUFBNnhFLGFBQUEvaUUsS0FBQTZHLEtBQ0FLLFVBQUFoVyxPQUFBNnhFLGFBQUE3N0QsVUFDQUksV0FBQXBXLE9BQUE2eEUsYUFBQXo3RCxXQUNBUixZQUFBNVYsT0FBQTZ4RSxhQUFBajhELFlBQ0E1VCxRQUFBeXpFLFlBQUF6ekUsUUFDQWtVLFVBQUEwL0QsZUFBQTEvRCxVQUNBTCxnQkFBQTdWLE9BQUE2eEUsYUFBQWg4RCxnQkFDQUMsWUFBQTlWLE9BQUE2eEUsYUFBQS83RCxZQUNBQyxhQUFBL1YsT0FBQTZ4RSxhQUFBOTdELGFBQ0FFLE9BQUF3L0QsWUFBQXgvRCxRQUVBbkgsS0FBQTlPLE9BQUE2eEUsYUFBQS9pRSxNQUdBSyxHQUFBLEdBQUFDLFNBQ0FELElBQUFwUSxPQUFBLGFBQUFzUSxLQUFBQyxVQUFBTixVQUFBQyxhQUNBRSxHQUFBcFEsT0FBQSxPQUFBaVEsVUFBQUYsTUFFQXhELEtBQUFpTCxXQUFBcEgsSUFBQU0sU0FBQTVOLEtBQUEsU0FBQTJVLFdBQ0FpL0QsWUFBQXZOLFlBQ0F1TixZQUFBdk4sU0FBQXZsRSxLQUFBNlQsV0FFQXhXLE9BQUF3d0UsV0FBQWhpRSxJQUFBLFNBQUF5dEIsR0FBQSxNQUFBQSxHQUFBaG1CLFNBQUEvTCxRQUFBdXJFLFlBQUF4L0QsUUFBQSxHQUNBdk0sT0FBQStNLFFBQUEsd0JBQUFnL0QsWUFBQXgvRCxRQUNBalcsT0FBQXd3RSxXQUFBN3RFLEtBQUE4eUUsY0FFQS9yRSxPQUFBQyxNQUFBLE9BQUE4ckUsWUFBQXgvRCxPQUFBLHdEQUNBalcsT0FBQWdyRSxVQUNBNEksb0JBQUE2QixjQUNBLFNBQUF6MEUsZUFDQWhCLE9BQUFxd0UsaUJBQUEsRUFDQTNtRSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx5QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx5QkFBQU8sY0FBQTRJLGtCQUlBNUosUUFBQTZ4RSxhQUFBMzdELFVBQUEwL0QsZUFBQTEvRCxVQUNBbFcsT0FBQTZ4RSxhQUFBN3ZFLFFBQUF5ekUsWUFBQXp6RSxRQUNBaEMsT0FBQTZ4RSxhQUFBNTdELE9BQUF3L0QsWUFBQXgvRCxPQUNBalcsT0FBQTZ4RSxhQUFBMXJFLEtBQUEsU0FDQW1GLEtBQUE0TyxLQUFBbGEsT0FBQTZ4RSxjQUFBcGlFLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBaS9ELFlBQUF2TixZQUNBdU4sWUFBQXZOLFNBQUF2bEUsS0FBQTZULFdBRUF4VyxPQUFBd3dFLFdBQUFoaUUsSUFBQSxTQUFBeXRCLEdBQUEsTUFBQUEsR0FBQWhtQixTQUFBL0wsUUFBQXVyRSxZQUFBeC9ELFFBQUEsR0FDQXZNLE9BQUErTSxRQUFBLHdCQUFBZy9ELFlBQUF4L0QsUUFDQWpXLE9BQUF3d0UsV0FBQTd0RSxLQUFBOHlFLGNBRUEvckUsT0FBQUMsTUFBQSxPQUFBOHJFLFlBQUF4L0QsT0FBQSx3REFDQWpXLE9BQUFnckUsVUFDQTRJLG9CQUFBNkIsY0FDQSxTQUFBejBFLGVBQ0FoQixPQUFBazZELG9CQUFBLEVBQ0FsNkQsT0FBQXF3RSxpQkFBQSxFQUNBM21FLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFHQSxTQUFBaXNFLGFBQ0E3MUUsT0FBQXlKLFlBQUEsUUFDQUMsT0FBQS9ELFFBQUE0K0IsUUFBQSxJQUNBNzZCLE9BQUEvRCxRQUFBeStCLGFBQUEsRUFDQXBrQyxPQUFBcXdFLGlCQUFBLEVBQ0EzbUUsT0FBQUMsTUFBQXZJLFNBQUF5MEUsWUFBQXAxRSxTQUFBLHFCQUFBLHlDQUFBbzFFLFlBQUFwMUUsU0FBQSxxQkFDQSx5Q0FBQW8xRSxZQUFBanNFLGVBRUEsU0FBQWtzRSxjQUNBOTFFLE9BQUF5SixZQUFBLFFBQ0FDLE9BQUEvRCxRQUFBNCtCLFFBQUEsSUFDQTc2QixPQUFBL0QsUUFBQXkrQixhQUFBLEVBQ0Fwa0MsT0FBQXF3RSxpQkFBQSxFQUNBM21FLE9BQUFDLE1BQUF2SSxTQUFBMDBFLGFBQUFyMUUsU0FBQSxxQkFBQSx3QkFBQXExRSxhQUFBcjFFLFNBQUEscUJBQ0Esd0JBQUFxMUUsYUFBQWxzRSxlQUVBLFNBQUFtc0UsY0FDQS8xRSxPQUFBeUosWUFBQSxRQUNBQyxPQUFBL0QsUUFBQTQrQixRQUFBLElBQ0E3NkIsT0FBQS9ELFFBQUF5K0IsYUFBQSxFQUNBcGtDLE9BQUFxd0UsaUJBQUEsRUFDQTNtRSxPQUFBQyxNQUFBdkksU0FBQTIwRSxhQUFBdDFFLFNBQUEscUJBQUEsd0JBQUFzMUUsYUFBQXQxRSxTQUFBLHFCQUNBLHdCQUFBczFFLGFBQUFuc0UsZUFFQSxTQUFBb3NFLGtCQUNBaDJFLE9BQUFxd0UsaUJBQUEsRUFDQTNtRSxPQUFBQyxNQUFBdkksU0FBQTQwRSxpQkFBQXYxRSxTQUFBLHFCQUFBLDRCQUFBdTFFLGlCQUFBdjFFLFNBQUEscUJBQ0EsNEJBQUF1MUUsaUJBQUFwc0UsZUFFQSxTQUFBcXNFLGlCQUNBajJFLE9BQUF5SixZQUFBLFFBQ0FDLE9BQUEvRCxRQUFBNCtCLFFBQUEsSUFDQTc2QixPQUFBL0QsUUFBQXkrQixhQUFBLEVBQ0Fwa0MsT0FBQXF3RSxpQkFBQSxFQUNBM21FLE9BQUFDLE1BQUF2SSxTQUFBNjBFLGdCQUFBeDFFLFNBQUEscUJBQUEsNEJBQUFpMUQsSUFBQTUvQixRQUFBLE1BQUFtZ0QsZ0JBQUF4MUUsU0FBQSxxQkFDQSw0QkFBQWkxRCxJQUFBNS9CLFFBQUEsTUFBQW1nRCxnQkFBQXJzRSxpQkFPQTVKLE9BQUFrMkUsV0FBQSxXQUNBLEdBQUFySSxZQUFBenRFLFVBQUFtQixNQUNBekIsU0FBQSxxVEFHQTRhLFNBQUEsU0FDQUMsVUFBQSxFQUNBNWEsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUVBMUIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sYUFHQXBPLEtBQUEsTUFFQWtzRSxZQUFBanNFLE9BQUFDLEtBQUEsV0FDQTdCLE9BQUF1d0UsY0FDQXZ3RSxPQUFBcXJFLFlBQ0FyckUsT0FBQXl3RSxVQUFBLEtBS0F6d0UsT0FBQXdILFFBQUEsU0FBQUMsaUJBQ0F6SCxPQUFBMEgsY0FBQUQsa0JBQ0F6SCxPQUFBMkgsU0FBQTNILE9BQUEySCxTQUVBM0gsT0FBQTBILGFBQUFELGdCQUVBRyxFQUFBLFFBQUFDLEtBQUEsV0FFQUQsRUFBQW5DLE1BQUFxQyxjQUFBQyxTQUFBLDhCQUdBSCxFQUFBLE1BQUFILGdCQUFBLE1BQUFLLGNBQUFDLFNBREEvSCxPQUFBMkgsUUFDQSxpQ0FFQSxxQ0FPQTNILE9BQUFtMkUsYUFBQSxTQUFBcFcsUUFFQSxHQUFBcVcsY0FBQWgyRSxVQUFBbUIsTUFDQXpCLFNBQUEseWVBR0E0YSxTQUFBLFNBQ0FDLFVBQUEsRUFDQTVhLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUF1TyxXQUVBL1AsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLE1BQUFxK0QsV0FHQXArRCxLQUFBLE1BRUF5MEUsY0FBQXgwRSxPQUFBQyxLQUFBLFNBQUFzNEIsUUFDQWw2QixPQUFBNkIsR0FBQSxrQkFBQUMsR0FBQW80QixZQUlBbjZCLE9BQUFxMkUsVUFBQSxTQUFBM2dCLEtBQ0ExMUQsT0FBQXF4RSxTQUFBcnhFLE9BQUF3d0UsV0FBQXRtRSxRQUFBd3JELElBRUEsSUFBQWo3QyxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE2NkMsTUFFQTU2QyxLQUFBLFdBQ0EsTUFBQSxTQUlBTCxxQkFBQTdZLE9BQUFDLEtBQUEsU0FBQWlvRSxhQUNBNXBFLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FvaEMsSUFBQUEsV0FBQXRsQyxHQUFBK25FLFlBQUE3ekQsUUFBQTZ6RCxhQUFBcjZELFNBQUE1TixLQUFBLFdBQ0E3QixPQUFBa29FLFlBQ0F4K0QsT0FBQStNLFFBQUEsZUFDQXpXLE9BQUF3d0UsV0FBQXJtRSxPQUFBbkssT0FBQXF4RSxTQUFBLEdBQ0FyeEUsT0FBQXF4RSxTQUFBLElBQ0EsU0FBQXJ3RSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsdUJBQUFPLGNBQUE0SSxpQkFNQTVKLE9BQUFzMkUsWUFBQSxTQUFBL0wsWUFDQSxHQUFBNzVDLGVBQUFxWSxZQUFBQyxZQUFBd21DLGVBQUFDLGdCQUFBM2pFLGNBQUE0akUsaUJBQUF6bUMsV0FBQXI5QixXQUNBOGpCLGFBQUExdkIsT0FBQXd3RSxXQUFBdG1FLFFBQUFxZ0UsWUFDQWh0QyxPQUFBZ3RDLFdBQUF6MEMsT0FDQWh3QixZQUFBMEQsZUFBQUMsYUFBQSxDQUVBLElBQUE4c0UsaUJBQUFuMkUsVUFBQW1CLE1BQ0FxWixZQUFBLGlCQUNBalosS0FBQSxLQUNBK1ksU0FBQSxTQUNBQyxVQUFBLEVBQ0EzSyxTQUNBckYsYUFBQSxXQUNBLE1BQUErbEIsZUFFQSsyQyxRQUFBLFdBQ0EsTUFBQThDLGFBRUFpTSxTQUFBLFdBQ0EsTUFBQW52QyxLQUFBb3ZDLGtCQUFBdDhDLE9BQUFvd0MsV0FBQXZvRSxRQUFBbUgsTUFBQW9oRSxXQUFBanNELFdBQUE3TyxVQUVBazRELFFBQUEsV0FDQSxNQUFBeG5FLE1BQUFtWSxPQUFBdlcsR0FBQXdvRSxXQUFBdm9FLFVBQUF5TixVQUVBN0UsV0FBQSxXQUNBLE1BQUFnbEUsZUFFQTFrRSxXQUFBLFdBR0EsTUFGQWhMLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHNCLE9BQUFzQyxTQUFBdGdCLFVBRUErSCxVQUFBLFdBQ0EsTUFBQW00RCxpQkFHQTV2RSxXQUFBLG9CQUVBdzJFLGlCQUFBMzBFLE9BQUFDLEtBQUEsU0FBQTYwRSxzQkFDQSxHQUFBL2hFLEdBQUEraEUscUJBQUEsR0FDQTF4RSxNQUFBMHhFLHFCQUFBLEVBQ0EvaEUsR0FBQW1oQixRQUFBeUgsT0FFQTVvQixFQUFBdXpELFNBQUFsakUsTUFHQTJQLEVBQUFrMEIsV0FEQXpuQyxTQUFBdVQsRUFBQWswQixXQUNBbDBCLEVBQUFrMEIsV0FBQSxFQUFBLE1BQUEsS0FDQSxHQUVBN29DLE9BQUF3d0UsV0FBQTlnRCxjQUFBL2EsS0FNQTNVLE9BQUEyMkUsYUFBQSxTQUFBQyxPQUFBejhDLE9BQUFySixTQUNBaHJCLFdBQUEwRCxlQUFBQyxhQUFBLENBRUEsSUFBQW90RSxrQkFBQXoyRSxVQUFBbUIsTUFDQXFaLFlBQUEsc0JBQ0FqWixLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQTNLLFNBQ0E4aUQscUJBQUEsV0FDQSxNQUFBbGxDLHFCQUFBbUMsU0FBQXRnQixVQUVBMmQsY0FBQSxXQUNBLE1BQUF0aEIsZ0JBRUFpbkQsU0FBQSxXQUNBLE1BQUFNLE1BQUEvNkMsT0FBQXZXLEdBQUE2MEUsU0FBQW5uRSxVQUVBMmpELFlBQUEsV0FDQSxNQUFBQyxNQUFBMkYsbUJBQUFqM0QsR0FBQTYwRSxTQUFBbm5FLFVBRUF1akQsU0FBQSxXQUNBLE1BQUE3eUQsTUFBQW1ZLE9BQUF2VyxHQUFBbzRCLFNBQUExcUIsVUFFQXZFLFdBQUEsV0FHQSxNQUZBaEwsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E4c0IsT0FBQXNDLFNBQUF0Z0IsVUFFQXdqRCxhQUFBLFdBQ0EsTUFBQTVyQixLQUFBNHhCLGlCQUFBOXZELE1BQUFuSixPQUFBbXhFLFlBQUFqWSxZQUFBLElBQUF6cEQsVUFFQTBqRCxhQUFBLFdBQ0EsTUFBQWh6RCxNQUFBMjJFLGNBQUEvMEUsR0FBQW80QixVQUVBKzRCLGVBQUEsV0FDQSxNQUFBL3lELE1BQUFnNUQsZ0JBQUFwM0QsR0FBQW80QixTQUFBMXFCLFdBR0ExUCxXQUFBLGlCQUVBODJFLGtCQUFBajFFLE9BQUFDLEtBQUEsU0FBQWsxRSxhQUlBLzJFLE9BQUFnM0UsZUFBQSxTQUFBNzhDLE9BQUFySixTQUNBaHJCLFdBQUEwRCxlQUFBQyxhQUFBLENBRUEsSUFBQXd0RSxvQkFBQTcyRSxVQUFBbUIsTUFDQXFaLFlBQUEsc0JBQ0FqWixLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQTNLLFNBQ0E4aUQscUJBQUEsV0FDQSxNQUFBbGxDLHFCQUFBbUMsU0FBQXRnQixVQUVBMmQsY0FBQSxXQUNBLE1BQUF0aEIsZ0JBRUFpbkQsU0FBQSxXQUNBLE1BQUEsU0FFQUssWUFBQSxXQUNBLE1BQUEsU0FFQUosU0FBQSxXQUNBLE1BQUE3eUQsTUFBQW1ZLE9BQUF2VyxHQUFBbzRCLFNBQUExcUIsVUFFQXZFLFdBQUEsV0FHQSxNQUZBaEwsT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E4c0IsT0FBQXNDLFNBQUF0Z0IsVUFFQXdqRCxhQUFBLFdBQ0EsTUFBQTVyQixLQUFBNHhCLGlCQUFBOXZELE1BQUFuSixPQUFBbXhFLFlBQUFqWSxZQUFBLElBQUF6cEQsVUFFQTBqRCxhQUFBLFdBQ0EsTUFBQWh6RCxNQUFBMjJFLGNBQUEvMEUsR0FBQW80QixVQUVBKzRCLGVBQUEsV0FDQSxNQUFBL3lELE1BQUFnNUQsZ0JBQUFwM0QsR0FBQW80QixTQUFBMXFCLFdBR0ExUCxXQUFBLGlCQUVBazNFLG9CQUFBcjFFLE9BQUFDLEtBQUEsU0FBQXExRSxXQUdBdDVFLFFBQUF5TSxRQUFBckssT0FBQXd3RSxXQUFBLFNBQUEyRyxNQUNBQSxLQUFBbjFFLFNBQUFtNEIsU0FDQWc5QyxLQUFBeEIsYUFBQXg3QyxPQUFBKzhDLFVBQUEsR0FBQXBpQix1QkFPQTkwRCxPQUFBOHRFLGVBRUFDLFlBQ0EsNENBQ0Esb0dBQ0EsMkNBQ0EsU0FDQSxrREFDQSx1QkFDQSw4Q0FDQSxPQUNBLG1CQUNBLCtDQUNBLGdEQUNBLG1EQUNBLDREQUNBLG9EQUNBLGtEQUNBLGNBQ0EscUJBQ0EsaUJBQ0EsMEJBQ0EsMEJBQ0EsUUFBQSxzQkFDQSx5REFFQUMsWUFBQSxFQUNBRSxhQUFBLEdBQ0FrSixRQUFBLEdBQ0FqSixVQUFBLFdBQ0FudUUsT0FBQWtyRSxZQUFBemxFLE1BRUE0eEUsZUFBQSxFQUNBakosb0JBQUEsRUFDQUMsaUJBQUEsRUFDQUMsVUFBQSxFQUNBZ0osZ0JBQUEsYUFDQS9JLG9DQUFBLEVBQ0FDLFVBQUF4dUUsT0FBQW1yRSxhQUtBNkQscUJBQUEsU0FBQTlzRSxNQUFBK3NFLE9BQUE5QixJQUdBLEdBQUEsS0FBQThCLE9BQUE1QixLQUFBLHVCQUFBbnJFLE1BQUFxMUUsV0FBQXBrRCxVQUFBLENBQ0FuekIsT0FBQXN3RSxvQkFBQSxDQUNBLElBQUFrSCxlQUNBQSxhQUFBNzBFLEtBQUEzQyxPQUFBa3JFLFlBQUE2SCxjQUFBOUQsT0FBQTdCLElBQUEsSUFDQW9LLFlBQUE3MEUsS0FBQTNDLE9BQUFrckUsWUFBQTZILGNBQUE5RCxPQUFBN0IsSUFBQSxJQUNBb0ssWUFBQTcwRSxLQUFBM0MsT0FBQWtyRSxZQUFBNkgsY0FBQTlELE9BQUE3QixJQUFBLEtBQ0FvSyxZQUFBNzBFLEtBQUEzQyxPQUFBa3JFLFlBQUE2SCxjQUFBOUQsT0FBQTdCLElBQUEsS0FDQW9LLFlBQUE3MEUsS0FBQTNDLE9BQUFrckUsWUFBQTZILGNBQUE5RCxPQUFBN0IsSUFBQSxLQUVBMkUsaUJBQUE5QyxPQUFBN0IsSUFBQTZCLE9BQUE1QixJQUFBbUssZUFHQXZKLGFBQUEsY0FFQWlCLGdCQUFBLFNBQUFDLFFBQUFyckUsTUFBQXNwRSxJQUFBRSxLQUFBeUIsUUFHQSxHQUZBSSxTQUNBbnZFLE9BQUFxckUsU0FBQTFvRSxNQUFBd3NFLFFBQUFBLFFBQUEvQixJQUFBQSxJQUFBRSxLQUFBQSxPQUNBNkIsUUFBQSxDQUVBLElBQUEsR0FEQUUsUUFBQSxHQUNBQyxHQUFBLEVBQUFBLEdBQUF0dkUsT0FBQXFyRSxTQUFBM2xFLE9BQUE0cEUsS0FDQSxHQUFBdHZFLE9BQUFxckUsU0FBQWlFLElBQUFsQyxLQUFBQSxLQUFBcHRFLE9BQUFxckUsU0FBQWlFLElBQUFoQyxNQUFBQSxLQUFBLENBQ0ErQixPQUFBQyxFQUNBLE9BR0FELE9BQUEsSUFDQXJ2RSxPQUFBcXJFLFNBQUFsaEUsT0FBQWtsRSxPQUFBLEtBR0FSLGNBQUEsU0FBQUMsT0FBQUMsUUFHQSxHQUFBLFlBQUFBLE9BQ0EsSUFBQSxHQUFBNW1FLEdBQUEsRUFBQUEsRUFBQTJtRSxPQUFBcHBFLE9BQUF5QyxJQUVBMm1FLE9BQUEzbUUsR0FBQSxLQUFBMm1FLE9BQUEzbUUsR0FBQSxJQUFBbkksT0FBQXl3RSxZQUFBLElBQUF6d0UsT0FBQXl3RSxVQUFBLElBSUFnSCxpQkFBQSxTQUFBdDdDLE1BQUFjLFFBRUEsR0FBQTEwQixVQUFBdkksT0FBQWtyRSxZQUFBd00sYUFDQSxJQUFBejZDLE9BQUEsRUFBQSxDQUVBLEdBQUEwNkMsc0JBQ0FDLElBQUFydkUsU0FBQSxHQUFBQSxTQUFBLEdBQUEsQ0FDQW92RSxtQkFBQWgxRSxLQUFBNEYsU0FBQSxHQUNBLEtBQUEsR0FBQXNzQixHQUFBLEVBQUEraUQsSUFBQS9pRCxFQUFBQSxJQUNBOGlELGtCQUFBaDFFLEtBQUE0RixTQUFBLEdBQUEsRUFFQSxLQUFBLEdBQUFzdkUsSUFBQTczRSxPQUFBcXJFLFNBQUEzbEUsT0FBQW15RSxNQUNBRixrQkFBQXp0RSxRQUFBbEssT0FBQXFyRSxTQUFBd00sSUFBQXpLLEtBQUEsSUFDQXB0RSxPQUFBcXJFLFNBQUFsaEUsT0FBQTB0RSxHQUFBLE9BSUEsS0FBQSxHQUFBMXZFLEdBQUFuSSxPQUFBcXJFLFNBQUEzbEUsT0FBQXlDLEtBQ0FuSSxPQUFBcXJFLFNBQUFsakUsR0FBQWlsRSxLQUFBanhDLE9BQ0FuOEIsT0FBQXFyRSxTQUFBbGhFLE9BQUFoQyxFQUFBLFNBVUF4SyxlQUFBb0MsV0FBQSxvQkFBQSxTQUFBLGFBQUEsUUFBQSxXQUFBLG9CQUFBLGNBQUEsV0FBQSxxQkFBQSxVQUFBLFlBQUEsVUFBQSxZQUFBLFNBQUEsV0FBQSxjQUFBLHNCQUFBLFVBQUEsT0FDQSxTQUFBQyxPQUFBOEYsV0FBQTVGLE1BQUE2RixTQUFBdkUsa0JBQUE0d0UsWUFBQUMsU0FBQUMsbUJBQUFDLFFBQUFDLFVBQUFDLFFBQUFDLFVBQUE3ckUsT0FBQXVwRSxTQUFBaHlDLFlBQUFuTixvQkFBQU0sUUFBQXB4QixNQUNBSCxPQUFBODNFLFdBQUExRixZQUNBcHlFLE9BQUFnd0UsVUFBQXVDLFFBQ0F2eUUsT0FBQWl3RSxhQUFBdUMsVUFDQXh5RSxPQUFBa3dFLFdBQUF1QyxRQUNBenlFLE9BQUFtd0UsY0FBQXVDLFVBQ0ExeUUsT0FBQTZHLE9BQUFBLE9BQ0E3RyxPQUFBb3dFLFNBQUFBLFNBQ0Fwd0UsT0FBQSszRSxvQkFBQSxFQUNBLzNFLE9BQUFnNEUsV0FBQSxFQUNBaDRFLE9BQUFpNEUsY0FBQSxJQUNBajRFLE9BQUFxeUIsU0FBQSxFQUNBcnlCLE9BQUFrNEUsWUFBQSxPQUVBbDRFLE9BQUFtNEUsc0JBQUEsV0FDQW40RSxPQUFBKzNFLG9CQUFBLzNFLE9BQUErM0UsbUJBRUFuNkUsUUFBQXlNLFFBQUFySyxPQUFBODNFLFdBQUEsU0FBQTMyRSxTQUNBQSxHQUFBb0gsV0FHQXZJLE9BQUErM0Usb0JBQ0EvM0UsT0FBQWc0RSxXQUFBLEVBQ0FoNEUsT0FBQXF5QixTQUFBLEVBQUFyeUIsT0FBQWs0RSxZQUFBLFFBQUFsNEUsT0FBQWs0RSxZQUFBLE9BQUEsT0FFQWw0RSxPQUFBNCtELFFBQUFqekIsVUFBQSxLQUFBMG1DLFNBQUEsSUFBQSxPQUFBQSxTQUFBLEdBQUFBLFNBQUEsR0FBQSxHQUNBcnlFLE9BQUE0K0QsUUFBQTlvRCxZQUFBLEtBQUF1OEQsU0FBQSxJQUFBLE9BQUFBLFNBQUEsR0FBQUEsU0FBQSxHQUFBLEdBQ0FyeUUsT0FBQTQrRCxRQUFBN29ELGFBQUEsS0FBQXM4RCxTQUFBLElBQUEsT0FBQUEsU0FBQSxHQUFBQSxTQUFBLEdBQUEsR0FDQXJ5RSxPQUFBNCtELFFBQUF4b0MsVUFBQSxLQUFBaThDLFNBQUEsSUFBQSxPQUFBQSxTQUFBLEdBQUFyeUUsT0FBQWd3RSxVQUFBN2pFLE9BQUEsU0FBQTg1QixJQUFBLE1BQUFBLElBQUFDLFlBQUFtc0MsU0FBQSxLQUFBLEdBQUFyMUQsU0FBQSxHQUNBaGQsT0FBQTQrRCxRQUFBdm9DLG1CQUFBLEtBQUFnOEMsU0FBQSxJQUFBLE9BQUFBLFNBQUEsR0FBQXJ5RSxPQUFBaXdFLGFBQUE5akUsT0FBQSxTQUFBODVCLElBQUEsTUFBQUEsSUFBQUcsaUJBQUFpc0MsU0FBQSxLQUFBLEdBQUFoOEMsbUJBQUEsR0FHQXIyQixPQUFBMDFCLGNBRUExMUIsT0FBQWc0RSxXQUFBLEVBRUFwNkUsUUFBQXlNLFFBQUFySyxPQUFBbS9CLFFBQUEsU0FBQXlvQixJQUFBLFlBQUFBLEdBQUF4b0IsUUFBQXdvQixHQUFBN3hCLEtBQUEvQyxNQUFBQyxRQUdBanpCLE9BQUFvNEUsWUFBQSxTQUFBQyxhQUNBcjRFLE9BQUFpNEUsY0FBQSxJQUNBajRFLE9BQUErM0Usb0JBQUEsRUFFQW42RSxRQUFBeU0sUUFBQXJLLE9BQUFtL0IsUUFBQSxTQUFBMXFCLEdBQ0EsWUFBQUEsRUFBQTJxQixRQUNBM3FCLEVBQUFpZSxLQUFBMmxELFlBQUF2aUUsYUFBQXJCLEVBQUFrZSxLQUFBMGxELFlBQUF0aUUsb0JBQ0F0QixHQUFBc2hCLEtBQ0F0aEIsRUFBQXNoQixLQUFBL0MsTUFBQXNsRCxhQUVBN2pFLEVBQUFzaEIsS0FBQS9DLE1BQUFDLE9BSUFqekIsT0FBQWc0RSxXQUFBLEdBR0FoNEUsT0FBQXU0RSxlQUFBLFdBQ0F2NEUsT0FBQXF5QixTQUFBcnlCLE9BQUFxeUIsUUFDQXJ5QixPQUFBazRFLFlBQUEsUUFBQWw0RSxPQUFBazRFLFlBQUEsT0FBQSxPQUNBbDRFLE9BQUFxeUIsU0FBQW1tRCxnQkFJQXg0RSxPQUFBbS9CLFVBcUJBLEtBQUEsR0FuQkFuTSxRQUNBQyxLQUNBM2YsS0FBQSxNQUNBNGYsVUFBQSxHQUFBLElBQ0FDLFVBQUEsZUFFQW1sRCxhQUNBaGxFLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLGVBRUFxTSxTQUNBbHNCLEtBQUEsTUFDQTRmLFVBQUEsR0FBQSxJQUNBQyxVQUFBLGVBS0FockIsRUFBQSxFQUFBQSxFQUFBbkksT0FBQTgzRSxXQUFBcHlFLE9BQUF5QyxJQUFBLENBQ0EsR0FBQXVRLEdBQUExWSxPQUFBODNFLFdBQUEzdkUsRUFDQW5JLFFBQUFtL0IsUUFBQXg4QixNQUNBeThCLE1BQUEsV0FDQXR2QixRQUFBLDRCQUFBNEksRUFBQW9kLFFBQUEsMkJBQ0FwZCxFQUFBKy9ELFVBQUEsMkJBQ0EvL0QsRUFBQWl6QixVQUFBLG9DQUNBanpCLEVBQUE1QyxZQUFBLElBQUE0QyxFQUFBM0MsYUFBQSxlQUNBMmMsSUFBQWhhLEVBQUE1QyxZQUNBNmMsSUFBQWphLEVBQUEzQyxhQUNBL1QsUUFBQTBXLEVBQUExVyxRQUNBb1IsTUFBQXNGLEVBQUFvZCxRQUNBQyxLQUFBL0MsTUFBQUMsTUFJQWp6QixPQUFBbS9CLFFBQUF4OEIsTUFDQXk4QixNQUFBLFNBQ0F0dkIsUUFBQSx3Q0FDQXVpRSxTQUFBLEdBQUEsMEJBQ0FBLFNBQUEsR0FBQSxjQUNBMy9DLElBQUF4cUIsT0FBQW1xRSxTQUFBLElBQ0ExL0MsSUFBQXpxQixPQUFBbXFFLFNBQUEsSUFDQWovRCxNQUFBLE1BQ0EyaUIsS0FBQS9DLE1BQUF3TSxTQUdBLElBQUFrNUMsVUFDQTk2RSxTQUFBeU0sUUFBQXJLLE9BQUE4M0UsV0FBQSxTQUFBMzJFLEdBQ0F1M0UsT0FBQS8xRSxNQUFBeEIsRUFBQTJVLFlBQUEzVSxFQUFBNFUsZ0JBRUEsSUFBQXlpRSxjQUFBLFdBQ0FwNkMsWUFBQTRpQyxPQUFBLHFCQUFBbi9ELEtBQUEsU0FBQTJNLEtBQ0FBLElBQUFtcUUsVUFBQUQsUUFBQUUsU0FBQSxHQUFBLFFBR0FKLGdCQUNBNTZFLFFBQUFpbEMsT0FBQTdpQyxRQUNBbS9CLFFBQUFuL0IsT0FBQW0vQixRQUNBNkQsUUFDQUMsWUFDQUMsTUFDQXZ0QixLQUFBLG9CQUNBckMsS0FBQSxVQUNBOHJCLE1BQUEsY0FDQStELFNBQUEsSUFHQUMsVUFDQUMsVUFDQS92QixLQUFBLFFBQ0FxQyxLQUFBLFlBQ0F3dEIsU0FBQSxHQUVBMDFDLFFBQ0F2bEUsS0FBQSxRQUNBcUMsS0FBQSxNQUNBd3RCLFNBQUEsT0FRQSxLQUFBbXZDLG9CQUFBLE9BQUFBLG9CQUNBMTBFLFFBQUF5TSxRQUFBckssT0FBQTgzRSxXQUFBLFNBQUEzMkUsR0FDQSxHQUFBQSxFQUFBMjBCLFNBQUF3OEMsbUJBQUEsQ0FDQW54RSxFQUFBb0gsU0FBQSxNQUNBLElBQUF1d0UsZ0JBQUE5NEUsT0FBQW0vQixRQUFBaHpCLE9BQUEsU0FBQXNJLEdBQUEsTUFBQUEsR0FBQWllLEtBQUF2eEIsRUFBQTJVLGFBQUFyQixFQUFBa2UsS0FBQXh4QixFQUFBNFUsZUFBQSxFQUNBK2lFLGdCQUFBL2lELEtBQUEvQyxNQUFBc2xELGVBTUF0NEUsT0FBQTQrRCxVQUdBLElBQUFubkMsY0FBQSxTQUFBalksR0FDQSxHQUFBa1ksVUFBQXQzQixVQUFBbUIsTUFDQXpCLFNBQUEsNFBBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBKzFCLFVBQUE5MUIsT0FBQUMsS0FBQSxTQUFBODFCLFlBQ0EsV0FBQW5ZLEVBQUE1WCxFQUFBLHFCQUFBekUsUUFDQXlFLEVBQUEsVUFBQXpFLFdBS0F5MEIsY0FBQSxTQUFBcFksR0FDQSxHQUFBcVksV0FBQXozQixVQUFBbUIsTUFDQXpCLFNBQUEsbVFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBazJCLFdBQUFqMkIsT0FBQUMsS0FBQSxTQUFBODFCLFlBQ0EsV0FBQW5ZLEVBQUE1WCxFQUFBLHNCQUFBekUsUUFDQXlFLEVBQUEsVUFBQXpFLFVBSUFuRCxRQUFBODNCLFdBQUEsU0FBQUMsV0FDQSxPQUFBQSxZQUNBLzNCLE9BQUE0K0QsUUFBQTlvRCxZQUFBLEdBQUE5VixPQUFBNCtELFFBQUE5b0QsWUFBQSxJQUFBNmYsTUFBQTMxQixPQUFBNCtELFFBQUE5b0QsZ0JBQ0EyaEIsYUFBQSxXQUVBOUIsTUFBQTMxQixPQUFBNCtELFFBQUE5b0QsZUFDQTlWLE9BQUE0K0QsUUFBQTlvRCxZQUFBMVUsU0FHQSxRQUFBMjJCLFlBQ0EvM0IsT0FBQTQrRCxRQUFBN29ELGFBQUEsTUFBQS9WLE9BQUE0K0QsUUFBQTdvRCxhQUFBLEtBQUE0ZixNQUFBMzFCLE9BQUE0K0QsUUFBQTdvRCxpQkFDQTZoQixjQUFBLFdBRUFqQyxNQUFBMzFCLE9BQUE0K0QsUUFBQTdvRCxnQkFDQS9WLE9BQUE0K0QsUUFBQTdvRCxhQUFBM1UsVUFNQXBCLE9BQUFvOUIsaUJBQUEsU0FBQWo4QixHQUNBLEdBQUE2ekIsV0FBQWgxQixPQUFBNkcsT0FBQXNGLE9BQUEsU0FBQTdCLElBQUEsTUFBQUEsSUFBQWhDLGNBQUFuSCxJQUFBLEVBQ0FuQixRQUFBNHhCLGdCQUFBNXhCLE9BQUFvd0UsU0FBQWprRSxPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBRSxVQUFBQyxVQUFBRCxZQUlBLzBCLE9BQUEwMUIsV0FBQSxXQUtBLFNBSEExMUIsUUFBQTQrRCxRQUFBNWxDLGNBQUFoNUIsUUFBQTQrRCxRQUFBM2xDLFdBQUFqNUIsUUFBQTQrRCxRQUFBdjJELE1BQ0FySSxPQUFBNHhCLHlCQUFBNXhCLFFBQUE0K0QsUUFBQXR3RCxJQUVBbE4sU0FBQXBCLE9BQUE0K0QsUUFBQTlvRCxhQUFBMVUsU0FBQXBCLE9BQUE0K0QsUUFBQTdvRCxjQUFBNGYsTUFBQTMxQixPQUFBNCtELFFBQUE5b0QsY0FBQTZmLE1BQUEzMUIsT0FBQTQrRCxRQUFBN29ELGNBa0NBLENBRUFqUSxXQUFBMEQsZUFBQUMsYUFBQSxDQUNBLEVBQUFySixVQUFBbUIsTUFDQXpCLFNBQUEsNFJBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxZQTdDQW1FLFlBQUEwRCxlQUFBQyxhQUFBLFFBQ0F2SixPQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FDQTdPLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0E0d0IsUUFBQTRDLGlCQUFBQyxVQUFBcDBCLE9BQUE0K0QsUUFBQTdvRCxhQUFBc2UsU0FBQXIwQixPQUFBNCtELFFBQUE5b0QsYUFBQSxTQUFBeE0sVUFDQSxHQUFBbEksU0FBQWtJLFNBQUExSCxPQUNBLEdBQUEwSCxTQUFBMUgsT0FBQTB5QixZQUFBQyxTQUFBN3VCLE9BQUEsRUFBQSxDQUNBLEdBQUE4dUIsV0FBQWxyQixTQUFBMUgsT0FBQTB5QixZQUFBQyxTQUFBLEdBQUFFLE1BQ0FDLFdBQUFwckIsU0FBQTFILE9BQUEweUIsWUFBQUMsU0FBQSxHQUFBSSxLQUNBQyxZQUFBNTBCLE9BQUFvd0UsU0FBQWprRSxPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBQyxXQUFBTixZQUFBLEdBQUFPLFNBQ0FDLFVBQUFoMUIsT0FBQTZHLE9BQUFzRixPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUE0ekIsVUFBQUgsY0FBQSxFQUVBeHpCLFVBQUE0ekIsV0FDQWgxQixPQUFBNCtELFFBQUF2MkQsTUFBQTJzQixVQUFBMXNCLGFBQ0F0SSxPQUFBNHhCLGdCQUFBNXhCLE9BQUFvd0UsU0FBQWprRSxPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBRSxVQUFBQyxVQUFBRCxXQUNBLzBCLE9BQUE0K0QsUUFBQTNwQyxPQUFBUCxXQUNBNXVCLFdBQUEwRCxlQUFBQyxhQUFBLElBRUEzRCxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBLHVHQUdBN0QsWUFBQTBELGVBQUFDLGFBQUEsRUFDQUMsT0FBQUMsTUFBQSw0REFHQTdELFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0FDLE9BQUFDLE1BQUEsbUVBRUEsU0FBQTNJLGVBQ0E4RSxXQUFBMEQsZUFBQUMsYUFBQSxFQUNBQyxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGVBb0JBNUosT0FBQSs0RSxjQUFBLFNBQUF0L0QsT0FDQUEsUUFDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUVBWCxPQUFBNCtELFFBQUE3bEQsVUFBQS9ZLE9BQUF3K0MsUUFBQWczQixPQUNBcjFFLEtBQUErWixLQUFBbGEsT0FBQTQrRCxRQUFBLFNBQUF0MUQsVUFFQTlILGtCQUFBRSxNQUFBNEgsV0FDQSxTQUFBdEksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZ0JBTUE1SixPQUFBeUIsR0FBQSxXQUVBLEdBQUF1M0UsY0FBQTVHLFlBQUFqbUUsT0FBQSxTQUFBaEwsR0FBQSxNQUFBLFFBQUFBLEVBQUFvSCxXQUFBLEVBQ0EvRyxtQkFBQUUsTUFBQXMzRSxlQUVBaDVFLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLGNBSUFwUyxlQUFBb0MsV0FBQSxvQkFBQSxTQUFBLGFBQUEsUUFBQSxXQUFBLFlBQUEsb0JBQUEsZUFBQSxVQUFBLFdBQUEsYUFBQSxhQUFBLFlBQUEsVUFDQSxhQUFBLE1BQUEsT0FBQSxTQUFBLGFBQ0EsU0FBQUMsT0FBQThGLFdBQUE1RixNQUFBNkYsU0FBQTNGLFVBQUFvQixrQkFBQW1KLGFBQUE4OEQsUUFBQStPLFNBQUE1ckUsV0FBQU0sV0FBQXNNLFVBQUFtd0QsUUFBQWw5RCxXQUFBNDhCLElBQUEvN0IsS0FBQUMsT0FBQWIsWUFFQTFLLE9BQUF3RyxNQUFBb2hFLE9BQUEsVUFDQTVuRSxPQUFBMlUsR0FBQWt6RCxPQUFBLEVBQUFDLFdBQUEsR0FDQTluRSxPQUFBK29DLFlBQUFwK0IsYUFBQSxHQUNBM0ssT0FBQWdwQyxZQUFBcitCLGFBQUEsR0FDQTNLLE9BQUErbkUsWUFBQXA5RCxhQUFBO0FBQ0EzSyxPQUFBZ29FLFdBQUFyOUQsYUFBQSxHQUNBM0ssT0FBQXN6RCxZQUFBM29ELGFBQUEsR0FDQTNLLE9BQUFpb0UsV0FBQXQ5RCxhQUFBLEdBQ0EzSyxPQUFBaXBDLFdBQUF0K0IsYUFBQSxHQUNBM0ssT0FBQTRMLFVBQUFqQixhQUFBLEdBQ0EzSyxPQUFBc29FLFlBQUFYLFFBQ0EzbkUsT0FBQTZMLGFBQUEyTCxVQUFBckwsT0FBQSxTQUFBcytELEtBRUEsTUFBQSxVQUFBQSxJQUFBenlELFVBQUEsc0JBQUF5eUQsSUFBQXp5RCxVQUFBLGlCQUFBeXlELElBQUF6eUQsVUFBQSxnQkFBQXl5RCxJQUFBenlELFVBQ0EsVUFBQXl5RCxJQUFBenlELFVBQUEsU0FBQXl5RCxJQUFBenlELFVBQUEsV0FBQXl5RCxJQUFBenlELFdBSUFoWSxPQUFBbW9FLGlCQUNBbm9FLE9BQUF5TSxjQUFBLEVBQ0F6TSxPQUFBa04sU0FBQW5ILFNBQUFFLElBQUEsYUFDQWpHLE9BQUFtTixhQUFBLEVBQ0FuTixPQUFBb04sZ0JBQ0FwTixPQUFBdU4sVUFBQTlDLFdBRUF6SyxPQUFBbWUsa0JBQUEsV0FDQW5lLE9BQUFtTixhQUFBbk4sT0FBQW1OLGFBR0FuTixPQUFBNmUsZUFBQTNULFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBaFQsU0FBQUUsSUFBQSxTQUFBLEdBRUFqRyxPQUFBeW9DLFFBQ0F6b0MsT0FBQWtvRSxZQUVBbG9FLE9BQUFpVixjQUNBalYsT0FBQXVCLEtBQUEsU0FBQTJULE9BQUEvUyxPQUNBK1MsT0FBQTNTLGlCQUNBMlMsT0FBQUMsa0JBRUFuVixPQUFBaVYsV0FBQTlTLFFBQUEsRUFHQSxJQUFBczFCLGNBQUEsU0FBQWpZLEdBQ0EsR0FBQWtZLFVBQUF0M0IsVUFBQW1CLE1BQ0F6QixTQUFBLDRQQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQSsxQixVQUFBOTFCLE9BQUFDLEtBQUEsU0FBQTgxQixZQUNBLFdBQUFuWSxFQUFBNVgsRUFBQSxnQkFBQXpFLFFBQ0F5RSxFQUFBLFVBQUF6RSxXQUlBeTBCLGNBQUEsU0FBQXBZLEdBQ0EsR0FBQXFZLFdBQUF6M0IsVUFBQW1CLE1BQ0F6QixTQUFBLG1RQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQWsyQixXQUFBajJCLE9BQUFDLEtBQUEsU0FBQTgxQixZQUNBLFdBQUFuWSxFQUFBNVgsRUFBQSxpQkFBQXpFLFFBQ0F5RSxFQUFBLFVBQUF6RSxVQUtBbkQsUUFBQTgzQixXQUFBLFdBRUEsR0FBQW5qQixHQUFBLFFBQUEzVSxPQUFBd0csS0FBQW9oRSxPQUFBNW5FLE9BQUF3b0UsUUFBQXhvRSxPQUFBeW9DLE1BQ0E5ekIsRUFBQW1CLFlBQUEsR0FBQW5CLEVBQUFtQixZQUFBLElBQUE2ZixNQUFBaGhCLEVBQUFtQixnQkFDQTJoQixhQUFBLFdBRUE5QixNQUFBaGhCLEVBQUFtQixlQUNBbkIsRUFBQW1CLFlBQUExVSxVQUVBdVQsRUFBQW9CLGFBQUEsTUFBQXBCLEVBQUFvQixhQUFBLEtBQUE0ZixNQUFBaGhCLEVBQUFvQixpQkFDQTZoQixjQUFBLFdBRUFqQyxNQUFBaGhCLEVBQUFvQixnQkFDQXBCLEVBQUFvQixhQUFBM1UsVUFJQXBCLE9BQUFnZixNQUFBLFNBQUFDLEtBQ0EsR0FBQUMsVUFBQUQsS0FBQUUsT0FBQWpkLE1BQ0FrZCxJQUFBRixTQUFBRyxTQUFBSCxTQUFBL2MsS0FDQSxLQUFBaWQsS0FBQSxJQUFBQSxLQUFBQSxJQUFBLEtBQUEsR0FBQUEsS0FBQUEsSUFBQSxNQUNBRixTQUFBSSxhQUFBLEVBQ0FKLFNBQUEzYyxnQkFBQTJjLFNBQUEzYyxtQkFJQXZDLE9BQUF1cEMsY0FBQSxXQUNBLEdBQUE1MEIsR0FBQSxRQUFBM1UsT0FBQXdHLEtBQUFvaEUsT0FBQTVuRSxPQUFBd29FLFFBQUF4b0UsT0FBQXlvQyxJQUNBLElBQUEsS0FBQTl6QixFQUFBNjBCLGdCQUFBLENBQ0EsR0FBQXBhLEdBQUFsbkIsT0FBQXlNLEVBQUE2MEIsZ0JBQ0E3MEIsR0FBQTgwQixlQUFBcmEsRUFBQSxHQUFBLEVBQ0EsSUFBQUEsRUFBQSxFQUVBcHZCLE9BQUFncEMsWUFBQTc4QixPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUErMEIsV0FBQXRhLEdBQUF6YSxFQUFBZzFCLFdBQUF2YSxJQUFBLEdBQUFxYSxpQkFLQXpwQyxPQUFBNHBDLHFCQUFBLFdBQ0EsR0FBQWoxQixHQUFBLFFBQUEzVSxPQUFBd0csS0FBQW9oRSxPQUFBNW5FLE9BQUF3b0UsUUFBQXhvRSxPQUFBeW9DLElBQ0EsSUFBQSxLQUFBOXpCLEVBQUE2MEIsaUJBQUFwb0MsU0FBQXVULEVBQUE2MEIsZ0JBQUEsQ0FDQSxHQUFBcGEsR0FBQWxuQixPQUFBeU0sRUFBQTYwQixpQkFDQUssZUFBQTdwQyxPQUFBZ3BDLFlBQUE3OEIsT0FBQSxTQUFBd0ksR0FDQSxNQUFBdlQsVUFBQXVULEVBQUErMEIsVUFDQS8wQixFQUFBKzBCLFdBQUF0YSxHQUFBemEsRUFBQWcxQixXQUFBdmEsRUFEQSxTQUVBLEdBQUFxYSxjQUNBLElBQUE5MEIsRUFBQTgwQixpQkFBQUksZUFBQSxDQUVBLEdBQUFDLGtCQUFBMXBDLFVBQUFtQixNQUNBekIsU0FBQSw2VUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLE1BRUFtb0Msa0JBQUFsb0MsT0FBQUMsS0FBQSxXQUNBakUsUUFBQVksUUFBQSw0QkFBQTJFLFlBTUEsSUFBQXVrQyxXQUFBLFNBQUFwb0MsR0FDQSxHQUFBcW9DLE9BQUEsR0FBQXYzQixLQUNBLE1BQUE5USxHQUFBOEIsU0FBQTlCLElBRUFxb0MsTUFBQSxHQUFBdjNCLE1BQUE5USxHQUVBLElBQUF3VSxNQUFBNnpCLE1BQUE3bEIsY0FDQWpPLE1BQUE4ekIsTUFBQTVsQixXQUNBcE8sS0FBQSxJQUFBZzBCLE1BQUExbEIsV0FBQUQsTUFBQSxJQUNBNGxCLFlBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FDLFdBQUEsR0FBQXozQixNQUFBdzNCLFdBQUEvekIsT0FBQSxJQUFBRixJQUFBLEtBQUFHLEtBQ0EsT0FBQSt6QixZQU1BLElBRkE3bkMsT0FBQXlvQyxLQUFBN3FDLFFBQUErWixLQUFBOHZELGVBQ0F6bkUsUUFBQXlvQyxLQUFBM1MsUUFDQTkxQixPQUFBeW9DLEtBQUF5L0IsU0FDQSxJQUFBLEdBQUFodEQsR0FBQSxFQUFBQSxFQUFBbGIsT0FBQXlvQyxLQUFBeS9CLFNBQUF4aUUsT0FBQXdWLElBQ0FsYixPQUFBa29FLFNBQUF2bEUsS0FBQTNDLE9BQUF5b0MsS0FBQXkvQixTQUFBaHRELFVBQ0FsYixRQUFBeW9DLEtBQUF5L0IsU0FFQWxvRSxPQUFBeW9DLEtBQUFHLFVBQUFsQixVQUFBMW5DLE9BQUF5b0MsS0FBQUcsV0FFQSxPQUFBNW9DLE9BQUF5b0MsS0FBQXVELGFBQUE1cUMsU0FBQXBCLE9BQUF5b0MsS0FBQXVELGNBQ0Foc0MsT0FBQXlvQyxLQUFBdUQsWUFBQXRFLFVBQUExbkMsT0FBQXlvQyxLQUFBdUQsY0FHQWhzQyxPQUFBa2EsS0FBQSxTQUFBVCxPQUNBLEdBQUFBLE1BQUEsQ0FFQXJZLFNBQUFwQixPQUFBb04sYUFBQWtSLFdBRUF0ZSxPQUFBd29FLFFBQUFscUQsU0FBQXRlLE9BQUFvTixhQUFBa1IsVUFHQWxkLFNBQUFwQixPQUFBd29FLFFBQUF4OEIsYUFBQSxPQUFBaHNDLE9BQUF3b0UsUUFBQXg4QixhQUFBNXFDLFNBQUFwQixPQUFBd29FLFFBQUF2OEIsbUJBQ0Fqc0MsT0FBQXdvRSxRQUFBdjhCLGlCQUFBbG1DLFNBQUFFLElBQUEsUUFPQTdFLFNBQUFwQixPQUFBd29FLFFBQUEzckQsU0FBQSxPQUFBN2MsT0FBQXdvRSxRQUFBM3JELFVBRUF6YixTQUFBcEIsT0FBQXdvRSxRQUFBeDhCLGNBQ0Foc0MsT0FBQXdvRSxRQUFBeDhCLFlBQUF0RSxVQUFBLEtBRUF0bUMsU0FBQXBCLE9BQUF3b0UsUUFBQXY4QixtQkFDQWpzQyxPQUFBd29FLFFBQUF2OEIsaUJBQUFsbUMsU0FBQUUsSUFBQSxTQUdBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBRUEwbUMsSUFBQS9zQixRQUFBdlksR0FBQS9CLE9BQUF3b0UsUUFBQXZ5RCxRQUFBalcsT0FBQXdvRSxTQUFBLzRELFNBQUE1TixLQUFBLFNBQUF5SCxVQUNBSSxPQUFBK00sUUFBQSxlQUNBelcsT0FBQXlvQyxLQUFBbi9CLFNBQUFtK0QsUUFBQW4rRCxTQUdBbEksU0FBQXBCLE9BQUF5b0MsS0FBQUksYUFDQTdvQyxPQUFBeW9DLEtBQUFzZ0MsU0FBQS9vRSxPQUFBeW9DLEtBQUFJLFdBQUEsRUFBQSxNQUFBLE1BRUE3b0MsT0FBQXlvQyxLQUFBRyxVQUFBbEIsVUFBQTFuQyxPQUFBeW9DLEtBQUFHLFdBR0EsT0FBQTVvQyxPQUFBeW9DLEtBQUF1RCxhQUFBNXFDLFNBQUFwQixPQUFBeW9DLEtBQUF1RCxjQUNBaHNDLE9BQUF5b0MsS0FBQXVELFlBQUF0RSxVQUFBMW5DLE9BQUF5b0MsS0FBQXVELGNBRUFoc0MsT0FBQXdvRSxXQUNBeG9FLE9BQUF3RyxLQUFBb2hFLE9BQUEsVUFDQSxTQUFBNW1FLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSxxQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSxxQkFBQU8sY0FBQTRJLGdCQU1BNUosT0FBQWdTLE9BQUEsV0FDQWxNLFdBQUEwRCxlQUFBQyxhQUFBLENBQ0EsSUFBQXNWLFdBQUEvZSxPQUFBeW9DLEtBQUF6b0MsT0FBQWtvRSxTQUNBMW1FLG1CQUFBRSxNQUFBcWQsV0FJQS9lLE9BQUErcEUsYUFBQSxXQUNBL3BFLE9BQUF3RyxLQUFBb2hFLE9BQUEsT0FDQTVuRSxPQUFBd29FLFFBQUE1cUUsUUFBQStaLEtBQUEzWCxPQUFBeW9DLE1BQ0F6b0MsT0FBQW9OLGFBQUFrUixTQUFBdGUsT0FBQXlvQyxLQUFBbnFCLFVBRUF0ZSxPQUFBZ3FFLGNBQUEsV0FDQWhxRSxPQUFBd0csS0FBQW9oRSxPQUFBLFNBQ0E1bkUsT0FBQXdvRSxXQUNBeG9FLE9BQUFvTixnQkFDQXBOLE9BQUFxZSxVQUFBcmUsT0FBQTRMLFVBQUFPLE9BQUEsU0FBQTNHLEdBQUEsTUFBQUEsR0FBQThZLFVBQUF0ZSxPQUFBeW9DLEtBQUFucUIsV0FBQSxHQUFBQyxZQUVBdmUsT0FBQWk1RSxxQkFBQSxXQUNBLEdBQUF0a0UsR0FBQSxRQUFBM1UsT0FBQXdHLEtBQUFvaEUsT0FBQTVuRSxPQUFBd29FLFFBQUF4b0UsT0FBQXlvQyxJQUNBN3FDLFNBQUF5TSxRQUFBbXNFLFNBQUEsU0FBQTlnQixLQUNBLEdBQUFBLElBQUFuMkIsV0FBQTVxQixFQUFBNHFCLFVBQUEsQ0FFQTVxQixFQUFBNHFCLFVBQUFuK0IsU0FBQXVULEVBQUFzQixPQUFBalcsT0FBQXlvQyxLQUFBbEosVUFBQSxRQUFBeFUsV0FBQXlyRCxTQUFBOXdFLFFBQUEsRUFDQSxJQUFBd3pFLGFBQUE5NEUsVUFBQW1CLE1BQ0F6QixTQUFBLG9TQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsTUFFQXUzRSxhQUFBdDNFLE9BQUFDLEtBQUEsV0FDQWpFLFFBQUFZLFFBQUEsc0JBQUEyRSxjQU9BbkQsT0FBQW9WLE1BQUExSyxXQUFBMkssV0FBQXJWLE9BQUFzVixnQkFBQSxFQUVBdFYsT0FBQXVWLGVBQUEsV0FDQXJWLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBWCxPQUFBeVYsa0JBQUEsQ0FDQSxJQUFBekcsWUFDQUMsWUFDQXlHLFFBQUExVixPQUFBNk8sTUFBQTZHLFFBQ0FDLEtBQUEzVixPQUFBNk8sTUFBQThHLEtBQ0FDLFlBQUE1VixPQUFBNk8sTUFBQStHLFlBQ0FDLGdCQUFBN1YsT0FBQTZPLE1BQUFnSCxnQkFDQUMsWUFBQTlWLE9BQUE2TyxNQUFBaUgsWUFDQUMsYUFBQS9WLE9BQUE2TyxNQUFBa0gsYUFDQUMsVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQUMsT0FBQWpXLE9BQUE2TyxNQUFBb0gsT0FDQWpVLFFBQUFoQyxPQUFBNk8sTUFBQTdNLFFBQ0F3SyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBMEosVUFBQWxXLE9BQUE2TyxNQUFBcUgsVUFDQS9QLEtBQUFuRyxPQUFBNk8sTUFBQTFJLEtBQ0FpUSxXQUFBcFcsT0FBQTZPLE1BQUF1SCxZQUVBdEgsS0FBQTFOLFNBQUFwQixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQTJHLE1BQUF4VixPQUFBNk8sTUFBQUMsTUFHQUssR0FBQSxHQUFBQyxTQUNBRCxJQUFBcFEsT0FBQSxhQUFBc1EsS0FBQUMsVUFBQU4sVUFBQUMsYUFDQUUsR0FBQXBRLE9BQUEsT0FBQWlRLFVBQUFGLE1BRUF4RCxLQUFBaUwsV0FBQXBILElBQUFNLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsaUJBQ0F6VyxPQUFBMFcsSUFBQTFXLE9BQUF1TixVQUFBLFVBQUF2TixPQUFBNk8sTUFBQTZHLFFBQUEsUUFBQWhMLFdBQUEySyxXQUNBM0ssV0FBQWlNLFdBQ0EzVyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUVBclYsT0FBQTRXLFFBREE1VyxPQUFBNk8sTUFBQTJHLE1BQUFsQyxLQUFBcEosUUFBQSxTQUFBLElBQ0EsR0FDQSxFQUNBbEssT0FBQTZPLE1BQUE4RyxLQUFBYSxVQUFBYixLQUFBM1YsT0FBQTZPLE1BQUExSSxLQUFBcVEsVUFBQXJRLEtBQ0EvRSxTQUFBcEIsT0FBQTZPLE1BQUEyRyxRQUNBeFYsT0FBQTZPLE1BQUFDLEtBQUE5TyxPQUFBNk8sTUFBQTJHLE1BQ0F4VixPQUFBNk8sTUFBQTJHLE1BQUFwVSxRQUVBb1YsVUFBQUssY0FBQSxXQUNBN1csT0FBQWtvRSxTQUFBLzlELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQWtvRSxTQUFBdmxFLEtBQUE2VCxXQUNBLElBQUFBLFVBQUFoSyxjQUNBeE0sT0FBQW1vRSxjQUFBaCtELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQW1vRSxjQUFBeGxFLEtBQUE2VCxZQUtBeFcsT0FBQXNWLGdCQUFBLEdBQ0EsU0FBQXRVLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBS0E1SixPQUFBa1gsZUFBQSxTQUFBQyxPQUNBL1csVUFBQW1CLE1BQ0F6QixTQUFBLHNQQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFNBRUExQixPQUFBb1gsUUFBQUQsTUFDQW5YLE9BQUFxWCxPQUFBNU0sV0FBQSxVQUFBekssT0FBQW9YLFFBQUEsVUFFQXpWLEtBQUEsUUFLQTNCLE9BQUFzWCxTQUFBLFNBQUFDLE1BT0EsR0FOQXZYLE9BQUF3WCxVQUFBeFgsT0FBQTZMLGFBQ0E3TCxPQUFBeVgsU0FBQTdNLFdBQ0E1SyxPQUFBK1csZUFBQSxHQUFBL1csT0FBQThXLGtCQUFBLEdBQ0E5VyxPQUFBNk8sU0FDQTdPLE9BQUEwWCxXQUVBLElBQUFILEtBQUEsQ0FlQSxHQWJBdlgsT0FBQStXLGVBQUEvVyxPQUFBa29FLFNBQUFoK0QsUUFBQXFOLE1BQ0F2WCxPQUFBOFcsa0JBQUE5VyxPQUFBbW9FLGNBQUF6aUUsT0FBQSxFQUFBMUYsT0FBQW1vRSxjQUFBaitELFFBQUFxTixNQUFBLEdBQ0F2WCxPQUFBNk8sTUFBQWpSLFFBQUErWixLQUFBSixNQUNBLElBQUFBLEtBQUEvSyxhQUNBbEIsS0FBQXNNLGFBQUE3VixHQUFBL0IsT0FBQTZPLE1BQUE2RyxVQUFBakcsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBc1YsZUFBQWhNLFNBQUF1TyxPQUFBLEdBQUEsR0FBQSxHQUNBLFNBQUE3VyxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxjQUdBNUosT0FBQTZPLE1BQUFpSixTQUFBOVgsT0FBQTZMLGFBQUFNLE9BQUEsU0FBQTRMLElBQUEsTUFBQUEsSUFBQXZMLGFBQUF4TSxPQUFBNk8sTUFBQXJDLGNBQUEsR0FBQXdMLFNBRUE1VyxTQUFBcEIsT0FBQTZPLE1BQUE4RyxLQUFBLENBQ0EsR0FBQXNDLElBQUFqWSxPQUFBNk8sTUFBQThHLEtBQUF1QyxZQUFBLEtBQ0FDLFFBQUFuWSxPQUFBNk8sTUFBQThHLEtBQUF5QyxVQUFBSCxHQUFBLEVBRUFqWSxRQUFBNFcsUUFEQXVCLFFBQUFFLE1BQUEseUNBQ0EsR0FDQSxFQUVBclksT0FBQTBXLElBQUExVyxPQUFBdU4sVUFBQSxVQUFBdk4sT0FBQTZPLE1BQUE2RyxRQUFBLFFBQUFoTCxXQUFBMkssV0FDQXJWLE9BQUE2TyxNQUFBbUgsVUFBQSxHQUFBNUYsTUFBQXBRLE9BQUE2TyxNQUFBbUgsV0FDQTVVLFNBQUFwQixPQUFBNk8sTUFBQXVILGFBQUFwVyxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQUFwUSxPQUFBNk8sTUFBQXVILGFBQ0EsT0FBQW1CLEtBQUFyQixXQUNBM0ssT0FBQStNLE9BQUF2VyxHQUFBd1YsS0FBQXJCLFlBQUF6RyxTQUFBNU4sS0FBQSxTQUFBVixHQUNBbkIsT0FBQTBYLFFBQUF2VyxFQUNBbkIsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQWMsWUFDQXhZLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGFBQ0EsU0FBQTVYLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx5QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx5QkFBQU8sY0FBQTRJLGtCQUtBNUosUUFBQTZPLE1BQUFtSCxVQUFBLEdBQUE1RixNQUFBcFEsT0FBQTZPLE1BQUF1SCxXQUFBLEdBQUFoRyxNQUNBcFEsT0FBQTBYLFFBQUF4TSxXQUFBaUIsT0FBQSxTQUFBc0ksR0FBQSxNQUFBQSxHQUFBc0UsV0FBQWhULFNBQUFFLElBQUEsU0FBQSxHQUNBakcsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQXdCLE1BQUEsSUFBQWxaLE9BQUEwWCxRQUFBeUIsTUFDQW5aLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLFdBRUE1WSxRQUFBeU0sY0FBQSxFQUdBek0sT0FBQXVaLHVCQUFBLFdBQ0EsR0FBQXZaLE9BQUE2TyxNQUFBckMsY0FDQXhNLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGVBSUE1WSxPQUFBd1osV0FBQSxTQUFBQyxPQUNBLEdBQUFyWSxTQUFBcEIsT0FBQTZPLE1BQUFDLE1BQ0EsR0FBQTJLLE1BQUEsQ0FDQXpaLE9BQUFrNkQsb0JBQUEsRUFDQWg2RCxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxrQkFDQSxJQUFBeVosWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFFQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0EsR0FBQSxJQUFBdEosT0FBQTZPLE1BQUFyQyxZQUFBLENBRUEsR0FBQXdDLFlBQ0FDLFlBQ0F6QyxZQUFBeE0sT0FBQTZPLE1BQUFyQyxZQUNBbUosS0FBQTNWLE9BQUE2TyxNQUFBQyxLQUFBNkcsS0FDQUssVUFBQWhXLE9BQUE2TyxNQUFBbUgsVUFDQUksV0FBQXBXLE9BQUE2TyxNQUFBdUgsV0FDQVIsWUFBQTVWLE9BQUE2TyxNQUFBK0csWUFDQTVULFFBQUFoQyxPQUFBc29FLFlBQUF0bUUsUUFDQWtVLFVBQUE1TSxTQUFBNE0sVUFDQUwsZ0JBQUE3VixPQUFBNk8sTUFBQWdILGdCQUNBQyxZQUFBOVYsT0FBQTZPLE1BQUFpSCxZQUNBQyxhQUFBL1YsT0FBQTZPLE1BQUFrSCxhQUNBRSxPQUFBalcsT0FBQXlvQyxLQUFBeHlCLFFBRUFuSCxLQUFBOU8sT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLFdBQ0E3VyxPQUFBa29FLFNBQUF2bEUsS0FBQTZULFdBQ0EsSUFBQUEsVUFBQWhLLGFBQUF4TSxPQUFBbW9FLGNBQUF4bEUsS0FBQTZULFdBQ0F4VyxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQWs2RCxvQkFBQSxHQUNBLFNBQUFsNUQsZUFDQWhCLE9BQUFrNkQsb0JBQUEsRUFDQXh3RCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGtCQUdBNUosUUFBQTZPLE1BQUFxSCxVQUFBNU0sU0FBQTRNLFVBQUFsVyxPQUFBNk8sTUFBQTdNLFFBQUFoQyxPQUFBc29FLFlBQUF0bUUsUUFBQWhDLE9BQUE2TyxNQUFBb0gsT0FBQWpXLE9BQUF5b0MsS0FBQXh5QixPQUNBM0ssS0FBQTRPLEtBQUFsYSxPQUFBNk8sT0FBQVksU0FBQTVOLEtBQUEsU0FBQTJVLFdBQ0E5TSxPQUFBK00sUUFBQSxjQUNBRCxVQUFBSyxjQUFBLFdBQ0E3VyxPQUFBa29FLFNBQUF2bEUsS0FBQTZULFdBQ0F4VyxPQUFBeU0sY0FBQSxFQUFBek0sT0FBQWs2RCxvQkFBQSxHQUNBLFNBQUFsNUQsZUFDQWhCLE9BQUFrNkQsb0JBQUEsRUFDQXh3RCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGVBR0EsU0FBQTVJLGVBQ0FoQixPQUFBazZELG9CQUFBLEVBQ0F4d0QsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxtQkFJQWtJLE9BQUEsZ0NBS0E5UixPQUFBcWEsU0FBQSxTQUFBWixPQUNBLEdBQUFBLE1BQUEsQ0FDQXpaLE9BQUFrNkQsb0JBQUEsQ0FHQSxFQUFBbDZELE9BQUE2TyxNQUFBZ0ksY0FHQSxHQUZBM1csTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FTLFNBQUFwQixPQUFBMFgsUUFBQXhCLFVBQUEsQ0FFQSxHQUFBa0UsWUFBQTVCLFlBQUF4WSxPQUFBMFgsUUFBQWEsU0FBQUksVUFBQTNZLE9BQUEwWCxRQUFBaUIsVUFDQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQTQ3RCxXQUNBejlELE9BQUE2TyxNQUFBcUgsVUFBQXVuRCxVQUFBdm5ELFVBQ0E1SyxLQUFBZ1AsUUFBQXZZLEdBQUEvQixPQUFBNk8sTUFBQTZHLFNBQUExVixPQUFBNk8sT0FBQVksU0FBQTVOLEtBQUEsU0FBQTBZLGNBQ0E3USxPQUFBK00sUUFBQSxnQkFDQThELGFBQUExRCxjQUFBLFdBQ0E3VyxPQUFBa29FLFNBQUFsb0UsT0FBQStXLGdCQUFBd0QsYUFDQXZhLE9BQUF5TSxjQUFBLEVBQUF6TSxPQUFBazZELG9CQUFBLEdBQ0EsU0FBQWw1RCxlQUNBaEIsT0FBQWs2RCxvQkFBQSxFQUNBeHdELE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUFrNkQsb0JBQUEsRUFDQXh3RCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwwQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGlCQU9BNUosT0FBQXdhLFdBQUEsV0FDQSxHQUFBQyxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBNk8sT0FFQWlNLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGdCQUNBelcsT0FBQWtvRSxTQUFBLzlELE9BQUFuSyxPQUFBK1csZUFBQSxHQUNBL1csT0FBQW1vRSxjQUFBaCtELE9BQUFuSyxPQUFBOFcsa0JBQUEsR0FDQTlXLE9BQUF5TSxjQUFBLEdBQ0EsU0FBQXpMLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGlCQUtBNUosT0FBQWdiLFdBQUEsV0FDQWhiLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBRUExWCxPQUFBeU0sY0FBQSxHQUdBM0csV0FBQTBELGVBQUFDLGFBQUEsUUN0NERBLFdBQ0EsWUFFQSxJQUFBOUwsZ0JBQUFDLFFBQUFDLE9BQUEsaUJBRUFGLGdCQUFBb0MsV0FBQSxrQkFBQSxTQUFBLFNBQUEsYUFBQSxXQUFBLFFBQUEsVUFBQSxZQUFBLE9BQUEsTUFBQSxjQUFBLFlBQUEsWUFBQSxhQUNBLFNBQUFDLE9BQUFDLE9BQUE2RixXQUFBQyxTQUFBN0YsTUFBQTJrQixRQUFBemtCLFVBQUFELEtBQUFrbkMsSUFBQTZpQyxZQUFBdCtELFVBQUFuRixVQUFBa2xFLFlBQ0EsR0FBQXZxRSxTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUVBbkcsT0FBQW01RSxlQUNBbjVFLE9BQUF5SixhQUFBLEVBQ0F6SixPQUFBZ3JFLFFBQUEsRUFBQWhyRSxPQUFBaXJFLElBQUEsRUFDQWpyRSxPQUFBa3JFLFlBQ0FsckUsT0FBQW1yRSxjQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsS0FDQW5yRSxPQUFBb3JFLFdBQ0FwckUsT0FBQXFyRSxZQUNBcnJFLE9BQUE2USxPQUFBakYsVUFDQTVMLE9BQUE2RyxPQUFBSixVQUNBekcsT0FBQW81RSxjQUNBcDVFLE9BQUEyckUsV0FBQUEsV0FDQTNyRSxPQUFBNHJFLGVBQ0E1ckUsT0FBQTRCLFFBQUF5M0UsZUFBQSxFQUdBLElBQUEzeEMsV0FBQSxTQUFBcG9DLEdBQ0EsR0FBQXFvQyxPQUFBLEdBQUF2M0IsS0FDQSxNQUFBOVEsR0FBQThCLFNBQUE5QixJQUVBcW9DLE1BQUEsR0FBQXYzQixNQUFBOVEsR0FFQSxJQUFBd1UsTUFBQTZ6QixNQUFBN2xCLGNBQ0FqTyxNQUFBOHpCLE1BQUE1bEIsV0FDQXBPLEtBQUEsSUFBQWcwQixNQUFBMWxCLFdBQUFELE1BQUEsSUFDQTRsQixZQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxNQUNBQyxXQUFBRCxXQUFBL3pCLE9BQUEsSUFBQUYsSUFBQSxJQUFBRyxJQUNBLE9BQUErekIsWUEyREEsSUF6REE3bkMsT0FBQXM1RSxjQUFBdDVFLE9BQUF1NUUsa0JBQ0F2NUUsT0FBQW1xRSxTQUFBLEdBQ0FucUUsT0FBQTJzRSxlQUFBLFdBQ0EsR0FBQSxPQUFBM3NFLE9BQUFvNUUsV0FBQTl3RSxhQUFBLENBQ0EsR0FBQTBzQixXQUFBaDFCLE9BQUE2RyxPQUFBc0YsT0FBQSxTQUFBN0IsSUFBQSxNQUFBQSxJQUFBaEMsY0FBQXRJLE9BQUFvNUUsV0FBQTl3RSxlQUFBLEVBQ0F0SSxRQUFBNHJFLFlBQUE1ckUsT0FBQTJyRSxXQUFBeC9ELE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFFLFVBQUFDLFVBQUFELGVBRUEvMEIsUUFBQTRyRSxnQkFNQTVyRSxPQUFBdzVFLFFBQUEsU0FBQS8vRCxPQUNBLEdBQUFBLE1BQUEsQ0FDQXpaLE9BQUE0QixVQUNBNUIsT0FBQTRCLE9BQUF5M0UsZUFBQSxDQUNBLElBQUFJLGVBQ0E3N0UsU0FBQXlNLFFBQUFySyxPQUFBbzVFLFdBQUFoSixTQUFBLFNBQUF2N0MsR0FDQTRrRCxZQUFBOTJFLEtBQUFreUIsRUFBQXczQyxjQUVBLElBQUFxTixrQkFBQUQsWUFBQXB3RSxLQUFBLElBQ0FySixRQUFBczVFLGNBQUF0NUUsT0FBQXU1RSxrQkFFQXY1RSxPQUFBbTVFLGVBQ0FuNUUsT0FBQW01RSxZQUFBaHdFLE1BQUFuSixPQUFBbzVFLFdBQUE5NkQsU0FDQXRlLE9BQUFtNUUsWUFBQS92RSxNQUFBcEosT0FBQW81RSxXQUFBOXdFLGFBQ0F0SSxPQUFBbTVFLFlBQUE1a0QsU0FBQW1sRCxpQkFDQXhQLFlBQUF5UCxpQkFBQTM1RSxPQUFBbTVFLGFBQ0E5eEMsSUFBQTR4QixpQkFBQTl2RCxNQUFBbkosT0FBQW81RSxXQUFBOTZELFNBQUE0dEMsT0FBQWxzRCxPQUFBbzVFLFdBQUE5d0UsYUFBQXN4RSxPQUFBRixrQkFBQSxTQUFBcHdFLFVBQ0F0SixPQUFBbXFFLFNBQUE3Z0UsU0FBQTVELE9BQ0ExRixPQUFBNEIsT0FBQWk0RSxXQUFBNzVFLE9BQUFtcUUsU0FBQSxHQUFBLEdBQUEsQ0FDQSxLQUFBLEdBQUFoaUUsR0FBQSxFQUFBQSxFQUFBbUIsU0FBQTVELE9BQUF5QyxJQUFBLENBQ0EsR0FBQTJ4RSxPQUNBQSxLQUFBN2pFLE9BQUEzTSxTQUFBbkIsR0FBQThOLE9BQ0E2akUsSUFBQW51QyxVQUFBcmlDLFNBQUFuQixHQUFBd2pDLFVBQ0FtdUMsSUFBQXY2QyxVQUFBajJCLFNBQUFuQixHQUFBbzNCLFVBQ0F1NkMsSUFBQTkzRSxRQUFBc0gsU0FBQW5CLEdBQUFuRyxRQUNBODNFLElBQUFoa0QsUUFBQXhzQixTQUFBbkIsR0FBQTJ0QixRQUNBZ2tELElBQUF4a0Isd0JBQUFoc0QsU0FBQW5CLEdBQUFtdEQsd0JBQ0F3a0IsSUFBQWhrRSxZQUFBeE0sU0FBQW5CLEdBQUEyTixZQUNBZ2tFLElBQUEvakUsYUFBQXpNLFNBQUFuQixHQUFBNE4sYUFDQSxLQUFBek0sU0FBQW5CLEdBQUE2akMsY0FDQTh0QyxJQUFBOXRDLFlBQUF0RSxVQUFBcCtCLFNBQUFuQixHQUFBNmpDLGNBRUE4dEMsSUFBQWo5RCxRQUFBdlQsU0FBQW5CLEdBQUEwVSxRQUNBaTlELElBQUE3dkMsWUFBQTNnQyxTQUFBbkIsR0FBQThoQyxZQUNBNnZDLElBQUF2a0IsVUFBQWpzRCxTQUFBbkIsR0FBQW90RCxVQUNBdjFELE9BQUFzNUUsV0FBQTMyRSxLQUFBbTNFLE9BRUEsU0FBQTk0RSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsdUJBQUFPLGNBQUE0SSxpQkFLQWhNLFFBQUFvaUQsVUFBQWtxQixZQUFBNlAsb0JBQUEsQ0FDQSxHQUFBQyxXQUFBOVAsWUFBQTZQLGtCQUlBLElBSEEvNUUsT0FBQW81RSxXQUFBOTZELFNBQUEwN0QsVUFBQTd3RSxNQUNBbkosT0FBQW81RSxXQUFBOXdFLGFBQUEweEUsVUFBQTV3RSxNQUNBcEosT0FBQTJzRSxpQkFDQSxLQUFBcU4sVUFBQXpsRCxTQUFBLENBQ0EsR0FBQTY3QyxVQUFBNEosVUFBQXpsRCxTQUFBMzFCLE1BQUEsSUFDQW9CLFFBQUFvNUUsV0FBQWhKLFlBQ0F4eUUsUUFBQXlNLFFBQUFySyxPQUFBNHJFLFlBQUEsU0FBQS8yQyxHQUVBdTdDLFNBQUE1aEUsSUFBQSxTQUFBeXJFLElBQUEsTUFBQUEsTUFBQS92RSxRQUFBMnFCLEVBQUF3M0MsYUFBQSxLQUNBeDNDLEVBQUF0c0IsVUFBQSxFQUNBdkksT0FBQW81RSxXQUFBaEosU0FBQXp0RSxLQUFBa3lCLE1BSUE3MEIsT0FBQXc1RSxTQUFBLEdBR0EsR0FBQTNNLGVBQUEsV0FDQXpzRSxVQUFBbUIsTUFDQXpCLFNBQUEsNE9BR0E0YSxTQUFBLFNBQ0FDLFVBQUEsRUFDQTVhLFdBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUF1TyxZQUdBcE8sS0FBQSxRQUtBc3JFLGNBQUEsU0FBQUMsU0FBQUMsR0FBQUMsSUFBQUMsSUFBQUMsS0FBQXhwRSxNQUFBeXBFLGdCQUdBLE1BRkEyTSxjQUFBQyxVQUFBQyxhQUFBeHpDLE1BQUFuaEMsS0FBQTQwRSxXQUNBbE4sR0FBQTl0RSxNQUFBaTdFLFdBQUEsVUFDQW5OLElBR0FvTixlQUFBLFNBQUFyTixTQUFBQyxHQUFBQyxJQUFBQyxJQUFBQyxLQUFBeHBFLE1BQUF5cEUsZ0JBSUEsTUFIQTJNLGNBQUFDLFVBQUFDLGFBQUF4ekMsTUFBQW5oQyxLQUFBNDBFLFdBQ0FsTixHQUFBcU4sVUFBQSw0QkFBQTEyRSxNQUFBLE9BQ0FxcEUsR0FBQTl0RSxNQUFBaTdFLFdBQUEsVUFDQW5OLEdBRUFudEUsUUFBQTJ0RSxrQkFBQSxTQUFBN3BFLE1BQUFpcEUsVUFDQWpwRSxNQUlBaXBFLFVBQUEsSUFIQUYsZ0JBQ0FFLFVBQUEsS0FLQS9zRSxPQUFBeTZFLGdCQUFBLFNBQUEzMkUsTUFBQWlwRSxVQUVBQSxVQUFBLElBS0Evc0UsT0FBQWthLEtBQUEsV0FDQW10QixJQUFBcXpDLG1CQUFBNXBELFFBQUE5d0IsT0FBQW81RSxXQUFBOTZELFNBQUFqVyxNQUFBckksT0FBQW81RSxXQUFBOXdFLGVBQUFtSCxTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQXRKLE9BQUF1NUUsZUFBQWp3RSxRQUdBLEtBQUEsR0FEQXF4RSxvQkFDQUMsSUFBQSxFQUFBQSxJQUFBNTZFLE9BQUF1NUUsZUFBQTd6RSxPQUFBazFFLE1BQUEsQ0FDQSxHQUFBQyxnQkFBQTc2RSxPQUFBczVFLFdBQUFudEUsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBekMsUUFBQWpXLE9BQUF1NUUsZUFBQXFCLEtBQUEza0UsU0FBQSxFQUNBN1UsVUFBQXk1RSxpQkFFQTc2RSxPQUFBdTVFLGVBQUFxQixLQUFBRSxZQUFBRCxlQUFBN3VDLFlBQ0Foc0MsT0FBQXU1RSxlQUFBcUIsS0FBQS85RCxRQUFBZytELGVBQUFoK0QsUUFDQTdjLE9BQUF1NUUsZUFBQXFCLEtBQUEzd0MsWUFBQTR3QyxlQUFBNXdDLFlBQ0FqcUMsT0FBQXU1RSxlQUFBcUIsS0FBQXJsQixVQUFBc2xCLGVBQUF0bEIsVUFDQW9sQixnQkFBQWg0RSxLQUFBM0MsT0FBQXU1RSxlQUFBcUIsT0FJQTE2RSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQS9DLFFBQUF5TSxRQUFBc3dFLGdCQUFBLFNBQUFJLEdBQ0ExekMsSUFBQS9zQixRQUFBdlksR0FBQWc1RSxFQUFBOWtFLFFBQUE4a0UsR0FBQXRyRSxTQUFBNU4sS0FBQSxXQUNBNkgsT0FBQStNLFFBQUEsZ0JBQ0F6VyxPQUFBczVFLGNBQUF0NUUsT0FBQXU1RSxrQkFDQXY1RSxPQUFBcXJFLFlBQ0FyckUsT0FBQXc1RSxTQUFBLElBQ0EsU0FBQXg0RSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUJBQUFPLGNBQUFQLFNBQUEscUJBQ0Esc0JBQUFPLGNBQUE0SSxpQkFHQSxTQUFBNUksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHVCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHVCQUFBTyxjQUFBNEksZUFJQTVKLE9BQUE0dEUsTUFBQSxXQUNBLEdBQUFDLFlBQUF6dEUsVUFBQW1CLE1BQ0F6QixTQUFBLG9XQUdBNGEsU0FBQSxTQUNBQyxVQUFBLEVBQ0E1YSxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFNBRUExQixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUF1TyxhQUdBcE8sS0FBQSxNQUVBa3NFLFlBQUFqc0UsT0FBQUMsS0FBQSxXQUNBN0IsT0FBQXM1RSxjQUFBcFAsWUFBQXlQLHFCQUNBMzVFLE9BQUFxckUsWUFDQXJyRSxPQUFBdzVFLFNBQUEsTUFLQXg1RSxPQUFBOHRFLGVBRUFFLFlBQUEsRUFFQUUsYUFBQSxFQUNBQyxVQUFBLFdBQ0FudUUsT0FBQWtyRSxZQUFBemxFLE1BRUEyb0Usb0JBQUEsRUFDQUMsaUJBQUEsRUFDQUMsVUFBQSxFQUNBZ0osZ0JBQUEsYUFDQS9JLG9DQUFBLEVBQ0FDLFVBQUF4dUUsT0FBQW1yRSxhQUNBc0QsTUFBQSxTQUFBckIsSUFBQUMsSUFBQUMsTUFFQSxHQUFBb0IsYUFHQSxPQUZBLElBQUFyQixNQUFBcUIsVUFBQUMsU0FBQTFCLGVBQ0EsR0FBQUksTUFBQXFCLFVBQUFDLFNBQUE0TCxnQkFDQTdMLFdBRUFFLGVBQUEsU0FBQXR3RSxNQUNBLElBQUEsR0FBQTZKLEdBQUE3SixLQUFBb0gsT0FBQSxFQUFBeUMsR0FBQSxFQUFBQSxJQUNBLElBQUEsV0FBQTdKLEtBQUE2SixHQUFBLElBQUEsZUFBQTdKLEtBQUE2SixHQUFBLEtBQUEsS0FBQTdKLEtBQUE2SixHQUFBLElBRUF3dEIsTUFBQXIzQixLQUFBNkosR0FBQSxJQUFBLENBQ0E3SixLQUFBNkwsT0FBQWhDLEVBQUEsR0FDQTBtRCxXQUFBLFdBQUE3dUQsT0FBQWtyRSxZQUFBZ0gsZ0JBQUEsSUFDQSxFQUFBOXhFLFVBQUFtQixNQUNBekIsU0FBQSw0T0FHQTRhLFNBQUEsU0FDQUMsVUFBQSxFQUNBNWEsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsVUFNQXF0RSxxQkFBQSxTQUFBOXNFLE1BQUErc0UsT0FBQTlCLElBRUEsR0FBQSxHQUFBOEIsT0FBQTVCLElBQUEsQ0FDQSxHQUFBMk4sYUFBQWg3RSxPQUFBa3JFLFlBQUE2SCxjQUFBOUQsT0FBQTdCLElBQUE2QixPQUFBNUIsS0FDQWx6QyxPQUFBbjZCLE9BQUFzNUUsV0FBQW50RSxPQUFBLFNBQUF3SSxHQUFBLE1BQUFBLEdBQUFtaEIsU0FBQWtsRCxjQUFBLEdBQUFoNUUsT0FDQS9CLFFBQUE2QixHQUFBLGtCQUFBQyxHQUFBbzRCLFdBR0ErMEMsZ0JBQUEsU0FBQUMsUUFBQXJyRSxNQUFBc3BFLElBQUFFLEtBQUE4QixPQUdBLEdBRkFELFNBQ0FudkUsT0FBQXFyRSxTQUFBMW9FLE1BQUF3c0UsUUFBQUEsUUFBQS9CLElBQUFBLElBQUFFLEtBQUFBLE9BQ0E2QixRQUFBLENBRUEsSUFBQSxHQURBRSxRQUFBLEdBQ0FDLEdBQUEsRUFBQUEsR0FBQXR2RSxPQUFBcXJFLFNBQUEzbEUsT0FBQTRwRSxLQUNBLEdBQUF0dkUsT0FBQXFyRSxTQUFBaUUsSUFBQWxDLEtBQUFBLEtBQUFwdEUsT0FBQXFyRSxTQUFBaUUsSUFBQWhDLE1BQUFBLEtBQUEsQ0FDQStCLE9BQUFDLEVBQ0EsT0FHQUQsT0FBQSxJQUNBcnZFLE9BQUFxckUsU0FBQWxoRSxPQUFBa2xFLE9BQUEsS0FHQTRMLFlBQUFDLGVBQUEsR0FDQTNMLFdBQUEsV0NsU0EsV0FDQSxZQUVBLElBQUE1eEUsZ0JBQUFDLFFBQUFDLE9BQUEsaUJBQ0FGLGdCQUFBb0MsV0FBQSxZQUFBLFNBQUEsYUFBQSxZQUFBLFdBQUEsWUFBQSxZQUFBLFNBQ0EsU0FBQUMsT0FBQThGLFdBQUFxMUUsVUFBQXAxRSxTQUFBM0YsVUFBQTRGLFVBQUEvRixRQUdBLEdBRkE2RixXQUFBczFFLFVBQ0F0MUUsV0FBQU8sV0FBQSxPQUNBakYsU0FBQTJFLFNBQUFFLElBQUEsYUFBQSxLQUFBRixTQUFBRSxJQUFBLGFBQUE3RSxTQUFBMkUsU0FBQUUsSUFBQSxlQUNBSCxXQUFBczFFLE9BQUEvNkUsS0FBQSxFQUNBMkYsVUFBQUcsS0FBQSxjQUNBLENBQ0EsR0FBQS9FLFNBQUErNUUsVUFBQSxHQUFBRSxhQUNBLENBQUFqN0UsVUFBQW1CLE1BQ0F6QixTQUFBLGtWQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsT0FHQW1FLFdBQUFzMUUsT0FBQS82RSxLQUFBLEVBQ0F5RixXQUFBdzFFLFVBQUF2MUUsU0FBQUUsSUFBQSxhQUNBSCxXQUFBMHZFLE9BQUF6dkUsU0FBQUUsSUFBQSxPQUNBSCxXQUFBb0gsU0FBQW5ILFNBQUFFLElBQUEsWUFDQSxJQUFBb1ksV0FBQXRZLFNBQUFFLElBQUEsbUJBQ0EsUUFBQW9ZLFdBQUFqZCxTQUFBaWQsWUFDQXZZLFdBQUFjLGFBQUEsa0JBQUF5WCxVQUFBLEtBRUFwZSxPQUFBNkIsR0FBQSxjQ2pDQSxXQUNBLFlBRUEsSUFBQXk1RSxvQkFBQTM5RSxRQUFBQyxPQUFBLHdCQUVBMDlFLG9CQUFBeDdFLFdBQUEsYUFBQSxTQUFBLFNBQUEsWUFBQSxZQUFBLE9BQUEsUUFBQSxXQUFBLGFBQUEsWUFBQSxhQUFBLGNBQUEsUUFDQSxTQUFBQyxPQUFBQyxPQUFBK0YsVUFBQTVGLFVBQUFvSyxLQUFBdEssTUFBQTZGLFNBQUFELFdBQUFxMUUsVUFBQTF3RSxXQUFBK3dFLFlBQUFDLE9BdUNBLEdBckNBejdFLE9BQUEwN0UsVUFBQSxHQUNBMTdFLE9BQUEyN0UsWUFFQUYsTUFBQUcsZUFDQSxTQUFBdHlFLFVBQ0F0SixPQUFBMDdFLFVBQUFweUUsU0FBQThKLEtBQ0EsSUFBQXlvRSxpQkFDQUEsZUFBQXZ5RSxTQUFBd3lFLEtBQUFDLFFBQUFqNEUsTUFBQWxGLE1BQUEsT0FDQWk5RSxjQUFBeHhFLFFBQUEsU0FBQTR4QixHQUNBajhCLE9BQUEyN0UsU0FBQWg1RSxLQUFBNkgsS0FBQWlELFlBQUF3dUIsT0FFQSxTQUFBajdCLGVBQ0FoQixPQUFBMDdFLFVBQUEsY0FDQTE3RSxPQUFBMjdFLFNBQUFoNUUsS0FBQSw4QkFJQWlGLEVBQUEsbUJBQUFvMEUsU0FBQSxTQUFBeDJFLEdBQ0EsR0FBQXkyRSxXQUFBcjBFLEVBQUFuQyxNQUNBeTJFLGVBQUF0MEUsRUFBQSxZQUFBdTBFLEdBQUEsWUFDQWg3RSxFQUFBaTdFLE9BQUFDLGFBQUE3MkUsRUFBQXJELE1BRUFoQixHQUFBbTdFLGdCQUFBbjdFLEdBQUFBLEVBQUEraEUsZ0JBQUEvaEUsR0FBQXFFLEVBQUErMkUsU0FJQUwsZ0JBQ0FELFVBQUFPLFFBQUEsUUFKQU4sZ0JBQ0FELFVBQUFPLFFBQUEsUUFPQVAsVUFBQVEsS0FBQSxTQUFBajNFLEdBQ0F5MkUsVUFBQU8sUUFBQSxZQUtBcDdFLFNBQUErNUUsVUFBQSxHQUFBRSxhQUNBLENBQUFqN0UsVUFBQW1CLE1BQ0F6QixTQUFBLGtWQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQXlCLEdBQUEsV0FDQUQsa0JBQUFFLFdBR0FDLEtBQUEsT0FHQXlPLEtBQUEvQixVQUFBaWpELFNBQUEsU0FBQTM4QyxHQUVBLE1BREFsUCxNQUFBKzdDLFNBQUEvN0MsS0FBQXljLFdBQUF2TixHQUNBbFAsTUFFQXpGLE9BQUF1TixVQUFBOUMsV0FDQTNFLFdBQUE0MkUsWUFBQWxCLFlBQ0F4N0UsT0FBQWtoRCxPQUFBLFdBRUFwN0MsV0FBQTBELGVBQUFDLGFBQUEsQ0FDQSxJQUlBa3pFLE1BSEFseUQsU0FBQXpxQixPQUFBeXFCLFNBQ0FxbUMsU0FBQTl3RCxPQUFBOHdELFVBRUE5d0QsT0FBQXlxQixTQUFBLElBQUF6cUIsT0FBQTh3RCxTQUNBNXdELE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFnaUQsS0FBQTRyQixJQUNBejhFLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBRUE4NkUsTUFBQW1CLFNBQ0EsU0FBQXR6RSxVQUNBLEdBQUF1ekUsTUFBQXZ6RSxRQUNBLElBQUFsSSxTQUFBeTdFLEtBQUEsQ0FFQSxHQUFBanJCLFdBQUFpckIsS0FBQTNqRSxNQUFBLElBQUEyakUsS0FBQTFqRSxNQUNBbzRDLElBQUFSLEtBQUEvd0QsT0FBQXlxQixTQUFBK21DLE9BQUEsSUFBQXh4RCxPQUFBOHdELFdBRUFXLFlBQUEsR0FBQXJoRCxPQUFBa2hELFNBQUEsRUFDQXZyRCxVQUFBMnJELElBQUEsV0FBQUgsS0FBQUksUUFBQUYsYUFDQTFyRCxTQUFBMnJELElBQUEsY0FBQTF4RCxPQUFBeXFCLFVBQ0Exa0IsU0FBQTJyRCxJQUFBLFlBQUFFLFdBQ0E3ckQsU0FBQTJyRCxJQUFBLE1BQUFtckIsS0FBQTlqRSxVQUNBLElBQUF3NUMsU0FDQSxRQUFBc3FCLEtBQUFwc0IsU0FDQSxJQUFBLEdBQ0E4QixTQUFBLE9BQ0EsTUFDQSxLQUFBLEdBQ0FBLFNBQUEsU0FDQSxNQUNBLEtBQUEsR0FDQUEsU0FBQSxPQUNBLE1BQ0EsS0FBQSxHQUNBQSxTQUFBLFFBQ0EsTUFDQSxTQUNBQSxTQUFBLGlCQUdBeHNELFNBQUEyckQsSUFBQSxZQUFBYSxVQUVBenNELFdBQUFzMUUsT0FBQS82RSxLQUFBLEVBQ0F5RixXQUFBdzFFLFVBQUExcEIsVUFDQTlyRCxXQUFBMHZFLE9BQUFxSCxLQUFBOWpFLFVBQ0FqVCxXQUFBb0gsU0FBQW5ILFNBQUFFLElBQUEsYUFDQTdFLFNBQUEwRSxXQUFBZzNFLGNBQ0E3OEUsT0FBQTZCLEdBQUFnRSxXQUFBZzNFLGVBQUEvNkUsR0FBQStELFdBQUFpM0Usc0JBRUE5OEUsT0FBQTZCLEdBQUEsV0FJQWdFLFlBQUEwRCxlQUFBQyxhQUFBLEVBQ0F6SixPQUFBMkosTUFBQSxnQkFHQSxTQUFBM0ksZUFDQThFLFdBQUEwRCxlQUFBQyxhQUFBLENBRUEsSUFBQW1tQixlQUFBeHZCLFVBQUFtQixNQUNBekIsU0FBQSxpUUFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUVBMUIsT0FBQXFCLE9BQUFMLGNBQUFLLE9BQ0FyQixPQUFBNEosV0FBQTVJLGNBQUE0SSxhQUVBakksS0FBQSxNQUVBaXVCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBODFCLFlBQ0EzeEIsVUFBQUcsS0FBQSxrQkFRQW8xRSxtQkFBQXg3RSxXQUFBLGNBQUEsU0FBQSxhQUFBLFdBQUEsWUFDQSxTQUFBQyxPQUFBOEYsV0FBQUMsU0FBQUMsV0FDQWhHLE9BQUFnOUUsT0FBQSxXQUVBajNFLFNBQUFrM0UsT0FBQSxZQUNBbDNFLFNBQUFrM0UsT0FBQSxlQUNBbDNFLFNBQUFrM0UsT0FBQSxhQUNBbDNFLFNBQUFrM0UsT0FBQSxhQUNBbDNFLFNBQUFrM0UsT0FBQSxPQUNBbDNFLFNBQUFrM0UsT0FBQSxrQkFDQWwzRSxTQUFBazNFLE9BQUEsb0JBRUFuM0UsV0FBQU0sU0FBQWhGLE9BQ0EwRSxXQUFBZzNFLGNBQUExN0UsT0FDQTBFLFdBQUFpM0Usb0JBQUEzN0UsT0FDQTBFLFdBQUEwRCxlQUFBcEksT0FDQTBFLFdBQUFPLFdBQUFqRixPQUNBMEUsV0FBQWMsYUFBQXhGLE9BQ0EwRSxXQUFBczFFLE9BQUFoNkUsT0FDQTBFLFdBQUFqRyxXQUFBdUIsT0FDQTBFLFdBQUFrQyxhQUFBNUcsT0FDQTBFLFdBQUFvM0UsZUFBQTk3RSxPQUNBMEUsV0FBQTB2RSxPQUFBcDBFLE9BQ0EwRSxXQUFBb0gsU0FBQTlMLE9BQ0EwRSxXQUFBdzFFLFVBQUFsNkUsT0FDQTBFLFdBQUE0MkUsWUFBQXQ3RSxPQUVBNEUsVUFBQUcsS0FBQSxpQkMvS0EsV0FFQSxZQUVBLElBQUF4SSxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLFlBQUEsU0FDQSxTQUFBQyxRQUNBQSxPQUFBbTlFLFlBQ0FuOUUsT0FBQW05RSxTQUFBQyxLQUFBLG1EQ1RBLFdBQ0EsWUFFQSxJQUFBN3lFLGtCQUFBM00sUUFBQUMsT0FBQSxtQkFDQTBNLGtCQUFBeEssV0FBQSxxQkFBQSxTQUFBLFdBQUEsUUFBQSxvQkFBQSxZQUFBLGFBQUEsYUFBQSxlQUFBLFdBQUEsYUFBQSxhQUFBLGFBQUEsV0FBQSxhQUFBLFdBQUEsT0FBQSxTQUFBLFlBQ0EsU0FBQUMsT0FBQStGLFNBQUE3RixNQUFBc0Isa0JBQUFwQixVQUFBcUssV0FBQUMsV0FBQW1CLGFBQUF3eEUsU0FBQUMsV0FBQXB5RSxXQUFBcXlFLFdBQUE5bkIsU0FBQTdxRCxXQUFBNHlFLFNBQUFseUUsS0FBQUMsT0FBQUYsV0FFQXJMLE9BQUF1TixVQUFBOUMsV0FDQXpLLE9BQUFrTixTQUFBbkgsU0FBQUUsSUFBQSxhQUNBakcsT0FBQXdHLE1BQUFpM0UsUUFBQSxVQUNBejlFLE9BQUF5VixrQkFBQSxFQUNBelYsT0FBQXdYLFVBQUEzTCxhQUNBN0wsT0FBQXlYLFNBQUE3TSxXQUNBNUssT0FBQTA5RSxRQUFBRixTQUVBeDlFLE9BQUE2TyxTQUNBN08sT0FBQTBYLFdBQ0ExWCxPQUFBMFEsWUFFQTFRLE9BQUFnZixNQUFBLFNBQUFDLEtBQ0EsR0FBQUMsVUFBQUQsS0FBQUUsT0FBQWpkLE1BQ0FrZCxJQUFBRixTQUFBRyxTQUFBSCxTQUFBL2MsS0FDQSxLQUFBaWQsS0FBQSxJQUFBQSxLQUFBQSxJQUFBLEtBQUEsR0FBQUEsS0FBQUEsSUFBQSxNQUNBRixTQUFBSSxhQUFBLEVBQ0FKLFNBQUEzYyxnQkFBQTJjLFNBQUEzYyxtQkFHQXZDLE9BQUFzVixlQUFBbFUsU0FBQWs4RSxZQUFBQSxXQUFBemxFLE9BQUEsR0FBQSxHQUFBO0FBR0E3WCxPQUFBaVYsY0FDQWpWLE9BQUE4VSxhQUNBQyxZQUFBLEVBQ0FDLFdBQUEsR0FFQWhWLE9BQUF1QixLQUFBLFNBQUEyVCxPQUFBL1MsT0FDQStTLE9BQUEzUyxpQkFDQTJTLE9BQUFDLGtCQUVBblYsT0FBQWlWLFdBQUE5UyxRQUFBLEdBSUFuQyxPQUFBdVosdUJBQUEsV0FDQSxVQUFBdlosT0FBQTI5RSxpQkFDQSxHQUFBMzlFLE9BQUE2TyxNQUFBckMsY0FDQXhNLE9BQUF5WSxpQkFBQXpZLE9BQUF5WCxTQUFBdEwsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBQyxXQUFBM1ksT0FBQTBYLFFBQUFpQixZQUFBLEdBQUFDLGFBRUEsR0FBQTVZLE9BQUE0OUUsU0FBQXB4RSxjQUNBeE0sT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBNjlFLFdBQUFsbEUsWUFBQSxHQUFBQyxhQUlBLElBQUFwSSxrQkFBQSxTQUFBbFIsR0FDQSxHQUFBOEksR0FBQTlJLEVBQUFrVixPQUFBLEVBQUEsR0FDQUMsRUFBQW5WLEVBQUFrVixPQUFBLEVBQUEsR0FBQSxFQUNBRSxHQUFBcFYsRUFBQWtWLE9BQUEsRUFBQSxHQUNBRyxFQUFBclYsRUFBQWtWLE9BQUEsR0FBQSxHQUNBSSxHQUFBdFYsRUFBQWtWLE9BQUEsR0FBQSxHQUNBSyxJQUFBdlYsRUFBQWtWLE9BQUEsR0FBQSxHQUNBN0IsUUFBQSxHQUFBdkMsTUFBQWhJLEVBQUFxTSxFQUFBQyxHQUFBQyxFQUFBQyxHQUFBQyxJQUNBLE9BQUFsQyxTQUVBLElBQUF2UixTQUFBaThFLFNBQUEsQ0FRQSxHQU5BcjlFLE9BQUEyOUUsaUJBQUEsT0FDQTM5RSxPQUFBODlFLFVBQUFULFNBQUF4bUUsY0FDQSx3QkFBQTdXLE9BQUE4OUUsWUFBQTk5RSxPQUFBODlFLFVBQUEsdUJBQ0E5OUUsT0FBQTZPLE1BQUF3dUUsU0FDQXI5RSxPQUFBNk8sTUFBQWlKLFNBQUFqTSxhQUFBTSxPQUFBLFNBQUE0TCxJQUFBLE1BQUFBLElBQUF2TCxhQUFBeE0sT0FBQTZPLE1BQUFyQyxjQUFBLEdBQUF3TCxTQUVBNVcsU0FBQXBCLE9BQUE2TyxNQUFBOEcsS0FBQSxDQUNBLEdBQUFzQyxJQUFBalksT0FBQTZPLE1BQUE4RyxLQUFBdUMsWUFBQSxLQUNBQyxRQUFBblksT0FBQTZPLE1BQUE4RyxLQUFBeUMsVUFBQUgsR0FBQSxFQUVBalksUUFBQTRXLFFBREF1QixRQUFBRSxNQUFBLHlDQUNBLEdBQ0EsRUFZQSxHQVZBclksT0FBQTBXLElBQUExVyxPQUFBdU4sVUFBQSxVQUFBdk4sT0FBQTZPLE1BQUE2RyxRQUFBLFFBQUFoTCxXQUFBMkssV0FDQXJWLE9BQUE2TyxNQUFBbUgsVUFBQSxHQUFBNUYsTUFBQXBRLE9BQUE2TyxNQUFBbUgsV0FDQTVVLFNBQUFwQixPQUFBNk8sTUFBQXVILGFBQUFwVyxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQUFwUSxPQUFBNk8sTUFBQXVILGFBQ0FoVixTQUFBbThFLGFBQ0F2OUUsT0FBQTBYLFFBQUE2bEUsV0FDQXY5RSxPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBYyxZQUNBeFksT0FBQTBYLFFBQUFxbUUsV0FBQS85RSxPQUFBeVgsU0FBQXRMLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQUMsV0FBQTNZLE9BQUEwWCxRQUFBaUIsWUFBQSxHQUFBQyxZQUVBNVksT0FBQXlZLGlCQUFBelksT0FBQTBYLFFBQUFxbUUsWUFFQTM4RSxTQUFBcTBELFNBQUEsQ0FDQXoxRCxPQUFBa3BCLGdCQUNBbHBCLE9BQUEwUSxTQUFBK2tELFNBQ0F6MUQsT0FBQWlOLGNBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUNBak4sT0FBQTBRLFNBQUF1SSxhQUFBLEdBQUE3SSxNQUFBcFEsT0FBQTBRLFNBQUF1SSxjQUNBalosT0FBQTBRLFNBQUFDLFdBQUFILGlCQUFBeFEsT0FBQTBRLFNBQUFDLFlBQ0EzUSxPQUFBMFEsU0FBQUUsU0FBQUosaUJBQUF4USxPQUFBMFEsU0FBQUUsVUFFQXhQLFNBQUFwQixPQUFBMFEsU0FBQW9MLGFBQUEsT0FBQTliLE9BQUEwUSxTQUFBb0wsYUFBQTliLE9BQUEwUSxTQUFBb0wsYUFBQSxHQUNBelEsVUFBQThkLGVBQUFwbkIsR0FBQS9CLE9BQUEwUSxTQUFBeUYsY0FBQSxTQUFBMEYsa0JBQ0E3YixPQUFBa3BCLGFBQUFFLGFBQUEsR0FBQWhaLE1BQUF5TCxpQkFBQXdOLGVBQ0FycEIsT0FBQWtwQixhQUFBSSxPQUFBcGUsV0FBQWlCLE9BQUEsU0FBQW9kLE1BQUEsTUFBQUEsTUFBQXhRLFdBQUE4QyxpQkFBQTlDLFlBQUEsSUFDQSxTQUFBL1gsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGdDQUFBTyxjQUFBNEksYUFHQSxJQUFBbzBFLFlBQUEsT0FBQWgrRSxPQUFBMFEsU0FBQXNJLGFBQUE5TixXQUFBaUIsT0FBQSxTQUFBb2QsTUFBQSxNQUFBQSxNQUFBeFEsV0FBQS9ZLE9BQUEwUSxTQUFBc0ksZUFBQSxLQUNBaFosUUFBQThZLFVBQUExWCxTQUFBNDhFLFdBQUE5a0UsTUFBQThrRSxXQUFBOWtFLE1BQUEsSUFBQThrRSxXQUFBN2tFLE1BQUEsUUFJQW5aLFFBQUE4OUUsVUFBQSxZQUNBOTlFLE9BQUEyOUUsaUJBQUEsU0FDQTM5RSxPQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQ0FwUSxPQUFBNk8sTUFBQXVILFdBQUEsR0FBQWhHLE1BQ0FwUSxPQUFBMFgsUUFBQXhNLFdBQUFpQixPQUFBLFNBQUFzSSxHQUFBLE1BQUFBLEdBQUFzRSxXQUFBaFQsU0FBQUUsSUFBQSxTQUFBLEdBQ0FqRyxPQUFBMFgsUUFBQWEsU0FBQXZZLE9BQUEwWCxRQUFBd0IsTUFBQSxJQUFBbFosT0FBQTBYLFFBQUF5QixNQUNBblosT0FBQXlZLGlCQUFBelksT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsV0FHQTVZLFFBQUFnUyxPQUFBLFdBQ0FoUyxPQUFBeVYsa0JBQUEsQ0FDQSxJQUFBc0osVUFBQS9lLE9BQUE2TyxLQUNBck4sbUJBQUFFLE1BQUFxZCxXQUlBL2UsT0FBQTY3QixPQUFBLFNBQUFwaUIsT0FDQSxHQUFBQSxNQUFBLENBQ0F6WixPQUFBeVYsa0JBQUEsRUFDQXZWLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUVBLElBQUF5WixZQUFBNUIsWUFBQXhZLE9BQUEwWCxRQUFBYSxTQUFBSSxVQUFBM1ksT0FBQTBYLFFBQUFpQixVQUVBcE4sUUFBQTJPLEtBQUFFLFdBQUEzSyxTQUFBNU4sS0FBQSxTQUFBeUgsVUFDQSxHQUFBLElBQUF0SixPQUFBNk8sTUFBQXJDLFlBQUEsQ0FFQSxHQUFBd0MsWUFDQUMsWUFDQXpDLFlBQUF4TSxPQUFBNk8sTUFBQXJDLFlBQ0FtSixLQUFBM1YsT0FBQTZPLE1BQUFDLEtBQUE2RyxLQUNBSyxVQUFBaFcsT0FBQTZPLE1BQUFtSCxVQUNBSSxXQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUNBUixZQUFBNVYsT0FBQTZPLE1BQUErRyxZQUNBNVQsUUFBQWhDLE9BQUEwOUUsUUFBQTE3RSxRQUNBa1UsVUFBQTVNLFNBQUE0TSxVQUNBTCxnQkFBQTdWLE9BQUE2TyxNQUFBZ0gsaUJBRUEvRyxLQUFBOU8sT0FBQTZPLE1BQUFDLE1BR0FLLEdBQUEsR0FBQUMsU0FDQUQsSUFBQXBRLE9BQUEsYUFBQXNRLEtBQUFDLFVBQUFOLFVBQUFDLGFBQ0FFLEdBQUFwUSxPQUFBLE9BQUFpUSxVQUFBRixNQUVBeEQsS0FBQWlMLFdBQUFwSCxJQUFBTSxTQUFBNU4sS0FBQSxTQUFBMlUsV0FDQTlNLE9BQUErTSxRQUFBLGlCQUNBRCxVQUFBSyxjQUFBLFdBQ0EsSUFBQXhPLE9BQUEsVUFFQTBXLFVBQUF2SSxVQUFBbk8sTUFDQXJJLFFBQUF5VixrQkFBQSxFQUNBalUsa0JBQUFFLE1BQUFxZCxXQUNBLFNBQUEvZCxlQUNBaEIsT0FBQXlWLGtCQUFBLEVBQ0EvTCxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx3QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx3QkFBQU8sY0FBQTRJLGtCQUlBNUosUUFBQTZPLE1BQUE3TSxRQUFBaEMsT0FBQTA5RSxRQUFBMTdFLFFBQ0FoQyxPQUFBNk8sTUFBQXFILFVBQUE1TSxTQUFBNE0sVUFDQTVLLEtBQUE0TyxLQUFBbGEsT0FBQTZPLE9BQUFZLFNBQUE1TixLQUFBLFNBQUEyVSxXQUNBOU0sT0FBQStNLFFBQUEsaUJBQ0FELFVBQUFLLGNBQUEsV0FDQSxJQUFBeE8sT0FBQSxVQUVBMFcsVUFBQXZJLFVBQUFuTyxNQUNBckksUUFBQXlWLGtCQUFBLEVBQ0FqVSxrQkFBQUUsTUFBQXFkLFdBQ0EsU0FBQS9kLGVBQ0FoQixPQUFBeVYsa0JBQUEsRUFDQS9MLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdCQUFBTyxjQUFBNEksZUFHQSxTQUFBNUksZUFDQWhCLE9BQUF5VixrQkFBQSxFQUNBL0wsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsMEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsMEJBQUFPLGNBQUE0SSxnQkFJQTVKLE9BQUFpK0UsZ0JBQUEsYUFRQWorRSxPQUFBa2EsS0FBQSxTQUFBVCxPQUNBLEdBQUEsR0FBQXpaLE9BQUE0OUUsU0FBQXB4RSxZQUFBLENBRUEsR0FBQXJMLEdBQUFuQixPQUFBaytFLE9BQUF2dEUsV0FDQW5MLEVBQUF4RixPQUFBaytFLE9BQUF0dEUsUUFDQSxJQUFBLEdBQUFSLE1BQUE1SyxHQUFBLEdBQUE0SyxNQUFBalAsR0FBQSxDQUNBc1ksT0FBQSxDQUNBLElBQUFDLFNBQUF0WixVQUFBbUIsTUFDQXpCLFNBQUEseVFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBK1gsU0FBQTlYLE9BQUFDLEtBQUEsV0FDQTRYLE9BQUEsS0FJQSxHQUFBQSxNQUFBLENBQ0F6WixPQUFBeVYsa0JBQUEsQ0FHQSxJQUFBMG9FLFVBQUFuK0UsT0FBQTZPLE1BQUFnSSxhQUdBLElBRkEzVyxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQVMsU0FBQXBCLE9BQUE2OUUsV0FBQTNuRSxVQUFBLENBRUEsR0FBQWtFLFlBQUE1QixZQUFBeFksT0FBQTY5RSxXQUFBdGxFLFNBQUFJLFVBQUEzWSxPQUFBNjlFLFdBQUFsbEUsVUFDQXBOLFFBQUEyTyxLQUFBRSxXQUFBM0ssU0FBQTVOLEtBQUEsU0FBQTQ3RCxXQUNBejlELE9BQUEwWCxRQUFBK2xELFVBQ0F6OUQsT0FBQTBYLFFBQUFhLFNBQUF2WSxPQUFBMFgsUUFBQWMsWUFDQXhZLE9BQUEwWCxRQUFBcW1FLFdBQUEvOUUsT0FBQXlYLFNBQUF0TCxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFDLFdBQUEzWSxPQUFBMFgsUUFBQWlCLFlBQUEsR0FBQUMsWUFDQTVZLE9BQUE0OUUsU0FBQTFuRSxVQUFBdW5ELFVBQUF2bkQsVUFFQTVLLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUE0OUUsU0FBQWxvRSxTQUFBMVYsT0FBQTQ5RSxVQUFBbnVFLFNBQUE1TixLQUFBLFNBQUEwWSxjQUNBN1EsT0FBQStNLFFBQUEsZ0JBQ0E4RCxhQUFBMUQsY0FBQXNuRSxTQUNBbitFLE9BQUE2TyxNQUFBMEwsYUFDQXZhLE9BQUE2TyxNQUFBaUosU0FBQWpNLGFBQUFNLE9BQUEsU0FBQTRMLElBQUEsTUFBQUEsSUFBQXZMLGFBQUF4TSxPQUFBNk8sTUFBQXJDLGNBQUEsR0FBQXdMLFNBQ0FoWSxPQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQUFwUSxPQUFBNk8sTUFBQW1ILFdBQ0E1VSxTQUFBcEIsT0FBQTZPLE1BQUF1SCxhQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUFBLEdBQUFoRyxNQUFBcFEsT0FBQTZPLE1BQUF1SCxhQUNBcFcsT0FBQTQ5RSxZQUFBNTlFLE9BQUE2OUUsY0FDQTc5RSxPQUFBd0csS0FBQWkzRSxRQUFBLFNBQ0F6OUUsT0FBQXlWLGtCQUFBLEdBQ0EsU0FBQXpVLGVBQ0FoQixPQUFBeVYsa0JBQUEsRUFDQS9MLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHNCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUF5VixrQkFBQSxFQUNBL0wsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxrQkFFQSxDQUdBLEdBQUEsT0FBQTVKLE9BQUFrK0UsT0FBQTVrRSxVQUFBLENBRUEsR0FBQU0sa0JBQUEsR0FBQXhKLE1BQUFwUSxPQUFBaytFLE9BQUF2dEUsWUFBQWtKLGNBQ0FDLGVBQUEsR0FBQTFKLE1BQUFwUSxPQUFBaytFLE9BQUF0dEUsVUFBQWlKLGFBQ0E3WixRQUFBaytFLE9BQUF2dEUsV0FBQWlKLGlCQUNBNVosT0FBQWsrRSxPQUFBdHRFLFNBQUFrSixlQUNBOVosT0FBQWsrRSxPQUFBNWtFLFVBQUEsVUFDQSxDQUVBLEdBQUFTLElBQUEvWixPQUFBaytFLE9BQUF2dEUsV0FBQTJELFdBQUFwSyxRQUFBLE9BQUEsRUFDQThQLEdBQUFoYSxPQUFBaytFLE9BQUF0dEUsU0FBQTBELFdBQUFwSyxRQUFBLE9BQUEsQ0FDQWxLLFFBQUFrK0UsT0FBQXZ0RSxXQUFBM1EsT0FBQWsrRSxPQUFBdnRFLFdBQUEyRCxXQUFBOEQsVUFBQSxFQUFBMkIsSUFDQS9aLE9BQUFrK0UsT0FBQXR0RSxTQUFBNVEsT0FBQWsrRSxPQUFBdHRFLFNBQUEwRCxXQUFBOEQsVUFBQSxFQUFBNEIsSUFFQTNPLFVBQUFpUCxRQUFBdlksR0FBQS9CLE9BQUFrK0UsT0FBQS9uRSxjQUFBblcsT0FBQWsrRSxRQUFBenVFLFNBQUE1TixLQUFBLFNBQUFzWSxZQUNBbmEsT0FBQTBRLFNBQUF5SixXQUNBbmEsT0FBQTBRLFNBQUF1SSxhQUFBLEdBQUE3SSxNQUFBcFEsT0FBQTBRLFNBQUF1SSxjQUNBalosT0FBQTBRLFNBQUFDLFdBQUFILGlCQUFBeFEsT0FBQTBRLFNBQUFDLFlBQ0EzUSxPQUFBMFEsU0FBQUUsU0FBQUosaUJBQUF4USxPQUFBMFEsU0FBQUUsU0FDQSxJQUFBb3RFLFlBQUEsT0FBQWgrRSxPQUFBMFEsU0FBQXNJLGFBQUE5TixXQUFBaUIsT0FBQSxTQUFBb2QsTUFBQSxNQUFBQSxNQUFBeFEsV0FBQS9ZLE9BQUEwUSxTQUFBc0ksZUFBQSxLQUNBaFosUUFBQThZLFVBQUExWCxTQUFBNDhFLFdBQUE5a0UsTUFBQThrRSxXQUFBOWtFLE1BQUEsSUFBQThrRSxXQUFBN2tFLE1BQUEsR0FDQTdOLEtBQUFnUCxRQUFBdlksR0FBQS9CLE9BQUE0OUUsU0FBQWxvRSxTQUFBMVYsT0FBQTQ5RSxVQUFBbnVFLFNBQUE1TixLQUFBLFNBQUEwWSxjQUNBN1EsT0FBQStNLFFBQUEsZ0JBQ0E4RCxhQUFBMUQsY0FBQXNuRSxTQUNBbitFLE9BQUE2TyxNQUFBMEwsYUFDQXZhLE9BQUE2TyxNQUFBaUosU0FBQWpNLGFBQUFNLE9BQUEsU0FBQTRMLElBQUEsTUFBQUEsSUFBQXZMLGFBQUF4TSxPQUFBNk8sTUFBQXJDLGNBQUEsR0FBQXdMLFNBQ0FoWSxPQUFBNk8sTUFBQW1ILFVBQUEsR0FBQTVGLE1BQUFwUSxPQUFBNk8sTUFBQW1ILFdBQ0E1VSxTQUFBcEIsT0FBQTZPLE1BQUF1SCxhQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUFBLEdBQUFoRyxNQUFBcFEsT0FBQTZPLE1BQUF1SCxhQUNBcFcsT0FBQTQ5RSxZQUFBNTlFLE9BQUFrK0UsVUFDQWwrRSxPQUFBd0csS0FBQWkzRSxRQUFBLFNBQ0F6OUUsT0FBQXlWLGtCQUFBLEdBQ0EsU0FBQXpVLGVBQ0FoQixPQUFBeVYsa0JBQUEsRUFDQS9MLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHNCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHNCQUFBTyxjQUFBNEksZUFFQSxTQUFBNUksZUFDQWhCLE9BQUF5VixrQkFBQSxFQUNBL0wsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsa0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esa0NBQUFPLGNBQUE0SSxpQkFPQTVKLE9BQUF1VixlQUFBLFdBQ0FyVixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQVgsT0FBQXlWLGtCQUFBLENBQ0EsSUFBQXpHLFlBQ0FDLFlBQ0F5RyxRQUFBMVYsT0FBQTZPLE1BQUE2RyxRQUNBQyxLQUFBM1YsT0FBQTZPLE1BQUE4RyxLQUNBQyxZQUFBNVYsT0FBQTZPLE1BQUErRyxZQUNBQyxnQkFBQTdWLE9BQUE2TyxNQUFBZ0gsZ0JBQ0FDLFlBQUE5VixPQUFBNk8sTUFBQWlILFlBQ0FDLGFBQUEvVixPQUFBNk8sTUFBQWtILGFBQ0FDLFVBQUFoVyxPQUFBNk8sTUFBQW1ILFVBQ0FDLE9BQUFqVyxPQUFBNk8sTUFBQW9ILE9BQ0FqVSxRQUFBaEMsT0FBQTZPLE1BQUE3TSxRQUNBd0ssWUFBQXhNLE9BQUE2TyxNQUFBckMsWUFDQTBKLFVBQUFsVyxPQUFBNk8sTUFBQXFILFVBQ0EvUCxLQUFBbkcsT0FBQTZPLE1BQUExSSxLQUNBZ1EsYUFBQW5XLE9BQUE2TyxNQUFBc0gsYUFDQTlKLGNBQUFyTSxPQUFBNk8sTUFBQXhDLGNBQ0ErSixXQUFBcFcsT0FBQTZPLE1BQUF1SCxXQUNBQyxRQUFBclcsT0FBQTZPLE1BQUF3SCxRQUNBQyxtQkFBQXRXLE9BQUE2TyxNQUFBeUgsb0JBRUF4SCxLQUFBMU4sU0FBQXBCLE9BQUE2TyxNQUFBMkcsTUFBQXhWLE9BQUE2TyxNQUFBMkcsTUFBQXhWLE9BQUE2TyxNQUFBQyxNQUdBSyxHQUFBLEdBQUFDLFNBQ0FELElBQUFwUSxPQUFBLGFBQUFzUSxLQUFBQyxVQUFBTixVQUFBQyxhQUNBRSxHQUFBcFEsT0FBQSxPQUFBaVEsVUFBQUYsTUFFQXhELEtBQUFpTCxXQUFBcEgsSUFBQU0sU0FBQTVOLEtBQUEsU0FBQTJVLFdBQ0E5TSxPQUFBK00sUUFBQSxpQkFDQXpXLE9BQUEwVyxJQUFBMVcsT0FBQXVOLFVBQUEsVUFBQXZOLE9BQUE2TyxNQUFBNkcsUUFBQSxRQUFBaEwsV0FBQTJLLFdBQ0EzSyxXQUFBaU0sV0FDQTNXLE9BQUFvVixNQUFBMUssV0FBQTJLLFdBQ0FyVixPQUFBNk8sTUFBQThHLEtBQUFhLFVBQUFiLEtBQ0EzVixPQUFBNk8sTUFBQTFJLEtBQUFxUSxVQUFBclEsS0FJQW5HLE9BQUE0VyxRQUZBeFYsU0FBQXBCLE9BQUE2TyxNQUFBMkcsTUFDQXhWLE9BQUE2TyxNQUFBMkcsTUFBQWxDLEtBQUFwSixRQUFBLFNBQUEsSUFDQSxHQUVBLEVBRUFsSyxPQUFBNk8sTUFBQUMsS0FBQXdFLEtBQUFwSixRQUFBLFNBQUEsSUFDQSxHQUVBLEVBR0E5SSxTQUFBcEIsT0FBQTZPLE1BQUEyRyxRQUNBeFYsT0FBQTZPLE1BQUFDLEtBQUE5TyxPQUFBNk8sTUFBQTJHLE1BQ0F4VixPQUFBNk8sTUFBQTJHLE1BQUFwVSxRQUlBcEIsT0FBQXlWLGtCQUFBLEVBQ0F6VixPQUFBc1YsZ0JBQUEsR0FDQSxTQUFBdFUsZUFDQWhCLE9BQUF5VixrQkFBQSxFQUNBL0wsT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsc0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esc0JBQUFPLGNBQUE0SSxlQUtBNUosT0FBQXdhLFdBQUEsV0FDQSxHQUFBQyxxQkFBQXJhLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsbUJBQ0E0QixLQUFBLEtBQ0FxTyxTQUNBNkssYUFBQSxXQUNBLE1BQUE3YSxRQUFBNk8sT0FFQWlNLEtBQUEsV0FDQSxNQUFBLFVBS0FMLHFCQUFBN1ksT0FBQUMsS0FBQSxTQUFBa1osY0FDQTdhLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0FxRixLQUFBQSxXQUFBdkosR0FBQWdaLGFBQUFyRixVQUFBakcsU0FBQTVOLEtBQUEsV0FDQTZILE9BQUErTSxRQUFBLGVBQ0EsSUFBQXNJLFdBQUEsS0FBQSxVQUNBdmQsbUJBQUFFLE1BQUFxZCxXQUNBLFNBQUEvZCxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0JBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0JBQUFPLGNBQUE0SSxpQkFNQTVKLE9BQUFvK0UsY0FBQSxXQUNBcCtFLE9BQUF3RyxLQUFBaTNFLFFBQUEsT0FDQXo5RSxPQUFBNDlFLFNBQUFoZ0YsUUFBQStaLEtBQUEzWCxPQUFBNk8sT0FDQTdPLE9BQUFrK0UsT0FBQXRnRixRQUFBK1osS0FBQTNYLE9BQUEwUSxVQUNBMVEsT0FBQTY5RSxXQUFBamdGLFFBQUErWixLQUFBM1gsT0FBQTBYLFVBRUExWCxPQUFBcStFLGVBQUEsV0FDQXIrRSxPQUFBd0csS0FBQWkzRSxRQUFBLFNBQ0F6OUUsT0FBQTQ5RSxZQUNBNTlFLE9BQUFrK0UsVUFDQWwrRSxPQUFBNjlFLGVBR0E3OUUsT0FBQXdwQixVQUFBLFdBRUEsR0FBQUMsUUFBQXpwQixPQUFBMFEsU0FDQWdaLGFBQUF0cEIsVUFBQW1CLE1BQ0F6QixTQUFBLHdVQUdBQyxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sUUFBQSxXQUVBL1AsT0FBQTJwQixVQUFBLFdBRUFub0Isa0JBQUFFLE1BQUErbkIsV0FHQTluQixLQUFBLE1BRUErbkIsY0FBQTluQixPQUFBQyxLQUFBLFNBQUFnWCxJQUNBM1ksTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQW9GLFVBQUFtZSxXQUFBem5CLEdBQUE4VyxHQUFBMUMsZUFBQTFHLFNBQUE1TixLQUFBLFNBQUFnYSxrQkFDQWhELEdBQUFpRCxZQUFBRCxpQkFBQUMsWUFDQTliLE9BQUEwUSxTQUFBbUksR0FDQW5QLE9BQUErTSxRQUFBLHNCQUNBelcsT0FBQWtwQixhQUFBRSxhQUFBLEdBQUFoWixNQUFBeUwsaUJBQUF3TixlQUNBcnBCLE9BQUFrcEIsYUFBQUksT0FBQXBlLFdBQUFpQixPQUFBLFNBQUFvZCxNQUFBLE1BQUFBLE1BQUF4USxXQUFBOEMsaUJBQUE5QyxZQUFBLElBQ0EsU0FBQS9YLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSw4QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSw4QkFBQU8sY0FBQTRJLGVBRUEsZUFNQTVKLE9BQUE0cEIsWUFBQSxXQUVBLEdBQUFILFFBQUF6cEIsT0FBQTBRLFNBQ0FtWixlQUFBenBCLFVBQUFtQixNQUNBekIsU0FBQSxtVkFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLFFBQUEsV0FFQS9QLE9BQUE4cEIsWUFBQSxXQUVBdG9CLGtCQUFBRSxNQUFBK25CLFdBR0E5bkIsS0FBQSxNQUVBa29CLGdCQUFBam9CLE9BQUFDLEtBQUEsU0FBQWdYLElBQ0EzWSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBb0YsVUFBQXVlLGFBQUE3bkIsR0FBQThXLEdBQUExQyxlQUFBMUcsU0FBQTVOLEtBQUEsV0FDQWdYLEdBQUFpRCxZQUFBLEtBQ0E5YixPQUFBMFEsU0FBQW1JLEdBQ0FuUCxPQUFBK00sUUFBQSx3QkFDQXpXLE9BQUFrcEIsaUJBQ0EsU0FBQWxvQixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsZ0NBQUFPLGNBQUFQLFNBQUEscUJBQ0EsZ0NBQUFPLGNBQUE0SSxlQUVBLHFCQ25lQSxXQUVBLFlBRUEsSUFBQWpNLGdCQUFBQyxRQUFBQyxPQUFBLGlCQUVBRixnQkFBQW9DLFdBQUEsWUFBQSxTQUFBLGFBQUEsV0FBQSxZQUFBLFNBQUEsUUFBQSxhQUFBLGFBQUEsYUFBQSxjQUFBLHFCQUFBLFlBQUEsVUFBQSxXQUFBLFdBQUEsZ0JBQUEsZUFBQSxjQUFBLGtCQUFBLGNBQUEsZUFBQSxPQUFBLFlBQUEsU0FBQSxTQUFBLE9BQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUFDLFVBQUEvRixPQUFBQyxNQUFBdUssV0FBQUMsV0FBQUcsV0FBQXEvRCxZQUFBbDlDLG1CQUFBNXNCLFVBQUF5a0IsUUFBQTFnQixTQUFBNG9CLFNBQUF1eEQsY0FBQTl3RCxhQUFBTCxZQUFBRixnQkFBQXV2QyxZQUFBeU4sYUFBQTMrRCxLQUFBRCxVQUFBb2lCLE9BQUFsaUIsT0FBQXBMLE1BQ0EsR0FBQWlCLFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxZQUNBakcsT0FBQWtHLE1BQUEsRUFDQUYsVUFBQUcsS0FBQSxjQUNBLENBRUFuRyxPQUFBdU4sVUFBQTlDLFdBQ0F6SyxPQUFBb1YsTUFBQTFLLFdBQUEySyxXQUNBdlAsV0FBQW92QixJQUFBLGVBQUEsU0FBQWh6QixNQUFBb0ksSUFDQXRLLE9BQUFvVixNQUFBOUssS0FHQXRLLE9BQUF5OUIsU0FBQXdzQyxhQUNBanFFLE9BQUF1K0UsWUFBQXR4RCxlQUVBLEtBQUEsR0FBQTdnQixJQUFBLEVBQUFBLEdBQUFreUUsY0FBQTU0RSxPQUFBMEcsS0FBQSxDQUNBLEdBQUFveUUsZUFBQSxFQU9BLElBTkFGLGNBQUFseUUsSUFBQTZKLE9BQUEsR0FBQSxPQUFBcW9FLGNBQUFseUUsSUFBQTZKLFNBQ0F1b0UsY0FBQSxZQUVBRixjQUFBbHlFLElBQUErSixhQUFBLEdBQUEsT0FBQW1vRSxjQUFBbHlFLElBQUErSixlQUNBcW9FLGNBQUEsaUJBRUFGLGNBQUFseUUsSUFBQUMsY0FBQSxHQUFBLE9BQUFpeUUsY0FBQWx5RSxJQUFBQyxjQUFBLENBQ0FteUUsY0FBQSxhQUNBLElBQUFDLFNBQUF4eEQsZ0JBQUE5Z0IsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBa0wsZUFBQWl5RSxjQUFBbHlFLElBQUFDLGdCQUFBLEVBQ0FpeUUsZUFBQWx5RSxJQUFBc3lFLFNBQUFELFFBQUFFLGNBRUFMLGNBQUFseUUsSUFBQWtLLG1CQUFBLEdBQUEsT0FBQWdvRSxjQUFBbHlFLElBQUFrSyxxQkFDQWtvRSxjQUFBLHVCQUNBRixjQUFBbHlFLElBQUFzeUUsU0FBQWxpQixZQUFBcndELE9BQUEsU0FBQTRXLElBQUEsTUFBQUEsSUFBQXpNLG9CQUFBZ29FLGNBQUFseUUsSUFBQWtLLHFCQUFBLEdBQUFYLE1BRUEsS0FBQTZvRSxnQkFBQUEsY0FBQSxhQUNBRixjQUFBbHlFLElBQUF5SyxjQUFBMm5FLGNBRUEzekUsV0FBQW9NLGdCQUFBcW5FLGVBQ0F0K0UsT0FBQTQrRSxVQUFBL3pFLFdBQUFvQixrQkFFQWpNLE9BQUF1M0IsaUJBQ0EsS0FBQSxHQUFBcDJCLEdBQUEsRUFBQUEsRUFBQW5CLE9BQUE0K0UsVUFBQWw1RSxPQUFBdkUsSUFBQSxDQUNBLEdBQUEwOUUsTUFBQTcrRSxPQUFBNCtFLFVBQUF6OUUsR0FBQXdVLEtBQUF6TCxRQUFBLEtBQ0E0MEUsVUFBQTkrRSxPQUFBNCtFLFVBQUF6OUUsR0FBQXdVLEtBQUF5QyxVQUFBeW1FLEtBQUEsSUFDQSxNQUFBLE1BQUEsT0FBQSxPQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEzMEUsUUFBQTQwRSxXQUFBLElBQ0E5K0UsT0FBQXUzQixlQUFBNTBCLEtBQUEzQyxPQUFBNCtFLFVBQUF6OUUsSUFHQW5CLE9BQUFrMUIsSUFBQSxtQkFBQSxTQUFBaHpCLE1BQUE2OEUsV0FDQS8rRSxPQUFBeTlCLFNBQUF5c0MsWUFBQThVLGlCQUFBaC9FLE9BQUF1K0UsWUFBQXZ4RCxtQkFBQWl5RCxvQkFFQWovRSxPQUFBNCtFLFVBQUFHLFVBQUE1eUUsT0FBQSxTQUFBd0ksR0FBQSxNQUFBLGFBQUFBLEVBQUFrQyxlQUFBLHdCQUFBbEMsRUFBQWtDLGdCQUNBalosUUFBQXlNLFFBQUFySyxPQUFBNCtFLFVBQUEsU0FBQXh5RSxJQUNBLHdCQUFBQSxHQUFBeUssZ0JBQ0F6SyxHQUFBc3lFLFNBQUFsaUIsWUFBQXJ3RCxPQUFBLFNBQUE0VyxJQUFBLE1BQUFBLElBQUF6TSxvQkFBQWxLLEdBQUFrSyxxQkFBQSxHQUFBWCxPQUlBLElBQUF1cEUsVUFBQUgsVUFBQTV5RSxPQUFBLFNBQUFnekUsUUFBQSxNQUFBLFlBQUFBLE9BQUF0b0UsZ0JBQ0F1b0UsVUFBQUwsVUFBQTV5RSxPQUFBLFNBQUFrekUsS0FBQSxNQUFBQSxLQUFBaHpFLGNBQUEsR0FBQSxPQUFBZ3pFLElBQUFoekUsZUFFQSxJQUFBakwsU0FBQTJFLFNBQUFFLElBQUEsa0JBQ0EsSUFBQSxHQUFBcTVFLEtBQUEsRUFBQUEsSUFBQUosU0FBQXg1RSxPQUFBNDVFLE1BQ0EsSUFBQSxHQUFBQyxNQUFBLEVBQUFBLEtBQUF2L0UsT0FBQXk5QixTQUFBLzNCLE9BQUE2NUUsT0FDQUwsU0FBQUksS0FBQXJwRSxRQUFBalcsT0FBQXk5QixTQUFBOGhELE1BQUF0cEUsUUFBQWpXLE9BQUF5OUIsU0FBQThoRCxNQUFBamhFLFVBQUF2WSxTQUFBRSxJQUFBLG1CQUNBakcsT0FBQTQrRSxVQUFBajhFLEtBQUF1OEUsU0FBQUksVUFJQSxLQUFBLEdBQUEveUUsSUFBQSxFQUFBQSxHQUFBMnlFLFNBQUF4NUUsT0FBQTZHLEtBQ0EsSUFBQSxHQUFBbXBELEtBQUEsRUFBQUEsSUFBQTExRCxPQUFBeTlCLFNBQUEvM0IsT0FBQWd3RCxNQUNBd3BCLFNBQUEzeUUsSUFBQTBKLFFBQUFqVyxPQUFBeTlCLFNBQUFpNEIsS0FBQXovQyxRQUNBalcsT0FBQTQrRSxVQUFBajhFLEtBQUF1OEUsU0FBQTN5RSxJQUtBLElBQUFuTCxTQUFBMkUsU0FBQUUsSUFBQSxrQkFDQSxJQUFBLEdBQUF1NUUsS0FBQSxFQUFBQSxJQUFBSixVQUFBMTVFLE9BQUE4NUUsTUFDQSxJQUFBLEdBQUFDLE9BQUEsRUFBQUEsTUFBQXovRSxPQUFBdStFLFlBQUE3NEUsT0FBQSs1RSxRQUNBTCxVQUFBSSxLQUFBbnpFLGVBQUFyTSxPQUFBdStFLFlBQUFrQixPQUFBcHpFLGVBQUFyTSxPQUFBdStFLFlBQUFrQixPQUFBbmhFLFVBQUF2WSxTQUFBRSxJQUFBLG9CQUNBbTVFLFVBQUFJLEtBQUFkLFNBQUExK0UsT0FBQXUrRSxZQUFBa0IsT0FBQWQsY0FDQTMrRSxPQUFBNCtFLFVBQUFqOEUsS0FBQXk4RSxVQUFBSSxXQUtBLEtBQUEsR0FBQXB6RSxJQUFBLEVBQUFBLEdBQUFnekUsVUFBQTE1RSxPQUFBMEcsS0FDQSxJQUFBLEdBQUFxYSxNQUFBLEVBQUFBLEtBQUF6bUIsT0FBQXUrRSxZQUFBNzRFLE9BQUErZ0IsT0FDQTI0RCxVQUFBaHpFLElBQUFDLGVBQUFyTSxPQUFBdStFLFlBQUE5M0QsTUFBQXBhLGdCQUNBK3lFLFVBQUFoekUsSUFBQXN5RSxTQUFBMStFLE9BQUF1K0UsWUFBQTkzRCxNQUFBazRELGNBQ0EzK0UsT0FBQTQrRSxVQUFBajhFLEtBQUF5OEUsVUFBQWh6RSxLQU1BcE0sUUFBQXUzQixrQkFDQTM1QixRQUFBeU0sUUFBQXJLLE9BQUE0K0UsVUFBQSxTQUFBeHlFLElBQ0EsR0FBQXl5RSxNQUFBenlFLEdBQUF1SixLQUFBekwsUUFBQSxLQUNBNDBFLFVBQUExeUUsR0FBQXVKLEtBQUF5QyxVQUFBeW1FLEtBQUEsSUFDQSxNQUFBLE1BQUEsT0FBQSxPQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEzMEUsUUFBQTQwRSxXQUFBLElBQ0E5K0UsT0FBQXUzQixlQUFBNTBCLEtBQUF5SixRQUdBLEdBR0FwTSxPQUFBUixPQUFBLFdBQUEsTUFBQXVHLFVBQUFFLElBQUEscUJBQUEsU0FBQXhHLFVBR0EsR0FGQU8sT0FBQSt3QixpQkFBQTN2QixTQUFBM0IsU0FBQUEsU0FBQSxhQUNBTyxPQUFBZ3hCLG1CQUFBLGNBQUFoeEIsT0FBQSt3QixrQkFBQSxHQUFBLEVBQ0EzdkIsU0FBQTNCLFNBQUEsQ0FDQU8sT0FBQXk5QixTQUFBeXNDLFlBQUE4VSxpQkFBQWgvRSxPQUFBdStFLFlBQUF2eEQsbUJBQUFpeUQsb0JBRUFqL0UsT0FBQTQrRSxVQUFBL3pFLFdBQUFvQixrQkFBQUUsT0FBQSxTQUFBd0ksR0FBQSxNQUFBLGFBQUFBLEVBQUFrQyxlQUFBLHdCQUFBbEMsRUFBQWtDLGdCQUNBalosUUFBQXlNLFFBQUFySyxPQUFBNCtFLFVBQUEsU0FBQXh5RSxJQUNBLHdCQUFBQSxHQUFBeUssZ0JBQ0F6SyxHQUFBc3lFLFNBQUFsaUIsWUFBQXJ3RCxPQUFBLFNBQUE0VyxJQUFBLE1BQUFBLElBQUF6TSxvQkFBQWxLLEdBQUFrSyxxQkFBQSxHQUFBWCxNQUVBM1YsT0FBQXUzQixpQkFDQSxJQUFBc25ELE1BQUF6eUUsR0FBQXVKLEtBQUF6TCxRQUFBLEtBQ0E0MEUsVUFBQTF5RSxHQUFBdUosS0FBQXlDLFVBQUF5bUUsS0FBQSxJQUNBLE1BQUEsTUFBQSxPQUFBLE9BQUEsTUFBQSxNQUFBLE1BQUEsT0FBQTMwRSxRQUFBNDBFLFdBQUEsSUFDQTkrRSxPQUFBdTNCLGVBQUE1MEIsS0FBQXlKLEtBS0EsS0FBQSxHQUhBOHlFLFVBQUFyMEUsV0FBQW9CLGtCQUFBRSxPQUFBLFNBQUFnekUsUUFBQSxNQUFBLFlBQUFBLE9BQUF0b0UsZ0JBQ0F1b0UsVUFBQXYwRSxXQUFBb0Isa0JBQUFFLE9BQUEsU0FBQWt6RSxLQUFBLE1BQUFBLEtBQUFoekUsY0FBQSxHQUFBLE9BQUFnekUsSUFBQWh6RSxnQkFFQUUsR0FBQSxFQUFBQSxHQUFBMnlFLFNBQUF4NUUsT0FBQTZHLEtBQ0EsSUFBQSxHQUFBbXBELEtBQUEsRUFBQUEsSUFBQTExRCxPQUFBeTlCLFNBQUEvM0IsT0FBQWd3RCxNQUNBd3BCLFNBQUEzeUUsSUFBQTBKLFFBQUFqVyxPQUFBeTlCLFNBQUFpNEIsS0FBQXovQyxRQUFBalcsT0FBQXk5QixTQUFBaTRCLEtBQUFwM0MsVUFBQXZZLFNBQUFFLElBQUEsbUJBQ0FqRyxPQUFBNCtFLFVBQUFqOEUsS0FBQXU4RSxTQUFBM3lFLElBSUEsS0FBQSxHQUFBSCxJQUFBLEVBQUFBLEdBQUFnekUsVUFBQTE1RSxPQUFBMEcsS0FDQSxJQUFBLEdBQUFxYSxNQUFBLEVBQUFBLEtBQUF6bUIsT0FBQXUrRSxZQUFBNzRFLE9BQUErZ0IsT0FDQTI0RCxVQUFBaHpFLElBQUFDLGVBQUFyTSxPQUFBdStFLFlBQUE5M0QsTUFBQXBhLGVBQUFyTSxPQUFBdStFLFlBQUE5M0QsTUFBQW5JLFVBQUF2WSxTQUFBRSxJQUFBLG9CQUNBbTVFLFVBQUFoekUsSUFBQXN5RSxTQUFBMStFLE9BQUF1K0UsWUFBQTkzRCxNQUFBazRELGNBQ0EzK0UsT0FBQTQrRSxVQUFBajhFLEtBQUF5OEUsVUFBQWh6RSxVQUtBcE0sUUFBQTQrRSxVQUFBL3pFLFdBQUFvQixvQkFFQSxHQUdBak0sT0FBQWtYLGVBQUEsU0FBQUMsT0FDQS9XLFVBQUFtQixNQUNBekIsU0FBQSxzUEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxTQUVBMUIsT0FBQW9YLFFBQUFELE1BQ0FuWCxPQUFBcVgsT0FBQTVNLFdBQUEsVUFBQXpLLE9BQUFvWCxRQUFBLFVBRUF6VixLQUFBLFFBS0EzQixPQUFBMC9FLGNBQUEsU0FBQUMsYUFDQSxHQUFBQyxlQUFBNS9FLE9BQUE0K0UsVUFBQTEwRSxRQUFBeTFFLFlBRUEzL0UsUUFBQTYvRSxjQUFBcnlELGFBQUFyaEIsT0FBQSxTQUFBNEwsSUFDQSxNQUFBLFVBQUFBLEdBQUFDLFVBQUEsc0JBQUFELEdBQUFDLFVBQUEsaUJBQUFELEdBQUFDLFVBQ0EsZ0JBQUFELEdBQUFDLFVBQUEsZ0JBQUFELEdBQUFDLFVBQUEsVUFBQUQsR0FBQUMsVUFBQSxTQUFBRCxHQUFBQyxVQUFBLFdBQUFELEdBQUFDLFVBQ0EsOEJBQUFELEdBQUFDLFdBRUFoWSxPQUFBd3FFLGFBQUFoOUMsYUFBQXJoQixPQUFBLFNBQUFzK0QsS0FDQSxNQUFBLFVBQUFBLElBQUF6eUQsVUFBQSxzQkFBQXl5RCxJQUFBenlELFVBQUEsaUJBQUF5eUQsSUFBQXp5RCxVQUNBLGdCQUFBeXlELElBQUF6eUQsVUFBQSxVQUFBeXlELElBQUF6eUQsVUFBQSxTQUFBeXlELElBQUF6eUQsVUFBQSxXQUFBeXlELElBQUF6eUQsV0FFQWhZLE9BQUE4L0UsZ0JBQUF0eUQsYUFBQXJoQixPQUFBLFNBQUF5aUIsS0FDQSxNQUFBLFVBQUFBLElBQUE1VyxVQUFBLFNBQUE0VyxJQUFBNVcsVUFBQSxzQkFBQTRXLElBQUE1VyxVQUFBLGlCQUFBNFcsSUFBQTVXLFVBQ0EsZ0JBQUE0VyxJQUFBNVcsVUFBQSxVQUFBNFcsSUFBQTVXLFVBQUEsU0FBQTRXLElBQUE1VyxVQUFBLFdBQUE0VyxJQUFBNVcsV0FFQWhZLE9BQUE2OEQsWUFBQXJ2QyxhQUFBcmhCLE9BQUEsU0FBQTJ3RCxLQUNBLE1BQUEsVUFBQUEsSUFBQTlrRCxVQUFBLGlCQUFBOGtELElBQUE5a0QsVUFBQSxnQkFBQThrRCxJQUFBOWtELFVBQ0EsVUFBQThrRCxJQUFBOWtELFVBQUEsa0JBQUE4a0QsSUFBQTlrRCxVQUFBLFdBQUE4a0QsSUFBQTlrRCxVQUlBLElBQUE0WCxlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxJQUFBK2tFLFlBQUEsaUJBQUEsdUJBQ0E1L0UsV0FBQSxvQkFDQTRCLEtBQUEsS0FDQStZLFNBQUEsU0FDQUMsVUFBQSxFQUNBa1YsWUFBQSxhQUNBN2YsU0FDQXN0RSxXQUFBLFdBQ0EsTUFBQSxLQUFBcUMsWUFDQXIwRSxLQUFBc00sYUFBQTdWLEdBQUE0OUUsWUFBQWpxRSxVQUFBakcsU0FEQSxRQUdBNUQsYUFBQSxXQUNBLEdBQUEsSUFBQTh6RSxZQWNBLE1BQUEzL0UsUUFBQTYvRSxhQWJBLFFBQUFGLFlBQUE5b0UsZUFDQSxJQUFBLFdBQ0EsTUFBQTdXLFFBQUF3cUUsWUFDQSxLQUFBLGdCQUNBLE1BQUF4cUUsUUFBQTgvRSxlQUNBLEtBQUEsY0FDQSxNQUFBOS9FLFFBQUE4L0UsZUFDQSxLQUFBLHVCQUNBLE1BQUE5L0UsUUFBQTY4RCxXQUNBLEtBQUEsWUFDQSxNQUFBNzhELFFBQUE2L0UsZ0JBTUFqMUUsV0FBQSxXQUNBLE1BQUF1aUIsY0FFQWt3RCxTQUFBLFdBQ0EsTUFBQSxLQUFBc0MsWUFDQUEsWUFEQSxRQUdBbkMsU0FBQSxXQUNBLE1BQUFyOUUsTUFBQW1ZLE9BQUF2VyxHQUFBZ3JCLFNBQUEvcUIsVUFBQXlOLFVBRUF2RSxXQUFBLFdBR0EsTUFGQWhMLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOHNCLE9BQUFzQyxTQUFBdGdCLFVBRUE4dEUsV0FBQSxXQUNBLE1BQUEsS0FBQW9DLGFBQ0F2K0UsU0FBQXUrRSxZQUFBenBFLFVBQ0EzSyxPQUFBK00sT0FBQXZXLEdBQUE0OUUsWUFBQXpwRSxZQUFBekcsU0FGQSxRQUtBZ21ELFNBQUEsV0FDQSxNQUFBLEtBQUFrcUIsYUFDQXYrRSxTQUFBdStFLFlBQUF4cEUsYUFDQTlLLFVBQUFpTixPQUFBdlcsR0FBQTQ5RSxZQUFBeHBFLGVBQUExRyxTQUZBLFVBT0FtZ0IsZUFBQWh1QixPQUFBQyxLQUFBLFNBQUErdkUsYUFFQSxXQUFBQSxZQUFBLEtBQ0E1eEUsT0FBQTQrRSxVQUFBajhFLEtBQUFpdkUsWUFBQSxJQUNBL21FLFdBQUFvTSxnQkFBQWpYLE9BQUE0K0UsWUFFQXg5RSxTQUFBd3dFLFlBQUEsS0FFQTV4RSxPQUFBNCtFLFVBQUFnQixlQUFBaE8sWUFDQS9tRSxXQUFBb00sZ0JBQUFqWCxPQUFBNCtFLFdBQ0E1K0UsT0FBQW9WLE1BQUExSyxXQUFBMkssWUFFQSxXQUFBdThELFlBQUEsS0FDQTV4RSxPQUFBNCtFLFVBQUF6MEUsT0FBQXkxRSxjQUFBLEdBQ0EvMEUsV0FBQW9NLGdCQUFBalgsT0FBQTQrRSxzQkMxUUEsV0FFQSxZQUVBLElBQUFyMEUsa0JBQUEzTSxRQUFBQyxPQUFBLG1CQUNBME0sa0JBQUF4SyxXQUFBLHlCQUFBLFNBQUEsYUFBQSxXQUFBLG9CQUFBLFlBQUEsZ0JBQUEsWUFBQSxRQUNBLFNBQUFDLE9BQUE4RixXQUFBQyxTQUFBdkUsa0JBQUF1akIsVUFBQThvQixjQUFBaEssVUFBQWk2QixPQUNBOTlELE9BQUErL0UsVUFBQWg3RCxVQUNBL2tCLE9BQUFnZ0YsY0FBQW55QyxjQUNBN3RDLE9BQUEweEIsVUFBQW1TLFNBQ0EsSUFBQW84QyxVQUFBbDZFLFNBQUFFLElBQUEsaUJBQ0FqRyxRQUFBa0MsT0FBQWcrRSxZQUFBOStFLFNBQUE2K0UsU0FBQS8zRSxPQUFBKzNFLFVBQUEsSUFHQWpnRixPQUFBbWdGLGFBQUEsV0FFQSxHQUFBN2dGLEdBQUEsT0FBQVUsT0FBQWtDLE1BQUFrK0UsTUFBQWgvRSxTQUFBcEIsT0FBQWtDLE1BQUFrK0UsS0FBQXBnRixPQUFBa0MsTUFBQWsrRSxLQUFBLEtBQ0EzL0QsRUFBQSxPQUFBemdCLE9BQUFrQyxNQUFBb1IsTUFBQWxTLFNBQUFwQixPQUFBa0MsTUFBQW9SLEtBQUF0VCxPQUFBa0MsTUFBQW9SLEtBQUEsRUFDQW5TLEVBQUEsT0FBQW5CLE9BQUFrQyxNQUFBbUcsT0FBQWpILFNBQUFwQixPQUFBa0MsTUFBQW1HLE1BQUFySSxPQUFBa0MsTUFBQW1HLE1BQUEsSUFDQXkxRCxPQUFBdWlCLG1CQUFBandFLEtBQUE5USxFQUFBZ2hGLEtBQUE3L0QsRUFBQXJYLE1BQUFqSSxJQUFBc08sU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0F0SixPQUFBKy9FLFVBQUF6MkUsVUFDQSxTQUFBdEksZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksZUFJQTVKLE9BQUFvSyxhQUFBLFdBQ0FwSyxPQUFBa0MsT0FBQWcrRSxZQUFBOStFLFNBQUE2K0UsU0FBQS8zRSxPQUFBKzNFLFVBQUEsSUFDQWpnRixPQUFBKy9FLFVBQUFoN0QsV0FHQS9rQixPQUFBdWdGLFNBQUEsV0FFQSxHQURBdmdGLE9BQUErSixLQUFBL0osT0FBQWtDLE1BQUFnK0UsWUFDQSxLQUFBbGdGLE9BQUErSixLQUFBLENBQ0EsR0FBQXkyRSxXQUFBejdELFVBQUE1WSxPQUFBLFNBQUFpakIsR0FBQSxNQUFBQSxHQUFBOVEsVUFBQXRlLE9BQUErSixPQUFBLEVBQ0FoRSxVQUFBMnJELElBQUEsaUJBQUExeEQsT0FBQStKLE1BQ0FoRSxTQUFBMnJELElBQUEsbUJBQUE4dUIsVUFBQWppRSxZQUVBelksV0FBQWMsYUFBQSxrQkFBQTQ1RSxVQUFBamlFLFdBQUEsSUFDQS9jLGtCQUFBdU8sUUFBQSxjQUVBckcsUUFBQUMsTUFBQSxvQ0FLQTNKLE9BQUF5Z0YsV0FBQSxXQUNBemdGLE9BQUFrQyxTQUNBNkQsU0FBQWszRSxPQUFBLGtCQUNBbDNFLFNBQUFrM0UsT0FBQSxvQkFDQW4zRSxXQUFBYyxhQUFBLEdBQ0FwRixrQkFBQXVPLFFBQUEsV0FJQS9QLE9BQUFpVixjQUNBalYsT0FBQXVCLEtBQUEsU0FBQTJULE9BQUEvUyxPQUNBK1MsT0FBQTNTLGlCQUNBMlMsT0FBQUMsa0JBRUFuVixPQUFBaVYsV0FBQTlTLFFBQUEsR0FJQW5DLE9BQUEwQixNQUFBLFdBQ0FGLGtCQUFBdU8sUUFBQSxpQkNsRUEsV0FFQSxZQUVBLElBQUFwUyxnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLG9CQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsWUFBQSxTQUFBLFFBQUEsYUFBQSxRQUNBLFNBQUFDLE9BQUE4RixXQUFBQyxTQUFBM0YsVUFBQTRGLFVBQUEvRixPQUFBNjlELE1BQUFseEIsV0FBQW5ZLE9BQ0F6MEIsT0FBQTBnRixlQUFBLFdBRUEsR0FBQTl3RCxlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxtQkFDQTdhLFdBQUEsd0JBQ0E0QixLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQWtWLFlBQUEsYUFDQTdmLFNBQ0ErVSxVQUFBLFdBQ0EsTUFBQSs0QyxPQUFBL3RDLFNBQUF0Z0IsVUFFQW8rQixjQUFBLFdBQ0EsTUFBQWpCLFlBQUE3YyxTQUFBdGdCLFVBRUFvMEIsVUFBQSxXQUNBLE1BQUFwUCxPQUFBMUUsU0FBQXRnQixZQUlBbWdCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBK2dCLGFDN0JBLFdBQ0EsWUFFQSxJQUFBL2MscUJBQUFqSSxRQUFBQyxPQUFBLHNCQUVBZ0kscUJBQUE5RixXQUFBLGtCQUFBLFNBQUEsYUFBQSxXQUFBLFFBQUEsWUFBQSxvQkFBQSxVQUFBLFlBQUEsZ0JBQ0Esa0JBQUEsWUFBQSxZQUFBLGFBQUEsWUFBQSxjQUFBLFFBQUEsT0FBQSxhQUNBLFNBQUFDLE9BQUE4RixXQUFBQyxTQUFBN0YsTUFBQUUsVUFBQW9CLGtCQUFBcWpCLFFBQUE0NkIsVUFBQXRPLGNBQUF3dkMsZ0JBQUFDLFVBQUFwcEUsVUFBQXFwRSxXQUFBaDlDLFVBQUFDLFlBQ0FnNkIsTUFBQXh5RCxLQUFBYixZQUNBekssT0FBQXVOLFVBQUE5QyxXQUNBekssT0FBQThnRixlQUFBLEdBQ0E5Z0YsT0FBQStnRixlQUFBLE9BQUEsV0FDQS9nRixPQUFBZ2hGLFdBQ0FoaEYsT0FBQWdvRCxXQUFBN1csY0FDQW54QyxPQUFBaWhGLGNBQUFOLGdCQUNBM2dGLE9BQUFraEYsYUFBQU4sVUFDQTVnRixPQUFBdXpELGFBQUF4dEQsU0FBQUUsSUFBQSxhQUNBakcsT0FBQXdHLE1BQUEyNkUsTUFBQSxVQUNBbmhGLE9BQUF5NUQsSUFBQUMsUUFBQSxFQUFBQyxZQUFBLEdBRUEzNUQsT0FBQWlWLGNBQ0FqVixPQUFBdUIsS0FBQSxTQUFBMlQsT0FBQS9TLE9BQ0ErUyxPQUFBM1MsaUJBQ0EyUyxPQUFBQyxrQkFFQW5WLE9BQUFpVixXQUFBOVMsUUFBQSxHQU1BbkMsT0FBQW9oRixZQUFBLFdBQ0FwaEYsT0FBQXdHLEtBQUEyNkUsTUFBQSxPQUNBbmhGLE9BQUFxaEYsT0FBQXpqRixRQUFBK1osS0FBQTNYLE9BQUFnaEYsVUFFQWhoRixPQUFBc2hGLGFBQUEsV0FDQXRoRixPQUFBd0csS0FBQTI2RSxNQUFBLFNBQ0FuaEYsT0FBQXFoRixVQUlBLElBQUEzNUMsV0FBQSxTQUFBcG9DLEdBQ0EsR0FBQXFvQyxPQUFBLEdBQUF2M0IsS0FDQWhQLFVBQUE5QixJQUVBcW9DLE1BQUEsR0FBQXYzQixNQUFBOVEsR0FHQSxJQUFBd1UsTUFBQTZ6QixNQUFBN2xCLGNBQ0FqTyxNQUFBOHpCLE1BQUE1bEIsV0FDQXBPLEtBQUEsSUFBQWcwQixNQUFBMWxCLFdBQUFELE1BQUEsSUFDQTRsQixZQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUNBQyxXQUFBLEdBQUF6M0IsTUFBQXczQixXQUFBL3pCLE9BQUEsSUFBQUYsSUFBQSxLQUFBRyxLQUNBLE9BQUErekIsYUFHQUEsV0FBQSxTQUFBdm9DLEdBQ0EsR0FBQXdVLE1BQUF4VSxFQUFBd2lCLGNBQ0FqTyxNQUFBdlUsRUFBQXlpQixXQUNBcE8sS0FBQSxJQUFBclUsRUFBQTJpQixXQUFBRCxNQUFBLElBQ0E0bEIsWUFBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsTUFDQUMsV0FBQUQsV0FBQS96QixPQUFBLElBQUFGLElBQUEsSUFBQUcsSUFDQSxPQUFBK3pCLFlBRUEsV0FBQTRYLFdBQ0F6L0MsT0FBQXVoRixlQUFBLE9BQ0F2aEYsT0FBQXdoRixjQUFBLG9CQUNBeGhGLE9BQUFnaEYsUUFBQXBqRixRQUFBK1osS0FBQThuQyxXQUNBei9DLE9BQUFnaEYsUUFBQVMsaUJBQUFyZ0YsU0FBQXBCLE9BQUFnaEYsUUFBQVMsaUJBQUEvNUMsVUFBQTFuQyxPQUFBZ2hGLFFBQUFTLGtCQUFBLEdBQ0F6aEYsT0FBQWdoRixRQUFBVSxlQUFBdGdGLFNBQUFwQixPQUFBZ2hGLFFBQUFVLGVBQUFoNkMsVUFBQTFuQyxPQUFBZ2hGLFFBQUFVLGdCQUFBLEtBSUExaEYsT0FBQXVoRixlQUFBLFNBQ0F2aEYsT0FBQWdoRixRQUFBUyxpQkFBQS81QyxZQUlBLElBQUFpNkMsY0FBQSxTQUFBaitELEVBQUFuVCxHQUFBRSxJQUNBLEdBQUEsR0FBQUwsTUFBQUssSUFBQSxHQUFBTCxNQUFBRyxJQUFBLENBQ0FtVCxHQUFBLENBQ0EsSUFBQWhLLFNBQUF0WixVQUFBbUIsTUFDQXpCLFNBQUEsMlFBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQUUsV0FHQUMsS0FBQSxNQUVBK1gsU0FBQTlYLE9BQUFDLEtBQUEsV0FDQTZoQixHQUFBLFNBRUEsS0FBQWpULElBQUEsS0FBQUYsTUFFQW1ULEdBQUEsRUFFQSxPQUFBQSxHQXVHQSxJQXBHQTFqQixPQUFBNjdCLE9BQUEsU0FBQXBpQixPQU1BLEdBSkFyWSxTQUFBcEIsT0FBQWdoRixRQUFBUyxrQkFBQSxPQUFBemhGLE9BQUFnaEYsUUFBQVMsa0JBQ0FyZ0YsU0FBQXBCLE9BQUFnaEYsUUFBQVUsZ0JBQUEsT0FBQTFoRixPQUFBZ2hGLFFBQUFVLGlCQUNBam9FLE1BQUFrb0UsYUFBQWxvRSxNQUFBelosT0FBQWdoRixRQUFBUyxpQkFBQXpoRixPQUFBZ2hGLFFBQUFVLGlCQUVBam9FLE1BQUEsQ0FDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUNBLElBQUFpaEYsZ0JBQ0E5akIsT0FBQTVqRCxLQUFBbGEsT0FBQWdoRixRQUFBLFNBQUExM0UsVUFDQUksT0FBQStNLFFBQUEsaUJBRUFtckUsYUFBQXQ0RSxTQUNBczRFLGFBQUF0akUsU0FBQWhWLFNBQUFnVixTQUNBc2pFLGFBQUF0eEIsS0FBQWhuRCxTQUFBaVYsV0FDQXFqRSxhQUFBdEIsS0FBQXRnRixPQUFBZ29ELFdBQUE3N0MsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBbTVCLGVBQUF2b0MsU0FBQXVvQyxnQkFBQSxHQUFBditCLEtBQ0FzdUUsYUFBQUMsT0FBQTdoRixPQUFBaWhGLGNBQUE5MEUsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBc3VCLGlCQUFBNW5DLFNBQUE0bkMsa0JBQUEsR0FBQTd2QyxNQUNBLElBQUF5Z0YsT0FBQTloRixPQUFBa2hGLGFBQUEvMEUsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQTliLFdBQUF6UCxTQUFBa2tELG9CQUFBLEVBQ0FvMEIsY0FBQUcsVUFBQXo0RSxTQUFBbTRFLGlCQUNBRyxhQUFBSSxRQUFBMTRFLFNBQUFvNEUsZUFDQUUsYUFBQUssTUFBQTdnRixTQUFBMGdGLE1BQUFBLE1BQUE1b0UsTUFBQSxJQUFBNG9FLE1BQUEzb0UsTUFBQSxJQUNBLFNBQUFuWSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNkJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNkJBQUFPLGNBQUE0SSxjQUNBNkYsU0FBQTVOLEtBQUEsV0FDQSxHQUFBa2QsV0FBQTZpRSxhQUFBLFVBQ0FwZ0YsbUJBQUFFLE1BQUFxZCxjQU1BL2UsT0FBQWthLEtBQUEsU0FBQVQsT0FNQSxHQUpBclksU0FBQXBCLE9BQUFxaEYsT0FBQUksa0JBQUEsT0FBQXpoRixPQUFBcWhGLE9BQUFJLGtCQUNBcmdGLFNBQUFwQixPQUFBcWhGLE9BQUFLLGdCQUFBLE9BQUExaEYsT0FBQXFoRixPQUFBSyxpQkFDQWpvRSxNQUFBa29FLGFBQUFsb0UsTUFBQXpaLE9BQUFxaEYsT0FBQUksaUJBQUF6aEYsT0FBQXFoRixPQUFBSztBQUVBam9FLE1BQUEsQ0FDQXZaLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLGtCQUNBLElBQUF1aEYsZ0JBQ0Fwa0IsT0FBQXhqRCxRQUFBdlksR0FBQS9CLE9BQUFxaEYsT0FBQS9pRSxVQUFBdGUsT0FBQXFoRixPQUFBLFNBQUEvM0UsVUFDQTQ0RSxhQUFBNTRFLFNBQ0E0NEUsYUFBQTVqRSxTQUFBaFYsU0FBQWdWLFNBQ0E0akUsYUFBQTV4QixLQUFBaG5ELFNBQUFpVixXQUNBMmpFLGFBQUE1QixLQUFBdGdGLE9BQUFnb0QsV0FBQTc3QyxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFtNUIsZUFBQXZvQyxTQUFBdW9DLGdCQUFBLEdBQUF2K0IsS0FDQTR1RSxhQUFBTCxPQUFBN2hGLE9BQUFpaEYsY0FBQTkwRSxPQUFBLFNBQUF5VyxHQUFBLE1BQUFBLEdBQUFzdUIsaUJBQUE1bkMsU0FBQTRuQyxrQkFBQSxHQUFBN3ZDLE1BQ0EsSUFBQXlnRixPQUFBOWhGLE9BQUFraEYsYUFBQS8wRSxPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBOWIsV0FBQXpQLFNBQUFra0Qsb0JBQUEsRUFDQTAwQixjQUFBSCxVQUFBejRFLFNBQUFtNEUsaUJBQ0FTLGFBQUFGLFFBQUExNEUsU0FBQW80RSxlQUNBUSxhQUFBRCxNQUFBN2dGLFNBQUEwZ0YsTUFBQUEsTUFBQTVvRSxNQUFBLElBQUE0b0UsTUFBQTNvRSxNQUFBLEdBQ0F6UCxPQUFBK00sUUFBQSxrQkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGlCQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHVCQUFBTyxjQUFBNEksY0FDQTZGLFNBQUE1TixLQUFBLFdBQ0EsR0FBQWtkLFdBQUFtakUsYUFBQSxVQUNBMWdGLG1CQUFBRSxNQUFBcWQsY0FLQS9lLE9BQUFtaUYsU0FBQSxTQUFBQyxJQUVBLEdBQUF4eUQsZUFBQXh2QixVQUFBbUIsTUFDQXFaLFlBQUEsbUJBQ0E3YSxXQUFBLG1CQUNBNEIsS0FBQSxLQUNBcU8sU0FDQTZLLGFBQUEsV0FDQSxNQUFBdW5FLEtBRUF0bkUsS0FBQSxXQUNBLE1BQUEsV0FJQThVLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBd2dGLGVBRUFuaUYsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQTYzRCxNQUFBQSxXQUFBLzdELEdBQUFzZ0YsY0FBQS9qRSxVQUFBLFNBQUFoVixVQUNBSSxPQUFBK00sUUFBQSxrQkFDQSxTQUFBelYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLG1CQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHlCQUFBTyxjQUFBNEksY0FDQTZGLFNBQUE1TixLQUFBLFdBQ0FMLGtCQUFBRSxPQUFBLEtBQUEsaUJBTUExQixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUFFLFNBRUFvRSxXQUFBMEQsZ0JBQUFDLGFBQUEsR0FHQSxVQUFBZzJDLFVBQUEsQ0FPQSxHQU5Bei9DLE9BQUFzaUYsZUFBQUMsU0FBQSxHQUFBQyxVQUFBLEdBQUE5dEQsV0FBQSxHQUFBK3RELFNBQUEsR0FBQUMsT0FBQSxJQUVBMWlGLE9BQUEyaUYsa0JBQ0EzaUYsT0FBQTRyRSxlQUNBNXJFLE9BQUE0aUYsZUFFQXhoRixTQUFBeS9FLFdBQ0EsSUFBQSxHQUFBdjJFLElBQUEsRUFBQUEsR0FBQXU1QixVQUFBbitCLE9BQUE0RSxLQUVBLElBQUEsR0FBQTJtQyxJQUFBLEVBQUFBLEdBQUE0dkMsV0FBQW43RSxPQUFBdXJDLEtBQ0E0dkMsV0FBQTV2QyxJQUFBNW9DLE9BQUF3N0IsVUFBQXY1QixJQUFBaEMsZUFDQXRJLE9BQUE0aUYsWUFBQWpnRixLQUFBa2hDLFVBQUF2NUIsS0FDQTJtQyxHQUFBNHZDLFdBQUFuN0UsWUFJQTFGLFFBQUE0aUYsWUFBQS8rQyxTQUVBLEtBQUEsR0FBQWk0QixJQUFBLEVBQUFBLEdBQUEra0IsV0FBQW43RSxPQUFBbzJELEtBQ0E5N0QsT0FBQTJpRixlQUFBbjBFLElBQUEsU0FBQXEwRSxLQUFBLE1BQUFBLEtBQUF4VyxjQUFBbmlFLFFBQUEyMkUsV0FBQS9rQixJQUFBN21DLFFBQUEsR0FDQWoxQixPQUFBMmlGLGVBQUFoZ0YsTUFBQTJGLGFBQUF1NEUsV0FBQS9rQixJQUFBenpELE1BQUFna0UsWUFBQXdVLFdBQUEva0IsSUFBQTdtQyxPQUFBRixTQUFBOE8sVUFBQTEzQixPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUFtSCxjQUFBdTRFLFdBQUEva0IsSUFBQXp6RCxRQUFBLEdBQUEwc0IsVUFHQS8wQixRQUFBMnNFLGVBQUEsV0FDQSxHQUFBdnJFLFNBQUFwQixPQUFBc2lGLGNBQUFFLFVBQUEsQ0FDQSxHQUFBeHRELFdBQUFoMUIsT0FBQTRpRixZQUFBejJFLE9BQUEsU0FBQTdCLElBQUEsTUFBQUEsSUFBQWhDLGNBQUF0SSxPQUFBc2lGLGNBQUFFLFlBQUEsRUFFQXhpRixRQUFBNHJFLFlBQUE1ckUsT0FBQTJpRixlQUFBeDJFLE9BQUEsU0FBQTBvQixHQUFBLE1BQUFBLEdBQUFFLFVBQUFDLFVBQUFELGVBRUEvMEIsUUFBQTRyRSxnQkFJQTVyRSxPQUFBOGlGLGFBQUF0ckUsVUFBQXJMLE9BQUEsU0FBQXMrRCxLQUVBLE1BQUEsVUFBQUEsSUFBQXp5RCxVQUFBLHNCQUFBeXlELElBQUF6eUQsVUFBQSxpQkFBQXl5RCxJQUFBenlELFVBQUEsZ0JBQUF5eUQsSUFBQXp5RCxVQUNBLFVBQUF5eUQsSUFBQXp5RCxVQUFBLFdBQUF5eUQsSUFBQXp5RCxXQUdBaFksT0FBQStpRixnQkFBQXZyRSxVQUFBckwsT0FBQSxTQUFBeWlCLEtBRUEsTUFBQSxVQUFBQSxJQUFBNVcsVUFBQSxTQUFBNFcsSUFBQTVXLFVBQUEsc0JBQUE0VyxJQUFBNVcsVUFBQSxpQkFBQTRXLElBQUE1VyxVQUFBLGdCQUFBNFcsSUFBQTVXLFVBQ0EsVUFBQTRXLElBQUE1VyxVQUFBLFdBQUE0VyxJQUFBNVcsV0FHQWhZLE9BQUFnakYscUJBQUEsV0FFQWhqRixPQUFBaWpGLHFCQUNBampGLFFBQUFrakYsbUJBQUEsR0FBQWxqRixPQUFBbWpGLHNCQUFBLEdBRUF2bEYsUUFBQXlNLFFBQUFySyxPQUFBOGlGLGFBQUEsU0FBQU0sT0FDQUEsTUFBQTc2RSxVQUFBLElBRUEzSyxRQUFBeU0sUUFBQXJLLE9BQUEraUYsZ0JBQUEsU0FBQU0sT0FDQUEsTUFBQTk2RSxVQUFBLElBRUEsUUFBQXZJLE9BQUFzaUYsY0FBQUMsV0FDQXZpRixPQUFBc2pGLGtCQUFBdGpGLE9BQUE4aUYsY0FFQSxXQUFBOWlGLE9BQUFzaUYsY0FBQUMsV0FDQXZpRixPQUFBc2pGLGtCQUFBdGpGLE9BQUEraUYsaUJBRUEvaUYsT0FBQXVqRixtQkFBQSxHQUtBdmpGLE9BQUF3akYsWUFBQSxTQUFBdG9FLEdBRUEsUUFBQWxiLE9BQUFzaUYsY0FBQUMsV0FDQXZpRixPQUFBaWpGLHNCQUNBcmxGLFFBQUF5TSxRQUFBckssT0FBQThpRixhQUFBLFNBQUF2MkUsSUFDQUEsR0FBQWhFLFVBQUF2SSxPQUFBaWpGLG1CQUFBdGdGLEtBQUE0SixHQUFBQyxlQUVBeE0sT0FBQWtqRixtQkFBQWxqRixPQUFBaWpGLG1CQUFBNTVFLEtBQUEsTUFFQSxXQUFBckosT0FBQXNpRixjQUFBQyxXQUNBdmlGLE9BQUF5akYseUJBQ0E3bEYsUUFBQXlNLFFBQUFySyxPQUFBK2lGLGdCQUFBLFNBQUEzMkUsSUFDQUEsR0FBQTdELFVBQUF2SSxPQUFBeWpGLHNCQUFBOWdGLEtBQUF5SixHQUFBSSxlQUVBeE0sT0FBQW1qRixzQkFBQW5qRixPQUFBeWpGLHNCQUFBcDZFLEtBQUEsT0FLQXJKLE9BQUEwakYsWUFBQSxXQUVBLEdBQUFDLG1CQUFBLEdBQUFDLGdCQUFBLEVBSUEsSUFIQSxLQUFBNWpGLE9BQUFzaUYsY0FBQUcsV0FBQWtCLGtCQUFBOTdDLFdBQUE3bkMsT0FBQXNpRixjQUFBRyxXQUNBLEtBQUF6aUYsT0FBQXNpRixjQUFBSSxTQUFBa0IsZ0JBQUEvN0MsV0FBQTduQyxPQUFBc2lGLGNBQUFJLFNBRUEsS0FBQTFpRixPQUFBc2lGLGNBQUFDLFNBQUEsQ0FDQSxHQUFBc0IsVUFBQTdqRixPQUFBdU4sVUFBQSxXQUFBdk4sT0FBQWdoRixRQUFBMWlFLFNBQUEseUJBQUF0ZSxPQUFBc2lGLGNBQUFFLFVBQUEsV0FBQXhpRixPQUFBc2lGLGNBQUE1dEQsV0FDQSxhQUFBaXZELGtCQUFBLFdBQUFDLGdCQUFBLGFBQUE1akYsT0FBQXNpRixjQUFBQyxTQUNBLGdCQUFBdmlGLE9BQUFrakYsbUJBQUEsb0JBQUFsakYsT0FBQW1qRixzQkFDQVcsSUFBQSxHQUFBQyxlQUNBRCxLQUFBdmlGLEtBQUEsTUFBQXNpRixVQUVBbjZFLE9BQUEvRCxTQUNBeStCLGFBQUEsRUFDQUMsY0FBQSxxQkFDQUMsUUFBQSxLQUNBQyxRQUFBLElBQ0FDLGdCQUFBLEtBRUE5NkIsT0FBQXk2QixRQUFBLDRCQUNBMi9DLElBQUFFLGFBQUEsT0FDQUYsSUFBQUcsaUJBQUEsZUFBQSxnQ0FDQUgsSUFBQUcsaUJBQUEsZ0JBQUEsU0FBQWwrRSxTQUFBRSxJQUFBLGFBQ0E2OUUsSUFBQUksbUJBQUEsV0FDQSxHQUFBLElBQUFKLElBQUFLLFdBQ0EsR0FBQSwwQkFBQUwsSUFBQWw2RSxXQUFBLENBQ0EsR0FBQXc2RSxnQkFBQU4sSUFBQU8sa0JBQUEsbUJBQ0EsSUFBQSw4QkFBQUQsZUFBQSxDQUNBMTZFLE9BQUFpN0IsT0FDQSxFQUFBdmtDLFVBQUFtQixNQUNBekIsU0FBQSxnVEFJQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBdU8sYUFHQXBPLEtBQUEsWUFFQSxDQUNBLEdBQUEyaUYsTUFBQSxHQUFBajFCLE9BQUF5MEIsSUFBQXg2RSxXQUFBZ0ssS0FBQSw2QkFDQW9GLEVBQUE2ckUsU0FBQUMsY0FBQSxLQUNBQyxXQUFBdGxFLE9BQUFvd0MsS0FBQXB3QyxPQUFBdWxFLFdBQUF2bEUsT0FBQXdsRSxRQUFBeGxFLE9BQUF5bEUsTUFDQXQxQixRQUFBbTFCLFdBQUFqMUIsZ0JBQUE4MEIsS0FFQTVyRSxHQUFBclosTUFBQSxnQkFDQXFaLEVBQUErMkMsS0FBQUgsUUFDQTUyQyxFQUFBZzNDLFNBQUEsd0JBQ0FoM0MsRUFBQTdVLE9BQUEsU0FDQTBnRixTQUFBekksS0FBQStJLFlBQUFuc0UsR0FDQUEsRUFBQWpILFFBQ0EvSCxPQUFBaTdCLGFBRUEsQ0FFQWo3QixPQUFBaTdCLE9BQ0EsRUFBQXZrQyxVQUFBbUIsTUFDQXpCLFNBQUEsNFZBSUFDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQXVPLGFBR0FwTyxLQUFBLFVBS0FtaUYsSUFBQWdCLFdBR0EsQ0FBQTFrRixVQUFBbUIsTUFDQXpCLFNBQUEsb1RBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBeUIsR0FBQSxXQUNBRCxrQkFBQXVPLGFBR0FwTyxLQUFBLGdCQ3ZYQSxXQUNBLFlBRUEsSUFBQWtFLHFCQUFBakksUUFBQUMsT0FBQSxzQkFFQWdJLHFCQUFBOUYsV0FBQSxpQkFBQSxTQUFBLFdBQUEsWUFBQSxRQUFBLFlBQUEsVUFBQSxRQUFBLFlBQ0EsU0FBQUMsT0FBQStGLFNBQUFDLFVBQUE5RixNQUFBRSxVQUFBeWtCLFFBQUFpNUMsTUFBQXJlLFdBQ0EsR0FBQXIrQyxTQUFBMkUsU0FBQUUsSUFBQSxhQUFBLEtBQUFGLFNBQUFFLElBQUEsWUFDQWpHLE9BQUFrRyxNQUFBLEVBQ0FGLFVBQUFHLEtBQUEsY0FDQSxDQUlBbkcsT0FBQWlWLGNBQ0FqVixPQUFBdUIsS0FBQSxTQUFBMlQsT0FBQS9TLE9BQ0ErUyxPQUFBM1MsaUJBQ0EyUyxPQUFBQyxrQkFFQW5WLE9BQUFpVixXQUFBOVMsUUFBQSxHQUtBbkMsT0FBQWdoRixXQUdBaGhGLE9BQUEra0YsWUFBQSxTQUFBM0MsSUFFQSxHQUFBeHlELGVBQUF4dkIsVUFBQW1CLE1BQ0FxWixZQUFBLG1CQUNBN2EsV0FBQSxtQkFDQTRCLEtBQUEsS0FDQXFPLFNBQ0E2SyxhQUFBLFdBQ0EsTUFBQXVuRSxLQUVBdG5FLEtBQUEsV0FDQSxNQUFBLFdBSUE4VSxlQUFBaHVCLE9BQUFDLEtBQUEsU0FBQWdaLGNBSUEzYSxNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUVBNjNELE1BQUFBLFdBQUEvN0QsR0FBQThZLGFBQUF5RCxVQUFBLFNBQUFoVixVQUNBLEdBQUEwN0UsU0FDQUEsT0FBQTFtRSxTQUFBekQsYUFBQXlELFNBQ0EwbUUsTUFBQTEwQixLQUFBejFDLGFBQUEwRCxXQUNBeW1FLE1BQUExRSxLQUFBdGdGLE9BQUFteEMsY0FBQWhsQyxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFtNUIsZUFBQWgzQixhQUFBZzNCLGdCQUFBLEdBQUF2K0IsS0FDQTB4RSxNQUFBbkQsT0FBQTdoRixPQUFBd3dDLGNBQUFya0MsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBc3VCLGlCQUFBcjJCLGFBQUFxMkIsa0JBQUEsR0FBQTd2QyxNQUNBLElBQUF5Z0YsT0FBQTloRixPQUFBaWxGLGVBQUE5NEUsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQTliLFdBQUE4QixhQUFBMnlDLG9CQUFBLEVBQ0F3M0IsT0FBQWpELFVBQUFsbkUsYUFBQTRtRSxpQkFDQXVELE1BQUFoRCxRQUFBbm5FLGFBQUE2bUUsZUFDQXNELE1BQUEvQyxNQUFBN2dGLFNBQUEwZ0YsTUFBQUEsTUFBQTVvRSxNQUFBLElBQUE0b0UsTUFBQTNvRSxNQUFBLEVBRUEsS0FBQSxHQURBZ2pCLE9BQUEsRUFDQWgwQixFQUFBLEVBQUFBLEVBQUFuSSxPQUFBNEwsVUFBQWxHLE9BQUF5QyxJQUNBbkksT0FBQTRMLFVBQUF6RCxHQUFBbVcsVUFBQTBtRSxNQUFBMW1FLFdBQ0E2ZCxNQUFBaDBCLEVBQ0FBLEVBQUFuSSxPQUFBNEwsVUFBQWxHLE9BR0ExRixRQUFBNEwsVUFBQXpCLE9BQUFneUIsTUFBQSxHQUNBenlCLE9BQUErTSxRQUFBLGtCQUNBLFNBQUF6VixlQUNBMEksT0FBQUMsTUFBQSxVQUFBM0ksY0FBQTRJLGNBQ0E2RixTQUFBNU4sS0FBQSxXQUNBbUUsVUFBQUcsS0FBQSxzQkFBQS9ILGNBUUEsSUFBQXNwQyxXQUFBLFNBQUFwb0MsR0FDQSxHQUFBcW9DLE9BQUEsR0FBQXYzQixLQUNBaFAsVUFBQTlCLElBRUFxb0MsTUFBQSxHQUFBdjNCLE1BQUE5USxHQUdBLElBQUF3VSxNQUFBNnpCLE1BQUE3bEIsY0FDQWpPLE1BQUE4ekIsTUFBQTVsQixXQUNBcE8sS0FBQSxJQUFBZzBCLE1BQUExbEIsV0FBQUQsTUFBQSxJQUNBNGxCLFlBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FDLFdBQUEsR0FBQXozQixNQUFBdzNCLFdBQUEvekIsT0FBQSxJQUFBRixJQUFBLEtBQUFHLEtBQ0EsT0FBQSt6QixZQUdBLElBQUF6bUMsU0FBQXErQyxVQUFBLENBQ0F6L0MsT0FBQWdoRixRQUFBdmhDLFVBQ0F6L0MsT0FBQWdoRixRQUFBUyxpQkFBQS81QyxVQUFBMW5DLE9BQUFnaEYsUUFBQVMsa0JBQUF6aEYsT0FBQWdoRixRQUFBVSxlQUFBaDZDLFVBQUExbkMsT0FBQWdoRixRQUFBVSxnQkFDQTFoRixPQUFBa2xGLGNBQUFsbEYsT0FBQW14QyxjQUFBaGxDLE9BQUEsU0FBQXVNLEdBQUEsTUFBQUEsR0FBQW01QixlQUFBNE4sVUFBQTVOLGdCQUFBLEdBQUF2K0IsS0FDQXRULE9BQUFtbEYsZ0JBQUFubEYsT0FBQXd3QyxjQUFBcmtDLE9BQUEsU0FBQXlXLEdBQUEsTUFBQUEsR0FBQXN1QixpQkFBQXVPLFVBQUF2TyxrQkFBQSxHQUFBN3ZDLE1BQ0EsSUFBQStqRixJQUFBcGxGLE9BQUFpbEYsZUFBQTk0RSxPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBOWIsV0FBQTBtQyxVQUFBK04sb0JBQUEsRUFDQXh0RCxRQUFBcWxGLGVBQUFqa0YsU0FBQWdrRixHQUFBQSxHQUFBbHNFLE1BQUEsSUFBQWtzRSxHQUFBanNFLE1BQUEsT0FLQW5aLFFBQUFnaEYsUUFBQVMsaUJBQUEvNUMsWUFDQTFuQyxPQUFBZ2hGLFFBQUFVLGVBQUFoNkMsV0FLQTFuQyxRQUFBb3lELFdBQUEsU0FBQTF1QyxHQUNBLEdBQUFBLEVBRUF4akIsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0FtOUQsTUFBQXhqRCxRQUFBdlksR0FBQS9CLE9BQUFnaEYsUUFBQTFpRSxVQUFBdGUsT0FBQWdoRixRQUFBLFNBQUExM0UsVUFDQUksT0FBQStNLFFBQUEsa0JBQ0EsU0FBQXpWLGVBQ0EwSSxPQUFBQyxNQUFBLFVBQUEzSSxjQUFBNEksa0JBR0EsQ0FBQXhKLFVBQUFtQixNQUNBekIsU0FBQSx5UEFHQUMsWUFBQSxTQUFBLG9CQUFBLFNBQUFDLE9BQUF3QixtQkFDQXhCLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxXQUdBQyxLQUFBLFNBU0EzQixPQUFBa2EsS0FBQSxTQUFBVCxPQUNBQSxPQUNBcWtELE1BQUE1akQsS0FBQWxhLE9BQUFnaEYsUUFBQSxTQUFBMTNFLFVBQ0FJLE9BQUErTSxRQUFBLGdCQUVBLElBQUE2dUUsS0FDQUEsR0FBQWhuRSxTQUFBaFYsU0FBQWdWLFNBQ0FnbkUsRUFBQWgxQixLQUFBaG5ELFNBQUFpVixXQUNBK21FLEVBQUFoRixLQUFBdGdGLE9BQUFteEMsY0FBQWhsQyxPQUFBLFNBQUF1TSxHQUFBLE1BQUFBLEdBQUFtNUIsZUFBQXZvQyxTQUFBdW9DLGdCQUFBLEdBQUF2K0IsS0FDQWd5RSxFQUFBekQsT0FBQTdoRixPQUFBd3dDLGNBQUFya0MsT0FBQSxTQUFBeVcsR0FBQSxNQUFBQSxHQUFBc3VCLGlCQUFBNW5DLFNBQUE0bkMsa0JBQUEsR0FBQTd2QyxNQUNBLElBQUF5Z0YsT0FBQTloRixPQUFBaWxGLGVBQUE5NEUsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQTliLFdBQUF6UCxTQUFBa2tELG9CQUFBLEVBQ0E4M0IsR0FBQXZELFVBQUF6NEUsU0FBQW00RSxpQkFDQTZELEVBQUF0RCxRQUFBMTRFLFNBQUFvNEUsZUFDQTRELEVBQUFyRCxNQUFBN2dGLFNBQUEwZ0YsTUFBQUEsTUFBQTVvRSxNQUFBLElBQUE0b0UsTUFBQTNvRSxNQUFBLEdBQ0FuWixPQUFBNEwsVUFBQWpKLEtBQUEyaUYsS0FDQTcxRSxTQUFBNU4sS0FBQSxXQUNBbUUsVUFBQUcsS0FBQSxzQkFBQS9ILG9CQzNKQSxXQUNBLFlBRUEsSUFBQXlILHFCQUFBakksUUFBQUMsT0FBQSxzQkFFQWdJLHFCQUFBOUYsV0FBQSxhQUFBLFNBQUEsYUFBQSxXQUFBLFlBQUEsUUFBQSxVQUFBLFlBQUEsU0FBQSxZQUFBLFFBQUEsUUFBQSxXQUFBLGtCQUFBLFlBQUEsZ0JBQUEsZ0JBQ0EsU0FBQUMsT0FBQThGLFdBQUFDLFNBQUFDLFVBQUE5RixNQUFBMmtCLFFBQUF6a0IsVUFBQXF0QixPQUFBZ1csVUFBQXE2QixNQUFBcnBDLE1BQUE4d0QsU0FBQUMsZ0JBQUF6Z0UsVUFBQThvQixjQUFBRCxlQUNBLEdBQUF4c0MsU0FBQTJFLFNBQUFFLElBQUEsYUFBQSxLQUFBRixTQUFBRSxJQUFBLFlBQ0FqRyxPQUFBa0csTUFBQSxFQUNBRixVQUFBRyxLQUFBLGNBQ0EsQ0FDQUwsV0FBQU0sU0FBQSxrQkFDQXBHLE9BQUF1ekQsYUFBQXh0RCxTQUFBRSxJQUFBLGFBQ0FqRyxPQUFBeWxGLFFBQUEsU0FBQXpsRixPQUFBdXpELGNBQUEsR0FBQSxFQUdBdnpELE9BQUF3SCxRQUFBLFNBQUFDLGlCQUNBekgsT0FBQTBILGNBQUFELGtCQUNBekgsT0FBQTJILFNBQUEzSCxPQUFBMkgsU0FFQTNILE9BQUEwSCxhQUFBRCxnQkFFQUcsRUFBQSxRQUFBQyxLQUFBLFdBRUFELEVBQUFuQyxNQUFBcUMsY0FBQUMsU0FBQSw4QkFHQUgsRUFBQSxNQUFBSCxnQkFBQSxNQUFBSyxjQUFBQyxTQURBL0gsT0FBQTJILFFBQ0EsaUNBRUEsb0NBSUEsSUFBQSsvQixXQUFBLFNBQUFwb0MsR0FDQSxHQUFBb21GLFFBQUFwbUYsRUFBQTRLLFFBQUEsS0FDQXlJLFFBQUFyVCxFQUFBOFksVUFBQSxFQUFBc3RFLE9BQ0EsT0FBQS95RSxTQUdBM1MsUUFBQW14QyxjQUFBdEQsY0FDQTd0QyxPQUFBd3dDLGNBQUE1QyxjQUNBNXRDLE9BQUFpbEYsZUFBQU8sZ0JBR0F4bEYsT0FBQTRMLFlBQ0EsS0FBQSxHQUFBd2pCLEdBQUEsRUFBQUEsRUFBQXJLLFVBQUFyZixPQUFBMHBCLElBQUEsQ0FDQSxHQUFBazJELEdBQUF2Z0UsVUFBQXFLLEVBQ0FrMkQsR0FBQWgxQixLQUFBdnJDLFVBQUFxSyxHQUFBN1EsV0FDQSttRSxFQUFBaEYsS0FBQXRnRixPQUFBbXhDLGNBQUFobEMsT0FBQSxTQUFBdU0sR0FBQSxNQUFBQSxHQUFBbTVCLGVBQUE5c0IsVUFBQXFLLEdBQUF5aUIsZ0JBQUEsR0FBQXYrQixLQUNBZ3lFLEVBQUF6RCxPQUFBN2hGLE9BQUF3d0MsY0FBQXJrQyxPQUFBLFNBQUF5VyxHQUFBLE1BQUFBLEdBQUFzdUIsaUJBQUFuc0IsVUFBQXFLLEdBQUE4aEIsa0JBQUEsR0FBQTd2QyxNQUNBLElBQUF5Z0YsT0FBQTloRixPQUFBaWxGLGVBQUE5NEUsT0FBQSxTQUFBMG9CLEdBQUEsTUFBQUEsR0FBQTliLFdBQUFnTSxVQUFBcUssR0FBQW8rQixvQkFBQSxFQUNBODNCLEdBQUF2RCxVQUFBM2dGLFNBQUEyakIsVUFBQXFLLEdBQUFxeUQsaUJBQUEvNUMsVUFBQTNpQixVQUFBcUssR0FBQXF5RCxrQkFBQSxHQUNBNkQsRUFBQXRELFFBQUE1Z0YsU0FBQTJqQixVQUFBcUssR0FBQXN5RCxlQUFBaDZDLFVBQUEzaUIsVUFBQXFLLEdBQUFzeUQsZ0JBQUEsR0FDQTRELEVBQUFyRCxNQUFBN2dGLFNBQUEwZ0YsTUFBQUEsTUFBQTVvRSxNQUFBLElBQUE0b0UsTUFBQTNvRSxNQUFBLEdBRUFuWixPQUFBNEwsVUFBQWpKLEtBQUEyaUYsR0FJQXRsRixPQUFBMmxGLGVBQUEsU0FBQUMsY0FDQSxHQUFBbDJELGNBQUExdkIsT0FBQTRMLFVBQUExQixRQUFBMDdFLGFBQ0E5L0UsWUFBQTBELGdCQUFBQyxhQUFBLEVBRUEsSUFBQW1tQixlQUFBeHZCLFVBQUFtQixNQUNBcVosWUFBQSxrQkFDQTdhLFdBQUEsaUJBQ0E0QixLQUFBLEtBQ0ErWSxTQUFBLFNBQ0FDLFVBQUEsRUFDQWtWLFlBQUEsYUFDQTdmLFNBQ0F5dkMsVUFBQSxXQUNBLE1BQUEsS0FBQW1tQyxhQUFBQSxhQUFBLFNBRUF6MEMsY0FBQSxXQUNBLE1BQUF0RCxnQkFFQTh5QyxnQkFBQSxXQUNBLE1BQUEveUMsZ0JBRUFnekMsVUFBQSxXQUNBLE1BQUE0RSxrQkFFQWh1RSxVQUFBLFdBQ0EsTUFBQWlzQixXQUFBMVQsU0FBQXRnQixVQUVBb3hFLFdBQUEsV0FDQSxNQUFBLEtBQUErRSxhQUNBOW5CLE1BQUFRLGVBQUF2OEQsR0FBQTZqRixhQUFBdG5FLFdBQUE3TyxTQURBLFFBR0FvMEIsVUFBQSxXQUNBLE1BQUFwUCxPQUFBMUUsU0FBQXRnQixVQUVBcTBCLFlBQUEsV0FDQSxNQUFBeWhELFVBQUF4MUQsU0FBQXRnQixZQUtBbWdCLGVBQUFodUIsT0FBQUMsS0FBQSxTQUFBKy9FLGNBRUE5N0UsV0FBQTBELGdCQUFBQyxhQUFBLEdBQ0FySSxTQUFBd2dGLGVBQ0EsV0FBQUEsYUFBQSxJQUNBNWhGLE9BQUE0TCxVQUFBakosS0FBQWkvRSxhQUFBLElBRUEsWUFBQUEsYUFBQSxLQUVBNWhGLE9BQUE0TCxVQUFBOGpCLGNBQUFreUQsYUFBQSxJQUVBLFdBQUFBLGFBQUEsSUFFQTVoRixPQUFBNEwsVUFBQXpCLE9BQUF1bEIsYUFBQSxjQy9HQSxXQUVBLFlBRUEsSUFBQS94QixnQkFBQUMsUUFBQUMsT0FBQSxpQkFFQUYsZ0JBQUFvQyxXQUFBLGdCQUFBLFNBQUEsU0FBQSxXQUFBLGFBQUEsWUFBQSxRQUFBLFlBQUEsWUFBQSxhQUFBLGlCQUFBLGlCQUFBLGNBQUEsY0FBQSxjQUFBLE1BQUEsWUFBQSxhQUFBLE9BQUEsU0FDQSxTQUFBQyxPQUFBQyxPQUFBOEYsU0FBQUQsV0FBQUUsVUFBQTlGLE1BQUFFLFVBQUFxRyxVQUFBa2xFLFdBQUFrYSxlQUFBdjRELGVBQUF4aUIsWUFBQWsrQixZQUFBRCxZQUFBMUIsSUFBQWg4QixVQUFBRixXQUFBaEwsS0FBQXN0QixRQUNBLEdBQUFyc0IsU0FBQTJFLFNBQUFFLElBQUEsYUFBQSxLQUFBRixTQUFBRSxJQUFBLFlBQ0FqRyxPQUFBa0csTUFBQSxFQUNBRixVQUFBRyxLQUFBLGNBQ0EsQ0FrSUEsR0FqSUFMLFdBQUFNLFNBQUEsV0FDQU4sV0FBQU8sV0FBQSxXQUdBckcsT0FBQXdILFFBQUEsU0FBQUMsaUJBQ0F6SCxPQUFBMEgsY0FBQUQsa0JBQ0F6SCxPQUFBMkgsU0FBQTNILE9BQUEySCxTQUVBM0gsT0FBQTBILGFBQUFELGdCQUVBRyxFQUFBLFFBQUFDLEtBQUEsV0FFQUQsRUFBQW5DLE1BQUFxQyxjQUFBQyxTQUFBLDhCQUdBSCxFQUFBLE1BQUFILGdCQUFBLE1BQUFLLGNBQUFDLFNBREEvSCxPQUFBMkgsUUFDQSxpQ0FFQSxxQ0FLQTNILE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxxQkFBQSxTQUFBeEcsVUFDQU8sT0FBQTRHLGFBQUEsT0FBQWIsU0FBQUUsSUFBQSxxQkFBQTdFLFNBQUEyRSxTQUFBRSxJQUFBLG9CQUFBRixTQUFBRSxJQUFBLG9CQUFBLGVBR0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBcU8sY0FBQSxTQUFBaEosU0FBQUUsSUFBQSxZQUNBL0YsTUFBQU0sU0FBQUMsUUFBQUMsT0FBQUMsT0FBQSxtQkFDQThzQixPQUFBc0MsT0FBQSxTQUFBem1CLFVBQ0F0SixPQUFBa0wsV0FBQTVCLFVBQ0EsU0FBQXRJLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwyQkFBQU8sY0FBQVAsU0FBQSxxQkFDQSwwQkFBQU8sY0FBQTRJLGNBQ0E2RixTQUVBelAsT0FBQTZqQyxVQUFBcDlCLFVBQ0F6RyxPQUFBMnJFLFdBQUFBLFdBQ0EzckUsT0FBQTRyRSxlQUNBNXJFLE9BQUE4bEYsZUFBQUQsZUFDQTdsRixPQUFBc3RCLGVBQUFBLGVBQ0F0dEIsT0FBQWkvQixtQkFBQW4wQixZQUNBOUssT0FBQSt2RSxTQUFBL21DLFlBQ0FocEMsT0FBQTh2RSxTQUFBL21DLFlBQ0Evb0MsT0FBQStsRixlQUNBL2xGLE9BQUFnbUYsZUFDQWhtRixPQUFBaW1GLGtCQUNBam1GLE9BQUFrbUYsa0JBQUFsbUYsT0FBQW1tRixZQUFBLEVBQ0FubUYsT0FBQW9tRixpQkFBQXBtRixPQUFBcW1GLFdBQUEsRUFDQXJtRixPQUFBc21GLGdCQUFBdG1GLE9BQUF1bUYsYUFBQSxFQUdBdm1GLE9BQUF3bUYsT0FBQSxXQUVBeG1GLE9BQUFrbUYsa0JBQUFsbUYsT0FBQW1tRixZQUFBLEVBQ0FubUYsT0FBQW9tRixpQkFBQXBtRixPQUFBcW1GLFdBQUEsRUFDQXJtRixPQUFBc21GLGdCQUFBdG1GLE9BQUF1bUYsYUFBQSxDQUNBLElBQUF4OEUsTUFBQSxPQUFBaEUsU0FBQUUsSUFBQSxtQkFBQTdFLFNBQUEyRSxTQUFBRSxJQUFBLGtCQUFBRixTQUFBRSxJQUFBLGtCQUFBLEVBQ0FpcEIsSUFBQTl0QixTQUFBcEIsT0FBQWdtRixZQUFBamtGLEdBQUEvQixPQUFBZ21GLFlBQUFqa0YsR0FBQSxFQUNBMGtGLGVBQUFybEYsU0FBQXBCLE9BQUFpbUYsZUFBQTdWLFNBQUFwd0UsT0FBQWltRixlQUFBN1YsV0FDQXRxRSxZQUFBbzNFLGdCQUNBNzlDLFFBQUF0MUIsS0FDQTI4RSxRQUFBeDNELElBQ0FraEQsU0FBQXFXLGVBR0EsSUFBQWhOLGVBRUE3N0UsU0FBQXlNLFFBQUFvOEUsZUFBQSxTQUFBNXhELEdBQ0E0a0QsWUFBQTkyRSxLQUFBa3lCLEVBQUF3M0MsY0FHQSxJQUFBcU4sa0JBQUFELFlBQUFwd0UsS0FBQSxJQUNBbkosT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0EwbUMsSUFBQXMvQyxtQkFBQUMsV0FBQSxRQUFBejlFLE1BQUFZLEtBQUFYLE1BQUE4bEIsSUFBQXFGLFNBQUFtbEQsa0JBQUEsU0FBQXB3RSxVQUVBMUwsUUFBQXlNLFFBQUFmLFNBQUEsU0FBQXFMLEdBQ0F4VSxLQUFBbVksT0FBQXZXLEdBQUE0UyxFQUFBM1MsVUFBQXlOLFNBQUE1TixLQUFBLFNBQUFnbEYsV0FDQWx5RSxFQUFBbWhCLFFBQUErd0QsVUFBQS93RCxRQUNBbmhCLEVBQUFrMEIsV0FBQWwwQixFQUFBazBCLFdBQUEsRUFBQSxNQUFBLEtBQ0FsMEIsRUFBQXBNLFVBQUEsRUFDQXZJLE9BQUFrbUYsZUFBQXZqRixLQUFBZ1MsT0FHQTNVLE9BQUFtbUYsWUFBQSxHQUNBLFNBQUFubEYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksY0FFQXlCLFVBQUF5N0Usa0JBQUFGLFdBQUEsUUFBQXo5RSxNQUFBWSxLQUFBWCxNQUFBOGxCLElBQUFxRixTQUFBbWxELGtCQUFBLFNBQUE1OUIsV0FDQSxHQUFBaXJDLEtBQUFqckMsU0FFQWwrQyxTQUFBeU0sUUFBQTA4RSxJQUFBLFNBQUFsdUUsSUFDQSxHQUFBbXVFLFlBQUFobkYsT0FBQThsRixlQUFBMzVFLE9BQUEsU0FBQWhFLEdBQUEsTUFBQUEsR0FBQWtFLGVBQUF3TSxHQUFBeE0sZ0JBQUEsR0FDQTQ2RSxlQUNBbG5CLE9BQUFpbkIsV0FBQWhsRixPQUNBaWxGLGFBQUFDLE9BQUFubkIsT0FDQWtuQixZQUFBRSxRQUFBbm5GLE9BQUFzdEIsZUFBQW5oQixPQUFBLFNBQUFoTCxHQUFBLE1BQUFBLEdBQUF1ZCxnQkFBQXNvRSxXQUFBdG9FLGlCQUFBLEdBQUFsVyxNQUNBLElBQUE0K0UsU0FBQXBuRixPQUFBaS9CLG1CQUFBOXlCLE9BQUEsU0FBQTdNLEdBQUEsTUFBQUEsR0FBQXNmLG9CQUFBb29FLFdBQUFwb0UscUJBQUEsRUFDQXFvRSxhQUFBRyxRQUFBaG1GLFNBQUFnbUYsUUFBQUEsUUFBQW5uRSxPQUFBN2UsT0FDQTZsRixZQUFBSSxRQUFBTCxXQUFBMzZFLGNBQ0FsTSxLQUFBbVksT0FBQXZXLEdBQUFnK0QsU0FBQXR3RCxTQUFBNU4sS0FBQSxTQUFBeTZDLFdBQ0EycUMsWUFBQUssT0FBQWhyQyxVQUFBeG1CLFFBQ0E5MUIsT0FBQW9tRixjQUFBempGLEtBQUFza0YsY0FDQSxTQUFBam1GLGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSx1QkFBQU8sY0FBQVAsU0FBQSxxQkFDQSx1QkFBQU8sY0FBQTRJLGdCQUdBNUosT0FBQXFtRixXQUFBLEdBQ0EsU0FBQXJsRixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsd0NBQUFPLGNBQUFQLFNBQUEscUJBQ0Esd0NBQUFPLGNBQUE0SSxjQUVBekosS0FBQW9uRixrQkFBQXhsRixHQUFBZ0ksTUFBQSxTQUFBeTlFLE9BQ0F4bkYsT0FBQXNtRixhQUFBa0IsTUFDQXhuRixPQUFBdW1GLGFBQUEsS0FJQXZtRixPQUFBMnNFLGVBQUEsV0FDQSxHQUFBLE9BQUEzc0UsT0FBQWdtRixZQUFBamtGLEdBQUEsQ0FDQSxHQUFBaXpCLFdBQUFoMUIsT0FBQTZqQyxVQUFBMTNCLE9BQUEsU0FBQTdCLElBQUEsTUFBQUEsSUFBQWhDLGNBQUF0SSxPQUFBZ21GLFlBQUFqa0YsS0FBQSxFQUNBL0IsUUFBQTRyRSxZQUFBNXJFLE9BQUEyckUsV0FBQXgvRCxPQUFBLFNBQUEwb0IsR0FBQSxNQUFBQSxHQUFBRSxVQUFBQyxVQUFBRCxlQUVBLzBCLFFBQUE0ckUsZ0JBSUF4cUUsU0FBQTBFLFdBQUFvM0UsZUFBQSxDQUNBLEdBQUFqMUUsWUFBQW5DLFdBQUFvM0UsY0FDQWw5RSxRQUFBNEcsYUFBQXNCLE9BQUFELFdBQUFvM0IsU0FDQXIvQixPQUFBZ21GLFlBQUFqa0YsR0FBQWtHLFdBQUF5K0UsUUFDQXorRSxXQUFBeStFLFNBRUExbUYsT0FBQTJzRSxnQkFJQSxLQUFBLEdBQUE4YSxLQUFBLEVBQUFBLElBQUF6bkYsT0FBQTRyRSxZQUFBbG1FLE9BQUEraEYsTUFBQSxDQUVBLElBQUEsR0FBQUMsSUFBQSxFQUFBQSxHQUFBei9FLFdBQUFtb0UsU0FBQTFxRSxPQUFBZ2lGLEtBQ0F6L0UsV0FBQW1vRSxTQUFBc1gsSUFBQUMsV0FBQTNuRixPQUFBNHJFLFlBQUE2YixLQUFBRSxXQUNBM25GLE9BQUE0ckUsWUFBQTZiLEtBQUFsL0UsVUFBQSxFQUNBbS9FLEdBQUF6L0UsV0FBQW1vRSxTQUFBMXFFLFFBR0ExRixPQUFBNHJFLFlBQUE2YixLQUFBbC9FLFVBQUEsQ0FHQSxLQUFBTixXQUFBbW9FLFNBQUExcUUsU0FDQTFGLE9BQUE0ckUsWUFBQTZiLEtBQUFsL0UsVUFBQSxHQUVBLEdBQUFreEUsZUFDQXo1RSxRQUFBaW1GLGVBQUE3VixTQUFBbm9FLFdBQUFtb0UsU0FDQXh5RSxRQUFBeU0sUUFBQXBDLFdBQUFtb0UsU0FBQSxTQUFBdjdDLEdBQ0E0a0QsWUFBQTkyRSxLQUFBa3lCLEVBQUF3M0MsY0FFQSxJQUFBcU4sa0JBQUFELFlBQUFwd0UsS0FBQSxJQUVBbkosT0FBQU0sU0FBQUMsUUFBQUMsT0FBQXFPLGNBQUEsU0FBQWhKLFNBQUFFLElBQUEsWUFDQS9GLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFDLE9BQUEsbUJBQ0EwbUMsSUFBQXMvQyxtQkFBQUMsV0FBQSxRQUFBejlFLE1BQUFsQixXQUFBbzNCLFFBQUFqMkIsTUFBQW5CLFdBQUF5K0UsUUFBQW55RCxTQUFBbWxELGtCQUFBLFNBQUFwd0UsVUFDQTFMLFFBQUF5TSxRQUFBZixTQUFBLFNBQUFxTCxHQUNBeFUsS0FBQW1ZLE9BQUF2VyxHQUFBNFMsRUFBQTNTLFVBQUF5TixTQUFBNU4sS0FBQSxTQUFBZ2xGLFdBQ0FseUUsRUFBQW1oQixRQUFBK3dELFVBQUEvd0QsUUFDQW5oQixFQUFBazBCLFdBQUFsMEIsRUFBQWswQixXQUFBLEVBQUEsTUFBQSxLQUNBbDBCLEVBQUFwTSxVQUFBLEVBQ0F2SSxPQUFBa21GLGVBQUF2akYsS0FBQWdTLElBQ0EsU0FBQTNULGVBQ0EwSSxPQUFBQyxNQUFBdkksU0FBQUosY0FBQVAsU0FBQSxxQkFBQSwyQkFBQWtVLEVBQUEzUyxRQUFBLE1BQUFoQixjQUFBUCxTQUFBLHFCQUNBLDJCQUFBa1UsRUFBQTNTLFFBQUEsTUFBQWhCLGNBQUE0SSxnQkFHQTVKLE9BQUFtbUYsWUFBQSxHQUVBLFNBQUFubEYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLGtDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLGtDQUFBTyxjQUFBNEksY0FFQXlCLFVBQUF5N0Usa0JBQUFGLFdBQUEsUUFBQXo5RSxNQUFBbEIsV0FBQW8zQixRQUFBajJCLE1BQUFuQixXQUFBeStFLFFBQUFueUQsU0FBQW1sRCxrQkFBQSxTQUFBNTlCLFdBQ0EsR0FBQWlyQyxLQUFBanJDLFNBRUFsK0MsU0FBQXlNLFFBQUEwOEUsSUFBQSxTQUFBbHVFLElBQ0EsR0FBQW11RSxZQUFBaG5GLE9BQUE4bEYsZUFBQTM1RSxPQUFBLFNBQUFoRSxHQUFBLE1BQUFBLEdBQUFrRSxlQUFBd00sR0FBQXhNLGdCQUFBLEdBQ0E0NkUsZUFDQWxuQixPQUFBaW5CLFdBQUFobEYsT0FDQWlsRixhQUFBQyxPQUFBbm5CLE9BQ0FrbkIsWUFBQUUsUUFBQW5uRixPQUFBc3RCLGVBQUFuaEIsT0FBQSxTQUFBaEwsR0FBQSxNQUFBQSxHQUFBdWQsZ0JBQUFzb0UsV0FBQXRvRSxpQkFBQSxHQUFBbFcsTUFDQSxJQUFBNCtFLFNBQUFwbkYsT0FBQWkvQixtQkFBQTl5QixPQUFBLFNBQUE3TSxHQUFBLE1BQUFBLEdBQUFzZixvQkFBQW9vRSxXQUFBcG9FLHFCQUFBLEVBQ0Fxb0UsYUFBQUcsUUFBQWhtRixTQUFBZ21GLFFBQUFBLFFBQUFubkUsT0FBQTdlLE9BQ0E2bEYsWUFBQUksUUFBQUwsV0FBQTM2RSxjQUNBbE0sS0FBQW1ZLE9BQUF2VyxHQUFBZytELFNBQUF0d0QsU0FBQTVOLEtBQUEsU0FBQXk2QyxXQUNBMnFDLFlBQUFLLE9BQUFockMsVUFBQXhtQixRQUNBOTFCLE9BQUFvbUYsY0FBQXpqRixLQUFBc2tGLGNBQ0EsU0FBQWptRixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsdUJBQUFPLGNBQUE0SSxnQkFHQTVKLE9BQUFxbUYsV0FBQSxHQUNBLFNBQUFybEYsZUFDQTBJLE9BQUFDLE1BQUF2SSxTQUFBSixjQUFBUCxTQUFBLHFCQUFBLHdDQUFBTyxjQUFBUCxTQUFBLHFCQUNBLHdDQUFBTyxjQUFBNEksY0FLQTVKLE9BQUE0bkYsYUFBQSxTQUFBQyxRQUNBLE1BQUFBLFFBQ0FBLE9BQUFDLEtBQUEsU0FBQW56RSxHQUNBLE1BQUFBLEdBQUFwTSxZQUFBLElBRkEsUUFNQXZJLE9BQUErbkYsYUFBQSxXQUNBLEdBQUFyK0QsY0FBQXRwQixVQUFBbUIsTUFDQXpCLFNBQUEsb1lBR0FDLFlBQUEsU0FBQSxvQkFBQSxTQUFBQyxPQUFBd0IsbUJBQ0F4QixPQUFBZ1MsT0FBQSxXQUNBeFEsa0JBQUF1TyxRQUFBLFdBRUEvUCxPQUFBMnBCLFVBQUEsV0FFQW5vQixrQkFBQUUsV0FHQUMsS0FBQSxNQUVBK25CLGNBQUE5bkIsT0FBQUMsS0FBQSxXQUNBN0IsT0FBQWttRixrQkFPQWxtRixPQUFBbTJFLGFBQUEsU0FBQXBXLFFBRUEsR0FBQXFXLGNBQUFoMkUsVUFBQW1CLE1BQ0F6QixTQUFBLGtiQUdBNGEsU0FBQSxTQUNBQyxVQUFBLEVBQ0E1YSxZQUFBLFNBQUEsb0JBQUEsU0FBQUMsT0FBQXdCLG1CQUNBeEIsT0FBQWdTLE9BQUEsV0FDQXhRLGtCQUFBdU8sV0FFQS9QLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxNQUFBcStELFdBR0FwK0QsS0FBQSxNQUVBeTBFLGNBQUF4MEUsT0FBQUMsS0FBQSxTQUFBczRCLFFBQ0FsNkIsT0FBQTZCLEdBQUEsa0JBQUFDLEdBQUFvNEIsbUJDL1FBLFdBQ0EsWUFHQSxJQUFBNnRELGFBQUFwcUYsUUFBQUMsT0FBQSxlQUFBLGVBRUFvcUYsUUFBQSxzQ0FLQUQsYUFBQUUsUUFBQSxXQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLHdCQUVBOXpELGlCQUFBbFUsT0FBQSxNQUFBbW9FLFFBQUEvekQsU0FBQSxZQUFBRCxVQUFBLG9CQUlBNHpELFlBQUFFLFFBQUEsVUFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSx5QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxnQkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSw2QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxXQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLHlCQUVBM3ZFLFNBQ0FzbkMsaUJBQUEzL0IsT0FBQSxNQUFBb29FLFNBQUEsR0FDQXQ0RCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLFlBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEseUJBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsYUFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSwwQkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0FsL0QsZUFBQWxKLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsZ0NBQ0FuQixrQkFBQTdtRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBQyxPQUFBLEdBQ0F6M0Qsa0JBQUE1USxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBQyxPQUFBLEVBQUE5Z0MsSUFBQXlnQyxRQUFBLGtDQUNBbDhELGdCQUFBOUwsT0FBQSxNQUFBdW5DLElBQUF5Z0MsUUFBQSwyR0FDQWwrRCxjQUFBOUosT0FBQSxNQUFBdW5DLElBQUF5Z0MsUUFBQSxxRUFDQXo0RSxrQkFBQXlRLE9BQUEsT0FBQXVuQyxJQUFBeWdDLFFBQUEsMEJBQUF4bkYsU0FBQStuRixlQUFBcG5GLFFBQUFxbkYsaUJBQUE3cUYsUUFBQThxRixTQUFBSixPQUFBLEVBQUFELFNBQUEsR0FDQTcrRCxXQUFBdkosT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxFQUFBRCxRQUFBcm1GLEdBQUEsT0FBQXlsRCxJQUFBeWdDLFFBQUEsK0JBQ0Fyc0UsZUFBQXFFLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsRUFBQUQsUUFBQXJtRixHQUFBLE9BQUF5bEQsSUFBQXlnQyxRQUFBLG1DQUNBcitELGFBQUEzSixPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLGlDQUNBVSxhQUFBMW9FLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsaUhBQ0EzdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSx1QkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxxQ0FFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxtQkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxnQ0FFQTN2RSxTQUNBc3dFLGdCQUFBM29FLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLHdDQUNBbDRELFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsU0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSx1QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvcEIsZUFBQXIrQyxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSwwQkFDQTVILG1CQUFBcGdFLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLCtCQUNBM3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsZ0JBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsNEJBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsY0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSwyQkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxRQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLHNCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQXp3RSxhQUFBcUksT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsbUJBQ0FZLGFBQUE1b0UsT0FBQSxNQUFBdW5DLElBQUF5Z0MsUUFBQSx1QkFDQTN0RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBOXhFLFlBQUEwSixPQUFBLE9BQUF1bkMsSUFBQXlnQyxRQUFBLGVBQUF4bkYsU0FBQStuRixlQUFBcG5GLFFBQUFxbkYsaUJBQUE3cUYsUUFBQThxRixTQUFBSixPQUFBLEVBQUFELFNBQUEsR0FDQVMsYUFDQTdvRSxPQUFBLE1BQUErakUsYUFBQSxjQUFBc0UsT0FBQSxFQUFBOWdDLElBQUF5Z0MsUUFBQSxtQ0FFQS90RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxjQUFBLGFBQUEsU0FBQXBpRixZQUVBLE9BQ0F1UCxTQUFBLFdBQ0EsR0FBQUQsT0FBQSxLQUFBLEdBQUFoRixPQUFBMjRFLFNBQ0EsT0FBQTN6RSxRQUVBdUIsU0FBQSxXQUNBLEdBQUF2QixPQUFBLEtBQUEsR0FBQWhGLE9BQUEyNEUsU0FDQWpqRixZQUFBa2pGLFdBQUEsZUFBQTV6RSxZQUtBNHlFLFlBQUFFLFFBQUEsYUFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSwwQkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSwyQkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxrQ0FFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxvQkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxpQ0FFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxnQkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSw2QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUE7T0FJQUwsWUFBQUUsUUFBQSxPQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLHFCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQTNOLG1CQUFBejZELE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLGdEQUNBeFIsa0JBQUF4MkQsT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsaUNBQ0FodkIsaUJBQUFoNUMsT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsMkJBQ0F0QixtQkFBQTFtRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBQyxPQUFBLEdBQ0FqZixnQkFBQXBwRCxPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLDJCQUNBemUsWUFBQXZwRCxPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEVBQUFELFFBQUFybUYsR0FBQSxPQUFBeWxELElBQUF5Z0MsUUFBQSwwQkFDQXhlLGNBQUF4cEQsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSw0QkFDQTN0RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLGVBQUEsV0FFQSxHQUFBNXBELGdCQUFBMnFELGFBQ0EsUUFDQWpLLGVBQUEsV0FDQSxNQUFBMWdELGNBRUErckMsZUFBQSxTQUFBNmUsSUFDQTVxRCxZQUFBNHFELElBRUF2UCxpQkFBQSxTQUFBd1AsYUFDQUYsV0FBQUUsYUFFQXBQLGlCQUFBLFdBQ0EsTUFBQWtQLGlCQU1BakIsWUFBQUUsUUFBQSxlQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLDZCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLFlBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEseUJBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsY0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSw0QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0FlLGVBQUFucEUsT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEscUJBQ0FvQixzQkFBQXBwRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxxQkFDQXQ4RCxtQkFBQTFMLE9BQUEsTUFBQXVuQyxJQUFBeWdDLFFBQUEsd0NBQ0FxQixxQkFBQXJwRSxPQUFBLE1BQUF1bkMsSUFBQXlnQyxRQUFBLDBDQUNBM3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsc0JBQUEsV0FFQSxHQUFBaDFCLGtCQUNBLFFBQ0ErckIsa0JBQUEsV0FDQSxNQUFBL3JCLGlCQUVBeGtDLGtCQUFBLFNBQUEwUixJQUNBOHlCLGVBQUE5eUIsUUFLQTRuRCxZQUFBRSxRQUFBLHFCQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLGlDQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLHVCQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLHVDQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLHFCQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLDJCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLFlBQUEsT0FBQSxhQUFBLFdBQUEsU0FBQS9uRixLQUFBMkYsV0FBQUMsVUFDQSxHQUFBd2pGLGdCQUVBLFFBQ0FDLGdCQUFBLFdBQ0EsTUFBQUQsZUFFQXZwQixnQkFBQSxTQUFBN2xDLFFBQ0FvdkQsZ0JBQ0FwcEYsS0FBQW1ZLE9BQUF2VyxHQUFBbzRCLFNBQUExcUIsU0FBQTVOLEtBQUEsU0FBQXlILFVBQ0FpZ0YsYUFBQTVtRixLQUFBMkcsVUFDQW5KLEtBQUFtMUUsY0FBQXZ6RSxHQUFBbzRCLFNBQUExcUIsU0FBQTVOLEtBQUEsU0FBQTRuRixXQUNBRixhQUFBNW1GLEtBQUE4bUYsV0FDQTNqRixXQUFBa2pGLFdBQUEsc0JBQUFPLGVBQ0EsU0FBQXZvRixlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsNEJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsNEJBQUFPLGNBQUE0SSxlQUVBLFNBQUE1SSxlQUNBMEksT0FBQUMsTUFBQXZJLFNBQUFKLGNBQUFQLFNBQUEscUJBQUEsdUJBQUFPLGNBQUFQLFNBQUEscUJBQ0EsdUJBQUFPLGNBQUE0SSxtQkFNQW8rRSxZQUFBRSxRQUFBLGNBQUEsYUFBQSxTQUFBcGlGLFlBQ0EsR0FBQTRqRixpQkFFQSxRQUlBdnJCLGlCQUFBLFNBQUF3QixZQUNBK3BCLGNBQUEvcEIsV0FDQTc1RCxXQUFBa2pGLFdBQUEsbUJBQUFVLG9CQUtBMUIsWUFBQUUsUUFBQSxVQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLHdCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLFVBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsd0JBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBc0IsZ0JBQUExcEUsT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsK0JBQ0EyQixnQkFBQTNwRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxpQ0FFQTMxQixVQUFBcnlDLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLGlCQUNBejFCLFdBQUF2eUMsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSw0QkFDQTN0RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0F0MkIsY0FBQTl4QyxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLHFCQUlBRCxZQUFBRSxRQUFBLGdCQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLDZCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLGdCQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLDZCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLG1CQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLGdDQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBd0IsWUFBQTVwRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSw4QkFDQWxyQixlQUFBOThDLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsd0NBQ0EvdEUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEseUJBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEscUNBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsY0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSwrQkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EzbEUsdUJBQUF6QyxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSx3REFDQTlyQiw0QkFBQWw4QyxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxxREFDQTN0RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLGNBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsd0NBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsV0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSx3QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxRQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLDhCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQXJ2QixtQkFBQS80QyxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBQyxPQUFBLEVBQUE5Z0MsSUFBQXlnQyxRQUFBLHFDQUNBM3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsVUFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxpQ0FFQTN2RSxTQUNBd3hFLGlCQUFBN3BFLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0FsbUMsb0JBQUFsaUMsT0FBQSxNQUFBdW5DLElBQUF5Z0MsUUFBQSx1Q0FDQThCLGtCQUFBOXBFLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLG1DQUNBaDhCLG9CQUFBaHNDLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLDBDQUNBbDZCLHVCQUFBOXRDLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLDRDQUNBLzRCLGVBQUFqdkMsT0FBQSxNQUFBdW5DLElBQUF5Z0MsUUFBQSx5Q0FDQWw0RCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBcG9DLGtCQUFBaGdDLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsRUFBQUQsUUFBQTRCLFNBQUEsWUFBQUMsY0FBQSxrQkFBQXppQyxJQUFBeWdDLFFBQUEsNkRBQ0EvdEUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsUUFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxzQkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsZ0JBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsNkJBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBZ0JBTCxZQUFBRSxRQUFBLGVBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsNEJBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBanVDLDBCQUFBbjZCLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLHlDQUNBdHNDLHlCQUFBMTdCLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsRUFBQUQsUUFBQXhzQyxhQUFBLGdCQUFBUyxpQkFBQSxxQkFBQW1MLElBQUF5Z0MsUUFBQSxnREFDQTdyQyw0QkFBQW44QixPQUFBLE9BQUFvb0UsU0FBQSxFQUFBRCxRQUFBeHNDLGFBQUEsZ0JBQUFTLGlCQUFBLHFCQUFBbUwsSUFBQXlnQyxRQUFBLG1EQUNBM3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsUUFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxzQkFFQTN2RSxTQUNBNHhFLHFCQUFBanFFLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE4QixrQkFBQSxTQUFBN3JGLE1BQUEsT0FBQXdGLE1BQUFsRyxRQUFBd3NGLFNBQUE5ckYsUUFBQWtwRCxJQUFBeWdDLFFBQUEscUNBQ0FyeUQsbUJBQUEzVixPQUFBLE1BQUFvb0UsU0FBQSxFQUFBRCxRQUFBL3pELFNBQUEsWUFBQUQsVUFBQSxhQUFBeUIsT0FBQSxZQUNBOUYsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0F6bkYsaUJBQUFxZixPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxpQkFDQS8rRSxrQkFBQStXLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLDZCQUVBdGhELGtCQUFBMW1CLE9BQUEsTUFBQXVuQyxJQUFBeWdDLFFBQUEsNkJBRUFvQyxxQkFBQXBxRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxnQ0FDQS9zRCxxQkFBQWpiLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFGLFFBQUFqdUQsT0FBQSxVQUFBbXdELGNBQUEsa0JBQUFqQyxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLGlDQUNBMXRELHVCQUFBdGEsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxpRUFFQXNDLHFCQUFBdHFFLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLGdDQUNBbnRELHFCQUFBN2EsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUYsUUFBQWp1RCxPQUFBLFVBQUFxd0QsY0FBQSxrQkFBQW5DLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsaUNBQ0EvdEQsdUJBQUFqYSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLGlFQUVBd0MsaUJBQUF4cUUsT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEsZ0NBR0FuNEQsWUFBQTdQLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLG1DQUNBOXVCLGdCQUFBbDVDLE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLDBDQUNBeUMsYUFBQXpxRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSx3QkFDQW5SLGNBQUE3MkQsT0FBQSxNQUFBb29FLFNBQUEsRUFBQTdnQyxJQUFBeWdDLFFBQUEseUJBQ0EzUyxjQUFBcjFELE9BQUEsTUFBQW9vRSxTQUFBLEVBQUE3Z0MsSUFBQXlnQyxRQUFBLG1DQUNBVixrQkFBQXRuRSxPQUFBLE1BQUFvb0UsU0FBQSxFQUFBN2dDLElBQUF5Z0MsUUFBQSxrQ0FFQTN0RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUtBTCxZQUFBRSxRQUFBLGVBQUEsV0FBQSxhQUFBLFNBQUFuaUYsU0FBQUQsWUFDQSxHQUFBNmtGLFVBQ0EsUUFDQWxtRCxtQkFBQSxXQUNBLE1BQUFrbUQsWUFFQWpnRSxtQkFBQSxTQUFBa2dFLFNBQ0FELFVBQUFDLFFBQ0E5a0YsV0FBQWtqRixXQUFBLHNCQUFBMkIsZ0JBS0EzQyxZQUFBRSxRQUFBLGNBQUEsV0FBQSxhQUFBLFNBQUFuaUYsU0FBQUQsWUFDQSxHQUFBcXRELGdCQUNBLFFBQ0FsbkQsZ0JBQUEsV0FDQSxNQUFBa25ELGVBRUFsOEMsZ0JBQUEsU0FBQTdLLElBQ0ErbUQsYUFBQS9tRCxHQUNBdEcsV0FBQWtqRixXQUFBLG1CQUFBNzFCLG1CQUtBNjBCLFlBQUFFLFFBQUEsU0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSx1QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxnQkFBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSw2QkFFQTN2RSxTQUNBeVgsUUFBQTlQLE9BQUEsTUFBQW9vRSxTQUFBLEdBQ0EvdEUsUUFBQTJGLE9BQUEsTUFBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQW51RSxNQUFBK0YsT0FBQSxPQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBRSxVQUFBdG9FLE9BQUEsU0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsUUFJQUwsWUFBQUUsUUFBQSxlQUFBLFlBQUEsU0FBQUMsV0FDQSxNQUFBQSxXQUFBRixRQUFBLDRCQUVBM3ZFLFNBQ0F5WCxRQUFBOVAsT0FBQSxNQUFBb29FLFNBQUEsR0FDQS90RSxRQUFBMkYsT0FBQSxNQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxHQUNBbnVFLE1BQUErRixPQUFBLE9BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FFLFVBQUF0b0UsT0FBQSxTQUFBcW9FLE9BQUEsRUFBQUQsU0FBQSxRQUlBTCxZQUFBRSxRQUFBLFVBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsd0JBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsd0JBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsZ0NBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsa0JBQUEsWUFBQSxTQUFBQyxXQUNBLE1BQUFBLFdBQUFGLFFBQUEsK0JBRUEzdkUsU0FDQXlYLFFBQUE5UCxPQUFBLE1BQUFvb0UsU0FBQSxHQUNBL3RFLFFBQUEyRixPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0FudUUsTUFBQStGLE9BQUEsT0FBQXFvRSxPQUFBLEVBQUFELFNBQUEsR0FDQUUsVUFBQXRvRSxPQUFBLFNBQUFxb0UsT0FBQSxFQUFBRCxTQUFBLFFBSUFMLFlBQUFFLFFBQUEsU0FBQSxZQUFBLFNBQUFDLFdBQ0EsTUFBQUEsV0FBQUYsUUFBQSxhQUVBckwsT0FBQTM4RCxPQUFBLE1BQUFxb0UsT0FBQSxFQUFBRCxTQUFBLEdBQ0F6TSxhQUFBMzdELE9BQUEsTUFBQXVuQyxJQUFBeWdDLFFBQUEsbUNDdHJCQSxXQUNBLFlBRUEsSUFBQTRDLHFCQUFBanRGLFFBQUFDLE9BQUEsdUJBQUEsYUFJQWd0RixxQkFBQTNDLFFBQUEsWUFBQSxXQUFBLFNBQUFuaUYsVUFDQSxNQUFBLFVBQUEra0YsR0FBQUMsR0FBQUMsU0FBQTk5RSxTQUFBc29FLFFBQ0EsR0FBQXlWLE9BQUFILEdBQUF0NUIsT0FBQSxJQUFBdTVCLEdBQ0FobEYsVUFBQW1sRixTQUFBRCxNQUVBbGxGLFNBQUFvbEYsWUFBQUwsR0FDQS9rRixTQUFBdTFFLFVBQUEwUCxTQUNBamxGLFNBQUFxbEYsSUFBQTVWLE1BQ0EsSUFBQWpqQixTQUNBLFFBQUFybEQsVUFDQSxJQUFBLEdBQ0FxbEQsU0FBQSxPQUNBLE1BQ0EsS0FBQSxHQUNBQSxTQUFBLFNBQ0EsTUFDQSxLQUFBLEdBQ0FBLFNBQUEsT0FDQSxNQUNBLEtBQUEsR0FDQUEsU0FBQSxRQUNBLE1BQ0EsU0FDQUEsU0FBQSxpQkFHQXhzRCxTQUFBc2xGLFVBQUE5NEIsYUFLQXM0QixvQkFBQTNDLFFBQUEsbUJBQUEsV0FBQSxTQUFBbmlGLFVBQ0EsTUFBQSxVQUFBdWxGLEtBQUFDLFFBQ0F4bEYsU0FBQXlsRixlQUFBRixLQUNBdmxGLFNBQUEwbEYsaUJBQUFGLFdBS0FWLG9CQUFBM0MsUUFBQSxrQkFBQSxXQUFBLFNBQUFuaUYsVUFDQSxNQUFBLFVBQUEybEYsSUFBQUMsT0FDQTVsRixTQUFBNmxGLGFBQUFGLElBQ0EzbEYsU0FBQThsRixnQkFBQUYsVUFJQWQsb0JBQUEzQyxRQUFBLGVBQUEsV0FBQSxTQUFBbmlGLFVBQ0EsR0FBQStsRixXQUFBLENBQ0EsUUFDQUMsV0FBQSxXQUNBLE1BQUFELFdBRUFFLGVBQUEsU0FBQUMsU0FDQUgsU0FBQUcsYUFVQXBCLG9CQUFBM0MsUUFBQSxjQUFBLFdBQUEsU0FBQW5pRixVQUNBLE1BQUEsWUFDQSxHQUFBbW1GLFlBQUEsRUFDQWhCLFNBQUFubEYsU0FBQW1sRixRQUtBLE9BSEE5cEYsVUFBQThwRixVQUFBLEtBQUFBLFdBQ0FnQixXQUFBLEdBRUFBLGNBS0FyQixvQkFBQTNDLFFBQUEsWUFBQSxXQUFBLFNBQUFuaUYsVUFDQSxNQUFBLFlBQ0EsR0FBQW1tRixXQUFBLEdBQ0FoQixTQUFBbmxGLFNBQUFtbEYsUUFLQSxPQUhBOXBGLFVBQUE4cEYsVUFBQSxLQUFBQSxXQUNBZ0IsVUFBQW43QixLQUFBbTZCLFdBRUFnQixjQUtBckIsb0JBQUEzQyxRQUFBLGdCQUFBLFdBQUEsU0FBQW5pRixVQUNBLE1BQUEsWUFDQSxHQUFBbW1GLFdBQUEsR0FDQUMsU0FBQXBtRixTQUFBdTFFLFNBS0EsT0FIQWw2RSxVQUFBK3FGLFVBQUEsS0FBQUEsV0FDQUQsVUFBQUMsVUFFQUQsY0FLQXJCLG9CQUFBM0MsUUFBQSxhQUFBLFdBQUEsU0FBQW5pRixVQUNBLE1BQUEsWUFDQSxHQUFBbW1GLFdBQUEsR0FDQTFXLE9BQUF6dkUsU0FBQXFsRixHQUtBLE9BSEFocUYsVUFBQW8wRSxRQUFBLEtBQUFBLFNBQ0EwVyxVQUFBMVcsUUFFQTBXLGNBS0FyQixvQkFBQTNDLFFBQUEsZUFBQSxXQUFBLFNBQUFuaUYsVUFDQSxNQUFBLFlBQ0EsR0FBQW1tRixXQUFBLEdBQ0FmLFlBQUFwbEYsU0FBQW9sRixXQUtBLE9BSEEvcEYsVUFBQStwRixhQUFBLEtBQUFBLGNBQ0FlLFVBQUFmLGFBRUFlLGNBS0FyQixvQkFBQTNDLFFBQUEsZUFBQSxXQUFBLFNBQUFuaUYsVUFDQSxNQUFBLFlBQ0EsR0FBQW1tRixXQUFBLEdBQ0FoL0UsU0FBQW5ILFNBQUFzbEYsU0FLQSxPQUhBanFGLFVBQUE4TCxVQUFBLEtBQUFBLFdBQ0FnL0UsVUFBQWgvRSxVQUVBZy9FLGNBT0FyQixvQkFBQTNDLFFBQUEsZUFBQSxXQUFBLFNBQUFuaUYsVUFDQSxNQUFBLFlBQ0FBLFNBQUFtbEYsU0FBQSxHQUNBbmxGLFNBQUFvbEYsWUFBQSxHQUNBcGxGLFNBQUF1MUUsVUFBQSxHQUNBdjFFLFNBQUFzbEYsVUFBQSxVQzNKQSxXQUNBLFlBRUEsSUFBQTlnRixrQkFBQTNNLFFBQUFDLE9BQUEsbUJBR0EwTSxrQkFBQXhLLFdBQUEsb0JBQUEsU0FBQSxvQkFBQSxlQUFBLE9BQ0EsU0FBQUMsT0FBQXdCLGtCQUFBcVosYUFBQUMsTUFFQSxPQUFBQSxNQUNBLElBQUEsU0FDQTlhLE9BQUFvc0YsVUFBQXZ4RSxhQUFBM0IsTUFBQSxJQUFBMkIsYUFBQTFCLEtBQ0EsTUFDQSxLQUFBLFFBQ0FuWixPQUFBb3NGLFVBQUF2eEUsYUFBQTBELFVBQ0EsTUFDQSxLQUFBLFNBQ0F2ZSxPQUFBb3NGLFVBQUF2eEUsYUFBQWpDLFdBQ0EsTUFDQSxLQUFBLGVBQ0E1WSxPQUFBb3NGLFVBQUF2eEUsYUFBQXZILElBQ0EsTUFDQSxLQUFBLHNCQUNBdFQsT0FBQW9zRixVQUFBdnhFLGFBQUEwckIsYUFDQSxNQUNBLEtBQUEsZUFDQXZtQyxPQUFBb3NGLFVBQUF2eEUsYUFBQXhaLE1BQ0EsTUFDQSxLQUFBLFlBQ0FyQixPQUFBb3NGLFVBQUF2eEUsYUFBQTdDLFFBQ0EsTUFDQSxLQUFBLCtCQUNBaFksT0FBQW9zRixVQUFBdnhFLGFBQUF1ckIsZUFDQSxNQUNBLEtBQUEsbUJBQ0FwbUMsT0FBQW9zRixVQUFBdnhFLGFBQUFxckIsVUFDQSxNQUNBLEtBQUEsZUFDQWxtQyxPQUFBb3NGLFVBQUF2eEUsYUFBQXVGLFNBQ0EsTUFDQSxLQUFBLGNBQ0FwZ0IsT0FBQW9zRixVQUFBdnhFLGFBQUF1dUQsV0FDQSxNQUNBLEtBQUEsV0FDQXBwRSxPQUFBb3NGLFVBQUF2eEUsYUFBQWl1RCxRQUNBLE1BQ0EsS0FBQSxrQ0FDQTlvRSxPQUFBb3NGLFVBQUF2eEUsYUFBQStKLFNBQ0EsTUFDQSxLQUFBLFNBQ0E1a0IsT0FBQW9zRixVQUFBdnhFLGFBQUFvdUQsT0FDQSxNQUNBLEtBQUEsZUFDQWpwRSxPQUFBb3NGLFVBQUF2eEUsYUFBQWxGLElBQ0EsTUFDQSxLQUFBLDBCQUNBM1YsT0FBQW9zRixVQUFBdnhFLGFBQUFnZ0QsT0FDQSxNQUNBLEtBQUEsdUJBQ0E3NkQsT0FBQW9zRixVQUFBdnhFLGFBQUErL0MsT0FDQSxNQUNBLEtBQUEsZUFDQTU2RCxPQUFBb3NGLFVBQUF2eEUsYUFBQTBGLFVBQ0EsTUFDQSxLQUFBLGtCQUNBdmdCLE9BQUFvc0YsVUFBQXZ4RSxhQUFBb0YsTUFDQSxNQUNBLEtBQUEsY0FDQWpnQixPQUFBb3NGLFVBQUF2eEUsYUFBQXhaLE1BQ0EsTUFDQSxLQUFBLGNBQ0FyQixPQUFBb3NGLFVBQUF2eEUsYUFBQXJTLE1BQ0EsTUFDQSxLQUFBLGVBQ0F4SSxPQUFBb3NGLFVBQUF2eEUsYUFBQW1nQixpQkFDQSxNQUNBLEtBQUEsNkJBQ0FoN0IsT0FBQW9zRixVQUFBdnhFLGFBQUF1Z0QsZUFDQSxNQUNBLEtBQUEsaUJBQ0FwN0QsT0FBQW9zRixVQUFBdnhFLGFBQUFxQyxrQkFDQSxNQUNBLEtBQUEsa0JBQ0FsZCxPQUFBb3NGLFVBQUF2eEUsYUFBQWxGLElBQ0EsTUFDQSxLQUFBLE1BQ0EsR0FBQWd5QixPQUFBLEdBQUF2M0IsTUFBQXlLLGFBQUErdEIsV0FDQTkwQixLQUFBNnpCLE1BQUE3bEIsY0FDQWpPLE1BQUE4ekIsTUFBQTVsQixXQUNBcE8sS0FBQSxJQUFBZzBCLE1BQUExbEIsV0FBQUQsTUFBQSxJQUNBNGxCLFlBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQ0FDLFdBQUFELFdBQUEvekIsT0FBQSxJQUFBRixJQUFBLEtBQUFHLElBRUE5VCxRQUFBb3NGLFVBQUEsZUFBQXZrRCxVQUNBLE1BQ0EsS0FBQSxTQUNBN25DLE9BQUFvc0YsVUFBQXZ4RSxhQUFBbUYsY0FDQSxNQUNBLEtBQUEsa0JBQ0FoZ0IsT0FBQW9zRixVQUFBLGlCQUNBLE1BQ0EsS0FBQSxPQUNBLEdBQUFseEUsR0FBQTlaLFNBQUF5WixhQUFBbEYsTUFBQSxPQUFBa0YsYUFBQWxGLEtBQUFrRixhQUFBbEYsS0FBQWtGLGFBQUE3RSxTQUNBa0YsR0FBQSxPQUFBQSxHQUFBOVosU0FBQThaLEVBQUFBLEVBQUFMLGFBQUFuRixRQUNBMVYsT0FBQW9zRixVQUFBbHhFLENBQ0EsTUFDQSxLQUFBLE9BQ0FsYixPQUFBb3NGLFVBQUF2eEUsYUFBQWk2QyxnQkFLQTkwRCxPQUFBOGEsS0FBQUEsS0FFQTlhLE9BQUF5QixHQUFBLFdBQ0FELGtCQUFBRSxNQUFBbVosZUFHQTdhLE9BQUFnUyxPQUFBLFdBQ0F4USxrQkFBQXVPLFFBQUEsa0JDL0dBLFNBQUFuSSxHQUNBLFFBQUF5a0YsV0FBQUMsTUFBQTNtRixTQUNBLE1BQUFGLGdCQUFBNG1GLFlBQUEsZ0JBQUFDLE9BQUEzbUYsUUFBQTJtRixPQUFBM21GLFFBQUFBLFlBQ0FBLFFBQUEybUYsTUFBQUEsT0FBQTdtRixLQUFBaEIsR0FBQSxPQUFBZ0IsS0FBQThtRixLQUFBM2tGLEVBQUFpN0IsUUFBQSxLQUFBcDlCLEtBQUFqRixTQUFBbUYsU0FDQUYsS0FBQSttRixhQUFBN21GLFNBQUEsU0FBQUEsUUFBQThtRixZQUFBaG5GLEtBQUFpbkYsWUFBQS9tRixnQkFDQWduRixjQUFBbG5GLEtBQUE4bUYsS0FBQUQsTUFBQTNtRixRQUFBRixLQUFBOG1GLE9BQUEsR0FBQUYsV0FBQUMsTUFBQTNtRixTQUVBLFFBQUFpbkYsdUJBQUFwTSxXQUNBLEdBQUEvN0UsSUFBQTgvRSxTQUFBQyxjQUFBLFNBQUErRyxPQUFBLEtBQUEvSyxVQUFBcU0sWUFBQXRCLFNBQUE5bUYsR0FDQSxPQUFBb29GLGVBQUFwb0YsR0FBQXFvRixhQUFBdkIsT0FBQSxXQUFBc0IsWUFBQSxrQkFBQXBvRixJQUFBOG1GLFNBQ0E5bUYsR0FBQSxLQUFBb29GLFlBRUEsUUFBQUUsc0JBQUFDLFdBQ0EsR0FBQUgsYUFBQSxTQUFBRyxXQUFBLFFBQUFBLFdBQUEsYUFBQUEsU0FDQSxLQUFBSCxZQUFBLENBQ0EsR0FBQXBvRixJQUFBOC9FLFNBQUFDLGNBQUEsUUFDQS8vRSxJQUFBcW9GLGFBQUEsT0FBQUUsV0FBQUgsWUFBQSxTQUFBcG9GLEdBQUE2TyxLQUFBN08sR0FBQSxLQUVBLE1BQUFvb0YsYUFFQSxRQUFBRixjQUFBTSxTQUFBdG5GLFFBQUE0bUYsTUFDQSxHQUFBVyxpQkFBQVgsS0FBQVksUUFBQUYsU0FDQSxPQUFBQyxrQkFBQUEsZ0JBQUFaLE9BQUFLLGFBQUFPLGdCQUFBWixNQUFBLE9BQUFDLE1BQ0Eza0YsRUFBQWk3QixRQUFBLEVBQUEwcEQsS0FBQVcsaUJBQUF0bEYsRUFBQWk3QixRQUFBLEVBQUEwcEQsS0FBQTVtRixVQUFBLElBQUEsT0FBQTRtRixLQUFBYSxPQUFBYixLQUFBYSxLQUFBSCxXQUNBLEdBRUEsUUFBQUksd0JBQUFDLElBQUFmLEtBQUFHLGFBQ0EsUUFBQWEsY0FBQUMsT0FBQUMsWUFDQUEsV0FBQSxTQUFBQSxXQUFBQSxXQUFBSCxJQUFBSSxhQUFBLGtCQUFBRixRQUNBLE9BQUFDLGFBQUEsZ0JBQUFBLGNBQUEsSUFBQUQsT0FBQXRqRixRQUFBLE1BQUF1akYsV0FBQXR1RSxPQUFBc3VFLFlBQUEsVUFBQUEsV0FBQUEsWUFBQSxFQUFBLFNBQUFBLGFBQUFBLFlBQUEsSUFDQSxTQUFBRCxRQUFBLElBQUFDLFdBQUF2akYsUUFBQSxNQUFBd2lGLFlBQUFjLFFBQUFDLFdBQUFydkYsUUFBQSxXQUFBLElBQUFRLE1BQUEsS0FDQTh0RixZQUFBYyxRQUFBLEdBQUFkLFlBQUFjLFFBQUEsR0FBQXB2RixRQUFBLElBQUEsSUFBQXN1RixZQUFBYyxRQUFBZCxZQUFBYyxRQUFBOW5GLE9BQUEsR0FBQWduRixZQUFBYyxRQUFBZCxZQUFBYyxRQUFBOW5GLE9BQUEsR0FBQXRILFFBQUEsSUFBQSxLQUFBc3VGLFlBQUFjLFFBQUFDLFlBRUEsR0FBQUQsUUFBQUcsWUFBQUYsV0FBQUcsWUFBQU4sSUFBQUksYUFBQSxpQkFDQUUsY0FBQSxLQUFBQSxjQUFBQSxZQUFBQSxZQUFBeHZGLFFBQUEsR0FBQXl2RixRQUFBLElBQUEsS0FBQSxLQUNBRixZQUFBdCtFLEtBQUF5K0UsTUFBQSxJQUFBRixZQUFBLEtBQ0EsS0FBQUosU0FBQWpCLE1BQUEsQ0FDQSxHQUFBb0IsWUFBQSxDQUNBRixXQUFBLE1BQ0EsS0FBQSxHQUFBeHhELEtBQUEweEQsYUFBQSxHQUFBMXhELEVBQUFpbkMsZ0JBQUFzcUIsT0FBQXRxQixjQUFBLENBQ0F1cUIsV0FBQUUsWUFBQTF4RCxFQUNBLFFBR0FzeEQsYUFBQUMsT0FBQUMsWUFFQSxHQUFBZixZQUFBSixNQUFBLENBQ0FLLGFBQUFELFlBQUFKLE1BQUFJLFlBQUFILEtBQ0EsS0FBQWlCLFNBQUFqQixNQUFBZ0IsYUFBQUMsUUFFQSxNQUFBNWxGLEdBQUFpN0IsUUFBQSxFQUFBMHBELEtBQUFHLGFBQUFILEtBRUEsUUFBQXdCLGlCQUFBeEIsS0FBQXlCLFNBQ0EsUUFBQUMsYUFBQWIsTUFDQSxRQUFBYyxXQUFBQyxRQUFBQyxXQUFBQyxhQUFBQyxjQUNBN29GLEtBQUE4b0YsV0FBQTlvRixLQUFBMG9GLFFBQUFBLFVBQUEsRUFBQTFvRixLQUFBMm9GLFdBQUFBLGFBQUEsRUFDQTNvRixLQUFBNG9GLGFBQUFBLGVBQUEsRUFBQTVvRixLQUFBNm9GLGFBQUFBLGVBQUEsRUFDQTdvRixLQUFBK29GLFlBQ0FoN0QsSUFBQSxFQUNBeTNDLElBQUEsR0FHQSxRQUFBd2pCLHNCQUFBQyxPQUFBbHdGLFFBQUF5UyxVQUNBLEdBQUEwOUUsU0FBQXBDLEtBQUFFLFlBQUFqdUYsUUFDQXlTLFVBQUEsU0FBQUEsU0FBQUEsU0FBQXk5RSxPQUFBSCxRQUFBN29GLE1BQ0EsSUFBQWtwRixXQUFBRixPQUFBSCxRQUFBdDlFLFNBQUEsRUFDQSxJQUFBMDlFLFVBQUFFLFFBQUEsQ0FDQUYsUUFBQXJ1RixZQUFBc0gsRUFBQWtuRixXQUFBSCxRQUFBcnVGLGFBQUFxdUYsUUFBQXJ1RixZQUFBaXNGLE1BQUFvQyxRQUFBcnVGLFdBQ0EsS0FBQSxHQUFBeXVGLGVBQUFKLFFBQUFLLGFBQUFDLGVBQUFGLGNBQUFBLGNBQUFycEYsT0FBQSxFQUFBeUMsRUFBQSxFQUFBQSxFQUFBd21GLFFBQUFPLFlBQUEvbUYsSUFBQSxDQUNBLEdBQUE2bUYsY0FBQUMsZ0JBQUE5bUYsRUFBQTRtRixjQUFBNW1GLEVBQUEsTUFBQWduRixVQUFBSCxhQUFBRyxVQUFBRCxZQUFBRixhQUFBRSxXQUNBUixRQUFBSCxRQUFBcGtGLE9BQUE4RyxXQUFBLEdBQ0FtK0UsR0FBQUQsVUFBQSxnQkFBQUEsV0FBQSxHQUFBdEIsUUFBQXNCLFdBQUEsR0FBQSxZQUNBMXBGLEtBQUE3QixLQUFBdXJGLFdBQ0EsR0FBQXRCLFFBQUEsS0FDQXFCLFlBQUFBLFlBQUFBLFlBQUEsRUFDQUcsWUFBQVgsT0FBQU4sV0FDQWtCLGVBQUEsU0FBQVYsV0FBQUEsVUFBQVcsT0FBQVosUUFBQWEsa0JBQUFoeEYsU0FDQWl4RixPQUFBZCxRQUFBYyxPQUNBRixJQUFBWixRQUFBYSxrQkFBQWh4RixRQUNBOEIsWUFBQXF1RixRQUFBcnVGLFlBQ0E4c0YsS0FBQTV1RixVQUNBb3dGLFVBQUFGLE9BQUFILFFBQUF0OUUsU0FBQSxHQUVBeTlFLE9BQUFILFFBQUFwa0YsT0FBQThHLFdBQUEsR0FDQW0rRSxHQUFBVCxRQUFBUSxVQUFBLGdCQUFBUixTQUFBUSxVQUFBLEdBQUF0QixRQUFBYyxRQUFBUSxXQUFBLEdBQUEsWUFDQTFwRixLQUFBN0IsS0FBQStxRixRQUFBUSxXQUNBLEdBQUF0QixRQUFBLEtBQ0FxQixZQUFBUCxRQUFBTyxZQUNBRyxZQUFBWCxPQUFBTixXQUNBa0IsZUFBQSxTQUFBVixXQUFBQSxVQUFBVyxPQUFBWixRQUFBYSxrQkFBQWh4RixTQUNBaXhGLE9BQUFkLFFBQUFjLE9BQ0FGLElBQUFaLFFBQUFhLGtCQUFBaHhGLFFBQ0E4QixZQUFBcXVGLFFBQUFydUYsWUFDQThzRixLQUFBNXVGLGNBRUFrd0YsUUFBQUgsUUFBQXBrRixPQUFBOEcsV0FBQSxHQUNBbStFLEdBQUEsS0FDQUYsWUFBQSxFQUNBRyxZQUFBWCxPQUFBTixXQUNBa0IsZUFBQSxTQUFBVixXQUFBQSxVQUFBVyxNQUFBL3dGLFFBQ0FpeEYsT0FBQSxLQUNBRixJQUFBL3dGLFFBQ0E4QixZQUFBLE9BQ0E4c0YsS0FBQTV1RixVQUNBcXdGLFNBQUEsRUFFQSxRQUFBYSxtQkFBQUMsVUFBQUMsYUFDQUQsVUFBQXhCLFVBQUF3QixVQUFBeEIsU0FBQSxFQUFBTSxxQkFBQWtCLFVBQUFwRCxLQUFBc0QsWUFBQUMsTUFBQSxHQUNBRixlQUFBLEdBQUFuQixxQkFBQWtCLFVBQUFwRCxLQUFBc0QsWUFBQUUsTUFFQSxRQUFBQyxrQkFBQXY3RSxFQUFBdzdFLGFBQUFOLFVBQUFPLGdCQUNBRCxhQUFBMUIsUUFBQTdvRixPQUFBLElBQUEsU0FBQXdxRixnQkFBQUEsa0JBQUFQLFVBQUFNLGFBQUExQixRQUFBMEIsYUFBQTFCLFFBQUE3b0YsT0FBQSxHQUNBZ3FGLGtCQUFBQyxZQUFBbEIscUJBQUF3QixhQUFBeDdFLEdBRUEsUUFBQTA3RSxlQUNBLEdBQUFDLFdBQUExcUYsT0FBQSxHQUNBLEdBQUEycUYsb0JBQUFELFdBQUFBLFdBQUExcUYsT0FBQSxHQUFBc3FGLGlCQUFBdjdFLEVBQUE0N0Usb0JBQUFWLFdBQUFVLG9CQUFBL0IsY0FDQStCLG9CQUFBL0IsYUFBQSxDQUNBZ0MsV0FBQUYsV0FBQUcsS0FDQSxLQUFBLEdBQUFDLE1BQUEsRUFBQUEsS0FBQUYsV0FBQS9CLFFBQUE3b0YsT0FBQThxRixPQUFBRixXQUFBL0IsUUFBQWlDLE1BQUFyQyxTQUFBLENBQ0FpQyxZQUFBMXFGLE9BQUEsR0FBQTJxRixvQkFBQUQsV0FBQUEsV0FBQTFxRixPQUFBLEdBQ0EycUYsb0JBQUE5QixRQUFBNXJGLEtBQUEydEYsYUFBQUwsYUFBQTFCLFFBQUE1ckYsS0FBQTJ0RixpQkFFQU4sa0JBQUF2N0UsRUFBQXc3RSxhQUFBTixXQUVBLFFBQUFjLGVBQUFDLFdBQ0EsUUFBQUMsZUFBQXJtRixJQUNBLE1BQUFBLE1BQUFpaUYsS0FBQXFFLGVBQUFkLE1BQUF4bEYsR0FBQWlpRixLQUFBcUUsZUFBQWIsSUFBQXpsRixLQUFBaWlGLEtBQUFxRSxlQUFBYixJQUFBemxGLEdBQUFpaUYsS0FBQXFFLGVBQUFkLE1BQUF4bEYsS0FBQWlpRixLQUFBc0QsWUFBQUMsTUFBQXhsRixHQUFBaWlGLEtBQUFzRCxZQUFBRSxJQUFBemxGLEtBQUFpaUYsS0FBQXNELFlBQUFFLE1BQUF6bEYsR0FBQWlpRixLQUFBc0QsWUFBQUMsT0FDQXhsRixHQUVBb21GLFVBQUFuQyxRQUFBbUMsVUFBQW5DLFFBQUE1bUYsU0FDQSxLQUFBLEdBQUEwUSxTQUFBcTRFLFdBQUFuQyxRQUFBLENBQ0EsR0FBQXNDLFVBQUF2ckYsU0FBQStTLE1BQ0EsSUFBQXE0RSxVQUFBbkMsUUFBQWwyRSxPQUFBZzJFLGNBQUFxQyxVQUFBbkMsUUFBQXNDLFNBQUEsSUFBQUgsVUFBQW5DLFFBQUFzQyxTQUFBLEdBQUExQyxRQUFBLENBQ0EsR0FBQTJDLElBQUFKLFVBQUFuQyxRQUFBbDJFLE1BQ0FxNEUsV0FBQW5DLFFBQUFwa0YsT0FBQWtPLE1BQUEsR0FBQXE0RSxVQUFBbkMsUUFBQXBrRixPQUFBMG1GLFNBQUEsRUFBQSxFQUFBQyxJQUVBSixVQUFBbkMsUUFBQWwyRSxPQUFBLFNBQUFxNEUsVUFBQW5DLFFBQUFsMkUsT0FBQWsyRSxRQUFBa0MsY0FBQUMsVUFBQW5DLFFBQUFsMkUsUUFBQXM0RSxjQUFBRCxVQUFBbkMsUUFBQWwyRSxRQUVBLE1BQUFxNEUsV0FFQSxJQUFBLEdBQUFyNEUsT0FBQTVELEVBQUFzOEUsYUFBQVYsb0JBQUFDLFdBQUFYLFVBQUFxQixXQUFBQyxVQUFBLGlFQUFBcEMsU0FBQSxFQUFBb0IsYUFBQSxHQUFBL0IsV0FBQWtDLGNBQUFjLGNBQUE3NEUsTUFBQTQ0RSxVQUFBRSxLQUFBL0QsT0FBQSxHQUFBMzRFLEVBQUE0RCxNQUFBLEdBQ0F3MkUsUUFBQXNCLGtCQUFBLFFBQUExN0UsRUFBQTI4RSxPQUFBLElBQ0EsSUFBQTdFLE1BQUE4RSxXQUNBeEMsU0FBQSxDQUNBLE1BRUEsS0FBQXRDLE1BQUFxRSxlQUFBYixJQUNBLElBQUF4RCxNQUFBc0QsWUFBQUUsSUFDQSxHQUFBZ0IsYUFBQVgsV0FBQUcsTUFBQSxTQUFBUSxhQUFBLEdBQUFYLFdBQUExcUYsT0FBQSxHQUNBLEdBQUEycUYsb0JBQUFELFdBQUFBLFdBQUExcUYsT0FBQSxHQUFBMnFGLG9CQUFBOUIsUUFBQTVyRixLQUFBb3VGLGNBQ0FWLG9CQUFBL0IsYUFBQSxDQUNBZ0MsV0FBQUYsV0FBQUcsS0FDQSxLQUFBLEdBQUFDLE1BQUEsRUFBQUEsS0FBQUYsV0FBQS9CLFFBQUE3b0YsT0FBQThxRixPQUFBRixXQUFBL0IsUUFBQWlDLE1BQUFyQyxTQUFBLENBQ0FpQyxZQUFBMXFGLE9BQUEsR0FBQTJxRixvQkFBQUQsV0FBQUEsV0FBQTFxRixPQUFBLEdBQ0EycUYsb0JBQUE5QixRQUFBNXJGLEtBQUEydEYsYUFBQUwsYUFBQTFCLFFBQUE1ckYsS0FBQTJ0RixpQkFFQUwsY0FBQTFCLFFBQUE1ckYsS0FBQW91RixrQkFBQVosY0FDQSxNQUVBLEtBQUE1RCxNQUFBcUUsZUFBQWQsTUFDQU0sV0FBQXp0RixLQUFBLEdBQUF1ckYsWUFBQSxHQUFBLEdBQ0EsTUFFQSxLQUFBM0IsTUFBQXNELFlBQUFDLE1BQ0FNLFdBQUF6dEYsS0FBQSxHQUFBdXJGLFlBQUEsR0FDQSxNQUVBLEtBQUEzQixNQUFBK0UsaUJBQUF4QixNQUNBLEdBQUF0QixZQUFBLEdBQUFOLFlBQUEsR0FBQSxHQUFBLEVBQ0F6NUUsR0FBQUEsRUFBQXJXLFFBQUEsUUFBQSxHQUNBLElBQUFtekYsSUFBQTk4RSxFQUFBN1YsTUFBQSxLQUFBNHlGLElBQUE3N0QsTUFBQTQ3RCxHQUFBLElBQUFBLEdBQUEsR0FBQWpzRixTQUFBaXNGLEdBQUEsSUFBQUUsSUFBQSxJQUFBRixHQUFBN3JGLE9BQUE4ckYsSUFBQTc3RCxNQUFBNDdELEdBQUEsSUFBQUEsR0FBQSxHQUFBanNGLFNBQUFpc0YsR0FBQSxHQUNBLEtBQUEsTUFBQUUsS0FBQSxNQUFBQSxPQUFBRCxJQUFBLE1BQUFDLElBQUEsRUFBQSxHQUFBakQsV0FBQUEsWUFDQWg3RCxJQUFBZytELElBQ0F2bUIsSUFBQXdtQixLQUNBckIsV0FBQTFxRixPQUFBLEVBQUEsQ0FDQSxHQUFBNm9GLFNBQUE2QixXQUFBQSxXQUFBMXFGLE9BQUEsR0FBQTZvRixPQUNBbDJFLE9BQUFrMkUsUUFBQWdDLE1BQUFsNEUsTUFBQTgxRSxVQUFBNkMsV0FBQSxHQUFBOUMsWUFBQSxHQUFBOEMsV0FBQXpDLFFBQUE1ckYsS0FBQTBWLE9BQ0FBLE1BQUEyNEUsWUFBQXpDLFFBQUE1ckYsS0FBQTBWLE9BQUFrMkUsUUFBQTVyRixLQUFBNnJGLGdCQUNBbjJFLE9BQUE0M0UsYUFBQTFCLFFBQUFnQyxNQUFBbDRFLE1BQUE4MUUsVUFBQTZDLFdBQUEsR0FBQTlDLFlBQUEsR0FDQThDLFdBQUF6QyxRQUFBNXJGLEtBQUEwVixPQUFBQSxNQUFBMjRFLFlBQUFmLGFBQUExQixRQUFBNXJGLEtBQUEwVixPQUNBNDNFLGFBQUExQixRQUFBNXJGLEtBQUE2ckYsV0FDQSxNQUVBLEtBQUFqQyxNQUFBbUYsaUJBQ0F0QixXQUFBMXFGLE9BQUEsR0FBQTJxRixvQkFBQUQsV0FBQUEsV0FBQTFxRixPQUFBLEdBQ0FpcUYsVUFBQVUsb0JBQUE5QixRQUFBZ0MsT0FBQVosVUFBQU0sYUFBQTFCLFFBQUFnQyxNQUNBWixVQUFBckIsYUFBQThCLFdBQUF6dEYsS0FBQWd0RixZQUFBVyxXQUFBLEdBQUFwQyxZQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0FvQyxXQUFBL0IsUUFBQTVyRixLQUFBZ3RGLFdBQUFTLFdBQUF6dEYsS0FBQTJ0RixZQUNBLE1BRUEsU0FDQUgsY0FFQSxLQUFBQyxXQUFBMXFGLE9BQUEsR0FBQXFyRixhQUFBWCxXQUFBRyxNQUFBYixrQkFBQXFCLGNBQUEsR0FDQWQsYUFBQTFCLFFBQUE1ckYsS0FBQW91RixhQUNBLE9BQUFkLGNBQUExQixRQUFBN29GLE9BQUEsSUFBQWlxRixVQUFBTSxhQUFBMUIsUUFBQTBCLGFBQUExQixRQUFBN29GLE9BQUEsR0FDQWdxRixrQkFBQUMsV0FBQXVCLFdBQUF2dUYsS0FBQXN0RixlQUFBMUQsS0FBQW9GLGNBQUFsQixjQUFBUyxXQUFBLElBQ0FBLFdBRUEsUUFBQVUsY0FBQXhFLEtBQUF5RSxVQUNBLEdBQUEsT0FBQXpFLE1BQUEsS0FBQUEsS0FBQSxNQUFBLE9BQ0EsSUFBQSxJQUFBQSxLQUFBMW5GLFFBQUE2bUYsS0FBQXVGLFVBQUEsR0FBQSxJQUFBdkYsS0FBQXdGLFNBQUF4RixLQUFBanNGLFlBQUEsSUFDQWlzRixLQUFBd0YsT0FBQSxHQUFBLE1BQUF4RixLQUFBd0YsUUFBQSxNQUFBeEYsS0FBQXdGLE9BQUEsQ0FDQSxHQUFBQyxhQUFBLE1BQUF6RixLQUFBd0YsT0FBQSxFQUFBLE1BQUF4RixLQUFBd0YsT0FBQSxFQUFBeEYsS0FBQXdGLE1BQ0EzRSxNQUFBYixLQUFBc0QsWUFBQUMsTUFBQTFDLEtBQUFiLEtBQUFzRCxZQUFBRSxJQUFBeEQsS0FBQStFLGlCQUFBeEIsTUFBQWtDLFlBQUEsSUFBQXpGLEtBQUF3RixPQUFBeEYsS0FBQStFLGlCQUFBdkIsSUFFQSxHQUFBa0Msa0JBQ0EsT0FBQSxVQUFBNUYsVUFBQWgrRSxVQUFBNmpGLFdBQUE5RSxPQUFBWSxXQUFBLEdBQUFpRSxtQkFDQTdFLEtBQUFBLEtBQ0FzRCxVQUFBekMsWUFBQWIsTUFDQStFLGtCQUNBQyxRQUFBLE9BQ0FDLE9BQUEsT0FDQUMsU0FDQVQsU0FBQUEsVUFDQTdELFdBQUEsSUFBQTNCLFVBQUFoK0UsVUFBQTZqRixXQUFBM0YsS0FBQW9GLGFBQUF2RSxLQUFBeHVGLE1BQUEsSUFBQStJLFVBQUEwQixLQUFBLElBQUErakYsTUFBQTZFLGtCQUNBQSxrQkFBQXJxRixFQUFBaTdCLFFBQUEsS0FBQXdwRCxVQUFBaCtFLFVBQUE2akYsV0FBQTNGLEtBQUFvRixhQUFBdkUsS0FBQXh1RixNQUFBLElBQUErSSxVQUFBMEIsS0FBQSxJQUFBK2pGLFNBQUE2RSxrQkFBQXJxRixFQUFBaTdCLFFBQUEsS0FBQXdwRCxVQUFBaCtFLFVBQUE2akYsV0FBQTNGLEtBQUFvRixhQUFBdkUsS0FBQXh1RixNQUFBLElBQUErSSxVQUFBMEIsS0FBQSxJQUFBK2pGLE9BQ0E2RSxrQkFFQSxRQUFBTSxnQkFBQW5GLE1BQ0EsTUFBQUEsTUFBQUEsS0FBQTk0RSxXQUVBLEdBQUF3ckIsR0FDQSxJQUFBbDRCLEVBQUFrbkYsV0FBQXZDLEtBQUFhLFFBQUFiLEtBQUFhLEtBQUFiLEtBQUFhLEtBQUFiLE9BQUEza0YsRUFBQXlnRixRQUFBa0UsS0FBQWEsTUFBQSxDQUNBLEdBQUFiLEtBQUFhLEtBQUExbkYsT0FBQSxFQUFBLENBQ0E2bUYsS0FBQWlHLFdBQUEsT0FBQWpHLEtBQUFpRyxZQUFBLEVBQUFqRyxLQUFBaUcsVUFDQSxJQUFBQyxTQUFBLEdBQ0EsT0FBQTdxRixHQUFBQyxLQUFBMGtGLEtBQUFvRixhQUFBcEYsS0FBQWEsS0FBQXpsRixVQUFBNGtGLEtBQUFhLEtBQUEsU0FBQXNGLElBQUFDLEtBQ0FGLFFBQUEvc0YsT0FBQSxJQUFBK3NGLFNBQUEsT0FBQUEsU0FBQUYsZUFBQSxTQUFBSSxJQUFBdkYsTUFBQXhsRixFQUFBa25GLFdBQUE2RCxJQUFBdkYsTUFBQXVGLElBQUFBLElBQUF2RixRQUNBcUYsU0FBQSxJQUFBYixhQUFBYSxRQUFBbEcsS0FBQWEsTUFFQWIsS0FBQWEsS0FBQWIsS0FBQWEsS0FBQW1ELE1BRUEsTUFBQWhFLE1BQUFhLE9BQUF0dEQsR0FBQSxTQUFBeXNELEtBQUFhLEtBQUFBLE1BQUF4bEYsRUFBQWtuRixXQUFBdkMsS0FBQWEsS0FBQUEsTUFBQXdFLGFBQUFXLGVBQUFoRyxLQUFBYSxNQUFBYixLQUFBYSxNQUFBd0UsYUFBQVcsZUFBQWhHLEtBQUFhLEtBQUFBLE1BQUFiLEtBQUFhLE9BQ0F0dEQsR0FFQSxRQUFBOHlELFdBQUFDLFVBQUFDLFFBQUF2RyxNQUNBLFFBQUF3RyxpQkFBQUMsWUFBQUMsV0FBQUMsY0FDQUQsV0FBQUEsWUFBQSxDQUNBLElBQUFFLFdBQUF2dkYsS0FBQXd2RixRQUFBQyxnQkFBQUMsSUFBQSxDQUNBLEdBQUEsQ0FDQSxHQUFBTixlQUFBLEdBQUFPLGFBQUFwQixlQUFBbUIsS0FBQSxDQUNBLEdBQUFFLFVBQUFELGFBQUFwQixlQUFBbUIsSUFDQTF2RixNQUFBNHZGLFNBQUFuN0UsTUFBQTg2RSxVQUFBSyxTQUFBQyxRQUFBenhFLFFBQUFxeEUsYUFBQTF3RixLQUFBdXdGLGdCQUFBLEVBQUFNLFNBQUFFLE1BQUFDLGVBQUFMLElBQUExdkYsV0FDQXd2RixTQUFBUSxnQkFBQU4sSUFBQUgsVUFBQUcsSUFBQSxHQUFBMXZGLEtBQUF3dkYsUUFBQS82RSxNQUNBODZFLFVBQUFDLFFBQUFLLFFBQUF6eEUsUUFBQXF4RSxhQUFBMXdGLEtBQUFneEYsZUFBQUwsSUFBQTF2RixNQUNBMHZGLGNBQ0EsU0FBQU8sV0FBQUEsVUFBQVAsSUFBQSxJQUFBLE9BQUExdkYsS0FBQXdyRixJQUFBLE9BQUF4ckYsS0FBQXdyRixJQUFBLEtBQUF4ckYsS0FBQTJyRixLQUFBMEQsWUFBQUssSUFDQSxPQUFBRCxjQUFBOUMsTUFBQThDLGFBRUEsUUFBQUUsY0FDQSxNQUFBVCxTQUVBLFFBQUFnQixjQUFBQyxNQUNBLEdBQUFqQixTQUFBUyxZQUNBVCxTQUFBVCxPQUFBLE9BQUFTLFFBQUFSO0FBQUF5QixRQUFBLElBQUFqQixRQUFBVixRQUFBLE9BQ0FVLFFBQUFYLGtCQUFBVyxRQUFBNzJELEVBQUEsR0FFQSxRQUFBKzNELHNCQUFBQyxVQUFBQyxRQUNBLEdBQUFwQixTQUFBUyxhQUFBWSxrQkFBQSxHQUFBQyxPQUFBdEIsUUFBQVgsY0FDQSxVQUFBOEIsWUFBQUEsVUFBQSxHQUNBLElBQUFJLFFBQUFGLGtCQUFBRyxNQUFBSCxpQkFDQSxLQUFBLEdBQUFJLFVBQUFILFFBQUEsQ0FDQSxHQUFBSSxPQUFBbHZGLFNBQUFpdkYsT0FDQUgsUUFBQUksU0FBQU4sUUFBQSxPQUFBRSxPQUFBSSxPQUFBbjhFLE1BQUErMkUsTUFBQTZFLFdBQUFPLFFBQUFILE9BQUFHLE9BQ0FBLE9BQUFQLFlBQUFLLE1BQUFFLFFBRUEsTUFBQUwsbUJBQUEsS0FBQUUsUUFBQUosVUFBQUksT0FBQSxHQUFBSixVQUFBSyxNQUFBRCxPQUFBQyxNQUVBLFFBQUFHLGtCQUFBbkIsSUFBQW9CLFVBQUFDLGNBQ0EsR0FBQXBJLEtBQUFxSSxZQUFBLFNBQUFyQixhQUFBcEIsZUFBQW1CLE1BQUEsU0FBQXFCLGFBQUEsQ0FDQSxHQUFBeHNGLEdBQUEwc0YsZUFBQWp0RixFQUFBaTdCLFFBQUEsS0FBQTB3RCxhQUFBcEIsZ0JBQUEyQyxJQUFBZCxzQkFDQSxLQUFBN3JGLEVBQUFtckYsSUFBQXdCLEtBQUEzc0YsRUFBQUEsVUFBQW9yRixjQUFBcEIsZUFBQWhxRixFQUNBb3JGLGNBQUFwQixlQUFBbUIsS0FBQW9CLFNBQ0EsSUFBQUssR0FBQXQ3RSxPQUFBLEVBQUF1N0UsSUFBQXpCLGFBQUFwQixjQUNBLEtBQUFocUYsRUFBQTRzRixFQUFBekIsSUFBQXdCLEtBQUEzc0YsRUFBQUEsSUFBQSxDQUNBLEdBQUFzWSxHQUFBbzBFLGVBQUExc0YsRUFDQSxJQUFBLFNBQUFzWSxFQUFBLElBQUEsR0FBQXcwRSxVQUFBRixFQUFBRyxhQUFBLEdBQUFELFNBQUFFLGtCQUFBLE1BQUExMEUsRUFBQXBJLE1BQUErMkUsSUFBQTRGLElBQUE3c0YsS0FBQTZzRixJQUFBN3NGLEdBQUFrUSxNQUFBKzhFLHNCQUFBLEdBQUFKLElBQUE3c0YsR0FBQWtRLE1BQUFnM0UsZUFBQSxJQUFBLE1BQUE1dUUsRUFBQXBJLE1BQUErMkUsS0FBQSxDQUNBLEdBQUEsT0FBQTN1RSxFQUFBcEksTUFBQSsyRSxLQUFBN0MsS0FBQWlHLFlBQUF3QyxJQUFBN3NGLEtBQUEsU0FBQTZzRixJQUFBN3NGLEVBQUEsSUFBQWt0RixTQUFBbHRGLEVBQUEsRUFBQTZzRixJQUFBN3NGLEdBQUFzckYsUUFBQXp4RSxRQUFBN1osR0FBQXpDLE9BQUEsR0FBQSxTQUFBc3ZGLElBQUE3c0YsR0FBQW10RixhQUFBTCxXQUFBQSxTQUFBTSxTQUFBUixHQUNBUywyQkFBQVAsU0FBQXgwRSxFQUFBcEksTUFBQWszRSxLQUFBLENBQ0E5MUUsTUFBQTAxRCxRQUFBOGxCLFNBQUF4MEUsRUFBQWl6RSxPQUFBLEdBQUEsTUFBQSxFQUFBcUIsRUFBQUUsUUFDQSxPQUVBLEdBQUF4N0UsTUFBQSxNQUFBZ0gsRUFBQXBJLE1BQUErMkUsR0FBQThGLGVBQUFELFNBQUEsS0FDQUMsY0FBQUQsU0FFQSxJQUFBeDdFLE1BQUEsTUFFQSxJQUFBQSxNQUFBLE1BQUE4NUUsY0FBQXBCLGVBQUF2cUYsRUFBQWk3QixRQUFBLEtBQUFneUQsZ0JBQ0FmLGNBQUEsSUFBQSxNQUNBUCxjQUFBcEIsZUFBQW1CLEtBQUFvQixTQUNBLE9BQUFaLGVBQUEsSUFBQSxFQUVBLFFBQUEyQixxQkFBQTNGLE1BQUFDLElBQUEyRixRQUFBeEIsUUFDQSxHQUFBL3JGLEdBQUF3dEYsU0FBQTdGLEtBQ0EsS0FBQXlELGFBQUF0M0QsRUFBQTZ6RCxNQUFBM25GLEVBQUF3dEYsU0FBQTVGLElBQUE1bkYsRUFBQUEsSUFBQSxTQUFBb3JGLGFBQUFwQixlQUFBaHFGLEtBQUF1dEYsV0FBQSxHQUFBbkosS0FBQXFKLGlCQUFBckMsYUFBQXByRixFQUFBNnJGLHVCQUFBRSxPQUFBM0gsU0FBQSxVQUFBZ0gsY0FBQXBCLGVBQUFocUYsRUFDQSxLQUFBQSxFQUFBd3RGLFNBQUEsRUFBQXh0RixHQUFBNnJGLHdCQUFBLENBQ0EsS0FBQSxTQUFBVCxhQUFBcEIsZUFBQXdELFdBQUFBLFVBQ0EsSUFBQXgwRixHQUFBb3lGLGFBQUFwQixlQUFBd0QsU0FDQSxJQUFBQSxTQUFBeHRGLElBQUFBLEVBQUF3dEYsU0FBQSxHQUFBLFNBQUFwQyxhQUFBcEIsZUFBQWhxRixJQUFBMHRGLE9BQUExdEYsSUFBQSxTQUFBaEgsRUFBQWdILFFBQUEsQ0FDQSxHQUFBc1ksR0FBQW16RSxnQkFBQXpyRixFQUNBcXRGLDRCQUFBRyxTQUFBbDFFLEVBQUFwSSxNQUFBazNFLEtBQUFwZ0IsUUFBQXdtQixTQUFBbDFFLEVBQUFpekUsT0FBQUMsZUFBQXhyRixJQUFBLE1BQUEsVUFBQW9yRixjQUFBcEIsZUFBQWhxRixHQUNBQSxLQUFBMHRGLE9BQUExdEYsS0FBQUEsSUFBQXd0RixZQUFBQSxZQUdBLEdBQUFiLEtBQUFkLHVCQUFBOEIsR0FBQVgsZUFDQSxLQUFBakIsVUFBQSxHQUFBd0IsV0FBQSxHQUFBLFNBQUFuQyxhQUFBcEIsZUFBQTJDLE1BQUF2QixhQUFBcEIsZUFBQTJDLEtBQUFwQixRQUFBbkgsS0FBQXdKLGtCQUFBeEMsY0FBQXBCLGVBQUEyQyxLQUNBM3NGLEVBQUEyc0YsSUFBQSxFQUFBZ0IsSUFBQTN0RixFQUFBQSxJQUFBb3JGLGFBQUFwQixlQUFBaHFGLFVBQUFvckYsY0FBQXBCLGVBQUFocUYsRUFDQTJyRixlQUFBLEdBRUEsUUFBQUYsaUJBQUFOLElBQUFILFVBQUE2QyxPQUNBLEdBQUE1QyxTQUFBRyxhQUFBcEIsZUFBQW1CLElBQ0EsSUFBQSxTQUFBRixRQUFBLElBQUEsR0FBQTZDLGVBQUFaLFNBQUEvQixJQUFBSCxVQUFBNkMsT0FBQWxCLElBQUFkLHVCQUFBa0MsT0FBQTNDLGFBQUFwQixlQUFBMkMsTUFBQU8sU0FBQSxHQUFBLEdBQUFjLGFBQUEsU0FBQUQsT0FBQVosWUFBQVksT0FBQXpDLFFBQUF5QyxPQUFBWixhQUFBaGhGLFdBQUExVixNQUFBLFFBQUE4ekYsSUFBQSxFQUFBQSxJQUFBdUQsY0FBQXZ3RixTQUFBMHRGLFFBQUE2QyxjQUFBdkQsT0FDQVUsUUFBQS82RSxRQUFBazBFLEtBQUF1RixRQUFBc0IsUUFBQS82RSxNQUFBKzhFLHNCQUFBLElBQUFoQyxRQUFBLzZFLE1BQUFnM0UsZUFBQSxHQUFBK0QsUUFBQS82RSxNQUFBaTNFLGtCQUFBLElBQUE4RCxRQUFBLzZFLE1BQUErOEUsc0JBQUEsS0FBQSxTQUFBYyxPQUFBWixhQUFBWSxPQUFBWixjQUFBbEMsUUFBQWtDLGFBQUEsU0FBQWxDLFFBQUFLLFFBQUF5QyxPQUFBWixjQUFBYyxzQkFBQWhELFFBQUFLLFFBQUF5QyxPQUFBWixhQUFBaGhGLFdBQUExVixNQUFBLEtBQUF1M0YsaUJBQUF6RCxPQUNBLE1BQUFVLFNBRUEsUUFBQWlELFNBQUEvQyxLQUNBLE1BQUFDLGNBQUFwQixlQUFBbUIsS0FBQUMsYUFBQXBCLGVBQUFtQixLQUFBajdFLE1BQUFnOUUsU0FBQS9CLEtBQUEsR0FBQWo3RSxNQUVBLFFBQUFtOUUsNEJBQUFsQyxJQUFBL0QsS0FDQSxJQUFBLEdBQUE5MUUsUUFBQSxFQUFBNjRFLE1BQUErQyxTQUFBL0IsS0FBQWdELEtBQUEsRUFBQUEsS0FBQWhFLE1BQUE1c0YsT0FBQTR3RixPQUFBLEdBQUFoRSxNQUFBZ0UsTUFBQWorRSxPQUFBaTZFLE1BQUFnRSxNQUFBaitFLE1BQUFrM0UsTUFBQUEsSUFBQSxDQUNBOTFFLE9BQUEsQ0FDQSxPQUVBLE1BQUFBLE9BRUEsUUFBQTQ3RSxVQUFBL0IsSUFBQUgsVUFBQTZDLE1BQUFPLFdBQ0EsUUFBQUMsc0JBQUE5RixVQUFBK0YsZUFBQUMsUUFBQUMsbUJBQ0EsUUFBQUMsYUFBQXYrRSxNQUFBcStFLFFBQUFDLG1CQUNBLEdBQUF2RCxRQUFBLElBQUEsS0FBQSxzSkFBQUcsYUFBQW5HLElBQ0EsSUFBQWdHLFVBQUFFLEtBQUEsU0FBQWo3RSxNQUFBazJFLFFBQUEsTUFBQUEsU0FBQTVyRixNQUNBMFYsTUFBQUEsTUFDQW83RSxRQUFBaUQsUUFBQS91RixhQUNBLENBQ0EsSUFBQSxTQUFBMFEsTUFBQWsyRSxTQUNBLEdBQUFsMkUsTUFBQTgxRSxTQUFBd0ksb0JBQUF0K0UsT0FDQSxHQUFBQSxNQUFBdStFLFlBQUFsRyxVQUFBbkMsUUFBQTNtRixFQUFBaXZGLFFBQUF4K0UsTUFBQXE0RSxVQUFBbkMsU0FBQSxHQUFBbUksU0FBQSxPQUFBLE1BQ0EsSUFBQXIrRSxNQUFBKzFFLFdBQUEsQ0FDQSxHQUFBMEksZUFBQXorRSxLQUNBLElBQUFBLE1BQUFtK0UscUJBQUFuK0UsTUFBQW8rRSxlQUFBQyxRQUFBQyxtQkFBQSxDQUNBLEdBQUFJLFlBQUF4SSxRQUFBQSxRQUFBN29GLE9BQUEsR0FBQTJTLE1BQUEyK0UsYUFBQSxJQUFBcHZGLEVBQUFpdkYsUUFBQUUsWUFBQUQsY0FBQXZJLFVBQ0F5SSxhQUFBLE9BQUEsQ0FDQUMsYUFBQSxFQUFBN0QsUUFBQUUsU0FFQSxJQUFBajdFLE1BQUFpMkUsYUFBQSxDQUNBLEdBQUE0SSxhQUFBQyxlQUFBOStFLE1BQUErK0UscUJBQUFDLGVBQUE5SSxRQUFBdnNFLFFBQUFzMUUsV0FBQVosUUFBQWh4RixPQUFBNnhGLFNBQUFkLGVBQUEvd0YsT0FBQSxFQUFBK3dGLGVBQUF4ekYsUUFBQSxFQUNBLElBQUEsS0FBQXMwRixVQUFBLGdCQUFBQSxVQUFBLENBQ0EsR0FBQUMsWUFBQXBFLFFBQUFxRSxvQkFBQWhCLGVBQUF6MEUsUUFBQTAxRSxjQUNBLGlCQUFBSCxZQUFBRyxZQUFBSCxTQUFBMzRGLE1BQUEsS0FDQSxLQUFBLEdBQUErNEYsT0FBQSxFQUFBQSxNQUFBUixlQUFBNUksUUFBQTdvRixPQUFBaXlGLFFBQUEsQ0FDQSxHQUFBcEosV0FBQWwyRSxNQUFBdStFLFlBQUFPLGVBQUE1SSxRQUFBb0osUUFBQUEsT0FBQW5tQyxPQUFBa2xDLFNBQUFDLG9CQUFBdCtFLE1BQ0FBLFNBQUEsR0FBQSxTQUFBQSxPQUFBcS9FLFlBQUFBLFlBQUFoeUYsT0FBQSxHQUFBeXhGLGVBQUE1SSxRQUFBN29GLE9BQUEsQ0FDQSxHQUFBa3lGLE9BQUFsSCxVQUFBbkMsUUFBQXJrRixRQUFBbU8sT0FBQSxDQUNBcTRFLFdBQUFuQyxRQUFBN29GLE9BQUFreUYsUUFBQXYvRSxNQUFBdStFLFlBQUFsRyxVQUFBbkMsUUFBQXFKLFFBQUFBLE9BQUFwbUMsT0FBQWtsQyxRQUFBMTBFLE1BQUEsRUFBQTAwRSxRQUFBaHhGLFNBQUFpeEYsbUJBQ0F0K0UsUUFBQXEvRSxZQUFBLzBGLEtBQUFpMUYsTUFBQXRqRixZQUFBMU0sRUFBQUMsS0FBQTBtRixRQUFBLFNBQUFtRSxJQUFBbUYsTUFDQUEsS0FBQXZDLFlBQUFvQixRQUFBaHhGLE9BQUEsTUFHQXd4RixZQUFBM0ksUUFBQXZzRSxRQUFBb3hFLFFBQUFvRSxXQUFBakosVUFDQSxLQUFBLEdBQUFwbUYsR0FBQSxFQUFBQSxFQUFBc3ZGLG9CQUFBL3hGLE9BQUF5QyxJQUFBc3VGLGVBQUF0dUYsR0FBQXN2RixvQkFBQXR2RixFQUNBLEtBQUEsR0FBQTJ2RixNQUFBLEVBQUFBLEtBQUFaLFlBQUF4eEYsT0FBQW95RixPQUFBLENBQ0EsR0FBQUMsVUFBQWIsWUFBQVksS0FDQUMsVUFBQXpDLFlBQUF5QyxTQUFBekMsYUFBQWdDLFVBQ0EsS0FBQSxHQUFBVSxNQUFBLEVBQUFBLEtBQUFaLGtCQUFBMXhGLE9BQUFzeUYsT0FBQSxDQUNBLEdBQUFDLFdBQUFiLGtCQUFBWSxLQUNBLElBQUFELFNBQUExL0UsTUFBQSswRSxPQUFBNkssVUFBQTUvRSxNQUFBKzBFLE9BQUEsZ0JBQUFtSyxXQUFBLEtBQUEzdkYsRUFBQWl2RixRQUFBa0IsU0FBQXRFLFFBQUFzRSxTQUFBekMsYUFBQWhoRixXQUFBb2pGLGNBQUEsQ0FDQVIsWUFBQS9zRixPQUFBMnRGLEtBQUEsR0FBQUEsT0FBQUcsVUFBQXhFLFFBQUFzRSxTQUFBekMsYUFBQTJDLFVBQUF4RSxRQUFBc0UsU0FBQXpDLGFBQUEsSUFBQXlDLFNBQUF0RSxRQUFBc0UsU0FBQXpDLGFBQ0EyQyxVQUFBM0MsWUFBQXlDLFNBQUF6QyxXQUNBLFNBSUE4QixrQkFBQUEsa0JBQUE1bEMsT0FBQTBsQyxhQUVBLGdCQUFBSyxZQUFBSCxrQkFBQXh2RixFQUFBNEcsSUFBQTRvRixrQkFBQSxTQUFBUyxLQUFBbkYsS0FDQSxHQUFBd0YsU0FBQXhGLEtBQUEsQ0FDQSxHQUFBeUYsU0FBQTdDLFlBQUF1QyxLQUFBdkMsWUFBQThDLFVBQUFQLEtBQUFwRSxRQUFBNkIsYUFBQWhoRixXQUFBMVYsTUFBQSxJQUNBaTVGLE1BQUFwRSxRQUFBNkIsYUFBQSxPQUFBdUMsS0FBQXZDLFlBQUEsTUFDQSxLQUFBLEdBQUErQyxPQUFBLEVBQUFBLE1BQUFELFVBQUExeUYsT0FBQTJ5RixRQUFBRixRQUFBLEtBQUF2d0YsRUFBQWl2RixRQUFBdUIsVUFBQUMsT0FBQVgsYUFDQVMsVUFBQSxTQUFBTixLQUFBcEUsUUFBQTZCLGNBQUF1QyxLQUFBcEUsUUFBQTZCLGNBQUEsSUFDQXVDLEtBQUFwRSxRQUFBNkIsY0FBQThDLFVBQUFDLFFBQUFSLEtBQUFwRSxRQUFBNkIsYUFBQWh3RixTQUFBOHlGLFVBQUFDLFFBQ0FSLEtBQUF2QyxZQUFBQSxZQUNBLElBQUEsU0FBQXVDLEtBQUFwRSxRQUFBNkIsYUFBQSxNQUFBdUMsVUFFQXRKLFFBQUE4SSxlQUFBN2xDLE9BQUE0bEMsbUJBQUFoRSxRQUFBRSxJQUFBMkQsV0FBQTFJLFFBQUE3b0YsT0FBQSxNQUNBMlMsT0FBQTgrRSxlQUFBNUksUUFBQWdKLFVBQUFYLFlBQUFPLGVBQUE1SSxRQUFBZ0osV0FBQUEsVUFBQS9sQyxPQUFBa2xDLFNBQUFDLG9CQUFBLENBQ0EsSUFBQXQrRSxNQUFBLE9BQUEsTUFDQSxJQUFBQSxNQUFBZzJFLGNBQUFzSSxvQkFBQWpHLFVBQUFuQyxRQUFBM21GLEVBQUFpdkYsUUFBQXgrRSxNQUFBcTRFLFVBQUFuQyxTQUFBLEdBQUEsSUFBQSxHQUFBdUMsSUFBQXo0RSxNQUFBaWdGLEtBQUE3QixlQUFBL3dGLE9BQUEsRUFBQSt3RixlQUFBeHpGLFFBQUEsRUFBQXExRixNQUFBM2lFLE1BQUFtN0QsR0FBQXRDLFdBQUF2akIsS0FBQXF0QixLQUFBLEVBQUF4SCxHQUFBdEMsV0FBQXZqQixNQUFBcW9CLEtBQUFGLFFBQUFrRixPQUFBLENBQ0EsR0FBQUMsWUFBQTdILFVBQUFuQyxRQUFBM21GLEVBQUFpdkYsUUFBQS9GLEdBQUFKLFVBQUFuQyxTQUFBLEVBQ0EsSUFBQWwyRSxNQUFBdStFLFlBQUEyQixZQUFBRCxNQUFBOW1DLE9BQUFrbEMsU0FBQTZCLFlBQUEsQ0FDQSxHQUFBeEIsWUFBQXhJLFFBQUFBLFFBQUE3b0YsT0FBQSxHQUFBMlMsTUFBQTArRSxZQUFBM0IsbUJBQUFrRCxLQUFBeEgsR0FBQXRDLFdBQUFoN0QsSUFBQSxFQUNBd2pFLGFBQUEsSUFBQXB2RixFQUFBaXZGLFFBQUFFLFlBQUF3QixXQUFBaEssU0FBQSxDQUNBLEdBQUErSixLQUFBeEgsR0FBQXRDLFdBQUFoN0QsSUFBQSxFQUFBLENBQ0F5akUsWUFBQSxFQUFBN0QsUUFBQUUsR0FDQSxPQUVBLE9BQUEsRUFFQSxPQUFBLE9BRUEsSUFBQWo3RSxNQUFBbStFLHFCQUFBbitFLE1BQUFvK0UsZUFBQUMsUUFBQUMsbUJBQUEsT0FBQSxNQUNBdkQsV0FFQSxJQUFBLEdBQUFrRCxNQUFBRyxlQUFBL3dGLE9BQUEsRUFBQSt3RixlQUFBeHpGLFFBQUEsRUFBQXF6RixLQUFBNUYsVUFBQW5DLFFBQUE3b0YsT0FBQTR3RixPQUFBLEdBQUE1RixVQUFBbkMsUUFBQStILE1BQUFqSSxnQkFBQSxFQUFBLENBQ0EsR0FBQWgyRSxPQUFBdStFLFlBQUFsRyxVQUFBbkMsUUFBQStILE9BQUFBLE1BQUE5a0MsT0FBQWtsQyxTQUFBQyxrQkFDQSxJQUFBdCtFLE9BQUErNkUsVUFBQUUsSUFBQSxNQUFBajdFLE1BQ0EsSUFBQSs2RSxRQUFBRSxJQUFBLE9BR0EsR0FBQXlELGFBQUFDLGFBQUE5RixXQUFBcUMsYUFBQTdDLFVBQUEwQyxRQUFBRCxVQUFBNkMsTUFBQSxFQUFBUyxlQUFBdEQsWUFBQSxHQUFBNUUsV0FBQTBJLFlBQUEsQ0FDQSxJQUFBVixhQUFBLEdBQUFoRCxhQUFBakIsTUFBQWdCLEtBQUEsTUFBQUMsY0FBQWpCLE1BQUFnQixJQUNBLElBQUEsU0FBQUgsVUFBQSxDQUNBLElBQUEsR0FBQXZ2RixNQUFBNDBGLFlBQUFsRixJQUFBLEVBQUEsVUFBQTF2RixLQUFBMnZGLGFBQUFwQixlQUFBcUcsZUFBQUEsWUFBQSxNQUFBakYsYUFBQWpCLE1BQUFrRyxjQUFBLFVBQUE1MEYsS0FBQTJ2RixhQUFBakIsTUFBQWtHLGFBQUEsTUFBQUEsYUFDQSxVQUFBNTBGLE1BQUE0MEYsWUFBQSxLQUFBcEYsUUFBQW9GLFlBQUEvQixlQUFBN3lGLEtBQUE2dkYsUUFBQXp4RSxTQUVBLElBQUEsR0FBQXkyRSxPQUFBaEMsZUFBQXh6RixRQUFBdzFGLE1BQUF2SCxXQUFBeHJGLE9BQUEreUYsUUFBQSxDQUNBLEdBQUFwZ0YsT0FBQW0rRSxxQkFBQXRGLFdBQUF1SCxPQUFBaEMsZ0JBQUFnQyxPQUNBLElBQUFwZ0YsT0FBQSs2RSxVQUFBRSxLQUFBRixRQUFBRSxJQUFBLE1BRUEsT0FBQSxJQUFBL0UsUUFBQTdvRixRQUFBdXhGLGFBQUExSSxRQUFBNXJGLE1BQ0EwVixPQUNBKzJFLEdBQUEsS0FDQUYsWUFBQSxFQUNBRyxhQUFBLEVBQ0FJLE9BQUEsS0FDQUYsSUFBQSxJQUVBa0UsYUFDQUYsYUFBQWpCLE1BQUFnQixLQUFBMXJGLEVBQUFpN0IsUUFBQSxLQUFBMHJELFNBQUFnRixhQUFBakIsTUFBQWdCLEtBRUEsUUFBQW9GLHFCQUNBLE1BQUEsVUFBQW5GLGFBQUFuQixVQUFBbUIsYUFBQW5CLFFBQUFXLGlCQUFBLEVBQUEsSUFDQVEsYUFBQW5CLFFBRUEsUUFBQXVHLFdBQUFDLFNBQ0EsT0FBQSxTQUFBckYsYUFBQWxCLFFBQUF1RyxXQUFBLEtBQUFBLFdBQUEsSUFBQXJGLGFBQUEzdkYsU0FDQTJ2RixhQUFBbEIsT0FBQVUsaUJBQUEsRUFBQWlCLHdCQUFBLElBQUFULGFBQUFsQixPQUVBLFFBQUF3RyxtQkFBQS9JLE1BQUFDLElBQUFzQyxRQUNBLEdBQUFscUYsRUFDQSxJQUFBa3FGLE9BQUFBLE9BQUF2QyxTQUFBLEVBQUFnRSxlQUFBaEUsTUFBQSxFQUFBQyxJQUFBc0MsT0FBQTNzRixXQUFBLEtBQUF5QyxFQUFBMm5GLE1BQUFDLElBQUE1bkYsRUFBQUEsVUFBQW9yRixjQUFBcEIsZUFBQWhxRixTQUNBb3JGLGNBQUFqQixNQUFBbnFGLEVBQ0EsS0FBQUEsRUFBQTJuRixNQUFBQyxJQUFBNW5GLEVBQUFBLElBQUEyckYsY0FBQSxHQUFBekIsT0FBQWxxRixLQUFBb2tGLEtBQUF1TSwyQkFBQTNwQixRQUFBaG5FLEVBQUFrcUYsT0FBQWxxRixJQUFBLEdBQUEsR0FFQSxRQUFBc25GLFFBQUFycUYsS0FBQXhCLE1BQ0EsT0FBQUEsS0FBQTZyRixRQUNBLElBQUEsUUFDQXJxRixLQUFBQSxLQUFBazNFLGFBQ0EsTUFFQSxLQUFBLFFBQ0FsM0UsS0FBQUEsS0FBQTg5RCxjQUVBLE1BQUE5OUQsTUFFQSxRQUFBZ3hGLHVCQUFBMkMsUUFBQUMsU0FDQSxJQUFBLEdBQUFDLFNBQUExTSxLQUFBdUYsT0FBQWtILFFBQUFBLFFBQUFoM0UsTUFBQSxFQUFBLEdBQUFrM0UsU0FBQSxFQUFBYixNQUFBLEVBQUFBLE1BQUFVLFFBQUFyekYsT0FBQTJ5RixRQUFBLEdBQUEsS0FBQXp3RixFQUFBaXZGLFFBQUFrQyxRQUFBVixPQUFBWSxTQUFBLENBQ0FDLFNBQUEsQ0FDQSxPQUVBLE1BQUFBLFNBRUEsUUFBQS9wQixTQUFBbWtCLElBQUF6K0QsRUFBQXEvRCxPQUFBUyxjQUNBLFFBQUF3RSxVQUFBbG9GLFNBQUE0akIsRUFBQXEvRCxPQUFBUyxjQUNBLEdBQUF5RSxPQUFBLENBQ0EsT0FBQXh4RixHQUFBQyxLQUFBd3RGLFNBQUFwa0YsVUFBQSxTQUFBeWhGLElBQUEyRyxLQUNBLElBQUEsR0FBQXoxRixNQUFBeTFGLElBQUFoaEYsTUFBQWloRixRQUFBemtFLEVBQUEsRUFBQSxFQUFBMGtFLEtBQUEsR0FBQXB4RixFQUFBdkUsS0FBQXNyRixZQUFBL21GLEVBQUFteEYsUUFBQW54RixJQUFBb3hGLE1BQUFDLGlCQUFBdm9GLFVBQUE5SSxFQUFBLEdBQ0EsSUFBQTBzQixJQUFBMGtFLE1BQUExa0UsR0FBQThqRSxXQUFBLEdBQUFTLEtBQUEsTUFBQXgxRixLQUFBd3JGLEdBQUF4ckYsS0FBQXdyRixHQUFBeHJGLEtBQUEyMUYsS0FBQWhHLGFBQUF0aUYsU0FBQWlqRixPQUFBM0gsTUFBQTEzRCxJQUFBanhCLEtBQUEyckYsS0FBQTE2RCxJQUFBMDNELEtBQUF1TSwyQkFBQSxLQUFBbDFGLEtBQUEyckYsS0FBQSxHQUNBMTZELEVBQUFqeEIsS0FBQTJyRixJQUNBK0QsSUFBQXJpRixVQUNBbW9GLFFBQUEsRUFBQSxDQUNBLEdBQUFoMEYsTUFBQSxTQUFBZzBGLEtBQUF2a0UsRUFBQXVrRSxLQUFBdmtFLEVBQUFBLENBQ0F6dkIsTUFBQUEsT0FBQW1uRixLQUFBdU0sMkJBQUEsT0FBQWwxRixLQUFBd3JGLEdBQUF4ckYsS0FBQTJyRixJQUFBbnFGLElBQ0EsSUFBQXEwRixjQUFBeG9GLFNBQUF5b0YsdUJBQUFmLFdBQ0EsSUFBQSxTQUFBUyxLQUFBbmMsU0FBQXIxRSxFQUFBeWdGLFFBQUErUSxLQUFBbmMsVUFBQW1jLEtBQUFuYyxRQUFBbWMsS0FBQW5jLFNBQ0FyMUUsRUFBQUMsS0FBQXV4RixLQUFBbmMsT0FBQXB5RCxLQUFBLFNBQUFuUyxFQUFBb1MsR0FDQSxNQUFBQSxHQUFBcFMsSUFDQSxTQUFBZzZFLElBQUFtRixNQUNBcEMsb0JBQUFvQyxLQUFBQSxLQUFBLEdBQUEsTUFDQSxTQUFBdUIsS0FBQU8sU0FBQS94RixFQUFBeWdGLFFBQUErUSxLQUFBTyxVQUFBUCxLQUFBTyxRQUFBUCxLQUFBTyxTQUNBL3hGLEVBQUFDLEtBQUF1eEYsS0FBQU8sT0FBQTl1RSxLQUFBLFNBQUFuUyxFQUFBb1MsR0FDQSxNQUFBcFMsR0FBQW9TLElBQ0EsU0FBQTRuRSxJQUFBbUYsTUFDQTFvQixRQUFBMG9CLEtBQUF2RSxJQUFBdUUsS0FBQWhqRSxHQUFBLE1BQ0F1a0UsS0FBQVAsa0JBQUEsQ0FDQSxHQUFBZSxTQUFBUixLQUFBUCxpQkFDQSxJQUFBM0UsUUFBQSxFQUFBMkUsa0JBQUFlLFdBQUEsRUFBQUEsUUFBQUEsUUFBQTlKLE1BQUE4SixRQUFBN0osSUFBQTJKLHdCQUNBLFNBQUFOLEtBQUE5RixLQUFBLFNBQUE4RixLQUFBdmtFLEVBQUEsTUFBQXVrRSxNQUFBOUYsSUFBQVUsd0JBQ0EsQ0FDQSxJQUFBeUYsYUFBQSxTQUFBTCxLQUFBOUYsSUFBQThGLEtBQUE5RixJQUFBcmlGLFNBQUF3b0YsZUFBQXhvRixTQUFBLE1BQUFtb0YsTUFBQXh4RixFQUFBaTdCLE9BQUF1MkQsS0FBQWpxQixRQUFBc3FCLGFBQUFyMEYsTUFBQSxLQUNBLE1BQ0EsSUFBQWcwRixRQUFBLEdBQUEsU0FBQUEsS0FBQTlGLEtBQUE4RixLQUFBOUYsTUFBQXJpRixXQUFBd29GLGFBQUFMLEtBQUE5RixJQUNBdUYsa0JBQUE1bkYsU0FBQXdvRixhQUFBZCxZQUFBMzJFLFNBQUF5M0UsZUFBQXhvRixVQUFBLE1BQUFtb0YsTUFBQXh4RixFQUFBaTdCLE9BQUF1MkQsS0FBQWpxQixRQUFBc3FCLGFBQUFyMEYsTUFBQSxLQUNBLENBQ0EsT0FBQWcwRixTQUFBLEdBQUEsU0FBQUEsS0FBQTlGLEtBQUEsU0FBQThGLEtBQUF2a0UsR0FBQSxHQUFBNjlELElBQUEsR0FBQW9CLGNBQUEsR0FDQVcsaUJBQUFnRixhQUFBN3hGLEVBQUFpN0IsVUFBQXcyRCxLQUNBM0YsTUFBQWpFLE9BQUFycUYsS0FBQXhCLFFBQ0Erd0YsZ0JBQUF5RSxNQUFBLElBQUEsTUFFQUEsS0FFQSxRQUFBUyxXQUFBdkcsSUFBQXorRCxFQUFBcS9ELE9BQUFTLGNBQ0EsSUFBQSxHQUFBbUYsU0FBQXhFLFlBQUF5RSxZQUFBQyxPQUFBN3hGLEVBQUFxckYsU0FBQXlHLGFBQUFyeUYsRUFBQWk3QixRQUFBLEtBQUEwd0QsYUFBQXBCLGdCQUFBK0gsS0FBQWxHLHVCQUFBa0csTUFBQSxJQUFBRixPQUFBekcsYUFBQXBCLGVBQUErSCxPQUNBRixRQUFBLFNBQUFBLE9BQUExRSxjQUFBd0UsUUFBQUksS0FBQTVFLFlBQUEvQixhQUFBcEIsZUFBQTJILFNBQUF4RSxZQUNBMUIsZ0JBQUFrRyxTQUFBckcsUUFBQXVHLE9BQUExRSxlQUFBMEUsT0FBQXZHLFFBQUF1RyxPQUFBMUUsZUFBQTRFLFFBQ0EsR0FBQSxTQUFBNUUsWUFBQSxDQUNBd0UsUUFBQXgwRixTQUFBdzBGLFFBQ0EsS0FBQSxHQUFBSyxlQUFBNUcsY0FBQXBCLGVBQUEsR0FBQWdJLFlBQUE3MEYsU0FBQTYwRixhQUNBSCxPQUFBekcsYUFBQXBCLGVBQUFnSSxhQUFBQSxhQUFBTCxTQUFBLFNBQUFFLE9BQUExRSxZQUFBLENBQ0EsR0FBQThFLFNBQUE3RyxhQUFBcEIsZUFBQTJILFNBQUFyRyxRQUFBNkIsYUFBQWhoRixXQUFBMVYsTUFBQSxLQUFBeTdGLGNBQUFMLE9BQUF2RyxRQUFBNkIsY0FBQThFLFFBQUEsRUFDQUMsZUFBQTMwRixPQUFBLElBQUEyMEYsY0FBQUEsY0FBQXo3RixNQUFBLEtBQUEsR0FDQSxLQUFBLEdBQUE0eEYsTUFBQSxFQUFBQSxLQUFBNEosUUFBQTEwRixPQUFBOHFGLE9BQUEsR0FBQTZKLGNBQUFELFFBQUE1SixNQUFBLENBQ0EsSUFBQSxHQUFBOEosZ0JBQUFDLGNBQUFqMEQsR0FBQTZ6RCxZQUFBN3pELElBQUEsRUFBQUEsS0FBQSxHQUFBZzBELGVBQUEvRyxhQUFBcEIsZUFBQTdyRCxJQUNBLFNBQUFnMEQsZUFBQSxDQUNBQyxjQUFBRCxlQUFBN0csUUFBQTZCLGFBQUFnRixlQUFBN0csUUFBQTZCLGFBQUFod0YsU0FBQTgwRixRQUFBNUosTUFDQSxPQUVBLEdBQUE2SixnQkFBQUMsZUFBQTdHLFFBQUE2QixhQUFBLENBQ0EsR0FBQWtGLGdCQUFBQyxzQkFBQSxDQUNBLEtBQUF0eUYsRUFBQWd5RixZQUFBLEVBQUFoeUYsRUFBQTZyRix1QkFBQSxFQUFBN3JGLElBQUFxckYsU0FBQUQsYUFBQXBCLGVBQUFocUYsR0FDQXFyRixXQUFBLE1BQUFBLFNBQUFuN0UsTUFBQSsyRSxHQUFBb0wsWUFBQTczRixLQUFBNndGLFNBQUFFLE9BQUFKLElBQUFuckYsR0FBQXN5RiwrQkFDQWxILGNBQUFwQixlQUFBaHFGLFNBQUFvckYsY0FBQWpCLE1BQUFucUYsRUFDQSxLQUFBMnJGLGNBQUEsR0FBQXZILEtBQUFpRyxZQUFBakcsS0FBQWlHLFdBQUF1SCxhQUFBLEVBQUFTLFlBQUE5MEYsT0FBQSxHQUFBLENBQ0EsR0FBQWd1RixPQUFBOEcsWUFBQXYzRixPQUNBLElBQUF5d0YsUUFBQW5ILEtBQUF1TSw2QkFBQWlCLFlBQUE1cUIsUUFBQTZrQix1QkFBQSxFQUFBTixPQUFBLEdBQUEsSUFBQSxNQUVBLEdBQUE0RyxlQUFBaEYsWUFBQUEsWUFBQWdGLGVBQUE3RyxRQUFBNkIsYUFBQWlGLGNBQ0FSLFlBQUEsQ0FDQSxHQUFBVyxXQUFBMUcscUJBQUFWLEtBQUEsRUFBQXFILCtCQUFBLENBQ0EsS0FBQXh5RixFQUFBZ3lGLFlBQUEsRUFBQWh5RixFQUFBNnJGLHVCQUFBLEVBQUE3ckYsSUFBQXFyRixTQUFBRCxhQUFBcEIsZUFBQWhxRixHQUNBcXJGLFVBQUEsTUFBQUEsU0FBQW43RSxNQUFBKzJFLElBQUFrRSxJQUFBbnJGLEdBQUF3eUYsZ0NBQ0FySCxNQUFBcUgsK0JBQUFGLHNCQUFBVixZQUFBNXFCLFFBQUFta0IsSUFBQW9ILFVBQUFBLFVBQUFwSCxJQUFBeitELEVBQUFxL0QsT0FBQVMsY0FFQSxHQUFBcEksS0FBQWlHLFlBQUFqRyxLQUFBaUcsV0FBQXVILFlBQUEsTUFBQUEsWUFDQWpHLGdCQUFBUCxhQUFBcEIsZUFBQXZxRixFQUFBaTdCLFFBQUEsS0FBQW8zRCxlQUdBLE9BR0EsT0FBQSxFQUVBLFFBQUFXLHVCQUFBQyxZQUFBQyxRQUNBLElBQUEsR0FBQUMsSUFBQXhILGFBQUFwQixlQUFBMkksUUFBQUUsY0FBQUQsR0FBQXRILFFBQUF3SCxJQUFBRCxjQUFBdDFGLE9BQUE0b0IsR0FBQXVzRSxZQUFBQyxPQUFBeHNFLEdBQUFBLEtBQUEsSUFBQXVuRSxPQUFBdm5FLElBQUEsQ0FDQSxHQUFBZ2tFLE9BQUErQyxTQUFBL21FLElBQUE0c0UsVUFBQTVJLE1BQUEsR0FBQTZJLFNBQUEsRUFDQXZ6RixHQUFBQyxLQUFBeXFGLE1BQUEsU0FBQUksSUFBQTJHLEtBQ0EsSUFBQSxHQUFBbHhGLEdBQUEsRUFBQTh5RixJQUFBOXlGLEVBQUFBLElBQUFreEYsSUFBQTVGLFFBQUF0ckYsSUFBQWl1RixzQkFBQWlELElBQUE1RixRQUFBdHJGLEdBQUFtTSxXQUFBMVYsTUFBQSxLQUFBbzhGLGNBQUE3eUYsR0FBQW1NLFdBQUExVixNQUFBLE9BQUF1SixFQUFBZ3pGLFdBQUFBLFNBQUFoekYsRUFDQSt5RixVQUFBN0IsT0FDQTVFLGlCQUFBbm1FLEdBQUExbUIsRUFBQWk3QixVQUFBcTRELFdBQ0F4SCxNQUFBd0gsVUFBQTdpRixNQUFBazNFLE9BQ0EsSUFHQTJFLE9BQUFBLFVBQUEsQ0FDQSxLQUFBLEdBQUE3QixRQUFBc0csWUFBQXlDLEtBQUE5SCxJQUFBLEVBQUE4SCxLQUFBLEtBQUE3SCxhQUFBcEIsZUFBQWlKLE1BQUFBLFFBQ0EsSUFBQUEsT0FBQTlILElBQUE4SCxLQUFBQSxPQUFBLFNBQUE3SCxhQUFBcEIsZUFBQWlKLFVBQUF2RixPQUFBdUYsT0FBQS9JLE9BQUErSSxRQUFBekgsZUFBQXlILFFBQUEvRixTQUFBK0YsTUFBQTExRixPQUFBLEdBQUEyc0YsT0FBQStJLFFBQUE3TyxLQUFBd0osWUFBQSxNQUFBMUQsT0FBQStJLE9BQUF4ekYsRUFBQWl2RixRQUFBdEssS0FBQXdKLFdBQUExRCxRQUFBK0ksT0FBQWpDLFNBQUFpQyxLQUFBL0ksT0FBQStJLE9BQUEsRUFDQSxJQUFBQyxTQUFBL0gsSUFBQTF4RixRQUFBLEVBQUFpekYsZUFBQWp0RixFQUFBaTdCLFFBQUEsS0FBQTB3RCxhQUFBcEIsZUFDQSxJQUFBa0osUUFBQWxHLGtCQUFBdnpGLE9BQUF1M0YsU0FBQWtDLFFBQUF4bUUsRUFBQXEvRCxPQUFBUyxnQkFDQVQsUUFBQVMsZUFBQS95RixVQUFBLEdBQUEsQ0FDQSxHQUFBMDVGLGlCQUFBL0gsYUFBQXBCLGVBQUFrSixRQUNBLEtBQUFDLGlCQUFBLE9BQUFBLGdCQUFBampGLE1BQUErMkUsSUFBQWtNLGdCQUFBampGLE1BQUFrM0UsTUFBQTE2RCxHQUFBQSxJQUFBMDNELEtBQUF1TSwyQkFDQSxJQUFBdk0sS0FBQXFJLFlBQUEsU0FBQXJCLGFBQUFwQixlQUFBb0QsU0FBQThGLGFBQUF4RixPQUFBd0YsU0FBQSxJQUFBLEdBQUFFLE1BQUFGLFFBQUEsRUFBQUcsTUFBQWpHLFNBQUE4RixTQUFBRyxPQUFBRCxLQUFBQSxPQUFBLEdBQUEzNUYsT0FBQXUzRixTQUFBb0MsS0FBQTFtRSxFQUFBcS9ELE9BQUFTLGNBQ0EveUYsVUFBQSxFQUFBLENBQ0FnNUYsc0JBQUFTLFFBQUFFLE1BQUFGLFFBQUFFLElBQ0EsWUFFQTM1RixTQUNBNjVGLE1BQUFsRyxTQUFBOEYsVUFHQSxHQUFBejVGLFVBQUEsR0FBQTJxRixLQUFBaUcsWUFBQWtKLFdBQUFySixVQUFBendGLE9BQUFpNEYsVUFBQXZHLElBQUF6K0QsRUFBQXEvRCxPQUFBUyxlQUNBL3lGLFVBQUEsSUFBQUEsUUFDQTB4RixJQUFBK0gsVUFDQXp6RixFQUFBa25GLFdBQUF2QyxLQUFBb1AsaUJBQUEvNUYsVUFBQSxJQUFBc3lGLE9BQUEsQ0FDQSxHQUFBMEgsaUJBQUFyUCxLQUFBb1AsZUFBQWhELFdBQUEsR0FBQXBNLEtBQ0EsSUFBQXFQLGlCQUNBLEdBQUFBLGdCQUFBL0Msa0JBQUEsQ0FDQSxHQUFBZSxTQUFBZ0MsZ0JBQUEvQyxpQkFDQUEsbUJBQUFlLFdBQUEsRUFBQUEsUUFBQUEsUUFBQTlKLE1BQUE4SixRQUFBN0osSUFBQTZMLGdCQUFBdkosUUFDQXlCLGNBQUEsR0FBQWx5RixPQUFBZzZGLHFCQUVBOUgsZUFBQSxHQUFBUCxhQUFBcEIsZUFBQXZxRixFQUFBaTdCLFFBQUEsS0FBQWd5RCxnQkFDQWp6RixRQUFBLEVBRUEsTUFBQUEsUUFFQSxRQUFBaTBGLFFBQUF2QyxLQUNBLEdBQUExdkYsTUFBQXl5RixRQUFBL0MsSUFDQSxJQUFBLE1BQUExdkYsS0FBQXdyRixHQUFBLE1BQUF4ckYsTUFBQXdyRixFQUNBLElBQUFrRSxJQUFBLEtBQUEvRyxLQUFBaUcsWUFBQSxTQUFBZSxhQUFBcEIsZUFBQW1CLEtBQUEsQ0FDQSxJQUFBLEdBQUFoQixPQUFBK0MsU0FBQS9CLEtBQUF1SSxvQkFBQSxFQUFBMXpGLEVBQUEsRUFBQUEsRUFBQW1xRixNQUFBNXNGLE9BQUF5QyxJQUFBLEdBQUEsS0FBQW1xRixNQUFBbnFGLEdBQUFrUSxNQUFBazNFLE1BQUEsU0FBQStDLE1BQUFucUYsR0FBQW10RixhQUFBaEQsTUFBQW5xRixHQUFBc3JGLFFBQUFuQixNQUFBbnFGLEdBQUFtdEYsYUFBQTV2RixPQUFBLEdBQUEsQ0FDQW0yRixvQkFBQSxDQUNBLE9BRUEsTUFBQUEsb0JBRUEsT0FBQSxFQUVBLFFBQUExRyxpQkFDQSxHQUFBMkcsV0FDQWpJLFdBQUEsU0FBQXB2RixHQUFBQSxHQUFBb3ZGLFVBQUEsT0FBQSxLQUFBQSxZQUFBQSxVQUFBLE9BQ0EsSUFBQVAsS0FBQXdCLElBQUFkLHVCQUFBWixRQUFBRyxhQUFBcEIsZUFBQTJDLEtBQUEzQixVQUFBLFNBQUFDLFFBQUFBLFFBQUFLLFFBQUF6eEUsUUFBQSxNQUNBLEtBQUFzeEUsSUFBQXdCLElBQUEsRUFBQSxTQUFBMUIsU0FBQSxPQUFBQSxRQUFBLzZFLE1BQUErMkUsSUFBQSxPQUFBZ0UsUUFBQS82RSxNQUFBKzJFLElBQUEsS0FBQWdFLFFBQUEvNkUsTUFBQWszRSxJQUFBK0QsTUFBQUYsUUFBQVEsZ0JBQUFOLElBQUFILFVBQUFHLElBQUEsR0FDQUgsVUFBQUMsUUFBQUssUUFBQXp4RSxPQUNBLElBQUErNUUsVUFBQTFGLFFBQUEvQyxJQUFBLEVBQ0EsT0FBQXdJLFlBQUEsS0FBQUMsU0FBQXhNLElBQUErRCxJQUFBQSxJQUFBLEVBQUEsU0FBQU8sV0FBQUEsVUFBQWlJLFdBQUFBLFdBQUFqSSxVQUVBLFFBQUEwQixVQUFBakMsSUFBQTBJLFVBQ0EsR0FBQUMsT0FBQTlHLGVBQ0EsSUFBQTdCLEtBQUEySSxNQUFBLE1BQUFBLE1BQ0EsS0FBQSxHQUFBaHJGLFVBQUFxaUYsTUFBQXJpRixTQUFBZ3JGLFFBQUFELFlBQUEsSUFBQTNGLFFBQUFwbEYsVUFBQXErRSxrQkFBQSxJQUFBdUcsT0FBQTVrRixZQUFBK3FGLFlBQUEsSUFBQW5HLE9BQUE1a0YsWUFBQXM3RSxLQUFBMlAsV0FBQSxHQUFBM1AsS0FBQTRQLGlCQUFBbHJGLGFBQ0EsTUFBQUEsVUFFQSxRQUFBbXJGLGNBQUE5SSxJQUFBMEksVUFDQSxHQUFBL3FGLFVBQUFxaUYsR0FDQSxJQUFBLEdBQUFyaUYsU0FBQSxNQUFBLEVBQ0EsUUFBQUEsU0FBQSxJQUFBK3FGLFlBQUEsR0FBQTNGLFFBQUFwbEYsVUFBQXErRSxrQkFBQSxHQUFBME0sWUFBQSxJQUFBbkcsT0FBQTVrRixhQUNBLE1BQUFBLFVBRUEsUUFBQXVvRixrQkFBQXZvRixVQUNBLE1BQUEsVUFBQXNpRixhQUFBcEIsZUFBQWxoRixVQUFBMGlGLGVBQUExaUYsVUFBQXNpRixhQUFBcEIsZUFBQWxoRixVQUFBeWlGLE1BRUEsUUFBQTJJLGFBQUEzSSxNQUFBckIsT0FBQWlLLFNBQUFwNkYsTUFBQXE2RixtQkFDQSxHQUFBcjZGLE9BQUEwRixFQUFBa25GLFdBQUF2QyxLQUFBaVEsZUFBQSxDQUNBLEdBQUE1NkYsUUFBQTJxRixLQUFBaVEsY0FBQWpvRixLQUFBbS9FLE1BQUF4eEYsTUFBQW13RixPQUFBaUssU0FBQS9QLEtBQ0EsSUFBQTNxRixPQUFBLENBQ0EsR0FBQUEsT0FBQWkzRixrQkFBQSxDQUNBLEdBQUFlLFNBQUFoNEYsT0FBQWkzRixpQkFDQUEsbUJBQUFlLFdBQUEsRUFBQUEsUUFBQUEsUUFBQTlKLE1BQUE4SixRQUFBN0osSUFBQW51RixPQUFBeXdGLFFBQUFBLFFBQ0FBLE9BQUFzRyxXQUFBLEdBRUEsU0FBQTJELFdBQUFBLFNBQUEsU0FBQTE2RixPQUFBNjVGLE1BQUE3NUYsT0FBQTY1RixNQUFBYSxXQUdBNUksTUFBQWh2RixVQUFBKzNGLFVBQUFwSyxPQUFBaHBGLEtBQUEsS0FBQSxTQUFBaXpGLFVBQUEsU0FBQXA2RixPQUFBLFNBQUFBLE1BQUFvUixNQUFBbW9GLE1BQUEvSCxNQUFBNEksVUFDQUMscUJBQUEsSUFBQUcsZ0JBQUEsRUFBQTkwRixFQUFBOHJGLE9BQUFsdkUsUUFBQSxVQUVBLFFBQUFtdkUsZ0JBQUFMLElBQUExdkYsTUFDQSxHQUFBQSxLQUFBQSxNQUFBeXlGLFFBQUEvQyxLQUFBLFNBQUExdkYsS0FBQXRELFlBQUEsTUFBQXNELE1BQUF0RCxXQUNBLElBQUEsT0FBQXNELEtBQUF3ckYsR0FBQSxDQUNBLEdBQUFrRSxJQUFBLEtBQUEvRyxLQUFBaUcsWUFBQSxTQUFBZSxhQUFBcEIsZUFBQW1CLEtBQUEsQ0FDQSxJQUFBLEdBQUFxSixVQUFBckssTUFBQStDLFNBQUEvQixLQUFBc0osaUJBQUEsRUFBQXowRixFQUFBLEVBQUFBLEVBQUFtcUYsTUFBQTVzRixPQUFBeUMsSUFBQSxDQUNBLEdBQUF3MEYsVUFBQSxLQUFBckssTUFBQW5xRixHQUFBa1EsTUFBQWszRSxLQUFBK0MsTUFBQW5xRixHQUFBa1EsTUFBQWszRSxNQUFBb04sU0FBQXRrRixNQUFBazNFLE1BQUEsU0FBQStDLE1BQUFucUYsR0FBQW10RixhQUFBaEQsTUFBQW5xRixHQUFBbXRGLGNBQUFxSCxTQUFBckgsYUFBQSxDQUNBc0gsaUJBQUEsQ0FDQSxPQUVBdEssTUFBQW5xRixHQUFBa1EsTUFBQWczRSxlQUFBLEdBQUFpRCxNQUFBbnFGLEdBQUFrUSxNQUFBKzhFLHNCQUFBLElBQUF1SCxTQUFBckssTUFBQW5xRixJQUVBLEdBQUF5MEYsZ0JBQUEsTUFBQXJRLE1BQUFqc0YsWUFBQTh3RixPQUFBa0MsSUFBQS9HLEtBQUFqc0YsWUFBQW9GLFFBRUEsTUFBQTlCLE1BQUEyckYsSUFFQSxNQUFBaEQsTUFBQWpzRixZQUFBOHdGLE9BQUFrQyxJQUFBL0csS0FBQWpzRixZQUFBb0YsUUFFQSxRQUFBbTNGLFVBQUFuSixNQUFBb0osU0FBQTVJLE9BQUE2SSxPQUNBLFFBQUFDLG1CQUNBLEdBQUE5RCxVQUFBLEVBQUErRCxZQUFBdkUsb0JBQUExMkUsTUFBQWs3RSxXQUFBM0gsU0FBQTJILGFBQUE3ekYsS0FBQSxJQUFBYSxRQUFBaXpGLFVBQ0EsSUFBQSxLQUFBRixjQUFBcEgsT0FBQXFILFlBQUEsQ0FDQWhFLFNBQUEsQ0FDQSxLQUFBLEdBQUFrRSxtQkFBQTFFLG9CQUFBMTJFLE1BQUFrN0UsV0FBQUEsV0FBQUQsYUFBQTkwRixFQUFBLEVBQUFBLEVBQUFpMUYsa0JBQUExM0YsT0FBQXlDLElBQUEsR0FBQSxNQUFBaTFGLGtCQUFBajFGLEdBQUEsQ0FDQSt3RixTQUFBLENBQ0EsUUFHQSxNQUFBQSxTQUVBLEdBQUF0MkYsWUFBQW02RixNQUFBLzZFLFFBQUFtN0UsVUFBQSxHQUFBRCxXQUFBLENBQ0EsSUFBQXBKLGVBQUFQLGFBQUF0M0QsRUFBQXM1RCxTQUFBLEtBQUFyQixPQUFBLEdBQUEzSCxLQUFBOFEsY0FBQSxFQUFBLENBQ0EsR0FBQUMsYUFBQTVFLG9CQUFBMTJFLE1BQUEsRUFBQXV6RSxTQUFBLEtBQUFsc0YsS0FBQSxJQUFBa2xGLFFBQUEzckYsV0FBQXlHLEtBQUEsSUFBQWdQLE1BQUEsR0FBQXcxRSxRQUFBLElBQUF4QixVQUFBa1IsWUFBQUQsYUFBQSxLQUNBL08sVUFBQUEsUUFBQTdvRixPQUFBLElBQUE5QyxXQUFBdUgsT0FBQSxFQUFBb2tGLFFBQUE3b0YsT0FBQTQzRixZQUFBNTNGLFFBQ0F3M0YsV0FBQTNILFNBQUEySCxpQkFDQUEsWUFBQTNILFNBQUEySCxXQUNBdDFGLEdBQUFDLEtBQUFqRixXQUFBLFNBQUE4dkYsSUFBQThLLFVBQ0EsR0FBQXhoQixVQUFBcDBFLEVBQUF1QixNQUFBLFdBQ0E2eUUsVUFBQTc1RSxNQUFBcTdGLFNBQUFDLFdBQUEsR0FBQU4sV0FBQUssUUFDQSxJQUFBMUksS0FBQWQscUJBQUEsUUFBQSxHQUFBa0MsT0FBQTNDLGFBQUFwQixlQUFBMkMsS0FBQTRJLFNBQUE5SixnQkFBQWtCLElBQUEsRUFBQW9CLE9BQUFBLE9BQUF6QyxRQUFBenhFLFFBQUEsT0FBQTh5RSxJQUNBLEtBQUFrSSxtQkFBQTlJLFFBQUEzSCxLQUFBOFEsV0FBQSxDQUNBLEdBQUEvSixLQUFBWSxPQUFBeEIsSUFBQSxNQUFBZ0wsU0FBQXJsRixNQUFBKzJFLElBQUFzTyxTQUFBcmxGLE1BQUFnM0UsYUFBQXlGLElBQUEsRUFBQXZCLGFBQUF0M0QsRUFBQTY0RCxJQUFBLEVBQUF2QixhQUFBdDNELENBQ0EwaEUsZUFBQXBwRixLQUFBbS9FLE1BQUExWCxVQUFBLEdBQUEsRUFBQWtZLE9BQUFaLEtBQUE0SixXQUFBNUosSUFBQSxFQUNBNkosVUFBQSxPQUNBUSxlQUFBcHBGLEtBQUFtL0UsTUFBQTFYLFVBQUEsR0FBQSxHQUFBLEVBQUE4WSxJQUFBLEtBQ0FnSSxVQUFBVCxZQUFBM0ksTUFBQWlGLFlBQUFwVSxTQUFBcVosZ0JBQUFsSyxNQUFBNkIsU0FBQXZCLHFCQUFBLElBQUEsT0FBQXBzRixFQUFBdUIsTUFBQSxhQUVBLFFBQUEwMEYsZUFBQW5LLE9BQ0EsR0FBQUEsT0FBQSxTQUFBQSxNQUFBaHZGLFVBQUEsTUFBQWd2RixPQUFBNXZGLEtBQ0EsSUFBQWc2RixZQUFBOUksSUFBQXpCLGFBQUFwQixjQUNBLEtBQUEsR0FBQWlKLFFBQUFwRyxLQUFBQSxJQUFBb0csTUFBQS9pRixPQUFBLE1BQUEyOEUsSUFBQW9HLE1BQUEvaUYsTUFBQSsyRSxJQUFBME8sUUFBQW43RixLQUFBcXlGLElBQUFvRyxNQUFBMUgsTUFDQSxJQUFBcUssZUFBQSxJQUFBRCxRQUFBcDRGLE9BQUEsTUFBQXM0RixNQUFBRixRQUFBbjJGLFVBQUFtMkYsU0FBQXowRixLQUFBLEdBQ0EsSUFBQSxPQUFBMDBGLGNBQUEsQ0FDQSxHQUFBRSxjQUFBRCxNQUFBckYsWUFBQTMyRSxRQUFBcmEsVUFBQWd4RixhQUFBdHZGLEtBQUEsR0FDQXpCLEdBQUFrbkYsV0FBQXZDLEtBQUEyUixZQUFBSCxjQUFBeFIsS0FBQTJSLFNBQUEzcEYsS0FBQW0vRSxNQUFBdUssWUFBQUYsY0FBQXhSLE9BQUF3UixlQUVBLE1BQUFBLGVBRUEsUUFBQXRDLE9BQUEvSCxNQUFBeUssTUFBQXBPLEtBQ0EsUUFBQXFPLG1CQUFBOUssS0FDQSxHQUFBMEssT0FBQSxnQkFBQTFLLFFBQUEvRyxLQUFBdUYsUUFBQSxLQUFBdkYsS0FBQWpzRixhQUFBLENBQ0EsR0FBQSs5RixVQUFBMUYsWUFBQXR2RixLQUFBLElBQUEzRCxNQUNBNHRGLEtBQUErSyxTQUFBL0ssSUFFQSxNQUFBQSxLQUVBLEdBQUFnTCxNQUNBLElBQUEsZ0JBQUFILE9BQUEsTUFBQXpLLE9BQUE2SyxtQkFBQUosTUFBQXpLLE1BQUE4SyxlQUNBek8sSUFBQTJELE1BQUErSyxjQUFBdC9FLE9BQUF1L0UsY0FBQUosTUFBQW4vRSxPQUFBdS9FLGVBQUFDLFdBQUEsSUFDQUwsTUFBQU0sd0JBQUFDLGFBQUFuTCxPQUFBNEssTUFBQU0sMEJBQUFsTCxTQUFBeUssTUFBQUcsTUFBQVEsWUFDQS9PLElBQUF1TyxNQUFBUyxZQUFBeGEsU0FBQXlhLFdBQUF6YSxTQUFBeWEsVUFBQUMsY0FBQVgsTUFBQS9aLFNBQUF5YSxVQUFBQyxjQUNBZCxNQUFBLEVBQUFHLE1BQUFZLFlBQUFDLFVBQUEsWUFBQSxNQUFBcFAsSUFBQW9PLE1BQUFHLE1BQUEvK0YsS0FBQW1HLFNBRUF5NEYsTUFBQUMsa0JBQUFELE9BQ0FwTyxJQUFBcU8sa0JBQUFyTyxLQUVBb08sT0FBQUMsa0JBQUFELE9BQUFwTyxJQUFBcU8sa0JBQUFyTyxLQUFBQSxJQUFBLGdCQUFBQSxLQUFBQSxJQUFBb08sS0FDQSxJQUFBaUIsWUFBQTk1RixXQUFBb3VGLE1BQUEyTCxjQUFBQyxhQUFBbmdGLFFBQUFvZ0Ysa0JBQUE3TCxNQUFBMkwsY0FBQUMsYUFBQW5nRixRQUFBb2dGLGlCQUFBN0wsTUFBQSxNQUFBQSxNQUFBOEwsY0FBQUMsVUFBQTFQLEdBQ0EsSUFBQTJELE1BQUFnTSxXQUFBTixXQUFBMUwsTUFBQWlNLFlBQUFQLFdBQUEsRUFBQVEsZUFBQXJULEtBQUFxSSxjQUFBLEdBQUF1SixRQUFBcE8sS0FBQUEsTUFDQTJELE1BQUE2SyxrQkFBQTdLLE1BQUE4SyxlQUFBTCxNQUFBekssTUFBQStLLGFBQUExTyxRQUFBLElBQUE1d0UsT0FBQXUvRSxhQUFBLENBQ0EsR0FBQUosTUFBQS9aLFNBQUEwYSxjQUFBLFNBQUF2TCxNQUFBbU0sV0FBQSxDQUNBLEdBQUFDLFVBQUF2YixTQUFBd2IsZUFBQSxHQUNBck0sT0FBQTdPLFlBQUFpYixVQUVBeEIsTUFBQTBCLFNBQUF0TSxNQUFBbU0sV0FBQTFCLE1BQUF6SyxNQUFBaHZGLFVBQUF1N0YsWUFBQXY2RixPQUFBeTRGLE1BQUF6SyxNQUFBaHZGLFVBQUF1N0YsWUFBQXY2RixRQUNBNDRGLE1BQUE0QixPQUFBeE0sTUFBQW1NLFdBQUE5UCxJQUFBMkQsTUFBQWh2RixVQUFBdTdGLFlBQUF2NkYsT0FBQXFxRixJQUFBMkQsTUFBQWh2RixVQUFBdTdGLFlBQUF2NkYsUUFDQTQ0RixNQUFBNkIsVUFBQSxFQUNBLElBQUFDLEtBQUFqaEYsT0FBQXUvRSxjQUNBMEIsS0FBQUMsa0JBQUFELElBQUFFLFNBQUFoQyxXQUNBNUssT0FBQTZNLGtCQUFBakMsTUFBQTVLLE1BQUE2TSxrQkFBQWpDLE1BQUE2QixVQUFBLEdBQ0E3QixNQUFBa0MsUUFBQSxZQUFBelEsS0FBQXVPLE1BQUFhLFVBQUEsWUFBQWhCLE9BQUFHLE1BQUF4L0YsVUFFQSxRQUFBMmhHLCtCQUFBQyxrQkFDQSxHQUFBcE4sS0FBQUYsUUFBQWYsT0FBQXNHLFlBQUFnSSxHQUFBdE8sT0FBQTNzRixPQUFBb3ZGLElBQUFkLHVCQUFBNE0sYUFBQTFLLE9BQUEzQyxhQUFBcEIsZUFBQTJDLEtBQUEzQixVQUFBLFNBQUErQyxPQUFBQSxPQUFBekMsUUFBQXp4RSxRQUFBLE1BQ0EsS0FBQXN4RSxJQUFBd0IsSUFBQSxFQUFBeEIsSUFBQWpCLE9BQUEzc0YsT0FBQTR0RixNQUFBRixRQUFBUSxnQkFBQU4sSUFBQUgsVUFBQUcsSUFBQSxHQUNBSCxVQUFBQyxRQUFBSyxRQUFBenhFLFFBQUE0K0UsVUFBQXROLEtBQUExckYsRUFBQWk3QixRQUFBLEtBQUF1d0QsUUFDQSxJQUFBeU4sV0FBQTNLLFFBQUEsU0FBQUEsT0FBQVosWUFBQVksT0FBQXpDLFFBQUF5QyxPQUFBWixhQUFBLE1BQ0EsS0FBQWhDLElBQUFxTixHQUFBLEVBQUFyTixJQUFBd0IsTUFBQTFCLFFBQUF3TixVQUFBdE4sTUFBQUYsUUFBQS82RSxNQUFBZzNFLGFBQUErRCxRQUFBLzZFLE1BQUErOEUsb0JBQUF5TCxZQUFBQSxZQUFBRCxVQUFBdE4sS0FBQUcsUUFBQXlDLE9BQUFaLGNBQUEsTUFBQWxDLFFBQUEvNkUsTUFBQSsyRSxJQUFBLE9BQUFnRSxRQUFBLzZFLE1BQUErMkUsSUFBQWdFLFFBQUFLLFFBQUF5QyxPQUFBWixjQUFBYyxzQkFBQWhELFFBQUFLLFFBQUF5QyxPQUFBWixhQUFBaGhGLFdBQUExVixNQUFBLEtBQUFpaUcsVUFBQXZzRixXQUFBMVYsTUFBQSxPQUFBLEtBQUF5MkYsU0FBQS9CLEtBQUEsR0FBQS9ELE9BQUE4QyxPQUFBaUIsT0FBQUssZUFBQUwsSUFBQUYsUUFBQS82RSxRQUFBaTdFLE1BQUFxTixJQUNBLE9BQUFELG1CQUNBcCtFLEVBQUFxK0UsR0FDQXBSLElBQUFxUixVQUFBRCxJQUFBQyxVQUFBRCxJQUFBdG9GLE1BQUEsUUFDQXNvRixHQUVBLFFBQUFHLG1CQUFBek8sUUFDQSxJQUFBLEdBQUEwTyxJQUFBTixnQ0FBQU8sS0FBQTNPLE9BQUEzc0YsT0FBQSxFQUFBczdGLEtBQUFELEtBQUFsTCxPQUFBbUwsTUFBQUEsUUFDQSxNQUFBM08sUUFBQWxvRixPQUFBNDJGLEdBQUFDLEtBQUEsRUFBQUQsSUFBQTFPLE9BRUEsUUFBQXFKLFlBQUFySixRQUNBLEdBQUF6cUYsRUFBQWtuRixXQUFBdkMsS0FBQW1QLFlBQUEsTUFBQW5QLE1BQUFtUCxXQUFBbm5GLEtBQUE5UCxHQUFBNHRGLE9BQUE5RixLQUNBLElBQUEsTUFBQUEsS0FBQXdGLE9BQUEsTUFBQSxPQUNBLElBQUFoeEMsV0FBQSxFQUFBa2dELElBQUFSLCtCQUFBLEdBQUFTLElBQUE5RSxhQUFBNkUsSUFBQTMrRSxFQUNBLElBQUEsU0FBQTIrRSxJQUFBMVIsS0FBQTBSLElBQUExUixJQUFBRCxnQkFBQTJSLElBQUExUixJQUFBRixhQUFBNFIsSUFBQTFSLElBQUE2RixtQkFBQSxDQUNBcjBDLFVBQUEsQ0FDQSxLQUFBLEdBQUE1NEMsR0FBQSxFQUFBKzRGLEtBQUEvNEYsRUFBQUEsSUFBQSxDQUNBLEdBQUF2RSxNQUFBZ3dGLGdCQUFBenJGLEdBQUFrUSxLQUNBLElBQUEsT0FBQXpVLEtBQUF3ckYsSUFBQSxTQUFBbUUsYUFBQXBCLGVBQUFocUYsSUFBQXZFLEtBQUF5ckYsZUFBQSxHQUFBenJGLEtBQUF3eEYsc0JBQUEsR0FBQSxPQUFBeHhGLEtBQUF3ckYsSUFBQWlELE9BQUFscUYsS0FBQXdyRixlQUFBeHJGLEVBQUF2RSxNQUFBLENBQ0FtOUMsVUFBQSxDQUNBLFNBSUEsTUFBQUEsVUFFQSxRQUFBb2dELGFBQUFoRCxNQUFBcE8sS0FDQSxNQUFBaU8sT0FBQUcsTUFBQXBPLElBQUEsR0FBQW9PLE1BQUFwTyxNQUFBLEdBQUF4RCxLQUFBcUksV0FBQTdFLElBQUFvTyxNQUFBLEdBQUFwTyxJQUFBb08sUUFBQSxHQUFBNVIsS0FBQXFJLFdBRUEsUUFBQXdNLGdCQUFBQyxjQUNBLE1BQUEsVUFBQTc3RixHQUNBLEdBQUE4N0YsZ0JBQUEsRUFBQUMsZ0JBQUEsQ0FDQSxJQUFBLFNBQUE5N0YsS0FBQWYsVUFBQSxDQUNBLEdBQUE4OEYsUUFBQTU1RixFQUFBdEosS0FBQW1ILEtBQUEsa0JBQ0ErN0YsUUFBQSxHQUFBblYsV0FBQW1WLFFBQUFwVSxLQUFBM25GLE1BQUFtQyxFQUFBbkMsTUFBQWc4RixJQUFBLGtCQUNBLENBQ0EsR0FBQSxhQUFBajhGLEVBQUE4TixRQUFBN04sS0FBQTg1QyxVQUFBOTVDLEtBQUFpOEYsWUFBQSxZQUFBbDhGLEVBQUE4TixNQUFBOU4sRUFBQW04RixTQUFBLEtBQUFuOEYsRUFBQTZaLFNBQUFrdEUsS0FBQXFWLGNBQUEsR0FBQXA4RixFQUFBNlosVUFBQWd0RSxVQUFBaHRFLFFBQUF3aUYsTUFBQSxDQUNBLE9BQUFyOEYsRUFBQThOLE1BQ0EsSUFBQSxRQUNBLEdBQUFvcEYsa0JBQUEsR0FBQTRFLGlCQUFBLEVBQUEsTUFBQTVFLGlCQUFBLEVBQUFsM0YsRUFBQWpELGdCQUNBZy9GLGlCQUFBLENBQ0EsTUFFQSxLQUFBLFVBQ0FPLG1CQUFBLEVBQUFSLGVBQUEsRUFBQUMsZ0JBQUEsQ0FDQSxNQUVBLEtBQUEsV0FDQSxHQUFBTyxxQkFBQSxFQUFBLE1BQUF0OEYsR0FBQWpELGdCQUNBdS9GLG9CQUFBLENBQ0EsTUFFQSxLQUFBLG1CQUNBUixlQUFBLENBQ0EsTUFFQSxLQUFBLG9CQUNBNUUsZUFBQTZFLGNBQ0EsTUFFQSxLQUFBLGlCQUNBRCxlQUFBLEVBQUFDLGdCQUFBLENBQ0EsTUFFQSxLQUFBLE1BQ0E3RSxnQkFBQSxFQUVBLE1BQUEyRSxjQUFBejZELE1BQUFuaEMsS0FBQTQwRSxXQUVBNzBFLEVBQUFqRCxtQkFJQSxRQUFBdy9GLG9CQUFBelUsS0FDQSxRQUFBMFUsY0FBQTF1RixNQUNBLEdBQUExTCxFQUFBcTZGLFdBQUEsU0FBQXI2RixFQUFBcTZGLFNBQUEzdUYsT0FBQTFMLEVBQUFxNkYsU0FBQTN1RixNQUFBNHVGLGtCQUFBLEdBQUEsQ0FDQSxHQUFBQyxZQUFBdjZGLEVBQUFxNkYsU0FBQTN1RixPQUFBMUwsRUFBQXE2RixTQUFBM3VGLE1BQUFyTixJQUFBMkIsRUFBQXE2RixTQUFBM3VGLE1BQUFyTixJQUFBLFNBQUFiLE1BQ0EsTUFBQUEsTUFBQXRCLE9BQ0FzK0YsV0FBQXg2RixFQUFBcTZGLFNBQUEzdUYsT0FBQTFMLEVBQUFxNkYsU0FBQTN1RixNQUFBK3VGLElBQUF6NkYsRUFBQXE2RixTQUFBM3VGLE1BQUErdUYsSUFBQSxTQUFBajlGLEtBQUF0QixPQUNBLE1BQUFzQixNQUFBdEIsTUFBQUEsTUFBQXNCLEtBRUF3QyxHQUFBcTZGLFNBQUEzdUYsT0FDQXJOLElBQUEsU0FBQWIsTUFDQSxHQUFBQSxLQUFBVixVQUFBLENBQ0EsR0FBQVUsS0FBQVYsVUFBQTZuRixLQUFBOFEsV0FBQSxNQUFBajRGLE1BQUFWLFVBQUFtNUYsZUFDQSxJQUFBajhGLFFBQUF1Z0csV0FBQS84RixNQUFBMHRGLFFBQUExdEYsS0FBQVYsVUFBQW91RixRQUFBd1AsZUFBQXhQLFFBQUFWLE9BQ0EsT0FBQWtRLGdCQUFBQSxlQUFBQSxlQUFBajVGLEtBQUEsSUFBQSxHQUFBekgsU0FBQTBnRyxlQUFBMWdHLE9BQUEsR0FFQSxNQUFBdWdHLFlBQUEvOEYsT0FFQWk5RixJQUFBLFNBQUFqOUYsS0FBQXRCLE9BQ0EsR0FBQWxDLFFBQUEyZ0csTUFBQTM2RixFQUFBeEMsS0FDQSxPQUFBeEQsUUFBQXdnRyxXQUFBaDlGLEtBQUF0QixPQUFBc0IsS0FBQVYsV0FBQTY5RixNQUFBLzlFLFFBQUEsc0JBQ0E1aUIsUUFFQXNnRyxnQkFBQSxJQUlBLFFBQUFNLFVBQ0EsTUFBQS84RixNQUFBZixVQUFBZSxLQUFBZixVQUFBNm5GLEtBQUE4USxXQUFBNTNGLEtBQUFmLFVBQUFtNUYsZ0JBQUE0RSxTQUFBbHVGLEtBQUE5TyxRQUFBaXpGLG9CQUFBcnZGLEtBQUEsSUFBQWs3RSxTQUFBcVosZ0JBQUFuNEYsTUFBQThtRixLQUFBbVcsc0JBQUExRSxNQUFBOEMsa0JBQUFuSSxhQUFBaHhGLFVBQUFtNUYsa0JBQUFuSSxjQUFBdHZGLEtBQUEsSUFBQW81RixTQUFBbHVGLEtBQUE5TyxNQUFBLEdBQUFnOUYsU0FBQWx1RixLQUFBOU8sTUFFQSxRQUFBazlGLFFBQUE3K0YsT0FDQTgrRixTQUFBcnVGLEtBQUE5TyxLQUFBM0IsT0FBQTJCLEtBQUFmLFdBQUFrRCxFQUFBbkMsTUFBQStlLFFBQUEsc0JBRUEsUUFBQXErRSwrQkFBQXZWLEtBQ0ExbEYsRUFBQTBsRixLQUFBOW9GLEdBQUEsdUJBQUE0OEYsZUFBQSxTQUFBbC9GLE9BQ0EsR0FBQTRnRyxRQUFBbDdGLEVBQUFuQyxNQUFBaXVGLE1BQUFqdUYsS0FBQTNCLE1BQUE0dkYsTUFBQWh2RixVQUFBdTdGLFdBQ0EsTUFBQW44RixPQUFBQSxRQUFBNjBGLFlBQUF0dkYsS0FBQSxLQUFBeTVGLE9BQUF0K0UsUUFBQSx5QkFHQSxHQUFBaStFLFVBQUFHLFFBQ0F0VixLQUFBNW9GLFVBQUFxK0YsYUFBQXJ6RixPQUFBc3pGLDBCQUFBLFNBQUExVixJQUFBeHBGLE9BQUEyK0YsU0FBQSxXQUNBLE1BQUFoOUYsTUFBQXc5RixhQUNBTCxTQUFBLFNBQUE5K0YsT0FDQTJCLEtBQUF3OUYsWUFBQW4vRixPQUNBNEwsT0FBQXd6RixlQUFBNVYsSUFBQSxTQUNBcm5GLElBQUF1OEYsT0FDQUgsSUFBQU0sVUFDQXBlLFNBQUE0ZSxrQkFBQTdWLElBQUE2VixpQkFBQSxVQUFBVixTQUFBblYsSUFBQTZWLGlCQUFBLFNBQ0FQLFNBQUF0VixJQUFBOFYsaUJBQUEsU0FBQTlWLElBQUErVixpQkFBQSxRQUFBYixRQUNBbFYsSUFBQWdXLGlCQUFBLFFBQUFYLFVBQUFGLFNBQUEsV0FDQSxNQUFBblYsS0FBQXhwRixPQUNBOCtGLFNBQUEsU0FBQTkrRixPQUNBd3BGLElBQUF4cEYsTUFBQUEsT0FDQWsrRixhQUFBMVUsSUFBQWg2RSxNQUFBdXZGLDhCQUFBdlYsTUFBQUEsSUFBQTVvRixVQUFBcStGLFdBQUFOLFNBQ0FuVixJQUFBNW9GLFVBQUF1N0YsVUFBQSxTQUFBc0QsYUFDQSxNQUFBdkYsUUFBQXVGLGVBQUEsRUFBQWQsU0FBQWx1RixLQUFBOU8sS0FBQWhCLElBQUE3RixNQUFBLElBQUErSSxVQUFBMEIsS0FBQSxJQUFBbzVGLFNBQUFsdUYsS0FBQTlPLEtBQUFoQixLQUNBNm9GLElBQUE1b0YsVUFBQTgrRixXQUFBWixTQUFBdFYsSUFBQTVvRixVQUFBKzNGLFVBQUEsU0FBQTM0RixNQUFBeS9GLGFBQ0FYLFNBQUFydUYsS0FBQTlPLEtBQUFoQixHQUFBLE9BQUFYLE9BQUEsU0FBQUEsTUFBQSxHQUFBeS9GLGVBQUEsR0FBQXZGLE1BQUFsNkYsTUFBQWxGLE1BQUEsSUFBQStJLFVBQUEwQixLQUFBLElBQUF2RixTQUdBLFFBQUEyL0YsY0FBQS9QLE1BQUF6dUIsRUFBQXF1QixJQUFBWSxRQUNBLFFBQUF3UCxjQUNBLEdBQUFuWCxLQUFBaUcsV0FBQSxDQUNBc0IsY0FBQSxFQUNBLElBQUFnRyxTQUFBVSxlQUFBM0YsZUFBQWp0RixFQUFBaTdCLFFBQUEsS0FBQTB3RCxhQUFBcEIsZUFDQSxLQUFBMkgsUUFBQTlGLHVCQUFBOEYsU0FBQSxFQUFBQSxVQUFBLENBQ0EsR0FBQXRHLFVBQUFELGFBQUFwQixlQUFBMkgsUUFDQSxJQUFBdEcsV0FBQSxNQUFBQSxTQUFBbjdFLE1BQUErMkUsSUFBQW9MLFlBQUE3M0YsS0FBQTZ3RixTQUFBRSxhQUNBSCxjQUFBcEIsZUFBQTJILFNBQUEsU0FBQXRHLFNBQUE4QixhQUFBOUIsU0FBQUMsUUFBQUQsU0FBQThCLGVBQUExQixnQkFBQWtHLFNBQUFyRyxRQUFBRCxTQUFBOEIsY0FBQSxNQUVBLEdBQUF3RSxRQUFBLEdBQUEsS0FBQVUsWUFBQTkwRixPQUFBLEdBQUEsQ0FDQTZ0RixhQUFBdDNELEVBQUFzNUQsU0FBQXZCLHVCQUNBLElBQUFoWSxVQUFBcDBFLEVBQUF1QixNQUFBLFdBQ0E2eUUsVUFBQTc1RSxNQUFBcTRGLFlBQUFqSyxNQUFBa04sV0FBQSxHQUFBRSxjQUFBcHBGLEtBQUFtL0UsTUFBQTFYLFVBQUEsR0FBQSxHQUFBLEVBQUF1WCxhQUFBdDNELE9BQ0FzM0QsY0FBQXBCLGVBQUF2cUYsRUFBQWk3QixRQUFBLEtBQUFneUQsaUJBR0EsSUFBQXRJLEtBQUFvRixjQUFBcU0sU0FBQS80QixJQUFBb25CLFVBQUFodEUsUUFBQXNrRixVQUFBMStCLEVBQUFvbkIsVUFBQWh0RSxRQUFBdWtGLE9BQUEzK0IsSUFBQW9uQixVQUFBaHRFLFFBQUF1a0YsU0FBQTMrQixFQUFBb25CLFVBQUFodEUsUUFBQXNrRixXQUNBM0YsT0FBQSxDQUNBLEdBQUE2RixNQUFBdlEsSUFBQXZELEdBQ0F1RCxLQUFBdkQsSUFBQXVELElBQUE2SyxNQUFBN0ssSUFBQTZLLE1BQUEwRixLQUVBNStCLElBQUFvbkIsVUFBQWh0RSxRQUFBc2tGLFlBQUFyUSxJQUFBdkQsSUFBQXVELElBQUE2SyxNQUFBLEdBQUE1UixLQUFBcUksY0FBQSxJQUFBdEIsSUFBQTZLLE1BQUEvQixhQUFBOUksSUFBQTZLLE9BQ0EsU0FBQTVLLGFBQUFwQixlQUFBbUIsSUFBQTZLLFFBQUE1SyxhQUFBcEIsZUFBQW1CLElBQUE2SyxPQUFBekssUUFBQW5ILEtBQUF1WCxnQkFBQXZRLGFBQUFwQixlQUFBbUIsSUFBQTZLLE9BQUF6SyxRQUFBbkgsS0FBQXdKLFlBQUF6QyxJQUFBNkssU0FBQWw1QixJQUFBb25CLFVBQUFodEUsUUFBQXVrRixRQUFBdFEsSUFBQTZLLFFBQUE3SyxJQUFBdkQsTUFBQXVELElBQUF2RCxJQUFBOEYsT0FBQXZDLElBQUF2RCxLQUFBdUQsSUFBQXZELElBQUEsRUFBQXdGLFNBQUFqQyxJQUFBdkQsS0FBQSxFQUNBLFNBQUF3RCxhQUFBcEIsZUFBQW1CLElBQUE2SyxRQUFBNUssYUFBQXBCLGVBQUFtQixJQUFBNkssT0FBQXpLLFFBQUFuSCxLQUFBdVgsZ0JBQUF2USxhQUFBcEIsZUFBQW1CLElBQUE2SyxPQUFBekssUUFBQW5ILEtBQUF3SixZQUFBekMsSUFBQXZELE9BQ0EwRixvQkFBQW5DLElBQUE2SyxNQUFBN0ssSUFBQXZELEtBQUEsRUFBQW1FLFFBQUFBLFVBQUEsR0FBQXdQLFlBQ0EsSUFBQTVPLEtBQUFkLHFCQUFBVixJQUFBNkssTUFDQXJKLEtBQUF4QixJQUFBNkssT0FBQSxLQUFBckosS0FBQWhCLGVBQUFQLGFBQUF0M0QsRUFBQXM1RCxTQUFBVCxNQUFBWixVQUFBLElBQUFYLGFBQUF0M0QsRUFBQXEzRCxJQUFBNkssT0FFQSxRQUFBNEYsY0FBQXYrRixHQUNBLEdBQUFrdUYsT0FBQWp1RixLQUFBcTlGLE9BQUFsN0YsRUFBQThyRixPQUFBenVCLEVBQUF6L0QsRUFBQTZaLFFBQUFpMEUsSUFBQW1JLE1BQUEvSCxNQUNBenVCLEtBQUFvbkIsVUFBQWh0RSxRQUFBc2tGLFdBQUExK0IsSUFBQW9uQixVQUFBaHRFLFFBQUF1a0YsUUFBQUksUUFBQSxNQUFBLytCLEdBQUF6L0QsRUFBQW04RixTQUFBLEtBQUExOEIsSUFBQTJuQixzQkFBQSxRQUFBcG5GLEVBQUFqRCxpQkFDQSxLQUFBMGlFLElBQUFnL0IsVUFBQXRMLFlBQUF0dkYsS0FBQSxLQUFBbzZGLGFBQUEvUCxNQUFBenVCLEVBQUFxdUIsS0FBQStJLFlBQUEzSSxNQUFBaUYsWUFBQXBGLGFBQUF0M0QsRUFBQXoyQixFQUFBeStGLFlBQUF0TCxZQUFBdHZGLEtBQUEsS0FDQXFxRixNQUFBaHZGLFVBQUF1N0YsY0FBQXZILG9CQUFBcnZGLEtBQUEsSUFBQXk1RixPQUFBdCtFLFFBQUEsV0FBQWszRSxXQUFBL0MsZ0JBQUEsR0FBQW1LLE9BQUF0K0UsUUFBQSxZQUNBK25FLEtBQUEyWCxjQUFBeFEsTUFBQXRnRixNQUFBbTVFLEtBQUEvUCxTQUFBK1csYUFBQW5HLE9BQUFub0IsSUFBQW9uQixVQUFBaHRFLFFBQUE4a0YsS0FBQWwvQixJQUFBb25CLFVBQUFodEUsUUFBQStrRixVQUFBdjFDLFdBQUEsV0FDQSxHQUFBeXRDLFVBQUEvRyxTQUFBdkIsdUJBQ0F6SCxNQUFBcUksWUFBQTBILFdBQUFuSCxpQkFBQTN2RixFQUFBKzJFLFVBQUErZjtBQUFBYixNQUFBL0gsTUFBQWx1RixFQUFBKzJFLFNBQUErVyxJQUFBNkssTUFBQTdCLFNBQUFBLFdBQ0EsR0FBQXIzQixJQUFBb25CLFVBQUFodEUsUUFBQWdsRixPQUFBNytGLEVBQUErMkUsVUFBQXRYLElBQUFvbkIsVUFBQWh0RSxRQUFBaWxGLFFBQUE3SSxNQUFBL0gsTUFBQSxFQUFBbHVGLEVBQUErMkUsU0FBQStXLElBQUE2SyxNQUFBLElBQUE1UixLQUFBZ1ksY0FBQXQvQixJQUFBb25CLFVBQUFodEUsUUFBQW1sRixRQUFBLEtBQUF2L0IsR0FBQXovRCxFQUFBbThGLFVBQUFuOEYsRUFBQWkvRixVQUFBLEdBQUE1SCxTQUFBbkosT0FBQSxHQUFBLEVBQUF1USxVQUFBcmxHLE1BQUEsS0FDQWtrRyxPQUFBdCtFLFFBQUEsVUFBQXlnRCxJQUFBb25CLFVBQUFodEUsUUFBQXFsRixRQUFBbC9GLEVBQUErMkUsVUFBQS8yRSxFQUFBbThGLFFBQUFwVixLQUFBcVYsY0FBQSxHQUFBMzhCLElBQUFvbkIsVUFBQWh0RSxRQUFBd2lGLEtBQUFyOEYsRUFBQSsyRSxZQUFBLEdBQUEsT0FBQThaLFFBQUEvQyxJQUFBNkssT0FBQS9PLEtBQUFrRSxJQUFBNkssTUFBQTVJLFNBQUFqQyxJQUFBNkssUUFDQTdLLElBQUF2RCxJQUFBcU0sYUFBQTlJLElBQUE2SyxPQUFBLEdBQUE3SyxJQUFBNkssTUFBQS9CLGFBQUE5SSxJQUFBdkQsS0FBQSxLQUFBdUQsSUFBQTZLLE1BQUE1SSxTQUFBakMsSUFBQTZLLE9BQUEsR0FDQTdLLElBQUF2RCxJQUFBd0YsU0FBQWpDLElBQUE2SyxPQUFBLEdBQUE3SyxJQUFBdkQsSUFBQW9GLGlCQUFBN0IsSUFBQXZELE9BQUF1RCxJQUFBNkssTUFBQWhKLGtCQUFBM3ZGLEVBQUFqRCxpQkFDQWs1RixNQUFBL0gsTUFBQUosSUFBQTZLLE1BQUE3SyxJQUFBdkQsT0FBQXhELEtBQUFxSSxjQUFBLEdBQUFwdkYsRUFBQSsyRSxXQUFBdFgsSUFBQW9uQixVQUFBaHRFLFFBQUFzbEYsTUFBQTkxQyxXQUFBLFdBQ0EsR0FBQXl0QyxVQUFBYixNQUFBL0gsTUFDQStILE9BQUEvSCxNQUFBNEksU0FBQTZCLFFBQ0EsR0FBQWw1QixJQUFBb25CLFVBQUFodEUsUUFBQXVsRixNQUFBLzFDLFdBQUEsV0FDQSxHQUFBeXRDLFVBQUFiLE1BQUEvSCxNQUNBK0gsT0FBQS9ILE1BQUFzSyxNQUFBMUIsU0FBQTZCLE1BQUEsRUFBQTdCLFNBQUE2QixNQUFBLElBQ0EsS0FBQTVSLEtBQUFxSSxZQUFBckksS0FBQXFJLFdBQUE2RyxNQUFBL0gsTUFBQW5ILEtBQUFxSSxZQUFBdEIsSUFBQTZLLFFBQUFoSixnQkFBQTdCLElBQUE2SyxNQUFBN0ssSUFBQTZLLE1BQUEsSUFDQTVSLEtBQUFzWSxVQUFBci9GLEVBQUFtekYsWUFBQThDLE1BQUEvSCxPQUFBeUssTUFBQTVSLE1BQUF1WSxVQUFBLEtBQUFsOUYsRUFBQWl2RixRQUFBNXhCLEVBQUFzbkIsS0FBQXdZLFlBRUEsUUFBQXBILGVBQUFuNEYsRUFBQXcvRixTQUFBbEksU0FBQTVJLE9BQUF4QixLQUNBLEdBQUFnQixPQUFBanVGLEtBQUFxOUYsT0FBQWw3RixFQUFBOHJGLE9BQUF6dUIsRUFBQXovRCxFQUFBckQsT0FBQXFELEVBQUFnNEYsVUFBQWg0RixFQUFBNlosT0FDQSxNQUFBMmxGLFlBQUEsR0FBQXgvRixFQUFBbThGLFNBQUFuOEYsRUFBQWkvRixVQUFBai9GLEVBQUFtOEYsU0FBQW44RixFQUFBeS9GLFNBQUFILFdBQUEsTUFBQTcvQixLQUFBb25CLFVBQUFodEUsUUFBQTZsRixPQUFBakIsWUFBQXRMLFlBQUF0dkYsS0FBQSxNQUFBNDZGLFVBQUF0TCxZQUFBdHZGLEtBQUEsSUFDQTdELEVBQUFqRCxpQkFBQXNzRCxXQUFBLFdBQ0FpMEMsT0FBQXQrRSxRQUFBLFdBQ0EsS0FBQSxDQUNBLElBQUF5Z0QsRUFBQSxDQUNBLEtBQUFBLEdBQUF6L0QsRUFBQSsyRSxZQUFBLEdBQUEsTUFBQWdRLEtBQUF3SixhQUFBOXdCLEVBQUEsR0FDQSxJQUFBa2dDLGlCQUFBN1IsSUFBQTBSLFVBQ0E3RyxNQUFBekwsSUFDQTNDLElBQUEyQyxLQUNBK0ksTUFBQS9ILE9BQUE3K0QsRUFBQXVuRCxPQUFBQyxhQUFBcFgsR0FBQW1nQyxRQUFBakUsWUFBQTdOLElBQUE2SyxNQUFBN0ssSUFBQXZELElBQ0FxVixXQUFBN1IsYUFBQThSLGNBQUF6OUYsRUFBQWk3QixRQUFBLEtBQUEwd0QsYUFBQXBCLGdCQUNBc1IsYUFBQS9QLE1BQUFySCxVQUFBaHRFLFFBQUF1a0YsT0FBQXRRLEtBQUEsR0FBQUEsSUFBQTZLLE1BQUE1SyxhQUFBdDNELEVBQ0Fzd0QsS0FBQXFJLGFBQUFySSxLQUFBcUksWUFBQXJJLEtBQUFxSSxXQUFBSCxpQkFBQW5CLElBQUE2SyxNQUFBakssUUFDQTNILEtBQUFxSSxZQUFBckksS0FBQXFJLFlBQUF3USxTQUFBN1ksS0FBQStZLE9BQUEvUixhQUFBZ1MsZ0JBQUEsQ0FDQSxJQUFBdHBFLEdBQUEraEUsUUFBQW9ILFFBQUE5UixJQUFBdkQsSUFBQXVELElBQUE2SyxNQUFBcUgsVUFBQXIyQixRQUFBbHpDLEVBQUFwSCxFQUFBcS9ELE9BQ0EsSUFBQXNSLGFBQUEsRUFBQSxDQUNBLEdBQUFBLGFBQUEsSUFBQXZwRSxFQUFBLFNBQUF1cEUsVUFBQWxTLElBQUFrUyxVQUFBbFMsSUFBQXIzRCxFQUFBcEgsRUFBQSxTQUFBMndFLFVBQUEzd0UsRUFBQTJ3RSxVQUFBM3dFLEVBQUFBLEdBQ0FpL0QsY0FBQSxHQUFBLFNBQUEwUixVQUFBL0osTUFBQTBKLGdCQUFBSyxVQUFBL0osVUFBQSxDQUNBLEdBQUF6RyxLQUFBekIsYUFBQXBCLGNBQ0FnVCxrQkFBQTVZLEtBQUFpRyxhQUFBLFNBQUF3QyxJQUFBLzRELEVBQUEsSUFBQW81RCxTQUFBcDVELEVBQUEsRUFBQSs0RCxJQUFBLzRELEdBQUF3M0QsUUFBQXp4RSxRQUFBaWEsR0FBQXYyQixPQUFBLEdBQUEsU0FBQXN2RixJQUFBLzRELEdBQUFxNUQsYUFBQXI1RCxFQUFBLEVBQUFzNUQsU0FBQXQ1RCxHQUVBczNELGFBQUF0M0QsRUFBQWtwRSxnQkFFQSxHQUFBckksWUFBQSxFQUFBLENBQ0EsR0FBQTJJLE1BQUFoZ0csSUFDQSxJQUFBb3BELFdBQUEsV0FDQTA5QixLQUFBbVosZ0JBQUFueEYsS0FBQWt4RixLQUFBRCxVQUFBalosT0FDQSxHQUFBZ0gsYUFBQWdTLGdCQUFBQyxhQUFBLEVBQUEsQ0FDQSxHQUFBblQsUUFBQXNHLFdBQ0EwRCxhQUFBM0ksTUFBQXJCLE9BQUEyUyxTQUFBLE9BQUF6WSxLQUFBb0YsYUFBQXlLLGFBQUErSSxpQkFBQUEsZ0JBQUEzL0YsRUFBQXcvRixZQUFBLEdBQ0FBLFlBQUEsR0FBQW4yQyxXQUFBLFdBQ0E2c0MsV0FBQXJKLFdBQUEsR0FBQXlRLE9BQUF0K0UsUUFBQSxhQUNBLE9BQ0E0Z0YsV0FBQTdSLGFBQUFsQixPQUFBLE9BQUFrQixhQUFBcEIsZUFBQW9CLGFBQUE4UixtQkFDQUQsV0FBQTdSLGFBQUFsQixPQUFBLE9BQUFrQixhQUFBcEIsZUFBQW9CLGFBQUE4UixjQUNBLElBQUE5WSxLQUFBMlgsY0FBQXhRLE1BQUF0Z0YsTUFBQW01RSxLQUFBL1AsU0FBQStXLGFBQUFuRyxNQUFBNFgsVUFBQXA5RixFQUFBa25GLFdBQUF2QyxLQUFBaVEsZUFBQSxDQUNBLEdBQUE1NkYsUUFBQTJxRixLQUFBaVEsY0FBQWgzRixFQUFBbXpGLFlBQUF3TSxnQkFBQTVZLEtBQ0EsSUFBQTNxRixRQUFBQSxPQUFBaTNGLGtCQUFBLENBQ0EsR0FBQWUsU0FBQWg0RixPQUFBaTNGLGlCQUNBQSxtQkFBQWUsV0FBQSxFQUFBQSxRQUFBQSxRQUFBOUosTUFBQThKLFFBQUE3SixJQUFBbnVGLE9BQUF5d0YsUUFDQXlCLGNBQUEsR0FBQWx5RixPQUFBNjVGLFFBQUFsSSxhQUFBdDNELEVBQUFyNkIsT0FBQTY1RixRQUdBLEdBQUFqMkYsRUFBQWpELGlCQUFBeWlHLFNBQUEsTUFBQVEsWUFHQSxRQUFBRyxZQUFBbmdHLEdBQ0EsR0FBQWt1RixPQUFBanVGLEtBQUEyOEUsR0FBQTU4RSxFQUFBb2dHLGVBQUFwZ0csRUFBQXM5RixPQUFBbDdGLEVBQUE4ckYsT0FBQTl3RixXQUFBOHdGLE1BQUFodkYsVUFBQXU3RixXQUFBLEdBQUEzRCxTQUFBYixNQUFBL0gsTUFDQSxJQUFBLG1CQUFBbHVGLEVBQUE4TixNQUFBb2dGLE1BQUFodkYsVUFBQXU3RixZQUFBdjZGLFFBQUF5dkYsZ0JBQUEsT0FBQSxDQUNBLElBQUEsVUFBQTN2RixFQUFBOE4sS0FBQSxDQUNBLEdBQUF1eUYsa0JBQUFqakcsV0FBQTRSLE9BQUEsRUFBQThuRixTQUFBNkIsT0FBQTJILGdCQUFBbGpHLFdBQUE0UixPQUFBOG5GLFNBQUF2TSxJQUFBbnRGLFdBQUE4QyxPQUNBbWdHLG9CQUFBbk4sb0JBQUExMkUsTUFBQSxFQUFBczZFLFNBQUE2QixPQUFBOTBGLEtBQUEsTUFBQXc4RixpQkFBQSxJQUNBQyxrQkFBQXBOLG9CQUFBMTJFLE1BQUFzNkUsU0FBQXZNLEtBQUExbUYsS0FBQSxNQUFBeThGLGdCQUFBLElBQ0EzbUYsT0FBQTRtRixlQUFBNW1GLE9BQUE0bUYsY0FBQUMsUUFBQXBqRyxXQUFBaWpHLGlCQUFBMW1GLE9BQUE0bUYsY0FBQUMsUUFBQSxRQUFBRixnQkFBQTFqQixHQUFBMmpCLGVBQUEzakIsR0FBQTJqQixjQUFBQyxVQUFBcGpHLFdBQUFpakcsaUJBQUF6akIsR0FBQTJqQixjQUFBQyxRQUFBLGNBQUFGLGlCQUVBLEdBQUFHLFlBQUFyakcsVUFDQSxJQUFBZ0YsRUFBQWtuRixXQUFBdkMsS0FBQTJaLGVBQUEsQ0FDQSxHQUFBRCxXQUFBMVosS0FBQTJaLGNBQUEzeEYsS0FBQW0vRSxNQUFBOXdGLFdBQUEycEYsTUFBQTBaLGNBQUEsRUFBQSxNQUFBemdHLEdBQUFqRCxrQkFDQSxDQUNBMGpHLGNBQUFBLFdBQUFyakcsWUFFQSxNQUFBaTZGLFVBQUFuSixPQUFBLEdBQUEsRUFBQXNLLE1BQUFpSSxXQUFBcm5HLE1BQUEsSUFBQStJLFVBQUFzK0YsV0FBQTN4RixXQUFBMVYsTUFBQSxLQUNBeTlGLFlBQUEzSSxNQUFBaUYsWUFBQSxPQUFBbnpGLEdBQUEsR0FBQXM5RixPQUFBdCtFLFFBQUEsU0FBQWszRSxXQUFBL0MsZ0JBQUEsR0FBQW1LLE9BQUF0K0UsUUFBQSxhQUNBLEVBRUEsUUFBQTJoRixvQkFBQTNnRyxHQUNBLEdBQUFrdUYsT0FBQWp1RixJQUNBbzNGLFVBQUFuSixPQUFBLEdBQUEsRUFBQUEsTUFBQWh2RixVQUFBdTdGLFlBQUFyaEcsTUFBQSxLQUFBODhGLFdBQUEvQyxnQkFBQSxHQUFBL3dGLEVBQUE4ckYsT0FBQWx2RSxRQUFBLFlBQ0FoZixFQUFBakQsaUJBRUEsUUFBQTZqRyxrQkFBQTVnRyxHQUNBLEdBQUFrdUYsT0FBQWp1RixLQUFBNjJGLFNBQUFiLE1BQUEvSCxPQUFBeHZGLGFBQUF3dkYsTUFBQXVNLFdBQ0EvN0YsY0FBQUEsYUFBQTlGLFFBQUEsR0FBQXl2RixRQUFBLElBQUF4QixVQUFBa1IsWUFBQTdFLG9CQUFBcnZGLEtBQUEsS0FBQSxNQUFBLElBQ0FpekYsU0FBQTZCLE1BQUFqNkYsYUFBQXdCLFNBQUErMUYsTUFBQS9ILE1BQUF4dkYsYUFBQXdCLFFBQUE0MkYsU0FBQWIsTUFBQS9ILFFBQ0FpRixZQUFBanpGLE9BQUF4QixhQUFBd0IsU0FBQSxHQUFBeEIsYUFBQWt0RixPQUFBa0wsU0FBQTZCLFNBQUF4RixZQUFBMkQsU0FBQTZCLFFBQUFqNkYsYUFBQWt0RixPQUFBa0wsU0FBQTZCLE1BQUEsS0FBQXhGLFlBQUEyRCxTQUFBNkIsUUFBQXRJLE9BQUF5RyxTQUFBNkIsT0FBQWdJLG1CQUFBNXhGLEtBQUE5TyxLQUFBRCxJQUFBQSxFQUFBNlosUUFBQWt0RSxLQUFBbHRFLFFBQUFza0YsVUFDQUksYUFBQXh2RixLQUFBbS9FLE1BQUFsdUYsSUFBQUEsRUFBQWpELGlCQUVBLFFBQUE4akcsdUJBQUE3Z0csR0FDQSxHQUFBNDhFLElBQUE1OEUsRUFBQW9nRyxlQUFBcGdHLENBQ0F5K0YsV0FBQXRMLFlBQUF0dkYsS0FBQSxJQUFBLEtBQUFpOUYsaUJBQUEsSUFBQWxrQixHQUFBOWpGLEtBQUE0TCxRQUFBbzhGLGlCQUVBLFFBQUFDLHdCQUFBL2dHLEdBQ0EsR0FBQWt1RixPQUFBanVGLEtBQUEyOEUsR0FBQTU4RSxFQUFBb2dHLGVBQUFwZ0csQ0FDQSxLQUFBNDhFLEdBQUE5akYsS0FBQTRMLFFBQUFvOEYsbUJBQUF4UyxlQUFBUCxhQUFBdDNELEVBQUFzNUQsU0FBQSxJQUNBbUgsZ0JBQUEsRUFDQSxLQUFBLEdBQUE4SixTQUFBcGtCLEdBQUE5akYsS0FBQTZKLEVBQUEsRUFBQUEsRUFBQXErRixRQUFBOWdHLE9BQUF5QyxJQUFBLENBQ0EsR0FBQTZ6RSxVQUFBcDBFLEVBQUF1QixNQUFBLFdBQ0E2eUUsVUFBQTc1RSxNQUFBcWtHLFFBQUEvSSxXQUFBdDFGLEdBQUEyNUYsbUJBQUEsRUFBQWdELFdBQUEsRUFDQW5ILGNBQUFwcEYsS0FBQW0vRSxNQUFBMVgsVUFBQSxHQUFBLEdBQUEsRUFBQXVYLGFBQUF0M0QsR0FFQTR5QixXQUFBLFdBQ0EsR0FBQXMyQyxpQkFBQTVSLGFBQUF0M0QsQ0FDQW9nRSxhQUFBM0ksTUFBQWlGLFlBQUFwTSxLQUFBb0YsYUFBQXlLLGFBQUErSSxpQkFBQUEsa0JBQ0EsR0FBQW1CLGdCQUFBbGtCLEdBQUE5akYsS0FFQSxRQUFBbW9HLHFCQUFBamhHLElBQ0EsUUFBQWtoRyxlQUFBbGhHLEdBQ0EsR0FBQWt1RixPQUFBanVGLEtBQUEzQixNQUFBNHZGLE1BQUFodkYsVUFBQXU3RixXQUNBcEQsVUFBQW5KLE9BQUEsR0FBQSxHQUFBOXJGLEVBQUFrbkYsV0FBQXZDLEtBQUFvYSxjQUFBcGEsS0FBQW9hLGFBQUFweUYsS0FBQW0vRSxNQUFBNXZGLE1BQUF5b0YsT0FBQXpvRixNQUFBQSxPQUFBbEYsTUFBQSxLQUNBcWxHLFVBQUF0TCxZQUFBdHZGLEtBQUEsS0FBQWtqRixLQUFBbVcsc0JBQUFuVyxLQUFBcWEsa0JBQUFsVCxNQUFBaHZGLFVBQUF1N0YsY0FBQXZILG9CQUFBcnZGLEtBQUEsS0FBQXFxRixNQUFBaHZGLFVBQUErM0YsVUFBQSxJQUVBLFFBQUFvSyxZQUFBcmhHLEdBQ0EsR0FBQWt1RixPQUFBanVGLEtBQUFxaEcsU0FBQXBULE1BQUFodkYsVUFBQXU3RixXQUNBMVQsTUFBQXdhLG1CQUFBeGEsS0FBQXlhLGlCQUFBemEsS0FBQXlhLGlCQUFBLEtBQUFGLFVBQUFwVCxNQUFBaHZGLFVBQUF1N0YsY0FBQXRILFlBQUF0dkYsS0FBQSxLQUFBZ3pGLFlBQUEzSSxNQUFBaUYsWUFBQXBELFNBQUF2Qix5QkFBQWlULGNBQUEsR0FBQXhMLE1BQUEvSCxNQUFBNkIsU0FBQXZCLHlCQUNBekgsS0FBQTJhLHNCQUFBLEdBQUFyNEMsV0FBQSxXQUNBNHNDLE1BQUEvSCxNQUFBNkIsU0FBQXZCLDBCQUNBLEdBQUFpUSxVQUFBdEwsWUFBQXR2RixLQUFBLElBRUEsUUFBQTg5RixpQkFBQTNoRyxHQUNBLEdBQUFrdUYsT0FBQWp1RixJQUNBLElBQUF3aEcsWUFBQSxFQUFBMWEsS0FBQW1XLHFCQUFBLENBQ0EsR0FBQXJRLFFBQUFzRyxZQUFBMzJFLFFBQUE4a0YsU0FBQXBULE1BQUFodkYsVUFBQXU3RixXQUNBMWIsVUFBQXFaLGdCQUFBbEssT0FBQW9ULFdBQUFwVCxNQUFBaEcsYUFBQSxnQkFBQSxLQUFBb1osV0FBQSxLQUFBOVMsd0JBQUE4UyxXQUFBcE8sb0JBQUFydkYsS0FBQSxJQUFBZ3BGLFVBQUF5TyxrQkFBQXpPLFFBQ0FnSyxZQUFBM0ksTUFBQXJCLFVBR0EsUUFBQStVLFlBQUE1aEcsR0FDQSxRQUFBNmhHLGNBQUFDLFVBQ0EsR0FBQS9hLEtBQUFnYixZQUFBLEtBQUFoYixLQUFBd0osV0FBQSxDQUNBLEdBQUFmLEtBQUF6QixhQUFBcEIsY0FDQSxJQUFBLFNBQUE2QyxJQUFBc1MsV0FBQXRTLElBQUFzUyxVQUFBNVQsUUFBQUMsZUFBQTJULFVBQUEsQ0FDQSxHQUFBQSxTQUFBL1IsU0FBQSxJQUFBLE9BQUEsQ0FDQSxJQUFBaVMsVUFBQTUvRixFQUFBaXZGLFFBQUF0SyxLQUFBd0osV0FBQTRDLFlBQ0EsSUFBQSxLQUFBNk8sU0FBQSxDQUNBLElBQUEsR0FBQXpNLE1BQUEvRixLQUFBLEdBQUErRixHQUFBeU0sVUFBQXhTLElBQUErRixJQUFBckgsUUFBQUMsZUFBQW9ILElBQUEsT0FBQSxDQUNBLFFBQUEsSUFJQSxPQUFBLEVBRUEsR0FBQXJILE9BQUFqdUYsSUFDQSxJQUFBOCtFLFNBQUFxWixnQkFBQWxLLE1BQUEsQ0FDQSxHQUFBK1QsZUFBQWhNLE1BQUEvSCxNQUNBLElBQUErVCxjQUFBdEosUUFBQXNKLGNBQUExWCxJQUFBLEdBQUFzWCxhQUFBSSxjQUFBdEosT0FBQTFDLE1BQUEvSCxNQUFBOXJGLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBNEMsa0JBQUEsQ0FDQSxHQUFBK08sZUFBQUQsY0FBQXRKLE1BQUF3SixnQkFBQTNULHFCQUFBMFQsZUFBQUUsYUFBQXJTLFNBQUFvUyxnQkFDQUMsY0FBQUYsY0FBQWpNLE1BQUEvSCxNQUFBbUMsT0FBQTZSLGdCQUFBN1IsT0FBQTZSLGNBQUEsR0FBQUEsY0FBQW5TLFNBQUFtUyxnQkFBQWpNLE1BQUEvSCxNQUFBbkgsS0FBQW9GLGFBQUEsRUFBQWlXLGdCQUlBLFFBQUFDLGVBQUFyaUcsR0FDQSxHQUFBa3VGLE9BQUFqdUYsSUFDQW9wRCxZQUFBLFdBQ0E0c0MsTUFBQS9ILE1BQUEsRUFBQTZCLFNBQUF2QiwwQkFDQSxHQUVBLFFBQUE4VCxVQUFBdGlHLEdBQ0EsR0FBQWt1RixPQUFBanVGLEtBQUFxOUYsT0FBQWw3RixFQUFBOHJGLE9BQUFKLElBQUFtSSxNQUFBL0gsT0FBQXRSLEdBQUE1OEUsRUFBQW9nRyxlQUFBcGdHLEVBQUF1Z0csY0FBQTVtRixPQUFBNG1GLGVBQUEzakIsR0FBQTJqQixjQUFBZ0MsU0FBQS9KLE1BQUFyRixZQUFBMzJFLE1BQUFzeEUsSUFBQXZELElBQUF1RCxJQUFBNkssT0FBQXhGLFlBQUEzMkUsTUFBQXN4RSxJQUFBNkssTUFBQTdLLElBQUF2RCxJQUNBZ1csZUFBQWlDLFFBQUEsT0FBQWhLLE1BQUErSixTQUFBcGdHLFVBQUEwQixLQUFBLElBQUEwK0YsU0FBQTErRixLQUFBLEtBQ0FrN0UsU0FBQTBqQixhQUFBMWpCLFNBQUEwakIsWUFBQSxRQUFBeEUsYUFBQS9QLE1BQUFySCxVQUFBaHRFLFFBQUF1a0YsT0FBQXRRLEtBQ0ErSSxZQUFBM0ksTUFBQWlGLFlBQUFwRixhQUFBdDNELEVBQUF6MkIsRUFBQXkrRixZQUFBdEwsWUFBQXR2RixLQUFBLEtBQ0FxcUYsTUFBQWh2RixVQUFBdTdGLGNBQUF2SCxvQkFBQXJ2RixLQUFBLEtBQUF5NUYsT0FBQXQrRSxRQUFBLFdBQ0ErbkUsS0FBQTJYLGNBQUF4USxNQUFBdGdGLE1BQUFtNUUsS0FBQS9QLFNBQUErVyxhQUFBbkcsTUFFQSxRQUFBOGEsV0FBQTFpRyxHQUNBLEdBQUFzOUYsUUFBQWw3RixFQUFBbkMsTUFBQWl1RixNQUFBanVGLElBQ0EsSUFBQWl1RixNQUFBaHZGLFVBQUEsQ0FDQSxHQUFBb2lHLFVBQUFwVCxNQUFBaHZGLFVBQUF1N0YsWUFBQTVOLE9BQUFzRyxZQUFBMzJFLE9BQ0FpaUYsYUFBQTVSLE9BQUFocEYsS0FBQSxLQUFBd2xELFdBQUEsV0FDQWkwQyxPQUFBdCtFLFFBQUEsVUFBQXkvRSxVQUFBNVIsT0FBQWhwRixLQUFBLEtBQ0EsR0FBQSxLQUFBeTlGLFdBQUF2YSxLQUFBbVcsdUJBQUEsS0FBQTFPLHdCQUFBOFMsV0FBQXBPLG9CQUFBcnZGLEtBQUEsSUFBQWdwRixVQUFBeU8sa0JBQUF6TyxTQUNBcUosV0FBQXJKLFdBQUEsSUFBQXhqQyxXQUFBLFdBQ0FpMEMsT0FBQXQrRSxRQUFBLGVBQ0EsR0FBQStuRSxLQUFBcWEsa0JBQUE5UyxlQUFBekIsT0FBQTlGLEtBQUFtVyx3QkFBQWhLLG9CQUFBMTJFLFVBQ0FxNkUsWUFBQTNJLE1BQUFyQixPQUFBLE9BQUE3c0YsS0FHQSxRQUFBMmlHLGlCQUFBM2lHLEdBQ0EsR0FBQWt1RixPQUFBanVGLElBQ0F3aEcsYUFBQSxFQUFBMWlCLFNBQUFxWixnQkFBQWxLLE9BQUFuSCxLQUFBeWEsaUJBQUF0VCxNQUFBaHZGLFVBQUF1N0YsY0FBQXRILFlBQUF0dkYsS0FBQSxLQUFBZ3pGLFlBQUEzSSxNQUFBaUYsYUFFQSxRQUFBdkwsTUFBQWhvRixNQUNBLEdBQUFYLEdBQUFXLEtBQUFnakcsSUFBQXhnRyxFQUFBbkQsSUFBQThuRixLQUFBMlgsY0FBQXovRixHQUFBMk8sTUFBQW01RSxLQUFBL1AsU0FBQStXLGFBQUFuRyxPQUNBLFFBQUEzb0YsR0FBQTRqRyxLQUFBOWIsS0FBQStiLGNBQUE3akcsR0FBQXBGLE1BQUFrcEcsVUFBQSxVQUFBLFFBQUE5akcsR0FBQTRqRyxLQUFBOWIsS0FBQW9GLGdCQUFBbHRGLEdBQUE0akcsSUFBQSxNQUNBNWpHLEdBQUErakcsZ0JBQUEsT0FBQS9qRyxHQUFBQyxVQUFBczVGLE9BQUEsRUFBQUEsT0FBQSxHQUFBb0ssSUFBQTNHLElBQUEsY0FDQU0sbUJBQUF0OUYsS0FBQSxVQUFBQSxHQUFBZ2tHLFNBQUExYixxQkFBQXRvRixHQUFBaXBGLGFBQUEsVUFBQWpwRixHQUFBaWtHLHFCQUFBOWdHLEVBQUFuRCxHQUFBa2tHLE1BQUFua0csR0FBQSxTQUFBLFdBQ0F5L0YsWUFBQXRMLFlBQUF0dkYsS0FBQSxLQUFBKytGLElBQUE1akYsUUFBQSxVQUFBK25FLEtBQUFtVyxzQkFBQSxLQUFBMU8sd0JBQUF2dkYsR0FBQUMsVUFBQXU3RixXQUFBeDdGLEdBQUFDLFVBQUF1N0YsY0FBQXZILG9CQUFBcnZGLEtBQUEsS0FBQTVFLEdBQUFDLFVBQUErM0YsVUFBQSxJQUNBbFEsS0FBQXFjLHFCQUFBbmtHLEdBQUFDLFVBQUErM0YsVUFBQWg0RixHQUFBQyxVQUFBbTVGLGlCQUFBLEdBQ0FodkMsV0FBQSxXQUNBd3RDLFlBQUE1M0YsR0FBQWswRixjQUNBLE1BQ0FuMEYsR0FBQSxRQUFBLFdBQ0FxcUQsV0FBQSxXQUNBdTVDLElBQUE1akYsUUFBQSx1QkFDQSxLQUNBNGpGLElBQUE1akcsR0FBQSx1QkFBQTQ4RixlQUFBK0csa0JBQUEzakcsR0FBQSxpQkFBQTQ4RixlQUFBOEcsWUFBQTFqRyxHQUFBLGtCQUFBNDhGLGVBQUF5RixhQUFBcmlHLEdBQUEsdUJBQUE0OEYsZUFBQStGLGtCQUFBM2lHLEdBQUEsa0JBQUE0OEYsZUFBQWdHLGFBQUE1aUcsR0FBQSxxQkFBQTQ4RixlQUFBeUcsZ0JBQUFyakcsR0FBQXFrRyxlQUFBLCtDQUFBekgsZUFBQXVFLGFBQUFuaEcsR0FBQSxnQkFBQTQ4RixlQUFBMEcsV0FBQXRqRyxHQUFBLHFCQUFBNDhGLGVBQUE3VSxLQUFBdWMsYUFBQXRrRyxHQUFBLHVCQUFBNDhGLGVBQUE3VSxLQUFBd2MsZUFBQXZrRyxHQUFBLG9CQUFBNDhGLGVBQUE3VSxLQUFBeWMsWUFBQXhrRyxHQUFBLG9CQUFBNDhGLGVBQUEyQyxlQUFBdi9GLEdBQUEscUJBQUE0OEYsZUFBQXpELGdCQUNBc0wsZ0JBQUFiLElBQUE1akcsR0FBQSw2QkFBQTQ4RixlQUFBaUYsd0JBQUE3aEcsR0FBQSw4QkFBQTQ4RixlQUFBbUYseUJBQUEvaEcsR0FBQSwyQkFBQTQ4RixlQUFBcUYsc0JBQ0EsVUFBQW9DLGdCQUFBVCxJQUFBNWpHLEdBQUEsa0JBQUE0OEYsZUFBQStFLHNCQUNBK0MsU0FBQUQsZ0JBQUFySixlQUFBdUosVUFBQWYsSUFBQTNHLElBQUEsbUJBQ0EyRyxJQUFBNWpHLEdBQUEsa0JBQUE0OEYsZUFBQWdGLHFCQUFBZ0MsSUFBQTVqRyxHQUFBLHFCQUFBNDhGLGVBQUFzRixnQkFDQSxLQUFBamlHLEdBQUFDLFVBQUF1N0YsYUFBQTFULEtBQUFtVyx3QkFBQSxFQUFBLENBQ0EsR0FBQTBHLGNBQUF4aEcsRUFBQWtuRixXQUFBdkMsS0FBQW9hLGNBQUFwYSxLQUFBb2EsYUFBQXB5RixLQUFBOVAsR0FBQUEsR0FBQUMsVUFBQXU3RixZQUFBMVQsT0FBQTluRixHQUFBQyxVQUFBdTdGLFlBQUF4N0YsR0FBQUMsVUFBQXU3RixXQUNBcEQsVUFBQXA0RixJQUFBLEdBQUEsRUFBQTJrRyxhQUFBeHFHLE1BQUEsSUFDQSxJQUFBeXpGLFFBQUFzRyxZQUFBMzJFLE9BQ0FpaUYsV0FBQTVSLE9BQUFocEYsS0FBQSxJQUFBcXlGLFdBQUFySixXQUFBLEdBQUE5RixLQUFBcWEsaUJBQUE5UyxlQUNBdkgsS0FBQW1XLHVCQUFBclEsT0FBQWhwRixLQUFBLE1BQUFxdkYsb0JBQUFydkYsS0FBQSxJQUFBZ3BGLFVBQUF5TyxrQkFBQXpPLFNBQ0FnSyxZQUFBNTNGLEdBQUE0dEYsUUFBQTlOLFNBQUFxWixnQkFBQW41RixJQUFBZzNGLE1BQUFoM0YsR0FBQTh3RixTQUFBdkIsMEJBR0EsR0FBQWlRLFdBQUFxQyxnQkFBQTdoRyxHQUFBMmpHLElBQUF2VSxVQUFBd1YsWUFBQXJMLE9BQUEsRUFBQThELG1CQUFBLEVBQUFwRixnQkFBQSxFQUFBb0ksV0FBQSxFQUFBbUMsWUFBQSxDQUNBLElBQUEsU0FBQXBVLFVBQUEsT0FBQUEsVUFBQTd6QixRQUNBLElBQUEsYUFDQSxNQUFBdjZELElBQUFvdUYsVUFBQXB1RixHQUFBaTNGLFdBQUEvQyxZQUVBLEtBQUEsZ0JBQ0EsTUFBQWwwRixJQUFBb3VGLFVBQUFwdUYsR0FBQSxTQUFBQSxJQUFBLFNBQUFBLEdBQUFDLFdBQUFvdUYsUUFBQXJ1RixHQUFBQyxVQUFBb3VGLFFBQ0F2RyxLQUFBOW5GLEdBQUFDLFVBQUE2bkYsS0FBQXlSLE1BQUF2NUYsR0FBQUMsVUFBQXM1RixNQUFBcUwsWUFBQXJMLE1BQUF2NUYsR0FBQUMsVUFBQXU3RixZQUFBcmhHLE1BQUEsSUFBQStJLFVBQUEwQixLQUFBLElBQUE1RSxHQUFBQyxVQUFBdTdGLGFBQUFvSixZQUFBeFcsVUFBQS91RixNQUNBeW9GLEtBQUFvRixlQUFBcU0sT0FBQSxHQUFBcUwsYUFBQXpoRyxFQUFBa25GLFdBQUF2QyxLQUFBb2EsY0FBQXBhLEtBQUFvYSxhQUFBMEMsWUFBQTljLE9BQUE4YyxZQUFBQSxhQUFBenFHLE1BQUEsSUFDQWkrRixTQUFBLFFBQUEsR0FBQSxFQUFBbUIsTUFBQXFMLFlBQUExaEcsVUFBQTBoRyxhQUFBemhHLEVBQUFrbkYsV0FBQXZDLEtBQUFpUSxnQkFBQWpRLEtBQUFpUSxjQUFBLE9BQUE3RCxZQUFBLEVBQUFwTSxNQUNBc1IsY0FBQXA1RixHQUVBLEtBQUEsT0FDQUEsR0FBQW91RixVQUFBcHVGLEdBQUFxdUYsUUFBQXJ1RixHQUFBQyxVQUFBb3VGLFFBQUF2RyxLQUFBOW5GLEdBQUFDLFVBQUE2bkYsS0FBQXlSLE1BQUF2NUYsR0FBQUMsVUFBQXM1RixNQUNBaUcsVUFBQXRMLFlBQUF0dkYsS0FBQSxJQUFBK2pGLEtBQUEzb0YsR0FDQSxNQUVBLEtBQUEsU0FDQSxNQUFBOG5GLE1BQUFvRixlQUFBcU0sT0FBQSxHQUFBcUwsYUFBQXpoRyxFQUFBa25GLFdBQUF2QyxLQUFBb2EsY0FBQXBhLEtBQUFvYSxhQUFBOVQsVUFBQS91RixNQUFBeW9GLE9BQUFzRyxVQUFBL3VGLE1BQUErdUYsVUFBQS91RixPQUFBbEYsTUFBQSxJQUNBaStGLFNBQUEsUUFBQSxHQUFBLEVBQUFtQixNQUFBcUwsWUFBQTFoRyxVQUFBMGhHLGFBQUF6aEcsRUFBQWtuRixXQUFBdkMsS0FBQWlRLGdCQUFBalEsS0FBQWlRLGNBQUEsT0FBQTdELFlBQUEsRUFBQXBNLE1BQ0FzRyxVQUFBaEIsVUFDQS90RixNQUFBazZGLE1BQUFyRixZQUFBMzJFLFFBQUFyYSxVQUFBMEIsS0FBQSxJQUFBc3ZGLFlBQUF0dkYsS0FBQSxJQUNBd29GLFNBQUFlLFdBQ0E1ekIsT0FBQSxlQUNBOHpCLFFBQUF2RyxPQUNBeVIsTUFBQXJGLFlBQUEzMkUsUUFBQXJhLFVBQUEwQixLQUFBLElBQUFzdkYsWUFBQXR2RixLQUFBLEdBRUEsS0FBQSxVQUNBa2pGLEtBQUFvRixlQUFBcU0sT0FBQSxHQUFBcUwsWUFBQXhXLFVBQUEvdUYsTUFBQWxGLE1BQUEsSUFBQWkrRixTQUFBLFFBQUEsR0FBQSxFQUFBbUIsTUFBQXFMLFlBQUExaEcsVUFBQTBoRyxZQUNBLEtBQUEsR0FBQWhYLFFBQUFzRyxZQUFBb0ksR0FBQU4sZ0NBQUFPLEtBQUEzTyxPQUFBM3NGLE9BQUEsRUFBQXM3RixLQUFBRCxLQUFBbEwsT0FBQW1MLE1BQUFBLFFBQ0EsTUFBQTNPLFFBQUFsb0YsT0FBQTQyRixHQUFBQyxLQUFBLEVBQUFELElBQUFyRixXQUFBckosU0FBQVEsVUFBQS91RixRQUFBdXVGLE9BQUFocEYsS0FBQSxHQUVBLEtBQUEsZUFDQSxNQUFBcXZGLG9CQUVBLEtBQUEsU0FDQWowRixHQUFBb3VGLFVBQUFwdUYsR0FBQTJqRyxJQUFBeGdHLEVBQUFuRCxJQUFBcXVGLFFBQUFydUYsR0FBQUMsVUFBQW91RixRQUFBdkcsS0FBQTluRixHQUFBQyxVQUFBNm5GLEtBQ0E5bkYsR0FBQUMsVUFBQSszRixVQUFBb0IsY0FBQXA1RixLQUFBMmpHLElBQUEzRyxJQUFBLGFBQ0EsSUFBQTZILGNBQ0E1NUYsUUFBQXN6RiwyQkFBQXNHLGNBQUE1NUYsT0FBQXN6Rix5QkFBQXYrRixHQUFBLFVBQ0E2a0csZUFBQUEsY0FBQXJqRyxJQUFBeEIsR0FBQUMsVUFBQXErRixZQUFBcnpGLE9BQUF3ekYsZUFBQXorRixHQUFBLFNBQ0F3QixJQUFBeEIsR0FBQUMsVUFBQXErRixXQUNBVixJQUFBNTlGLEdBQUFDLFVBQUE4K0YsYUFDQWpmLFNBQUE0ZSxrQkFBQTErRixHQUFBMCtGLGlCQUFBLFVBQUExK0YsR0FBQUMsVUFBQXErRixhQUFBdCtGLEdBQUE0K0YsaUJBQUEsUUFBQTUrRixHQUFBQyxVQUFBcStGLFlBQ0F0K0YsR0FBQTYrRixpQkFBQSxRQUFBNytGLEdBQUFDLFVBQUE4K0YsYUFBQS8rRixHQUFBQyxVQUFBLE1BQ0EsTUFFQSxLQUFBLGNBQ0EsR0FBQWtELEVBQUF5Z0YsUUFBQXlLLFFBQUFqQixVQUFBLENBQ0EsSUFBQSxHQUFBeUQsYUFBQVIsSUFBQWQsdUJBQUF1VixTQUFBelUsSUFBQXlVLFVBQUEsRUFBQUEsV0FBQSxHQUFBaFcsYUFBQXBCLGVBQUFvWCxXQUFBLFNBQUFoVyxhQUFBcEIsZUFBQW9YLFVBQUFqVSxZQUFBLENBQ0FBLFlBQUEvQixhQUFBcEIsZUFBQW9YLFVBQUFqVSxXQUNBLE9BRUEsTUFBQSxVQUFBQSxZQUFBeEMsUUFBQWpCLFNBQUEwQixhQUFBcEIsZUFBQTJDLEtBQUFyQixRQUFBNkIsY0FBQXhDLFFBQUFqQixTQUFBLEdBRUEsTUFBQWlCLFNBQUFqQixVQUdBeEYsVUFBQWgrRSxXQUNBN04sVUFDQUYsWUFBQSxJQUNBc3dGLGdCQUNBZCxNQUFBLElBQ0FDLElBQUEsS0FFQXVCLGtCQUNBeEIsTUFBQSxJQUNBQyxJQUFBLEtBRUFGLGFBQ0FDLE1BQUEsSUFDQUMsSUFBQSxLQUVBMkIsaUJBQUEsSUFDQUwsV0FBQSxLQUNBakUsS0FBQSxLQUNBMGIsV0FBQWxoRyxFQUFBNGhHLEtBQ0FULGFBQUFuaEcsRUFBQTRoRyxLQUNBUixVQUFBcGhHLEVBQUE0aEcsS0FDQXpYLE9BQUEsRUFDQUQsUUFBQSxFQUNBdUwsWUFBQSxFQUNBdUwsb0JBQUEsRUFDQWxHLHNCQUFBLEVBQ0E5TixZQUFBLEVBQ0FnUyxpQkFBQSxFQUNBelosV0FDQWIsTUFBQSxLQUNBdVksVUFBQWo5RixFQUFBNGhHLEtBQ0E3QyxhQUFBLEtBQ0FULGNBQUEsU0FBQXVELFlBQUFsZCxNQUNBLE1BQUEza0YsR0FBQWtuRixXQUFBdkMsS0FBQW9hLGNBQUFwYSxLQUFBb2EsYUFBQThDLFlBQUFsZCxNQUFBa2QsYUFFQWpOLGNBQUEsS0FDQTBCLFNBQUEsS0FDQTZJLGlCQUFBLEVBQ0FDLGlCQUFBLEVBQ0F0QixnQkFBQTk5RixFQUFBNGhHLEtBQ0ExUSwwQkFBQSxJQUNBb0wsYUFBQSxFQUNBMW5CLFFBQUEsT0FDQW1WLGNBQUEsRUFDQTJXLFlBQUEsRUFDQS9ELGNBQUEsRUFDQXhPLFdBQUEsR0FDQStOLGVBQUEsR0FDQXlELFlBQUEsRUFDQXJMLFNBQUEsRUFDQUMsaUJBQUEsRUFDQTNKLFdBQUEsS0FDQTBVLG9CQUFBLEVBQ0F0RixZQUFBLEVBQ0E4SCxxQkFDQWpkLGFBQ0FrZCxHQUNBeGEsVUFBQSxRQUNBRCxZQUFBLEVBQ0FNLGlCQUFBLEtBRUE5MkUsR0FDQXkyRSxVQUFBLG9CQUNBRCxZQUFBLEVBQ0FNLGlCQUFBLEtBRUFvYSxLQUNBemEsVUFBQSx1QkFDQUQsWUFBQSxJQUdBNlYsWUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxLQUNBckosV0FBQSxLQUNBOUYsaUJBQUFodUYsRUFBQTRoRyxLQUNBN04sZUFBQSxNQUVBekosY0FDQTlFLEtBQUEsU0FBQXljLE9BQ0EsR0FBQUMsTUFBQXJrRyxJQUNBLE9BQUEsZ0JBQUFva0csU0FBQUEsTUFBQXRsQixTQUFBd2xCLGlCQUFBRixRQUFBQSxNQUFBQSxNQUFBRyxVQUFBSCxPQUFBQSxNQUNBamlHLEVBQUFDLEtBQUFnaUcsTUFBQSxTQUFBblgsSUFBQWp1RixJQUNBLEdBQUF3bEcsWUFBQXJpRyxFQUFBaTdCLFFBQUEsS0FBQWluRSxLQUFBdmQsS0FDQWMsd0JBQUE1b0YsR0FBQXdsRyxXQUFBcmlHLEVBQUFpN0IsUUFBQSxLQUFBaW5FLEtBQUFwZCxhQUNBLElBQUFvRyxTQUFBL0UsZ0JBQUFrYyxXQUFBSCxLQUFBdGQsYUFDQSxVQUFBc0csVUFBQSxTQUFBcnVGLEdBQUFDLFdBQUFELEdBQUFDLFVBQUF1NEUsU0FBQXg0RSxHQUFBQyxVQUFBLEdBQUEybkYsV0FDQTVuRixHQUFBQyxVQUFBNm5GLEtBQUEwZCxXQUFBeGxHLEdBQUFDLFVBQUE4bkYsYUFBQXNkLEtBQUF0ZCxhQUFBL25GLEdBQUFDLFVBQUFnb0YsWUFBQTlrRixFQUFBaTdCLFFBQUEsS0FBQWluRSxLQUFBcGQsYUFDQWpvRixHQUFBQyxVQUFBRCxHQUFBQSxHQUFBQSxHQUFBQyxVQUFBb3VGLFFBQUFBLFFBQUFydUYsR0FBQUMsVUFBQXM1RixPQUFBLEVBQUFwMkYsRUFBQXRKLEtBQUFtRyxHQUFBLGtCQUFBd2xHLFlBQ0FyWCxXQUNBNXpCLE9BQUEsT0FDQXY2RCxHQUFBQSxRQUVBb2xHLE1BQUFBLE1BQUEsR0FBQW5sRyxXQUFBZSxLQUFBQSxNQUVBK25GLE9BQUEsU0FBQTduRixTQUNBLE1BQUEsZ0JBQUFBLFNBQUFGLEtBQUE4bUYsS0FBQTVtRixTQUFBLGdCQUFBQSxVQUFBaUMsRUFBQWk3QixPQUFBcDlCLEtBQUE4bUYsS0FBQTVtRixTQUNBaUMsRUFBQWk3QixPQUFBcDlCLEtBQUFpbkYsWUFBQS9tRixTQUFBRixLQUFBaEIsS0FBQSxTQUFBa0IsUUFBQXluRixNQUFBLFNBQUF6bkYsUUFBQTJtRixNQUFBN21GLEtBQUEybkYsS0FBQTNuRixLQUFBaEIsS0FBQW1ELEVBQUF0SixLQUFBbUgsS0FBQWhCLEdBQUEsa0JBQUFnQixLQUFBOG1GLE1BQ0FxRyxXQUNBNXpCLE9BQUEsT0FDQXY2RCxHQUFBZ0IsS0FBQWhCLE9BQ0FnQixNQUFBLFFBRUFvNEYsY0FBQSxTQUFBLzVGLE9BQ0EsTUFBQTh1RixZQUNBNXpCLE9BQUEsZ0JBQ0F2NkQsR0FBQWdCLEtBQUFoQixHQUNBWCxNQUFBQSxPQUNBMkIsS0FBQWhCLElBQUFnQixLQUFBaEIsR0FBQUMsVUFBQWUsS0FBQWhCLEdBQUFDLFVBQUFvdUYsUUFBQS9FLGdCQUFBdG9GLEtBQUE4bUYsS0FBQTltRixLQUFBK21GLGNBQUEvbUYsS0FBQThtRixPQUVBdFAsT0FBQSxXQUNBLE1BQUF4M0UsTUFBQWhCLElBQUFtdUYsV0FDQTV6QixPQUFBLFNBQ0F2NkQsR0FBQWdCLEtBQUFoQixLQUNBZ0IsS0FBQWhCLEdBQUFDLFVBQUEsT0FBQWUsS0FBQWhCLElBQUEsUUFFQXlsRyxhQUFBLFdBQ0EsTUFBQXRYLFlBQ0E1ekIsT0FBQSxnQkFDQXY1RCxLQUFBcXRGLFNBQUEvRSxnQkFBQXRvRixLQUFBOG1GLEtBQUE5bUYsS0FBQSttRixjQUFBL21GLEtBQUE4bUYsT0FFQTRkLGVBQUEsV0FDQSxPQUFBMWtHLEtBQUE4bUYsS0FBQThRLFlBRUEzQixXQUFBLFdBQ0EsTUFBQTlJLFlBQ0E1ekIsT0FBQSxhQUNBdjZELEdBQUFnQixLQUFBaEIsSUFDQWdCLEtBQUFxdEYsU0FBQS9FLGdCQUFBdG9GLEtBQUE4bUYsS0FBQTltRixLQUFBK21GLGNBQUEvbUYsS0FBQThtRixPQUVBNmQsWUFBQSxXQUNBLE1BQUF4WCxZQUNBNXpCLE9BQUEsZUFDQXY1RCxLQUFBcXRGLFNBQUEvRSxnQkFBQXRvRixLQUFBOG1GLEtBQUE5bUYsS0FBQSttRixjQUFBL21GLEtBQUE4bUYsT0FFQXBkLFFBQUEsU0FBQXJyRSxPQUNBLE1BQUE4dUYsWUFDQTV6QixPQUFBLFVBQ0FsN0QsTUFBQUEsT0FDQTJCLEtBQUFxdEYsU0FBQS9FLGdCQUFBdG9GLEtBQUE4bUYsS0FBQTltRixLQUFBK21GLGNBQUEvbUYsS0FBQThtRixPQUVBcjRFLE9BQUEsU0FBQXBRLE1BQUErdEYsVUFDQSxNQUFBZSxZQUNBNXpCLE9BQUEsU0FDQWw3RCxNQUFBQSxNQUNBK3RGLFNBQUFBLFVBQ0Fwc0YsS0FBQXF0RixTQUFBL0UsZ0JBQUF0b0YsS0FBQThtRixLQUFBOW1GLEtBQUErbUYsY0FBQS9tRixLQUFBOG1GLFFBRUFGLFVBQUFnZSxlQUFBLFNBQUExa0csU0FDQWlDLEVBQUFpN0IsUUFBQSxFQUFBd3BELFVBQUFoK0UsVUFBQTdOLFNBQUFtRixVQUNBMG1GLFVBQUFpZSxrQkFBQSxTQUFBQyxZQUNBM2lHLEVBQUFpN0IsUUFBQSxFQUFBd3BELFVBQUFoK0UsVUFBQTdOLFNBQUFpc0YsWUFBQThkLGFBQ0FsZSxVQUFBbWUsY0FBQSxTQUFBbGUsT0FDQTFrRixFQUFBaTdCLFFBQUEsRUFBQXdwRCxVQUFBaCtFLFVBQUE3TixTQUFBMnNGLFFBQUFiLFFBQ0FELFVBQUFuNEUsT0FBQSxTQUFBcFEsTUFBQTZCLFFBQUFrc0YsVUFDQSxNQUFBeEYsV0FBQTFtRixTQUFBdU8sT0FBQXBRLE1BQUErdEYsV0FDQXhGLFVBQUFvZSxPQUFBLFNBQUEzbUcsTUFBQTZCLFNBQ0EsTUFBQTBtRixXQUFBMW1GLFNBQUFrNEYsY0FBQS81RixRQUNBdW9GLFVBQUFsZCxRQUFBLFNBQUFyckUsTUFBQTZCLFNBQ0EsTUFBQTBtRixXQUFBMW1GLFNBQUF3cEUsUUFBQXJyRSxRQUNBdW9GLFVBQUFwUCxPQUFBLFNBQUE0c0IsT0FDQWppRyxFQUFBQyxLQUFBZ2lHLE1BQUEsU0FBQW5YLElBQUFqdUYsSUFDQUEsR0FBQUMsV0FBQUQsR0FBQUMsVUFBQXU0RSxZQUVBb1AsVUFBQWtSLFlBQUEsU0FBQW1OLEtBQ0EsR0FBQUMsV0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxLQUFBLElBQUEsSUFDQSxPQUFBRCxLQUFBdHNHLFFBQUEsR0FBQXl2RixRQUFBLE1BQUE4YyxTQUFBdGhHLEtBQUEsT0FBQSxJQUFBLE9BQUEsU0FDQWdqRixVQUFBaHRFLFNBQ0F1ckYsSUFBQSxHQUNBakgsVUFBQSxFQUNBa0gsVUFBQSxHQUNBQyxNQUFBLElBQ0FDLFFBQUEsR0FDQUMsYUFBQSxHQUNBQyxjQUFBLEdBQ0FDLFFBQUEsR0FDQXRILE9BQUEsR0FDQXVILEtBQUEsR0FDQWhILElBQUEsR0FDQWUsTUFBQSxHQUNBVixPQUFBLEdBQ0FILEtBQUEsR0FDQUssT0FBQSxHQUNBRSxLQUFBLEdBQ0F3RyxLQUFBLEdBQ0FDLFdBQUEsSUFDQUMsZUFBQSxJQUNBQyxjQUFBLElBQ0FDLGFBQUEsSUFDQUMsZ0JBQUEsSUFDQUMsZ0JBQUEsSUFDQXRILFVBQUEsR0FDQUUsUUFBQSxHQUNBcUgsT0FBQSxJQUNBaEgsTUFBQSxHQUNBaUgsTUFBQSxHQUNBQyxNQUFBLEdBQ0FoSyxJQUFBLEVBQ0FpSyxHQUFBLEdBQ0FDLFFBQUEsR0FFQSxJQUFBQyxJQUFBQyxVQUFBQyxVQUFBbEksT0FBQSxPQUFBZ0ksR0FBQTN6RixNQUFBLEdBQUF3MUUsUUFBQSxTQUFBLE1BQUFxYixRQUFBLE9BQUE4QyxHQUFBM3pGLE1BQUEsR0FBQXcxRSxRQUFBLG9CQUFBLE1BQUErUixjQUFBLE9BQUFvTSxHQUFBM3pGLE1BQUEsR0FBQXcxRSxRQUFBLG9CQUFBLE1BQUFvYixlQUFBLE9BQUErQyxHQUFBM3pGLE1BQUEsR0FBQXcxRSxRQUFBLHFCQUFBLE1BQUFzYixPQUFBLFVBQUF2bEcsS0FBQW9vRyxLQUFBLFFBQUFwb0csS0FBQW9vRyxLQUFBLFFBQUFwb0csS0FBQW9vRyxLQUFBLFFBQUFwb0csS0FBQW9vRyxLQUFBLFNBQUFwb0csS0FBQW9vRyxLQUFBLFNBQUFwb0csS0FBQW9vRyxLQUFBLFVBQUFwb0csS0FBQW9vRyxLQUFBLFVBQUFwb0csS0FBQW9vRyxLQUFBLFVBQUFwb0csS0FBQW9vRyxLQUFBLFVBQUFwb0csS0FBQW9vRyxLQUFBLFVBQUFwb0csS0FBQW9vRyxJQUFBbkQsZUFBQWpjLHNCQUFBLFNBQUEsUUFBQUEsc0JBQUEsU0FBQSxRQUFBLGdCQUNBLE9BQUF6dEUsUUFBQWt0RSxVQUFBQSxVQUFBQSxXQUNBOGYsUUFBQSxTQUFBdmtHLEVBQUF5a0YsV0FDQSxNQUFBLFVBQUF6a0YsRUFBQXduRixHQUFBMXFGLFlBQUFrRCxFQUFBd25GLEdBQUExcUYsVUFBQSxTQUFBMHFGLEdBQUF6cEYsU0FDQSxHQUFBeW1HLFNBQUExWSxLQUNBLElBQUEvdEYsUUFBQUEsWUFBQSxnQkFBQXlwRixJQUFBLE9BQUFBLElBQ0EsSUFBQSxPQUNBLE1BQUFnZCxTQUFBLEdBQUEvZixXQUFBMW1GLFNBQUFGLEtBQUFvQyxLQUFBLFdBQ0F1a0csUUFBQWhmLEtBQUEzbkYsT0FHQSxLQUFBLGdCQUNBLE1BQUFpdUYsT0FBQWp1RixLQUFBNG1HLFFBQUE1bUcsS0FBQUMsT0FBQSxFQUFBRCxLQUFBLEdBQUFBLEtBQUFpdUYsTUFBQWh2RixVQUFBZ3ZGLE1BQUFodkYsVUFBQW01RixnQkFBQWoyRixFQUFBOHJGLE9BQUFyekYsS0FFQSxLQUFBLFNBQ0EsTUFBQW9GLE1BQUFvQyxLQUFBLFdBQ0FwQyxLQUFBZixXQUFBZSxLQUFBZixVQUFBdTRFLFVBR0EsS0FBQSxlQUNBLE1BQUF5VyxPQUFBanVGLEtBQUE0bUcsUUFBQTVtRyxLQUFBQyxPQUFBLEVBQUFELEtBQUEsR0FBQUEsS0FBQWl1RixNQUFBaHZGLFVBQUFndkYsTUFBQWh2RixVQUFBd2xHLGVBQUEsRUFFQSxLQUFBLGlCQUNBLE1BQUF4VyxPQUFBanVGLEtBQUE0bUcsUUFBQTVtRyxLQUFBQyxPQUFBLEVBQUFELEtBQUEsR0FBQUEsS0FBQWl1RixNQUFBaHZGLFVBQUFndkYsTUFBQWh2RixVQUFBeWxHLGtCQUFBLENBRUEsS0FBQSxhQUNBLE1BQUF6VyxPQUFBanVGLEtBQUE0bUcsUUFBQTVtRyxLQUFBQyxPQUFBLEVBQUFELEtBQUEsR0FBQUEsS0FBQWl1RixNQUFBaHZGLFVBQUFndkYsTUFBQWh2RixVQUFBZzNGLGNBQUEsQ0FFQSxLQUFBLGNBQ0EsTUFBQWhJLE9BQUFqdUYsS0FBQTRtRyxRQUFBNW1HLEtBQUFDLE9BQUEsRUFBQUQsS0FBQSxHQUFBQSxLQUFBaXVGLE1BQUFodkYsVUFBQWd2RixNQUFBaHZGLFVBQUEwbEcsY0FBQSxNQUVBLEtBQUEsV0FDQTFXLE1BQUFqdUYsS0FBQTRtRyxRQUFBNW1HLEtBQUFDLE9BQUEsRUFBQUQsS0FBQSxHQUFBQSxLQUFBbUMsRUFBQThyRixPQUFBcnpGLElBQUFzRixTQUNBLFNBQUErdEYsTUFBQWh2RixXQUFBa0QsRUFBQThyRixPQUFBNFksZUFBQSxxQkFDQSxNQUVBLEtBQUEsU0FDQSxHQUFBLGdCQUFBM21HLFNBQUEsTUFBQUYsTUFBQW9DLEtBQUEsV0FDQSxNQUFBLFVBQUFwQyxLQUFBZixVQUFBZSxLQUFBZixVQUFBOG9GLE9BQUE3bkYsU0FBQSxRQUVBLElBQUErdEYsTUFBQWp1RixLQUFBNG1HLFFBQUE1bUcsS0FBQUMsT0FBQSxFQUFBRCxLQUFBLEdBQUFBLEtBQUEsU0FBQWl1RixNQUFBaHZGLFVBQUEsTUFBQWd2RixPQUFBaHZGLFVBQUE4b0YsT0FBQTduRixRQUNBLE1BRUEsU0FDQSxNQUFBQSxTQUFBMm1GLE1BQUE4QyxHQUFBZ2QsUUFBQSxHQUFBL2YsV0FBQTFtRixTQUFBRixLQUFBb0MsS0FBQSxXQUNBdWtHLFFBQUFoZixLQUFBM25GLFlBRUEsQ0FDQSxHQUFBLGdCQUFBMnBGLElBQUEsTUFBQWdkLFNBQUEsR0FBQS9mLFdBQUErQyxJQUFBM3BGLEtBQUFvQyxLQUFBLFNBQUF1bkYsR0FBQWhDLE1BQUEsU0FBQWdDLEdBQUE5QyxNQUFBLFdBQ0EsTUFBQSxVQUFBN21GLEtBQUFmLFVBQUFlLEtBQUFmLFVBQUE4b0YsT0FBQTRCLFFBQUFnZCxTQUFBaGYsS0FBQTNuRixPQUNBLFdBQ0EybUcsUUFBQWhmLEtBQUEzbkYsT0FFQSxJQUFBLFNBQUEycEYsR0FBQSxNQUFBM3BGLE1BQUFvQyxLQUFBLFdBQ0F1a0csUUFBQSxHQUFBL2YsV0FBQTFtRixTQUFBeW1HLFFBQUFoZixLQUFBM25GLFdBR0FtQyxFQUFBd25GLEdBQUExcUYsV0FDQXluRyxPQUFBOWYsV0FBQSxTQUFBemtGLEVBQUF5a0YsV0FDQSxNQUFBQSxXQUFBaWUsbUJBQ0EzMUYsR0FDQXc2RSxVQUFBLG1CQUNBRCxZQUFBLEVBQ0FGLGVBQ0FHLFVBQUEsUUFDQUQsWUFBQSxLQUdBL3RGLEdBQ0FndUYsVUFBQSxhQUNBRCxZQUFBLEVBQ0FGLGVBQ0FHLFVBQUEsUUFDQUQsWUFBQSxLQUdBNXZGLEdBQ0E2dkYsVUFBQSx5QkFDQUQsWUFBQSxFQUNBRixlQUNBRyxVQUFBLFFBQ0FELFlBQUEsS0FHQXo2RSxHQUNBMDZFLFVBQUEsZ0JBQ0FELFlBQUEsRUFDQUYsZUFDQUcsVUFBQSxPQUNBRCxZQUFBLEtBR0E5bUYsR0FDQSttRixVQUFBLGdCQUNBRCxZQUFBLEVBQ0FGLGVBQ0FHLFVBQUEsT0FDQUQsWUFBQSxJQUVBQyxVQUFBLFVBQ0FELFlBQUEsSUFFQUMsVUFBQSxhQUNBRCxZQUFBLE9BR0E3QyxVQUFBbWUsZUFDQStCLGNBQ0FuZixLQUFBLFFBQ0E5c0YsWUFBQSxhQUNBaUQsT0FDQWlwRyxRQUFBLEdBQUEzZSxRQUFBLFNBQ0E0ZSxLQUFBLEdBQUE1ZSxRQUFBLDBCQUNBNmUsUUFBQSxTQUFBQyxXQUNBLEdBQUFDLGtCQUFBdmdCLFVBQUFrUixZQUFBaHBGLEtBQUE5TyxLQUFBa25HLFVBQ0EsT0FBQSxJQUFBOWUsUUFBQSw0QkFBQStlLGlCQUFBLFVBRUFDLEtBQUEsU0FBQUYsV0FDQSxHQUFBQyxrQkFBQXZnQixVQUFBa1IsWUFBQWhwRixLQUFBOU8sS0FBQWtuRyxVQUNBLE9BQUEsSUFBQTllLFFBQUEsc0JBQUErZSxpQkFBQSx1QkFBQUEsaUJBQUEsd0JBQUFBLGlCQUFBLHVCQUdBRSxRQUFBLFNBQ0FILFVBQUEsSUFDQUksV0FDQUMsUUFBQSxLQUNBQyxRQUFBLE1BRUFDLGNBQUEsU0FBQTNULEtBQUF5VCxRQUFBQyxTQUNBLEdBQUF0M0UsTUFBQTRqRSxNQUFBLE9BQUEsQ0FDQSxJQUFBNFQsYUFBQTduRyxTQUFBaTBGLEtBQUEvbkMsT0FBQXc3QyxRQUFBMTRGLFdBQUEwTixNQUFBdTNFLEtBQUE3ekYsVUFBQTBuRyxhQUFBOW5HLFNBQUFpMEYsS0FBQS9uQyxPQUFBeTdDLFFBQUEzNEYsV0FBQTBOLE1BQUF1M0UsS0FBQTd6RixTQUNBLFFBQUFpd0IsTUFBQXczRSxjQUFBLEVBQUFBLGFBQUFILFNBQUFDLFNBQUFFLGVBQUF4M0UsTUFBQXkzRSxlQUFBLEVBQUFBLGNBQUFKLFNBQUFDLFNBQUFHLGVBRUFDLGtCQUFBLFNBQUFMLFFBQUFDLFFBQUFLLE1BQ0EsR0FBQUMsY0FBQSxHQUFBbjlGLE9BQUEwUixhQUNBLElBQUFrckYsUUFBQU8sWUFBQSxNQUFBUCxRQUNBLElBQUFPLFlBQUFOLFFBQUEsQ0FDQSxJQUFBLEdBQUFPLGVBQUFQLFFBQUEzNEYsV0FBQTBOLE1BQUEsRUFBQSxHQUFBeXJGLGVBQUFSLFFBQUEzNEYsV0FBQTBOLE1BQUEsRUFBQSxHQUFBd3JGLGNBQUFGLEtBQUFMLFNBQUFPLGVBQ0EsSUFBQUUsVUFBQUYsY0FBQUMsY0FDQSxPQUFBVCxTQUFBVSxTQUFBVixRQUFBVSxTQUVBLE1BQUFILGNBRUExSSxVQUFBLFNBQUFyL0YsRUFBQTZzRixPQUFBaUssU0FBQS9QLE1BQ0EsR0FBQXVXLFFBQUFsN0YsRUFBQW5DLEtBQ0EsSUFBQUQsRUFBQW04RixTQUFBbjhGLEVBQUE2WixVQUFBZ3RFLFVBQUFodEUsUUFBQXNsRixNQUFBLENBQ0EsR0FBQTUvQyxPQUFBLEdBQUEzMEMsS0FDQTB5RixRQUFBemlHLElBQUEwa0QsTUFBQTlpQyxVQUFBM04sWUFBQXl3QyxNQUFBaGpDLFdBQUEsR0FBQXpOLFdBQUF5d0MsTUFBQWpqQyxjQUFBeE4sWUFDQXd1RixPQUFBdCtFLFFBQUEsd0JBR0FtcEYsY0FBQSxTQUFBdmdCLEtBQUFpRixPQUFBOUYsTUFDQSxJQUFBLEdBQUF1RCxPQUFBLEVBQUFwcUYsT0FBQSxFQUFBeUMsRUFBQSxFQUFBQSxFQUFBaWxGLEtBQUExbkYsUUFBQSxNQUFBMG5GLEtBQUFnRSxPQUFBanBGLEdBQUFBLElBQUEsQ0FDQSxHQUFBb2lHLFlBQUFoZSxLQUFBRSxZQUFBVyxLQUFBZ0UsT0FBQWpwRixHQUNBb2lHLGFBQUF6YSxPQUFBcHFGLE9BQUFBLE9BQUE2a0csV0FBQXJiLGFBQUF4cEYsU0FFQSxNQUFBMnNGLFFBQUFocEYsS0FBQSxJQUFBbUwsT0FBQXM3RSxNQUFBcHFGLFNBRUErbUYsYUFDQW1oQixHQUNBemUsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQWhwRixNQUFBa3BHLEtBQUE3b0csS0FBQTIxRixLQUNBLE9BQUFyRixTQUFBL2tCLFNBQUFvcUIsS0FBQW5JLE9BQUEsS0FBQTdFLEtBQUFvZ0IsV0FBQSxLQUFBLE1BQUF6aUcsUUFBQXF2RixLQUFBbkksT0FBQSxPQUFBamlCLFFBQUFvZCxLQUFBaHBGLE1BQUFrcEcsS0FBQTdvRyxLQUFBLElBQUEyMUYsS0FBQW5JLE9BQUEsS0FBQWppQixTQUFBMmpCLFFBQUFULE9BQUFpQixJQUFBLEdBQUEsS0FFQXVGLG1CQUNBL0ksTUFBQXdELElBQUEsRUFDQXZELElBQUF1RCxLQUVBQSxJQUFBQSxJQUNBeitELEVBQUEwa0UsS0FBQW5JLE9BQUEsTUFHQWxDLFlBQUEsRUFDQUYsZUFDQUcsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFzaEIsT0FBQXRVLElBQ0E1akUsT0FBQW05RCxRQUFBVCxPQUFBaUIsSUFBQSxNQUFBdWEsT0FBQS9hLFFBQUFULE9BQUFpQixJQUFBLEdBQ0EsSUFBQW5rQixTQUFBLElBQUEwK0IsTUFBQW5vRyxPQUFBNm1GLEtBQUFocEYsTUFBQWlwRyxRQUFBNW9HLEtBQUFpcUcsT0FBQXRoQixLQUFBaHBGLE1BQUFrcEcsS0FBQTdvRyxLQUFBaXFHLE1BQ0EsS0FBQTNaLFNBQUEva0IsUUFBQSxDQUNBLEdBQUFBLFFBQUFvZCxLQUFBaHBGLE1BQUFrcEcsS0FBQTdvRyxLQUFBMjFGLEtBQUEsS0FBQSxNQUFBekcsU0FBQVQsT0FBQWlCLEtBQUFpRyxLQUNBekcsUUFBQVQsU0FBQWlCLEtBQUEsS0FDQUEsSUFBQUEsSUFDQXorRCxFQUFBLElBRUEsSUFBQXM2QyxRQUFBb2QsS0FBQWhwRixNQUFBa3BHLEtBQUE3b0csS0FBQSxJQUFBMjFGLE1BQUEsTUFBQXpHLFNBQUFULE9BQUFpQixLQUFBLElBQ0FBLE9BQ0FBLElBQUFBLEtBR0EsTUFBQW5rQixVQUVBK2YsWUFBQSxLQUdBNGUsR0FDQTNlLFVBQUEsU0FBQW9LLEtBQUF6RyxRQUFBUSxJQUFBWSxPQUFBM0gsTUFDQSxHQUFBd2hCLFlBQUF4aEIsS0FBQW9oQixjQUFBN2EsUUFBQTFGLEtBQUEwRixRQUFBVCxPQUFBOUYsS0FDQSxNQUFBd2hCLFdBQUE3akcsUUFBQXFpRixLQUFBanNGLFlBQUEsTUFBQXl0RyxXQUFBLEtBQUF4aEIsS0FBQW9nQixVQUNBLElBQUF4OUIsU0FBQW9kLEtBQUFocEYsTUFBQXNwRyxLQUFBdGdCLEtBQUFvZ0IsV0FBQS9vRyxLQUFBbXFHLFdBQUF4VSxLQUNBLEtBQUFyRixTQUFBL2tCLFVBQUFvcUIsS0FBQW5JLE9BQUEsS0FBQTdFLEtBQUFvZ0IsV0FBQSxLQUFBLE1BQUF6aUcsUUFBQXF2RixLQUFBbkksT0FBQSxPQUFBamlCLFFBQUFvZCxLQUFBaHBGLE1BQUFzcEcsS0FBQXRnQixLQUFBb2dCLFdBQUEvb0csS0FBQW1xRyxXQUFBLElBQUF4VSxLQUFBbkksT0FBQSxLQUFBLE1BQUEwQixTQUFBVCxPQUFBaUIsSUFBQSxHQUFBLEtBRUF1RixtQkFDQS9JLE1BQUF3RCxJQUFBLEVBQ0F2RCxJQUFBdUQsS0FFQUEsSUFBQUEsSUFDQXorRCxFQUFBMGtFLEtBQUFuSSxPQUFBLEdBRUEsSUFBQTdFLEtBQUFhLEtBQUFsakYsUUFBQSxPQUFBcWlGLEtBQUFhLEtBQUExbkYsT0FBQSxHQUFBeXBFLFFBQUEsQ0FDQSxHQUFBNitCLGVBQUFsYixRQUFBVCxPQUFBaHBGLEtBQUEsSUFBQW1MLE9BQUEsRUFBQSxHQUFBK2tGLElBQ0EsSUFBQXlVLGdCQUFBemhCLEtBQUF1Z0IsUUFBQSxPQUFBLENBQ0EsSUFBQWg1RixNQUFBeE8sU0FBQXd0RixRQUFBVCxPQUFBaHBGLEtBQUEsSUFBQW1MLE9BQUEsRUFBQSxHQUFBLEdBQ0EsT0FBQVYsTUFBQSxJQUFBLEVBQUFBLEtBQUEsTUFBQSxFQUFBQSxLQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUVBLE1BQUFxN0QsVUFFQStmLFlBQUEsRUFDQUYsZUFDQUcsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBNTJELE1BQUFtOUQsUUFBQVQsT0FBQWlCLElBQUEsTUFBQWlHLE1BQUF6RyxRQUFBVCxPQUFBaUIsSUFBQSxHQUNBLElBQUF5YSxZQUFBeGhCLEtBQUFvaEIsY0FBQTdhLFFBQUExRixLQUFBMEYsUUFBQVQsT0FBQTlGLEtBQ0EsTUFBQXdoQixXQUFBN2pHLFFBQUFxaUYsS0FBQWpzRixZQUFBLE1BQUF5dEcsV0FBQSxLQUFBeGhCLEtBQUFvZ0IsVUFDQSxJQUFBeDlCLFNBQUEsSUFBQW9xQixLQUFBN3pGLE9BQUE2bUYsS0FBQWhwRixNQUFBbXBHLFFBQUFuZ0IsS0FBQW9nQixXQUFBL29HLEtBQUFtcUcsV0FBQXhVLE1BQUFoTixLQUFBaHBGLE1BQUFzcEcsS0FBQXRnQixLQUFBb2dCLFdBQUEvb0csS0FBQW1xRyxXQUFBeFUsS0FDQSxPQUFBckYsU0FBQS9rQixXQUFBQSxRQUFBb2QsS0FBQWhwRixNQUFBc3BHLEtBQUF0Z0IsS0FBQW9nQixXQUFBL29HLEtBQUFtcUcsV0FBQSxJQUFBeFUsT0FBQXBxQixTQUFBMmpCLFFBQUFULE9BQUFpQixLQUFBLElBQ0FBLE9BQ0FBLElBQUFBLE9BR0FwRSxZQUFBLEtBR0E5bUYsR0FDQSttRixVQUFBLFNBQUFvSyxLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILE1BQ0EsR0FBQUEsS0FBQTJnQixjQUFBM1QsS0FBQWhOLEtBQUF3Z0IsVUFBQUMsUUFBQXpnQixLQUFBd2dCLFVBQUFFLFNBQUEsQ0FDQSxHQUFBZSxlQUFBbGIsUUFBQVQsT0FBQWhwRixLQUFBLElBQUFtTCxPQUFBLEVBQUEsRUFDQSxJQUFBdzVGLGdCQUFBemhCLEtBQUF1Z0IsUUFBQSxPQUFBLENBQ0EsSUFBQWg1RixNQUFBeE8sU0FBQWkwRixLQUFBLEdBQ0EsT0FBQXpsRixNQUFBLElBQUEsRUFBQUEsS0FBQSxNQUFBLEVBQUFBLEtBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBRUEsT0FBQSxHQUVBbzdFLFlBQUEsRUFDQUYsZUFDQUcsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQTJnQixjQUFBM1QsS0FBQWhOLEtBQUF3Z0IsVUFBQUMsUUFBQXpnQixLQUFBd2dCLFVBQUFFLFFBQ0EsS0FBQS9ZLFNBQUEva0IsUUFBQSxDQUNBLEdBQUE4K0IsWUFBQTFoQixLQUFBOGdCLGtCQUFBOWdCLEtBQUF3Z0IsVUFBQUMsUUFBQXpnQixLQUFBd2dCLFVBQUFFLFFBQUExVCxLQUFBLEtBQUFqbEYsV0FBQTBOLE1BQUEsRUFBQSxFQUNBLElBQUFtdEQsUUFBQW9kLEtBQUEyZ0IsY0FBQWUsV0FBQTFVLEtBQUFoTixLQUFBd2dCLFVBQUFDLFFBQUF6Z0IsS0FBQXdnQixVQUFBRSxTQUFBLE1BQUFuYSxTQUFBVCxPQUFBaUIsT0FBQTJhLFdBQUE3YyxPQUFBLElBRUFrQyxJQUFBQSxJQUVBLElBQUEyYSxXQUFBMWhCLEtBQUE4Z0Isa0JBQUE5Z0IsS0FBQXdnQixVQUFBQyxRQUFBemdCLEtBQUF3Z0IsVUFBQUUsUUFBQTFULEtBQUEsS0FBQWpsRixXQUFBME4sTUFBQSxFQUFBLEdBQ0FtdEQsUUFBQW9kLEtBQUEyZ0IsY0FBQWUsV0FBQTFVLEtBQUFoTixLQUFBd2dCLFVBQUFDLFFBQUF6Z0IsS0FBQXdnQixVQUFBRSxTQUFBLE1BQUFuYSxTQUFBVCxPQUFBaUIsT0FBQTJhLFdBQUE3YyxPQUFBLEdBQ0EwQixRQUFBVCxPQUFBaUIsT0FBQTJhLFdBQUE3YyxPQUFBLElBQ0FrQyxJQUFBQSxLQUdBLE1BQUFua0IsVUFFQStmLFlBQUEsSUFFQUMsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQTJnQixjQUFBM1QsS0FBQWhOLEtBQUF3Z0IsVUFBQUMsUUFBQXpnQixLQUFBd2dCLFVBQUFFLFFBQ0EsS0FBQS9ZLFNBQUEva0IsUUFBQSxDQUNBLEdBQUE4K0IsWUFBQTFoQixLQUFBOGdCLGtCQUFBOWdCLEtBQUF3Z0IsVUFBQUMsUUFBQXpnQixLQUFBd2dCLFVBQUFFLFFBQUExVCxNQUFBamxGLFdBQUEwTixNQUFBLEVBQUEsRUFDQSxJQUFBbXRELFFBQUFvZCxLQUFBMmdCLGNBQUEzVCxLQUFBLEdBQUEwVSxXQUFBLEdBQUExVSxLQUFBLEdBQUFoTixLQUFBd2dCLFVBQUFDLFFBQUF6Z0IsS0FBQXdnQixVQUFBRSxTQUFBLE1BQUFuYSxTQUFBVCxPQUFBaUIsT0FBQTJhLFdBQUE3YyxPQUFBLElBRUFrQyxJQUFBQSxJQUVBLElBQUEyYSxXQUFBMWhCLEtBQUE4Z0Isa0JBQUE5Z0IsS0FBQXdnQixVQUFBQyxRQUFBemdCLEtBQUF3Z0IsVUFBQUUsUUFBQTFULE1BQUFqbEYsV0FBQTBOLE1BQUEsRUFBQSxHQUNBdXFFLEtBQUEyZ0IsY0FBQWUsV0FBQTFVLEtBQUFoTixLQUFBd2dCLFVBQUFDLFFBQUF6Z0IsS0FBQXdnQixVQUFBRSxTQUFBLENBQ0EsR0FBQWUsZUFBQWxiLFFBQUFULE9BQUFocEYsS0FBQSxJQUFBbUwsT0FBQSxFQUFBLEVBQ0EsSUFBQXc1RixnQkFBQXpoQixLQUFBdWdCLFFBQUEzOUIsU0FBQSxNQUFBLENBQ0EsR0FBQXI3RCxNQUFBeE8sU0FBQWkwRixLQUFBLEdBQ0FwcUIsU0FBQXI3RCxLQUFBLElBQUEsRUFBQUEsS0FBQSxNQUFBLEVBQUFBLEtBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLE9BRUFxN0QsVUFBQSxDQUNBLElBQUFBLFFBQUEsTUFBQTJqQixTQUFBVCxPQUFBaUIsSUFBQSxHQUFBMmEsV0FBQTdjLE9BQUEsR0FBQTBCLFFBQUFULE9BQUFpQixPQUFBMmEsV0FBQTdjLE9BQUEsR0FDQTBCLFFBQUFULE9BQUFpQixPQUFBaUcsS0FBQW5JLE9BQUEsSUFDQXlILG1CQUNBL0ksTUFBQXdELElBQUEsRUFDQXZELElBQUF1RCxLQUVBQSxJQUFBQSxLQUdBLE1BQUFua0IsVUFFQStmLFlBQUEsSUFFQUMsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLE1BQUFBLE1BQUEyZ0IsY0FBQTNULEtBQUFoTixLQUFBd2dCLFVBQUFDLFFBQUF6Z0IsS0FBQXdnQixVQUFBRSxVQUVBL2QsWUFBQSxNQUlBMEYsWUFBQSxFQUNBeUksWUFBQSxHQUVBNlEsY0FDQTV0RyxZQUFBLGFBQ0Fnc0YsTUFBQSxhQUNBL29GLE9BQ0FtcEcsUUFBQSxTQUFBQyxXQUNBLEdBQUFDLGtCQUFBdmdCLFVBQUFrUixZQUFBaHBGLEtBQUE5TyxLQUFBa25HLFVBQ0EsT0FBQSxJQUFBOWUsUUFBQSxvQkFBQStlLGlCQUFBLGFBQUFBLGlCQUFBLFdBRUFDLEtBQUEsU0FBQUYsV0FDQSxHQUFBQyxrQkFBQXZnQixVQUFBa1IsWUFBQWhwRixLQUFBOU8sS0FBQWtuRyxVQUNBLE9BQUEsSUFBQTllLFFBQUEsbUJBQUErZSxpQkFBQSx3Q0FBQUEsaUJBQUEsd0JBQUFBLGlCQUFBLFFBRUFKLFFBQUEsR0FBQTNlLFFBQUEsUUFDQTRlLEtBQUEsR0FBQTVlLFFBQUEsa0JBRUFpZixRQUFBLFNBQ0FqSSxVQUFBLFNBQUFyL0YsRUFBQTZzRixPQUFBaUssU0FBQS9QLE1BQ0EsR0FBQXVXLFFBQUFsN0YsRUFBQW5DLEtBQ0EsSUFBQUQsRUFBQW04RixTQUFBbjhGLEVBQUE2WixVQUFBZ3RFLFVBQUFodEUsUUFBQXNsRixNQUFBLENBQ0EsR0FBQTUvQyxPQUFBLEdBQUEzMEMsS0FDQTB5RixRQUFBemlHLEtBQUEwa0QsTUFBQWhqQyxXQUFBLEdBQUF6TixXQUFBeXdDLE1BQUE5aUMsVUFBQTNOLFdBQUF5d0MsTUFBQWpqQyxjQUFBeE4sWUFDQXd1RixPQUFBdCtFLFFBQUEseUJBSUEycEYsY0FDQS9nQixLQUFBLFFBQ0E5c0YsWUFBQSxhQUNBZ3NGLE1BQUEsYUFDQXdnQixRQUFBLFNBQ0FqSSxVQUFBLFNBQUFyL0YsRUFBQTZzRixPQUFBaUssU0FBQS9QLE1BQ0EsR0FBQXVXLFFBQUFsN0YsRUFBQW5DLEtBQ0EsSUFBQUQsRUFBQW04RixTQUFBbjhGLEVBQUE2WixVQUFBZ3RFLFVBQUFodEUsUUFBQXNsRixNQUFBLENBQ0EsR0FBQTUvQyxPQUFBLEdBQUEzMEMsS0FDQTB5RixRQUFBemlHLElBQUEwa0QsTUFBQWpqQyxjQUFBeE4sWUFBQXl3QyxNQUFBaGpDLFdBQUEsR0FBQXpOLFdBQUF5d0MsTUFBQTlpQyxVQUFBM04sWUFDQXd1RixPQUFBdCtFLFFBQUEseUJBSUE0cEYsY0FDQWhoQixLQUFBLFFBQ0E5c0YsWUFBQSxhQUNBd3NHLFFBQUEsU0FDQUgsVUFBQSxJQUNBcmdCLE1BQUEsY0FFQStoQixjQUNBamhCLEtBQUEsUUFDQTlzRixZQUFBLGFBQ0F3c0csUUFBQSxTQUNBSCxVQUFBLElBQ0FyZ0IsTUFBQSxjQUVBZ2lCLGNBQ0FsaEIsS0FBQSxRQUNBOXNGLFlBQUEsYUFDQXdzRyxRQUFBLFNBQ0FILFVBQUEsSUFDQXJnQixNQUFBLGNBRUFpaUIsY0FDQW5oQixLQUFBLFFBQ0E5c0YsWUFBQSxhQUNBd3NHLFFBQUEsU0FDQUgsVUFBQSxJQUNBcmdCLE1BQUEsY0FFQWtpQixjQUNBcGhCLEtBQUEsUUFDQTlzRixZQUFBLGFBQ0F3c0csUUFBQSxTQUNBSCxVQUFBLElBQ0FyZ0IsTUFBQSxjQUVBbWlCO0FBQ0FyaEIsS0FBQSxRQUNBOXNGLFlBQUEsYUFDQXdzRyxRQUFBLFNBQ0FILFVBQUEsSUFDQXJnQixNQUFBLGNBRUFwMUIsVUFDQWsyQixLQUFBLFlBQ0E5c0YsWUFBQSxtQkFDQWdzRixNQUFBLGFBQ0Evb0YsT0FDQW1yRyxPQUFBLEdBQUE3Z0IsUUFBQSxTQUNBOGdCLE1BQUEsR0FBQTlnQixRQUFBLGlCQUNBK2dCLElBQUEsR0FBQS9nQixRQUFBLG9CQUNBZ2hCLEtBQUEsR0FBQWhoQixRQUFBLG1CQUNBaWhCLE1BQUEsR0FBQWpoQixRQUFBLFNBQ0EvdEQsR0FBQSxHQUFBK3RELFFBQUEsZUFFQWtoQixjQUFBLElBQ0FDLFdBQUEsS0FDQXZpQixhQUNBOTNFLEdBQ0F3NkUsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUEsT0FBQUEsS0FBQXlpQixZQUFBLEtBQUExcEcsU0FBQWkwRixLQUFBLElBQUEsTUFBQXpHLFNBQUFULE9BQUFpQixJQUFBLEdBQUEsSUFDQVIsUUFBQVQsT0FBQWlCLEtBQUEsS0FDQXVGLG1CQUNBL0ksTUFBQXdELElBQUEsRUFDQXZELElBQUF1RCxLQUVBeitELEVBQUEsSUFFQSxJQUFBczZDLFNBQUFvZCxLQUFBaHBGLE1BQUFxckcsSUFBQWhyRyxLQUFBMjFGLEtBQ0EsS0FBQXJGLFNBQUEva0IsVUFBQW9xQixLQUFBbkksT0FBQSxLQUFBN0UsS0FBQXdpQixlQUFBLEtBQUEsTUFBQTdrRyxRQUFBcXZGLEtBQUFuSSxPQUFBLE9BQUFqaUIsUUFBQW9kLEtBQUFocEYsTUFBQXFyRyxJQUFBaHJHLEtBQUEsSUFBQTIxRixLQUFBbkksT0FBQSxLQUFBLE1BQUEwQixTQUFBVCxPQUFBaUIsSUFBQSxHQUFBLElBQ0FSLFFBQUFULE9BQUFpQixLQUFBaUcsS0FBQW5JLE9BQUEsR0FBQWtDLE9BQ0F1RixtQkFDQS9JLE1BQUF3RCxJQUFBLEVBQ0F2RCxJQUFBdUQsS0FFQUEsSUFBQUEsSUFDQXorRCxFQUFBMDNELEtBQUF3aUIsY0FFQSxJQUFBNS9CLFNBQUEsT0FBQW9kLEtBQUF5aUIsWUFBQXppQixLQUFBaHBGLE1BQUFvckcsTUFBQS9xRyxLQUFBMjFGLE1BQUEsQ0FDQSxHQUFBMFYsS0FBQTNwRyxTQUFBaTBGLEtBQUEsR0FDQSxPQUFBLE1BQUEwVixLQUFBbmMsUUFBQVQsT0FBQWlCLElBQUEsR0FBQSxJQUFBUixRQUFBVCxPQUFBaUIsSUFBQSxHQUFBLE1BQUFSLFFBQUFULE9BQUFpQixJQUFBLEdBQUEsSUFDQVIsUUFBQVQsT0FBQWlCLElBQUEsR0FBQSxLQUFBMmIsS0FBQSxHQUFBLEdBQUFBLEtBQUFuYyxRQUFBVCxPQUFBaUIsS0FBQTJiLElBQUEzNkYsV0FDQXcrRSxRQUFBVCxPQUFBaUIsSUFBQSxHQUFBLE1BQUFSLFFBQUFULE9BQUFpQixLQUFBMmIsSUFBQTM2RixXQUFBODhFLE9BQUEsR0FDQTBCLFFBQUFULE9BQUFpQixJQUFBLEdBQUEyYixJQUFBMzZGLFdBQUE4OEUsT0FBQSxLQUNBeUgsbUJBQ0EvSSxNQUFBd0QsSUFBQSxFQUNBdkQsSUFBQXVELElBQUEsR0FFQXorRCxFQUFBaStELFFBQUFULE9BQUFpQixNQUdBLE1BQUFua0IsVUFFQStmLFlBQUEsRUFDQUYsZUFDQUcsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQWhwRixNQUFBbXJHLE9BQUE5cUcsS0FBQTIxRixLQUNBLE9BQUFyRixTQUFBL2tCLFdBQUFBLFFBQUFvZCxLQUFBaHBGLE1BQUFxckcsSUFBQWhyRyxLQUFBLElBQUEyMUYsT0FBQXBxQixTQUFBMmpCLFFBQUFULE9BQUFpQixLQUFBLElBQ0FBLE9BQ0FBLElBQUFBLE9BR0FwRSxZQUFBLEtBR0EvdEYsR0FDQWd1RixVQUFBLGFBQ0FELFlBQUEsRUFDQUYsZUFDQUcsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQWhwRixNQUFBdXJHLE1BQUFsckcsS0FBQTIxRixLQUNBLE9BQUFyRixTQUFBL2tCLFdBQUFBLFFBQUFvZCxLQUFBaHBGLE1BQUF1OEIsR0FBQWw4QixLQUFBLElBQUEyMUYsT0FBQXBxQixTQUFBMmpCLFFBQUFULE9BQUFpQixLQUFBLElBQ0FBLE9BQ0FBLElBQUFBLE9BR0FwRSxZQUFBLEtBR0F6dUUsR0FDQTB1RSxVQUFBLFNBQUFvSyxLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILE1BQ0EsTUFBQUEsTUFBQWhwRixNQUFBc3JHLEtBQUFqckcsS0FBQTIxRixLQUFBLE1BRUE5SixPQUFBLFFBQ0FQLFlBQUEsSUFHQTBGLFlBQUEsRUFDQXlJLFlBQUEsR0FFQTZSLFlBQ0E5aEIsS0FBQSxpQkFDQTlzRixZQUFBLHNCQUNBZ3NGLE1BQUEsV0FDQTBpQixXQUFBLE1BRUFHLHVCQUNBL2hCLEtBQUEsaUJBQ0E5c0YsWUFBQSxzQkFDQWdzRixNQUFBLGFBQ0Evb0YsT0FDQW1wRyxRQUFBLFNBQUFDLFdBQ0EsR0FBQUMsa0JBQUF2Z0IsVUFBQWtSLFlBQUFocEYsS0FBQTlPLEtBQUFrbkcsVUFDQSxPQUFBLElBQUE5ZSxRQUFBLG9CQUFBK2UsaUJBQUEsYUFBQUEsaUJBQUEsV0FFQUMsS0FBQSxTQUFBRixXQUNBLEdBQUFDLGtCQUFBdmdCLFVBQUFrUixZQUFBaHBGLEtBQUE5TyxLQUFBa25HLFVBQ0EsT0FBQSxJQUFBOWUsUUFBQSxtQkFBQStlLGlCQUFBLHdDQUFBQSxpQkFBQSx3QkFBQUEsaUJBQUEsUUFFQUosUUFBQSxHQUFBM2UsUUFBQSxRQUNBNGUsS0FBQSxHQUFBNWUsUUFBQSxrQkFFQWlmLFFBQUEsU0FDQWpJLFVBQUEsU0FBQXIvRixFQUFBNnNGLE9BQUFpSyxTQUFBL1AsTUFDQSxHQUFBdVcsUUFBQWw3RixFQUFBbkMsS0FDQSxJQUFBRCxFQUFBbThGLFNBQUFuOEYsRUFBQTZaLFVBQUFndEUsVUFBQWh0RSxRQUFBc2xGLE1BQUEsQ0FDQSxHQUFBNS9DLE9BQUEsR0FBQTMwQyxLQUNBMHlGLFFBQUF6aUcsS0FBQTBrRCxNQUFBaGpDLFdBQUEsR0FBQXpOLFdBQUF5d0MsTUFBQTlpQyxVQUFBM04sV0FBQXl3QyxNQUFBampDLGNBQUF4TixZQUNBd3VGLE9BQUF0K0UsUUFBQSx5QkFJQTRxRixXQUNBaGlCLEtBQUEsV0FDQTlzRixZQUFBLFdBQ0Fnc0YsTUFBQSxXQUNBMGlCLFdBQUEsTUFFQUssU0FDQWppQixLQUFBLFdBQ0E5c0YsWUFBQSxXQUNBZ3NGLE1BQUEsV0FDQTBpQixXQUFBLE1BRUFNLFlBQ0FsaUIsS0FBQSxRQUNBOXNGLFlBQUEsV0FDQWdzRixNQUFBLFdBQ0ErUSxZQUFBLEdBRUFrUyxTQUNBbmlCLEtBQUEsTUFDQTlzRixZQUFBLFFBQ0Fnc0YsTUFBQSxXQUNBK1EsWUFBQSxHQUVBbjNDLE1BQ0FvbUMsTUFBQSxjQUVBa2pCLFdBQ0FwaUIsS0FBQSxNQUNBOXNGLFlBQUEsVUFDQXdzRyxRQUFBLFdBQ0FILFVBQUEsSUFDQXJnQixNQUFBLGNBRUFtakIsUUFDQWxzRyxPQUNBbXBHLFFBQUEsU0FBQUMsV0FDQSxHQUFBQyxrQkFBQXZnQixVQUFBa1IsWUFBQWhwRixLQUFBOU8sS0FBQWtuRyxVQUNBLE9BQUEsSUFBQTllLFFBQUEsbUJBQUErZSxpQkFBQSxXQUVBQyxLQUFBLFNBQUFGLFdBQ0EsR0FBQUMsa0JBQUF2Z0IsVUFBQWtSLFlBQUFocEYsS0FBQTlPLEtBQUFrbkcsVUFDQSxPQUFBLElBQUE5ZSxRQUFBLG1CQUFBK2UsaUJBQUEsdUNBQUFBLGlCQUFBLGdCQUFBQSxpQkFBQSxRQUVBSixRQUFBLEdBQUEzZSxRQUFBLFFBQ0E0ZSxLQUFBLEdBQUE1ZSxRQUFBLGtCQUVBa2YsV0FDQUMsUUFBQSxLQUNBQyxRQUFBLE1BRUE3ZixLQUFBLFFBQ0EwZixRQUFBLFNBQ0F4c0csWUFBQSxhQUNBZ3NGLE1BQUEsYUFDQXNhLGlCQUFBLEtBRUF2YSxXQUNBOGYsT0FBQTlmLFdBQUEsU0FBQXprRixFQUFBeWtGLFdBQ0EsTUFBQUEsV0FBQWllLG1CQUNBb0YsR0FDQXZnQixVQUFBLG9CQUNBRCxZQUFBLEVBQ0FPLE9BQUEsU0FFQWtnQixLQUNBeGdCLFVBQUEsdUJBQ0FELFlBQUEsRUFDQU8sT0FBQSxTQUVBbWdCLEtBQ0F6Z0IsVUFBQSxjQUNBRCxZQUFBLEVBQ0FPLE9BQUEsV0FFQXBELFVBQUFtZSxlQUNBaGpELEtBQ0E0bEMsS0FBQSxLQUNBOXNGLFlBQUEsR0FDQXFzRyxVQUFBLEdBQ0FrRCxjQUFBLFVBQ0F0c0csT0FDQXVzRyxRQUFBLEdBQUFqaUIsUUFBQSxRQUNBa2lCLFFBQUEsR0FBQWxpQixRQUFBLFdBQ0FtaUIsUUFBQSxHQUFBbmlCLFFBQUEsYUFDQW9pQixRQUFBLEdBQUFwaUIsUUFBQSxvQkFDQXFpQixRQUFBLEdBQUFyaUIsUUFBQSw2QkFDQXNpQixRQUFBLEdBQUF0aUIsUUFBQSxpQ0FDQXVpQixRQUFBLEdBQUF2aUIsUUFBQSxvQ0FDQXdpQixRQUFBLEdBQUF4aUIsUUFBQSxzQ0FFQXBCLGFBQ0F0a0YsR0FDQWduRixVQUFBLFNBQUFvSyxLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILE1BQ0EsT0FBQSxHQUVBMkMsWUFBQSxFQUNBRixhQUFBLFdBQ0EsSUFBQSxHQUFBcHRGLFdBQUEwdUcsWUFBQSxFQUFBbm9HLEVBQUEsRUFBQW1vRyxZQUFBbm9HLEVBQUFBLElBQUF2RyxPQUFBdUcsR0FBQSxXQUNBLEdBQUE0c0YsR0FBQTVzRixDQUNBLFFBQ0FnbkYsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFBLEtBQUFocEYsTUFBQSxVQUFBd3hGLEVBQUEsSUFBQSxDQUNBLEdBQUE5dkIsR0FBQWdxQyxJQUFBMVYsSUFDQXhFLEdBQUEsRUFBQXdFLEtBQUE3ekYsT0FBQSxJQUFBdXBHLElBQUFuYyxRQUFBVCxPQUFBaHBGLEtBQUEsSUFBQStPLFVBQUEsRUFBQTI4RSxFQUFBLEVBQUF3RSxLQUFBN3pGLFFBQUEsR0FBQXVwRyxJQUNBLElBQUE5L0IsU0FBQW9kLEtBQUFocEYsTUFBQSxVQUFBd3hGLEVBQUEsSUFBQW54RixLQUFBcXJHLElBQ0EsS0FBQS9hLFNBQUEva0IsUUFBQSxDQUNBLElBQUFta0IsS0FBQXlCLEVBQUE5dkIsRUFBQSxFQUFBQSxFQUFBc25CLEtBQUFzakIsY0FBQW5xRyxPQUFBdS9ELElBQUE2dEIsUUFBQVQsT0FBQWlCLEtBQUEvRyxLQUFBc2pCLGNBQUE1cUMsR0FDQXF1QixLQUNBLEtBQUFydUIsRUFBQSxFQUFBQSxFQUFBZ3FDLElBQUF2cEcsT0FBQSxFQUFBdS9ELElBQUE2dEIsUUFBQVQsT0FBQWlCLEtBQUEyYixJQUFBaHFDLEdBQUFxdUIsS0FDQSxRQUNBQSxJQUFBQSxLQUdBLE1BQUFua0IsU0FFQSxPQUFBLEdBRUErZixZQUFBNkYsS0FHQSxPQUFBbnpGLFlBR0FnaEIsR0FDQXVzRSxVQUFBLElBQ0FELFlBQUEsS0FHQTBGLFlBQUEsRUFDQXlJLFlBQUEsR0FFQWtULElBQ0FuakIsS0FBQSxrQ0FDQVgsYUFDQXRrRixHQUNBZ25GLFVBQUEsU0FBQW9LLEtBQUF6RyxRQUFBUSxJQUFBWSxPQUFBM0gsTUFDQSxNQUFBK0csS0FBQSxFQUFBLElBQUEsTUFBQVIsUUFBQVQsT0FBQWlCLElBQUEsSUFBQWlHLEtBQUF6RyxRQUFBVCxPQUFBaUIsSUFBQSxHQUFBaUcsS0FDQUEsS0FBQWpHLElBQUEsRUFBQSxJQUFBLE1BQUFSLFFBQUFULE9BQUFpQixJQUFBLEdBQUFSLFFBQUFULE9BQUFpQixJQUFBLEdBQUFpRyxLQUFBLElBQUFBLE1BQUFBLEtBQUEsS0FBQUEsS0FDQSxHQUFBMUwsUUFBQSxzQ0FBQWpxRixLQUFBMjFGLE9BRUFySyxZQUFBLElBR0FnUCxTQUFBLFNBQUFzUyxZQUFBelMsY0FBQXhSLE1BQ0EsTUFBQWlrQixlQUdBcmlELE9BQ0FpL0IsS0FBQSw0RUFDQTBFLFFBQUEsRUFDQW9VLGNBQUEsU0FBQXVELFlBQUFsZCxNQUNBLE1BQUFrZCxhQUFBQSxZQUFBdm1DLGNBQUF1bUMsWUFBQXJyRyxRQUFBLFVBQUEsS0FFQXF1RixhQUNBbWQsS0FDQXphLFVBQUEsaUNBQ0FELFlBQUEsRUFDQU8sT0FBQSxVQUdBeU8sU0FBQSxTQUFBc1MsWUFBQXpTLGNBQUF4UixNQUNBLE1BQUFpa0IsZUFHQUMsS0FDQXJqQixLQUFBLHVCQUVBZixXQUNBOGYsT0FBQTlmLFdBQUEsU0FBQXprRixFQUFBeWtGLFdBQ0EsTUFBQUEsV0FBQW1lLGVBQ0FrRyxTQUNBdGpCLEtBQUEsU0FBQWIsTUFDQSxRQUFBb2tCLFlBQUFDLEtBQ0EsSUFBQSxHQUFBQyxZQUFBLEdBQUExb0csRUFBQSxFQUFBQSxFQUFBeW9HLElBQUFsckcsT0FBQXlDLElBQUEwb0csWUFBQXRrQixLQUFBRSxZQUFBbWtCLElBQUF4ZixPQUFBanBGLElBQUEsS0FBQXlvRyxJQUFBeGYsT0FBQWpwRixHQUFBeW9HLElBQUF4ZixPQUFBanBGLEVBQ0EsT0FBQTBvRyxZQUVBLEdBQUEsSUFBQXRrQixLQUFBd0YsUUFBQXA4RCxNQUFBNDJELEtBQUF1a0IsaUJBQUF2a0IsS0FBQXVrQixjQUFBdmtCLEtBQUF3RixRQUNBeEYsS0FBQXdGLE9BQUEsRUFBQXhGLEtBQUF1WCxpQkFBQXZYLEtBQUF3SixhQUFBeEosS0FBQXVYLGVBQUEsTUFBQXZYLEtBQUF3SixXQUFBLElBQUEsTUFBQXhKLEtBQUF3SixXQUFBLElBQUEsSUFDQSxNQUFBeEosS0FBQXVYLGlCQUFBdlgsS0FBQXVNLDBCQUFBLFFBQUF2TSxLQUFBd2tCLFVBQUF4a0IsS0FBQXdrQixXQUFBLEtBQUF4a0IsS0FBQXVYLGVBQ0F2WCxLQUFBd2tCLFlBQUEsZ0JBQUF4a0IsTUFBQXlrQixXQUFBOVksU0FBQTNMLEtBQUF5a0IsYUFBQXprQixLQUFBeWtCLFVBQUExckcsU0FBQWluRixLQUFBeWtCLFlBQ0E5WSxTQUFBM0wsS0FBQXVrQixnQkFBQSxDQUNBLEdBQUFHLE1BQUEzckYsS0FBQTBTLE1BQUF1MEQsS0FBQXVrQixjQUFBdmtCLEtBQUF5a0IsV0FBQUUsSUFBQTNrQixLQUFBdWtCLGNBQUF2a0IsS0FBQXlrQixTQUNBemtCLE1BQUF1a0IsY0FBQXhyRyxTQUFBaW5GLEtBQUF1a0IsZ0JBQUEsSUFBQUksSUFBQUQsS0FBQSxFQUFBQSxNQUNBMWtCLEtBQUF1a0IsY0FBQSxJQUFBdmtCLEtBQUF1a0IsY0FBQSxLQUVBdmtCLEtBQUFqc0YsWUFBQW9GLE9BQUEsSUFBQTZtRixLQUFBanNGLFlBQUFpc0YsS0FBQWpzRixZQUFBOHdGLE9BQUEsSUFDQTdFLEtBQUFnYixXQUFBaGIsS0FBQWdiLFlBQUEsS0FBQWhiLEtBQUFqc0YsYUFBQWlzRixLQUFBNGtCLG1CQUFBLEVBQ0E1a0IsS0FBQUUsWUFBQSxLQUFBRixLQUFBRSxZQUFBLEtBQUFGLEtBQUFFLFlBQUEsS0FBQStDLGlCQUFBLElBQ0FqRCxLQUFBb0YsZ0JBQUEsSUFBQXBGLEtBQUFnYixZQUFBLEVBQUFoYixLQUFBNmtCLGdCQUFBLEVBQUF6N0UsTUFBQTQyRCxLQUFBOGtCLFVBQUE5a0IsS0FBQThrQixPQUFBLEdBQ0E5a0IsS0FBQStrQixnQkFBQSxFQUNBLElBQUFsa0IsTUFBQXVqQixXQUFBcGtCLEtBQUFnbEIsT0FDQSxPQUFBbmtCLE9BQUEsTUFBQUEsTUFBQWIsS0FBQTRrQixtQkFBQSxFQUFBLE9BQUE1a0IsS0FBQXVrQixjQUFBLElBQUEsS0FBQXZrQixLQUFBdWtCLGNBQUEsSUFDQSxTQUFBdmtCLEtBQUE4a0IsU0FBQTE3RSxNQUFBNDJELEtBQUE4a0IsU0FBQS9yRyxTQUFBaW5GLEtBQUE4a0IsUUFBQSxLQUFBamtCLE1BQUFiLEtBQUE2a0IsZUFBQSxLQUFBN2tCLEtBQUEra0IsZUFBQSxJQUFBL2tCLEtBQUF3SixZQUFBLE9BQUF4SixLQUFBOGtCLE9BQUEsTUFBQTlrQixLQUFBK2tCLGVBQUEsSUFBQS9rQixLQUFBd0osWUFBQSxLQUFBeEosS0FBQThrQixPQUFBLEtBQ0EsS0FBQTlrQixLQUFBaWxCLGVBQUFsdUcsT0FBQThwRixNQUFBLE9BQUFBLE1BQUF1akIsV0FBQXBrQixLQUFBa2xCLFFBQ0FsbEIsS0FBQXVGLFFBQUEsRUFBQTFFLE1BRUE5c0YsWUFBQSxHQUNBd3hGLFFBQUEsRUFDQXVmLE9BQUEsSUFDQUQsZ0JBQUEsRUFDQXJiLFdBQUEsSUFDQXdSLFlBQUEsRUFDQXlKLFVBQUEsRUFDQWxOLGVBQUEsR0FDQWlOLFdBQUEsRUFDQVcsV0FBQSxFQUNBQyxZQUFBLEVBQ0FILGdCQUNBSSxNQUFBLElBQ0F0dUcsS0FBQSxJQUVBd3RHLGNBQUEsSUFDQUssaUJBQUEsRUFDQUksT0FBQSxHQUNBRSxPQUFBLEdBQ0FuSixZQUFBLEVBQ0FnSixnQkFBQSxFQUNBOTlFLElBQUEsS0FDQXkzQyxJQUFBLEtBQ0E0bUMsS0FBQSxFQUNBamQsWUFBQSxFQUNBeUksWUFBQSxFQUNBeVUsZ0JBQUEsRUFDQUMsV0FBQSxTQUFBMWYsT0FBQWlCLElBQUEwZSxhQUFBemxCLE1BQ0FBLEtBQUFvRixnQkFBQSxJQUFBVSxPQUFBQSxPQUFBMXFGLFVBQUF1d0YsU0FBQTVFLE9BQUFBLElBQUFqQixPQUFBaHBGLEtBQUEsSUFBQTNELE9BQUE0dEYsSUFBQSxHQUNBLElBQUFuckYsR0FBQW1hLEVBQUEydkYsZ0JBQUEsQ0FDQTVmLFFBQUEzc0YsUUFBQTZtRixLQUFBa2xCLE9BQUEvckcsUUFBQTJzRixPQUFBaHBGLEtBQUEsSUFBQWEsUUFBQXFpRixLQUFBa2xCLFVBQUFwZixPQUFBM3NGLE9BQUE2bUYsS0FBQWtsQixPQUFBL3JHLFNBQUEyc0YsT0FBQTNzRixPQUFBMnNGLE9BQUEzc0YsT0FBQTZtRixLQUFBa2xCLE9BQUEvckcsT0FDQXVzRyxnQkFBQSxHQUFBM2UsSUFBQUEsS0FBQWpCLE9BQUEzc0YsT0FBQTJzRixPQUFBM3NGLE9BQUEsRUFBQTR0RixJQUFBL0csS0FBQWdsQixPQUFBN3JHLE9BQUE2bUYsS0FBQWdsQixPQUFBN3JHLE9BQUE0dEYsR0FDQSxJQUFBNGUsZUFBQSxFQUFBQyxVQUFBOWYsT0FBQWlCLElBQ0EsSUFBQSxLQUFBL0csS0FBQXVYLGdCQUFBdlgsS0FBQW9GLGdCQUFBLEdBQUEsS0FBQS9wRixFQUFBaXZGLFFBQUF0SyxLQUFBd0osV0FBQTFELFNBQUFpQixJQUFBMXJGLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBMUQsU0FBQSxHQUFBeEUsUUFBQSxJQUFBeEIsVUFBQWtSLFlBQUFoUixLQUFBaWxCLGVBQUFJLE9BQUEsTUFBQWh1RyxLQUFBdXVHLFdBQUEsQ0FDQSxHQUFBRixlQUFBLElBQUE5cEcsRUFBQSxFQUFBbWEsRUFBQWlxRSxLQUFBa2xCLE9BQUEvckcsT0FBQTRjLEVBQUFuYSxFQUFBQSxJQUFBa3FGLE9BQUExdkYsS0FBQTRwRixLQUFBa2xCLE9BQUFyZ0IsT0FBQWpwRixHQUNBLFFBQ0FtckYsSUFBQUEsS0FHQSxHQUFBOGUsTUFBQS9mLE9BQUFyd0UsT0FDQW13RixhQUFBNWxCLEtBQUF1WCxpQkFBQXNPLEtBQUFqb0csT0FBQW1wRixNQUFBLEdBQUE2ZSxVQUFBQyxLQUFBOWUsTUFDQTBlLGFBQUFHLFlBQUE1bEIsS0FBQXdKLGFBQUFxYyxLQUFBOWUsS0FBQSxLQUFBOGUsS0FBQWpvRyxPQUFBbXBGLElBQUEsRUFBQSxJQUNBLElBQUErZSxRQUFBRCxLQUFBL29HLEtBQUEsSUFBQWlwRyxhQUFBRCxNQUNBLElBQUFBLE9BQUEzc0csT0FBQSxHQUFBNm1GLEtBQUF3a0IsV0FBQWlCLGNBQUEsS0FBQUssT0FBQW5vRyxRQUFBcWlGLEtBQUF1WCxnQkFBQSxDQUNBLEdBQUF5Tyx1QkFBQWxtQixVQUFBa1IsWUFBQWhSLEtBQUF1WCxlQUNBb08sY0FBQSxJQUFBRyxPQUFBbm9HLFFBQUFxaUYsS0FBQXVYLGdCQUFBdU8sT0FBQUEsT0FBQWowRyxRQUFBLEdBQUF5dkYsUUFBQTBrQixzQkFBQSxLQUFBLEdBQ0EsSUFBQUMsWUFBQUgsT0FBQXp6RyxNQUFBMnRGLEtBQUF3SixXQUNBLElBQUFzYyxPQUFBLEtBQUE5bEIsS0FBQXdKLFdBQUFzYyxPQUFBRyxXQUFBLEdBQUFILFNBQUE5bEIsS0FBQWdsQixPQUFBLE1BQUFjLE9BQUEzc0csUUFBQTZtRixLQUFBeWtCLFVBQUF6a0IsS0FBQWdsQixPQUFBN3JHLE9BQUEsSUFBQSxHQUFBK3NHLEtBQUEsR0FBQTVrQixRQUFBLHlCQUFBdEIsS0FBQXlrQixVQUFBLE1BQUF5QixJQUFBN3VHLEtBQUF5dUcsU0FBQUEsT0FBQUEsT0FBQWowRyxRQUFBcTBHLElBQUEsS0FBQWxtQixLQUFBdVgsZUFBQSxNQUNBdU8sT0FBQUEsT0FBQWowRyxRQUFBbXVGLEtBQUF1WCxlQUFBdlgsS0FBQXVYLGVBQUF2WCxLQUFBdVgsZUFDQSxNQUFBdlgsS0FBQXdKLFlBQUF5YyxXQUFBOXNHLE9BQUEsSUFBQTJzRyxRQUFBOWxCLEtBQUF3SixXQUFBeWMsV0FBQSxJQUVBLElBQUFOLGFBQUFJLGVBQUFELE9BQUFoZ0IsT0FBQTNzRixPQUFBMnNHLE9BQUEzc0csT0FBQXlDLEVBQUEsRUFDQW1hLEVBQUErdkYsT0FBQTNzRyxPQUFBNGMsRUFBQW5hLEVBQUFBLElBQUFrcUYsT0FBQWxxRixHQUFBa3FHLE9BQUFqaEIsT0FBQWpwRixFQUNBLElBQUEyeUYsUUFBQWx6RixFQUFBaXZGLFFBQUEsSUFBQXhFLE9BQ0EsSUFBQSxLQUFBeUksUUFBQXFYLFlBQUE1bEIsS0FBQXdKLGFBQUErRSxPQUFBbHpGLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBMUQsU0FDQTJmLGFBQUEzZixPQUFBeUksUUFBQXFYLFVBQUE5ZixPQUFBbG9GLE9BQUEyd0YsT0FBQSxJQUFBb1gsY0FBQUQsZUFBQSxJQUFBOXBHLEVBQUEsRUFDQW1hLEVBQUFpcUUsS0FBQWtsQixPQUFBL3JHLE9BQUE0YyxFQUFBbmEsRUFBQUEsSUFBQWtxRixPQUFBMXZGLEtBQUE0cEYsS0FBQWtsQixPQUFBcmdCLE9BQUFqcEYsR0FDQSxPQUFBMnlGLFFBQUF2TyxLQUFBb0YsY0FBQXVHLFNBQUE1RSxLQUFBakIsT0FBQWhwRixLQUFBLElBQUEzRCxPQUFBbzFGLE9BQUEsRUFBQUEsT0FDQXZPLEtBQUFvRixlQUFBVSxPQUFBQSxPQUFBMXFGLFVBQUFDLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBMUQsUUFBQXlJLFFBQUF6SSxPQUFBaHBGLEtBQUEsSUFBQTNELE9BQUE2bUYsS0FBQWtsQixPQUFBL3JHLFNBQUFvMUYsU0FBQUEsUUFBQSxLQUVBeEgsSUFBQXdILE9BQ0FqQyxrQkFBQXFaLGFBQ0E3ZixPQUFBQSxTQUdBbUssY0FBQSxTQUFBaDNGLEVBQUE2c0YsT0FBQWlLLFNBQUEvUCxNQUNBLEdBQUEvbUYsSUFBQSxTQUFBQSxFQUFBOE4sTUFBQSxhQUFBOU4sRUFBQThOLE1BQUEsQ0FDQSxHQUFBazlGLGFBQUFuZSxPQUFBaHBGLEtBQUEsSUFBQXFwRyxhQUFBbEMsWUFBQXB5RyxRQUFBbXVGLEtBQUFnbEIsT0FBQSxHQUNBLElBQUFtQixhQUFBQSxhQUFBdDBHLFFBQUFtdUYsS0FBQWtsQixPQUFBLElBQUFpQixhQUFBQSxhQUFBdDBHLFFBQUEsR0FBQXl2RixRQUFBeEIsVUFBQWtSLFlBQUFoUixLQUFBdVgsZ0JBQUEsS0FBQSxJQUNBLE1BQUF2WCxLQUFBd0osYUFBQTJjLGFBQUFBLGFBQUF0MEcsUUFBQWl1RixVQUFBa1IsWUFBQWhSLEtBQUF3SixZQUFBLE1BQ0FtQyxTQUFBd2EsZUFBQXhhLFNBQUEzTCxLQUFBLzRELE1BQUF6SSxXQUFBMm5GLGNBQUEzbkYsV0FBQXdoRSxLQUFBLzRELEtBQUEsTUFBQTVyQixHQUFBaTdCLFFBQUEsR0FDQWcyRCxtQkFBQSxFQUNBeEcsUUFBQTlGLEtBQUFnbEIsT0FBQWhsQixLQUFBLzRELEtBQUE1MEIsTUFBQSxLQUNBMnRGLEtBQUF3bEIsWUFBQXhsQixLQUFBZ2xCLE9BQUFobEIsS0FBQS80RCxLQUFBNTBCLE1BQUEsSUFBQSxHQUFBLEVBQUEydEYsTUFDQSxJQUFBQSxLQUFBb0YsZ0JBQUEsRUFBQSxDQUNBLEdBQUFnaEIsYUFBQSxLQUFBcG1CLEtBQUF3SixXQUFBMUQsT0FBQWhwRixLQUFBLElBQUF6SyxNQUFBMnRGLEtBQUF3SixhQUFBMUQsT0FBQWhwRixLQUFBLEtBQUF1cEcsVUFBQUQsWUFBQSxHQUFBdDZGLE1BQUFrMEUsS0FBQWhwRixNQUFBc3ZHLFlBQUF0bUIsT0FBQXVtQixnQkFBQSxJQUFBSCxZQUFBanRHLE9BQUFpdEcsWUFBQSxHQUFBdDZGLE1BQUFrMEUsS0FBQWhwRixNQUFBd3ZHLGFBQUF4bUIsT0FBQSxNQUNBLElBQUFxbUIsVUFBQSxDQUNBQSxVQUFBLEtBQUFybUIsS0FBQWlsQixlQUFBSSxNQUFBLEtBQUFnQixVQUFBLEtBQUFybUIsS0FBQWlsQixlQUFBSSxPQUFBLE1BQUFnQixVQUFBLElBQUEsU0FBQUUsa0JBQUFBLGdCQUFBLEdBQUF6NkYsTUFBQSxTQUFBZzZFLE9BQUFsb0YsT0FBQXlvRyxVQUFBejJFLE1BQUEsRUFDQSxJQUFBNjJFLGVBQUFwckcsRUFBQWl2RixRQUFBdEssS0FBQXdKLFdBQUExRCxPQUNBLElBQUEsS0FBQTJnQixjQUFBLENBQ0EsR0FBQTlhLFNBQUEzTCxLQUFBOGtCLFVBQUE5a0IsS0FBQTZrQixlQUFBLENBQ0EsSUFBQSxHQUFBanBHLEdBQUEsRUFBQUEsR0FBQW9rRixLQUFBOGtCLE9BQUFscEcsS0FBQSxTQUFBa3FGLE9BQUEyZ0IsY0FBQTdxRyxJQUFBa3FGLE9BQUEyZ0IsY0FBQTdxRyxLQUFBb2tGLEtBQUFqc0YsWUFBQTh3RixPQUFBLE1BQUFpQixPQUFBMmdCLGNBQUE3cUcsR0FBQSxJQUNBLFFBQ0Ewd0Ysa0JBQUEyWCxjQUFBbmUsT0FBQWhwRixLQUFBLElBQ0FncEYsT0FBQUEsUUFHQSxHQUFBMmdCLGdCQUFBM2dCLE9BQUEzc0YsT0FBQTZtRixLQUFBa2xCLE9BQUEvckcsT0FBQSxFQUFBLE1BQUEyc0YsUUFBQWxvRixPQUFBNm9HLGNBQUEsSUFFQW5hLG1CQUFBLEVBQ0F4RyxPQUFBQSxXQU1BLEdBQUE5RixLQUFBd2tCLFVBQUEsQ0FDQSxHQUFBM1gsTUFBQTdNLEtBQUF3bEIsV0FBQTFmLE9BQUE5RixLQUFBb0YsYUFBQTJLLFNBQUFBLFNBQUEsR0FBQSxFQUFBL1AsS0FDQSxPQUFBNk0sTUFBQXFDLE1BQUFhLFVBQUEvUCxLQUFBZ2xCLE9BQUE3ckcsT0FBQTB6RixLQUFBOUYsSUFBQThGLEtBQUE5RixJQUFBLEVBQUE4RixPQUdBNzFGLE9BQ0FzdkcsWUFBQSxTQUFBdG1CLE1BQ0EsTUFBQSxJQUFBc0IsUUFBQSxJQUFBeEIsVUFBQWtSLFlBQUFoUixLQUFBaWxCLGVBQUFJLE9BQUEsWUFFQW1CLGFBQUEsU0FBQXhtQixNQUNBLE1BQUEsSUFBQXNCLFFBQUEsT0FBQXhCLFVBQUFrUixZQUFBaFIsS0FBQXVYLGdCQUFBLFFBR0FtUCxZQUFBLFNBQUExWixLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILE1BQ0EsSUFBQTJILFFBQUEzSCxLQUFBb2xCLFlBQUEsTUFBQXBZLE1BQUFoTixLQUFBbWxCLFdBQUEsTUFBQW5ZLEtBQUEsQ0FDQSxHQUFBcVosV0FBQTlmLFFBQUFULE9BQUFocEYsS0FBQSxJQUFBZ1AsTUFBQWswRSxLQUFBaHBGLE1BQUFzdkcsWUFBQXRtQixNQUNBLElBQUFxbUIsV0FBQUEsVUFBQSxHQUFBbHRHLE9BQUEsRUFBQSxNQUFBb3RGLFNBQUFULE9BQUF1Z0IsVUFBQXoyRSxVQUFBLE1BQUFvOUQsS0FBQSxJQUFBaE4sS0FBQWlsQixlQUFBSSxPQUFBLE1BQUFyWSxLQUFBLEtBQUFoTixLQUFBaWxCLGVBQUFsdUcsTUFDQWd3RixJQUFBc2YsVUFBQXoyRSxNQUNBdEgsRUFBQTAzRCxLQUFBaWxCLGVBQUFJLE1BQ0EzMEIsT0FBQTIxQixVQUFBejJFLE1BQ0FzL0QsTUFBQW5JLElBQ0FxRyxRQUNBckcsSUFBQVIsUUFBQVQsT0FBQTNzRixPQUFBNm1GLEtBQUFrbEIsT0FBQS9yRyxPQUFBLEVBQ0FtdkIsRUFBQTAzRCxLQUFBaWxCLGVBQUFsdUcsUUFHQWd3RixJQUFBc2YsVUFBQXoyRSxNQUNBdEgsRUFBQTAzRCxLQUFBaWxCLGVBQUFJLE1BQ0EzMEIsT0FBQTIxQixVQUFBejJFLE1BQ0FzL0QsTUFBQW5JLEtBQ0EsS0FBQS9HLEtBQUFpbEIsZUFBQWx1RyxNQUNBZ3dGLElBQUFzZixVQUFBejJFLE1BQ0F0SCxFQUFBLElBQ0Fvb0QsUUFBQTIxQixVQUFBejJFLE1BQUEyMkQsUUFBQVQsT0FBQTNzRixPQUFBNm1GLEtBQUFrbEIsT0FBQS9yRyxPQUFBLEdBQ0ErMUYsTUFBQW5JLE1BRUFBLElBQUFzZixVQUFBejJFLE1BQ0F0SCxFQUFBLElBQ0Fvb0QsT0FBQTIxQixVQUFBejJFLE1BQ0FzL0QsTUFBQW5JLEtBQ0FSLFFBQUFULE9BQUF1Z0IsVUFBQXoyRSxVQUFBLE1BQUFvOUQsS0FBQWhOLEtBQUFpbEIsZUFBQUksTUFBQSxLQUFBLE1BQUFyWSxNQUFBLEtBQUFoTixLQUFBaWxCLGVBQUFsdUcsTUFDQTI1RSxRQUFBMjFCLFVBQUF6MkUsTUFBQTIyRCxRQUFBVCxPQUFBM3NGLE9BQUE2bUYsS0FBQWtsQixPQUFBL3JHLE9BQUEsR0FDQSsxRixNQUFBbkksSUFBQSxJQUVBclcsT0FBQTIxQixVQUFBejJFLE1BQ0FzL0QsTUFBQW5JLElBQUEsR0FDQSxNQUFBaUcsS0FBQSxLQUFBaE4sS0FBQWlsQixlQUFBbHVHLE1BQ0Fnd0YsSUFBQXNmLFVBQUF6MkUsTUFDQXRILEVBQUEwM0QsS0FBQWlsQixlQUFBSSxNQUNBblcsTUFBQW5JLElBQUEsRUFDQXFHLFFBQ0FyRyxJQUFBUixRQUFBVCxPQUFBM3NGLE9BQUE2bUYsS0FBQWtsQixPQUFBL3JHLE9BQ0FtdkIsRUFBQTAzRCxLQUFBaWxCLGVBQUFsdUcsUUFHQWd3RixJQUFBc2YsVUFBQXoyRSxNQUNBdEgsRUFBQTAzRCxLQUFBaWxCLGVBQUFJLE1BQ0FuVyxNQUFBbkksSUFBQSxJQUVBQSxJQUFBc2YsVUFBQXoyRSxNQUNBdEgsRUFBQTBrRSxLQUNBa0MsTUFBQW5JLElBQUEsR0FHQSxPQUFBLEdBRUE0ZixhQUFBLFNBQUEzWixLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILE1BQ0EsSUFBQTJILFNBQUEsS0FBQXRzRixFQUFBaXZGLFFBQUEwQyxNQUFBLElBQUEsUUFBQUEsS0FBQWhOLEtBQUF3SixZQUNBd0QsT0FBQWhOLEtBQUF3SixZQUFBLFNBQUF4SixLQUFBOGtCLFNBQUExN0UsTUFBQTQyRCxLQUFBOGtCLFNBQUEvckcsU0FBQWluRixLQUFBOGtCLFFBQUEsSUFBQSxDQUNBLEdBQUE3SixVQUFBNS9GLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBakQsUUFBQVQsUUFBQThnQixhQUFBcmdCLFFBQUFULE9BQUFocEYsS0FBQSxJQUFBZ1AsTUFBQWswRSxLQUFBaHBGLE1BQUFzdkcsWUFBQXRtQixNQUNBLElBQUEsS0FBQWliLFVBQUExVSxRQUFBWCxlQUFBcVYsVUFBQSxNQUFBMVUsU0FBQVgsZUFBQXFWLFNBQUEsSUFDQS9MLE1BQUErTCxTQUFBLElBRUFsVSxJQUFBNmYsYUFBQWgzRSxNQUNBdEgsRUFBQXMrRSxhQUFBLEdBQ0ExWCxNQUFBK0wsU0FBQSxFQUVBLEtBQUEyTCxjQUFBLE1BQUFBLGFBQUEsSUFBQUEsYUFBQWgzRSxNQUFBLElBQUFtM0QsSUFBQSxNQUFBUixTQUFBVCxPQUFBOGdCLGFBQUFBLGFBQUFoM0UsTUFBQW0zRCxLQUFBLEtBRUFBLEtBQUE2ZixhQUFBQSxhQUFBaDNFLE1BQUFtM0QsS0FBQSxFQUNBeitELEVBQUEwM0QsS0FBQXdKLFlBR0EsT0FBQSxHQUVBcWQsbUJBQUEsU0FBQTdaLEtBQUF6RyxRQUFBUSxJQUFBWSxPQUFBM0gsTUFDQSxHQUFBQSxLQUFBb0YsZ0JBQUEsR0FDQSxHQUFBLE1BQUFtQixRQUFBVCxPQUFBUyxRQUFBVCxPQUFBM3NGLE9BQUE2bUYsS0FBQWdsQixPQUFBN3JHLE9BQUEsR0FBQSxPQUNBNHRGLElBQUFBLElBQ0FyVyxPQUFBNlYsUUFBQVQsT0FBQTNzRixPQUFBNm1GLEtBQUFnbEIsT0FBQTdyRyxPQUFBLE9BRUEsQ0FDQSxHQUFBa3RHLFdBQUE5ZixRQUFBVCxPQUFBaHBGLEtBQUEsSUFBQWdQLE1BQUFrMEUsS0FBQWhwRixNQUFBd3ZHLGFBQUF4bUIsT0FBQXltQixjQUFBcHJHLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBakQsUUFBQVQsT0FDQSxJQUFBdWdCLFlBQUExZSxTQUFBLEtBQUE4ZSxlQUFBQSxlQUFBMWYsS0FBQSxHQUFBLElBQUFzZixVQUFBLEdBQUExb0csUUFBQSxLQUFBLENBQ0FvcEYsSUFBQS9HLEtBQUFnbEIsT0FBQTdyRyxTQUFBNHRGLElBQUFzZixVQUFBejJFLE1BQ0EsSUFBQWszRSxnQkFBQXpyRyxFQUFBaXZGLFFBQUF0SyxLQUFBd0osV0FBQWpELFFBQUFWLFNBQUFraEIsWUFBQXhnQixRQUFBVixTQUFBVSxRQUFBVCxPQUFBcndFLE1BQUFneEYsZUFBQTNwRyxLQUFBLE1BQUF5cEYsUUFBQVYsUUFBQXB3RSxNQUFBcXhGLGdCQUFBaHFHLEtBQUEsS0FBQSxJQUFBL0QsU0FBQXd0RixRQUFBVCxPQUFBcndFLE1BQUFneEYsY0FBQSxHQUFBM3BHLEtBQUEsS0FBQWtxRyxhQUFBemdCLFFBQUFWLFNBQUFVLFFBQUFULE9BQUFyd0UsTUFBQTR3RixVQUFBejJFLE1BQUE2MkUsZUFBQTNwRyxLQUFBLE1BQUF5cEYsUUFBQVYsUUFBQXB3RSxNQUFBdXFFLEtBQUFnbEIsT0FBQTdyRyxPQUFBMnRHLGdCQUFBaHFHLEtBQUEsS0FBQSxNQUFBeXBGLFFBQUFULE9BQUFyd0UsTUFBQTR3RixVQUFBejJFLE1BQUE2MkUsZUFBQTNwRyxLQUFBLEdBQ0EsSUFBQSxLQUFBMnBHLGVBQUFNLGFBQUFDLGFBQUEsTUFBQXpnQixTQUFBVCxPQUFBbG9GLE9BQUF5b0csVUFBQXoyRSxNQUFBLEdBQ0FtM0QsSUFBQUEsSUFBQXNmLFVBQUF6MkUsTUFBQW0zRCxJQUFBLEVBQUFzZixVQUFBejJFLE9BQ0FtM0QsSUFBQUEsSUFDQXJXLE9BQUEyMUIsVUFBQXoyRSxNQUVBLElBQUF5MkUsVUFBQXoyRSxNQUFBLElBQUFtM0QsS0FBQSxNQUFBaUcsS0FBQSxNQUFBekcsU0FBQVQsT0FBQWxvRixPQUFBeW9HLFVBQUF6MkUsTUFBQSxHQUNBbTNELElBQUFzZixVQUFBejJFLE9BQ0FtM0QsSUFBQUEsSUFDQXJXLE9BQUEyMUIsVUFBQXoyRSxXQUVBLElBQUEsTUFBQW85RCxNQUFBakcsS0FBQXNmLFVBQUF6MkUsT0FBQXkyRSxVQUFBLEtBQUFybUIsS0FBQXVYLGVBQUEsT0FBQSxFQUVBLE9BQUEsR0FFQW5JLGVBQUEsU0FBQXRKLE9BQUE5RixNQUNBLEdBQUFwZCxVQUFBLEVBQUFxaEMsWUFBQW5lLE9BQUFocEYsS0FBQSxJQUFBcXBHLGFBQUFsQyxZQUFBcHlHLFFBQUFtdUYsS0FBQWdsQixPQUFBLEdBQ0EsT0FBQW1CLGNBQUFBLGFBQUF0MEcsUUFBQW11RixLQUFBa2xCLE9BQUEsSUFBQWlCLGFBQUFBLGFBQUF0MEcsUUFBQSxHQUFBeXZGLFFBQUF4QixVQUFBa1IsWUFBQWhSLEtBQUF1WCxnQkFBQSxLQUFBLElBQ0EsTUFBQXZYLEtBQUF3SixhQUFBMmMsYUFBQUEsYUFBQXQwRyxRQUFBaXVGLFVBQUFrUixZQUFBaFIsS0FBQXdKLFlBQUEsTUFDQTJjLGFBQUFBLGFBQUF0MEcsUUFBQSxHQUFBeXZGLFFBQUEsSUFBQXhCLFVBQUFrUixZQUFBaFIsS0FBQWlsQixlQUFBSSxRQUFBLEtBQ0FjLGFBQUFBLGFBQUF0MEcsUUFBQSxHQUFBeXZGLFFBQUF4QixVQUFBa1IsWUFBQWhSLEtBQUFpbEIsZUFBQWx1RyxNQUFBLEtBQUEsSUFDQW92RyxhQUFBQSxlQUFBbm1CLEtBQUFpbEIsZUFBQUksTUFBQWMsYUFBQSxJQUFBQSxhQUNBeGEsU0FBQXdhLGdCQUFBLE9BQUFubUIsS0FBQXRoQixLQUFBaXRCLFNBQUEzTCxLQUFBdGhCLE9BQUFrRSxRQUFBcGtELFdBQUEybkYsZUFBQTNuRixXQUFBd2hFLEtBQUF0aEIsTUFDQWtFLFNBQUEsT0FBQW9kLEtBQUEvNEQsS0FBQTBrRSxTQUFBM0wsS0FBQS80RCxPQUFBLEdBQUFrL0UsY0FBQUEsYUFBQXArRixXQUFBNU8sUUFBQTZtRixLQUFBLzRELElBQUFsZixXQUFBNU8sVUFBQXlwRSxRQUFBcGtELFdBQUEybkYsZUFBQTNuRixXQUFBd2hFLEtBQUEvNEQsS0FDQTI3QyxVQUFBQSxRQUFBdm5FLEVBQUFpN0IsUUFBQSxHQUNBZzJELG1CQUFBLEVBQ0F4RyxRQUFBOUYsS0FBQWdsQixPQUFBaGxCLEtBQUEvNEQsS0FBQTUwQixNQUFBLEtBQ0EydEYsS0FBQXdsQixZQUFBeGxCLEtBQUFnbEIsT0FBQWhsQixLQUFBLzRELEtBQUE1MEIsTUFBQSxJQUFBLEdBQUEsRUFBQTJ0RixPQUFBcGQsUUFBQTBwQixtQkFBQSxLQUNBMXBCLFNBRUFzZCxhQUNBK21CLEtBQ0Fya0IsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQTBtQixZQUFBMVosS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxLQUNBLEtBQUFwZCxVQUFBQSxRQUFBb2QsS0FBQTJtQixhQUFBM1osS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxPQUNBcGQsVUFBQUEsUUFBQStrQixPQUFBLEdBQUFyRyxRQUFBLE9BQUF4QixVQUFBa1IsWUFBQWhSLEtBQUF1WCxnQkFBQSxLQUFBbGdHLEtBQUEyMUYsTUFBQSxHQUFBMUwsUUFBQSxTQUFBanFGLEtBQUEyMUYsTUFDQXBxQixXQUFBLElBQUFBLFFBQUFvZCxLQUFBNm1CLG1CQUFBN1osS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBcGQsV0FBQSxLQUFBLENBQ0EsR0FBQTZqQyxlQUFBcHJHLEVBQUFpdkYsUUFBQXRLLEtBQUF3SixXQUFBakQsUUFBQVQsT0FDQWxqQixTQUFBLEtBQUE2akMsZUFBQXptQixLQUFBNmtCLGtCQUFBLEdBQUE3a0IsS0FBQW9GLGdCQUFBLEdBQUEyQixJQUFBMGYsZ0JBQUE5ZSxRQUNBWixJQUFBQSxJQUNBclcsT0FBQXFXLE1BRUFBLElBQUFBLEtBR0EsTUFBQW5rQixVQUVBK2YsWUFBQSxFQUNBRixhQUFBLE1BRUF5a0IsS0FDQXRrQixVQUFBLFNBQUFvSyxLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILE1BQ0EsR0FBQXBkLFNBQUFvZCxLQUFBMG1CLFlBQUExWixLQUFBekcsUUFBQVEsSUFBQVksT0FBQTNILEtBQ0EsUUFBQXBkLFVBQUEra0IsUUFBQTNILEtBQUFvbEIsWUFBQXBZLE9BQUFoTixLQUFBaWxCLGVBQUFJLE9BQUFybEIsS0FBQW9sQixZQUFBLE1BQUFwWSxNQUFBaE4sS0FBQW1sQixXQUFBLE1BQUFuWSxRQUFBcHFCLFFBQUEsTUFBQW9xQixLQUFBLEtBQUFoTixLQUFBaWxCLGVBQUFsdUcsTUFDQWd3RixJQUFBQSxJQUNBeitELEVBQUEsTUFBQTBrRSxLQUFBaE4sS0FBQWlsQixlQUFBSSxNQUFBLElBQ0FuVyxNQUFBbkksSUFBQSxFQUNBcUcsUUFDQXJHLElBQUFSLFFBQUFULE9BQUEzc0YsT0FDQW12QixFQUFBMDNELEtBQUFpbEIsZUFBQWx1RyxRQUdBZ3dGLElBQUFBLElBQ0F6K0QsRUFBQSxNQUFBMGtFLEtBQUFoTixLQUFBaWxCLGVBQUFJLE1BQUEsSUFDQW5XLE1BQUFuSSxJQUFBLElBQ0EsR0FBQW5rQixTQUVBK2YsWUFBQSxFQUNBRixhQUFBLEtBQ0ExdUYsWUFBQSxJQUVBb3pHLEtBQ0F2a0IsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQTBtQixZQUFBMVosS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxLQUNBLFFBQUFwZCxTQUFBK2tCLFFBQUEzSCxLQUFBb2xCLFlBQUFwWSxPQUFBaE4sS0FBQWlsQixlQUFBbHVHLE9BQUE2ckUsU0FBQSxHQUNBQSxTQUVBK2YsWUFBQSxFQUNBRixhQUFBLEtBQ0ExdUYsWUFBQSxJQUVBcXpHLEtBQ0F4a0IsVUFBQSxTQUFBb0ssS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxNQUNBLEdBQUFwZCxTQUFBb2QsS0FBQTBtQixZQUFBMVosS0FBQXpHLFFBQUFRLElBQUFZLE9BQUEzSCxLQUNBLEtBQUFwZCxRQUFBLENBQ0EsR0FBQXlrQyxPQUFBLElBQUF2bkIsVUFBQWtSLFlBQUFoUixLQUFBd0osWUFBQSxPQUNBNW1CLFNBQUEsR0FBQTBlLFFBQUErbEIsT0FBQWh3RyxLQUFBMjFGLE1BQUFwcUIsU0FBQTJqQixRQUFBWCxlQUFBbUIsTUFBQVIsUUFBQVgsZUFBQW1CLEtBQUFqN0UsTUFBQS9YLGNBQUFpc0YsS0FBQXdKLGFBQUE1bUIsU0FDQXNzQixNQUFBbkksSUFBQSxJQUdBLE1BQUFua0IsVUFDQXQ2QyxFQUFBMDNELEtBQUF3SixZQUNBNW1CLFNBRUErZixZQUFBLEVBQ0FGLGFBQUEsS0FDQTF1RixZQUFBLFNBQUFpc0YsTUFDQSxNQUFBQSxNQUFBd0osY0FJQW1JLFNBQUEsU0FBQXNTLFlBQUF6UyxjQUFBeFIsTUFDQSxHQUFBbW1CLGNBQUFsQyxZQUFBcHlHLFFBQUFtdUYsS0FBQWdsQixPQUFBLEdBQ0EsT0FBQW1CLGNBQUFBLGFBQUF0MEcsUUFBQW11RixLQUFBa2xCLE9BQUEsSUFBQWlCLGFBQUFBLGFBQUF0MEcsUUFBQSxHQUFBeXZGLFFBQUF4QixVQUFBa1IsWUFBQWhSLEtBQUF1WCxnQkFBQSxLQUFBLElBQ0F2WCxLQUFBdWxCLGdCQUFBLEtBQUF2bEIsS0FBQXdKLFlBQUEsS0FBQTJjLGFBQUF4b0csUUFBQXFpRixLQUFBd0osY0FBQTJjLGFBQUFBLGFBQUF0MEcsUUFBQWl1RixVQUFBa1IsWUFBQWhwRixLQUFBOU8sS0FBQThtRixLQUFBd0osWUFBQSxNQUNBN3RGLE9BQUF3cUcsZUFBQUEsY0FFQWhYLFdBQUEsU0FBQXJKLE9BQUE5RixNQUNBLEdBQUFpa0IsYUFBQW5lLE9BQUFocEYsS0FBQSxJQUFBd3FHLFNBQUF4aEIsT0FBQXJ3RSxPQUNBLElBQUF1cUUsS0FBQXdsQixXQUFBOEIsU0FBQSxHQUFBLEVBQUF0bkIsTUFBQXNuQixTQUFBeHFHLEtBQUEsTUFBQW1uRyxZQUFBLE9BQUEsQ0FDQSxJQUFBa0MsY0FBQWxDLFlBQUFweUcsUUFBQW11RixLQUFBZ2xCLE9BQUEsR0FDQSxPQUFBbUIsY0FBQUEsYUFBQXQwRyxRQUFBbXVGLEtBQUFrbEIsT0FBQSxJQUFBaUIsYUFBQUEsYUFBQXQwRyxRQUFBLEdBQUF5dkYsUUFBQXhCLFVBQUFrUixZQUFBaFIsS0FBQXVYLGdCQUFBLEtBQUEsSUFDQSxNQUFBdlgsS0FBQXdKLGFBQUEyYyxhQUFBQSxhQUFBdDBHLFFBQUFpdUYsVUFBQWtSLFlBQUFoUixLQUFBd0osWUFBQSxNQUNBbUMsU0FBQXdhLGVBRUEvTCxhQUFBLFNBQUF5QyxhQUFBN2MsTUFDQSxHQUFBLEtBQUFBLEtBQUF3SixZQUFBbUMsU0FBQWtSLGNBQUFBLGFBQUFBLGFBQUE5MEYsV0FBQWxXLFFBQUEsSUFBQW11RixLQUFBd0osZ0JBQUEsQ0FDQSxHQUFBK2QsY0FBQTFLLGFBQUEvd0YsTUFBQSxNQUFBMDdGLFdBQUEzSyxhQUFBL3dGLE1BQUEsTUFDQTA3RixhQUFBRCxhQUFBQyxXQUFBcnVHLE9BQUFvdUcsYUFBQXB1RyxRQUFBMGpHLGFBQUFBLGFBQUFockcsUUFBQSxNQUFBLElBQ0FnckcsYUFBQUEsYUFBQWhyRyxRQUFBLElBQUFtdUYsS0FBQXdKLGFBQUErZCxhQUFBcHVHLE9BQUFxdUcsV0FBQXJ1RyxRQUFBMGpHLGFBQUFBLGFBQUFockcsUUFBQSxLQUFBLElBQ0FnckcsYUFBQUEsYUFBQWhyRyxRQUFBLElBQUFtdUYsS0FBQXdKLGFBQUFxVCxhQUFBQSxhQUFBbC9GLFFBQUEsS0FBQWsvRixhQUFBbC9GLFFBQUEsS0FBQWsvRixhQUFBaHJHLFFBQUEsTUFBQSxJQUFBZ3JHLGFBQUFBLGFBQUFockcsUUFBQSxLQUFBLElBQUFnckcsYUFBQUEsYUFBQWhyRyxRQUFBLEdBQUF5dkYsUUFBQXhCLFVBQUFrUixZQUFBaFIsS0FBQXVYLGdCQUFBLEtBQUEsSUFFQSxHQUFBLElBQUF2WCxLQUFBOGtCLFNBQUEsS0FBQWpJLGFBQUFsL0YsUUFBQSxLQUFBay9GLGFBQUFBLGFBQUFoeEYsVUFBQSxFQUFBZ3hGLGFBQUFsL0YsUUFBQSxNQUFBLEtBQUFrL0YsYUFBQWwvRixRQUFBLE9BQUFrL0YsYUFBQUEsYUFBQWh4RixVQUFBLEVBQUFneEYsYUFBQWwvRixRQUFBLFFBQ0EsS0FBQXFpRixLQUFBd0osWUFBQW1DLFNBQUEzTCxLQUFBOGtCLFNBQUEsS0FBQWpJLGFBQUFsL0YsUUFBQXFpRixLQUFBd0osWUFBQSxDQUNBLEdBQUFpZSxZQUFBNUssYUFBQXhxRyxNQUFBMnRGLEtBQUF3SixZQUFBa2UsUUFBQUQsV0FBQSxHQUFBMzdGLE1BQUEsR0FBQXcxRSxRQUFBLFNBQUEsRUFDQSxJQUFBdm9GLFNBQUFpbkYsS0FBQThrQixRQUFBNEMsUUFBQTMvRixXQUFBNU8sT0FBQSxDQUNBLEdBQUF3dUcsY0FBQTV1RixLQUFBNnVGLElBQUEsR0FBQTd1RyxTQUFBaW5GLEtBQUE4a0IsUUFDQWpJLGNBQUFBLGFBQUFockcsUUFBQWl1RixVQUFBa1IsWUFBQWhSLEtBQUF3SixZQUFBLEtBQ0FxVCxhQUFBOWpGLEtBQUE4dUYsTUFBQXJwRixXQUFBcStFLGNBQUE4SyxjQUFBQSxhQUNBOUssYUFBQUEsYUFBQTkwRixXQUFBbFcsUUFBQSxJQUFBbXVGLEtBQUF3SixhQUdBLE1BQUFxVCxjQUFBOTBGLFlBRUFzaEYsaUJBQUEsU0FBQTlDLFFBQUE3aEYsU0FBQTZqRixJQUFBWixPQUFBM0gsTUFDQSxHQUFBOG5CLGVBQUF2aEIsUUFBQVgsZUFBQWxoRixVQUFBeWlGLE1BQUE0Z0IsU0FBQUQsZ0JBQUE5bkIsS0FBQXdKLFlBQUEsT0FBQWpELFFBQUFYLGVBQUFsaEYsVUFBQW9ILE1BQUErMkUsSUFBQTdDLEtBQUEra0Isa0JBQUEsR0FBQXBaLFNBQUFtYyxnQkFBQXBqRyxXQUFBNmpGLEtBQUF1ZixnQkFBQTluQixLQUFBdVgsZ0JBQUF1USxnQkFBQTluQixLQUFBaWxCLGVBQUFJLE9BQUF5QyxnQkFBQTluQixLQUFBaWxCLGVBQUFsdUcsSUFDQSxJQUFBZ3hHLFVBQUFwYyxTQUFBbWMsZUFBQSxDQUNBLEdBQUF6QixXQUFBcEwsU0FBQTUvRixFQUFBaXZGLFFBQUF0SyxLQUFBd0osV0FBQWpELFFBQUFULFFBQUFraUIsZ0JBQUEsQ0FDQSxJQUFBLFNBQUF6aEIsUUFBQVgsZUFBQXFWLFlBQUExVSxRQUFBWCxlQUFBcVYsV0FDQTlULE1BQUFuSCxLQUFBd0osWUFDQXdlLGdCQUFBLElBQUFyZ0IsUUFBQXBCLFFBQUFULE9BQUEsQ0FDQXVnQixVQUFBOWYsUUFBQVQsT0FBQWhwRixLQUFBLElBQUFtTCxPQUFBLEVBQUF2RCxVQUFBb0gsTUFBQWswRSxLQUFBaHBGLE1BQUF3dkcsYUFBQXhtQixNQUNBLElBQUErRyxLQUFBcmlGLFNBQUEsRUFBQXVqRyxPQUFBLE1BQUE1QixXQUFBLElBQUF0dEcsU0FBQXN0RyxVQUFBLEdBQUF4MEcsUUFBQSxHQUFBeXZGLFFBQUF4QixVQUFBa1IsWUFBQWhSLEtBQUF1WCxnQkFBQSxLQUFBLElBQ0EsSUFBQTBRLE9BQUEsS0FBQTFoQixRQUFBWCxlQUFBbUIsT0FBQVIsUUFBQVgsZUFBQW1CLEtBQUFJLFFBQUFuSCxLQUFBdVgsZ0JBQUEsTUFBQWhSLFFBQUFYLGVBQUFtQixLQUFBSSxjQUFBWixTQUFBWCxlQUFBbUIsS0FDQUEsTUFFQSxHQUFBakIsVUFDQSxLQUFBLEdBQUEwSSxNQUFBakksU0FBQVgsZUFBQSxTQUFBVyxRQUFBWCxlQUFBNEksSUFBQXJILE9BQUFyQixPQUFBMXZGLEtBQUFtd0YsUUFBQVgsZUFBQTRJLElBQUFySCxNQUNBLElBQUE2Z0Isc0JBQUF6aEIsU0FBQVgsZUFBQXFWLFVBQUFBLFNBQUEsRUFBQSxDQUNBLEdBQUE2SyxRQUFBaGdCLE9BQUFocEYsS0FBQSxHQUNBLElBQUF1cEcsVUFBQVAsT0FBQWg2RixNQUFBazBFLEtBQUFocEYsTUFBQXd2RyxhQUFBeG1CLE9BQUEsR0FBQWliLFVBQUF2MkYsU0FBQSxHQUFBLElBQUEyaEcsVUFBQSxHQUFBMW9HLFFBQUEsS0FBQW9xRyxTQUFBMUIsVUFBQXoyRSxRQUFBbHJCLFVBQUEsTUFBQXM3RSxLQUFBanNGLGdCQUFBLENBQ0EsR0FBQW0wRyxTQUFBbnZHLFNBQUFzdEcsVUFBQSxHQUFBeDBHLFFBQUEsR0FBQXl2RixRQUFBeEIsVUFBQWtSLFlBQUFoUixLQUFBdVgsZ0JBQUEsS0FBQSxLQUFBNFEsVUFBQXB2RyxTQUFBK3NHLE9BQUF6ekcsTUFBQTJ0RixLQUFBd0osWUFBQSxHQUNBLElBQUEwZSxTQUFBM2hCLFFBQUFYLGVBQUFsaEYsWUFBQSxNQUFBczdFLEtBQUFqc0YsYUFBQW8wRyxVQUFBLEtBQUE1aEIsUUFBQVgsZUFBQWxoRixVQUFBeWlGLE1BQUEsSUFDQVosUUFBQTcyRCxFQUFBc3dELEtBQUFnbEIsT0FBQTdyRyxPQUFBLEVBQUE0dUcsVUFBQSxPQUNBLEtBQUExQixVQUFBLEdBQUExb0csUUFBQSxNQUFBLElBQUFtb0csT0FBQTNzRyxTQUFBb3RGLFFBQUFYLGtCQUNBbWlCLFVBQUEsSUFHQSxNQUFBQSxXQUVBelAsVUFBQSxTQUFBci9GLEVBQUE2c0YsT0FBQWlLLFNBQUEvUCxNQUNBLEdBQUF1VyxRQUFBbDdGLEVBQUFuQyxLQUNBLElBQUFELEVBQUFtOEYsUUFBQSxPQUFBbjhGLEVBQUE2WixTQUNBLElBQUFndEUsV0FBQWh0RSxRQUFBeXNGLEdBQ0FoSixPQUFBemlHLElBQUEwcUIsV0FBQXRsQixLQUFBZixVQUFBbTVGLGlCQUFBdjRGLFNBQUFpbkYsS0FBQXNsQixPQUFBL08sT0FBQXQrRSxRQUFBLHFCQUNBLE1BRUEsS0FBQTZuRSxXQUFBaHRFLFFBQUE4ckYsS0FDQXJJLE9BQUF6aUcsSUFBQTBxQixXQUFBdGxCLEtBQUFmLFVBQUFtNUYsaUJBQUF2NEYsU0FBQWluRixLQUFBc2xCLE9BQUEvTyxPQUFBdCtFLFFBQUEseUJBSUFtd0YsVUFDQXBELE9BQUEsS0FDQXpOLGVBQUEsSUFDQXhYLE1BQUEsVUFDQWhzRixZQUFBLElBQ0F5d0csV0FBQSxFQUNBTSxPQUFBLEVBQ0FELGdCQUFBLEVBQ0ExTyxzQkFBQSxHQUVBa1MsU0FDQXRvQixNQUFBLFdBRUF1b0IsU0FDQXZvQixNQUFBLFVBQ0Era0IsT0FBQSxFQUNBdGIsV0FBQSxJQUVBK2UsWUFDQXhvQixNQUFBLFVBQ0Era0IsT0FBQSxFQUNBdGIsV0FBQSxJQUNBejFGLFlBQUEsSUFDQXl3RyxXQUFBLEVBQ0F2OUUsSUFBQSxFQUNBeTNDLElBQUEsSUFDQXdtQyxPQUFBLEtBQ0FDLFdBQUEsRUFDQUMsWUFBQSxLQUVBdGxCLFdBQ0E4ZixPQUFBOWYsV0FBQSxTQUFBemtGLEVBQUF5a0YsV0FDQSxNQUFBQSxXQUFBbWUsZUFDQXA4QyxPQUNBNUcsSUFBQSw2QkFDQXV0RCxZQUFBLEdBQ0EzbkIsS0FBQSxTQUFBYixNQUNBQSxLQUFBRSxZQUFBLEtBQUFGLEtBQUFFLFlBQUEsRUFDQSxJQUFBdW9CLFlBQ0EsT0FBQXB0RyxHQUFBcXRHLE1BQ0F6dEQsSUFBQStrQyxLQUFBL2tDLElBQ0EwdEQsT0FBQSxFQUNBQyxTQUFBLE9BQ0ExK0YsUUFBQSxTQUFBbk4sVUFDQTByRyxTQUFBMXJHLFVBRUFLLE1BQUEsU0FBQW02RSxJQUFBc3hCLFlBQUFDLGFBQ0F2akcsTUFBQXVqRyxZQUFBLE1BQUE5b0IsS0FBQS9rQyxRQUVBd3RELFNBQUFBLFNBQUFucUYsS0FBQSxTQUFBblMsRUFBQW9TLEdBQ0EsT0FBQXBTLEVBQUEwMEUsTUFBQTEwRSxJQUFBb1MsRUFBQXNpRSxNQUFBdGlFLEdBQUEsR0FBQSxLQUdBMG5FLFlBQUEsRUFDQTBKLFNBQUEsRUFDQUMsaUJBQUEsRUFDQXdLLGFBQUEsU0FBQTdpRyxNQUFBeW9GLE1BQ0EsR0FBQStvQixnQkFBQXh4RyxNQUFBMUYsUUFBQSxNQUFBLEdBQ0EsUUFBQWszRyxlQUFBcHJHLFFBQUFxaUYsS0FBQXdvQixhQUFBLEdBQUEsS0FBQU8sZUFBQXByRyxRQUFBcWlGLEtBQUF3b0IsZ0JBQUFPLGVBQUEsSUFBQS9vQixLQUFBd29CLFlBQUFPLGdCQUNBQSxpQkFHQUMsU0FDQWpwQixNQUFBLFFBQ0E5a0MsSUFBQSwwQkFDQXV0RCxZQUFBLEtBQ0E1WSxpQkFBQSxLQUVBOVAsV0FDQThmLE9BQUE5ZixXQUFBLFNBQUF6a0YsRUFBQXlrRixXQUNBLE1BQUFBLFdBQUFtZSxlQUNBZ0wsT0FDQXBvQixLQUFBLElBQ0EwRSxRQUFBLEVBQ0FDLE9BQUEsSUFDQXh1RixNQUFBLEtBQ0FreUcsWUFBQSxLQUNBeGtCLFVBQUEsa05BQ0F5a0IsaUJBQUEsYUFDQWhhLFdBQUEsU0FBQXJKLE9BQUE5RixNQUNBLE1BQUEsSUFBQXNCLFFBQUF0QixLQUFBaHBGLE9BQUFLLEtBQUF5dUYsT0FBQWhwRixLQUFBLE1BRUFvakYsYUFDQTdwRSxHQUNBdXNFLFVBQUEsU0FBQW9LLEtBQUF6RyxRQUFBUSxJQUFBWSxPQUFBM0gsTUFDQSxRQUFBb3BCLFlBQUF4bkIsUUFBQUUsY0FDQTVvRixLQUFBOG9GLFdBQUE5b0YsS0FBQTBvRixRQUFBQSxVQUFBLEVBQUExb0YsS0FBQTRvRixhQUFBQSxlQUFBLEVBQ0E1b0YsS0FBQStvRixZQUNBaDdELElBQUEsRUFDQXkzQyxJQUFBLEdBQ0F4bEUsS0FBQW13RyxhQUFBLE9BRUEsUUFBQUMsZ0JBQ0EsR0FBQXg5RixPQUFBNUQsRUFBQXc3RSxhQUFBLEdBQUEwbEIsWUFBQUcsYUFDQSxLQUFBdnBCLEtBQUFrcEIsZUFBQXA5RixNQUFBazBFLEtBQUEwRSxVQUFBRSxLQUFBNUUsS0FBQWhwRixRQUFBLE9BQUFrUixFQUFBNEQsTUFBQSxHQUNBNUQsRUFBQTI4RSxPQUFBLElBQ0EsSUFBQSxJQUNBMGtCLFdBQUFuekcsS0FBQSxHQUFBZ3pHLGFBQUEsR0FDQSxNQUVBLEtBQUEsSUFDQTNrQixXQUFBOGtCLFdBQUF2bEIsTUFBQXVsQixXQUFBcHdHLE9BQUEsRUFBQW93RyxXQUFBQSxXQUFBcHdHLE9BQUEsR0FBQTZvRixRQUFBNXJGLEtBQUFxdUYsWUFBQWYsYUFBQTFCLFFBQUE1ckYsS0FBQXF1RixXQUNBLE1BRUEsS0FBQSxJQUNBLElBQUEsSUFDQSxJQUFBLElBQ0EsR0FBQStrQixpQkFBQSxHQUFBSixhQUFBLEdBQUEsRUFDQWxoRyxHQUFBQSxFQUFBclcsUUFBQSxRQUFBLEdBQ0EsSUFBQW16RixJQUFBOThFLEVBQUE3VixNQUFBLEtBQUE0eUYsSUFBQTc3RCxNQUFBNDdELEdBQUEsSUFBQUEsR0FBQSxHQUFBanNGLFNBQUFpc0YsR0FBQSxJQUFBRSxJQUFBLElBQUFGLEdBQUE3ckYsT0FBQThyRixJQUFBNzdELE1BQUE0N0QsR0FBQSxJQUFBQSxHQUFBLEdBQUFqc0YsU0FBQWlzRixHQUFBLEdBQ0EsSUFBQXdrQixnQkFBQXZuQixZQUNBaDdELElBQUFnK0QsSUFDQXZtQixJQUFBd21CLEtBQ0Fxa0IsV0FBQXB3RyxPQUFBLEVBQUEsQ0FDQSxHQUFBNm9GLFNBQUF1bkIsV0FBQUEsV0FBQXB3RyxPQUFBLEdBQUE2b0YsT0FDQWwyRSxPQUFBazJFLFFBQUFnQyxNQUFBbDRFLE1BQUE4MUUsVUFBQTZDLFdBQUEsR0FBQTJrQixhQUFBLEdBQUEza0IsV0FBQXpDLFFBQUE1ckYsS0FBQTBWLE9BQ0FBLE1BQUEyNEUsWUFBQXpDLFFBQUE1ckYsS0FBQTBWLE9BQUFrMkUsUUFBQTVyRixLQUFBb3pHLHFCQUNBMTlGLE9BQUE0M0UsYUFBQTFCLFFBQUFnQyxNQUFBbDRFLE1BQUE4MUUsVUFBQTZDLFdBQUEsR0FBQTJrQixhQUFBLEdBQ0Eza0IsV0FBQXpDLFFBQUE1ckYsS0FBQTBWLE9BQUFBLE1BQUEyNEUsWUFBQWYsYUFBQTFCLFFBQUE1ckYsS0FBQTBWLE9BQ0E0M0UsYUFBQTFCLFFBQUE1ckYsS0FBQW96RyxnQkFDQSxNQUVBLFNBQ0FELFdBQUFwd0csT0FBQSxFQUFBb3dHLFdBQUFBLFdBQUFwd0csT0FBQSxHQUFBNm9GLFFBQUE1ckYsS0FBQThSLEdBQUF3N0UsYUFBQTFCLFFBQUE1ckYsS0FBQThSLEdBRUF3N0UsYUFBQTFCLFFBQUE3b0YsT0FBQSxHQUFBNm1GLEtBQUFrcEIsWUFBQTl5RyxLQUFBc3RGLGNBRUEsUUFBQStsQixvQkFBQS9xQixNQUFBZ3JCLFdBQ0EsR0FBQUMsVUFBQSxDQUNBRCxhQUFBRSxXQUFBLElBQUFDLGlCQUNBLEtBQUEsR0FBQTVsQixNQUFBLEVBQUFBLEtBQUF2RixNQUFBc0QsUUFBQTdvRixPQUFBOHFGLE9BQUEsQ0FDQSxHQUFBNmxCLFlBQUFwckIsTUFBQXNELFFBQUFpQyxLQUNBLElBQUE2bEIsV0FBQWxvQixXQUFBLEVBQUErbkIsUUFBQUYsbUJBQUFLLFlBQUEsT0FBQSxJQUFBQSxXQUFBaG9CLGdCQUFBLEVBQUEsQ0FDQSxHQUFBaW9CLFVBQUExdUcsRUFBQWl2RixRQUFBd2YsV0FBQXByQixNQUFBc0QsU0FBQWdvQixXQUFBdHJCLE1BQUFzRCxRQUFBK25CLFNBQUEsR0FBQUUsYUFBQUwsU0FDQSxJQUFBeGdGLE1BQUEwZ0YsV0FBQTduQixXQUFBdmpCLEtBQUEsQ0FDQSxLQUFBb3JDLFdBQUFULGNBQUFTLFdBQUFULGVBQUFPLFdBQUFFLFdBQUFULGFBQUFsd0csT0FBQXl3RyxVQUFBendHLFVBQUF3d0csUUFBQUYsbUJBQUFPLFlBQUEsTUFDQUwsUUFBQUEsU0FBQUYsbUJBQUFPLFlBQUEsR0FBQUwsVUFBQUcsV0FBQVQsYUFBQU8sV0FDQUEsVUFBQUssYUFBQUgsV0FBQTduQixXQUFBdmpCLFFBQ0EsQ0FDQSxJQUFBLEdBQUE5aUUsR0FBQSxFQUFBc3VHLEdBQUFKLFdBQUE3bkIsV0FBQXZqQixJQUFBLEVBQUF3ckMsR0FBQXR1RyxLQUFBK3RHLFFBQUFGLG1CQUFBTyxZQUFBLElBQUFwdUcsS0FDQWd1RyxVQUFBSyxhQUFBLElBQUFILFdBQUE3bkIsV0FBQWg3RCxJQUFBLElBQUE2aUYsV0FBQTduQixXQUFBdmpCLElBQUEsU0FFQSxJQUFBLFNBQUFvckMsV0FBQTluQixRQUFBLElBQUEsR0FBQXRwQixHQUFBLEVBQUFBLEVBQUFveEMsV0FBQTN3RyxVQUFBd3dHLFFBQUFGLG1CQUFBSyxXQUFBcHhDLEdBQUFneEMsWUFBQWh4QyxTQUFBLENBQ0EsR0FBQXl4QyxRQUNBLElBQUEsS0FBQUwsV0FBQWpsQixPQUFBLEdBQUEsQ0FDQXNsQixRQUFBUCxVQUFBTyxTQUFBTCxVQUNBLEtBQUEsR0FBQXRoQixHQUFBLEVBQUFxaEIsZUFBQXJoQixFQUFBQSxJQUFBMmhCLFNBQUEsR0FDQSxJQUFBQyxLQUFBLEdBQUE5b0IsUUFBQSxLQUFBNm9CLFFBQUEsS0FDQVIsU0FBQVMsSUFBQS95RyxLQUFBZ3pHLGVBQ0EsS0FBQSxHQUFBdDBGLEdBQUEsRUFBQXUwRixHQUFBUixXQUFBM3dHLE9BQUFteEcsR0FBQXYwRixFQUFBQSxJQUFBLEdBQUEsT0FBQSt6RixXQUFBamxCLE9BQUE5dUUsR0FBQSxDQUNBbzBGLFFBQUFQLFVBQUFPLFNBQUFMLFdBQUE3aEcsT0FBQSxFQUFBOE4sRUFBQSxHQUFBbzBGLFFBQUFBLFFBQUF0NEcsUUFBQSxNQUFBLEdBQ0EsS0FBQSxHQUFBMjJGLEdBQUEsRUFBQXFoQixlQUFBcmhCLEVBQUFBLElBQUEyaEIsU0FBQSxHQUNBLElBQUFDLEtBQUEsR0FBQTlvQixRQUFBLEtBQUE2b0IsUUFBQSxLQUNBLElBQUFSLFFBQUFTLElBQUEveUcsS0FBQWd6RyxXQUFBLE1BRUFULFdBQUFFLFdBRUEsR0FBQUgsUUFBQSxNQUVBLE1BQUFELGFBQUFFLFdBQUEsSUFBQUMsa0JBQUFGLFFBRUEsR0FBQWxsQixZQUFBOGxCLFFBQUFoa0IsUUFBQVQsT0FBQXJ3RSxRQUFBbTBGLFVBQUEsR0FBQWhuQyxTQUFBLEVBQUFpbkMsZUFBQSxDQUNBLFFBQUE3cEIsS0FBQWtwQixhQUFBSSxlQUFBaUIsUUFBQTNzRyxPQUFBbXBGLElBQUEsRUFBQWlHLEtBQ0EsS0FBQSxHQUFBcWQsV0FBQUUsUUFBQXp0RyxLQUFBLElBQUFsQixFQUFBLEVBQUFBLEVBQUFva0YsS0FBQWtwQixZQUFBL3ZHLE9BQUF5QyxJQUFBLENBQ0EsR0FBQTR1RyxZQUFBeHFCLEtBQUFrcEIsWUFBQXR0RyxFQUNBLElBQUFnbkUsUUFBQTZtQyxtQkFBQWUsV0FBQUEsV0FBQTVvQixTQUFBLE1BRUEsTUFBQWhmLFVBRUErZixZQUFBLE9BSUE3QyxXQUNBOGYsT0FBQTlmLFdDempGQSxXQUNBLFlBQ0EsSUFBQTJxQixLQUFBcDVHLFFBQUFDLE9BQUEsT0FDQSxhQUFBLFlBQUEsWUFBQSxVQUFBLGVBQUEsdUJBQUEsa0JBQUEsY0FBQSxTQUNBLGlCQUFBLFlBQUEsa0JBQUEsZUFBQSxjQUFBLDhCQUFBLG9CQUFBLGlCQUNBLGlCQUFBLHFCQUFBLG1CQUFBLHNCQUFBLGVBQUEsWUFBQSxjQUFBLG1CQUVBbTVHLEtBQUFsNUcsU0FBQSxhQUFBLHdDQUtBazVHLElBQUFsNUcsU0FBQSxjQUFBLGNBRUFrNUcsSUFBQUMsS0FBQSxhQUFBLGlCQUFBLFdBQUEsU0FBQSxjQUFBLFNBQUFueEcsV0FBQW94RyxlQUFBbnhHLFNBQUE5RixPQUFBdTdFLGFBQ0ExMUUsV0FBQW92QixJQUFBLG9CQUFBLFNBQUFoekIsTUFBQWlsRCxRQUFBQyxTQUFBQyxVQUFBQyxZQUNBbG1ELFNBQUEyRSxTQUFBRSxJQUFBLGFBQUEsS0FBQUYsU0FBQUUsSUFBQSxjQUFBa2hELFFBQUFnd0QsY0FNQXJ4RyxXQUFBMEQsZ0JBQUFDLGFBQUEsR0FFQXl0RyxlQUFBRSxhQUVBLEtBQUFqd0QsUUFBQUssS0FFQTUvQyxFQUFBLGtCQUFBekUsVUFYQTJDLFdBQUFnM0UsY0FBQTMxQixRQUFBeHhDLEtBQ0E3UCxXQUFBaTNFLG9CQUFBMzFCLFNBQUFybEQsR0FDQUcsTUFBQUssaUJBQ0F0QyxPQUFBNkIsR0FBQSxVQVdBZ0UsV0FBQTQyRSxZQUFBbEIsY0FHQTExRSxXQUFBb3ZCLElBQUEsc0JBQUEsU0FBQWh6QixNQUFBaWxELFFBQUFDLFNBQUFDLFVBQUFDLFdBQUEzOUMsT0FDQTdELFdBQUEwRCxlQUFBQyxhQUFBLElBR0EzRCxXQUFBb3ZCLElBQUEsb0JBQUEsU0FBQWh6QixNQUFBaWxELFFBQUFDLFNBQUFDLFVBQUFDLFdBQUEzOUMsT0FDQTdELFdBQUEwRCxlQUFBQyxhQUFBLEVBQ0FxSSxNQUFBLHlCQUFBbkksTUFBQXRJLE9BQUEsS0FBQXNJLE1BQUFDLFdBQUEsNkNBQUFELE1BQUEwdEcsT0FBQTd2RCxJQUFBLHVDQUtBd3ZELElBQUFLLFFBQUEsaUJBQUEscUJBQ0EsU0FBQUMsZUFBQUMsb0JBR0FBLG1CQUFBQyxVQUFBLEtBSUFGLGVBRUFqdkcsTUFBQSxTQUNBbS9DLElBQUEsSUFDQTVzQyxZQUFBLCtCQUNBN2EsV0FBQSxhQUlBc0ksTUFBQSxPQUNBbS9DLElBQUEsT0FDQWl3RCxPQUNBLElBQ0ExM0csV0FBQSxnQkFDQTZhLFlBQUEsMEJBRUE4OEYsa0JBQ0E5OEYsWUFBQSxnQ0FDQTdhLFdBQUEsdUJBQ0FpUSxTQUNBN08sRUFBQSxRQUNBc0YsVUFBQSxTQUFBdEYsR0FDQSxNQUFBQSxHQUFBNHVCLFNBQUF0Z0IsVUFFQWtvRyxNQUFBLGNBQ0FqeEcsWUFBQSxTQUFBaXhHLE9BQ0EsTUFBQUEsT0FBQTVuRixTQUFBdGdCLFVBRUFtb0csTUFBQSxlQUNBanhHLGFBQUEsU0FBQWl4RyxPQUNBLE1BQUFBLE9BQUE3bkYsU0FBQXRnQjs7SUFJQW9vRyxtQkFDQWo5RixZQUFBLHNDQUNBN2EsV0FBQSx5QkFFQSszRyxvQkFBQWw5RixZQUFBLG1DQUFBN2EsV0FBQSxzQkFDQWc0Ryx3QkFDQW45RixZQUFBLHlDQUNBNUssU0FDQW9KLEdBQUEsa0JBQ0FpVSxlQUFBLFNBQUFqVSxJQUNBLE1BQUFBLElBQUEyVyxTQUFBdGdCLFVBRUFjLEdBQUEsY0FDQStzRCxZQUFBLFNBQUEvc0QsSUFDQSxNQUFBQSxJQUFBd2YsU0FBQXRnQixXQUdBMVAsV0FBQSxpQ0FLQXNJLE1BQUEsWUFDQW0vQyxJQUFBLFlBQ0E1c0MsWUFBQSxtQ0FDQTdhLFdBQUEsZUFDQW8zRyxjQUFBLEVBQ0FubkcsU0FDQTdPLEVBQUEsUUFDQXNGLFVBQUEsU0FBQXRGLEdBQ0EsTUFBQUEsR0FBQTR1QixTQUFBdGdCLFVBRUFvbEIsRUFBQSxXQUNBODJDLFdBQUEsU0FBQTkyQyxHQUNBLE1BQUFBLEdBQUE5RSxTQUFBdGdCLFVBRUF0SCxFQUFBLGFBQ0EwOUUsZUFBQSxTQUFBMTlFLEdBQ0EsTUFBQUEsR0FBQTRuQixTQUFBdGdCLFVBRUFuRixHQUFBLGNBQ0FnakIsZUFBQSxTQUFBaGpCLElBQ0EsTUFBQUEsSUFBQXlsQixTQUFBdGdCLFVBRUEySixHQUFBLGtCQUNBdE8sWUFBQSxTQUFBc08sSUFDQSxNQUFBQSxJQUFBMlcsU0FBQXRnQixVQUVBMDVELEdBQUEsY0FDQW5nQyxZQUFBLFNBQUFtZ0MsSUFDQSxNQUFBQSxJQUFBcDVDLFNBQUF0Z0IsVUFFQWdyQixHQUFBLFdBQ0FzTyxZQUFBLFNBQUF0TyxJQUNBLE1BQUFBLElBQUExSyxTQUFBdGdCLGFBS0FwSCxNQUFBLGNBQ0FtL0MsSUFBQSxjQUNBNXNDLFlBQUEsdUNBQ0E3YSxXQUFBLGlCQUNBbzNHLGNBQUEsRUFDQW5uRyxTQUNBN08sRUFBQSxRQUNBc0YsVUFBQSxTQUFBdEYsR0FDQSxNQUFBQSxHQUFBNHVCLFNBQUF0Z0IsVUFFQWtvRyxNQUFBLGNBQ0FqeEcsWUFBQSxTQUFBaXhHLE9BQ0EsTUFBQUEsT0FBQTVuRixTQUFBdGdCLFVBRUFtb0csTUFBQSxlQUNBanhHLGFBQUEsU0FBQWl4RyxPQUNBLE1BQUFBLE9BQUE3bkYsU0FBQXRnQixhQUtBcEgsTUFBQSxhQUNBbS9DLElBQUEsYUFDQXd3RCxZQUFBLEVBQ0FwOUYsWUFBQSxxQ0FDQTdhLFdBQUEsZ0JBQ0FvM0csY0FBQSxFQUNBbm5HLFNBQ0F4SyxFQUFBLFFBQ0F1ZixVQUFBLFNBQUF2ZixHQUNBLE1BQUFBLEdBQUF1cUIsU0FBQXRnQixVQUVBcEgsTUFBQSxRQUNBdzdCLFVBQUEsU0FBQXg3QixPQUNBLE1BQUFBLE9BQUEwbkIsU0FBQXRnQixVQUVBbVQsRUFBQSxTQUNBcWtDLFdBQUEsU0FBQXJrQyxHQUNBLE1BQUFBLEdBQUFtTixTQUFBdGdCLFVBRUFtaUMsR0FBQSxhQUNBL0QsY0FBQSxTQUFBK0QsSUFDQSxNQUFBQSxJQUFBN2hCLFNBQUF0Z0IsVUFFQXdoQyxHQUFBLGVBQ0FpVyxlQUFBLFNBQUFqVyxJQUNBLE1BQUFBLElBQUFsaEIsU0FBQXRnQixVQUVBdy9CLEdBQUEsU0FDQTloQixZQUFBLFNBQUE4aEIsSUFDQSxNQUFBQSxJQUFBbGYsU0FBQXRnQixVQUVBdTNDLGNBQUEsU0FBQXBrQyxFQUFBN2MsVUFDQSxHQUFBcWxGLEtBQUFybEYsU0FBQUUsSUFBQSxNQUNBLE9BQUEyYyxHQUFBbW5FLGtCQUFBa3VCLFNBQUE3c0IsTUFBQTM3RSxhQU1BcEgsTUFBQSx3QkFDQW0vQyxJQUFBLGFBQ0E1c0MsWUFBQSw4Q0FDQTdhLFdBQUEsb0JBQ0FvM0csY0FBQSxFQUNBbm5HLFNBQ0E0UyxFQUFBLFNBQ0E2aEMsZ0JBQUEsU0FBQTdoQyxHQUNBLE1BQUFBLEdBQUFtTixTQUFBdGdCLGFBTUFwSCxNQUFBLDBCQUNBbS9DLElBQUEsZ0JBQ0E1c0MsWUFBQSx3Q0FDQTdhLFdBQUEsbUJBQ0FvM0csY0FBQSxJQUdBOXVHLE1BQUEsNEJBQ0FtL0MsSUFBQSxrQkFDQTVzQyxZQUFBLDBDQUNBdThGLGNBQUEsSUFHQTl1RyxNQUFBLFlBQ0FtL0MsSUFBQSxZQUNBNXNDLFlBQUEsbUNBQ0E3YSxXQUFBLGVBQ0FvM0csY0FBQSxJQUlBOXVHLE1BQUEsV0FDQW0vQyxJQUFBLFdBQ0E0Z0MsUUFBQXJtRixHQUFBLE1BQ0FpMkcsWUFBQSxFQUNBbDRHLFNBQUEsc0JBQ0FDLFdBQUEsYUFDQW8zRyxjQUFBLEVBQ0FubkcsU0FDQTRTLEVBQUEsT0FDQXF2QyxTQUFBLFNBQUFydkMsR0FDQSxNQUFBQSxHQUFBbU4sU0FBQXRnQixVQUVBaUosRUFBQSxTQUNBeVUsWUFBQSxTQUFBelUsR0FDQSxNQUFBQSxHQUFBcVgsU0FBQXRnQixVQUVBaWpELGNBQUEsU0FBQVYsY0FDQSxNQUFBNXdELFVBQUE0d0QsYUFBQWp3RCxHQUNBaXdELGFBQUFqd0QsR0FEQSxXQVFBc0csTUFBQSx1QkFDQW0vQyxJQUFBLGVBQ0E1c0MsWUFBQSxvQ0FDQXU4RixjQUFBLElBSUE5dUcsTUFBQSxVQUNBbS9DLElBQUEsVUFDQXd3RCxZQUFBLEVBQ0FsNEcsU0FBQSxzQkFDQUMsV0FBQSxZQUNBbzNHLGNBQUEsRUFDQW5uRyxTQUNBeEssRUFBQSxRQUNBdWYsVUFBQSxTQUFBdmYsR0FDQSxNQUFBQSxHQUFBdXFCLFNBQUF0Z0IsVUFFQW1pQyxHQUFBLGFBQ0EvRCxjQUFBLFNBQUErRCxJQUNBLE1BQUFBLElBQUE3aEIsU0FBQXRnQixVQUVBd2hDLEdBQUEsZUFDQXJELGNBQUEsU0FBQXFELElBQ0EsTUFBQUEsSUFBQWxoQixTQUFBdGdCLFVBRUFnRixFQUFBLFNBQ0Erd0UsZ0JBQUEsU0FBQS93RSxFQUFBdlUsTUFBQTZGLFVBR0EsTUFGQTdGLE9BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBOFQsRUFBQWsxRSxnQkFBQXV1QixPQUFBLElBQUF6b0csYUFNQXBILE1BQUEscUJBQ0FtL0MsSUFBQSxjQUNBNXNDLFlBQUEsa0NBQ0F1OEYsY0FBQSxJQUdBOXVHLE1BQUEsb0JBQ0FtL0MsSUFBQSxpQkFDQTVzQyxZQUFBLGlDQUNBN2EsV0FBQSxnQkFDQW8zRyxjQUFBLEVBQ0FubkcsU0FDQXhLLEVBQUEsUUFDQWk2QyxVQUFBLFNBQUFqNkMsRUFBQXdzRCxjQUNBLEdBQUFsaEMsU0FBQWtoQyxhQUFBandELEVBQ0EsT0FBQSt1QixTQUFBLEVBQ0F0ckIsRUFBQThTLE9BQ0F2VyxHQUFBK3VCLFVBQUFyaEIsU0FGQSxXQVFBcEgsTUFBQSxhQUNBbS9DLElBQUEsYUFDQXd3RCxZQUFBLEVBQ0FsNEcsU0FBQSxzQkFDQUMsV0FBQSxnQkFDQW8zRyxjQUFBLEVBQ0FubkcsU0FDQTNILE1BQUEsUUFDQXc3QixVQUFBLFNBQUF4N0IsT0FDQSxNQUFBQSxPQUFBMG5CLFNBQUF0Z0IsVUFFQXcvQixHQUFBLFNBQ0E5aEIsWUFBQSxTQUFBOGhCLElBQ0EsTUFBQUEsSUFBQWxmLFNBQUF0Z0IsVUFFQW9sQixFQUFBLGVBQ0E4WSxnQkFBQSxTQUFBOVksR0FDQSxNQUFBQSxHQUFBOUUsU0FBQXRnQixVQUVBblEsRUFBQSxzQkFDQXlrQyxvQkFBQSxTQUFBemtDLEdBQ0EsTUFBQUEsR0FBQXl3QixTQUFBdGdCLFVBRUF3aEMsR0FBQSxlQUNBckQsY0FBQSxTQUFBcUQsSUFDQSxNQUFBQSxJQUFBbGhCLFNBQUF0Z0IsVUFFQW1pQyxHQUFBLGFBQ0EvRCxjQUFBLFNBQUErRCxJQUNBLE1BQUFBLElBQUE3aEIsU0FBQXRnQixVQUVBc0ksR0FBQSxZQUNBeVYsYUFBQSxTQUFBelYsSUFDQSxNQUFBQSxJQUFBZ1ksU0FBQXRnQixVQUVBc2pDLElBQUEsMEJBQ0FuUCxrQkFBQSxTQUFBbVAsS0FDQSxNQUFBQSxLQUFBaGpCLFNBQUF0Z0IsVUFFQXcyQixHQUFBLG1CQUNBdEMsYUFBQSxTQUFBc0MsSUFDQSxNQUFBQSxJQUFBbFcsU0FBQXRnQixVQUVBZ3JCLEdBQUEsZUFDQXFULGNBQUEsU0FBQXJULElBQ0EsTUFBQUEsSUFBQTFLLFNBQUF0Z0IsVUFFQTA1RCxHQUFBLGNBQ0FwN0IsZ0JBQUEsU0FBQW83QixJQUNBLE1BQUFBLElBQUFwNUMsU0FBQXRnQixVQUVBMG9HLEtBQUEsV0FDQW5xRSxZQUFBLFNBQUFtcUUsTUFDQSxNQUFBQSxNQUFBcG9GLFNBQUF0Z0IsVUFFQW1tQyxJQUFBLHNCQUNBM0gseUJBQUEsU0FBQTJILEtBQ0EsTUFBQUEsS0FBQTdsQixTQUFBdGdCLFVBRUFnRixFQUFBLFNBQ0EweUIsV0FBQSxTQUFBMXlCLEdBQ0EsTUFBQUEsR0FBQXNiLFNBQUF0Z0IsVUFFQWlwQixHQUFBLGVBQ0FzTCxnQkFBQSxTQUFBdEwsSUFDQSxNQUFBQSxJQUFBM0ksU0FBQXRnQixVQUVBK25DLElBQUEsYUFDQXRKLGtCQUFBLFNBQUFzSixLQUNBLE1BQUFBLEtBQUF6bkIsU0FBQXRnQixVQUVBd29DLElBQUEsVUFDQTlKLGNBQUEsU0FBQThKLEtBQ0EsTUFBQUEsS0FBQWxvQixTQUFBdGdCLFVBRUFtcEMsR0FBQSxlQUNBMXJCLGdCQUFBLFNBQUEwckIsSUFDQSxNQUFBQSxJQUFBN29CLFNBQUF0Z0IsVUFFQTJKLEdBQUEsa0JBQ0E2bEIsbUJBQUEsU0FBQTdsQixJQUNBLE1BQUFBLElBQUEyVyxTQUFBdGdCLFVBRUEyb0csTUFBQSxjQUNBOTBGLGVBQUEsU0FBQTgwRixPQUNBLE1BQUFBLE9BQUFyb0YsU0FBQXRnQixVQUVBbkYsR0FBQSxjQUNBZ2pCLGVBQUEsU0FBQWhqQixJQUNBLE1BQUFBLElBQUF5bEIsU0FBQXRnQixVQUVBNG9CLEdBQUEsZUFDQTRMLGdCQUFBLFNBQUE1TCxJQUNBLE1BQUFBLElBQUF0SSxTQUFBdGdCLFVBRUFtdUMsSUFBQSx1QkFDQXhQLHVCQUFBLFNBQUF3UCxLQUNBLE1BQUFBLEtBQUE3dEIsU0FBQXRnQixVQUVBc04sR0FBQSxpQkFDQXN4QixrQkFBQSxTQUFBdHhCLElBQ0EsTUFBQUEsSUFBQWdULFNBQUF0Z0IsYUFNQXBILE1BQUEsMkJBQ0FtL0MsSUFBQSxpQkFDQTVzQyxZQUFBLHlDQUNBdThGLGNBQUEsSUFJQTl1RyxNQUFBLGtDQUNBbS9DLElBQUEsWUFDQTVzQyxZQUFBLGtDQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLHVDQUNBbS9DLElBQUEsZ0JBQ0E1c0MsWUFBQSx1Q0FDQXU4RixjQUFBLElBRUE5dUcsTUFBQSx1Q0FDQW0vQyxJQUFBLHdCQUNBNXNDLFlBQUEsOENBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEsdUNBQ0FtL0MsSUFBQSxlQUNBNXNDLFlBQUEsdUNBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEscUNBQ0FtL0MsSUFBQSxjQUNBNXNDLFlBQUEscUNBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEsb0NBQ0FtL0MsSUFBQSxhQUNBNXNDLFlBQUEsb0NBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEsd0NBQ0FtL0MsSUFBQSx5QkFDQTVzQyxZQUFBLHNEQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLG9DQUNBbS9DLElBQUEsb0JBQ0E1c0MsWUFBQSwyQ0FDQXU4RixjQUFBLElBRUE5dUcsTUFBQSx1Q0FDQW0vQyxJQUFBLGdCQUNBNXNDLFlBQUEsdUNBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEsbUNBQ0FtL0MsSUFBQSxnQkFDQTVzQyxZQUFBLHNDQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLG1DQUNBbS9DLElBQUEsWUFDQTVzQyxZQUFBLG1DQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLDhDQUNBbS9DLElBQUEsdUJBQ0E1c0MsWUFBQSx5REFDQXU4RixjQUFBLElBRUE5dUcsTUFBQSxrQ0FDQW0vQyxJQUFBLFdBQ0E1c0MsWUFBQSxrQ0FDQXU4RixjQUFBLElBRUE5dUcsTUFBQSx3Q0FDQW0vQyxJQUFBLGdCQUNBNXNDLFlBQUEsd0NBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEscUNBQ0FtL0MsSUFBQSxxQkFDQTVzQyxZQUFBLGlEQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLGtDQUNBbS9DLElBQUEsZ0JBQ0E1c0MsWUFBQSw4Q0FDQXU4RixjQUFBLElBRUE5dUcsTUFBQSx1Q0FDQW0vQyxJQUFBLGdCQUNBNXNDLFlBQUEsdUNBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEsc0NBQ0FtL0MsSUFBQSx5QkFDQTVzQyxZQUFBLDBDQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLHNDQUNBbS9DLElBQUEsZUFDQTVzQyxZQUFBLHNDQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLHNDQUNBbS9DLElBQUEsZUFDQTVzQyxZQUFBLHNDQUNBdThGLGNBQUEsSUFFQTl1RyxNQUFBLHVDQUNBbS9DLElBQUEsZ0JBQ0E1c0MsWUFBQSx1Q0FDQXU4RixjQUFBLElBRUE5dUcsTUFBQSwwQ0FDQW0vQyxJQUFBLHVCQUNBNXNDLFlBQUEsb0RBQ0F1OEYsY0FBQSxJQUVBOXVHLE1BQUEscUNBQ0FtL0MsSUFBQSxrQkFDQTVzQyxZQUFBLHlDQUNBdThGLGNBQUEsSUFJQTl1RyxNQUFBLGNBQ0FtL0MsSUFBQSx1QkFDQTVzQyxZQUFBLGdDQUNBdThGLGNBQUEsRUFDQXAzRyxXQUFBLGlCQUNBaVEsU0FDQXhLLEVBQUEsUUFDQW9HLFVBQUEsU0FBQXBHLEdBQ0EsTUFBQUEsR0FBQXVxQixTQUFBdGdCLFVBRUF0TyxFQUFBLFFBQ0FzRixVQUFBLFNBQUF0RixHQUNBLE1BQUFBLEdBQUE0dUIsU0FBQXRnQixVQUVBb2xCLEVBQUEsV0FDQTgyQyxXQUFBLFNBQUE5MkMsR0FDQSxNQUFBQSxHQUFBOUUsU0FBQXRnQixhQU1BcEgsTUFBQSxXQUNBbS9DLElBQUEsc0JBQ0E1c0MsWUFBQSw2QkFDQXU4RixjQUFBLEVBQ0FwM0csV0FBQSxjQUNBaVEsU0FDQXhLLEVBQUEsUUFDQW9HLFVBQUEsU0FBQXBHLEdBQ0EsTUFBQUEsR0FBQXVxQixTQUFBdGdCLFVBRUF0TyxFQUFBLFFBQ0FzRixVQUFBLFNBQUF0RixHQUNBLE1BQUFBLEdBQUE0dUIsU0FBQXRnQixVQUVBb2xCLEVBQUEsV0FDQTgyQyxXQUFBLFNBQUE5MkMsR0FDQSxNQUFBQSxHQUFBOUUsU0FBQXRnQixVQUVBZ3JCLEdBQUEsV0FDQXNPLFlBQUEsU0FBQXRPLElBQ0EsTUFBQUEsSUFBQTFLLFNBQUF0Z0IsVUFFQWdGLEVBQUEsU0FDQXcwQixXQUFBLFNBQUF4MEIsR0FDQSxNQUFBQSxHQUFBc2IsU0FBQXRnQixVQUVBMDVELEdBQUEsY0FDQW5nQyxZQUFBLFNBQUFtZ0MsSUFDQSxNQUFBQSxJQUFBcDVDLFNBQUF0Z0IsVUFFQXcyQixHQUFBLG1CQUNBdXBDLGVBQUEsU0FBQXZwQyxJQUNBLE1BQUFBLElBQUFsVyxTQUFBdGdCLFVBRUFzakMsSUFBQSwwQkFDQTA4QixnQkFBQSxTQUFBMThCLEtBQ0EsTUFBQUEsS0FBQWhqQixTQUFBdGdCLFVBRUFzTixHQUFBLGlCQUNBalIsY0FBQSxTQUFBaVIsSUFDQSxNQUFBQSxJQUFBZ1QsU0FBQXRnQixVQUVBbXVDLElBQUEsdUJBQ0E4eEIsaUJBQUEsU0FBQTl4QixLQUNBLE1BQUFBLEtBQUE3dEIsU0FBQXRnQixVQUVBeUwsRUFBQSxZQUNBeTBELGNBQUEsU0FBQXowRCxHQUNBLE1BQUFBLEdBQUE2VSxTQUFBdGdCLFVBRUFpSixFQUFBLFNBQ0FrM0QsYUFBQSxTQUFBbDNELEdBQ0EsTUFBQUEsR0FBQXFYLFNBQUF0Z0IsYUFNQXBILE1BQUEsUUFDQW0vQyxJQUFBLFlBQ0F3d0QsWUFBQSxFQUNBNXZCLFFBQ0FybUYsR0FBQSxLQUNBeStELFVBQUExOEQsTUFBQSxLQUFBdTBHLFFBQUEsR0FDQTMzQyxXQUFBNThELE1BQUEsS0FBQXUwRyxRQUFBLElBRUF6OUYsWUFBQSwyQkFDQXU4RixjQUFBLEVBQ0FwM0csWUFBQSxTQUFBLGVBQUEsY0FBQSxnQkFBQSxTQUFBQyxPQUFBZ3lELGFBQUEvc0MsWUFBQXlmLGVBQ0Exa0MsT0FBQSsvRCxPQUFBL04sYUFBQWp3RCxHQUNBa2pCLFlBQUF5RixtQkFBQSxLQUFBMXFCLE9BQUErL0QsT0FBQXI3QixjQUFBNWdDLE1BQ0EsV0FFQWtNLFNBRUE3TyxFQUFBLE9BQ0F1akMsY0FBQSxTQUFBdmpDLEVBQUE2d0QsY0FDQSxNQUFBQSxjQUFBandELEdBQUEsRUFDQVosRUFBQStvRixxQkFBQW5vRixHQUFBaXdELGFBQUFqd0QsS0FBQTBOLFNBREEsUUFJQXNkLFNBQUEsU0FBQTVyQixFQUFBNndELGNBQ0EsTUFBQUEsY0FBQWp3RCxHQUFBLEVBQ0FaLEVBQUFtWCxPQUFBdlcsR0FBQWl3RCxhQUFBandELEtBQUEwTixTQURBLFFBSUEwaEIsUUFBQSxTQUFBNmdDLGNBQ0EsR0FBQUEsYUFBQXdPLFNBQUEsQ0FDQSxHQUFBODNDLGVBQUF0bUQsYUFBQXdPLFNBQUF4TyxhQUFBME8sVUFDQSxPQUFBNDNDLGdCQUdBaDFFLHFCQUFBLFNBQUFuaUMsRUFBQTZ3RCxjQUNBLE1BQUFBLGNBQUFqd0QsR0FBQSxFQUNBWixFQUFBb3BGLHFCQUFBeG9GLEdBQUFpd0QsYUFBQWp3RCxLQUFBME4sU0FEQSxRQUlBOHpCLHFCQUFBLFNBQUFwaUMsRUFBQTZ3RCxjQUNBLE1BQUFBLGNBQUFqd0QsR0FBQSxFQUNBWixFQUFBa3BGLHFCQUFBdG9GLEdBQUFpd0QsYUFBQWp3RCxLQUFBME4sU0FEQSxRQUlBK3pCLGlCQUFBLFNBQUFyaUMsRUFBQTZ3RCxjQUNBLE1BQUFBLGNBQUFqd0QsR0FBQSxFQUNBWixFQUFBc3BGLGlCQUFBMW9GLEdBQUFpd0QsYUFBQWp3RCxLQUFBME4sU0FEQSxRQUlBK3NELFlBQUEsU0FBQXI3RCxFQUFBNndELGNBQ0EsTUFBQUEsY0FBQWp3RCxHQUFBLEVBQ0FaLEVBQUEydUIsWUFBQS90QixHQUFBaXdELGFBQUFqd0QsS0FBQTBOLFNBREEsUUFJQXdkLGdCQUFBLFNBQUE5ckIsRUFBQTZ3RCxjQUNBLE1BQUFBLGNBQUFqd0QsR0FBQSxFQUNBWixFQUFBZzRELGdCQUFBcDNELEdBQUFpd0QsYUFBQWp3RCxLQUFBME4sU0FEQSxRQUlBdzZELGFBQUEsU0FBQTlvRSxFQUFBNndELGFBQUE5eEQsTUFBQTZGLFVBQ0EsTUFBQWlzRCxjQUFBandELEdBQUEsR0FDQTdCLE1BQUFNLFNBQUFDLFFBQUFDLE9BQUFxTyxjQUFBLFNBQUFoSixTQUFBRSxJQUFBLFlBQ0EvRixNQUFBTSxTQUFBQyxRQUFBQyxPQUFBQyxPQUFBLG1CQUNBUSxFQUFBdXBGLGFBQUEzb0YsR0FBQWl3RCxhQUFBandELEtBQUEwTixVQUhBLFFBTUE2dUUsY0FBQSxTQUFBbjlFLEVBQUE2d0QsY0FDQSxNQUFBQSxjQUFBandELEdBQUEsRUFDQVosRUFBQTIxRSxjQUFBLzBFLEdBQUFpd0QsYUFBQWp3RCxLQUFBME4sU0FEQSxRQUlBa3BELGNBQUEsU0FBQXgzRCxFQUFBNndELGNBQ0EsTUFBQUEsY0FBQWp3RCxHQUFBLEVBQ0FaLEVBQUFtMEUsY0FBQXZ6RSxHQUFBaXdELGFBQUFqd0QsS0FBQTBOLFNBREEsUUFJQXcyQixHQUFBLG1CQUNBdEMsYUFBQSxTQUFBc0MsSUFDQSxNQUFBQSxJQUFBbFcsU0FBQXRnQixVQUVBc2pDLElBQUEsMEJBQ0FuUCxrQkFBQSxTQUFBbVAsS0FDQSxNQUFBQSxLQUFBaGpCLFNBQUF0Z0IsVUFFQW5GLEdBQUEsUUFDQXU1QixVQUFBLFNBQUF2NUIsSUFDQSxNQUFBQSxJQUFBeWxCLFNBQUF0Z0IsVUFFQW9sQixFQUFBLFdBQ0FpUCxZQUFBLFNBQUFqUCxHQUNBLE1BQUFBLEdBQUE5RSxTQUFBdGdCLFVBRUFnckIsR0FBQSxlQUNBbE4sZ0JBQUEsU0FBQWtOLElBQ0EsTUFBQUEsSUFBQTFLLFNBQUF0Z0IsVUFFQWlwQixHQUFBLGVBQ0FzTCxnQkFBQSxTQUFBdEwsSUFDQSxNQUFBQSxJQUFBM0ksU0FBQXRnQixVQUVBNG9CLEdBQUEsZUFDQTRMLGdCQUFBLFNBQUE1TCxJQUNBLE1BQUFBLElBQUF0SSxTQUFBdGdCLFVBRUEySixHQUFBLGtCQUNBaVUsZUFBQSxTQUFBalUsSUFDQSxNQUFBQSxJQUFBMlcsU0FBQXRnQixVQUVBNjJCLEdBQUEsc0JBQ0F2QyxvQkFBQSxTQUFBdUMsSUFDQSxNQUFBQSxJQUFBdlcsU0FBQXRnQixVQUdBd29DLElBQUEsVUFDQW5SLFdBQUEsU0FBQW1SLEtBQ0EsTUFBQUEsS0FBQWxvQixTQUFBdGdCLFVBRUE4b0csU0FBQSxpQkFDQW5yRixjQUFBLFNBQUFtckYsVUFDQSxNQUFBQSxVQUFBeG9GLFNBQUF0Z0IsVUFFQStvRyxXQUFBLHVCQUNBenhFLGtCQUFBLFNBQUF5eEUsWUFDQSxNQUFBQSxZQUFBem9GLFNBQUF0Z0IsVUFFQWdwRyxPQUFBLGFBQ0F6eEUsZUFBQSxTQUFBeXhFLFFBQ0EsTUFBQUEsUUFBQTFvRixTQUFBdGdCLFVBR0FqSyxFQUFBLFFBQ0F1ZixVQUFBLFNBQUF2ZixHQUNBLE1BQUFBLEdBQUF1cUIsU0FBQXRnQixVQUVBaXBHLEtBQUEsY0FDQXByRixlQUFBLFNBQUFvckYsTUFDQSxNQUFBQSxNQUFBM29GLFNBQUF0Z0IsVUFFQW1wQyxHQUFBLGVBQ0ExckIsZ0JBQUEsU0FBQTByQixJQUNBLE1BQUFBLElBQUE3b0IsU0FBQXRnQixVQUdBeWxDLEtBQUEsV0FDQWpPLFlBQUEsU0FBQWlPLE1BQ0EsTUFBQUEsTUFBQW5sQixTQUFBdGdCLFVBRUEwNUQsR0FBQSxjQUNBamlDLGdCQUFBLFNBQUFpaUMsSUFDQSxNQUFBQSxJQUFBcDVDLFNBQUF0Z0IsVUFFQWdGLEVBQUEsU0FDQTB5QixXQUFBLFNBQUExeUIsR0FDQSxNQUFBQSxHQUFBc2IsU0FBQXRnQixVQUdBc0ksR0FBQSxZQUNBeVYsYUFBQSxTQUFBelYsSUFDQSxNQUFBQSxJQUFBZ1ksU0FBQXRnQixVQUVBaUosRUFBQSxTQUNBeVUsWUFBQSxTQUFBelUsR0FDQSxNQUFBQSxHQUFBcVgsU0FBQXRnQixhQU1BcEgsTUFBQSxrQkFDQW0vQyxJQUFBLGlCQUNBMnZELGNBQUEsRUFDQU0sT0FDQWw2RSxRQUNBeDlCLFlBQUEsU0FBQSxXQUFBLFdBQUEsU0FBQUMsT0FBQStGLFNBQUFnbkIsVUFDQTNyQixTQUFBMnJCLFdBQ0Evc0IsT0FBQXNuRixPQUFBdjZELFNBQUErSSxTQUVBOTFCLE9BQUFSLE9BQUEsV0FBQSxNQUFBdUcsVUFBQUUsSUFBQSxxQkFBQSxTQUFBeEcsVUFDQU8sT0FBQTRHLGFBQUEsT0FBQWIsU0FBQUUsSUFBQSxxQkFBQTdFLFNBQUEyRSxTQUFBRSxJQUFBLG9CQUFBRixTQUFBRSxJQUFBLG9CQUFBLGlCQUdBbkcsU0FBQSx5RkFFQTY0RyxNQUNBNTRHLFdBQUEsY0FDQTZhLFlBQUEsa0NBQ0E1SyxTQUNBNmpCLE1BQUEsU0FBQTlHLFVBQ0EsTUFBQTNyQixVQUFBMnJCLFNBQ0FBLFNBREEsUUFJQTNULEdBQUEsa0JBQ0Fza0IsZ0JBQUEsU0FBQTNRLFNBQUEzVCxJQUNBLE1BQUFoWSxVQUFBMnJCLFNBQUEzVCxHQUFBMlcsU0FBQXRnQixTQUFBLFFBRUF0TyxFQUFBLE9BQ0FzOEIsU0FBQSxTQUFBMVEsU0FBQTVyQixHQUNBLE1BQUFDLFVBQUEyckIsU0FDQTVyQixFQUFBdXBGLGFBQUEzb0YsR0FBQWdyQixTQUFBL3FCLFVBQUF5TixTQURBLFFBSUF0SCxFQUFBLGFBQ0F3MUIsWUFBQSxTQUFBNVEsU0FBQTVrQixHQUNBLE1BQUEvRyxVQUFBMnJCLFNBQ0E1a0IsRUFBQWloRixlQUFBd3ZCLFNBQUEsY0FBQW5wRyxTQURBLFFBSUFtdUIsV0FBQSxTQUFBN1EsU0FBQTVrQixHQUNBLE1BQUEvRyxVQUFBMnJCLFNBQ0E1a0IsRUFBQWloRixlQUFBd3ZCLFNBQUEsYUFBQW5wRyxTQURBLFFBSUFvdUIsV0FBQSxTQUFBOVEsU0FBQTVrQixHQUNBLE1BQUEvRyxVQUFBMnJCLFNBQ0E1a0IsRUFBQWloRixlQUFBd3ZCLFNBQUEsYUFBQW5wRyxTQURBLFFBSUFxdUIsYUFBQSxTQUFBL1EsU0FBQTVrQixHQUNBLE1BQUEvRyxVQUFBMnJCLFNBQ0E1a0IsRUFBQWloRixlQUFBd3ZCLFNBQUEsbUJBQUFucEcsU0FEQSxRQUlBc3VCLFlBQUEsU0FBQWhSLFNBQUE1a0IsR0FDQSxNQUFBL0csVUFBQTJyQixTQUNBNWtCLEVBQUFpaEYsZUFBQXd2QixTQUFBLG9CQUFBbnBHLFNBREEsUUFJQXV1QixnQkFBQSxTQUFBalIsU0FBQTVrQixHQUNBLE1BQUEvRyxVQUFBMnJCLFNBQ0E1a0IsRUFBQWloRixlQUFBd3ZCLFNBQUEsc0JBQUFucEcsU0FEQSxRQUlBd3VCLGFBQUEsU0FBQWxSLFNBQUE1a0IsR0FDQSxNQUFBL0csVUFBQTJyQixTQUNBNWtCLEVBQUFpaEYsZUFBQXd2QixTQUFBLGVBQUFucEcsU0FEQSxRQUlBeXVCLGNBQUEsU0FBQW5SLFNBQUE1a0IsR0FDQSxNQUFBL0csVUFBQTJyQixTQUNBNWtCLEVBQUFpaEYsZUFBQXd2QixTQUFBLGdCQUFBbnBHLFNBREEsUUFJQTB1QixnQkFBQSxTQUFBcFIsU0FBQTVrQixHQUNBLE1BQUEvRyxVQUFBMnJCLFNBQ0E1a0IsRUFBQWloRixlQUFBd3ZCLFNBQUEsa0JBQUFucEcsU0FEQSxVQU1Bb2tCLE9BQ0E5ekIsV0FBQSxXQUNBNmEsWUFBQSxvQ0FFQW1JLElBQ0FoakIsV0FBQSxxQkFDQTZhLFlBQUEsb0RBRUFwUyxRQUNBekksV0FBQSxhQUNBNmEsWUFBQSxvQ0FFQTg2QyxLQUNBMzFELFdBQUEsVUFDQTZhLFlBQUEsOEJBRUFyRCxNQUNBeFgsV0FBQSxXQUNBNmEsWUFBQSxnQ0FFQWkrRixNQUNBOTRHLFdBQUEsV0FDQTZhLFlBQUEsbUNBT0F2UyxNQUFBLGVBQ0FtL0MsSUFBQSxtQkFDQTVzQyxZQUFBLGtDQUNBN2EsV0FBQSxrQkFDQW8zRyxjQUFBLEVBQ0FubkcsU0FDQTYyQixXQUFBLFNBQUFtckIsY0FDQSxNQUFBQSxjQUFBandELElBR0Fra0MsR0FBQSxtQkFDQXRDLGFBQUEsU0FBQXNDLElBQ0EsTUFBQUEsSUFBQWxXLFNBQUF0Z0IsVUFFQXNqQyxJQUFBLDBCQUNBblAsa0JBQUEsU0FBQW1QLEtBQ0EsTUFBQUEsS0FBQWhqQixTQUFBdGdCLFVBRUFuRixHQUFBLFFBQ0F1NUIsVUFBQSxTQUFBdjVCLElBQ0EsTUFBQUEsSUFBQXlsQixTQUFBdGdCLFVBRUFvbEIsRUFBQSxXQUNBaVAsWUFBQSxTQUFBalAsR0FDQSxNQUFBQSxHQUFBOUUsU0FBQXRnQixVQUdBd29DLElBQUEsVUFDQW5SLFdBQUEsU0FBQW1SLEtBQ0EsTUFBQUEsS0FBQWxvQixTQUFBdGdCLFVBRUE4b0csU0FBQSxpQkFDQW5yRixjQUFBLFNBQUFtckYsVUFDQSxNQUFBQSxVQUFBeG9GLFNBQUF0Z0IsVUFFQStvRyxXQUFBLHVCQUNBenhFLGtCQUFBLFNBQUF5eEUsWUFDQSxNQUFBQSxZQUFBem9GLFNBQUF0Z0IsVUFFQWdwRyxPQUFBLGFBQ0F6eEUsZUFBQSxTQUFBeXhFLFFBQ0EsTUFBQUEsUUFBQTFvRixTQUFBdGdCLFVBR0F5bEMsS0FBQSxXQUNBak8sWUFBQSxTQUFBaU8sS0FBQThjLGNBQ0EsTUFBQSxPQUFBQSxhQUFBandELEdBQUFtekMsS0FBQW5sQixTQUFBdGdCLFNBQUEsUUFFQTA1RCxHQUFBLGNBQ0FqaUMsZ0JBQUEsU0FBQWlpQyxHQUFBblgsY0FDQSxNQUFBLE9BQUFBLGFBQUFqd0QsR0FBQW9uRSxHQUFBcDVDLFNBQUF0Z0IsU0FBQSxRQUVBZ0YsRUFBQSxTQUNBMHlCLFdBQUEsU0FBQTF5QixFQUFBdTlDLGNBQ0EsTUFBQSxPQUFBQSxhQUFBandELEdBQUEwUyxFQUFBc2IsU0FBQXRnQixTQUFBLFFBR0EySixHQUFBLGtCQUNBaVUsZUFBQSxTQUFBalUsSUFDQSxNQUFBQSxJQUFBMlcsU0FBQXRnQixVQUVBakssRUFBQSxRQUNBdWYsVUFBQSxTQUFBdmYsRUFBQXdzRCxjQUNBLE1BQUEsVUFBQUEsYUFBQWp3RCxHQUFBeUQsRUFBQXVxQixTQUFBdGdCLFNBQUEsUUFFQWlwRyxLQUFBLGNBQ0FwckYsZUFBQSxTQUFBb3JGLEtBQUExbUQsY0FDQSxNQUFBLFVBQUFBLGFBQUFqd0QsR0FBQTIyRyxLQUFBM29GLFNBQUF0Z0IsU0FBQSxRQUVBbXBDLEdBQUEsZUFDQTFyQixnQkFBQSxTQUFBMHJCLEdBQUFvWixjQUNBLE1BQUEsVUFBQUEsYUFBQWp3RCxHQUFBNjJDLEdBQUE3b0IsU0FBQXRnQixTQUFBLFFBRUFnckIsR0FBQSxlQUNBbE4sZ0JBQUEsU0FBQWtOLElBQ0EsTUFBQUEsSUFBQTFLLFNBQUF0Z0IiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyxcclxuICAgICAgWyduZ0lucHV0TW9kaWZpZWQnLCAndWkudmFsaWRhdGUnLCAnYW5ndWxhci5maWx0ZXInLCAneGVkaXRhYmxlJywgJ2NoZWNrbGlzdC1tb2RlbCcsICduZ0ZpbGVVcGxvYWQnXSk7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJywgW10pO1xyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycsIFtdKTtcclxuXHJcbiAgICAvLyNyZWdpb24gJGNjb2tpZXMgdmFyaWFibGVzXHJcbiAgICAvKlxyXG4gICAgKiBTVE5DcmVkcywgU1ROVXNlcm5hbWUsIHVzZXJzTmFtZSwgbUlELCB1c2Vyc1JvbGUsIFNlc3Npb25FdmVudElELCBTZXNzaW9uRXZlbnROYW1lXHJcbiAgICAqL1xyXG4gICAgLy8jZW5kcmVnaW9uICRjb29raWVzIHZhcmlhYmxlc1xyXG5cclxuICAgIC8vI3JlZ2lvbiBDT05TVEFOVFMgICAgXHJcbiAgICAvL3JlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgYSBwYXNzd29yZCByZXF1aXJlbWVudCBvZiBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZyBhbmQgYXQgbGVhc3QgMyBvZiA0IGNoYXJhY3RlciBjYXRlZ29yaWVzIHVzZWQgKHVwcGVyLCBsb3dlciwgZGlnaXQsIHNwZWNpYWxcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnN0YW50KCdSZWdFeHAnLCB7XHJcbiAgICAgICAgUEFTU1dPUkQ6IC9eKCgoPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbMC05XSkpfCgoPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipbIUBAPyMkJV4mXzo7LV0pKXwoKD89LipbYS16XSkoPz0uKlswLTldKSg/PS4qWyFAQD8jJCVeJl86Oy1dKSl8KCg/PS4qW0EtWl0pKD89LipbMC05XSkoPz0uKlshQEA/IyQlXiZfOjstXSkpKS57OCx9JC9cclxuICAgIH0pO1xyXG4gICAgLy8jZW5kcmVnaW9uIENPTlNUQU5UU1xyXG5cclxuICAgIFxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIC8vdHJ5IHRoaXMgb25lIE1vbmRheTo6OlxyXG4gICAgLy9odHRwOi8vd3d3Lm5nLW5ld3NsZXR0ZXIuY29tL3Bvc3RzL2QzLW9uLWFuZ3VsYXIuaHRtbFxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdiYXJzQ2hhcnQnLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcclxuICAgICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcclxuICAgICAgICAgICAgLy9XZSByZXN0cmljdCBpdHMgdXNlIHRvIGFuIGVsZW1lbnQgYXMgdXN1YWxseSAgPGJhcnMtY2hhcnQ+IGlzIHNlbWFudGljYWxseSBtb3JlIHVuZGVyc3RhbmRhYmxlXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIC8vdGhpcyBpcyBpbXBvcnRhbnQsIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlIG91ciBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaW4gdGhlIEhUTUwgbWFyay11cFxyXG4gICAgICAgICAgICByZXBsYWNlOiBmYWxzZSxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIGRhdGE6ICc9ZWxldmF0aW9uRGF0YSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgLy9jb252ZXJ0aW5nIGFsbCBkYXRhIHBhc3NlZCB0aHJ1IGludG8gYW4gYXJyYXlcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gYXR0cnMuZWxldmF0aW9uRGF0YS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgLy9pbiBEMywgYW55IHNlbGVjdGlvblswXSBjb250YWlucyB0aGUgZ3JvdXAgc2VsZWN0aW9uWzBdWzBdIGlzIHRoZSBET00gbm9kZSBidXQgd2Ugd29uJ3QgbmVlZCB0aGF0IHRoaXMgdGltZVxyXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJ0ID0gZDMuc2VsZWN0KGVsZW1lbnRbMF0pO1xyXG4gICAgICAgICAgICAgICAgLy90byBvdXIgb3JpZ2luYWwgZGlyZWN0aXZlIG1hcmt1cCBiYXJzLWNoYXJ0IHdlIGFkZCBhIGRpdiB3aXRoIG91dCBjaGFydCBzdGxpbmcgYW5kIGJpbmQgZWFjaCBkYXRhIGVudHJ5IHRvIHRoZSBjaGFydFxyXG4gICAgICAgICAgICAgICAgY2hhcnQuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLCBcImNoYXJ0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZGl2JylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShzY29wZS5kYXRhKS5lbnRlcigpLmFwcGVuZChcImRpdlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZWFzZShcImVsYXN0aWNcIilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ3aWR0aFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZCArIFwiJVwiOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7IHJldHVybiBkICsgXCIlXCI7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy9hIGxpdHRsZSBvZiBtYWdpYzogc2V0dGluZyBpdCdzIHdpZHRoIGJhc2VkIG9uIHRoZSBkYXRhIHZhbHVlIChkKSBhbmQgdGV4dCBhbGwgd2l0aCBhIHNtb290aCB0cmFuc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ2RhdGEnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0YSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xyXG4gICAgfV0pO1xyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdzaXRlU2VhcmNoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBtb2RlbDogJz1uZ01vZGVsJyxcclxuICAgICAgICAgICAgICAgIHNlYXJjaEJ5OiAnPScsIC8vcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgIHNlYXJjaFRlcm06ICc9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJzZWFyY2huYXZcIj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWFyY2hieVwiPjxiPlNlYXJjaCBCeTo8L2I+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2VhcmNoYnlvcHRpb25cIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIlNlYXJjaEJ5XCIgbmctbW9kZWw9XCJzZWFyY2hCeS52YWxcIiB2YWx1ZT1cImJ5U2l0ZUlkXCIgLz5JRDwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNlYXJjaGJ5b3B0aW9uXCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJTZWFyY2hCeVwiIG5nLW1vZGVsPVwic2VhcmNoQnkudmFsXCIgdmFsdWU9XCJieVNpdGVOb1wiIC8+TnVtYmVyPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2VhcmNoYnlvcHRpb25cIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIlNlYXJjaEJ5XCIgbmctbW9kZWw9XCJzZWFyY2hCeS52YWxcIiB2YWx1ZT1cImJ5U2l0ZU5hbWVcIiAvPk5hbWU8L2Rpdj48L2Rpdj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWFyY2gtaW5wdXRcIj48aW5wdXQgbmctZm9jdXM9XCJnb1NlYXJjaFwiIHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZWFyY2hUZXJtXCIgbmctZW50ZXI9XCJJbmRleFNlYXJjaFNpdGVzKClcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCBTaXRlcy4uLlwiIC8+JyArXHJcbiAgICAgICAgICAgICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJvcmRlckxlc3NcIiBuZy1jbGljaz1cIkluZGV4U2VhcmNoU2l0ZXMoKVwiPlNlYXJjaCA8aSBjbGFzcz1cImlvbi1zZWFyY2hcIj48L2k+PC9idXR0b24+PC9kaXY+PC9kaXY+JyxcclxuXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtcclxuICAgICAgICAgICAgICAgICckc2NvcGUnLCAnJHN0YXRlJywgJyRodHRwJywgJ1NJVEUnLCAnJHVpYk1vZGFsJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJGh0dHAsIFNJVEUsICR1aWJNb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hUZXJtID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaEJ5ID0geyB2YWw6ICdieVNpdGVObycgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxhY2Vob2xkZXIgPSAnLi4uJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSW5kZXhTZWFyY2hTaXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hUZXJtICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKCRzY29wZS5zZWFyY2hCeS52YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdieVNpdGVObyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2VhcmNoZWRTaXRlKHsgYnlTaXRlTm86ICRzY29wZS5zZWFyY2hUZXJtIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZVNlYXJjaFJlc3BvbnNlKHJlc3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UoZXJyb3JSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdieVNpdGVJZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2VhcmNoZWRTaXRlKHsgYnlTaXRlSWQ6ICRzY29wZS5zZWFyY2hUZXJtIH0sIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UoZXJyb3JSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdieVNpdGVOYW1lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVOYW1lOiAkc2NvcGUuc2VhcmNoVGVybSB9LCBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZVNlYXJjaFJlc3BvbnNlKHJlc3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZVNlYXJjaFJlc3BvbnNlKGVycm9yUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXRlU2VhcmNoUmVzcG9uc2UgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zdGF0dXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lcnJvcnN0YXR1cyBzaG93IG1vZGFsIHdpdGggZXJyb3IgbWVzc2FnZSAnbm8gc2l0ZSBmb3VuZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPk5vIHNpdGUgZm91bmQuIEZvciBtb3JlIHNpdGUgc2VhcmNoIG9wdGlvbnMsIGdvIHRvIHRoZSBTaXRlcyBuYXZpZ2F0aW9uIHRhYiB0byBzZWFyY2ggZm9yIHNpdGVzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoVGVybSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hCeSA9IHsgdmFsOiAnYnlTaXRlTm8nIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IHNlYXJjaCBhbmQgZ28gdG8gdGhlIHNpdGUgZGFzaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFRlcm0gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hCeSA9IHsgdmFsOiAnYnlTaXRlTm8nIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NpdGUuZGFzaGJvYXJkJywgeyBpZDogcy5zaXRlX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL1RoaXMgZGlyZWN0aXZlIGFsbG93cyB1cyB0byBwYXNzIGEgZnVuY3Rpb24gaW4gb24gYW4gZW50ZXIga2V5IHRvIGRvIHdoYXQgd2Ugd2FudC5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnbmdFbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJrZXlkb3duIGtleXByZXNzXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nRW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2ZvY3VzIG9uIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBwYWdlXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ251bWVyaWNPbmx5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbW9kZWxDdHJsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNmb3JtZWRJbnB1dCA9IGlucHV0VmFsdWUgPyBpbnB1dFZhbHVlLnJlcGxhY2UoL1teXFxkLi1dL2csICcnKSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1lZElucHV0ICE9IGlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodHJhbnNmb3JtZWRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRJbnB1dDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGZvcm1hdCB0aGUgbmctbW9kZWwgZGF0ZSBhcyBkYXRlIG9uIGluaXRpYWwgbG9hZFxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQUMnLFxyXG4gICAgICAgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUgdGhlIGRlZmF1bHQgZm9ybWF0dGVyIGZyb20gdGhlIGlucHV0IGRpcmVjdGl2ZSB0byBwcmV2ZW50IGNvbmZsaWN0XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRmb3JtYXR0ZXJzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdiYWNrQnV0dG9uJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBnb0JhY2spO1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdvQmFjaygpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL3ZhbGlkYXRlIHBhc3N3b3JkXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ3Bhc3N3b3JkVmFsaWRhdGUnLCBbJ1JlZ0V4cCcsIGZ1bmN0aW9uIChyZWdleCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0udW5iaW5kKCdrZXlkb3duJykudW5iaW5kKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIGVsbS5iaW5kKCdibHVyJywgZnVuY3Rpb24gKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVnZXguUEFTU1dPUkQpLnRlc3Qodmlld1ZhbHVlLnRhcmdldC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQgaXMgdmFsaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwicGFzc3dvcmRWYWxpZGF0ZVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2l0IGlzIGludmFsaWQsIHJldHVybiB1bmRlZmluZWQgLSBubyBtb2RlbCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwicGFzc3dvcmRWYWxpZGF0ZVwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdzYW1lQXMnLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnVuYmluZCgna2V5ZG93bicpLnVuYmluZCgnY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICBlbG0uYmluZCgnYmx1cicsIGZ1bmN0aW9uICh2aWV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHBhcnNlKGF0dHJzLnNhbWVBcykoc2NvcGUpID09PSBjdHJsLiRtb2RlbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChjdXJyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoJ3Bhc3N3b3JkTWlzbWF0Y2gnLCBjdXJyZW50VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vbWFrZSB0ZXh0YXJlYSBoZWlnaHQgZXF1YWwgdG8gY29udGVudCBpbnNpZGUgaXQgKG5vIHNjcm9sbGJhcnMpIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTc3NzIyNjAvdGV4dGFyZWEtYXV0by1oZWlnaHRcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnZWxhc3RpYycsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5pdGlhbEhlaWdodCA9ICRzY29wZS5pbml0aWFsSGVpZ2h0IHx8IGVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLnN0eWxlLmhlaWdodCA9ICRzY29wZS5pbml0aWFsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0ID0gXCJcIiArIGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQub24oXCJpbnB1dCBjaGFuZ2VcIiwgcmVzaXplKTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KHJlc2l6ZSwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnbXlJbnB1dE1hc2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBQycsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2soc2NvcGUuJGV2YWwoYXR0cnMubXlJbnB1dE1hc2spKTtcclxuICAgICAgICAgICAgICAgIGVsLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdNb2RlbCArIFwiPSdcIiArIGVsLnZhbCgpICsgXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIHNjb3BlW2F0dHJzLm5nTW9kZWxdID0gZWwudmFsKCkgaWYgeW91ciBleHByZXNzaW9uIGRvZXNuJ3QgY29udGFpbiBkb3QuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2JpbmQgZmlsZSB1cGxvYWQgZmlsZSB0byBhIG1vZGVsIHNjb3BlIHZhclxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdmaWxlTW9kZWwnLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb2RlbFNldHRlciA9IG1vZGVsLmFzc2lnbjtcclxuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy91c2VkIG9uIGV2ZW50IG5hbWUgdG8gbWFrZSBzdXJlIG5vIHNwZWNpYWwgY2hhcmFjdGVyc1xyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdpbnB1dFJlc3RyaWN0b3InLCBbXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdNb2RlbEN0cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0dGVybiA9IC9bXmEtekEtWjAtOS0gX10vZztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZnJvbVVzZXIodGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZElucHV0ID0gdGV4dC5yZXBsYWNlKHBhdHRlcm4sICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybWVkSW5wdXQgIT09IHRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodHJhbnNmb3JtZWRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkSW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2goZnJvbVVzZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnbGFiZWxMaW1pdExlbmd0aCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogXCJBXCIsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW1pdCA9IHBhcnNlSW50KGF0dHJzLmxhYmVsTGltaXRMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW0pLm9uKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPT0gbGltaXQpIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIERpcmVjdGl2ZSBmb3IgZ2VuZXJpYyBjaGFydCwgcGFzcyBpbiBjaGFydCBvcHRpb25zXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2hjQ2hhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2PjwvZGl2PicsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiAnPSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBIaWdoY2hhcnRzLmNoYXJ0KGVsZW1lbnRbMF0sIHNjb3BlLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIC8qIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnaGNDaGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6ICc9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICBIaWdoY2hhcnRzLmNoYXJ0KGVsZW1lbnRbMF0sIHNjb3BlLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgYXR0cnMuY2hhcnQgPSBuZXcgSGlnaGNoYXJ0cyhlbGVtZW50WzBdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tVHlwZTogJ3gnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5uaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5LZXk6ICdzaGlmdCdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvb3N0VGhyZXNob2xkOiAyMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDaG9wcGVyIFJlc3VsdHMnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpY2sgYW5kIGRyYWcgdG8gem9vbSBpbi4gSG9sZCBkb3duIHNoaWZ0IGtleSB0byBwYW4uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gSGlnaGNoYXJ0cy5jaGFydChlbGVtZW50WzBdLCBzY29wZS5vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzLnNlcmllcztcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdHRycy5jaGFydC5zZXJpZXMuc2V0RGF0YSgkcGFyc2UoYXR0cnMuc2VyaWVzKShzY29wZSkuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTsqL1xyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NldHRpbmdzQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5nc1wiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJzZXR0aW5nc1wiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzID0gXCJXZWxjb21lIHRvIHRoZSBuZXcgU1ROIFNldHRpbmdzIFBhZ2UhIVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVZpZXcgPSBmdW5jdGlvbiAodmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyh2aWV3KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZVNlYXJjaEN0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICdzdGF0ZUxpc3QnLCAnc2Vuc29yVHlwZXMnLCAnbmV0d29ya05hbWVzJywgJ1NJVEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRjb29raWVzLCAkcm9vdFNjb3BlLCAkbG9jYXRpb24sIHN0YXRlTGlzdCwgc2Vuc29yVHlwZXMsIG5ldHdvcmtOYW1lcywgU0lURSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2l0ZSBTZWFyY2hcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IFwic2l0ZXNcIjsgLy8gcmVwb3J0LCBzZXR0aW5nc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlblR5cGVzID0gc2Vuc29yVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZXMgPSBuZXR3b3JrTmFtZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gW107IC8vdXNlZCB0byBqb2luIGVhY2ggYWJicmV2IHRvIHBhc3MgdG8gY2FsbFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHdtT25seTogMCxcclxuICAgICAgICAgICAgICAgICAgICBzZW5Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJkZ09ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BEZWZpbmVkOiAwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBzb3J0aW5nIG9yZGVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc29ydF9ieSA9IGZ1bmN0aW9uIChuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvcnRpbmdPcmRlciA9PSBuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAhJHNjb3BlLnJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0aW5nT3JkZXIgPSBuZXdTb3J0aW5nT3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiBzZXR1cFxyXG4gICAgICAgICAgICAgICAgICAgICQoJ3RoIGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoZXkgYXJlIGNvbWluZyBiYWNrIGhlcmUsIHNlZSBpZiBhIHNlYXJjaCBoYXMgYmVlbiBzdG9yZWQgbGFzdCB0aW1lLlxyXG4gICAgICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuc2VhcmNoUGFyYW1zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1NlYXJjaCA9ICRyb290U2NvcGUuc2VhcmNoUGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnQgPSBOdW1iZXIodGhpc1NlYXJjaC5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBzdGF0ZSwgc2VsZWN0ZWQ9dHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBzdGF0ZXMgYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zdGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzU2VhcmNoLnN0YXRlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NlYXJjaC5zdGF0ZVt5XSA9PSAkc2NvcGUuc3RhdGVzW2ldLnN0YXRlX2FiYnJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0aGlzU2VhcmNoLnN0YXRlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlc1tpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2VhcmNoLnN0YXRlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXNbaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcyA9IHRoaXNTZWFyY2guc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3Nlbi5zZW5zb3IgPSB0aGlzU2VhcmNoLlNlbnNvclR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3Nlbi5uZXR3b3JrID0gdGhpc1NlYXJjaC5OZXR3b3JrTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuLnN1cnZleSA9IHRoaXNTZWFyY2guSFdNU3VydmV5ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSA9IHRoaXNTZWFyY2guSFdNT25seTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5ID0gdGhpc1NlYXJjaC5TZW5zb3JPbmx5O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHkgPSB0aGlzU2VhcmNoLlJER09ubHk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkID0gdGhpc1NlYXJjaC5PUERlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRGaWx0ZXJlZFNpdGVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICRzY29wZS5zZXNzaW9uRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlOiAkc2NvcGUuY2hvc2VuU3RhdGVzLmpvaW4oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9maWx0ZXIgb3B0aW9ucyBjaG9zZW4sIGdvIGdldCB0aGVzZSBzaXRlcyB0byBzaG93IGluIGEgdGFibGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hTaXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zdG9yZSBzZWFyY2ggaW4gY2FzZSB0aGV5IGxlYXZlIGFuZCBjbGljayBiYWNrXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZVN0cmluZyA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuam9pbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZJRCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJHNjb3BlLmNob3NlblN0YXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0RmlsdGVyZWRTaXRlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZTogc3RhdGVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclR5cGU6ICRzY29wZS5DaG9zZW4uc2Vuc29yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrTmFtZTogJHNjb3BlLkNob3Nlbi5uZXR3b3JrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01Pbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01TdXJ2ZXllZDogJHNjb3BlLkNob3Nlbi5zdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvck9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJER09ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QRGVmaW5lZDogJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVMaXN0ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIHNlYXJjaFNpdGVzIGNsaWNrIGFjdGlvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vYWRkIGVhY2ggc3RhdGUgdG8gYW4gYXJyYXkgdG8gYmUgam9pbmVkIGluIHRoZSBHRVRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzLnB1c2goZGF0YS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuaW5kZXhPZihkYXRhLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcy5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jbGVhciB0aGUgZmlsdGVyIGNob2ljZXMgKHN0YXJ0IG92ZXIpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZGdPbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcERlZmluZWQ6IDBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW4gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc3RhdGVzLCBmdW5jdGlvbiAoc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Quc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgLy9kZXBsb3kgbmV3IG9yIHByb3Bvc2VkIHNlbnNvciwgZWRpdCBkZXBsb3llZCBtb2RhbFxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdzZW5zb3JNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJyRjb29raWVzJywgJyRodHRwJywgJyRzY2UnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnRklMRV9TVEFNUCcsICdhbGxEcm9wZG93bnMnLCAnYWdlbmN5TGlzdCcsICdTaXRlX0ZpbGVzJywgJ2FsbERlcFR5cGVzJywgJ3RoaXNTZW5zb3InLCAnU2Vuc29yU2l0ZScsICdzaXRlT1BzJywgJ2FsbE1lbWJlcnMnLCAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdEQVRBX0ZJTEUnLCAnRklMRScsICdTT1VSQ0UnLCAnT1BfTUVBU1VSRScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb29raWVzLCAkaHR0cCwgJHNjZSwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgYWxsRHJvcGRvd25zLCBhZ2VuY3lMaXN0LCBTaXRlX0ZpbGVzLCBhbGxEZXBUeXBlcywgdGhpc1NlbnNvciwgU2Vuc29yU2l0ZSwgc2l0ZU9QcywgYWxsTWVtYmVycywgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIERBVEFfRklMRSwgRklMRSwgU09VUkNFLCBPUF9NRUFTVVJFKSB7XHJcbiAgICAgICAgICAgIC8vZHJvcGRvd25zIFswXWFsbFNlbnNvclR5cGVzLCBbMV1hbGxTZW5zb3JCcmFuZHMsIFsyXWFsbEhvdXNpbmdUeXBlcywgWzNdYWxsU2Vuc0RlcHMsIFs0XWFsbEV2ZW50cyAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yVHlwZUxpc3QgPSBhbGxEcm9wZG93bnNbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JCcmFuZExpc3QgPSBhbGxEcm9wZG93bnNbMV07XHJcbiAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzJdO1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuc2Vuc29yRGVwbG95TGlzdCA9IGFsbERyb3Bkb3duc1szXTtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IGFsbERyb3Bkb3duc1szXTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlTGlzdCA9IGFsbERyb3Bkb3duc1s0XTsgLy91c2VkIGlmIGNyZWF0aW5nL2VkaXRpbmcgZGVwU2VucyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1MaXN0ID0gYWxsRHJvcGRvd25zWzVdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzID0gdGhpc1NlbnNvciAhPT0gXCJlbXB0eVwiID8gJHNjb3BlLmFsbFNGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKHNmKSB7IHJldHVybiBzZi5pbnN0cnVtZW50X2lkID09IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZDsgfSkgOiBbXTsvLyBob2xkZXIgZm9yIGh3bSBmaWxlcyBhZGRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMgPSAkc2NvcGUuRGVwU2Vuc29yRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChoZikgeyByZXR1cm4gaGYuZmlsZXR5cGVfaWQgPT09IDE7IH0pOyAvL2ltYWdlIGZpbGVzIGZvciBjYXJvdXNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7IC8vaGlkZGVuIGZvcm0gdG8gYWRkIGZpbGUgdG8gaHdtXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7IC8vaGlkZGVuIGZvcm0gdG8gYWRkIG53aXMgZmlsZSB0byBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLk9Qc1ByZXNlbnQgPSBzaXRlT1BzLmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93biA9IHNpdGVPUHM7XHJcbiAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUExpc3QgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkZXIgb2YgdGFwZWRvd24gT1BfTUVBU1VSRU1FTlRTXHJcbiAgICAgICAgICAgICRzY29wZS5kZXBUeXBlTGlzdCA9IGFsbERlcFR5cGVzOyAvL2dldCBmcmVzaCB2ZXJzaW9uIHNvIG5vdCBtZXNzZWQgdXAgd2l0aCB0aGUgVGVtcGVyYXR1cmUgdHdpY2VcclxuICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS50aW1lWm9uZUxpc3QgPSBbJ1VUQycsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gZmFsc2U7IC8vdG9nZ2xlIHRvIHNob3cvaGlkZSBldmVudCBkZCAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLmFkbWluQ2hhbmdlZCA9IHt9OyAvL3dpbGwgaG9sZCBldmVudF9pZCBpZiBhZG1pbiBjaGFuZ2VzIGl0LiBhcHBseSB3aGVuIFBVVHRpbmdcclxuICAgICAgICAgICAgJHNjb3BlLkludGVydmFsVHlwZSA9IHt9OyAvL2hvbGRlciBmb3IgbWludXRlL3NlY29uZCByYWRpbyBidXR0b25zXHJcbiAgICAgICAgICAgICRzY29wZS53aGljaEJ1dHRvbiA9IFwiXCI7IC8vaG9sZGVyIGZvciBzYXZlL2RlcGxveSBidXR0b24gYXQgZW5kIC4uICdkZXBsb3knIGlmIHByb3Bvc2VkLT5kZXBsb3llZCwgYW5kIGZvciBkZXBsb3lpbmcgbmV3IG9yIHNhdmUgaWYgZWRpdGluZyBleGlzdGluZ1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgJHNjb3BlLm53aXNIZWFkZXJUaXAgPSAkc2NlLnRydXN0QXNIdG1sKCdDb25uZWN0IHlvdXIgdHJhbnNtaXR0aW5nIHNlbnNvciB3aXRoIE5XSVMgdmlhIDxlbT5TdGF0aW9uIElEIGZvciBVU0dTIGdhZ2U8L2VtPiBmcm9tIHRoZSBTaXRlIGRldGFpbHMuJyk7XHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBERVB2YWw6ICdkZXRhaWwnLCBSRVR2YWw6ICdkZXRhaWwnIH07XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JEYXRhTldJUyA9IGZhbHNlOyAvL2lzIHRoaXMgYSByYWluIGdhZ2UsIG1ldCBzdGF0aW9uLCBvciByZGcgc2Vuc29yIC0tIGlmIHNvLCBkYXRhIGZpbGUgbXVzdCBiZSBjcmVhdGVkIHBvaW50aW5nIHRvIG53aXMgKHdlIGRvbid0IHN0b3JlIGFjdHVhbCBmaWxlLCBqdXN0IG1ldGFkYXRhIHdpdGggbGluaylcclxuICAgICAgICAgICAgJHNjb3BlLnMgPSB7IGRlcE9wZW46IHRydWUsIHNGaWxlT3BlbjogZmFsc2UsIE5XSVNGaWxlT3BlbjogZmFsc2UgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTEgPSBmYWxzZTsgLy9zZXQgdG8gdHJ1ZSBhbmQgc2hvdyBoaWdoY2hhcnQgd2l0aCBjaG9wcGVyIHJlc3VsdHNcclxuICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTFLZXlzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5jaGFydE9wdGlvbnMxID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5jaGFydERhdGEgPSBbXTtcclxuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnppcCA9IGZ1bmN0aW9uIChhcnIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZSwgYXJyW2ldXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyRzY29wZS5yZW5kZXJlciA9IG5ldyBIaWdoY2hhcnRzLlJlbmRlcmVyKFxyXG4gICAgICAgICAgICAkc2NvcGUucnVuQ2hvcHBlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydERhdGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9wdGlvbnMxID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTFLZXlzID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNoYXJ0T2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T2JqLnhBeGlzWzBdLnJlbW92ZVBsb3RMaW5lKFwic3RhcnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T2JqLnhBeGlzWzBdLnJlbW92ZVBsb3RMaW5lKFwiZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3Igc2VuZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc21sYWxsTG9hZGVyR28gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5ydW5DaG9wcGVyU2NyaXB0KGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc21sYWxsTG9hZGVyR28gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTFLZXlzID0gT2JqZWN0LmtleXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSByZXNwb25zZS5FcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWlsZWRDaG9wcGVyID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZXJlIHdhcyBhbiBlcnJvciBydW5uaW5nIHRoZSBjaG9wcGVyLjwvcD48cD5FcnJvcjoge3tlcnJvck1lc3NhZ2V9fTwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnbWVzc2FnZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5lcnJvck1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydERhdGEgPSByZXNwb25zZS50aW1lLnppcChyZXNwb25zZS5wcmVzc3VyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ByZXNldCB0aGUgc3RhcnQvZW5kIGRhdGVzIHRvIHRoZSAxc3QgYW5kIGxhc3QgYXMgdGhlIGNoYXJ0RGF0YS50aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0RhdGUgPSBuZXcgRGF0ZShyZXNwb25zZS50aW1lWzBdKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVEYXRlID0gbmV3IERhdGUocmVzcG9uc2UudGltZVtyZXNwb25zZS50aW1lLmxlbmd0aCAtIDFdKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNkID0gZ2V0RGF0ZVRpbWVQYXJ0cyhzRGF0ZSk7IHZhciBlZCA9IGdldERhdGVUaW1lUGFydHMoZURhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBzZDsgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T2JqID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbVR5cGU6ICd4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRab29tQnV0dG9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsIC8vIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnYm90dG9tJywgLy8gYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogNzBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFubmluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuS2V5OiAnc2hpZnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29zdFRocmVzaG9sZDogMjAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90T3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50Q2xpY2sgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Xb3VsZCB5b3UgbGlrZSB0byBzZXQgdGhpcyAoe3t0aGlzRGF0ZX19KSBhczo8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPjxzcGFuIGNsYXNzPVwicmFkaW8taW5saW5lXCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ3aGljaERhdGVcIiBuZy1tb2RlbD1cIndoaWNoRGF0ZVwiIHZhbHVlPVwic3RhcnRcIiAvPkdvb2QgU3RhcnQgRGF0ZTwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInJhZGlvLWlubGluZVwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwid2hpY2hEYXRlXCIgbmctbW9kZWw9XCJ3aGljaERhdGVcIiB2YWx1ZT1cImVuZFwiIC8+R29vZCBFbmQgRGF0ZTwvc3Bhbj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwiY2FuY2VsKClcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2Nob3NlbkRhdGUnLCAneEV2ZW50JywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIGNob3NlbkRhdGUsIHhFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS53aGljaERhdGUgPT0gXCJcIikgYWxlcnQoXCJObyBEYXRlIGNob3NlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBbJHNjb3BlLndoaWNoRGF0ZSwgY2hvc2VuRGF0ZSwgeEV2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndoaWNoRGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNEYXRlID0gbmV3IERhdGUoY2hvc2VuRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5EYXRlOiBldmVudC5wb2ludC5jYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4RXZlbnQ6IGV2ZW50LmNoYXJ0WFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50Q2xpY2sucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcnQgPSAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSdzIGFscmVhZHkgYSBwbG90bGluZSB3aXRoIHRoaXMgaWQgYW5kIHJlbW92ZSBpdCBpZiBzb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQucmVtb3ZlUGxvdExpbmUocGFydHNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwbG90IGxpbmUgdG8gdmlzdWFsbHkgc2VlIHdoZXJlIHRoZXkgYWRkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LmFkZFBsb3RMaW5lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hhcnQudG9WYWx1ZShwYXJ0c1syXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHBhcnRzWzBdID09IFwic3RhcnRcIiA/ICcjMDBmZjAwJyA6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcGFydHNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxOTk5OSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogeyB0ZXh0OiBwYXJ0c1swXSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUocGFydHNbMV0pLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGdldERhdGVUaW1lUGFydHModGhlRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT0gXCJzdGFydFwiKSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1BvaW50U2VsZWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VzZU92ZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcmllcy5oYWxvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJpZXMuaGFsby5hdHRyKHsgJ2NsYXNzJzogJ2hpZ2hjaGFydHMtdHJhY2tlcicgfSkudG9Gcm9udCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlIC8vIHR1cm4gZG90cyBvZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1ByZXZpZXcgb2YgUHJlc3N1cmUgRGF0YSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGljayBhbmQgZHJhZyB0byB6b29tIGluLiBIb2xkIGRvd24gc2hpZnQga2V5IHRvIHBhbi4gVG8gc2VsZWN0IEdvb2QgU3RhcnQvRW5kIERhdGUsIGNsaWNrIHBvaW50IG9uIGxpbmUuJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeEF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxS2V5c1sxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVGltZUxhYmVsRm9ybWF0czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiAnJVktJW0tJWQ8YnIvPiVIOiVNOiVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJyVZLSVtLSVkPGJyLz4lSDolTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyOiAnJVktJW0tJWQ8YnIvPiVIOiVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogJyVZPGJyLz4lbS0lZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrOiAnJVk8YnIvPiVtLSVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnJVktJW0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogJyVZJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5QXhpczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJHNjb3BlLmNob3BwZXJSZXNwb25zZTFLZXlzWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAne3ZhbHVlfSBwc2knXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJHNjb3BlLmNoYXJ0RGF0YSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBmaWxlIHdhc24ndCB0aGVyZS4uXHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9mb3JtYXR0aW5nIGRhdGUgYW5kIHRpbWUgcHJvcGVybHkgZm9yIGNocm9tZSBhbmQgZmZcclxuICAgICAgICAgICAgdmFyIGdldERhdGVUaW1lUGFydHMgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZURhdGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNEYXRlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGQpID09PSAnW29iamVjdCBEYXRlXSc7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEYXRlID09PSBmYWxzZSkgeyAvLyBcIjIwMTctMDktMjhUMDk6MzM6MDlcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gZC5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBkLnN1YnN0cig1LCAyKSAtIDE7IC8vc3VidHJhY3QgMSBmb3IgaW5kZXggdmFsdWUgKEphbnVhcnkgaXMgMClcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGEgPSBkLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IGQuc3Vic3RyKDExLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWkgPSBkLnN1YnN0cigxNCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYyA9IGQuc3Vic3RyKDE3LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGVEYXRlID0gbmV3IERhdGUoeSwgbSwgZGEsIGgsIG1pLCBzZWMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVEYXRlID0gZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9uZXcgZGF0ZXRpbWVwaWNrZXIgaHR0cHM6Ly9naXRodWIuY29tL3poYWJlci9hbmd1bGFyLWpzLWJvb3RzdHJhcC1kYXRldGltZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBmaWxlIFVwbG9hZFxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxID09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYUZpbGUuRmlsZSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBuZWVkIHRvIGNob29zZSBhIGZpbGUgZmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAkc2NvcGUuYUZpbGUuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFGaWxlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuYUZpbGUub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFGaWxlLkZpbGUxIDogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUubmFtZSA9IGZyZXNwb25zZS5uYW1lOyAkc2NvcGUuYUZpbGUucGF0aCA9IGZyZXNwb25zZS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUxID0gdW5kZWZpbmVkOyAvL3B1dCBpdCBhcyBmaWxlIGFuZCByZW1vdmUgaXQgZnJvbSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMiA/IFwiRGF0YUZpbGUgRmlsZVwiIDogXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zaG93IGEgbW9kYWwgd2l0aCB0aGUgbGFyZ2VyIGltYWdlIGFzIGEgcHJldmlldyBvbiB0aGUgcGhvdG8gZmlsZSBmb3IgdGhpcyBvcFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZXMgPSAkc2NvcGUuZmlsZVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9IC0xOyAvL2luZGV4ZXMgZm9yIHNwbGljZS9jaGFuZ2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgc291cmNlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgZGF0YWZpbGVcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IG9wIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAkc2NvcGUuRGVwU2Vuc29yRmlsZXMuaW5kZXhPZihmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9ICRzY29wZS5hbGxTRmlsZXMuaW5kZXhPZihmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMubGVuZ3RoID4gMCA/ICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcy5pbmRleE9mKGZpbGUpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gYW5ndWxhci5jb3B5KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZ2V0RmlsZUl0ZW0oeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gcmVzcG9uc2UuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSAkc2NvcGUuZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5uYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZJID0gJHNjb3BlLmFGaWxlLm5hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUV4dCA9ICRzY29wZS5hRmlsZS5uYW1lLnN1YnN0cmluZyhmSSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUV4dC5tYXRjaCgvKGpwZ3xKUEd8anBlZ3xKUEVHfHBuZ3xQTkd8Z2lmfEdJRikkLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5waG90b19kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgYWdlbmN5IG5hbWUgdG8gcGhvdG8gY2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLmRhdGFfZmlsZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmaWxlLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGV4aXN0aW5nIGZpbGVcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY3JlYXRpbmcgYSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7ICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkdCA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlID0gZHRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSA9IFwiVVRDXCI7Ly8gZHRbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0IFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gbnVsbDsvL25ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gbnVsbDsvL25ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQgfHwgZSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWlzc2luZ0RhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZGF0YSBzdGFydCBkYXRlIG9yIGdvb2QgZGF0YSBlbmQgZGF0ZSBpcyBtaXNzaW5nLiBFaXRoZXIgY2hvb3NlIGEgZGF0ZSwgb3IgY2xpY2sgUHJldmlldyBEYXRhIHRvIGdldCBhIGNoYXJ0IG9mIHRoZSBkYXRhLCB3aGVyZSB5b3UgY2FuIGNob29zZSB0aGUgZGF0ZXMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXNzaW5nRGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIG9yIGRhdGFmaWxlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWQgb3IgZGF0YV9maWxlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YWZpbGUudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmluc3RydW1lbnRfaWQgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUucHJvY2Vzc29yX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhZmlsZUlEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5zYXZlKCRzY29wZS5kYXRhZmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGZSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFmaWxlSUQgPSBkZlJlc3BvbnNlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6IGRmUmVzcG9uc2UuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAkc2NvcGUuYVNvdXJjZSA9IHt9OyAkc2NvcGUuZGF0YWZpbGUgPSB7fTsgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIGRpZCBub3QgZ2V0IGNyZWF0ZWQsIGRlbGV0ZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZGVsZXRlKHsgaWQ6IGRhdGFmaWxlSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgZGF0YWZpbGUuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2l0J3Mgbm90IGEgZGF0YSBmaWxlLCBzbyBkbyB0aGUgc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07Ly8sIFNPVVJDRV9EQVRFOiAkc2NvcGUuYVNvdXJjZS5TT1VSQ0VfREFURSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IHJlc3BvbnNlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSBsaW5rIGZpbGUsIG5vIGZpbGVJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7ICRzY29wZS5hRmlsZS5zaXRlX2lkID0gJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQ7ICRzY29wZS5hRmlsZS5pbnN0cnVtZW50X2lkID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZWxzZSAoaXQncyBhIExpbmsgZmlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZCAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBuZWVkIHRvIGNob29zZSBhIGZpbGUgZmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgY3JlYXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hhdGtpbmQgPSAkc2NvcGUuYUZpbGUuZmlsZUJlbG9uZ3NUbztcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9oYXMgREFUQV9GSUxFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLmRhdGFmaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFzIFNPVVJDRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0IGFnYWluIChpZiBubyBjaGFuZ2UsIHdpbGwgcmV0dXJuIGV4aXN0aW5nIG9uZS4gaWYgZWRpdGVkLCB3aWxsIGNyZWF0ZSBhIG5ldyBvbmUgLS1pbnN0ZWFkIG9mIGVkaXRpbmcgYWxsIGZpbGVzIHRoYXQgdXNlIHRoaXMgc291cmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUnOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKCRzY29wZS5hbGxTRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vZW5kIGZpbGUgVXBsb2FkXHJcblxyXG4gICAgICAgICAgICAvLyBOV0lTIENvbm5lY3Rpb25cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9IC0xOyAvL2luZGV4ZXMgZm9yIHNwbGljZS9jaGFuZ2VcclxuICAgICAgICAgICAgICAgIGlmIChmICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5zZW5zb3JOV0lTRmlsZXMuaW5kZXhPZihmKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9ICRzY29wZS5hbGxTRmlsZXMuaW5kZXhPZihmKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSBhbmd1bGFyLmNvcHkoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlLkZpbGVUeXBlID0gXCJEYXRhXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnF1ZXJ5KHsgaWQ6IGYuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSBkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm53aXNQcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLk5XSVNERi5wcm9jZXNzb3JfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmNvbGxlY3RfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuY29sbGVjdF9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuTldJU0RGLmdvb2RfZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY3JlYXRpbmcgYSBud2lzIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdodHRwczovL3dhdGVyZGF0YS51c2dzLmdvdi9ud2lzL3V2P3NpdGVfbm89JyArICRzY29wZS50aGlzU2Vuc29yU2l0ZS51c2dzX3NpZCwgIC8vIGlmIFtmaWxsIGluIGlmIG5vdCBoZXJlLi4gVE9ETy4uLiZiZWdpbl9kYXRlPTIwMTYwNDEzJmVuZF9kYXRlPTIwMTYwNDE5IChldmVudCBzdGFydC9lbmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICc8bGluaz4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlVHlwZTogJ0RhdGEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYVNlbnNvci5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nvcl9pZDogJGNvb2tpZXMuZ2V0KFwibUlEXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0X2RhdGU6IGR0WzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lX3pvbmU6IGR0WzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kX3N0YXJ0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnb29kX2VuZDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm53aXNQcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBwb3N0QXBwcm92YWxGb3JOV0lTZmlsZSA9IGZ1bmN0aW9uIChERmlkKSB7XHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuYXBwcm92ZU5XSVNERih7IGlkOiBERmlkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGFwcHJvdmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgbndpcyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBud2lzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVOV0lTRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwTldJU1NlbmZpbGVJc1VwbG9hZGluZyA9IHRydWU7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGRhdGFmaWxlIGZpcnN0IHRvIGdldCBvciBkYXRhX2ZpbGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSB0aW1lem9uZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTldJU0RGLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YWZpbGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnNhdmUoJHNjb3BlLk5XSVNERikuJHByb21pc2UudGhlbihmdW5jdGlvbiAoTmRmUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWZpbGVJRCA9IE5kZlJlc3BvbnNlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgY3JlYXRlIGFuIGFwcHJvdmFsIHdpdGggdGhlIGV2ZW50J3MgY29vcmRpbmF0b3IgYW5kIGFkZCB0aGUgYXBwcm92YWxfaWQsIHB1dCBpdCwgdGhlbiBwb3N0IHRoZSBmaWxlIFRPRE8gOjo6IE5FVyBFTkRQT0lOVCBGT1IgVEhJU1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZGF0YV9maWxlX2lkID0gTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0QXBwcm92YWxGb3JOV0lTZmlsZShOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQpOyAvL3Byb2Nlc3MgYXBwcm92YWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBGaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5kYXRhX2ZpbGVfaWQgPSBOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5wYXRoID0gJzxsaW5rPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuTldJU0ZpbGUuRmlsZVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuTldJU0ZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKEZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5wdXNoKEZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goRnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZCAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwTldJU1NlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgZGlkIG5vdCBnZXQgY3JlYXRlZCwgZGVsZXRlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZGVsZXRlKHsgaWQ6IGRhdGFmaWxlSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTsgJHNjb3BlLk5XSVNERiA9IHt9OyAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwTldJU1NlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKClcclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vIGVuZCBjcmVhdGUgTldJUyBmaWxlXHJcbiAgICAgICAgICAgIC8vdXBkYXRlIHRoaXMgTldJUyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlTldJU0ZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aW1lem9uZSBhbmQgbWFrZSBzdXJlIGRhdGUgc3RheXMgdXRjXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5OV0lTREYudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLk5XSVNERi5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLk5XSVNERikuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5OV0lTRmlsZS5maWxlX2lkIH0sICRzY29wZS5OV0lTRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgRGF0YSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU5XSVNGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLk5XSVNGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxOV0lTRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gdGFwZSBkb3duIHNlY3Rpb24gICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUuT1BjaG9zZW4gPSBmdW5jdGlvbiAob3BDaG9zZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcEkgPSAkc2NvcGUuT1BzRm9yVGFwZURvd24ubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wQ2hvc2VuLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHBpY2tlZCBhbiBPUCB0byB1c2UgZm9yIHRhcGVkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub3BfbmFtZSA9IG9wQ2hvc2VuLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5lbGV2YXRpb24gPSBvcENob3Nlbi5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gb3BDaG9zZW4udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9hcmUgd2UgbG9va2luZyBhdCBjcmVhdGUgZGVwbG95bWVudCBvciBlZGl0IGRlcGxveW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNlbnNTdGF0dXMuc3RhdHVzX3R5cGVfaWQgIT09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5LnB1c2goJHNjb3BlLk9QTWVhc3VyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udmRhdHVtX2lkID0gb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLnB1c2goJHNjb3BlLk9QTWVhc3VyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy52ZGF0dW1faWQgPSBvcENob3Nlbi52ZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FzayB0aGVtIGFyZSB0aGV5IHN1cmU/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZU9QTWVhcyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UmVtb3ZlIE9QIE1lYXN1cmU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgT1AgTWVhc3VyZW1lbnQgZnJvbSB0aGlzIHNlbnNvcj88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVPUE1lYXMucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllc09yTm8gPT0gJ3JlbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHJlbW92ZSBpdCBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlT3JFZGl0ID0gJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hU2Vuc1N0YXR1cy5zdGF0dXNfdHlwZV9pZCAhPT0gNCA/IFwiZWRpdFwiIDogXCJjcmVhdGVcIjsgLy8gZWRpdCBkZXBsb3ltZW50IG9yIGNyZWF0aW5nIGEgZGVwbG95bWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcGVEb3duVG9SZW1vdmUgPSBjcmVhdGVPckVkaXQgPT0gJ2VkaXQnID8gJHNjb3BlLmRlcFRhcGVDb3B5LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0SW5kID0gY3JlYXRlT3JFZGl0ID09ICdlZGl0JyA/ICRzY29wZS5kZXBUYXBlQ29weS5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKHRhcGVEb3duVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZih0YXBlRG93blRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcGVEb3duVG9SZW1vdmUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpICRzY29wZS5yZW1vdmVPUExpc3QucHVzaCh0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVPckVkaXQgPT0gJ2VkaXQnID8gJHNjb3BlLmRlcFRhcGVDb3B5LnNwbGljZSh0SW5kLCAxKSA6ICRzY29wZS50YXBlRG93blRhYmxlLnNwbGljZSh0SW5kLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgZW1wdGllcyB0aGUgdGFibGUsIGNsZWFyIHRoZSBzZW5zU3RhdHVzIGZpZWxkcyByZWxhdGVkIHRvIHRhcGVkb3duc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZU9yRWRpdCA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcFRhcGVDb3B5Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0uZ3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0ud3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0uc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudmRhdHVtX2lkID0gMDsgJHNjb3BlLmFTZW5zU3RhdHVzLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVNlbnNTdGF0dXMud3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5hU2Vuc1N0YXR1cy5zZW5zb3JfZWxldmF0aW9uID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXZlciBtaW5kLCBtYWtlIGl0IHNlbGVjdGVkIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25bb3BJXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHRhcGUgZG93biBzZWN0aW9uIFxyXG5cclxuICAgICAgICAgICAgLy9nZXQgdGltZXpvbmUgYW5kIHRpbWVzdGFtcCBmb3IgdGhlaXIgdGltZXpvbmUgZm9yIHNob3dpbmcuLiBwb3N0L3B1dCB3aWxsIGNvbnZlcnQgaXQgdG8gdXRjXHJcbiAgICAgICAgICAgIHZhciBnZXRUaW1lWm9uZVN0YW1wID0gZnVuY3Rpb24gKGRzZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VuZFRoaXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBkO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkc2VudCAhPT0gdW5kZWZpbmVkKSBkID0gbmV3IERhdGUoZHNlbnQpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBkID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKGQudG9TdHJpbmcoKSkuc3Vic3RyaW5nKDM1KTtcclxuICAgICAgICAgICAgICAgIHZhciB6b25lID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAob2Zmc2V0LnN1YnN0cigwLCAzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdDU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRWFzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnRVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vdVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ01TVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQYWNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdQU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbmRUaGlzID0gW2QsIHpvbmVdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRUaGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9idXR0b24gY2xpY2sgdG8gc2hvdyBldmVudCBkcm9wZG93biB0byBjaGFuZ2UgaXQgb24gZXhpc3RpbmcgaHdtIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NoYW5nZUV2ZW50REQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSAhJHNjb3BlLnNob3dFdmVudEREO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jaGFuZ2UgZXZlbnQgPSBhcHBseSBpdCB0byB0aGUgJHNjb3BlLkV2ZW50TmFtZVxyXG4gICAgICAgICAgICAkc2NvcGUuQ2hhbmdlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5ldmVudF9pZCA9PSAkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9nZXQgZGVwbG95bWVudCB0eXBlcyBmb3Igc2Vuc29yIHR5cGUgY2hvc2VuXHJcbiAgICAgICAgICAgICRzY29wZS5nZXREZXBUeXBlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nU2Vuc0RlcGxpc3QgPSAkc2NvcGUuc2Vuc29yVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzZCkgeyByZXR1cm4gc2Quc2Vuc29yX3R5cGVfaWQgPT0gJHNjb3BlLmFTZW5zb3Iuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIDEgc2Vuc29yVHlwZSB3aXRoIGlubmVyIGxpc3Qgb2YgIC5kZXBsb3ltZW50dHlwZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IG1hdGNoaW5nU2Vuc0RlcGxpc3QuZGVwbG95bWVudHR5cGVzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMubGVuZ3RoID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IuZGVwbG95bWVudF90eXBlX2lkID0gJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzWzBdLmRlcGxveW1lbnRfdHlwZV9pZDtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5Mb2dnZWRJbk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hU2Vuc29yID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNTZW5zb3JTaXRlID0gU2Vuc29yU2l0ZTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgIHZhciBzZW5zb3JPYmplY3RUb1NlbmRCYWNrID0gdGhpc1NlbnNvcjtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3NlbnNvck9iamVjdFRvU2VuZEJhY2tdO1xyXG4gICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gaXMgaW50ZXJ2YWwgaXMgbnVtYmVyXHJcbiAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVENcclxuICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICBpZiAodyA9PSAnc2F2aW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZVRpbWVTID0gbmV3IERhdGUoJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAgPSB1dGNEYXRlVGltZVM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNEYXRlVGltZUQgPSBuZXcgRGF0ZSgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSB1dGNEYXRlVGltZUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgRGkgPSAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBEaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zYXZlIGFTZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkU2Vuc29yID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZW5TdGF0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy9hZG1pbiBjaGFuZ2VkIHRoZSBldmVudCBmb3IgdGhpcyBzZW5zb3IuLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uZXZlbnRfaWQgPSAkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3NlZSBpZiB0aGV5IHVzZWQgTWludXRlcyBvciBzZWNvbmRzIGZvciBpbnRlcnZhbC4gbmVlZCB0byBzdG9yZSBpbiBzZWNvbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9PSBcIk1pbnV0ZXNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVswXS5pbnRlcnZhbCA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW50ZXJ2YWwgKiA2MDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoJ3NhdmluZycpOyAvL1VUQyBvciBsb2NhbD9cclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQudXBkYXRlKHsgaWQ6ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW5zdHJ1bWVudF9pZCB9LCAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuZGVwbG95bWVudFR5cGUgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmRlcGxveW1lbnRfdHlwZV9pZCA+IDAgPyAkc2NvcGUuZGVwVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRlcGxveW1lbnRfdHlwZV9pZCA9PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuaG91c2luZ1R5cGUgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZCA+IDAgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkOyB9KVswXS50eXBlX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLnNlbnNvcl9icmFuZF9pZDsgfSlbMF0uYnJhbmRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5zZW5zb3JUeXBlID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zZW5zb3JfdHlwZV9pZCA9PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLnNlbnNvcl90eXBlX2lkOyB9KVswXS5zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLmluc3RydW1lbnRfc3RhdHVzX2lkIH0sICRzY29wZS5kZXBTdHVmZkNvcHlbMV0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWFsIHdpdGggdGFwZWRvd25zLiByZW1vdmUvYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBydCA9IDA7IHJ0IDwgJHNjb3BlLnJlbW92ZU9QTGlzdC5sZW5ndGg7IHJ0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRUb1JlbW92ZSA9ICRzY29wZS5yZW1vdmVPUExpc3RbcnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZGVsZXRlKHsgaWQ6IGlkVG9SZW1vdmUgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZSA9ICRzY29wZS5kZXBUYXBlQ29weS5sZW5ndGggPiAwID8gW10gOiAkc2NvcGUudGFwZURvd25UYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGF0ID0gMDsgYXQgPCAkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoOyBhdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERFUHRoaXNUYXBlID0gJHNjb3BlLmRlcFRhcGVDb3B5W2F0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoREVQdGhpc1RhcGUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leGlzdGluZywgcHV0IGluIGNhc2UgdGhleSBjaGFuZ2VkIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUudXBkYXRlKHsgaWQ6IERFUHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCB9LCBERVB0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IERFUHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gREVQdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25ldyBvbmUgYWRkZWQsIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREVQdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZShERVB0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IERFUHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gREVQdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBhZGQgaW5zdHJ1bWVudCBhbmQgaW5zdHJ1bWVudCBzdGF0dXMgdG8gc2VuZCBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2VuU3RhdCA9IHN0YXRSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5TdGF0LnN0YXR1cyA9ICdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudF9zdGF0dXNlc0hvbGRlciA9ICRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzOyAvL3B1dCB0aGVtIGhlcmUgc28gdGhleSBjYW4gYmUgdXBkYXRlZCBhbmQgcmVhZGRlZCAoYWxsIHZlcnNpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IgPSB1cGRhdGVkU2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvciA9IHVwZGF0ZWRTZW5zb3I7IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBpbnN0cnVtZW50X3N0YXR1c2VzSG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzID0gdXBkYXRlZFNlblN0YXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApOy8vdGhpcyBrZWVwcyBpdCBhcyB1dGMgaW4gZGlzcGxheVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5zdGF0dXNfdHlwZV9pZDsgfSkuaW5kZXhPZigxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbaW5kXSA9ICRzY29wZS5hU2Vuc1N0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHkgPSBbXTsgJHNjb3BlLkludGVydmFsVHlwZSA9IHsgdHlwZTogJ1NlY29uZHMnIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5ERVB2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcidzIHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2NyZWF0ZSAoUE9TVCkgYSBkZXBsb3llZCBzZW5zb3IgY2xpY2tcclxuICAgICAgICAgICAgJHNjb3BlLmRlcGxveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLlNlbnNvckZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2Vuc29yLmxvY2F0aW9uX2Rlc2NyaXB0aW9uICE9PSBcIlByb3Bvc2VkIHNlbnNvciBhdCB0aGlzIHNpdGUuIENoYW5nZSBkZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBzZW5zb3IuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZWUgaWYgdGhleSB1c2VkIE1pbnV0ZXMgb3Igc2Vjb25kcyBmb3IgaW50ZXJ2YWwuIG5lZWQgdG8gc3RvcmUgaW4gc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkludGVydmFsVHlwZS50eXBlID09IFwiTWludXRlc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgPSAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCAqIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NldCBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5ldmVudF9pZCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3Iuc2l0ZV9pZCA9IFNlbnNvclNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlVFogPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfem9uZSk7Ly8gaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZyBhbmQgbmVlZCB0byByZXNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgnZGVwbG95Jyk7IC8vVVRDIG9yIGxvY2FsP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMuc3RhdHVzX3R5cGVfaWQgPSAxOyAvL2RlcGxveWVkIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgLy91c2VyIHRoYXQgbG9nZ2VkIGluIGlzIGRlcGxveWVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkU2Vuc29yID0ge307IHZhciBkZXBTZW5TdGF0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERVBMT1kgUFJPUE9TRUQgb3IgQ1JFQVRFIE5FVyBkZXBsb3ltZW50P1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1dCBpbnN0cnVtZW50LCBwb3N0IHN0YXR1cyBmb3IgZGVwbG95aW5nIFBST1BPU0VEIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC51cGRhdGUoeyBpZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCB9LCAkc2NvcGUuYVNlbnNvcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZSBpbnN0cnVtZW50c3RhdHVzIHRvbyBuZWVkOiBzdGF0dXNfdHlwZV9pZCBhbmQgaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmFTZW5zb3IuZGVwbG95bWVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5ob3VzaW5nVHlwZSA9IHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZCA+IDAgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09IHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PSByZXNwb25zZS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JUeXBlID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zZW5zb3JfdHlwZV9pZCA9PSByZXNwb25zZS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X2lkID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hU2Vuc1N0YXR1cykuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYW55IHRhcGUgZG93bnM/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8ICRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNUYXBlID0gJHNjb3BlLnRhcGVEb3duVGFibGVbdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vUE9TVCBJVC8vL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZSh0aGlzVGFwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9idWlsZCB0aGUgY3JlYXRlZFNlbnNvciB0byBzZW5kIGJhY2sgYW5kIGFkZCB0byB0aGUgbGlzdCBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcFNlblN0YXQgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIFN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0LnN0YXR1cyA9ICdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbZGVwU2VuU3RhdCwgJHNjb3BlLnByZXZpb3VzU3RhdGVTdGF0dXNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIGRlcGxveWVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJHNjb3BlLndoaWNoQnV0dG9uID09ICdkZXBsb3lQJyA/ICdwcm9wb3NlZERlcGxveWVkJyA6ICduZXdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZFNlbnNvciwgc3RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgaW5zdHJ1bWVudCBhbmQgc3RhdHVzIGZvciBkZXBsb3lpbmcgTkVXIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RydW1lbnRJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnNhdmUoJHNjb3BlLmFTZW5zb3IpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElEID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZSBpbnN0cnVtZW50c3RhdHVzIHRvbyBuZWVkOiBzdGF0dXNfdHlwZV9pZCBhbmQgaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkICE9PSBudWxsICYmIHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZCAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaG91c2luZ1R5cGUgPSByZXNwb25zZS5ob3VzaW5nX3R5cGVfaWQgIT09IG51bGwgJiYgcmVzcG9uc2UuaG91c2luZ190eXBlX2lkICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09IHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PSByZXNwb25zZS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JUeXBlID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zZW5zb3JfdHlwZV9pZCA9PSByZXNwb25zZS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X2lkID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHRoaXMgaW4gY2FzZSBpdCBuZWVkcyB0byBiZSByZXNldCBiZWNhdXNlIGluc3RydW1lbnRfc3RhdHVzIHBvc3QgZmFpbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdERhdGUgPSBhbmd1bGFyLmNvcHkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKS5nZXRGdWxsWWVhcigpICsgXCItXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKFwiMFwiICsgKG5ldyBEYXRlKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKS5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSkgKyBcIi1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKS5nZXREYXRlKCkgKyBcIlRcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoXCIwXCIgKyAobmV3IERhdGUoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApLmdldEhvdXJzKCkpKS5zbGljZSgtMikpICsgXCI6XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCkuZ2V0TWludXRlcygpKTsgLy8gXCIyMDE3LTA5LTI4VDA5OjMzOjA5XCIgbmVlZHMgdG8gYmUgdGhpcy4uLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hU2Vuc1N0YXR1cykuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYW55IHRhcGUgZG93bnM/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8ICRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNUYXBlID0gJHNjb3BlLnRhcGVEb3duVGFibGVbdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vUE9TVCBJVC8vL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZSh0aGlzVGFwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9idWlsZCB0aGUgY3JlYXRlZFNlbnNvciB0byBzZW5kIGJhY2sgYW5kIGFkZCB0byB0aGUgbGlzdCBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcFNlblN0YXQgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcFNlblN0YXQuc3RhdHVzID0gJ0RlcGxveWVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IFtkZXBTZW5TdGF0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgZGVwbG95ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9ICRzY29wZS53aGljaEJ1dHRvbiA9PSAnZGVwbG95UCcgPyAncHJvcG9zZWREZXBsb3llZCcgOiAnbmV3RGVwbG95ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZFNlbnNvciwgc3RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSBnZXREYXRlVGltZVBhcnRzKHN0YXREYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfem9uZSA9IHN0b3JlVFo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZGVsZXRlKHsgaWQ6IGluc3RydW1lbnRJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZzogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0byB0ZWxsIHRoZW0gdG8gdXBkYXRlIHRoZSBsb2NhdGlvbl9kZXNjcmlwdGlvbiBiZWZvcmUgZGVwbG95aW5nIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRGVzY3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgdXBkYXRlIHRoZSBMb2NhdGlvbiBEZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBhIHByb3Bvc2VkIHNlbnNvci48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBlbmQgZWxzZSBsb2NhdGlvbl9kZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCAkdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBkZXBsb3koKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgYVNlbnNvciBhbmQgc2Vuc29yIHN0YXR1c2VzXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVTID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOjogRGVsZXRlIHRoZSBmaWxlcyBmb3IgdGhpcyBzZW5zb3IgdG9vIG9yIHJlYXNzaWduIHRvIHRoZSBTaXRlPz8gU2VydmljZXMgb3IgY2xpZW50IGhhbmRsaW5nP1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlNlbnNvclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoc2Vuc29yVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzIHdpbGwgZGVsZXRlIHRoZSBpbnN0cnVtZW50IGFuZCBhbGwgaXQncyBzdGF0dXNlc1xyXG4gICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZGVsZXRlKHsgaWQ6IHNlbnNvclRvUmVtb3ZlLmluc3RydW1lbnRfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBzZW5zb3JGaWxlcyBmb3IgdGhpcyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzID0gW107IC8vY2xlYXIgb3V0IGltYWdlIGZpbGVzIGZvciB0aGlzIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyByZW1vdmUgYWxsIHRoZXNlIGZpbGVzIGZyb20gU2l0ZUZpbGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gJHNjb3BlLmFsbFNGaWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWxsU0ZpbGVzW2xdLmluc3RydW1lbnRfaWQgPT0gc2Vuc29yVG9SZW1vdmUuaW5zdHJ1bWVudF9pZCkgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UobCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtcImRlXCIsICdkZWxldGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzU2Vuc29yICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy9hY3Rpb25zOiAnZGVwUHJvcCcsICdlZGl0RGVwJywgJ3JldHJpZXZlJywgJ2VkaXRSZXQnXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXhpc3RpbmcgZGVwbG95ZWQgU2Vuc29yIC4uIGJyZWFrIGFwYXJ0IHRoZSAndGhpc1NlbnNvcicgaW50byAnYVNlbnNvcicgYW5kICdhU2Vuc1N0YXR1cydcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yID0gYW5ndWxhci5jb3B5KHRoaXNTZW5zb3IpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzID0gYW5ndWxhci5jb3B5KHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRhdGFOV0lTID0gKCgkc2NvcGUuYVNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSAyIHx8ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkID09IDUpIHx8ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkID09IDYpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldERlcFR5cGVzKCk7Ly9wb3B1bGF0ZSAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgZm9yIGRyb3Bkb3duIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9ICdTZWNvbmRzJzsgLy9kZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlbnNvckRhdGFOV0lTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9GSUxFLlZBTElEQVRFRCBiZWluZyB1c2VkIHRvIHN0b3JlIDEgaWYgdGhpcyBpcyBhbiBud2lzIGZpbGUgbWV0YWRhdGEgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhaSA9ICRzY29wZS5EZXBTZW5zb3JGaWxlcy5sZW5ndGggLSAxOyBhaSA+PSAwOyBhaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRGVwU2Vuc29yRmlsZXNbYWldLmlzX253aXMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5wdXNoKCRzY29wZS5EZXBTZW5zb3JGaWxlc1thaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnNwbGljZShhaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR0ID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2FyZSB3ZSBkZXBsb3lpbmcgYSBwcm9wb3NlZCBzZW5zb3Igb3IgZWRpdGluZyBhIGRlcGxveWVkIHNlbnNvcj8/XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1swXS5zdGF0dXMgPT0gXCJQcm9wb3NlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXBsb3lpbmcgcHJvcG9zZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJldmlvdXNTdGF0ZVN0YXR1cyA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdKTsgLy9ob2xkIHRoZSBwcm9wb3NlZCBzdGF0ZSAocHJvcG9zZWQgdG8gZGVwbG95ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndoaWNoQnV0dG9uID0gJ2RlcGxveVAnO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmludGVydmFsID0gJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgPT09IDAgPyBudWxsIDogJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWw7IC8vY2xlYXIgb3V0IHRoZSAnMCcgdmFsdWUgaGVyZSAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vZGlzcGxheWluZyBkYXRlIC8gdGltZSBpdCB1c2VyJ3MgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVBhcnRzID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gdGltZVBhcnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSB0aW1lUGFydHNbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLm1lbWJlcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7IC8vIG1lbWJlciBsb2dnZWQgaW4gaXMgZGVwbG95aW5nIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3llciA9ICRzY29wZS5Mb2dnZWRJbk1lbWJlcjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0aW5nIGRlcGxveWVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndoaWNoQnV0dG9uID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmludGVydmFsID0gJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgPT09IDAgPyBudWxsIDogJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWw7IC8vY2xlYXIgb3V0IHRoZSAnMCcgdmFsdWUgaGVyZSAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IHRoaXMgZGVwbG95ZWQgc2Vuc29yJ3MgZXZlbnQgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkc2NvcGUuZXZlbnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSAkc2NvcGUuYVNlbnNvci5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RhdGUgZm9ybWF0dGluZy4gdGhpcyBrZWVwcyBpdCBpbiB1dGMgZm9yIGRpc3BsYXlcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IGNvbGxlY3Rpb24gbWVtYmVyJ3MgbmFtZSBcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95ZXIgPSAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkICE9PSBudWxsIHx8ICRzY29wZS5hU2Vuc1N0YXR1cy5tZW1iZXJfaWQgIT09IHVuZGVmaW5lZCA/IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkOyB9KVswXSA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0SW5zdFN0YXRPUE1lYXN1cmVzKHsgaW5zdHJ1bWVudFN0YXR1c0lkOiAkc2NvcGUuYVNlbnNTdGF0dXMuaW5zdHJ1bWVudF9zdGF0dXNfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCByZXNwb25zZS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnNNZWFzdXJlcyA9IHJlc3BvbnNlW3JdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT1AgPSBzaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSByZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLmVsZXZhdGlvbiA9IHdoaWNoT1AuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNNZWFzdXJlcy5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSB3aGljaE9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLm9wX25hbWUgPSB3aGljaE9QLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5wdXNoKHNlbnNNZWFzdXJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIE9Qc0ZvclRhcGVEb3duIGFuZCBhZGQgc2VsZWN0ZWQgUHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLk9Qc0ZvclRhcGVEb3duLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgcmVzcG9uc2UgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCByZXNwb25zZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVt5XS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gJHNjb3BlLk9Qc0ZvclRhcGVEb3duW2ldLm9iamVjdGl2ZV9wb2ludF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gcmVzcG9uc2UubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBleGlzdGluZyBTZW5zb3JcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBEZXBsb3lpbmcgbmV3IFNlbnNvclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLndoaWNoQnV0dG9uID0gJ2RlcGxveSc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPSAnU2Vjb25kcyc7IC8vZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgLy9kaXNwbGF5aW5nIGRhdGUgLyB0aW1lIGl0IHVzZXIncyB0aW1lem9uZVxyXG4gICAgICAgICAgICAgICAgdmFyIERlcHRpbWVQYXJ0cyA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gRGVwdGltZVBhcnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfem9uZSA9IFwiVVRDXCI7Ly8gRGVwdGltZVBhcnRzWzFdOyAvL3dpbGwgYmUgY29udmVydGVkIHRvIHV0YyBvbiBwb3N0L3B1dCAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpOyAvLyBtZW1iZXIgbG9nZ2VkIGluIGlzIGRlcGxveWluZyBpdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVyID0gJHNjb3BlLkxvZ2dlZEluTWVtYmVyO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIG5ldyBTZW5zb3JcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLm15RGF0YSA9IFskc2NvcGUuYVNlbnNTdGF0dXMuc2Vuc29yX2VsZXZhdGlvbiwgJHNjb3BlLmFTZW5zU3RhdHVzLndzX2VsZXZhdGlvbiwgJHNjb3BlLmFTZW5zU3RhdHVzLmdzX2VsZXZhdGlvbl07XHJcbiAgICAgICAgICAgIC8vZWRpdCBidXR0b24gY2xpY2tlZC4gbWFrZSBjb3B5IG9mIGRlcGxveWVkIGluZm8gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXREZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5ERVB2YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5ID0gW2FuZ3VsYXIuY29weSgkc2NvcGUuYVNlbnNvciksIGFuZ3VsYXIuY29weSgkc2NvcGUuYVNlbnNTdGF0dXMpXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUudGFwZURvd25UYWJsZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxEZXBFZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVGFwZUNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vTUFLRSBTVVJFIEFMTCBTRUxFQ1RFRCBPUCdTIFNUQVkgU0VMRUNURURcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLk9Qc0ZvclRhcGVEb3duLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8ICRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZVt5XS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gJHNjb3BlLk9Qc0ZvclRhcGVEb3duW2ldLm9iamVjdGl2ZV9wb2ludF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IC8vZW5zdXJlcyBpdCBkb2Vzbid0IHNldCBpdCBhcyBmYWxzZSBhZnRlciBzZXR0aW5nIGl0IGFzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XSk7IC8vZW5kIFNFTlNPUlxyXG5cclxuICAgIC8vIFJldHJpZXZlIGEgU2Vuc29yIG1vZGFsXHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NlbnNvclJldHJpZXZhbE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ3RoaXNTZW5zb3InLCAnU2Vuc29yU2l0ZScsICdzaXRlT1BzJywgJ2FsbEV2ZW50TGlzdCcsICdhbGxWRGF0dW1MaXN0JywgJ2FsbE1lbWJlcnMnLCAnYWxsU3RhdHVzVHlwZXMnLCAnYWxsSW5zdENvbGxDb25kJywgJ0lOU1RSVU1FTlQnLCAnSU5TVFJVTUVOVF9TVEFUVVMnLCAnT1BfTUVBU1VSRScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgdGhpc1NlbnNvciwgU2Vuc29yU2l0ZSwgc2l0ZU9QcywgYWxsRXZlbnRMaXN0LCBhbGxWRGF0dW1MaXN0LCBhbGxNZW1iZXJzLCBhbGxTdGF0dXNUeXBlcywgYWxsSW5zdENvbGxDb25kLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgT1BfTUVBU1VSRSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuYVNlbnNvciA9IHRoaXNTZW5zb3I7XHJcbiAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSBhbGxFdmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X2lkID09ICRzY29wZS5hU2Vuc29yLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVwU2Vuc1N0YXR1cyA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdKTtcclxuICAgICAgICAgICAgdmFyIGlzRGF0ZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xyXG4gICAgICAgICAgICBpZiAoaXNEYXRlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoNSwgMikgLSAxOyAvL3N1YnRyYWN0IDEgZm9yIGluZGV4IHZhbHVlIChKYW51YXJ5IGlzIDApXHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnN1YnN0cigxMSwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWkgPSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnN1YnN0cigxNCwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMTcsIDIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcCA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIG1pLCBzZWMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwU2Vuc1N0YXR1cy52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuZGVwU2Vuc1N0YXR1cy52ZGF0dW1faWQgPiAwKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNTdGF0dXMuVkRhdHVtID0gYWxsVkRhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYuZGF0dW1faWQgPT0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd24gPSBzaXRlT1BzO1xyXG4gICAgICAgICAgICAkc2NvcGUuT1BzUHJlc2VudCA9IHNpdGVPUHMubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxWRGF0dW1MaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BMaXN0ID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlID0gW107IC8vaG9sZGVyIG9mIHRhcGVkb3duIE9QX01FQVNVUkVNRU5UU1xyXG4gICAgICAgICAgICAkc2NvcGUuREVQdGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRzIGFueSBkZXBsb3llZCB0YXBlZG93bnNcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5EZXBsb3llciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUud2hpY2hCdXR0b24gPSAnUmV0cmlldmUnO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzVHlwZUxpc3QgPSBhbGxTdGF0dXNUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdHVzID09IFwiUmV0cmlldmVkXCIgfHwgcy5zdGF0dXMgPT0gXCJMb3N0XCI7IH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuY29sbGVjdENvbmRMaXN0ID0gYWxsSW5zdENvbGxDb25kO1xyXG4gICAgICAgICAgICAkc2NvcGUudGltZVpvbmVMaXN0ID0gWydVVEMnLCAnUFNUJywgJ01TVCcsICdDU1QnLCAnRVNUJ107XHJcbiAgICAgICAgICAgICRzY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgIC8vZm9ybWF0dGVyIGZvciBkYXRlL3RpbWUgYW5kIGNob3NlbiB6b25lIGJhc2VkIG9uIHRoZWlyIGxvY2F0aW9uXHJcbiAgICAgICAgICAgIHZhciBnZXRUaW1lWm9uZVN0YW1wID0gZnVuY3Rpb24gKGRzZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VuZFRoaXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBkO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkc2VudCAhPT0gdW5kZWZpbmVkKSBkID0gbmV3IERhdGUoZHNlbnQpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBkID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKGQudG9TdHJpbmcoKSkuc3Vic3RyaW5nKDM1KTtcclxuICAgICAgICAgICAgICAgIHZhciB6b25lID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAob2Zmc2V0LnN1YnN0cigwLCAzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdDU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRWFzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnRVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vdVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ01TVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQYWNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdQU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbmRUaGlzID0gW2QsIHpvbmVdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRUaGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIHRhcGUgZG93biBzZWN0aW9uICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5PUGNob3NlbiA9IGZ1bmN0aW9uIChvcENob3Nlbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wSSA9ICRzY29wZS5PUHNGb3JUYXBlRG93bi5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3BDaG9zZW4uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgcGlja2VkIGFuIE9QIHRvIHVzZSBmb3IgdGFwZWRvd25cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5vcF9uYW1lID0gb3BDaG9zZW4ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLmVsZXZhdGlvbiA9IG9wQ2hvc2VuLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSBvcENob3Nlbi52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLm9iamVjdGl2ZV9wb2ludF9pZCA9IG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUE1lYXN1cmUub3BfbmFtZSA9IG9wTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5wdXNoKCRzY29wZS5PUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnZkYXR1bV9pZCA9IG9wQ2hvc2VuLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHVuY2hlY2tlZCB0aGUgb3AgdG8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hc2sgdGhlbSBhcmUgdGhleSBzdXJlP1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVPUE1lYXMgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlJlbW92ZSBPUCBNZWFzdXJlPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIE9QIE1lYXN1cmVtZW50IGZyb20gdGhpcyBzZW5zb3I/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT1BNZWFzLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh5ZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZXNPck5vID09ICdyZW1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byByZW1vdmUgaXQgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcGVEb3duVG9SZW1vdmUgPSAkc2NvcGUudGFwZURvd25UYWJsZS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEub2JqZWN0aXZlX3BvaW50X2lkID09IG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdEluZCA9ICRzY29wZS50YXBlRG93blRhYmxlLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2YodGFwZURvd25Ub1JlbW92ZS5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcGVEb3duVG9SZW1vdmUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpICRzY29wZS5yZW1vdmVPUExpc3QucHVzaCh0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5zcGxpY2UodEluZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudmRhdHVtX2lkID0gMDsgJHNjb3BlLmFSZXRyaWV2YWwuZ3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5hUmV0cmlldmFsLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVJldHJpZXZhbC5zZW5zb3JfZWxldmF0aW9uID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25ldmVyIG1pbmQsIG1ha2UgaXQgc2VsZWN0ZWQgYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltvcEldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2dldCBkZXBsb3kgc3RhdHVzIHRhcGVkb3ducyB0byBhZGQgdG8gdG9wIGZvciBkaXNwbGF5XHJcbiAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0SW5zdFN0YXRPUE1lYXN1cmVzKHsgaW5zdHJ1bWVudFN0YXR1c0lkOiAkc2NvcGUuZGVwU2Vuc1N0YXR1cy5pbnN0cnVtZW50X3N0YXR1c19pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCByZXNwb25zZS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZW5zTWVhc3VyZXMgPSByZXNwb25zZVtyXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPUCA9IHNpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IHJlc3BvbnNlW3JdLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLmVsZXZhdGlvbiA9IHdoaWNoT1AuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICBzZW5zTWVhc3VyZXMuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gd2hpY2hPUC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBzZW5zTWVhc3VyZXMub3BfbmFtZSA9IHdoaWNoT1AubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQdGFwZURvd25UYWJsZS5wdXNoKHNlbnNNZWFzdXJlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gdGFwZSBkb3duIHNlY3Rpb24gXHJcblxyXG4gICAgICAgICAgICAvL2RlZmF1bHQgZm9ybWF0dGluZyBmb3IgcmV0cmlldmFsXHJcbiAgICAgICAgICAgIHZhciBkdHBhcnRzID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbCA9IHsgdGltZV9zdGFtcDogZHRwYXJ0c1swXSwgdGltZV96b25lOiBkdHBhcnRzWzFdLCBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkLCBtZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbSkgeyByZXR1cm4gYW0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgLy9pcyBpdCBVVEMgb3IgbG9jYWwgdGltZS4ubWFrZSBzdXJlIGl0IHN0YXlzIFVUQ1xyXG4gICAgICAgICAgICB2YXIgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hUmV0cmlldmFsLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnRpbWVfc3RhbXAgPSAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgZGVwVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBhbmQgc2VlIGlmIHRoZXkgYXJlIG5vdCB1c2luZyBVVENcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5UaGlzO1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgIHJldHVyblRoaXMgPSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3JldHJpZXZlIHRoZSBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLnJldHJpZXZlUyA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoKTsgLy9mb3IgcmV0cmlldmFsIGZvciBwb3N0IGFuZCBmb3IgY29tcGFyaXNvbiB0byBkZXBsb3llZCAoZW5zdXJlIGl0J3MgYWZ0ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlcFNlblRTID0gZGVwVGltZVN0YW1wYjRTZW5kKCk7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0U2VuVFMgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcC5yZXBsYWNlKC9cXCwvZywgXCJcIikpOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKHJldFNlblRTKSA8IG5ldyBEYXRlKGRlcFNlblRTKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIHJldHJpZXZhbCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGRlcGxveWVkIGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgdG8gbm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wID0gZ2V0VGltZVpvbmVTdGFtcCgpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV96b25lID0gZ2V0VGltZVpvbmVTdGFtcCgpWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcmV0cmlldmFsRGF0ZScpLnRyaWdnZXIoJ2ZvY3VzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFNlbnNvciA9IHt9OyB2YXIgY3JlYXRlUmV0U2VucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkIH0sICRzY29wZS5hU2Vuc29yKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgaW5zdHJ1bWVudHN0YXR1cyB0b28gbmVlZDogc3RhdHVzX3R5cGVfaWQgYW5kIGluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuZGVwbG95bWVudFR5cGUgPSAkc2NvcGUuYVNlbnNvci5kZXBsb3ltZW50VHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuaG91c2luZ1R5cGUgPSAkc2NvcGUuYVNlbnNvci5ob3VzaW5nVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuYVNlbnNvci5zZW5zb3JCcmFuZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5hU2Vuc29yLnNlbnNvclR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmluc3RDb2xsZWN0aW9uID0gJHNjb3BlLmNvbGxlY3RDb25kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuaWQgPT09ICRzY29wZS5hU2Vuc29yLmluc3RfY29sbGVjdGlvbl9pZDsgfSlbMF0uY29uZGl0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnNhdmUoJHNjb3BlLmFSZXRyaWV2YWwpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYW55IHRhcGUgZG93bnM/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNUYXBlID0gJHNjb3BlLnRhcGVEb3duVGFibGVbdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzVGFwZS5pbnN0cnVtZW50X3N0YXR1c19pZCA9IHN0YXRSZXNwb25zZS5pbnN0cnVtZW50X3N0YXR1c19pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1BPU1QgSVQvLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZSh0aGlzVGFwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9idWlsZCB0aGUgY3JlYXRlZFNlbnNvciB0byBzZW5kIGJhY2sgYW5kIGFkZCB0byB0aGUgbGlzdCBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV0U2VucyA9IHN0YXRSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXRTZW5zLnN0YXR1cyA9IHN0YXRSZXNwb25zZS5zdGF0dXNfdHlwZV9pZCA9PSAyID8gJ1JldHJpZXZlZCcgOiAnTG9zdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IFtjcmVhdGVSZXRTZW5zLCB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgcmV0cmlldmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAncmV0cmlldmVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3VwZGF0ZWRTZW5zb3IsIHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIHJldHIgZGF0ZSBpcyBjb3JyZWN0XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCByZXRyaWV2ZVNcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1dKTsvL2VuZCBzZW5zb3JSZXRyaWV2YWxNb2RhbEN0cmxcclxuXHJcbiAgICAvLyB2aWV3L2VkaXQgcmV0cmlldmVkIHNlbnNvciAoZGVwbG95ZWQgaW5jbHVkZWQgaGVyZSkgbW9kYWxcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignZnVsbFNlbnNvck1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGZpbHRlcicsICckdGltZW91dCcsICckY29va2llcycsICckaHR0cCcsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAnU0VSVkVSX1VSTCcsICdGSUxFX1NUQU1QJywgJ2FsbERlcERyb3Bkb3ducycsXHJcbiAgICAgICAgJ2FnZW5jeUxpc3QnLCAnU2l0ZV9GaWxlcycsICdhbGxTdGF0dXNUeXBlcycsICdhbGxJbnN0Q29sbENvbmQnLCAnYWxsRXZlbnRzJywgJ2FsbERlcFR5cGVzJywgJ3RoaXNTZW5zb3InLCAnU2Vuc29yU2l0ZScsICdzaXRlT1BzJywgJ2FsbE1lbWJlcnMnLCAnYWxsRXZlbnREYXRhRmlsZXMnLFxyXG4gICAgICAgICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ0RBVEFfRklMRScsICdGSUxFJywgJ1NPVVJDRScsICdPUF9NRUFTVVJFJywgJ1NpdGVfU2NyaXB0JyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkZmlsdGVyLCAkdGltZW91dCwgJGNvb2tpZXMsICRodHRwLCAkdWliTW9kYWxJbnN0YW5jZSwgJHVpYk1vZGFsLCBTRVJWRVJfVVJMLCBGSUxFX1NUQU1QLCBhbGxEZXBEcm9wZG93bnMsIGFnZW5jeUxpc3QsIFNpdGVfRmlsZXMsIGFsbFN0YXR1c1R5cGVzLCBhbGxJbnN0Q29sbENvbmQsIGFsbEV2ZW50cyxcclxuICAgICAgICAgICAgYWxsRGVwVHlwZXMsIHRoaXNTZW5zb3IsIFNlbnNvclNpdGUsIHNpdGVPUHMsIGFsbE1lbWJlcnMsIGFsbEV2ZW50RGF0YUZpbGVzLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgREFUQV9GSUxFLCBGSUxFLCBTT1VSQ0UsIE9QX01FQVNVUkUsIFNpdGVfU2NyaXB0KSB7XHJcbiAgICAgICAgICAgIC8qYWxsU2Vuc29yVHlwZXMsIGFsbFNlbnNvckJyYW5kcywgYWxsSG91c2luZ1R5cGVzLCBhbGxTZW5zRGVwcyovXHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi4gICBcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9jZXNzaW5nID0gZmFsc2U7IC8vIHByb2Nlc3Npbmcgc2NyaXB0Li4uXHJcbiAgICAgICAgICAgICRzY29wZS5zdG9ybVNlY3Rpb24gPSBmYWxzZTsgLy8gc2VjdGlvbiBob2xkaW5nIGFsbCBiYXJvIHByZXNzdXJlIHNlbnNvcnMgZm9yIHRoaXMgZXZlbnQuXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JUeXBlTGlzdCA9IGFsbERlcERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvckJyYW5kTGlzdCA9IGFsbERlcERyb3Bkb3duc1sxXTtcclxuICAgICAgICAgICAgJHNjb3BlLmhvdXNlVHlwZUxpc3QgPSBhbGxEZXBEcm9wZG93bnNbMl07XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBhbGxEZXBEcm9wZG93bnNbM107IC8vdXNlZCBpZiBjcmVhdGluZy9lZGl0aW5nIGRlcFNlbnMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUudmVydERhdHVtTGlzdCA9IGFsbERlcERyb3Bkb3duc1s0XTtcclxuICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcyA9IHRoaXNTZW5zb3IgIT09IFwiZW1wdHlcIiA/ICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaW5zdHJ1bWVudF9pZCA9PSB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWQ7IH0pIDogW107Ly8gaG9sZGVyIGZvciBod20gZmlsZXMgYWRkZWRcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzID0gJHNjb3BlLnNlbnNvckZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaGYpIHsgcmV0dXJuIGhmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWwgICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIHNlbnNvclxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBud2lzIGZpbGUgdG8gc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JEYXRhTldJUyA9IGZhbHNlOyAvL2lzIHRoaXMgYSByYWluIGdhZ2UsIG1ldCBzdGF0aW9uLCBvciByZGcgc2Vuc29yIC0tIGlmIHNvLCBkYXRhIGZpbGUgbXVzdCBiZSBjcmVhdGVkIHBvaW50aW5nIHRvIG53aXMgKHdlIGRvbid0IHN0b3JlIGFjdHVhbCBmaWxlLCBqdXN0IG1ldGFkYXRhIHdpdGggbGluaylcclxuICAgICAgICAgICAgJHNjb3BlLmNvbGxlY3RDb25kTGlzdCA9IGFsbEluc3RDb2xsQ29uZDtcclxuICAgICAgICAgICAgJHNjb3BlLk9Qc1ByZXNlbnQgPSBzaXRlT1BzLmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5ERVBPUHNGb3JUYXBlRG93biA9IGFuZ3VsYXIuY29weShzaXRlT1BzKTtcclxuICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duID0gYW5ndWxhci5jb3B5KHNpdGVPUHMpO1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVwVHlwZUxpc3QgPSBhbGxEZXBUeXBlczsgLy9nZXQgZnJlc2ggdmVyc2lvbiBzbyBub3QgbWVzc2VkIHVwIHdpdGggdGhlIFRlbXBlcmF0dXJlIHR3aWNlXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IFtdOyAvL3dpbGwgYmUgcG9wdWxhdGVkIGJhc2VkIG9uIHRoZSBzZW5zb3IgdHlwZSBjaG9zZW5cclxuICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzVHlwZUxpc3QgPSBhbGxTdGF0dXNUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdHVzID09ICdSZXRyaWV2ZWQnIHx8IHMuc3RhdHVzID09ICdMb3N0JzsgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudERhdGFGaWxlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmlzNEh6ID0geyBzZWxlY3RlZDogZmFsc2UgfTtcclxuICAgICAgICAgICAgLy9kZWZhdWx0IHNldHRpbmcgZm9yIGludGVydmFsXHJcbiAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUgPSB7IHR5cGU6ICdTZWNvbmRzJyB9O1xyXG4gICAgICAgICAgICAvL25nLXNob3cgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZXkgYXJlIGVkaXRpbmcgb3Igdmlld2luZyBkZXRhaWxzXHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBERVB2YWw6ICdkZXRhaWwnLCBSRVR2YWw6ICdkZXRhaWwnIH07XHJcbiAgICAgICAgICAgIC8vZ2V0IHRpbWV6b25lIGFuZCB0aW1lc3RhbXAgZm9yIHRoZWlyIHRpbWV6b25lIGZvciBzaG93aW5nLi4gcG9zdC9wdXQgd2lsbCBjb252ZXJ0IGl0IHRvIHV0Y1xyXG4gICAgICAgICAgICB2YXIgZ2V0VGltZVpvbmVTdGFtcCA9IGZ1bmN0aW9uIChkc2VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHNlbnQgIT09IHVuZGVmaW5lZCkgZCA9IG5ldyBEYXRlKGRzZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9uZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnQ1NUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0VTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdNU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnUFNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZW5kVGhpcyA9IFtkLCB6b25lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZm9ybWF0dGluZyBkYXRlIGFuZCB0aW1lIHByb3Blcmx5IGZvciBjaHJvbWUgYW5kIGZmXHJcbiAgICAgICAgICAgIHZhciBnZXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRGF0ZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGQuc3Vic3RyKDAsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gZC5zdWJzdHIoNSwgMikgLSAxOyAvL3N1YnRyYWN0IDEgZm9yIGluZGV4IHZhbHVlIChKYW51YXJ5IGlzIDApXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhID0gZC5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBkLnN1YnN0cigxMSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pID0gZC5zdWJzdHIoMTQsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWMgPSBkLnN1YnN0cigxNywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRGF0ZSA9IG5ldyBEYXRlKHksIG0sIGRhLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGFscmVhZHkgYSBkYXRlLCByZXR1cm4gaXQgYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZURhdGUgPSBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoZURhdGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudGhpc1NlbnNvclNpdGUgPSBTZW5zb3JTaXRlOyAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvciA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yKTtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRhdGFOV0lTID0gKCgkc2NvcGUuc2Vuc29yLnNlbnNvcl90eXBlX2lkID09IDIgfHwgJHNjb3BlLnNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSA1KSB8fCAkc2NvcGUuc2Vuc29yLnNlbnNvcl90eXBlX2lkID09IDYpID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy9kZXBsb3kgcGFydCAvLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVkU2Vuc29yU3RhdCA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLmZpbHRlcihmdW5jdGlvbiAoaW5zdCkgeyByZXR1cm4gaW5zdC5zdGF0dXMgPT09IFwiRGVwbG95ZWRcIjsgfSlbMF0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnRpbWVfc3RhbXAgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQudGltZV9zdGFtcCk7IC8vdGhpcyBrZWVwcyBpdCBhcyB1dGMgaW4gZGlzcGxheVxyXG4gICAgICAgICAgICAkc2NvcGUuRGVwbG95ZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT09ICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLkRFUHJlbW92ZU9QTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuREVQdGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRlciBvZiB0YXBlZG93biBPUF9NRUFTVVJFTUVOVFNcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5ERVBPUGNob3NlbiA9IGZ1bmN0aW9uIChERVBvcENob3Nlbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wSSA9ICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bi5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKERFUG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoREVQb3BDaG9zZW4uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgcGlja2VkIGFuIE9QIHRvIHVzZSBmb3IgdGFwZWRvd25cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BNZWFzdXJlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZS5vcF9uYW1lID0gREVQb3BDaG9zZW4ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BNZWFzdXJlLmVsZXZhdGlvbiA9IERFUG9wQ2hvc2VuLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZS5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSBERVBvcENob3Nlbi52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BNZWFzdXJlLm9iamVjdGl2ZV9wb2ludF9pZCA9IERFUG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2goJHNjb3BlLkRFUE9QTWVhc3VyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5LnB1c2goJHNjb3BlLkRFUE9QTWVhc3VyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSBERVBvcENob3Nlbi52ZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSB1bmNoZWNrZWQgdGhlIG9wIHRvIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vYXNrIHRoZW0gYXJlIHRoZXkgc3VyZT9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgREVQcmVtb3ZlT1BNZWFzID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgT1AgTWVhc3VyZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBPUCBNZWFzdXJlbWVudCBmcm9tIHRoaXMgZGVwbG95ZWQgc2Vuc29yPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJERVBvaygpXCI+T0s8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJERVBjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBvayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgncmVtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUGNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIERFUHJlbW92ZU9QTWVhcy5yZXN1bHQudGhlbihmdW5jdGlvbiAoeWVzT3JObykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVzT3JObyA9PSAncmVtb3ZlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gcmVtb3ZlIGl0IGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERVB0YXBlRG93blRvUmVtb3ZlID0gJHNjb3BlLmRlcFRhcGVDb3B5LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gREVQb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERVB0SW5kID0gJHNjb3BlLmRlcFRhcGVDb3B5Lm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2YoREVQdGFwZURvd25Ub1JlbW92ZS5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFUHRhcGVEb3duVG9SZW1vdmUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpICRzY29wZS5ERVByZW1vdmVPUExpc3QucHVzaChERVB0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVGFwZUNvcHkuc3BsaWNlKERFUHRJbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBUYXBlQ29weS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0uZ3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0ud3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0uc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXZlciBtaW5kLCBtYWtlIGl0IHNlbGVjdGVkIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25bb3BJXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9vbmx5IGNoZWNrIGZvciBpbnN0cnVtZW50IG9wTWVhc3VyZXMgaWYgdGhlcmUgYXJlIGFueSBvcHMgb24gdGhpcyBzaXRlIHRvIGJlZ2luIHdpdGguXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuT1BzUHJlc2VudCkge1xyXG4gICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5nZXRJbnN0U3RhdE9QTWVhc3VyZXMoeyBpbnN0cnVtZW50U3RhdHVzSWQ6ICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQuaW5zdHJ1bWVudF9zdGF0dXNfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoREVQcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IERFUHJlc3BvbnNlLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERVBzZW5zTWVhc3VyZXMgPSBERVByZXNwb25zZVtyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT1AgPSBzaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBERVByZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBERVBzZW5zTWVhc3VyZXMuZWxldmF0aW9uID0gd2hpY2hPUC5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBERVBzZW5zTWVhc3VyZXMuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gd2hpY2hPUC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQc2Vuc01lYXN1cmVzLm9wX25hbWUgPSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24uZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IERFUHJlc3BvbnNlW3JdLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUucHVzaChERVBzZW5zTWVhc3VyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggT1BzRm9yVGFwZURvd24gYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgcmVzcG9uc2UgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IERFUHJlc3BvbnNlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoREVQcmVzcG9uc2VbeV0ub2JqZWN0aXZlX3BvaW50X2lkID09ICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bltpXS5vYmplY3RpdmVfcG9pbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBERVByZXNwb25zZS5sZW5ndGg7IC8vZW5zdXJlcyBpdCBkb2Vzbid0IHNldCBpdCBhcyBmYWxzZSBhZnRlciBzZXR0aW5nIGl0IGFzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChERVByZXNwb25zZS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgaWYgdGhpc1NpdGVIb3VzaW5ncyAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9yZXRyaWV2ZSBwYXJ0IC8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLmZpbHRlcihmdW5jdGlvbiAoaW5zdCkgeyByZXR1cm4gaW5zdC5zdGF0dXMgPT09IFwiUmV0cmlldmVkXCI7IH0pWzBdKTtcclxuICAgICAgICAgICAgLy9pZiB0aGVyZSBpc24ndCBvbmUgLi4gdGhlbiB0aGlzIGlzIGEgbG9zdCBzdGF0dXNcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0ID0gYW5ndWxhci5jb3B5KHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMuZmlsdGVyKGZ1bmN0aW9uIChpbnN0KSB7IHJldHVybiBpbnN0LnN0YXR1cyA9PT0gXCJMb3N0XCI7IH0pWzBdKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tb3N0UmVjZW50U3RhdHVzID0gXCJMb3N0XCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9zdFJlY2VudFN0YXR1cyA9IFwiUmV0cmlldmVkXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0LnZkYXR1bV9pZCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0LnZkYXR1bV9pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0LnZkYXR1bU5hbWUgPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC50aW1lX3N0YW1wKTsgLy90aGlzIGtlZXBzIGl0IGFzIHV0YyBpbiBkaXNwbGF5XHJcbiAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT09ICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0Lm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5SRVRyZW1vdmVPUExpc3QgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLlJFVHRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkZXIgb2YgdGFwZWRvd24gT1BfTUVBU1VSRU1FTlRTXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuUkVUT1BjaG9zZW4gPSBmdW5jdGlvbiAoUkVUb3BDaG9zZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcEkgPSAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd24ubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihSRVRvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKFJFVG9wQ2hvc2VuLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHBpY2tlZCBhbiBPUCB0byB1c2UgZm9yIHRhcGVkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9QTWVhc3VyZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUub3BfbmFtZSA9IFJFVG9wQ2hvc2VuLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9QTWVhc3VyZS5lbGV2YXRpb24gPSBSRVRvcENob3Nlbi5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gUkVUb3BDaG9zZW4udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9QTWVhc3VyZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBSRVRvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFRhcGVDb3B5LnB1c2goJHNjb3BlLlJFVE9QTWVhc3VyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSBSRVRvcENob3Nlbi52ZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSB1bmNoZWNrZWQgdGhlIG9wIHRvIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vYXNrIHRoZW0gYXJlIHRoZXkgc3VyZT9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgUkVUcmVtb3ZlT1BNZWFzID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgT1AgTWVhc3VyZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBPUCBNZWFzdXJlbWVudCBmcm9tIHRoaXMgcmV0cmlldmVkIHNlbnNvcj88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiUkVUb2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiUkVUY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUb2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRjYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBSRVRyZW1vdmVPUE1lYXMucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllc09yTm8gPT0gJ3JlbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHJlbW92ZSBpdCBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUkVUdGFwZURvd25Ub1JlbW92ZSA9ICRzY29wZS5yZXRUYXBlQ29weS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEub2JqZWN0aXZlX3BvaW50X2lkID09IFJFVG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUkVUdEluZCA9ICRzY29wZS5yZXRUYXBlQ29weS5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKFJFVHRhcGVEb3duVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRyZW1vdmVPUExpc3QucHVzaChSRVR0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV0VGFwZUNvcHkuc3BsaWNlKFJFVHRJbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXRUYXBlQ29weS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5yZXRTdHVmZkNvcHlbMV0uZ3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5yZXRTdHVmZkNvcHlbMV0ud3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5yZXRTdHVmZkNvcHlbMV0uc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXZlciBtaW5kLCBtYWtlIGl0IHNlbGVjdGVkIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd25bb3BJXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vb25seSBjYXJlIGFib3V0IG9wIE1lYXN1cmVzIGlmIHRoZXJlIGFyZSBvcHMgb24gdGhpcyBzaXRlXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuT1BzUHJlc2VudCkge1xyXG4gICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5nZXRJbnN0U3RhdE9QTWVhc3VyZXMoeyBpbnN0cnVtZW50U3RhdHVzSWQ6ICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0Lmluc3RydW1lbnRfc3RhdHVzX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKFJFVHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBSRVRyZXNwb25zZS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgUkVUc2Vuc01lYXN1cmVzID0gUkVUcmVzcG9uc2Vbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9QID0gc2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gUkVUcmVzcG9uc2Vbcl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVUc2Vuc01lYXN1cmVzLmVsZXZhdGlvbiA9IHdoaWNoT1AuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVUc2Vuc01lYXN1cmVzLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IHdoaWNoT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFVHNlbnNNZWFzdXJlcy5vcF9uYW1lID0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBSRVRyZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVR0YXBlRG93blRhYmxlLnB1c2goUkVUc2Vuc01lYXN1cmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIE9Qc0ZvclRhcGVEb3duIGFuZCBhZGQgc2VsZWN0ZWQgUHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBSRVRyZXNwb25zZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJFVHJlc3BvbnNlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gUkVUcmVzcG9uc2UubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUkVUcmVzcG9uc2UubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9IGFsbEV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT09ICRzY29wZS5zZW5zb3IuZXZlbnRfaWQ7IH0pWzBdLmV2ZW50X25hbWU7XHJcblxyXG4gICAgICAgICAgICAvL2FjY29yZGlvbiBvcGVuL2Nsb3NlIGdseXBoc1xyXG4gICAgICAgICAgICAkc2NvcGUucyA9IHsgZGVwT3BlbjogZmFsc2UsIHJldE9wZW46IHRydWUsIHNGaWxlT3BlbjogZmFsc2UsIE5XSVNGaWxlT3BlbjogZmFsc2UgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRhdGV0aW1lcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nRGF5OiAxLFxyXG4gICAgICAgICAgICAgICAgc2hvd1dlZWtzOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgLy8gaXMgaW50ZXJ2YWwgaXMgbnVtYmVyXHJcbiAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IGRlcGxveW1lbnQgdHlwZXMgZm9yIHNlbnNvciB0eXBlIGNob3NlblxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0RGVwVHlwZXMgPSBmdW5jdGlvbiAoc2Vuc1R5cGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nU2Vuc0RlcGxpc3QgPSAkc2NvcGUuc2Vuc29yVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzZCkgeyByZXR1cm4gc2Quc2Vuc29yX3R5cGVfaWQgPT0gc2Vuc1R5cGUuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIDEgc2Vuc29yVHlwZSB3aXRoIGlubmVyIGxpc3Qgb2YgIC5kZXBsb3ltZW50dHlwZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IG1hdGNoaW5nU2Vuc0RlcGxpc3QuZGVwbG95bWVudHR5cGVzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmdldERlcFR5cGVzKCRzY29wZS5zZW5zb3IpOyAvL2NhbGwgaXQgZmlyc3QgdGltZSB0aHJvdWdoXHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIHlvdSB3YW50IGNhbiBnbyBoZXJlIGFuZCB3aWxsIHNhZmVseSBiZSBydW4gb24gdGhlIG5leHQgZGlnZXN0LiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbdGhpc1NlbnNvcl07XHJcbiAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL0RvbmUgZHVyaW5nIGVkaXQgUFVUIHRvIGVuc3VyZSB0aW1lem9uZSBkb2Vzbid0IGFmZmVjdCBkYiB0aW1lIHZhbHVlIChpcyBpdCBVVEMgb3IgbG9jYWwgdGltZS4ubWFrZSBzdXJlIGl0IHN0YXlzIFVUQylcclxuICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIC8vZGVwbG95ZWQgb3IgcmV0cmlldmVkPz8gICAgICBcclxuICAgICAgICAgICAgICAgIHZhciB1dGNEYXRlVGltZTsgdmFyIGk7XHJcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gJ2RlcGxveWVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y0RhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAgPSB1dGNEYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNEYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRlcGxveSBlZGl0XHJcbiAgICAgICAgICAgIC8vZWRpdCBidXR0b24gY2xpY2tlZC4gbWFrZSBjb3B5IG9mIGRlcGxveWVkIGluZm8gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXREZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5ERVB2YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5ID0gW2FuZ3VsYXIuY29weSgkc2NvcGUuc2Vuc29yKSwgYW5ndWxhci5jb3B5KCRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQpXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuREVQdGFwZURvd25UYWJsZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3NhdmUgRGVwbG95ZWQgc2Vuc29yIGluZm9cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVEZXBsb3llZCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZW5zb3IgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFNlblN0YXQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAvL3NlZSBpZiB0aGV5IHVzZWQgTWludXRlcyBvciBzZWNvbmRzIGZvciBpbnRlcnZhbC4gbmVlZCB0byBzdG9yZSBpbiBzZWNvbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9PSBcIk1pbnV0ZXNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVswXS5pbnRlcnZhbCA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW50ZXJ2YWwgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgnZGVwbG95ZWQnKTsgLy9VVEMgb3IgbG9jYWw/ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQudXBkYXRlKHsgaWQ6ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW5zdHJ1bWVudF9pZCB9LCAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuZGVwbG95bWVudFR5cGUgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmRlcGxveW1lbnRfdHlwZV9pZCA+IDAgPyAkc2NvcGUuZGVwVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRlcGxveW1lbnRfdHlwZV9pZCA9PT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmhvdXNpbmdUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5ob3VzaW5nX3R5cGVfaWQgPiAwID8gJHNjb3BlLmhvdXNlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5ob3VzaW5nX3R5cGVfaWQ7IH0pWzBdLnR5cGVfbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLnNlbnNvckJyYW5kID0gJHNjb3BlLnNlbnNvckJyYW5kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2Vuc29yX2JyYW5kX2lkID09PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLnNlbnNvcl9icmFuZF9pZDsgfSlbMF0uYnJhbmRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5zZW5zb3JUeXBlID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zZW5zb3JfdHlwZV9pZCA9PT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmluc3RDb2xsZWN0aW9uID0gJHNjb3BlLmNvbGxlY3RDb25kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW5zdF9jb2xsZWN0aW9uX2lkOyB9KVswXS5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLmluc3RydW1lbnRfc3RhdHVzX2lkIH0sICRzY29wZS5kZXBTdHVmZkNvcHlbMV0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWFsIHdpdGggdGFwZWRvd25zLiByZW1vdmUvYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBydCA9IDA7IHJ0IDwgJHNjb3BlLkRFUHJlbW92ZU9QTGlzdC5sZW5ndGg7IHJ0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQaWRUb1JlbW92ZSA9ICRzY29wZS5ERVByZW1vdmVPUExpc3RbcnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZGVsZXRlKHsgaWQ6IERFUGlkVG9SZW1vdmUgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQdGFwZURvd25UYWJsZSA9ICRzY29wZS5kZXBUYXBlQ29weS5sZW5ndGggPiAwID8gW10gOiAkc2NvcGUuREVQdGFwZURvd25UYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGF0ID0gMDsgYXQgPCAkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoOyBhdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERFUHRoaXNUYXBlID0gJHNjb3BlLmRlcFRhcGVDb3B5W2F0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoREVQdGhpc1RhcGUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leGlzdGluZywgcHV0IGluIGNhc2UgdGhleSBjaGFuZ2VkIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUudXBkYXRlKHsgaWQ6IERFUHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCB9LCBERVB0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IERFUHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gREVQdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25ldyBvbmUgYWRkZWQsIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREVQdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZShERVB0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IERFUHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gREVQdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2VuU3RhdCA9IHN0YXRSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5TdGF0LnN0YXR1cyA9IFwiRGVwbG95ZWRcIjsgLy9jYW4ndCBjaGFuZ2Ugc3RhdHVzIG9uIGEgZGVwbG95ZWQgZWRpdC4uc3RpbGwgZGVwbG95ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3IgPSB1cGRhdGVkU2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbFN0YXR1c0hvbGRlciA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yID0gdXBkYXRlZFNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQgPSB1cGRhdGVkU2VuU3RhdDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnRpbWVfc3RhbXAgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQudGltZV9zdGFtcCk7Ly90aGlzIGtlZXBzIGl0IGFzIHV0YyBpbiBkaXNwbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gYWxsU3RhdHVzSG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLnN0YXR1c190eXBlX2lkOyB9KS5pbmRleE9mKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1tpbmRdID0gJHNjb3BlLkRlcGxveWVkU2Vuc29yU3RhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFtdOyAkc2NvcGUuZGVwVGFwZUNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUgPSB7IHR5cGU6ICdTZWNvbmRzJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZURlcGxveWVkKClcclxuXHJcbiAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgZG9uJ3Qgd2FudCB0byBlZGl0IGRlcGxveWVkIHNlbnNvclxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRGVwRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkRFUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAvL01BS0UgU1VSRSBBTEwgU0VMRUNURUQgT1AnUyBTVEFZIFNFTEVDVEVEXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiByZXNwb25zZSBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCAkc2NvcGUuREVQdGFwZURvd25UYWJsZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRFUHRhcGVEb3duVGFibGVbeV0ub2JqZWN0aXZlX3BvaW50X2lkID09ICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bltpXS5vYmplY3RpdmVfcG9pbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gJHNjb3BlLkRFUHRhcGVEb3duVGFibGUubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRFUHRhcGVEb3duVGFibGUubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGRlcGxveSBlZGl0XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gUmV0cmlldmUgZWRpdFxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBkZXBsb3llZCBpbmZvIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0UmV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuUkVUdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJldFN0dWZmQ29weSA9IFthbmd1bGFyLmNvcHkoJHNjb3BlLnNlbnNvciksIGFuZ3VsYXIuY29weSgkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCldO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJldFRhcGVDb3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5SRVR0YXBlRG93blRhYmxlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2F2ZSBSZXRyaWV2ZWQgc2Vuc29yIGluZm9cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVSZXRyaWV2ZWQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkUmV0U2Vuc29yID0ge307IHZhciB1cGRhdGVkUmV0U2VuU3RhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCdyZXRyaWV2ZWQnKTsgLy9VVEMgb3IgbG9jYWw/XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gbmV3IERhdGUoJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3N0YW1wKTsvL2RhdGV0aW1lIGlzIGFubm95aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmluc3RydW1lbnRfaWQgfSwgJHNjb3BlLnJldFN0dWZmQ29weVswXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFJldFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUmV0U2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLnJldFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQgPiAwID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT09ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFJldFNlbnNvci5ob3VzaW5nVHlwZSA9ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkID4gMCA/ICRzY29wZS5ob3VzZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5ob3VzaW5nX3R5cGVfaWQgPT09ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkOyB9KVswXS50eXBlX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFJldFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PT0gJHNjb3BlLnJldFN0dWZmQ29weVswXS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT09ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFJldFNlbnNvci5pbnN0Q29sbGVjdGlvbiA9ICRzY29wZS5jb2xsZWN0Q29uZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmlkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmluc3RfY29sbGVjdGlvbl9pZDsgfSlbMF0uY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBjb3BpZWQgcmVmZXJlbmNlcyBmb3IgcGFzc2luZyBiYWNrIHRvIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvciA9IHVwZGF0ZWRSZXRTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0c0hvbGRlciA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3IgPSB1cGRhdGVkUmV0U2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gc3RhdHNIb2xkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnVwZGF0ZSh7IGlkOiAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLmluc3RydW1lbnRfc3RhdHVzX2lkIH0sICRzY29wZS5yZXRTdHVmZkNvcHlbMV0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vc3RSZWNlbnRTdGF0dXMgPSBzdGF0UmVzcG9uc2Uuc3RhdHVzX3R5cGVfaWQgPT0gMiA/IFwiUmV0cmlldmVkXCIgOiBcIkxvc3RcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0ID0gc3RhdFJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQuc3RhdHVzID0gc3RhdFJlc3BvbnNlLnN0YXR1c190eXBlX2lkID09IDIgPyBcIlJldHJpZXZlZFwiIDogXCJMb3N0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC50aW1lX3N0YW1wKTsvL3RoaXMga2VlcHMgaXQgYXMgdXRjIGluIGRpc3BsYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbMF0gPSAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlYWwgd2l0aCB0YXBlZG93bnMuIHJlbW92ZS9hZGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJ0ID0gMDsgcnQgPCAkc2NvcGUuUkVUcmVtb3ZlT1BMaXN0Lmxlbmd0aDsgcnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBSRVRpZFRvUmVtb3ZlID0gJHNjb3BlLlJFVHJlbW92ZU9QTGlzdFtydF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5kZWxldGUoeyBpZDogUkVUaWRUb1JlbW92ZSB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVR0YXBlRG93blRhYmxlID0gJHNjb3BlLnJldFRhcGVDb3B5Lmxlbmd0aCA+IDAgPyBbXSA6ICRzY29wZS5SRVR0YXBlRG93blRhYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXQgPSAwOyBhdCA8ICRzY29wZS5yZXRUYXBlQ29weS5sZW5ndGg7IGF0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUkVUdGhpc1RhcGUgPSAkc2NvcGUucmV0VGFwZUNvcHlbYXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSRVR0aGlzVGFwZS5vcF9tZWFzdXJlbWVudHNfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2V4aXN0aW5nLCBwdXQgaW4gY2FzZSB0aGV5IGNoYW5nZWQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS51cGRhdGUoeyBpZDogUkVUdGhpc1RhcGUub3BfbWVhc3VyZW1lbnRzX2lkIH0sIFJFVHRoaXNUYXBlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0YXBlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5vcF9uYW1lID0gUkVUdGhpc1RhcGUub3BfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5WZGF0dW0gPSBSRVR0aGlzVGFwZS5WZGF0dW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5wdXNoKHRhcGVSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV3IG9uZSBhZGRlZCwgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRVR0aGlzVGFwZS5pbnN0cnVtZW50X3N0YXR1c19pZCA9IHN0YXRSZXNwb25zZS5pbnN0cnVtZW50X3N0YXR1c19pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5zYXZlKFJFVHRoaXNUYXBlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0YXBlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5vcF9uYW1lID0gUkVUdGhpc1RhcGUub3BfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5WZGF0dW0gPSBSRVR0aGlzVGFwZS5WZGF0dW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5wdXNoKHRhcGVSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHkgPSBbXTsgJHNjb3BlLnJldFRhcGVDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5SRVR2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcidzIHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlUmV0cmlldmVkKCkgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgZG9uJ3Qgd2FudCB0byBlZGl0IHJldHJpZXZlZCBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbFJldEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5SRVR2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRUYXBlQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy9NQUtFIFNVUkUgQUxMIFNFTEVDVEVEIE9QJ1MgU1RBWSBTRUxFQ1RFRFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgcmVzcG9uc2UgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgJHNjb3BlLlJFVHRhcGVEb3duVGFibGUubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5SRVR0YXBlRG93blRhYmxlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9ICRzY29wZS5SRVR0YXBlRG93blRhYmxlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5SRVR0YXBlRG93blRhYmxlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBSZXRyaWV2ZSBlZGl0XHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSBhU2Vuc29yIGFuZCBzZW5zb3Igc3RhdHVzZXNcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL1RPRE86OiBEZWxldGUgdGhlIGZpbGVzIGZvciB0aGlzIHNlbnNvciB0b28gb3IgcmVhc3NpZ24gdG8gdGhlIFNpdGU/PyBTZXJ2aWNlcyBvciBjbGllbnQgaGFuZGxpbmc/XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTZW5zb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbnNvclRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyB3aWxsIGRlbGV0ZSB0aGUgaW5zdHJ1bWVudCBhbmQgYWxsIGl0J3Mgc3RhdHVzZXNcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBzZW5zb3JUb1JlbW92ZS5pbnN0cnVtZW50X2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgc2Vuc29yRmlsZXMgZm9yIHRoaXMgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zSW1hZ2VGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBpbWFnZSBmaWxlcyBmb3IgdGhpcyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcmVtb3ZlIGFsbCB0aGVzZSBmaWxlcyBmcm9tIFNpdGVGaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFsbFNGaWxlc1tsXS5pbnN0cnVtZW50X2lkID09IHNlbnNvclRvUmVtb3ZlLmluc3RydW1lbnRfaWQpICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKGwsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbXCJkZVwiLCAnZGVsZXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTsgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZSA9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFGaWxlLkZpbGUxID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IG5lZWQgdG8gY2hvb3NlIGEgZmlsZSBmaXJzdFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUZpbGUuaHdtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6ICRzY29wZS5hRmlsZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfbndpczogJHNjb3BlLmFGaWxlLmlzX253aXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5hRmlsZS5vYmplY3RpdmVfcG9pbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7ICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAyID8gXCJEYXRhRmlsZSBGaWxlXCIgOiBcIlNlbnNvciBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgb3BcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbWFnZU1vZGFsID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkltYWdlIEZpbGUgUHJldmlldzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PGltZyBuZy1zcmM9XCJ7e3NldFNSQ319XCIgLz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2VJZCA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0U1JDID0gU0VSVkVSX1VSTCArICcvRmlsZXMvJyArICRzY29wZS5pbWFnZUlkICsgJy9JdGVtJztcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBvcCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLnNlbnNvckZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLnNlbnNJbWFnZUZpbGVzLmxlbmd0aCA+IDAgPyAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMuaW5kZXhPZihmaWxlKSA6IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IGFuZ3VsYXIuY29weShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmdldEZpbGVJdGVtKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHJlc3BvbnNlLkxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVUeXBlID0gJHNjb3BlLmZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7IHJldHVybiBmdC5maWxldHlwZV9pZCA9PSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQ7IH0pWzBdLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIGlmIGV4aXN0aW5nIGZpbGUgaXMgYSBwaG90byAoZXZlbiBpZiB0eXBlIGlzIG5vdCApXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5uYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZJID0gJHNjb3BlLmFGaWxlLm5hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUV4dCA9ICRzY29wZS5hRmlsZS5uYW1lLnN1YnN0cmluZyhmSSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUV4dC5tYXRjaCgvKGpwZ3xKUEd8anBlZ3xKUEVHfHBuZ3xQTkd8Z2lmfEdJRikkLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5waG90b19kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgYWdlbmN5IG5hbWUgdG8gcGhvdG8gY2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLmRhdGFfZmlsZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnF1ZXJ5KHsgaWQ6IGZpbGUuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRmLmFwcHJvdmFsX2lkICE9PSB1bmRlZmluZWQgJiYgZGYuYXBwcm92YWxfaWQgIT09IG51bGwgJiYgZGYuYXBwcm92YWxfaWQgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5nZXRERkFwcHJvdmFsKHsgaWQ6IGRmLmRhdGFfZmlsZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKGFwcHJvdmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5hcHByb3ZhbERhdGUgPSBuZXcgRGF0ZShhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gYXBwcm92YWxSZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZSBhcHByb3ZhbDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlIGFwcHJvdmFsOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0aW5nIGEgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgpOyAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5mbmFtZSArIFwiIFwiICsgJHNjb3BlLmFTb3VyY2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHQgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IGR0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSBkdFsxXTsgLy93aWxsIGJlIGNvbnZlcnRlZCB0byB1dGMgb24gcG9zdC9wdXQgXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBudWxsOy8vbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBudWxsOy8vbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkIHx8IGUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pc3NpbmdEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGRhdGEgc3RhcnQgZGF0ZSBvciBnb29kIGRhdGEgZW5kIGRhdGUgaXMgbWlzc2luZy4gRWl0aGVyIGNob29zZSBhIGRhdGUsIG9yIGNsaWNrIFByZXZpZXcgRGF0YSB0byBnZXQgYSBjaGFydCBvZiB0aGUgZGF0YSwgd2hlcmUgeW91IGNhbiBjaG9vc2UgdGhlIGRhdGVzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlzc2luZ0RhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBvciBkYXRhZmlsZSBmaXJzdCB0byBnZXQgc291cmNlX2lkIG9yIGRhdGFfZmlsZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5pbnN0cnVtZW50X2lkID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YWZpbGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuc2F2ZSgkc2NvcGUuZGF0YWZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhZmlsZUlEID0gZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiBkZlJlc3BvbnNlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgZGlkIG5vdCBnZXQgY3JlYXRlZCwgZGVsZXRlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5kZWxldGUoeyBpZDogZGF0YWZpbGVJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307ICRzY29wZS5hU291cmNlID0ge307ICRzY29wZS5kYXRhZmlsZSA9IHt9OyAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGRhdGFmaWxlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pdCdzIG5vdCBhIGRhdGEgZmlsZSwgc28gZG8gdGhlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBuZWVkIHRvIGNob29zZSBhIGZpbGUgZmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgY3JlYXRlKClcclxuXHJcbiAgICAgICAgICAgIC8vdXBkYXRlIHRoaXMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2hhcyBEQVRBX0ZJTEVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aW1lem9uZSBhbmQgbWFrZSBzdXJlIGRhdGUgc3RheXMgdXRjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YWZpbGUudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZCB9LCAkc2NvcGUuZGF0YWZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9oYXMgU09VUkNFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNlbnNvciBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYUZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpbGVUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmaWxlVG9SZW1vdmUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgRGVsZXRlTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgfTsvL2VuZCBkZWxldGUoKVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3JtU2VjdGlvbiA9IGZhbHNlOyAvLyBpbiBjYXNlIHRoZXkgY2xpY2tlZCBydW4gc2NyaXB0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnREYXRhRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pczRIeiA9IHsgc2VsZWN0ZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2FwcHJvdmUgdGhpcyBkYXRhZmlsZSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVERiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyB2YWxpZCwgc2hvdyBtb2RhbCB0byBjb25maXJtIHRoZXkgd2FudCB0byBhcHByb3ZlIGl0XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0RGID0gJHNjb3BlLmRhdGFmaWxlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPkFwcHJvdmUgRGF0YSBGaWxlPC9oMz48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1ib2R5Jz48cD5BcmUgeW91IHJlYWR5IHRvIGFwcHJvdmUgdGhpcyBEYXRhIEZpbGU/PC9wPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWZvb3Rlcic+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1wcmltYXJ5JyBuZy1jbGljaz0nYXBwcm92ZUl0KCknPkFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSB0aGUgc2l0ZSBhbmQgYWxsIHRoaW5ncyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHRoaXNERik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ZlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5hcHByb3ZlREYoeyBpZDogZGYuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGFwcHJvdmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGYuYXBwcm92YWxfaWQgPSBhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXRhIEZpbGUgQXBwcm92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUoYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09IGFwcHJvdmFsUmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9hcHByb3ZlIHRoaXMgaHdtIChpZiBhZG1pbiBvciBtYW5hZ2VyKVxyXG4gICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlREYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNERiA9ICRzY29wZS5kYXRhZmlsZTtcclxuICAgICAgICAgICAgICAgIHZhciB1bmFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPlJlbW92ZSBBcHByb3ZhbDwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW4gdG8gdW5hcHByb3ZlIHRoaXMgRGF0YSBGaWxlPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J3VuQXBwcm92ZUl0KCknPlVuYXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdW5hcHByb3ZlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51bkFwcHJvdmVERih7IGlkOiBkZi5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmFwcHJvdmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0YSBGaWxlIFVuYXBwcm92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVuYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVuYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBwcmVzc3VyZSB0cmFuc2R1Y2VyIHNlbnNvcidzIGRhdGEgZmlsZSwgcnVuIGFpciBzY3JpcHQgdXNpbmcgdGhlIGRhdGEgZmlsZSBpZFxyXG4gICAgICAgICAgICAkc2NvcGUucnVuQWlyU2NyaXB0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoZSBhaXIgc2Vuc29yIGhhcyBhIHRhcGVkb3duIHdpdGggdGhlIHNlbnNvcl9lbGV2YXRpb24gb24gYm90aCBkZXAgYW5kIHJldHJpZXZlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQuc2Vuc29yX2VsZXZhdGlvbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0LnNlbnNvcl9lbGV2YXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuc2NyaXB0X3BhcmVudCA9PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBtb2RhbCBhc2tpbmcgaWYgdGhleSB3YW50IHRvIGRlbGV0ZSBhbGwgdGhlIHByb2Nlc3NlZCBmaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVydW5Nb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgQWlyIFNjcmlwdCBoYXMgYWxyZWFkeSBiZWVuIHByb2Nlc3NlZCBmb3IgdGhpcyBzZW5zb3IgZGF0YSBmaWxlLiBXb3VsZCB5b3UgbGlrZSB0byBkZWxldGUgdGhlIG91dHB1dCBmaWxlcyBhbmQgcmVydW4gdGhlIHNjcmlwdD88L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmdcIiBuZy1lbnRlcj1cIm5vKClcIiBuZy1jbGljaz1cIm5vKClcIj5DYW5jZWw8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJ5ZXMoKVwiIG5nLWNsaWNrPVwieWVzKClcIj5SZXJ1biBTY3JpcHQ8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAndGhlRmlsZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCB0aGVGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUueWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGVGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZUZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXJ1bk1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChhZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIGFsbCB0aGUgb3V0cHV0IGZpbGVzIHRoYXQgaGF2ZSB0aGlzIGZpbGVfaWQgYXMgdGhlaXIgJ3NjcmlwdF9wYXJlbnQnIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc2VkRmlsZUNvdW50ID0gJHNjb3BlLnNlbnNvckZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zY3JpcHRfcGFyZW50ID09IGFmaWxlLmZpbGVfaWQudG9TdHJpbmcoKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hDbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZEZpbGVDb3VudCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGwgZG9uZSwgcnVuIGl0IGFnYWluIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5ydW5BaXJTY3JpcHQoeyBhaXJERklEOiBhZmlsZS5kYXRhX2ZpbGVfaWQsIHVzZXJuYW1lOiAkY29va2llcy5nZXQoJ1NUTlVzZXJuYW1lJykgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJ0cnVlXCIpOyAvL3RlbGwgc2l0ZS5jdHJsIHRvIHNob3cgdG9hc3RyIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmLnNjcmlwdF9wYXJlbnQgPT0gYWZpbGUuZmlsZV9pZC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGYuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQ250Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaENudCA9PSBwcm9jZXNzZWRGaWxlQ291bnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGwgZG9uZSwgcnVuIGl0IGFnYWluIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5ydW5BaXJTY3JpcHQoeyBhaXJERklEOiBhZmlsZS5kYXRhX2ZpbGVfaWQsIHVzZXJuYW1lOiAkY29va2llcy5nZXQoJ1NUTlVzZXJuYW1lJykgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJ0cnVlXCIpOyAvL3RlbGwgc2l0ZS5jdHJsIHRvIHNob3cgdG9hc3RyIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG91dHB1dCBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvL2VuZCBmb3JlYWNoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgcmVydW5Nb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjcmlwdF9wYXJlbnQgaXMgbm90IHRydWUsIG5ldmVyIGJlZW4gcnVuIGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQWlyU2NyaXB0KHsgYWlyREZJRDogJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZCwgdXNlcm5hbWU6ICRjb29raWVzLmdldCgnU1ROVXNlcm5hbWUnKSB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHJ1bm5pbmcgQWlyIFNjcmlwdDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfU2NyaXB0LnNldElzU2NyaXB0UnVubmluZyhcInRydWVcIik7IC8vdGVsbCBzaXRlLmN0cmwgdG8gc2hvdyB0b2FzdHIgbm90aWZpY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWlzc2luZ1NlYUVsZXYgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIFByZXNzdXJlIFRyYW5zZHVjZXIgU2Vuc29yIGRvZXMgbm90IGhhdmUgYSBzZW5zb3IgZWxldmF0aW9uLjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxwPlBsZWFzZSB1cGRhdGUgdGhlIHNlbnNvciwgcHJvdmlkaW5nIGEgc2Vuc29yIGVsZXZhdGlvbiBmb3IgYm90aCB0aGUgZGVwbG95ZWQgc2VjdGlvbiBhbmQgcmV0cmlldmVkIHNlY3Rpb24uIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHRoZSBzY3JpcHQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGNEaXN0YW5jZShsYXQxLCBsb24xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vd3d3Lmdlb2RhdGFzb3VyY2UuY29tL2RldmVsb3BlcnMvamF2YXNjcmlwdFxyXG4gICAgICAgICAgICAgICAgdmFyIHJhZGxhdDEgPSBNYXRoLlBJICogbGF0MSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIHZhciByYWRsYXQyID0gTWF0aC5QSSAqICRzY29wZS50aGlzU2Vuc29yU2l0ZS5sYXRpdHVkZV9kZCAvIDE4MDtcclxuICAgICAgICAgICAgICAgIHZhciB0aGV0YSA9IGxvbjEgLSAkc2NvcGUudGhpc1NlbnNvclNpdGUubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZHRoZXRhID0gTWF0aC5QSSAqIHRoZXRhIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3QgPSBNYXRoLnNpbihyYWRsYXQxKSAqIE1hdGguc2luKHJhZGxhdDIpICsgTWF0aC5jb3MocmFkbGF0MSkgKiBNYXRoLmNvcyhyYWRsYXQyKSAqIE1hdGguY29zKHJhZHRoZXRhKTtcclxuICAgICAgICAgICAgICAgIGRpc3QgPSBNYXRoLmFjb3MoZGlzdCk7XHJcbiAgICAgICAgICAgICAgICBkaXN0ID0gZGlzdCAqIDE4MCAvIE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICBkaXN0ID0gZGlzdCAqIDYwICogMS4xNTE1OyAvLyBtaWxlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc3Q7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93U3Rvcm1TZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3JtU2VjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50RmlsZU5hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFsbEV2ZW50RGF0YUZpbGVzLCBmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZi5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRmLmRpc3RhbmNlID0gY2FsY0Rpc3RhbmNlKGRmLmxhdGl0dWRlX2RkLCBkZi5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZi5zY3JpcHRfcGFyZW50ID09PSB1bmRlZmluZWQgfHwgZGYuc2NyaXB0X3BhcmVudCA9PSBcInRydWVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50RGF0YUZpbGVzLnB1c2goZGYpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBub3cgc29ydCBieSBkaXN0YW5jZSBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnREYXRhRmlsZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGEuZGlzdGFuY2UpIC0gcGFyc2VGbG9hdChiLmRpc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIFBBR0lOQVRJT04gc3R1ZmYgXHJcbiAgICAgICAgICAgIC8vIGNoYW5nZSBzb3J0aW5nIG9yZGVyXHJcbiAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAhJHNjb3BlLnJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgLy8gaWNvbiBzZXR1cFxyXG4gICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2luYXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgICAgIG1heFBhZ2luYXRpb25TaXplOiAyMDBcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5pdGVtc1BlclBhZ2UgPSAxMDtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBwb2ludHMgZm9yIHNob3duIHBlb3BsZVxyXG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyBwYWdlIGluIHRoZSBwYWdpbmF0aW9uIGJhclxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlUGFnZUluZGV4ZXMgPSBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BhZ2UgY2hhbmdlZCB0bzogJyArICRzY29wZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maXJzdEluZGV4ID0gKCRzY29wZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUuaXRlbXNQZXJQYWdlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxhc3RJbmRleCA9ICRzY29wZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlICogJHNjb3BlLml0ZW1zUGVyUGFnZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVBhZ2VJbmRleGVzKCk7XHJcblxyXG4gICAgICAgICAgICAvL2VuZCBQQUdJTkFUSU9OIHN0dWZmIFxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUNob3NlbkFpclJhZGlvID0gZnVuY3Rpb24gKGRmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5ldmVudERhdGFGaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZmlsZS5kYXRhX2ZpbGVfaWQgIT0gJHNjb3BlLmV2ZW50RGF0YUZpbGVzW2ldLmRhdGFfZmlsZV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50RGF0YUZpbGVzW2ldLnNlbGVjdGVkID0gJ2ZhbHNlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBydW5UaGVTdG9ybVNjcmlwdCA9IGZ1bmN0aW9uIChhaXJERikge1xyXG4gICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5nZXRGdWxsSW5zdHJ1bWVudCh7IGlkOiBhaXJERi5pbnN0cnVtZW50X2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGFpclNlbnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50U3RhdHMgPSBhaXJTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhdGVyREYgPSAkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBib29sVmFsID0gJHNjb3BlLmlzNEh6LnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJ1biB0aGUgc2NyaXB0IGlmIGFpckRGIGFuZCB3YXRlckRGIGFyZSBwcmVzZW50ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuU3Rvcm1TY3JpcHQoeyBzZWFERklEOiB3YXRlckRGLCBhaXJERklEOiBhaXJERi5kYXRhX2ZpbGVfaWQsIGhlcnR6OiBib29sVmFsLCB1c2VybmFtZTogJGNvb2tpZXMuZ2V0KCdTVE5Vc2VybmFtZScpIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHJ1bm5pbmcgQWlyIFNjcmlwdDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHJ1bm5pbmcgQWlyIFNjcmlwdDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFNpdGVfU2NyaXB0LnNldElzU2NyaXB0UnVubmluZyhcInRydWVcIik7IC8vdGVsbCBzaXRlLmN0cmwgdG8gc2hvdyB0b2FzdHIgbm90aWZpY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEZpbGUoKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgQWlyIFNlbnNvcjogXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vIGVuZCBnZXRGdWxsSW5zdHJ1bWVudFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHdhdGVyIHNlbnNvcidzIGRhdGEgZmlsZSwgcnVuIHN0b3JtIHNjcmlwdCB1c2luZyBhaXIgYW5kIHdhdGVyIGRhdGEgZmlsZSBpZHMgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUucnVuU3Rvcm1TY3JpcHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWlyREYgPSAkc2NvcGUuZXZlbnREYXRhRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnNlbGVjdGVkID09IFwidHJ1ZVwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIGlmIChhaXJERiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXkgYWRkZWQgYSB0YXBlZG93biB3aXRoIHRoZSByZXF1aXJlZCBmaWVsZHMgZm9yIHRoZSBzY3JpcHQgdG8gcnVuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQgPT4gc2VhIGRlcCBhbmQgcmV0ciBzdGF0dXM6IHNlbnNvcl9lbGV2YXRpb24gJiYgc2VhIGRlcCBhbmQgcmV0ciBzdGF0dXM6IGdzX2VsZXZhdGlvbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhdGVyRmlsZSA9ICRzY29wZS5zZW5zb3JGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuZGF0YV9maWxlX2lkID09ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXRBaXJJRFMgPSB3YXRlckZpbGUuZmlsZV9pZCArIFwiX1wiICsgYWlyREYuZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeVJhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaGFzIHNjcmlwdCBiZWVuIHJhbiBhbHJlYWR5IHdpdGggdGhpcyB3YXRlci9haXIgZmlsZSBjb21ibz9cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoc2Vuc0ZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbnNGaWxlLnNjcmlwdF9wYXJlbnQgPT0gd2F0QWlySURTKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxyZWFkeVJhbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscmVhZHlSYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbHJlYWR5IHJhbi4gc2hvdyBtb2RhbCBzdGF0aW5nIHRoZSBzY3JpcHQgaGFzIGFscmVhZHkgYmVlbiBydW4gd2l0aCB0aGlzICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVydW5TdG9ybU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5XYXJuaW5nPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBTdG9ybSBTY3JpcHQgaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQgZm9yIHRoaXMgc2Vuc29yIGRhdGEgZmlsZSB3aXRoIHRoaXMgYWlyIGRhdGEgZmlsZS4gV291bGQgeW91IGxpa2UgdG8gZGVsZXRlIHRoZSBvdXRwdXQgZmlsZXMgYW5kIHJlcnVuIHRoZSBzY3JpcHQ/PC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctZW50ZXI9XCJubygpXCIgbmctY2xpY2s9XCJubygpXCI+Q2FuY2VsPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwieWVzKClcIiBuZy1jbGljaz1cInllcygpXCI+UmVydW4gU2NyaXB0PC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoZUFpckZpbGUnLCAndGhlV2F0ZXJGaWxlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHRoZUFpckZpbGUsIHRoZVdhdGVyRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ubyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVzQXJyYXkgPSBbdGhlQWlyRmlsZSwgdGhlV2F0ZXJGaWxlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoZmlsZXNBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVBaXJGaWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhaXJERjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZVdhdGVyRmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2F0ZXJGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcnVuU3Rvcm1Nb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoYm90aEZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgYWxsIHRoZSBvdXRwdXQgZmlsZXMgdGhhdCBoYXZlIHRoaXMgZmlsZV9pZCBhcyB0aGVpciAnc2NyaXB0X3BhcmVudCcgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzZWRGaWxlQ291bnQgPSAkc2NvcGUuc2Vuc29yRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLnNjcmlwdF9wYXJlbnQgPT0gYm90aEZpbGVzWzFdLmZpbGVfaWQudG9TdHJpbmcoKSArIFwiX1wiICsgYm90aEZpbGVzWzBdLmZpbGVfaWQudG9TdHJpbmcoKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hDbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZi5zY3JpcHRfcGFyZW50ID09IGJvdGhGaWxlc1sxXS5maWxlX2lkLnRvU3RyaW5nKCkgKyBcIl9cIiArIGJvdGhGaWxlc1swXS5maWxlX2lkLnRvU3RyaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVRoaXMgPSBmLmZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGYuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoQ250Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaENudCA9PSBwcm9jZXNzZWRGaWxlQ291bnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuVGhlU3Rvcm1TY3JpcHQoYWlyREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBvdXRwdXQgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy9lbmQgZm9yZWFjaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHJlcnVuTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blRoZVN0b3JtU2NyaXB0KGFpckRGKTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly8gZW5kIGlmIHNlYSBkZXAvcmV0ciBoYXMgc2Vuc29yX2VsZXZhdGlvbiAmJiBnc19lbGV2YXRpb25cclxuXHJcbiAgICAgICAgICAgICAgICB9IC8vIGVuZCBpZiBhaXJERiAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaXNzaW5nSW5mbyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBjaG9vc2UgYW4gYWlyIGRhdGEgZmlsZSB0byB1c2UgZm9yIHRoZSBzdG9ybSBzY3JpcHQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gLy8gZW5kIGVsc2UgKGFpckRGIGlzIHVuZGVmaW5lZClcclxuICAgICAgICAgICAgfTsgLy8gZW5kIHJ1blN0b3JtU2NyaXB0KClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyID0gZmFsc2U7IC8vc2V0IHRvIHRydWUgYW5kIHNob3cgaGlnaGNoYXJ0IHdpdGggY2hvcHBlciByZXN1bHRzXHJcbiAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hhcnRPcHRpb25zMiA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hhcnREYXRhID0gW107XHJcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS56aXAgPSBmdW5jdGlvbiAoYXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2UsIGFycltpXV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8kc2NvcGUucmVuZGVyZXIgPSBuZXcgSGlnaGNoYXJ0cy5SZW5kZXJlcihcclxuICAgICAgICAgICAgJHNjb3BlLnJ1bkNob3BwZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnREYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPcHRpb25zMiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jaGFydE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iai54QXhpc1swXS5yZW1vdmVQbG90TGluZShcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iai54QXhpc1swXS5yZW1vdmVQbG90TGluZShcImVuZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHNlbmRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNtbGFsbExvYWRlckdvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQ2hvcHBlclNjcmlwdChmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNtbGFsbExvYWRlckdvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyS2V5cyA9IE9iamVjdC5rZXlzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gcmVzcG9uc2UuRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbGVkQ2hvcHBlciA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSB3YXMgYW4gZXJyb3IgcnVubmluZyB0aGUgY2hvcHBlci48L3A+PHA+RXJyb3I6IHt7ZXJyb3JNZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ21lc3NhZ2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnREYXRhID0gcmVzcG9uc2UudGltZS56aXAocmVzcG9uc2UucHJlc3N1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T2JqID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbVR5cGU6ICd4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFubmluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuS2V5OiAnc2hpZnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29zdFRocmVzaG9sZDogMjAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG90T3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50Q2xpY2sgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Xb3VsZCB5b3UgbGlrZSB0byBzZXQgdGhpcyAoe3t0aGlzRGF0ZX19KSBhczo8L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPjxzcGFuIGNsYXNzPVwicmFkaW8taW5saW5lXCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ3aGljaERhdGVcIiBuZy1tb2RlbD1cIndoaWNoRGF0ZVwiIHZhbHVlPVwic3RhcnRcIiAvPkdvb2QgU3RhcnQgRGF0ZTwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cInJhZGlvLWlubGluZVwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwid2hpY2hEYXRlXCIgbmctbW9kZWw9XCJ3aGljaERhdGVcIiB2YWx1ZT1cImVuZFwiIC8+R29vZCBFbmQgRGF0ZTwvc3Bhbj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwiY2FuY2VsKClcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2Nob3NlbkRhdGUnLCAneEV2ZW50JywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIGNob3NlbkRhdGUsIHhFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS53aGljaERhdGUgPT0gXCJcIikgYWxlcnQoXCJObyBEYXRlIGNob3NlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBbJHNjb3BlLndoaWNoRGF0ZSwgY2hvc2VuRGF0ZSwgeEV2ZW50XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndoaWNoRGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNEYXRlID0gbmV3IERhdGUoY2hvc2VuRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5EYXRlOiBldmVudC5wb2ludC5jYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4RXZlbnQ6IGV2ZW50LmNoYXJ0WFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50Q2xpY2sucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcnQgPSAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSdzIGFscmVhZHkgYSBwbG90bGluZSB3aXRoIHRoaXMgaWQgYW5kIHJlbW92ZSBpdCBpZiBzb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQucmVtb3ZlUGxvdExpbmUocGFydHNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwbG90IGxpbmUgdG8gdmlzdWFsbHkgc2VlIHdoZXJlIHRoZXkgYWRkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LmFkZFBsb3RMaW5lKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hhcnQudG9WYWx1ZShwYXJ0c1syXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHBhcnRzWzBdID09IFwic3RhcnRcIiA/ICcjMDBmZjAwJyA6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcGFydHNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxOTk5OSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogeyB0ZXh0OiBwYXJ0c1swXSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUocGFydHNbMV0pLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGdldERhdGVUaW1lUGFydHModGhlRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT0gXCJzdGFydFwiKSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1BvaW50U2VsZWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VzZU92ZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcmllcy5oYWxvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJpZXMuaGFsby5hdHRyKHsgJ2NsYXNzJzogJ2hpZ2hjaGFydHMtdHJhY2tlcicgfSkudG9Gcm9udCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlIC8vIHR1cm4gZG90cyBvZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1ByZXZpZXcgb2YgUHJlc3N1cmUgRGF0YSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGljayBhbmQgZHJhZyB0byB6b29tIGluLiBIb2xkIGRvd24gc2hpZnQga2V5IHRvIHBhbi4gVG8gc2VsZWN0IEdvb2QgU3RhcnQvRW5kIERhdGUsIGNsaWNrIHBvaW50IG9uIGxpbmUuJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeEF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyS2V5c1sxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZXRpbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVGltZUxhYmVsRm9ybWF0czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiAnJVktJW0tJWQ8YnIvPiVIOiVNOiVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJyVZLSVtLSVkPGJyLz4lSDolTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyOiAnJVktJW0tJWQ8YnIvPiVIOiVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogJyVZPGJyLz4lbS0lZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrOiAnJVk8YnIvPiVtLSVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnJVktJW0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogJyVZJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5QXhpczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJHNjb3BlLmNob3BwZXJSZXNwb25zZTJLZXlzWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAne3ZhbHVlfSBwc2knXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJHNjb3BlLmNoYXJ0RGF0YSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBmaWxlIHdhc24ndCB0aGVyZS4uXHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgLy8gTldJUyBEQVRBX0ZJTEVcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5zZW5zb3JEYXRhTldJUykge1xyXG4gICAgICAgICAgICAgICAgLy9GSUxFLlZBTElEQVRFRCBiZWluZyB1c2VkIHRvIHN0b3JlIDEgaWYgdGhpcyBpcyBhbiBud2lzIGZpbGUgbWV0YWRhdGEgbGlua1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYWkgPSAkc2NvcGUuc2Vuc29yRmlsZXMubGVuZ3RoIC0gMTsgYWkgPj0gMDsgYWktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2Vuc29yRmlsZXNbYWldLmlzX253aXMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLnB1c2goJHNjb3BlLnNlbnNvckZpbGVzW2FpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5zcGxpY2UoYWksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkdCA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGUgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBpZiAoZiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBOV0lTIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0gYW5ndWxhci5jb3B5KGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0ZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5GaWxlVHlwZSA9IFwiRGF0YVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ud2lzUHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5OV0lTREYucHJvY2Vzc29yX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5jb2xsZWN0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmNvbGxlY3RfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLk5XSVNERi5nb29kX2VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0aW5nIGEgbndpcyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaHR0cHM6Ly93YXRlcmRhdGEudXNncy5nb3Yvbndpcy91dj9zaXRlX25vPScgKyAkc2NvcGUudGhpc1NlbnNvclNpdGUudXNnc19zaWQsICAvLyBpZiBbZmlsbCBpbiBpZiBub3QgaGVyZS4uIFRPRE8uLi4mYmVnaW5fZGF0ZT0yMDE2MDQxMyZlbmRfZGF0ZT0yMDE2MDQxOSAoZXZlbnQgc3RhcnQvZW5kKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnPGxpbms+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVR5cGU6ICdEYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnNlbnNvci5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5zZW5zb3IuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfbndpczogMVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc29yX2lkOiAkY29va2llcy5nZXQoXCJtSURcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5zZW5zb3IuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdF9kYXRlOiBkdFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZV96b25lOiBkdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZF9zdGFydDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZF9lbmQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ud2lzUHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBuZXcgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgcG9zdEFwcHJvdmFsRm9yTldJU2ZpbGUgPSBmdW5jdGlvbiAoREZpZCkge1xyXG4gICAgICAgICAgICAgICAgREFUQV9GSUxFLmFwcHJvdmVOV0lTREYoeyBpZDogREZpZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgbndpcyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBud2lzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVOV0lTRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCBkYXRhZmlsZSBmaXJzdCB0byBnZXQgb3IgZGF0YV9maWxlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFmaWxlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5zYXZlKCRzY29wZS5OV0lTREYpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKE5kZlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFmaWxlSUQgPSBOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlLmRhdGFfZmlsZV9pZCA9IE5kZlJlc3BvbnNlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEFwcHJvdmFsRm9yTldJU2ZpbGUoTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkKTsgLy9wcm9jZXNzIGFwcHJvdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLk5XSVNGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChGcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBEYXRhIHNhdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLnNlbnNvckZpbGVzLnB1c2goRnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMucHVzaChGcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKEZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsZSBkaWQgbm90IGdldCBjcmVhdGVkLCBkZWxldGUgZGF0YWZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5kZWxldGUoeyBpZDogZGF0YWZpbGVJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9OyAkc2NvcGUuTldJU0RGID0ge307ICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgZGF0YWZpbGUuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvLyBlbmQgY3JlYXRlIE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZU5XSVNGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTldJU0RGLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5OV0lTREYuZGF0YV9maWxlX2lkIH0sICRzY29wZS5OV0lTREYpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuTldJU0ZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuTldJU0ZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIERhdGEgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG53aXMgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbndpcyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG53aXMgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG53aXMgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIHRoaXMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlTldJU0ZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuTldJU0ZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpbGVUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmaWxlVG9SZW1vdmUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKCRzY29wZS5hbGxTRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgRGVsZXRlTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgfTsvL2VuZCBkZWxldGUoKVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbE5XSVNGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1dKTsvL2VuZCBmdWxsU2Vuc29yTW9kYWxDdHJsXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdzZW5zb3JDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckcScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJ3RoaXNTaXRlJywgJ0luc3RydW1lbnRfU2VydmljZScsICd0aGlzU2l0ZVNlbnNvcnMnLFxyXG4gICAgICAgICdhbGxTZW5zb3JCcmFuZHMnLCAnYWxsQWdlbmNpZXMnLCAnYWxsVmVydERhdHVtcycsICdhbGxEZXBsb3lUeXBlcycsICdhbGxTZW5zb3JUeXBlcycsICdhbGxIb3VzaW5nVHlwZXMnLCAnYWxsRXZlbnRzJywgJ2FsbEZpbGVUeXBlcycsICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ1NJVEUnLCAnTUVNQkVSJywgJ0RFUExPWU1FTlRfVFlQRScsICdTVEFUVVNfVFlQRScsXHJcbiAgICAgICAgJ0lOU1RfQ09MTF9DT05ESVRJT04nLCAnREFUQV9GSUxFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkcSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkdGltZW91dCwgdGhpc1NpdGUsIEluc3RydW1lbnRfU2VydmljZSwgdGhpc1NpdGVTZW5zb3JzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbEFnZW5jaWVzLCBhbGxWZXJ0RGF0dW1zLCBhbGxEZXBsb3lUeXBlcyxcclxuICAgICAgICAgICAgYWxsU2Vuc29yVHlwZXMsIGFsbEhvdXNpbmdUeXBlcywgYWxsRXZlbnRzLCBhbGxGaWxlVHlwZXMsIElOU1RSVU1FTlQsIElOU1RSVU1FTlRfU1RBVFVTLCBTSVRFLCBNRU1CRVIsIERFUExPWU1FTlRfVFlQRSwgU1RBVFVTX1RZUEUsIElOU1RfQ09MTF9DT05ESVRJT04sIERBVEFfRklMRSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50ID0geyB0b3RhbDogdGhpc1NpdGVTZW5zb3JzLmxlbmd0aCB9OyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdCA9IGFuZ3VsYXIuY29weShhbGxEZXBsb3lUeXBlcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcERlcFR5cGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvL2ZpeCBkZXBsb3ltZW50IHR5cGVzIHNvIHRoYXQgXCJUZW1wZXJhdHVyZVwiIGJlY29tZXMgMiA6IFRlbXBlcmF0dXJlIChNZXQgc2Vuc29yKS1TZW5zb3JUeXBlOjIgYW5kIFRlbXBlcmF0dXJlIChwcmVzc3VyZSB0cmFuc2R1Y2VyKS1TZW5zb3JUeXBlOjEgLS0ganVzdCBmb3IgcHJvcG9zZWRcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgJHNjb3BlLmRlcGxveVR5cGVMaXN0Lmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5tZXRob2QgPT09IFwiVGVtcGVyYXR1cmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wRGVwVHlwZUlEID0gJHNjb3BlLmRlcGxveVR5cGVMaXN0W2RdLmRlcGxveW1lbnRfdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVR5cGVMaXN0W2RdLm1ldGhvZCA9IFwiVGVtcGVyYXR1cmUgKE1ldCBzZW5zb3IpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVR5cGVMaXN0LnB1c2goeyBkZXBsb3ltZW50X3R5cGVfaWQ6IHRlbXBEZXBUeXBlSUQsIG1ldGhvZDogXCJUZW1wZXJhdHVyZSAoUHJlc3N1cmUgVHJhbnNkdWNlcilcIiB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0RlcFR5cGVzID0gYWxsU2Vuc29yVHlwZXM7Ly8gYWxsU2Vuc0RlcHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gZmFsc2U7IC8vdGhleSB3YW50IHRvIGFkZCBhIHByb3Bvc2VkIHNlbnNvciwgb3BlbiBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICAvL25lZWQgdG8gbWFrZSBzdXJlIHRoZSBpbnN0cnVtZW50X3N0YXR1c2VzIGFyZSBpbiB0aGUgY29ycmVjdCBvcmRlciAoWzBdUmV0cmlldmVkLCBbMV1EZXBsb3llZCwgWzJdUHJvcG9zZWQgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHRoaXNTaXRlU2Vuc29ycy5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3JyZWN0T3JkZXJTUyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZW5zb3JTdGF0dXNlcyA9IHRoaXNTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1czsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5zb3JTdGF0dXNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBjYXJlIGFib3V0IG9yZGVyIGlmIHRoZXJlJ3MgbW9yZSB0aGFuIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3Bvc2VkU3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIlByb3Bvc2VkXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95ZWRTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiRGVwbG95ZWRcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXRMb3N0U3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIlJldHJpZXZlZFwiIHx8IHBzLnN0YXR1cyA9PSBcIkxvc3RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IGFkZCB0aGVtIGJhY2sgaW4gY29ycmVjdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRMb3N0U3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChyZXRMb3N0U3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXBsb3llZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2goZGVwbG95ZWRTdGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3Bvc2VkU3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChwcm9wb3NlZFN0YXQpOyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RPcmRlclNTLnB1c2goc2Vuc29yU3RhdHVzZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBwdXQgaXQgYmFjayBpbiB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVTZW5zb3JzW3NdLmluc3RydW1lbnRfc3RhdHVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVTZW5zb3JzW3NdLmluc3RydW1lbnRfc3RhdHVzID0gY29ycmVjdE9yZGVyU1M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycyA9IHRoaXNTaXRlU2Vuc29ycztcclxuICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgLy90byBwYXNzIHRvIHRoZSBzZW5zb3IgbW9kYWxzIGZvciBzZW5zb3IgZmlsZXNcclxuICAgICAgICAgICAgICAgIHZhciBTZW5zRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoc2Z0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9QaG90byAoMSksIERhdGEgKDIpLCBIaXN0b3JpYyAoMyksIEZpZWxkIFNoZWV0cyAoNCksIExldmVsIE5vdGVzICg1KSwgT3RoZXIgKDcpLCBMaW5rICg4KSwgU2tldGNoICgxMClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Z0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IHNmdC5maWxldHlwZSA9PT0gJ0RhdGEnIHx8IHNmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8IHNmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHNmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdMaW5rJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL3Nob3cvaGlkZSBwcm9wb3NlZCBzZW5zb3JzIHRvIGFkZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dIaWRlUHJvcG9zZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9ICEkc2NvcGUuc2hvd1Byb3Bvc2VkO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vYWRkIHRoZXNlIGNoZWNrZWQgUHJvcG9zZWQgc2Vuc29ycyB0byB0aGlzIHNpdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRQcm9wb3NlZCA9IGZ1bmN0aW9uICgpIHsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBUaW1lX1NUQU1QID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkdCA9IDA7IGR0IDwgJHNjb3BlLmRlcGxveVR5cGVMaXN0Lmxlbmd0aDsgZHQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3Bvc2VkVG9BZGQgPSB7fTsgdmFyIHByb3BTdGF0VG9BZGQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLm1ldGhvZC5zdWJzdHJpbmcoMCwgNCkgPT0gXCJUZW1wXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RlbXBlcmF0dXJlIHByb3Bvc2VkIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VkVG9BZGQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiB0aGlzU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5tZXRob2QgPT0gXCJUZW1wZXJhdHVyZSAoUHJlc3N1cmUgVHJhbnNkdWNlcilcIiA/IDEgOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCB0aGUgbmV3IGZ1bGxJbnN0cnVtZW50IGFuZCBzZWUgaWYgYW55IG9mIHRoZSBzZW5zb3IncyBkZXBsb3ltZW50dHlwZXMgYXJlIHRoaXMgZGVwbG95bWVudCB0eXBlIHRvIHNldCB0aGUgc2Vuc29yX3R5cGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0lEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnNlbnNEZXBUeXBlcywgZnVuY3Rpb24gKHNkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHNkdC5kZXBsb3ltZW50dHlwZXMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZHQuZGVwbG95bWVudHR5cGVzW3hdLmRlcGxveW1lbnRfdHlwZV9pZCA9PSAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLmRlcGxveW1lbnRfdHlwZV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzSUQgPSBzZHQuc2Vuc29yX3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSBvdGhlciB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zZWRUb0FkZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2Rlc2NyaXB0aW9uOiBcIlByb3Bvc2VkIHNlbnNvciBhdCB0aGlzIHNpdGUuIENoYW5nZSBkZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBzZW5zb3IuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5kZXBsb3ltZW50X3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IHRoaXNTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlX2lkOiBzSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHBvc3QgaXQgKEluc3RydW1lbnQgZmlyc3QsIHRoZW4gSW5zdHJ1bWVudCBTdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50SUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5zYXZlKHByb3Bvc2VkVG9BZGQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElEID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFByb3BTZW5zb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiByZXNwb25zZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogcmVzcG9uc2UuZXZlbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2Rlc2NyaXB0aW9uOiByZXNwb25zZS5sb2NhdGlvbl9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6IHJlc3BvbnNlLnNlbnNvcl90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiByZXNwb25zZS5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50VHlwZTogJHNjb3BlLmRlcGxveVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZHRsKSB7IHJldHVybiBkdGwuZGVwbG95bWVudF90eXBlX2lkID09IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JUeXBlOiAkc2NvcGUuc2Vuc0RlcFR5cGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfdHlwZV9pZCA9PSByZXNwb25zZS5zZW5zb3JfdHlwZV9pZDt9KVswXS5zZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdGF0VG9BZGQgPSB7IGluc3RydW1lbnRfaWQ6IHJlc3BvbnNlLmluc3RydW1lbnRfaWQsIHN0YXR1c190eXBlX2lkOiA0LCBtZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJyksIHRpbWVfc3RhbXA6IFRpbWVfU1RBTVAsIHRpbWVfem9uZTogJ1VUQycsIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnNhdmUocHJvcFN0YXRUb0FkZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdGF0VG9BZGQuc3RhdHVzID0gJ1Byb3Bvc2VkJzsgcHJvcFN0YXRUb0FkZC5pbnN0cnVtZW50X3N0YXR1c19pZCA9IHN0YXRSZXNwb25zZS5pbnN0cnVtZW50X3N0YXR1c19pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFByb3BTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbcHJvcFN0YXRUb0FkZF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMucHVzaChjcmVhdGVkUHJvcFNlbnNvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhbiB1cCAuLi5hbGwgdW5jaGVja2VkIGFuZCB0aGVuIGhpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZGVwID0gMDsgZGVwIDwgJHNjb3BlLmRlcGxveVR5cGVMaXN0Lmxlbmd0aDsgZGVwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkZXBdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlByb3Bvc2VkIHNlbnNvciBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc3RhdHVzIGZhaWxzLCBuZWVkIHRvIGRlbGV0ZSB0aGUgc2Vuc29yIHRvb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBpbnN0cnVtZW50SUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy9lbmQgSU5TVFJVTUVOVC5zYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzZWxlY3RlZCA9PSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGZvcmVhY2ggZGVwbG95VHlwZUxpc3RcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgQWRkUHJvcG9zZWQoKVxyXG5cclxuICAgICAgICAgICAgICAgIC8vd2FudCB0byByZXRyaWV2ZSB0aGlzIGRlcGxveWVkIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dSZXRyaWV2ZU1vZGFsID0gZnVuY3Rpb24gKHNlbnNvckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25lZWQgc3RhdHVzVHlwZXMsIENvbGxlY3RDb25kaXRpb25zICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlU2Vuc29ycy5pbmRleE9mKHNlbnNvckNsaWNrZWQpOyB2YXIgYWxsaW5kZXggPSB0aGlzU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi4vLyQoXCIucGFnZS1sb2FkaW5nXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpOyAvL2xvYWRpbmcuLi5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnU2Vuc29yUmV0cmlldmFsTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZW5zb3JSZXRyaWV2YWxNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vuc29yQ2xpY2tlZCAhPT0gMCA/IHNlbnNvckNsaWNrZWQgOiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEV2ZW50cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlT1BzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZU9Qcyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdHVzVHlwZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVFVTX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW5zdENvbGxDb25kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOU1RfQ09MTF9DT05ESVRJT04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsVkRhdHVtTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocmV0cmlldmVkU2Vuc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRyaWV2ZWRTZW5zb3JbMV0gPT0gJ3JldHJpZXZlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29yc1tpbmRleENsaWNrZWRdID0gcmV0cmlldmVkU2Vuc29yWzBdOyB0aGlzU2l0ZVNlbnNvcnNbYWxsaW5kZXhdID0gcmV0cmlldmVkU2Vuc29yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRyaWV2ZWRTZW5zb3JbMV0gPT0gJ2RlbGV0ZWRSJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZDEgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycy5zcGxpY2UoaW5kZXhDbGlja2VkMSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIHNob3dSZXRyaWV2ZU1vZGFsXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZFNlbnNvciA9IGZ1bmN0aW9uIChwcm9wb3NlZFNlbnNvckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcEluZGV4ID0gJHNjb3BlLlNpdGVTZW5zb3JzLmluZGV4T2YocHJvcG9zZWRTZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcE1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnUHJvcG9zZWRTZW5zb3IuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3Byb3Bvc2VkU2Vuc29yJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHByb3Bvc2VkU2Vuc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1Byb3Bvc2VkU2Vuc29yID0gcHJvcG9zZWRTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlUHJvcG9zZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdQcm9wb3NlZCBTZW5zb3InO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJQcm9wb3NlZCBTZW5zb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgnZGVsZXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VkU2Vuc29yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3Bvc2VkU2Vuc29yQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID09ICdkZWxldGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBwcm9wb3NlZFNlbnNvckNsaWNrZWQuaW5zdHJ1bWVudF9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVNlbnNvcnMuc3BsaWNlKHByb3BJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzID0gdGhpc1NpdGVTZW5zb3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudC50b3RhbCA9ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zdHJ1bWVudF9TZXJ2aWNlLnNldEFsbFNpdGVTZW5zb3JzKCRzY29wZS5TaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQcm9wb3NlZCBzZW5zb3IgZGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gZGVwbG95IGEgcHJvcG9zZWQgc2Vuc29yLCBlZGl0IGEgZGVwbG95ZWQgc2Vuc29yIG9yIGNyZWF0ZSBhIG5ldyBkZXBsb3llZCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2Vuc29yTW9kYWwgPSBmdW5jdGlvbiAoc2Vuc29yQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXNzQWxsTGlzdHMgPSBbYWxsU2Vuc29yVHlwZXMsIGFsbFNlbnNvckJyYW5kcywgYWxsSG91c2luZ1R5cGVzLCBhbGxFdmVudHMsIFNlbnNGaWxlVHlwZXMsIGFsbFZlcnREYXR1bXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi4vLyAkKFwiLnBhZ2UtbG9hZGluZ1wiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGlzIGEgY3JlYXRlLCBzaG93IHRoZSBzZW5zb3Jtb2RhbC5odG1sLCBpZiBsb29raW5nIGF0IGRlcGxveWVkIHNlbnNvciwgZ28gdG8gdGhlIGRlcHNlbnNvcm1vZGFsLmh0bWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHNlbnNvckNsaWNrZWQgPT09IDAgfHwgc2Vuc29yQ2xpY2tlZC5pbnN0cnVtZW50X3N0YXR1c1swXS5zdGF0dXNfdHlwZV9pZCA9PT0gNCA/ICdTZW5zb3Jtb2RhbC5odG1sJyA6ICdEZXBTZW5zb3Jtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NlbnNvck1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEcm9wZG93bnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFzc0FsbExpc3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcFR5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERFUExPWU1FTlRfVFlQRS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnNvckNsaWNrZWQgIT09IDAgPyBzZW5zb3JDbGlja2VkIDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVPUHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlT1BzKHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZFNlbnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5TaXRlU2Vuc29ycy5pbmRleE9mKHNlbnNvckNsaWNrZWQpOyB2YXIgc2kgPSB0aGlzU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8nZGVwbG95UCcgLT4gY3JlYXRlZFNlbnNvclsxXSB3aWxsIGJlOiAncHJvcG9zZWREZXBsb3llZCcgZGVwbG95IG5ldyAtPiBjcmVhdGVkU2Vuc29yWzFdIHdpbGwgYmU6ICduZXdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2Vuc29yWzFdID09ICdwcm9wb3NlZERlcGxveWVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzW2ldID0gY3JlYXRlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU2Vuc29yc1tzaV0gPSBjcmVhdGVkU2Vuc29yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zdHJ1bWVudF9TZXJ2aWNlLnNldEFsbFNpdGVTZW5zb3JzKCRzY29wZS5TaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRTZW5zb3JbMV0gPT0gJ25ld0RlcGxveWVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzLnB1c2goY3JlYXRlZFNlbnNvclswXSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2Vuc29yWzFdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBmcm9tIGVkaXQgLS0gcmVmcmVzaCBwYWdlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29yc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFNlbnNvclsxXSA9PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zdHJ1bWVudF9TZXJ2aWNlLnNldEFsbFNpdGVTZW5zb3JzKCRzY29wZS5TaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gc2VlIHRoZSByZXRyaWV2ZWQgc2Vuc29yIChjYW4gZWRpdCBkZXBsb3llZCBwYXJ0IGFuZCByZXRyaWV2ZWQgcGFydCBvbiBoZXJlKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGdWxsU2Vuc29yTW9kYWwgPSBmdW5jdGlvbiAoc2Vuc29yQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2VuZCBhbGwgZGVwbG95ZWQgc3R1ZmYgYW5kIHJldHJpZXZlZCBzdHVmZiB0byBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBsb3llZFN0dWZmID0gW2FsbFNlbnNvclR5cGVzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbEhvdXNpbmdUeXBlcywgU2Vuc0ZpbGVUeXBlcywgYWxsVmVydERhdHVtc107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHJpZXZlZFN0dWZmID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlU2Vuc29ycy5pbmRleE9mKHNlbnNvckNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOy8vIGxvYWRpbmcuLi8vICQoXCIucGFnZS1sb2FkaW5nXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpOyAvL2xvYWRpbmcuLi5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZnVsbFNlbnNvcm1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZnVsbFNlbnNvck1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBEcm9wZG93bnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwbG95ZWRTdHVmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0dXNUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFUVVNfVFlQRS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxJbnN0Q29sbENvbmQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5TVF9DT0xMX0NPTkRJVElPTi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsRXZlbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcFR5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERFUExPWU1FTlRfVFlQRS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnNvckNsaWNrZWQgIT09IDAgPyBzZW5zb3JDbGlja2VkIDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVPUHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlT1BzKHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50RGF0YUZpbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERBVEFfRklMRS5nZXRFdmVudERhdGFWaWV3KHsgZXZlbnRJZDogc2Vuc29yQ2xpY2tlZC5ldmVudF9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRTZW5zb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRTZW5zb3JbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMuc3BsaWNlKGluZGV4Q2xpY2tlZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5zdHJ1bWVudF9TZXJ2aWNlLnNldEFsbFNpdGVTZW5zb3JzKCRzY29wZS5TaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzW2luZGV4Q2xpY2tlZF0gPSBjcmVhdGVkU2Vuc29yWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycyA9IHRoaXNTaXRlU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIChoLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSkgfHwgaC5pbnN0cnVtZW50X3N0YXR1c1swXS5zdGF0dXNfdHlwZV9pZCA9PSA0OyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50ID0geyB0b3RhbDogJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycyA9IHRoaXNTaXRlU2Vuc29ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50ID0geyB0b3RhbDogJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IC8vZW5kIGVsc2Ugbm90IGF1dGhcclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdzaXRlTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckcScsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyRzY2UnLCAnJHRpbWVvdXQnLCAnJHVpYk1vZGFsJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyRmaWx0ZXInLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdhbGxEcm9wRG93blBhcnRzJyxcclxuICAgICAgICAnZmlsZVR5cGVzJywgJ2FnZW5jeUxpc3QnLCAnbGF0bG9uZycsICd0aGlzU2l0ZVN0dWZmJywgJ2FsbE1lbWJlcnMnLCAnU0lURScsICdTSVRFX0hPVVNJTkcnLCAnU2l0ZV9GaWxlcycsICdNRU1CRVInLCAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdMQU5ET1dORVJfQ09OVEFDVCcsICdHRU9DT0RFJywgJ0ZJTEVfU1RBTVAnLCAnRklMRScsICdTT1VSQ0UnLCAnU0VSVkVSX1VSTCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRxLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICRzY2UsICR0aW1lb3V0LCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkZmlsdGVyLCBsZWFmbGV0TWFya2VyRXZlbnRzLCBhbGxEcm9wRG93blBhcnRzLCBmaWxlVHlwZXMsIGFnZW5jeUxpc3QsIGxhdGxvbmcsIHRoaXNTaXRlU3R1ZmYsIGFsbE1lbWJlcnMsIFNJVEUsXHJcbiAgICAgICAgICAgIFNJVEVfSE9VU0lORywgU2l0ZV9GaWxlcywgTUVNQkVSLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgTEFORE9XTkVSX0NPTlRBQ1QsIEdFT0NPREUsIEZJTEVfU1RBTVAsIEZJTEUsIFNPVVJDRSwgU0VSVkVSX1VSTCkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3ducyBcclxuICAgICAgICAgICAgJHNjb3BlLkhvcml6b250YWxEYXR1bUxpc3QgPSBhbGxEcm9wRG93blBhcnRzWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSG9yQ29sbE1ldGhvZExpc3QgPSBhbGxEcm9wRG93blBhcnRzWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuU3RhdGVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1syXTtcclxuICAgICAgICAgICAgJHNjb3BlLkFsbENvdW50eUxpc3QgPSBhbGxEcm9wRG93blBhcnRzWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTsgLy9ob2xkZXIgb2YgZGVnIG1pbiBzZWMgdmFsdWVzXHJcbiAgICAgICAgICAgICRzY29wZS5hbGxIb3VzaW5nVHlwZUxpc3QgPSBhbGxEcm9wRG93blBhcnRzWzRdO1xyXG4gICAgICAgICAgICAkc2NvcGUuRGVwUHJpb3JpdHlMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s1XTtcclxuICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s2XTtcclxuICAgICAgICAgICAgJHNjb3BlLk5ldFR5cGVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s3XTtcclxuICAgICAgICAgICAgJHNjb3BlLlByb3Bvc2VkU2VucyA9IGFsbERyb3BEb3duUGFydHNbOF07XHJcbiAgICAgICAgICAgICRzY29wZS5TZW5zb3JEZXBsb3ltZW50ID0gYWxsRHJvcERvd25QYXJ0c1s5XTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLmNsb3NlU2l0ZXMgPSAwO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUxhdCA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlTG9uZyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5odG1sRGVzY3JpcHRpb25UaXAgPSAkc2NlLnRydXN0QXNIdG1sKCdSZXF1aXJlZCBieSBOV0lTLiBDYW4gYmUgbGlzdGVkIGFzIDxlbT5cXCd1bmtub3duXFwnPC9lbT4gb3IgPGVtPlxcJ0F0bGFudGljIE9jZWFuXFwnPC9lbT4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLm1hcENlbnRlciA9IHtcclxuICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLnNpdGVMYXQsXHJcbiAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS5zaXRlTG9uZyxcclxuICAgICAgICAgICAgICAgIHpvb206IDE3XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgbWFwTWFya2Vyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZTogbGVhZmxldE1hcmtlckV2ZW50cy5nZXRBdmFpbGFibGVFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUubWFwTWFya2VycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGljb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blNpdGVJY29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG5ld1NUTjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZXdTaXRlSWNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzUsIDVdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWcgbWluIHNlYyB0byBkZWMgZGVncmVlc1xyXG4gICAgICAgICAgICB2YXIgYXppbXV0aCA9IGZ1bmN0aW9uIChkZWcsIG1pbiwgc2VjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gLTEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVBZGRyZXNzT25seSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgR0VPQ09ERS5nZXRBZGRyZXNzUGFydHMoeyBMb25naXR1ZGU6ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQsIExhdGl0dWRlOiAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnR5TmFtZSA9IHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllc1swXS5OQU1FO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuU3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGVJRDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLnN0YXRlID0gdGhpc1N0YXRlLnN0YXRlX2FiYnJldjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5jb3VudHkgPSBjb3VudHlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGhlIExhdGl0dWRlL0xvbmdpdHVkZSBkaWQgbm90IHJldHVybiBhIHJlY29nbml6ZWQgc3RhdGUuIFBsZWFzZSBjaG9vc2Ugb25lIGZyb20gdGhlIGRyb3Bkb3duLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiTm8gbG9jYXRpb24gaW5mb3JtYXRpb24gY2FtZSBiYWNrIGZyb20gdGhhdCBsYXQvbG9uZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBsb2NhdGlvbiBpbmZvcm1hdGlvbi5cIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8vdXBkYXRlIG5ld1NpdGUgbGF0L2xuZyBhZnRlciBkcmFnZW5kXHJcbiAgICAgICAgICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFya2VyLmRyYWdlbmRcIiwgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHJhZ2VuZExvY2F0aW9uID0gYXJncy5tb2RlbDtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBwYXJzZUZsb2F0KGRyYWdlbmRMb2NhdGlvbi5sYXQudG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gcGFyc2VGbG9hdChkcmFnZW5kTG9jYXRpb24ubG5nLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgZG1zIGFsc28gaW4gY2FzZSB0aGV5IGhhdmUgdGhhdCBzaG93aW5nXHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHZhciBsYWRETVNhcnJheSA9IGxhdERNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQURlZyA9IGxhZERNU2FycmF5WzBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGxhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGxhZERNU2FycmF5WzJdO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsb25nRE1TID0gZGVnX3RvX2Rtcygkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKTtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gbG9uZ0RNU2FycmF5WzBdICogLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPTWluID0gbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWRkcmVzc09ubHkoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2dldCBhZGRyZXNzIHBhcnRzIGFuZCBleGlzdGluZyBzaXRlcyBcclxuICAgICAgICAgICAgJHNjb3BlLmdldEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCAhPT0gdW5kZWZpbmVkICYmICFpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpICYmICFpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBDZW50ZXIgPSB7IGxhdDogcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpLCBsbmc6IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCksIHpvb206IDE4IH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcE1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIEdFT0NPREUuZ2V0QWRkcmVzc1BhcnRzKHsgTG9uZ2l0dWRlOiAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkLCBMYXRpdHVkZTogJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGVJRCA9IHN0YXRlRklQUyAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLlN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlSUQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5zdGF0ZSA9IHRoaXNTdGF0ZS5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5BbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5jb3VudHkgPSBjb3VudHlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VlIGlmIHRoZXJlIGFyZSBhbnkgc2l0ZXMgd2l0aGluIGEgMC4wMDA1IGJ1ZmZlciBvZiBoZXJlIGZvciB0aGVtIHRvIHVzZSBpbnN0ZWFkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRQcm94aW1pdHlTaXRlcyh7IExhdGl0dWRlOiAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQsIExvbmdpdHVkZTogJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCwgQnVmZmVyOiAwLjAwMDUgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2VTaXRlcyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuY2xvc2VTaXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gJHNjb3BlLmNsb3NlU2l0ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcE1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX25vOiBhLnNpdGVfbm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0bixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYS5zaXRlX25vLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwTWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMubmV3U1ROLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05ldyBkcmFnZ2FibGUgU1ROIHNpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcHJveGltaXR5IHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGUgTGF0aXR1ZGUvTG9uZ2l0dWRlIGRpZCBub3QgcmV0dXJuIGEgcmVjb2duaXplZCBzdGF0ZS4gUGxlYXNlIGNob29zZSBvbmUgZnJvbSB0aGUgZHJvcGRvd24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzIGxvY2F0aW9uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBkaWQgbm90IHR5cGUgYSBsYXQvbG9uZyBmaXJzdC4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbXB0eUxhdExvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwcm92aWRlIGEgTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBiZWZvcmUgY2xpY2tpbmcgVmVyaWZ5IExvY2F0aW9uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2dsb2JhbHMgXHJcbiAgICAgICAgICAgICRzY29wZS5ob3VzZURpcnR5ID0gZmFsc2U7ICRzY29wZS5uZXRUeXBlRGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0ge307XHJcblxyXG4gICAgICAgICAgICAvL2lmIGxhdGxvbmcsIHRoZW4gaXQncyBjb21pbmcgZnJvbSB0aGUgbWFwIHRhYi4gcG9wdWxhdGUgbGF0LGxvbmcsaGRhdHVtIGFuZCBkbyBnZW9zZWFyY2hcclxuICAgICAgICAgICAgaWYgKGxhdGxvbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gcGFyc2VGbG9hdChsYXRsb25nWzBdLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHBhcnNlRmxvYXQobGF0bG9uZ1sxXS50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5oZGF0dW1faWQgPSA0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA9IDQ7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWRkcmVzcygpOyAvL2dldCB0aGUgYWRkcmVzcyB1c2luZyBwYXNzZWQgaW4gbGF0L2xvbmcgYW5kIGNoZWNrIGZvciBuZWFyYnkgc2l0ZXNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zID0gJ2RkJztcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiXCI7ICRzY29wZS5jaGVja2VkTmFtZSA9IFwiTm90IERlZmluZWRcIjsgLy9jb21wYXJlcnMgZm9yIGRpc2FibGluZyBuZXR3b3JrIG5hbWVzIGlmICdOb3QgRGVmaW5lZCcgY2hlY2tlZFxyXG4gICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5hZGRMYW5kb3duZXIgPSBmYWxzZTsgLy9oaWRlIGxhbmRvd25lciBmaWVsZHNcclxuICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVTZW5zb3JQYXJ0cyA9IGZhbHNlOyAvL3RvZ2dsZSB0byBkaXNhYmxlL2VuYWJsZSBzZW5zb3IgaG91c2luZyBpbnN0YWxsZWQgYW5kIGFkZCBwcm9wb3NlZCBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlSG91c2VUYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZSA9IFtdOyAvL2hvbGRlciBmb3Igd2hlbiBhZGRpbmcgaG91c2luZyB0eXBlIHRvIHBhZ2UgZnJvbSBtdWx0aXNlbGVjdFxyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlc01vZGVsID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VzVG9SZW1vdmUgPSBbXTsgLy9ob2xkZXIgZm9yIGVkaXRpbmcgc2l0ZSB0byBhZGQgcmVtb3ZpbmcgaG91c2UgdHlwZXMgdG8gZm9yIFBVVFxyXG4gICAgICAgICAgICAkc2NvcGUuTmV0d29ya05BTUVUb0FkZCA9IFtdOyAvL2hvbGRlciBmb3Igb2JqZWN0aXZlIHR5cGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlID0gW107IC8vaG9sZGVyIGZvciBvYmplY3RpdmUgdHlwZXMgcmVtb3ZlZCBvbiBleGlzdGluZyBwcm9qZWN0cyAoZWRpdClcclxuICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQgPSBbXTsgLy9ob2xkZXIgZm9yIG9iamVjdGl2ZSB0eXBlcyBhZGRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuTmV0d29ya1RZUEVUb1JlbW92ZSA9IFtdOyAvL2hvbGRlciBmb3Igb2JqZWN0aXZlIHR5cGVzIHJlbW92ZWQgb24gZXhpc3RpbmcgcHJvamVjdHMgKGVkaXQpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcyA9IFtdOyAvL2hvbGRzIHRoZSBOZXR3b3JrTmFtZSAobGlzdCBvZiBzdHJpbmdzKSB0byBwYXNzIGJhY2s7XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gW107IC8vaG9sZHMgdGhlIE5ldHdvcmtUeXBlIChsaXN0IG9mIHN0cmluZ3MpIHRvIHBhc3MgYmFjaztcclxuXHJcbiAgICAgICAgICAgIC8vU0lURSBGSUxFIFBBUlQgLy8vLy8gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7IC8vY29uc3RhbnQgd2l0aCBzdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczIgXHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBmaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChmdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8IGZ0LmZpbGV0eXBlID09PSAnU2l0ZSBTa2V0Y2gnIHx8IGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZnQuZmlsZXR5cGUgPT09ICdMYW5kb3duZXIgUGVybWlzc2lvbiBGb3JtJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAvL2lmIHRoaXNTaXRlU3R1ZmYgaXMgbm90IHVuZGVmaW5lZCwgZmlsdGVyIHRoZSBhbGxTRmlsZXMgYW5kIGdpdmUgbWUganVzdCB0aG9zZSBmb3IgdGhlIHNpdGUgT05MWVxyXG4gICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzID0gdGhpc1NpdGVTdHVmZiAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZi5zaXRlX2lkID09IHRoaXNTaXRlU3R1ZmZbMF0uc2l0ZV9pZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2YuaHdtX2lkID09PSB1bmRlZmluZWQgfHwgc2YuaHdtX2lkID09PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2YuaW5zdHJ1bWVudF9pZCA9PT0gdW5kZWZpbmVkIHx8IHNmLmluc3RydW1lbnRfaWQgPT09IDApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZi5vYmplY3RpdmVfcG9pbnRfaWQgPT09IHVuZGVmaW5lZCB8fCBzZi5vYmplY3RpdmVfcG9pbnRfaWQgPT09IDApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIDogW107Ly8gaG9sZGVyIGZvciBzaXRlIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcyA9ICRzY29wZS5TSVRFRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChoZikgeyByZXR1cm4gaGYuZmlsZXR5cGVfaWQgPT09IDE7IH0pOyAvL2ltYWdlIGZpbGVzIGZvciBjYXJvdXNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7IC8vaGlkZGVuIGZvcm0gdG8gYWRkIGZpbGUgdG8gc2l0ZVxyXG5cclxuICAgICAgICAgICAgLy8gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYUZpbGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuYUZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gLTE7ICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgIC8vU0lURSB3aWxsIG5vdCBoYXZlIGRhdGFmaWxlIFxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgc2l0ZSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLlNJVEVGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLnNpdGVJbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkOyAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS5hU2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJMaW5rIHNhdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKSAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2VuZCBGSUxFIFNUVUZGXHJcblxyXG4gICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBvcGVuTG9uZ01vZGFsID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExvbmdpdHVkZSBtdXN0IGJlIGJldHdlZW4gLTE3NS4wIGFuZCAtNjAuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHJpZ2h0IG51bWJlciByYW5nZVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uIChkLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkID09ICdkbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgZGVncmVlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbGF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyA8IDAgfHwgJHNjb3BlLkRNUy5MQURlZyA+IDczIHx8IChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSAmJiAkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBTWluKSAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2RtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpKSAkc2NvcGUuRE1TLkxBRGVnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFNaW4pKSAkc2NvcGUuRE1TLkxBTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpKSAkc2NvcGUuRE1TLkxBU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xvbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPTWluKSkgJHNjb3BlLkRNUy5MT01pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSkgJHNjb3BlLkRNUy5MT1NlYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbGF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xvbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb252ZXJ0IGRlYyBkZWdyZWVzIHRvIGRtc1xyXG4gICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaW5mbG9hdCA9IChkZWcgLSBkKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKG1pbmZsb2F0KTtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcIlwiICsgZCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICRzY29wZS5sYXRMb25nQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBEZWMgRGVnLi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IG1vZGFsIHRlbGxpbmcgdGhlbSB0byBwb3B1bGF0ZSBhbGwgdGhyZWUgKERNUykgZm9yIGNvbnZlcnNpb24gdG8gd29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERNU01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhZERNU2FycmF5ID0gbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGxhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL25ldHdvcmtUeXBlIGNoZWNrIGV2ZW50IC0tdHJpZ2dlciBkaXJ0eVxyXG4gICAgICAgICAgICAkc2NvcGUubmV0VHlwZUNoZyA9IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgLy9zdG9yZSB0aGlzIHRvIGhhbmRsZSBpbiBQVVQgb3IgUE9TVFxyXG4gICAgICAgICAgICAgICAgaWYgKG50LnNlbGVjdGVkKSB7IC8vc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0d29ya1RZUEVUb0FkZC5wdXNoKG50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkgeyAvL2lmIHRoaXMgaXMgZWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXRpbmcgKHJlbW92ZSBmcm9tIHJlbW92ZSBsaXN0IGlmIHRoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5OZXR3b3JrVFlQRVRvUmVtb3ZlLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uZXR3b3JrX3R5cGVfaWQ7IH0pLmluZGV4T2YobnQubmV0d29ya190eXBlX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCkgJHNjb3BlLk5ldHdvcmtUWVBFVG9SZW1vdmUuc3BsaWNlKGksIDEpOyAvL3JlbW92ZSBmcm9tIHJlbW92ZUxpc3QgLi5pbiBjYXNlIHRoZXkgcmVtb3ZlZCBhbmQgdGhlbiBhZGRlZCBpdCBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL24uc2VsZWN0ZWQgPT0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLm5ldHdvcmtfdHlwZV9pZDsgfSkuaW5kZXhPZihudC5uZXR3b3JrX3R5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPj0gMCkgJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQuc3BsaWNlKGluZCwgMSk7IC8vcmVtb3ZlIGl0IGZyb20gYWRkTGlzdCBpZiB0aGV5IGFkZGVkIHRoZW4gcmVtb3ZlZFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkgeyAvL2VkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtUWVBFVG9SZW1vdmUucHVzaChudCk7IC8vYWRkIGl0IHRvIHJlbW92ZUxpc3RcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL25ldHdvcmtOYW1lIGNoZWNrIGV2ZW50Li4gaWYgXCJOb3QgRGVmaW5lZFwiIGNob3NlbiwgZGlzYWJsZSB0aGUgb3RoZXIgMiBjaGVja2JveGVzXHJcbiAgICAgICAgICAgICRzY29wZS53aGljaE9uZSA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgICAgICAvL3N0b3JlIHRoaXMgdG8gaGFuZGxlIGluIFBVVCBvciBQT1NUXHJcbiAgICAgICAgICAgICAgICBpZiAobi5zZWxlY3RlZCkgeyAvL3NlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtOQU1FVG9BZGQucHVzaChuKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkgeyAvL2lmIHRoaXMgaXMgZWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXRpbmcgKHJlbW92ZSBmcm9tIHJlbW92ZSBsaXN0IGlmIHRoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uZXR3b3JrX25hbWVfaWQ7IH0pLmluZGV4T2Yobi5uZXR3b3JrX25hbWVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSAwKSAkc2NvcGUuTmV0d29ya05BTUVUb1JlbW92ZS5zcGxpY2UoaSwgMSk7IC8vcmVtb3ZlIGZyb20gcmVtb3ZlTGlzdCAuLmluIGNhc2UgdGhleSByZW1vdmVkIGFuZCB0aGVuIGFkZGVkIGl0IGJhY2tcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbi5zZWxlY3RlZCA9PSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSAkc2NvcGUuTmV0d29ya05BTUVUb0FkZC5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUubmV0d29ya19uYW1lX2lkOyB9KS5pbmRleE9mKG4ubmV0d29ya19uYW1lX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kID49IDApICRzY29wZS5OZXR3b3JrTkFNRVRvQWRkLnNwbGljZShpbmQsIDEpOyAvL3JlbW92ZSBpdCBmcm9tIGFkZExpc3QgaWYgdGhleSBhZGRlZCB0aGVuIHJlbW92ZWRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHsgLy9lZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlLnB1c2gobik7IC8vYWRkIGl0IHRvIHJlbW92ZUxpc3RcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuLm5hbWUgPT0gXCJOb3QgRGVmaW5lZFwiICYmIG4uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2hlY2tlZCBcIm5vdCBkZWZpbmVkXCJcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBubiA9IDA7IG5uIDwgJHNjb3BlLk5ldE5hbWVMaXN0Lmxlbmd0aDsgbm4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Vuc2VsZWN0IGFsbCBidXQgbm90IGRlZmluZWQgVE9ETzo6OjogSWYgYW55LCBwdXQgdGhlbSBpbiBOZXR3b3JrTkFNRVRvUmVtb3ZlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5OZXROYW1lTGlzdFtubl0ubmFtZSAhPSBcIk5vdCBEZWZpbmVkXCIgJiYgJHNjb3BlLk5ldE5hbWVMaXN0W25uXS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtOQU1FVG9SZW1vdmUucHVzaCgkc2NvcGUuTmV0TmFtZUxpc3Rbbm5dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXROYW1lTGlzdFtubl0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL21ha2UgdGhlc2UgbWF0Y2ggc28gcmVzdCBnZXQgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiTm90IERlZmluZWRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vdGhleSB0aGV5IHVuY2hlY2tlZCBub3QgZGVmaW5lLCB1bm1hdGNoIHZhcnMgc28gdGhlIG90aGVyIGJlY29tZSBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICBpZiAobi5uYW1lID09IFwiTm90IERlZmluZWRcIiAmJiBuLnNlbGVjdGVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RvZ2dsZSBkaW0gb24gZGl2IGZvciBzZW5zb3Igbm90IGFwcHJvcHJpYXRlIGNsaWNrXHJcbiAgICAgICAgICAgICRzY29wZS5kaW1BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNlbnNvcl9ub3RfYXBwcm9wcmlhdGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgcmFkaW8gYW5kIGNoZWNrYm94ZXMgaWYgZGlzYWJsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCAkc2NvcGUuUHJvcG9zZWRTZW5zLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNbeF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmlzX3Blcm1hbmVudF9ob3VzaW5nX2luc3RhbGxlZCA9IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVTZW5zb3JQYXJ0cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnVzZVNpdGVBZGRyZXNzO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlQWRkcmVzc2ZvckxPID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS51c2VTaXRlQWRkcmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuYWRkcmVzcyA9ICRzY29wZS5hU2l0ZS5hZGRyZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuY2l0eSA9ICRzY29wZS5hU2l0ZS5jaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuc3RhdGUgPSAkc2NvcGUuYVNpdGUuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci56aXAgPSAkc2NvcGUuYVNpdGUuemlwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuY2l0eSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci5zdGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci56aXAgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3NpdGUgUFVUXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIHNpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZGlkIHRoZXkgYWRkIG9yIGVkaXQgdGhlIGxhbmRvd25lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZExhbmRvd25lciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVyZSdzIGEgbGFuZG93bmVyLi4gZWRpdCBvciBhZGQ/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IG51bGwgJiYgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RpZCB0aGV5IGNoYW5nZSBhbnl0aGluZyB0byB3YXJyZW50IGEgcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTEFORE9XTkVSX0NPTlRBQ1QudXBkYXRlKHsgaWQ6ICRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkIH0sICRzY29wZS5sYW5kb3duZXIpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmxhbmRvd25lci5mbmFtZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIubG5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLnRpdGxlICE9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmNpdHkgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLnByaW1hcnlwaG9uZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGFkZGVkIHNvbWV0aGluZy4uIFBPU1QgKHJhdGhlciB0aGFuIGp1c3QgY2xpY2tpbmcgYnV0dG9uIGFuZCBub3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTEFORE9XTkVSX0NPTlRBQ1Quc2F2ZSgkc2NvcGUubGFuZG93bmVyLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkID0gcmVzcG9uc2UubGFuZG93bmVyY29udGFjdGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHB1dFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcHV0U2l0ZUFuZFBhcnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZVxyXG4gICAgICAgICAgICB2YXIgcHV0U2l0ZUFuZFBhcnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVNpdGUgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFTaXRlKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVTaXRlLkNyZWF0b3I7IGRlbGV0ZSB1cGRhdGVTaXRlLkhvcml6b250YWxDb2xsZWN0TWV0aG9kOyBkZWxldGUgdXBkYXRlU2l0ZS5Ib3Jpem9udGFsRGF0dW07IGRlbGV0ZSB1cGRhdGVTaXRlLlByaW9yaXR5TmFtZTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVTaXRlLmRlY0RlZ09SZG1zO1xyXG4gICAgICAgICAgICAgICAgU0lURS51cGRhdGUoeyBpZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQgfSwgdXBkYXRlU2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHNpdGUgaG91c2luZ3NcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBSZW1vdmVQcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBBZGRQcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIHNpdGVIb3VzaW5ncyAodGhlc2UgYXJlIGp1c3Qgc2l0ZV9ob3VzaW5nX2lkICdzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zaXRlSG91c2VzVG9SZW1vdmUsIGZ1bmN0aW9uIChzaElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxTSFByb20gPSBTSVRFX0hPVVNJTkcuZGVsZXRlKHsgaWQ6IHNoSUQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVByb21pc2VzLnB1c2goZGVsU0hQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBOZXROYW1lcyAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLk5ldHdvcmtOQU1FVG9SZW1vdmUsIGZ1bmN0aW9uIChubkwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbE5OUHJvbSA9IFNJVEUuZGVsZXRlU2l0ZU5ldHdvcmtOYW1lKHsgc2l0ZUlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCwgbmV0d29ya05hbWVJZDogbm5MLm5ldHdvcmtfbmFtZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlUHJvbWlzZXMucHVzaChkZWxOTlByb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIE5ldFR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrVFlQRVRvUmVtb3ZlLCBmdW5jdGlvbiAobnRMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxOVFByb20gPSBTSVRFLmRlbGV0ZVNpdGVOZXR3b3JrVHlwZSh7IHNpdGVJZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQsIG5ldHdvcmtUeXBlSWQ6IG50TC5uZXR3b3JrX3R5cGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVByb21pc2VzLnB1c2goZGVsTlRQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCBzaXRlSG91c2luZ3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmhvdXNlRGlydHkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLCBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRIdFByb207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHQuc2l0ZV9ob3VzaW5nX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1BVVCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEh0UHJvbSA9IFNJVEVfSE9VU0lORy51cGRhdGUoeyBpZDogaHQuc2l0ZV9ob3VzaW5nX2lkIH0sIGh0KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9QT1NUIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHQuc2l0ZV9pZCA9ICRzY29wZS5hU2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEh0UHJvbSA9IFNJVEVfSE9VU0lORy5zYXZlKGh0KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFkZFByb21pc2VzLnB1c2goYWRkSHRQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIE5ldE5hbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrTkFNRVRvQWRkLCBmdW5jdGlvbiAoQW5uTCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcy5wdXNoKEFubkwubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGROTlByb20gPSBTSVRFLnBvc3RTaXRlTmV0d29ya05hbWUoeyBzaXRlSWQ6ICRzY29wZS5hU2l0ZS5zaXRlX2lkLCBuZXR3b3JrTmFtZUlkOiBBbm5MLm5ldHdvcmtfbmFtZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkUHJvbWlzZXMucHVzaChhZGROTlByb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIE5ldFR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrVFlQRVRvQWRkLCBmdW5jdGlvbiAoQW5UTCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcy5wdXNoKEFuVEwubmV0d29ya190eXBlX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkTlRQcm9tID0gU0lURS5wb3N0U2l0ZU5ldHdvcmtUeXBlKHsgc2l0ZUlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCwgbmV0d29ya1R5cGVJZDogQW5UTC5uZXR3b3JrX3R5cGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZFByb21pc2VzLnB1c2goYWRkTlRQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9vayBub3cgcnVuIHRoZSByZW1vdmVzLCB0aGVuIHRoZSBhZGRzIGFuZCB0aGVuIHBhc3MgdGhlIHN0dWZmIGJhY2sgb3V0IG9mIGhlcmUuXHJcbiAgICAgICAgICAgICAgICAgICAgJHEuYWxsKFJlbW92ZVByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHEuYWxsKEFkZFByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMgPSBbXTsgJHNjb3BlLnNpdGVOZXR3b3JrVHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0TmFtZUxpc3QsIGZ1bmN0aW9uIChubikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubi5zZWxlY3RlZCA9PT0gdHJ1ZSkgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMucHVzaChubi5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXRUeXBlTGlzdCwgZnVuY3Rpb24gKG50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG50LnNlbGVjdGVkID09PSB0cnVlKSAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcy5wdXNoKG50Lm5ldHdvcmtfdHlwZV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gWyRzY29wZS5hU2l0ZSwgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMsICRzY29wZS5zaXRlTmV0d29ya1R5cGVzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNpdGUgdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJGxvY2F0aW9uLnBhdGgoJy9TaXRlLycgKyAkc2NvcGUuYVNpdGUuc2l0ZV9pZCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKG1zZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihtc2cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyAvL2FsbCBhZGRlZFxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgU2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIFNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIFNJVEUuc2F2ZSguLi5cclxuICAgICAgICAgICAgfTsgLy8gZW5kIFBVVHNpdGUoKVxyXG5cclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhpcyBzaXRlIGNsaWNrZWQgKDMgc2VwYXJhdGUgZnVuY3Rpb25zLi4gMTogbGFuZG93bmVyLCAyOiB0aGUgc2l0ZSBhbmQgcHJvcG9zZWQgaW5zdHJ1bWVudHMsIDM6IG5ldHdvcmsgbmFtZXMgJiB0eXBlcywgaG91c2luZyB0eXBlc1xyXG4gICAgICAgICAgICB2YXIgZmluaXNoUE9TVCA9IGZ1bmN0aW9uIChzSUQpIHtcclxuICAgICAgICAgICAgICAgIC8vZG8gYWxsIHRoZSByZXN0Li4uLlxyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3N0UHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vc2l0ZV9ob3VzaW5nVHlwZXMgKGlmIGFueSlcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZSwgZnVuY3Rpb24gKGh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR5cGUuc2l0ZV9pZCA9IHNJRDtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaHR5cGUudHlwZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoVFByb21pc2UgPSBTSVRFX0hPVVNJTkcuc2F2ZShodHlwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdFByb21pc2VzLnB1c2goaFRQcm9taXNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9zaXRlX05ldHdvcmtOYW1lc1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXROYW1lTGlzdCwgZnVuY3Rpb24gKG5OYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5OYW1lLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuTlByb21pc2UgPSBTSVRFLnBvc3RTaXRlTmV0d29ya05hbWUoeyBzaXRlSWQ6IHNJRCwgbmV0d29ya05hbWVJZDogbk5hbWUubmV0d29ya19uYW1lX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UHJvbWlzZXMucHVzaChuTlByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9zaXRlX05ldHdvcmtUeXBlc1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXRUeXBlTGlzdCwgZnVuY3Rpb24gKG5UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5UeXBlLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuVFByb21pc2UgPSBTSVRFLnBvc3RTaXRlTmV0d29ya1R5cGUoeyBzaXRlSWQ6IHNJRCwgbmV0d29ya1R5cGVJZDogblR5cGUubmV0d29ya190eXBlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UHJvbWlzZXMucHVzaChuVFByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy93aGVuIGFsbCB0aGUgcHJvbWlzZXMgYXJlIGRvbmVcclxuICAgICAgICAgICAgICAgICRxLmFsbChwb3N0UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIHlvdSB3YW50IGNhbiBnbyBoZXJlIGFuZCB3aWxsIHNhZmVseSBiZSBydW4gb24gdGhlIG5leHQgZGlnZXN0LiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaXRlLmRhc2hib2FyZCcsIHsgaWQ6IHNJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kICRxXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BPU1QgbGFuZG93bmVyLCBpZiB0aGV5IGFkZGVkIG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hU2l0ZS5DcmVhdG9yOyBkZWxldGUgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZExhbmRvd25lciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5sYW5kb3duZXIuZm5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmxuYW1lICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci50aXRsZSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci5hZGRyZXNzICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5jaXR5ICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5wcmltYXJ5cGhvbmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExBTkRPV05FUl9DT05UQUNULnNhdmUoJHNjb3BlLmxhbmRvd25lciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA9IHJlc3BvbnNlLmxhbmRvd25lcmNvbnRhY3RpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcG9zdCB0aGUgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0U2l0ZUFuZFBhcnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBlbmQgbGF0L2xvbmcgYXJlIGdvb2RcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgIHZhbGlkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBwb3N0U2l0ZUFuZFBhcnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgbG9uZ2l0dWRlIGlzIDwgMCwgb3RoZXJ3aXNlICogKC0xKSxcclxuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkU2l0ZUlEID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgIC8vUE9TVCBzaXRlXHJcbiAgICAgICAgICAgICAgICBTSVRFLnNhdmUoJHNjb3BlLmFTaXRlLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNpdGVJRCA9IHJlc3BvbnNlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kbyBwcm9wb3NlZCBzZW5zb3JzIGZpcnN0IHNpbmNlIGl0J3MgMiBwYXJ0cyB0byBpdC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRpc2FibGVTZW5zb3JQYXJ0cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3QgZGlzYWJsZWQuLmNvdWxkIGJlIHNlbGVjdGVkIHByb3Bvc2VkIHNlbnNvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzID0gJHNjb3BlLlByb3Bvc2VkU2Vucy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuc2VsZWN0ZWQgPT09IHRydWU7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9wb3NlZFNlbnNvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzLCBmdW5jdGlvbiAocHJvcFNlbnMsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9QT1NUIGVhY2ggc2Vuc29yIGFuZCBzdGF0dXMgdHlwZSAoYWZ0ZXIgZ29pbmcgdGhydSB0aGUgc2Vuc0RlcHMgdG8gZ2V0IHRoZSBtYXRjaGluZyBkZXBsb3ltZW50dHlwZWlkIGZyb20gZWFjaCBzZW5zb3IncyBpbm5lciBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TZW5zb3JEZXBsb3ltZW50LCBmdW5jdGlvbiAoc2R0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgc2R0LmRlcGxveW1lbnR0eXBlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNkdC5kZXBsb3ltZW50dHlwZXNbeF0uZGVwbG95bWVudF90eXBlX2lkID09IHByb3BTZW5zLmRlcGxveW1lbnRfdHlwZV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzSUQgPSBzZHQuc2Vuc29yX3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnNvclR5cGVJRCA9IHNJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2Rlc2NyaXB0aW9uOiBcIlByb3Bvc2VkIHNlbnNvciBhdCB0aGlzIHNpdGUuIENoYW5nZSBkZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBzZW5zb3IuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogcHJvcFNlbnMuZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBjcmVhdGVkU2l0ZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogc2Vuc29yVHlwZUlEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudElEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnNhdmUoaW5zdCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoaW5zUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElEID0gaW5zUmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RTdGF0ID0geyBpbnN0cnVtZW50X2lkOiBpbnNSZXNwb25zZS5pbnN0cnVtZW50X2lkLCBzdGF0dXNfdHlwZV9pZDogNCwgbWVtYmVyX2lkOiAkc2NvcGUuYVNpdGUubWVtYmVyX2lkLCB0aW1lX3N0YW1wOiBuZXcgRGF0ZSgpLCB0aW1lX3pvbmU6ICdVVEMnIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnNhdmUoaW5zdFN0YXQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93aGVuIGRvbmUgbG9vcGluZywgZ28gdG8gbGFzdCBzdGVwIGluIHRoaXMgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoUE9TVChjcmVhdGVkU2l0ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc3RhdHVzIGZhaWxzLCBkZWxldGUgaW5zdHJ1bWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHN0YXR1cyBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc2Vuc29yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIuZm9yZWFjaCBvbiBwcm9wb3NlZCBzZW5zb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBmaW5pc2hQT1NUKGNyZWF0ZWRTaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFBPU1QoY3JlYXRlZFNpdGVJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIHBvc3RTaXRlYW5kIFBhcnRzXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXhpc3Rpbmcgc2l0ZSBcclxuICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFTaXRlWzBdLCAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3NbMV0sICRzY29wZS5leGlzdGluZ1NpdGVIb3VzZVR5cGVzVGFibGVbMl0sIHRoaXNTaXRlTmV0d29ya05hbWVzWzNdLCBzaXRlTmV0d29ya1R5cGVzWzRdLCAkc2NvcGUubGFuZG93bmVyWzVdXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSBhbmd1bGFyLmNvcHkodGhpc1NpdGVTdHVmZlswXSk7XHJcbiAgICAgICAgICAgICAgICAvL2ZvciBzb21lIHJlYXNvbiB0aGVyZSBhcmUgdG9ucyBvZiBzaXRlcyB3aXRoIGhjb2xsZWN0X21ldGhvZF9pZCBzZXQgdG8gMCB3aGVuIGl0J3MgcmVxdWlyZWQuLm1ha2UgaXQgbnVsbCBzbyB2YWxpZGF0aW9uIHBpY2tzIHVwIG9uIHJlcXVpcmVkIGZpZWxkXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA8PSAwKSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBzaXRlIGlzIG5vdCBhcHByb3ByaWF0ZSBmb3Igc2Vuc29yLCBkaW0gbmV4dCAyIGZpZWxkc1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zZW5zb3Jfbm90X2FwcHJvcHJpYXRlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgcmFkaW8gYW5kIGNoZWNrYm94ZXMgaWYgZGlzYWJsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCAkc2NvcGUuUHJvcG9zZWRTZW5zLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNbeF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmlzX3Blcm1hbmVudF9ob3VzaW5nX2luc3RhbGxlZCA9IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZSBjb3VudGllc0xpc3Qgd2l0aCB0aGlzIHN0YXRlJ3MgY291bnRpZXNcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuU3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9hYmJyZXYgPT0gJHNjb3BlLmFTaXRlLnN0YXRlOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIGhvdXNpbmdzIGZvciBFRElUXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZlsxXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzID0gdGhpc1NpdGVTdHVmZlsxXTsgLy9mb3IgbXVsdGlzZWxlY3QgLnNlbGVjdGVkID0gdHJ1ZS9mYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlID0gdGhpc1NpdGVTdHVmZlsyXTsgLy9mb3IgdGFibGUgdG8gc2hvdyBhbGwgaW5mbyBvbiBob3VzZSB0eXBlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBhbGxIb3VzaW5nVHlwZUxpc3QgYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBodCA9IDA7IGh0IDwgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdC5sZW5ndGg7IGh0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHRoaXNTaXRlSG91c2luZ3MgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncy5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t5XS5ob3VzaW5nX3R5cGVfaWQgPT0gJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uaG91c2luZ190eXBlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsSG91c2luZ1R5cGVMaXN0W2h0XS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIG5ldHdvcmsgbmFtZXMgb3IgdHlwZXNcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZVN0dWZmWzNdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvak5OYW1lcyA9IGFuZ3VsYXIuY29weSh0aGlzU2l0ZVN0dWZmWzNdKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoICRzY29wZS5OZXROYW1lTGlzdCAuLiBhZGQgLnNlbGVjdGVkIHByb3BlcnR5ID0gdHJ1ZS9mYWxzZSBpZiB0aGlzc2l0ZW5ldHdvcmtuYW1lcyA9PVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgJHNjb3BlLk5ldE5hbWVMaXN0Lmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgcHJvak5OYW1lcy5sZW5ndGg7IGUrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pOTmFtZXNbZV0ubmV0d29ya19uYW1lX2lkID09ICRzY29wZS5OZXROYW1lTGlzdFthXS5uZXR3b3JrX25hbWVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0TmFtZUxpc3RbYV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBwcm9qTk5hbWVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0W2FdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pOTmFtZXMubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0W2FdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTmV0TmFtZUxpc3RbMF0uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHRoZXNlIG1hdGNoIHNvIHJlc3QgZ2V0IGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2VkID0gXCJOb3QgRGVmaW5lZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGlzU2l0ZU5ldHdvcmtOYW1lcyAhPSB1bmRlZmluZWRcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZls0XS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2pOVHlwZSA9IGFuZ3VsYXIuY29weSh0aGlzU2l0ZVN0dWZmWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoICRzY29wZS5OZXRUeXBlTGlzdCAuLiBhZGQgLnNlbGVjdGVkIHByb3BlcnR5ID0gdHJ1ZS9mYWxzZSBpZiB0aGlzc2l0ZW5ldHdvcmt0eXBlcyA9PVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5pID0gMDsgbmkgPCAkc2NvcGUuTmV0VHlwZUxpc3QubGVuZ3RoOyBuaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG55ID0gMDsgbnkgPCBwcm9qTlR5cGUubGVuZ3RoOyBueSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvak5UeXBlW255XS5uZXR3b3JrX3R5cGVfaWQgPT0gJHNjb3BlLk5ldFR5cGVMaXN0W25pXS5uZXR3b3JrX3R5cGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0VHlwZUxpc3RbbmldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueSA9IHByb2pOVHlwZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXRUeXBlTGlzdFtuaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvak5UeXBlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXRUeXBlTGlzdFtuaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhpc1NpdGVOZXR3b3JrTmFtZXMgIT0gdW5kZWZpbmVkICAgXHJcblxyXG4gICAgICAgICAgICAgICAgLy9sYW5kb3duZXIgc3R1ZmZcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZVN0dWZmWzVdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyID0gdGhpc1NpdGVTdHVmZls1XTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTGFuZG93bmVyID0gJHNjb3BlLmxhbmRvd25lci5mbmFtZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIubG5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLnByaW1hcnlwaG9uZSAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zID0geyBzT3BlbjogZmFsc2UsIHNGaWxlT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXhpc3Rpbmcgc2l0ZSBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiB0aGlzIGlzIGEgTkVXIFNJVEUgQ1JFQVRFIChzaXRlID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIC8vZ2V0IGxvZ2dlZCBpbiBtZW1iZXIgdG8gbWFrZSB0aGVtIGNyZWF0b3JcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiAkY29va2llcy5nZXQoJ21JRCcpIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ3JlYXRvciA9IHJlc3BvbnNlLmZuYW1lICsgXCIgXCIgKyByZXNwb25zZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubWVtYmVyX2lkID0gcmVzcG9uc2UubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5pc19wZXJtYW5lbnRfaG91c2luZ19pbnN0YWxsZWQgPSBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmFjY2Vzc19ncmFudGVkID0gXCJOb3QgTmVlZGVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBnZXQgbWVtYmVyJ3MgaWQgaW4gdGhlcmUgdG9vXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvZ2dlZCBpbiBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbG9nZ2VkIGluIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucyA9IHsgc09wZW46IHRydWUgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gdGhpcyBpcyBhIE5FVyBTSVRFIENSRUFURSAoc2l0ZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIH0vL2VuZCBuZXcgc2l0ZVxyXG5cclxuICAgICAgICAgICAgLy8gIGxhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tdWx0aXNlbGVjdCBvbmUgY2hlY2tlZC4uXHJcbiAgICAgICAgICAgICRzY29wZS5Ib3VzZVR5cGVDbGljayA9IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvdXNlRGlydHkgPSB0cnVlOyAvL3RoZXkgY2xpY2tlZCBpdC4udXNlZCB3aGVuIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICAvL2FkZC9yZW1vdmUgaG91c2UgdHlwZSBhbmQgaW5wdXRzIHRvIHRhYmxlIHJvdyAtLSBmb3JlYWNoIG9uIHBvc3Qgb3IgcHV0IHdpbGwgaGFuZGxlIHRoZSByZXN0XHJcblxyXG4gICAgICAgICAgICAgICAgLy9uZXcgc2l0ZSBiZWluZyBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoaHQuc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaG91c2VUID0geyB0eXBlX25hbWU6IGh0LnR5cGVfbmFtZSwgaG91c2luZ190eXBlX2lkOiBodC5ob3VzaW5nX3R5cGVfaWQsIGxlbmd0aDogaHQubGVuZ3RoLCBtYXRlcmlhbDogaHQubWF0ZXJpYWwsIG5vdGVzOiBodC5ub3RlcywgYW1vdW50OiAxIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUucHVzaChob3VzZVQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGh0LnNlbGVjdGVkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuc2l0ZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzSF9JRCA9ICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC50eXBlX25hbWUgPT0gaHQudHlwZV9uYW1lOyB9KVswXS5zaXRlX2hvdXNpbmdfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VzVG9SZW1vdmUucHVzaChzSF9JRCk7IC8vZWRpdCBwYWdlLCBhZGQgc2l0ZV9ob3VzaW5nX2lkIHRvIHJlbW92ZSBsaXN0IGZvciBQVVRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZS5pbmRleE9mKCRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC50eXBlX25hbWUgPT0gaHQudHlwZV9uYW1lOyB9KVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlSG91c2VUYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyB3YW50IHRvIGFkZCBhIGxhbmRvd25lciBjb250YWN0XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TGFuZE93bmVyUGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRMYW5kb3duZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIHN0YXRlIGNoYW5nZXMsIHVwZGF0ZSBjb3VudHkgbGlzdFxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlQ291bnR5TGlzdCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLlN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gczsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLkFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbCBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBTaXRlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVTaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNTaXRlID0gJHNjb3BlLmFTaXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRTaXRlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5EZWxldGUgU2l0ZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzaXRlIHt7c2l0ZU5vfX0/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIG5nLWNsaWNrPVwiZGVsZXRlSXQoKVwiPkRlbGV0ZTwvYnV0dG9uPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTm8gPSB0aGlzU2l0ZS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzU2l0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkU2l0ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZGVsZXRlKHsgaWQ6IHMuc2l0ZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTaXRlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFwiRGVsZXRlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD57e21lc3NhZ2V9fTwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gZXJyb3JSZXNwb25zZS5oZWFkZXJzKFwidXNnc3dpbS1tZXNzYWdlc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdzaXRlTWFwQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICdTSVRFJywgJ3NpdGVIV01zJywgJ2RlcGxveW1lbnRUeXBlcycsXHJcbiAgICAgICAgJ2Jhcm9TZW5zb3JzJywgJ21ldFNlbnNvcnMnLCAncmRnU2Vuc29ycycsICdzdG9ybVNlbnNvcnMnLCAnd2F2ZVNlbnNvcnMnLCAncHJlc1RlbXBTZW5zb3JzJywgJ3RoZXJtU2Vuc29ycycsICd3ZWJjYW1TZW5zb3JzJywgJ3JhaW5nYWdlU2Vuc29ycycsICdsZWFmbGV0RGF0YScsICdhU2l0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCBTSVRFLCBzaXRlSFdNcywgZGVwbG95bWVudFR5cGVzLFxyXG4gICAgICAgICAgICBiYXJvU2Vuc29ycywgbWV0U2Vuc29ycywgcmRnU2Vuc29ycywgc3Rvcm1TZW5zb3JzLCB3YXZlU2Vuc29ycywgcHJlc1RlbXBTZW5zb3JzLCB0aGVybVNlbnNvcnMsIHdlYmNhbVNlbnNvcnMsIHJhaW5nYWdlU2Vuc29ycywgbGVhZmxldERhdGEsIGFTaXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChhU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwU3R1ZmYgPSBcImhlcmUncyB0aGUgbWFwIGFjY29yZGlvbiBjb250ZW50XCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1NpdGUgPSBhU2l0ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlSFdNcyA9IHNpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29ycyA9IGJhcm9TZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZU1ldFNlbnNvcnMgPSBtZXRTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVJER1NlbnNvcnMgPSByZGdTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVN0b3JtU2Vuc29ycyA9IHN0b3JtU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29ycyA9IHdhdmVTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29ycyA9IHByZXNUZW1wU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVUaGVybVNlbnNvcnMgPSB0aGVybVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlV2ViU2Vuc29ycyA9IHdlYmNhbVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnMgPSByYWluZ2FnZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxEZXBsb3ltZW50VHlwZXMgPSBkZXBsb3ltZW50VHlwZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8vbmVlZCB0byB3YXRjaCBmb3Igc2Vzc2lvbiBldmVudCBpZCwgZG8gbmV3IGNhbGwgdG8gc2VydmVyIHdoZW4gdGhhdCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBnZXRQcm94aW1pdHlTaXRlcygpOyAvL2dldCBhbGwgdGhvc2UgbmVhcmJ5XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHRoaXMgc2l0ZSBpblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+VGhpcyBTaXRlIE5hbWU6PC9iPiAnICsgJHNjb3BlLnRoaXNTaXRlLnNpdGVfbm8gKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiAkc2NvcGUudGhpc1NpdGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogJHNjb3BlLnRoaXNTaXRlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2l0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBmaWx0ZXIgaHdtcyBhbmQgc2Vuc29ycyBieSBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW1wdHkgbWFya2VycyBhbmQgc3RhcnQgYWdhaW4gZnJvbSBzaXRlSFdNcyB0byBtYWtlIHN1cmUgZWFjaCB0aW1lIHdlIGFyZSBmaWx0ZXJpbmcgYmFzZWQgb24gYWxsICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAkc2NvcGUuYWxsU2l0ZUhXTXMubGVuZ3RoOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYWNoSFdNID0gJHNjb3BlLmFsbFNpdGVIV01zW2hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hIV00uZXZlbnRfaWQgPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggaHdtcyBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+SFdNOjwvYj4gJyArIGVhY2hIV00uaHdtX2xhYmVsICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogZWFjaEhXTS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBlYWNoSFdNLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuaHdtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdIV00nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBlYWNoSFdNLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgZXZlbnRfaWQgPT0gbmV3VmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maWx0ZXIgYWxsIHNlbnNvciB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTZW5zb3JzKG5ld1ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXZlbnRIID0gMDsgbm9FdmVudEggPCAkc2NvcGUuYWxsU2l0ZUhXTXMubGVuZ3RoOyBub0V2ZW50SCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFjaG5vRUhXTSA9ICRzY29wZS5hbGxTaXRlSFdNc1tub0V2ZW50SF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5IV006PC9iPiAnICsgZWFjaG5vRUhXTS5od21fbGFiZWwgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGVhY2hub0VIV00ubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBlYWNobm9FSFdNLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5od21JY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnSFdNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBlYWNobm9FSFdNLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbHRlciBhbGwgc2Vuc29yIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFNlbnNvcnMoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBmcm9tICR3YXRjaCBvbiBldmVudCBjaGFuZ2UgdG8gdXBkYXRlIGFsbCB0aGUgc2Vuc29yIHR5cGVzIHZpZXdlZCBmcm9tIHNpdGVtYXBcclxuICAgICAgICAgICAgICAgIHZhciBhZGRTZW5zb3JzID0gZnVuY3Rpb24gKGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRJRCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9iYXJvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGJzID0gMDsgYnMgPCAkc2NvcGUuYWxsU2l0ZUJhcm9TZW5zb3JzLmxlbmd0aDsgYnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZUJhcm9TZW5zb3JzW2JzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5CYXJvbWV0cmljIFByZXNzdXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgYlNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBiU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5iYXJvSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdCYXJvIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IGJTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBldmVudF9pZCA9PSBuZXdWYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtcyA9IDA7IG1zIDwgJHNjb3BlLmFsbFNpdGVNZXRTZW5zb3JzLmxlbmd0aDsgbXMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1TZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZU1ldFNlbnNvcnNbbXNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1TZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gbVNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBtU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG1TZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbVNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLm1ldEljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTWV0IFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG1TZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JkZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBycyA9IDA7IHJzIDwgJHNjb3BlLmFsbFNpdGVSREdTZW5zb3JzLmxlbmd0aDsgcnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVJER1NlbnNvcnNbcnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlJhcGlkIERlcGxveW1lbnQgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyByU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHJTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogclNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnJkZ0ljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUkRHIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHJTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0b3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHNzID0gMDsgc3MgPCAkc2NvcGUuYWxsU2l0ZVN0b3JtU2Vuc29ycy5sZW5ndGg7IHNzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVTdG9ybVNlbnNvcnNbc3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gc1NlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBzU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHNTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogc1NlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0b3JtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9ybXRpZGUgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogc1NlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB3cyA9IDA7IHdzIDwgJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29ycy5sZW5ndGg7IHdzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3U2Vuc29yID0gJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29yc1t3c107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod1NlbnNvci5ldmVudF9pZCA9PSBldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+V2F2ZSBIZWlnaHQgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyB3U2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHdTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogd1NlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLndhdmVJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dhdmVoZWlnaHQgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogd1NlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJlc3N1cmVUZW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBzID0gMDsgcHMgPCAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29ycy5sZW5ndGg7IHBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVQcmVzVGVtcFNlbnNvcnNbcHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gcFNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBwU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHBTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcFNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnByZXNzdXJlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQcmVzc3VyZVRlbXAgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogcFNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlcm1vbWV0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdHMgPSAwOyB0cyA8ICRzY29wZS5hbGxTaXRlVGhlcm1TZW5zb3JzLmxlbmd0aDsgdHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVRoZXJtU2Vuc29yc1t0c107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFNlbnNvci5ldmVudF9pZCA9PSBldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+VGVtcGVyYXR1cmUgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyB0U2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHRTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogdFNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnRoZXJtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUaGVybW9tZXRlciBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiB0U2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93ZWJjYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgd2VicyA9IDA7IHdlYnMgPCAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnMubGVuZ3RoOyB3ZWJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ZWJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnNbd2Vic107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5XZWJjYW0gU2Vuc29yIFN0YXR1czo8L2I+ICcgKyB3ZWJTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogd2ViU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHdlYlNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLndlYmNhbUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnV2ViY2FtIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHdlYlNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmFpbmdhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmFpbnMgPSAwOyByYWlucyA8ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnMubGVuZ3RoOyByYWlucysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFpblNlbnNvciA9ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnNbcmFpbnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhaW5TZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlJhaW4gZ2FnZSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIHJhaW5TZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcmFpblNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiByYWluU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMucmFpbmdhZ2VJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JhaW5nYWdlIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHJhaW5TZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmFyb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0VicyA9IDA7IG5vRWJzIDwgJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29ycy5sZW5ndGg7IG5vRWJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0ViU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29yc1tub0Vic107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5CYXJvbWV0cmljIFByZXNzdXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FYlNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRWJTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0ViU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5iYXJvSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Jhcm8gU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0ViU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FbXMgPSAwOyBub0VtcyA8ICRzY29wZS5hbGxTaXRlTWV0U2Vuc29ycy5sZW5ndGg7IG5vRW1zKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0VtU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVNZXRTZW5zb3JzW25vRW1zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gbm9FbVNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VtU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9FbVNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRW1TZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLm1ldEljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdNZXQgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VtU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZGdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FcnMgPSAwOyBub0VycyA8ICRzY29wZS5hbGxTaXRlUkRHU2Vuc29ycy5sZW5ndGg7IG5vRXJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0VyU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVSREdTZW5zb3JzW25vRXJzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlJhcGlkIERlcGxveW1lbnQgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VyU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9FclNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnJkZ0ljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdSREcgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VyU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdG9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0VzcyA9IDA7IG5vRXNzIDwgJHNjb3BlLmFsbFNpdGVTdG9ybVNlbnNvcnMubGVuZ3RoOyBub0VzcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9Fc1NlbnNvciA9ICRzY29wZS5hbGxTaXRlU3Rvcm1TZW5zb3JzW25vRXNzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gbm9Fc1NlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VzU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9Fc1NlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXNTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0b3JtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N0b3JtdGlkZSBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG5vRXNTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93YXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXdzID0gMDsgbm9Fd3MgPCAkc2NvcGUuYWxsU2l0ZVdhdmVTZW5zb3JzLmxlbmd0aDsgbm9Fd3MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXdTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVdhdmVTZW5zb3JzW25vRXdzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPldhdmUgSGVpZ2h0IFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9Fd1NlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXdTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0V3U2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy53YXZlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dhdmVoZWlnaHQgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0V3U2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcmVzc3VyZVRlbXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FcHMgPSAwOyBub0VwcyA8ICRzY29wZS5hbGxTaXRlUHJlc1RlbXBTZW5zb3JzLmxlbmd0aDsgbm9FcHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXBTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29yc1tub0Vwc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IG5vRXBTZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FcFNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXBTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0VwU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5wcmVzc3VyZUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQcmVzc3VyZVRlbXAgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VwU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVybW9tZXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0V0cyA9IDA7IG5vRXRzIDwgJHNjb3BlLmFsbFNpdGVUaGVybVNlbnNvcnMubGVuZ3RoOyBub0V0cysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FdFNlbnNvciA9ICRzY29wZS5hbGxTaXRlVGhlcm1TZW5zb3JzW25vRXRzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlRlbXBlcmF0dXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FdFNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXRTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0V0U2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy50aGVybUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUaGVybW9tZXRlciBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG5vRXRTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3dlYmNhbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0V3ZWJzID0gMDsgbm9Fd2VicyA8ICRzY29wZS5hbGxTaXRlV2ViU2Vuc29ycy5sZW5ndGg7IG5vRXdlYnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXdlYlNlbnNvciA9ICRzY29wZS5hbGxTaXRlV2ViU2Vuc29yc1tub0V3ZWJzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPldlYmNhbSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXdlYlNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXdlYlNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXdlYlNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMud2ViY2FtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dlYmNhbSBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG5vRXdlYlNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmFpbmdhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FcmFpbnMgPSAwOyBub0VyYWlucyA8ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnMubGVuZ3RoOyBub0VyYWlucysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FcmFpblNlbnNvciA9ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnNbbm9FcmFpbnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+PldlYmNhbSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXJhaW5TZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0VyYWluU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbm9FcmFpblNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMucmFpbmdhZ2VJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUmFpbmdhZ2UgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VyYWluU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIGFkZFNlbnNvcnMgd2hlbiBldmVudCBjaGFuZ2VzXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGljb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0bjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5TaXRlSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEyLCAxMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlbGVjdGVkSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bUljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTYsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuSFdNSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJhcm9JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzE2LCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bkJhcm9TZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0SWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5NZXRTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmRnSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMiwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5SREdTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3Rvcm1JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blN0b3JtU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHdhdmVJY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bldhdmVTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcHJlc3N1cmVJY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blByZXNzdXJlU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoZXJtSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxNiwgMjJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5UaGVybVNlbnNvckljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB3ZWJjYW1JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bldlYmNhbVNlbnNvckljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByYWluZ2FnZUljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjAsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuUmFpbmdhZ2VTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHNPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlTWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2lyY2xlTWFya2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDk5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG5nczoge31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGFkZFNoYXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRoc09iai5jaXJjbGVNYXJrZXIubGF0bG5ncyA9IHsgbGF0OiAkc2NvcGUudGhpc1NpdGUubGF0aXR1ZGVfZGQsIGxuZzogJHNjb3BlLnRoaXNTaXRlLmxvbmdpdHVkZV9kZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocy5jaXJjbGVNYXJrZXIgPSAkc2NvcGUucGF0aHNPYmouY2lyY2xlTWFya2VyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFkZFNoYXBlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQ2VudGVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLnRoaXNTaXRlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS50aGlzU2l0ZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ab29tOiAxNlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyczogJHNjb3BlLm1hcmtlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vyc0xhdExuZ0FycmF5OiBbXSwgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXb3JsZCBUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIlRvcG9ncmFwaGljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0blNpdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21hcmtlcmNsdXN0ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTVE4gU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIgJHNjb3BlLmV4dGVuZCBzdGF0ZW1lbnRcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZ2V0UHJveGltaXR5U2l0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRQcm94aW1pdHlTaXRlcyh7IExhdGl0dWRlOiAkc2NvcGUudGhpc1NpdGUubGF0aXR1ZGVfZGQsIExvbmdpdHVkZTogJHNjb3BlLnRoaXNTaXRlLmxvbmdpdHVkZV9kZCwgQnVmZmVyOiAwLjA1IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZVNpdGVzID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAkc2NvcGUuY2xvc2VTaXRlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuc2l0ZV9pZCAhPT0gJHNjb3BlLnRoaXNTaXRlLnNpdGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPk5lYXJieSBTaXRlIE5hbWU6PC9iPiAnICsgYS5zaXRlX25vICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBhLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogYS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAvLyBnZXRQcm94aW1pdHlTaXRlcygpO1xyXG4gICAgICAgICAgICB9Ly9lbmQgaWYgYVNpdGUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZUN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAndGhpc1NpdGUnLCAnbGF0bG9uZycsICd0aGlzU2l0ZU5ldHdvcmtOYW1lcycsICd0aGlzU2l0ZU5ldHdvcmtUeXBlcycsICd0aGlzU2l0ZUhvdXNpbmdzJyxcclxuICAgICAgICAnU0lURScsICdNRU1CRVInLCAnRklMRV9UWVBFJywgJ0FHRU5DWScsICdTaXRlX1NjcmlwdCcsICdhbGxIb3JEYXR1bXMnLCAnYWxsSG9yQ29sbE1ldGhvZHMnLCAnYWxsU3RhdGVzJywgJ2FsbENvdW50aWVzJywgJ2FsbERlcGxveVByaW9yaXRpZXMnLCAnYWxsSG91c2luZ1R5cGVzJywgJ2FsbE5ldHdvcmtOYW1lcycsICdhbGxOZXR3b3JrVHlwZXMnLCAnYWxsRGVwbG95VHlwZXMnLCAnYWxsU2Vuc29yVHlwZXMnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgdGhpc1NpdGUsIGxhdGxvbmcsIHRoaXNTaXRlTmV0d29ya05hbWVzLCB0aGlzU2l0ZU5ldHdvcmtUeXBlcywgdGhpc1NpdGVIb3VzaW5ncywgU0lURSwgTUVNQkVSLCBGSUxFX1RZUEUsIEFHRU5DWSwgU2l0ZV9TY3JpcHQsIGFsbEhvckRhdHVtcyxcclxuICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFN0YXRlcywgYWxsQ291bnRpZXMsIGFsbERlcGxveVByaW9yaXRpZXMsIGFsbEhvdXNpbmdUeXBlcywgYWxsTmV0d29ya05hbWVzLCBhbGxOZXR3b3JrVHlwZXMsIGFsbERlcGxveVR5cGVzLCBhbGxTZW5zb3JUeXBlcykge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2l0ZSBEYXNoYm9hcmRcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gYXJlIHRoZXJlIGFueSBzY3JpcHRzIHJ1bm5pbmcgYWdhaW5zdCB0aGlzIHNpdGUgcmlnaHQgbm93IGZvciBhaXIvd2F0ZXJcclxuICAgICAgICAgICAgICAgIHZhciBzaG93U2NyaXB0VG9hc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRGF0YSBGaWxlIFNjcmlwdHMgYXJlIHByb2Nlc3NpbmcgZm9yIHRoaXMgc2l0ZSBhbmQgY2FuIHRha2Ugc2V2ZXJhbCBtaW51dGVzLiBDaGVjayBiYWNrIHRvIHRoZSBzaXRlIGRhc2hib2FyZCBsYXRlciBvciByZWZyZXNoIHRvIHNlZSBpZiBzY3JpcHQgaXMgY29tcGxldGUgYW5kIG5ldyBmaWxlcyBhcmUgcmVhZHkuIFRoZSBvdXRwdXQgY3N2IGZpbGUgY29udGFpbnMgc3VjY2Vzcy9lcnJvciBpbmZvcm1hdGlvbi5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbG9zZUJ1dHRvbjogdHJ1ZSwgcG9zaXRpb25DbGFzczogXCJ0b2FzdC1ib3R0b20tcmlnaHRcIiwgb25jbGljazogbnVsbCwgdGltZU91dDogMCwgZXh0ZW5kZWRUaW1lT3V0OiAwIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChTaXRlX1NjcmlwdC5nZXRJc1NjcmlwdFJ1bm5pbmcoKSA9PSBcInRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dTY3JpcHRUb2FzdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignc2l0ZURGU2NyaXB0UnVubmluZycsIGZ1bmN0aW9uIChlLCBydW5uaW5nU2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdTY3JpcHQgPT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NjcmlwdFRvYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcE9wZW46IGZhbHNlLCBzaXRlT3BlbjogdHJ1ZSwgb3BPcGVuOiBmYWxzZSwgc2Vuc29yT3BlbjogZmFsc2UsIGh3bU9wZW46IGZhbHNlLCBmaWxlc09wZW46IGZhbHNlLCBwZWFrT3BlbjogZmFsc2VcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1NpdGVIb3VzZVR5cGVNb2RlbCA9IFtdOyAvL2hvbGRlciBmb3Igd2hlbiBhZGRpbmcgaG91c2luZyB0eXBlIHRvIHBhZ2UgZnJvbSBtdWx0aXNlbGVjdFxyXG5cclxuICAgICAgICAgICAgICAgIC8vb3BlbiBtb2RhbCB0byBlZGl0IG9yIGNyZWF0ZSBhIHNpdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuU2l0ZUNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duUGFydHMgPSBbYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsU3RhdGVzLCBhbGxDb3VudGllcywgYWxsSG91c2luZ1R5cGVzLCBhbGxEZXBsb3lQcmlvcml0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrTmFtZXMsIGFsbE5ldHdvcmtUeXBlcywgYWxsRGVwbG95VHlwZXMsIGFsbFNlbnNvclR5cGVzXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5OYW1lc1RvUGFzcyA9IFtdOyAvL21ha2Ugc3VyZSBvbmx5IHBhc3NpbmcgdG8gZWRpdCB0aG9zZSB0aGF0IGFyZSBvbiB0aGlzIHNpdGUgKGluIGNhc2UgdGhleSBlZGl0LCBzYXZlLCBlZGl0IGFnYWluKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFOTiA9IDA7IGFOTiA8IGFsbE5ldHdvcmtOYW1lcy5sZW5ndGg7IGFOTisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5hbWUgbWF0Y2hlcyBhbnkgb2YgdGhlIG5hbWVzIGluICRzY29wZS5TaXRlTmV0d29ya05hbWVzLCBnZXQgdGhlIGZ1bGwgbmV0d29ya19uYW1lIHRvIHBhc3MgdG8gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5zaXRlTmV0d29ya05hbWVzLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZTsgfSkuaW5kZXhPZihhbGxOZXR3b3JrTmFtZXNbYU5OXS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU5OYW1lc1RvUGFzcy5wdXNoKGFsbE5ldHdvcmtOYW1lc1thTk5dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5UeXBlc1RvUGFzcyA9IFtdOyAvL21ha2Ugc3VyZSBvbmx5IHBhc3NpbmcgdG8gZWRpdCB0aG9zZSB0aGF0IGFyZSBvbiB0aGlzIHNpdGUgKGluIGNhc2UgdGhleSBlZGl0LCBzYXZlLCBlZGl0IGFnYWluKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFOVCA9IDA7IGFOVCA8IGFsbE5ldHdvcmtUeXBlcy5sZW5ndGg7IGFOVCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5hbWUgbWF0Y2hlcyBhbnkgb2YgdGhlIG5hbWVzIGluICRzY29wZS5TaXRlTmV0d29ya05hbWVzLCBnZXQgdGhlIGZ1bGwgbmV0d29ya19uYW1lIHRvIHBhc3MgdG8gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9ICRzY29wZS5zaXRlTmV0d29ya1R5cGVzLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZTsgfSkuaW5kZXhPZihhbGxOZXR3b3JrVHlwZXNbYU5UXS5uZXR3b3JrX3R5cGVfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVOVHlwZXNUb1Bhc3MucHVzaChhbGxOZXR3b3JrVHlwZXNbYU5UXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1NJVEVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcERvd25QYXJ0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkcm9wZG93blBhcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU3R1ZmY6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ1NpdGVIb3VzZXMgPSAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncyA6IFtdOyAvL25lZWRlZCBmb3IgbXVsdGkgc2VsZWN0IHRvIHNldCBwcm9wIHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzSG91c2VUeXBlTW9kZWwgPSAkc2NvcGUudGhpc1NpdGVIb3VzZVR5cGVNb2RlbC5sZW5ndGggPiAwID8gJHNjb3BlLnRoaXNTaXRlSG91c2VUeXBlTW9kZWwgOiBbXTsgLy9oZXJlJ3Mgd2hhdCB0aGUgc2l0ZSBhbHJlYWR5IGhhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc05ldE5hbWVzID0gc2l0ZU5OYW1lc1RvUGFzcy5sZW5ndGggPiAwID8gc2l0ZU5OYW1lc1RvUGFzcyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc05ldFR5cGVzID0gc2l0ZU5UeXBlc1RvUGFzcy5sZW5ndGggPiAwID8gc2l0ZU5UeXBlc1RvUGFzcyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG8gPSAkc2NvcGUubGFuZG93bmVyICE9PSB1bmRlZmluZWQgPyAkc2NvcGUubGFuZG93bmVyIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlUmVsYXRlZFN0dWZmID0gWyRzY29wZS5hU2l0ZSwgb3JpZ1NpdGVIb3VzZXMsIHNIb3VzZVR5cGVNb2RlbCwgc05ldE5hbWVzLCBzTmV0VHlwZXMsIGxvXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpdGVSZWxhdGVkU3R1ZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGSUxFX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFHRU5DWS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRsb25nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGxvbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGF0bG9uZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSAnRGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHJbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRMYW5kT3duZXJDb250YWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbERhdHVtID0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZCA+IDAgPyBhbGxIb3JEYXR1bXMuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6IFwiLS0tXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbENvbGxlY3RNZXRob2QgPSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyBhbGxIb3JDb2xsTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKGhjKSB7IHJldHVybiBoYy5oY29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kIDogXCItLS1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5Qcmlvcml0eU5hbWUgPSAkc2NvcGUuYVNpdGUucHJpb3JpdHlfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUucHJpb3JpdHlfaWQgPiAwID8gYWxsRGVwbG95UHJpb3JpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGRwKSB7IHJldHVybiBkcC5wcmlvcml0eV9pZCA9PSAkc2NvcGUuYVNpdGUucHJpb3JpdHlfaWQ7IH0pWzBdLnByaW9yaXR5X25hbWUgOiBcIi0tLVwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya05hbWVzID0gclsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gclsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdtYXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpcyB0aGlzIGNyZWF0ZSBuZXcgc2l0ZSBvciB2aWV3IGV4aXN0aW5nPz8gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nU2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0gdGhpc1NpdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuZGVjRGVnT1JkbXMgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbERhdHVtID0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZCA+IDAgPyBhbGxIb3JEYXR1bXMuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6IFwiLS0tXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5Ib3Jpem9udGFsQ29sbGVjdE1ldGhvZCA9ICRzY29wZS5hU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/IGFsbEhvckNvbGxNZXRob2RzLmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS5oY29sbGVjdF9tZXRob2QgOiBcIi0tLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuUHJpb3JpdHlOYW1lID0gJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkID4gMCA/IGFsbERlcGxveVByaW9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChkcCkgeyByZXR1cm4gZHAucHJpb3JpdHlfaWQgPT0gJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkOyB9KVswXS5wcmlvcml0eV9uYW1lIDogXCItLS1cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYXBwbHkgYW55IHNpdGUgaG91c2luZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlSG91c2luZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzID0gYW5ndWxhci5jb3B5KHRoaXNTaXRlSG91c2luZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlSG91c2VUYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Zvcm1hdCBmb3IgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHogPSAwOyB6IDwgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzLmxlbmd0aDsgeisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBob3VzaW5ndHlwZWxpc3QuLm1ha2Ugc2VsZWN0ZWQgPSB0cnVlIGZvciB0aGVzZSAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXNlVHlwZU5hbWUgPSBhbGxIb3VzaW5nVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PSAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3Nbel0uaG91c2luZ190eXBlX2lkOyB9KVswXS50eXBlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXNlVCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9uYW1lOiBob3VzZVR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VzaW5nX3R5cGVfaWQ6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5ob3VzaW5nX3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaG91c2luZ19pZDogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLnNpdGVfaG91c2luZ19pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3Nbel0ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlczogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLm5vdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5hbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzU2l0ZUhvdXNlVHlwZU1vZGVsLnB1c2goaG91c2VUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIG5ldHdvcmsgbmFtZXMgb3IgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlTmV0d29ya05hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdGhpc1NpdGVOZXR3b3JrTmFtZXMubGVuZ3RoOyBhKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm4gPSBhbGxOZXR3b3JrTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLm5ldHdvcmtfbmFtZV9pZCA9PSB0aGlzU2l0ZU5ldHdvcmtOYW1lc1thXS5uZXR3b3JrX25hbWVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya05hbWVzLnB1c2gobm4ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hcHBseSBhbnkgc2l0ZSBuZXR3b3JrIG5hbWVzIG9yIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZU5ldHdvcmtUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IHRoaXNTaXRlTmV0d29ya1R5cGVzLmxlbmd0aDsgYisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG50ID0gYWxsTmV0d29ya1R5cGVzLmZpbHRlcihmdW5jdGlvbiAobnQpIHsgcmV0dXJuIG50Lm5ldHdvcmtfdHlwZV9pZCA9PSB0aGlzU2l0ZU5ldHdvcmtUeXBlc1tiXS5uZXR3b3JrX3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzLnB1c2gobnQubmV0d29ya190eXBlX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuc2Vuc29yX25vdF9hcHByb3ByaWF0ZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5hU2l0ZS5zZW5zb3Jfbm90X2FwcHJvcHJpYXRlID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOb3RBcHByID0gXCJZZXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5vdEFwcHIgPSBcIk5vXCI7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgbWVtYmVyIG5hbWUgZm9yIGRpc3BsYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5tZW1iZXJfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubWVtYmVyX2lkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRzY29wZS5hU2l0ZS5tZW1iZXJfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ3JlYXRvciA9IHJlc3BvbnNlLmZuYW1lICsgXCIgXCIgKyByZXNwb25zZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5DcmVhdG9yID0gXCJOb3QgcmVjb3JkZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmFTaXRlLkNyZWF0b3IgPSBcIk5vdCByZWNvcmRlZFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgdGhlIGxhbmRvd25lckNPbnRhY3Qgd2l0aCBnZXRDcmVkcyAoY2FsbGVkIHdoZW4gY29taW5nIGJhY2sgZnJvbSBtb2RhbCB0b29cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldExhbmRPd25lckNvbnRhY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IG51bGwgJiYgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2l0ZUxhbmRPd25lcih7IGlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZExhbmRvd25lciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbGFuZG93bmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBsYW5kb3duZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzaXRlIGhhcyBsYW5kb3duZXJjb250YWN0IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldExhbmRPd25lckNvbnRhY3QoKTsgLy9jYWxsIGl0IGZyb20gaGVyZSBhbmQgZnJvbSBtb2RhbHJlc3BvbnNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NpdGUgIT0gdW5kZWZpbmVkIGJ1dCB0aGUgc2l0ZS5zaXRlX2lkIGlzID09IHRoaXMgc2l0ZSBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoaXMgc2l0ZSBkb2VzIG5vdCBleGlzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9Ib21lJykucmVwbGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBleGlzdGluZ1NpdGVcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vcGVuIG1vZGFsIGlmIG5ldyBzaXRlIGZvciBjcmVhdGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BlblNpdGVDcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS8vZW5kIGVsc2UgY2hlY2tDcmVkcyBpcyBnb29kXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdxdWlja0NyZWF0ZUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnJHNjZScsICd3aGljaFF1aWNrJywgJ2FsbEhvckRhdHVtcycsXHJcbiAgICAgICAgJ2FsbEhvckNvbGxNZXRob2RzJywgJ2FsbFN0YXRlcycsICdhbGxDb3VudGllcycsICdhbGxPUFR5cGVzJywgJ2FsbFZlcnREYXR1bXMnLCAnYWxsVmVydENvbE1ldGhvZHMnLCAnYWxsT1BRdWFsaXRpZXMnLCAnYWxsSFdNVHlwZXMnLCAnYWxsSFdNUXVhbGl0aWVzJywgJ2FsbE1hcmtlcnMnLFxyXG4gICAgICAgICdhbGxFdmVudHMnLCAnYWxsU2Vuc29yVHlwZXMnLCAnYWxsU2Vuc29yQnJhbmRzJywgJ2FsbERlcGxveVR5cGVzJywgJ2FsbEhvdXNpbmdUeXBlcycsICdTSVRFJywgJ09CSkVDVElWRV9QT0lOVCcsICdIV00nLCAnTUVNQkVSJywgJ0lOU1RSVU1FTlQnLCAnSU5TVFJVTUVOVF9TVEFUVVMnLCAnT1BfTUVBU1VSRScsICdPUF9DT05UUk9MX0lERU5USUZJRVInLCAnR0VPQ09ERScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkc2NlLCB3aGljaFF1aWNrLCBhbGxIb3JEYXR1bXMsIGFsbEhvckNvbGxNZXRob2RzLCBhbGxTdGF0ZXMsIGFsbENvdW50aWVzLCBhbGxPUFR5cGVzLFxyXG4gICAgICAgICAgICBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsT1BRdWFsaXRpZXMsIGFsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbE1hcmtlcnMsIGFsbEV2ZW50cywgYWxsU2Vuc29yVHlwZXMsIGFsbFNlbnNvckJyYW5kcywgYWxsRGVwbG95VHlwZXMsIGFsbEhvdXNpbmdUeXBlcyxcclxuICAgICAgICAgICAgU0lURSwgT0JKRUNUSVZFX1BPSU5ULCBIV00sIE1FTUJFUiwgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIE9QX01FQVNVUkUsIE9QX0NPTlRST0xfSURFTlRJRklFUiwgR0VPQ09ERSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNyZWF0ZVdoYXQgPSB3aGljaFF1aWNrO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh0bWxEZXNjcmlwdGlvblRpcCA9ICRzY2UudHJ1c3RBc0h0bWwoJ1JlcXVpcmVkIGJ5IE5XSVMuIENhbiBiZSBsaXN0ZWQgYXMgPGVtPlxcJ3Vua25vd25cXCc8L2VtPiBvciA8ZW0+XFwnQXRsYW50aWMgT2NlYW5cXCc8L2VtPicpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5NZW1iZXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvZ2dlZCBpbiBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbG9nZ2VkIGluIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJRdWlja1wiICsgd2hpY2hRdWljaztcclxuICAgICAgICAgICAgICAgICRzY29wZS5xdWlja0Zvcm0gPSB7fTsgLy9mb3JtcyB3aXRoaW4gdGhlIGFjY29yZGlvbiAuU2l0ZSwgLk9QLCAuSFdNXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0geyBtZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hT1AgPSB7IGRhdGVfZXN0YWJsaXNoZWQ6IG1ha2VBZGF0ZShcIlwiKSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNpdGVPcGVuOiB0cnVlLCBvcE9wZW46IGZhbHNlLCBod21PcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbiBmb3IgcGFydHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUENhcnJheSA9IFtdOyAvL2hvbGRlciBpZiB0aGV5IHJlbW92ZSBhbnkgT1AgY29udHJvbHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzID0gW107IC8vaG9sZGVyIGZvciBhZGRlZCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IGZhbHNlOyAvL2luaXRpYWxseSBoaWRlIHRoZSBhcmVhIGNvbnRhaW5pbmcgYWRkZWQgY29udHJvbCBJZGVudGlmaWVyc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0dW1MaXN0ID0gYWxsSG9yRGF0dW1zOyAkc2NvcGUuaG9yQ29sbE1ldGhvZExpc3QgPSBhbGxIb3JDb2xsTWV0aG9kcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUxpc3QgPSBhbGxTdGF0ZXM7ICRzY29wZS5hbGxDb3VudHlMaXN0ID0gYWxsQ291bnRpZXM7ICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcFR5cGVMaXN0ID0gYWxsT1BUeXBlczsgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xsTWV0aG9kTGlzdCA9IGFsbFZlcnRDb2xNZXRob2RzOyAkc2NvcGUub3BRdWFsTGlzdCA9IGFsbE9QUXVhbGl0aWVzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaHdtIGRyb3Bkb3duc1xyXG4gICAgICAgICAgICAgICAgaWYgKHdoaWNoUXVpY2sgPT0gJ0hXTScpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTSA9IHsgaHdtX2xhYmVsOiAnaHdtLTEnLCBod21fZW52aXJvbm1lbnQ6ICdSaXZlcmluZScsIGV2ZW50X2lkOiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksIGJhbms6ICdOL0EnLCBmbGFnX2RhdGU6IG1ha2VBZGF0ZShcIlwiKSwgc3RpbGx3YXRlcjogMCwgZmxhZ19tZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBhbGxIV01UeXBlczsgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsSFdNUXVhbGl0aWVzOyAkc2NvcGUubWFya2VyTGlzdCA9IGFsbE1hcmtlcnM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3NlbnNvciBkcm9wZG93bnNcclxuICAgICAgICAgICAgICAgIGlmICh3aGljaFF1aWNrID09ICdTZW5zb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFRpbWVab25lU3RhbXAgPSBmdW5jdGlvbiAoZHNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRzZW50ICE9PSB1bmRlZmluZWQpIGQgPSBuZXcgRGF0ZShkc2VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKGQudG9TdHJpbmcoKSkuc3Vic3RyaW5nKDM1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHpvbmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0NTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRWFzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdFU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vdVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnTVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQYWNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ1BTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRoaXMgPSBbZCwgem9uZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUeXBlTGlzdCA9IGFsbERlcGxveVR5cGVzOyAvL2dldCBmcmVzaCB2ZXJzaW9uIHNvIG5vdCBtZXNzZWQgdXAgd2l0aCB0aGUgVGVtcGVyYXR1cmUgdHdpY2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdCA9IGFsbEhvdXNpbmdUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZVpvbmVMaXN0ID0gWydVVEMnLCAnUFNUJywgJ01TVCcsICdDU1QnLCAnRVNUJ107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IgPSB7IGV2ZW50X2lkOiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzID0geyBzdGF0dXNfdHlwZV9pZDogMSwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IGFsbEV2ZW50czsgJHNjb3BlLnNlbnNvclR5cGVMaXN0ID0gYWxsU2Vuc29yVHlwZXM7ICRzY29wZS5zZW5zb3JCcmFuZExpc3QgPSBhbGxTZW5zb3JCcmFuZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkludGVydmFsVHlwZSA9IHsgdHlwZTogJ1NlY29uZHMnIH07IC8vZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vZGlzcGxheWluZyBkYXRlIC8gdGltZSBpdCB1c2VyJ3MgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgRGVwdGltZVBhcnRzID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gRGVwdGltZVBhcnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSBEZXB0aW1lUGFydHNbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuRGVwbG95ZXIgPSAkc2NvcGUubG9nZ2VkSW5NZW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IGRlcGxveW1lbnQgdHlwZXMgZm9yIHNlbnNvciB0eXBlIGNob3NlblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXREZXBUeXBlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NlbnNEZXBsaXN0ID0gYWxsU2Vuc29yVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzZCkgeyByZXR1cm4gc2Quc2Vuc29yX3R5cGVfaWQgPT0gJHNjb3BlLmFTZW5zb3Iuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgMSBzZW5zb3JUeXBlIHdpdGggaW5uZXIgbGlzdCBvZiAgLmRlcGxveW1lbnR0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBtYXRjaGluZ1NlbnNEZXBsaXN0LmRlcGxveW1lbnR0eXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcy5sZW5ndGggPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmRlcGxveW1lbnRfdHlwZV9pZCA9ICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlc1swXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9kZWZhdWx0IHJhZGlvc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkZUb3JNRVRFUiA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRlRvckNNID0gJ2Z0JztcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gYWRkIE9QIGlkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGROZXdJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnB1c2goeyBpZGVudGlmaWVyOiBcIlwiLCBpZGVudGlmaWVyX3R5cGU6IFwiXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIGFkZE5ld0lkZW50aWZpZXIgZm9yIE9QXHJcblxyXG4gICAgICAgICAgICAgICAgLy9pcyBpdCBVVEMgb3IgbG9jYWwgdGltZS4ubWFrZSBzdXJlIGl0IHN0YXlzIFVUQ1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9ICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBsYXQvbG9uZyBzdHVmZlxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcy52YWwgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9OyAvL2hvbGRlciBvZiBkZWcgbWluIHNlYyB2YWx1ZXNcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgZGVnIG1pbiBzZWMgdG8gZGVjIGRlZ3JlZXNcclxuICAgICAgICAgICAgICAgIHZhciBhemltdXRoID0gZnVuY3Rpb24gKGRlZywgbWluLCBzZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhemkgPSAtMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgZGVjIGRlZ3JlZXMgdG8gZG1zXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWluZmxvYXQgPSAoZGVnIC0gZCkgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IobWluZmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXCJcIiArIGQgKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0TG9uZ0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHRocmVlIGlucHV0cyBmb3IgY29udmVyc2lvbiBmcm9tIERNUyB0byBEZWNpbWFsIERlZ3JlZXMgdG8gd29yay48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBETVNNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdERNUyA9IChkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNU2FycmF5ID0gbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGxvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9TZWMgPSBsb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbGF0IG1vZGFsIFxyXG4gICAgICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsYXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjU0lURV9sYXRpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjU0lURV9sb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja1ZhbHVlID0gZnVuY3Rpb24gKGQsIGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkID09ICdkbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGRlZ3JlZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsYXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyA8IDAgfHwgJHNjb3BlLkRNUy5MQURlZyA+IDczIHx8IChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSAmJiAkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBTWluKSAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpKSAkc2NvcGUuRE1TLkxBRGVnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBTWluKSkgJHNjb3BlLkRNUy5MQU1pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykpICRzY29wZS5ETVMuTEFTZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnZG1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikpICRzY29wZS5ETVMuTE9NaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9TZWMpKSAkc2NvcGUuRE1TLkxPU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xhdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsb25nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gIGxhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9nZXQgYWRkcmVzcyBwYXJ0cyBhbmQgZXhpc3Rpbmcgc2l0ZXMgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZW0gYWxsIGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hU2l0ZS5hZGRyZXNzOyBkZWxldGUgJHNjb3BlLmFTaXRlLmNpdHk7IGRlbGV0ZSAkc2NvcGUuYVNpdGUuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9IFtdOyBkZWxldGUgJHNjb3BlLmFTaXRlLnppcDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkgJiYgIWlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvL2xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgR0VPQ09ERS5nZXRBZGRyZXNzUGFydHMoeyBMb25naXR1ZGU6ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQsIExhdGl0dWRlOiAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUZJUFMgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLk5BTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGVJRCA9IHN0YXRlRklQUyAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9maXAgPT0gc3RhdGVGSVBTOyB9KVswXS5zdGF0ZV9pZCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlSUQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuc3RhdGUgPSB0aGlzU3RhdGUuc3RhdGVfYWJicmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmNvdW50eSA9IGNvdW50eU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSByZWNvZ25pemVkIHN0YXRlLiBQbGVhc2UgY2hvb3NlIG9uZSBmcm9tIHRoZSBkcm9wZG93bi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIk5vIGxvY2F0aW9uIGluZm9ybWF0aW9uIGNhbWUgYmFjayBmcm9tIHRoYXQgbGF0L2xvbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzLiBDaG9vc2UgU3RhdGUgYW5kIENvdW50eSBmcm9tIGRyb3Bkb3ducy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgZGlkIG5vdCB0eXBlIGEgbGF0L2xvbmcgZmlyc3QuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW1wdHlMYXRMb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwcm92aWRlIGEgTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBiZWZvcmUgY2xpY2tpbmcgVmVyaWZ5IExvY2F0aW9uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgZ2V0QWRkcmVzcygpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGxhdC9sb25nIHN0dWZmXHJcblxyXG4gICAgICAgICAgICAgICAgLy9od21fdW5jZXJ0YWludHkgdHlwZWQgaW4sIGNob29zZSBjb29yZXNwb25kaW5nIGh3bV9lbnZpcm9ubWVudFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob29zZVF1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmh3bV91bmNlcnRhaW50eSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE51bWJlcigkc2NvcGUuYUhXTS5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgRXhjZWxsZW50ICAgICstMC4wNSAgICAgICAwICAgICAgLSAgMC4wNTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIEdvb2QgICAgICAgICArLTAuMTAgICAgICAgMC4wNTEgIC0gIDAuMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICBGYWlyICAgICAgICAgKy0wLjIwICAgICAgIDAuMTAxICAtICAwLjIwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgUG9vciAgICAgICAgICstMC40MCAgICAgICAwLjIwMSAgLSAgMC40MDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIFYgUG9vciAgICAgICA+IDAuNDAgICAgICAgMC40MDEgIC0gIGluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0geCAmJiBoLm1heF9yYW5nZSA+PSB4OyB9KVswXS5od21fcXVhbGl0eV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9od20gcXVhbGl0eSBjaG9zZW4gKG9yIGl0IGNoYW5nZWQgZnJvbSBhYm92ZSksIGNoZWNrIHRvIG1ha2Ugc3VyZSBpdCBpcyBjb25ncnVlbnQgd2l0aCBpbnB1dCBhYm92ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbXBhcmVUb1VuY2VydGFpbnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5od21fdW5jZXJ0YWludHkgIT09IFwiXCIgJiYgJHNjb3BlLmFIV00uaHdtX3VuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoJHNjb3BlLmFIV00uaHdtX3VuY2VydGFpbnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nUXVhbElkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0geCAmJiBoLm1heF9yYW5nZSA+PSB4OyB9KVswXS5od21fcXVhbGl0eV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkICE9PSBtYXRjaGluZ1F1YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IHdhcm5pbmcgbW9kYWwgYW5kIGZvY3VzIGluIHVuY2VydGFpbnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jb25ncnVlbnRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZXJlIGlzIGEgbWlzbWF0Y2ggYmV0d2VlbiB0aGUgaHdtIHF1YWxpdHkgY2hvc2VuIGFuZCB0aGUgaHdtIHVuY2VydGFpbnR5IGFib3ZlLiBQbGVhc2UgY29ycmVjdCB5b3VyIGh3bSB1bmNlcnRhaW50eS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29uZ3J1ZW50TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fdW5jZXJ0YWludHknXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgPSBuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV3VmFsdWUgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID0gJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgIT0gXCJBbGwgRXZlbnRzXCIgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3doZW4gU0lURS5zdGF0ZSBjaGFuZ2VzLCB1cGRhdGUgY291bnR5IGxpc3RcclxuICAgICAgICAgICAgICAgICRzY29wZS51cGRhdGVDb3VudHlMaXN0ID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gczsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCB1cGRhdGVDb3VudHlMaXN0KCkgZm9yIFNpdGVcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ha2UgdW5jZXJ0YWludHkgY2xlYXJlZCBhbmQgZGlzYWJsZWQgd2hlbiAndW5xdWFudGlmaWVkJyBpcyBjaGVja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuVW5xdWFudENoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hT1AudW5xdWFudGlmaWVkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AudW5jZXJ0YWludHkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCB1bnF1YW50Q2hlY2tlZCgpIGZvciBvcFxyXG5cclxuICAgICAgICAgICAgICAgIC8vanVzdCBuZWVkIGFuIE9CSkVDVElWRV9QT0lOVCBvYmplY3QgdG8gcG9zdC9wdXRcclxuICAgICAgICAgICAgICAgIHZhciB0cmltT1AgPSBmdW5jdGlvbiAob3ApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgT0JKX1BUID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6IG9wLm9iamVjdGl2ZV9wb2ludF9pZCAhPT0gdW5kZWZpbmVkID8gb3Aub2JqZWN0aXZlX3BvaW50X2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogb3AubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG9wLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGV2X2Z0OiBvcC5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBvcC5lbGV2X2Z0IDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZV9lc3RhYmxpc2hlZDogb3AuZGF0ZV9lc3RhYmxpc2hlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BfaXNfZGVzdHJveWVkOiBvcC5vcF9pc19kZXN0cm95ZWQgIT09IHVuZGVmaW5lZCA/IG9wLm9wX2lzX2Rlc3Ryb3llZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wX25vdGVzOiBvcC5vcF9ub3RlcyAhPT0gdW5kZWZpbmVkID8gb3Aub3Bfbm90ZXMgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBvcC5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZGF0dW1faWQ6IG9wLnZkYXR1bV9pZCAhPT0gdW5kZWZpbmVkID8gb3AudmRhdHVtX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6IG9wLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6IG9wLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGRhdHVtX2lkOiBvcC5oZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IG9wLmhkYXR1bV9pZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjb2xsZWN0X21ldGhvZF9pZDogb3AuaGNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgPyBvcC5oY29sbGVjdF9tZXRob2RfaWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2Y29sbGVjdF9tZXRob2RfaWQ6IG9wLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AudmNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BfdHlwZV9pZDogb3Aub3BfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZV9yZWNvdmVyZWQ6IG9wLmRhdGVfcmVjb3ZlcmVkICE9PSB1bmRlZmluZWQgPyBvcC5kYXRlX3JlY292ZXJlZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuY2VydGFpbnR5OiBvcC51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gb3AudW5jZXJ0YWludHkgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bnF1YW50aWZpZWQ6IG9wLnVucXVhbnRpZmllZCAhPT0gdW5kZWZpbmVkID8gb3AudW5xdWFudGlmaWVkIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BfcXVhbGl0eV9pZDogb3Aub3BfcXVhbGl0eV9pZCAhPT0gdW5kZWZpbmVkID8gb3Aub3BfcXVhbGl0eV9pZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT0JKX1BUO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1ggd2FzIGNsaWNrZWQgbmV4dCB0byBleGlzdGluZyBDb250cm9sIElkZW50aWZpZXIgdG8gaGF2ZSBpdCByZW1vdmVkLCBzdG9yZSBpbiByZW1vdmUgYXJyYXkgZm9yIFNhdmUoKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlJlbW92ZUlEID0gZnVuY3Rpb24gKG9wQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vb25seSBhZGQgdG8gcmVtb3ZlIGxpc3QgaWYgaXQncyBhbiBleGlzdGluZyBvbmUgdG8gREVMRVRFXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5pbmRleE9mKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wQ29udHJvbC5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkucHVzaChvcENvbnRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXggZGVmYXVsdCByYWRpb3MgYW5kIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RGVmYXVsdHMgPSBmdW5jdGlvbiAodGhlT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yTUVURVIgbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ21ldGVyJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JNRVRFUiA9PSBcIm1ldGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLmVsZXZfZnQgPSAkc2NvcGUuYU9QLmVsZXZfZnQgKiAzLjI4MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JDTSBuZWVkcyB0byBiZSAnZnQnLiBpZiAnY20nID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AudW5jZXJ0YWludHkgPSAkc2NvcGUuYU9QLnVuY2VydGFpbnR5IC8gMzAuNDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS50YXBlZG93biA9IHsgT3BlbjogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIC8vc2Vuc29yIHNlY3Rpb24sIGNsaWNrZWQgU2hvdy9IaWRlIFRhcGUgZG93biBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIHNob3dOZWVkT1BmaXJzdE1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZWVkT1BNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5ObyBEYXR1bSBMb2NhdGlvbjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkluIG9yZGVyIHRvIGFkZCB0YXBlIGRvd24gaW5mb3JtYXRpb24sIHBsZWFzZSBwb3B1bGF0ZSB0aGUgRGF0dW0gTG9jYXRpb24gc2VjdGlvbiBhYm92ZSBmaXJzdC48L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cD5UaGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcmVxdWlyZWQgZm9yIHRoZSB0YXBlIGRvd24gc2VjdGlvbjogPGI+TmFtZTwvYj4sIDxiPkVsZXZhdGlvbjwvYj4gYW5kIDxiPlZlcnRpY2FsIERhdHVtPC9iPi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRPUE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVkb3duLk9wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRlciBmb3IgdGhlIG9wIGlmIHRoZXkgY2hvb3NlIGl0IGZyb20gdGhlIGRyb3Bkb3duIGZvciB0YXBlIGRvd25cclxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlT1BNZWFzID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgT1AgTWVhc3VyZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3UgZG9uXFwndCB3YW50IHRvIGFkZCB0aGlzIE9QIE1lYXN1cmVtZW50IHRvIHRoaXMgcXVpY2sgc2Vuc29yPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+WWVzPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVPUE1lYXMucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllc09yTm8gPT0gJ3JlbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlZG93bi5PcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlID0ge307ICRzY29wZS5hZGRUYXBlZG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnNlbnNvcl9lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFTZW5zU3RhdHVzLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVNlbnNTdGF0dXMuZ3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5hU2Vuc1N0YXR1cy52ZGF0dW1faWQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRUYXBlZG93biA9IGZhbHNlOyAvL3RvZ2dsZSB0YXBlZG93biBzZWN0aW9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gW107IC8vd2lsbCBob2xkIE9QIHRoZXkgYWRkIGluIG9wIGFjY29yZGlvbi4uIGdldCB0aGlzIHdoZW4gdGhleSBjbGljayB0aGUgYnV0dG9uIGFuZCBzaG93IG1vZGFsIGlmIHRoZXkgaGF2ZW4ndCBwb3B1bGF0ZWQgaXQgeWV0LlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dUYXBlZG93blBhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGFyZSBvcGVuaW5nIHRvIGFkZCB0YXBlIGRvd24gaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hT1AubmFtZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hT1AuZWxldl9mdCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hT1AudmRhdHVtX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub3BfbmFtZSA9ICRzY29wZS5hT1AubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuZWxldmF0aW9uID0gJHNjb3BlLmFPUC5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuYU9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaCgkc2NvcGUuT1BNZWFzdXJlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd24ucHVzaCgkc2NvcGUuYU9QKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRUYXBlZG93biA9IHRydWU7ICRzY29wZS50YXBlZG93bi5PcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy52ZGF0dW1faWQgPSAkc2NvcGUuYU9QLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOZWVkT1BmaXJzdE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVGFwZWRvd24gPSB0cnVlOyAkc2NvcGUudGFwZWRvd24uT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUVycm9ycyA9IGZhbHNlOyAkc2NvcGUub3BFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLmh3bUVycm9ycyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRm9ybSA9ICRzY29wZS5xdWlja0Zvcm0ucXVpY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLm9wRXJyb3JzID0gZmFsc2U7ICRzY29wZS5od21FcnJvcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS4kdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zaXRlIFBPU1RcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBsYXQvbG9uZyBhcmUgd2l0aGluIHByb3BlciByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNpdGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1BPU1Qgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5zYXZlKCRzY29wZS5hU2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTaXRlSUQgPSByZXNwb25zZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1Auc2l0ZV9pZCA9IGNyZWF0ZWRTaXRlSUQ7ICRzY29wZS5hT1AubGF0aXR1ZGVfZGQgPSByZXNwb25zZS5sYXRpdHVkZV9kZDsgJHNjb3BlLmFPUC5sb25naXR1ZGVfZGQgPSByZXNwb25zZS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5oZGF0dW1faWQgPSByZXNwb25zZS5oZGF0dW1faWQ7ICRzY29wZS5hT1AuaGNvbGxlY3RfbWV0aG9kX2lkID0gcmVzcG9uc2UuaGNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuQ3JlYXRlV2hhdCA9PSAnSFdNJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zaXRlX2lkID0gY3JlYXRlZFNpdGVJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ud2F0ZXJib2R5ID0gcmVzcG9uc2Uud2F0ZXJib2R5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IHJlc3BvbnNlLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSByZXNwb25zZS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhjb2xsZWN0X21ldGhvZF9pZCA9IHJlc3BvbnNlLmhjb2xsZWN0X21ldGhvZF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaGRhdHVtX2lkID0gcmVzcG9uc2UuaGRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZCA9IHJlc3BvbnNlLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZXZlbnRfaWQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vT1Agc3R1ZmYgUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkT1AgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREZWZhdWx0cygkc2NvcGUuYU9QKTsgLy8kc2NvcGUuT1AuRlRvck1FVEVSLCBGVG9yQ00sIGRlY0RlZ09SZG1zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBPUHRvUE9TVCA9IHRyaW1PUCgkc2NvcGUuYU9QKTsgLy9tYWtlIGl0IGFuIE9CSkVDVElWRV9QT0lOVCBmb3Igc2F2aW5nXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVC5zYXZlKE9QdG9QT1NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPUCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGVhY2ggb25lIFRISVMgV0lMTCBDSEFOR0UgU09PTiBUTyBIQVZFIG9iamVjdGl2ZV9wb2ludF9pZCBhbHJlYWR5IGFkZGVkIGFuZCBub3Qgc2VudCBhbG9uZyB3aXRoIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvcGMgPSAwOyBvcGMgPCAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5sZW5ndGg7IG9wYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNPUENvbnRyb2xJRCA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzW29wY107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09QQ29udHJvbElELm9iamVjdGl2ZV9wb2ludF9pZCA9IHJlc3BvbnNlLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9DT05UUk9MX0lERU5USUZJRVIuc2F2ZSh0aGlzT1BDb250cm9sSUQpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSFdNIHN0dWZmIFBPU1QgaWYgSFdNXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuQ3JlYXRlV2hhdCA9PSAnSFdNJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRIV00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhleSBlbnRlcmVkIGEgc3VydmV5IGRhdGUgb3IgZWxldmF0aW9uLCB0aGVuIHNldCBzdXJ2ZXkgbWVtYmVyIGFzIHRoZSBmbGFnIG1lbWJlciAoZmxhZ2dpbmcgYW5kIHN1cnZleWluZyBhdCBzYW1lIHRpbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uZWxldl9mdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBhZGRlZCB0aGUgc3VydmV5IGRhdGUgaWYgdGhleSBhZGRlZCBhbiBlbGV2YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5zYXZlKCRzY29wZS5hSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUXVpY2sgSFdNIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvU2l0ZS8nICsgY3JlYXRlZFNpdGVJRCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHBseTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBIV00uc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBIV00gY3JlYXRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5DcmVhdGVXaGF0ID09ICdTZW5zb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNlbnNvciA9IHt9OyB2YXIgZGVwU2VuU3RhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9PSBcIk1pbnV0ZXNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9ICRzY29wZS5hU2Vuc29yLmludGVydmFsICogNjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3Iuc2l0ZV9pZCA9IGNyZWF0ZWRTaXRlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgpOyAvL1VUQyBvciBsb2NhbD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50SUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5zYXZlKCRzY29wZS5hU2Vuc29yKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgaW5zdHJ1bWVudHN0YXR1cyB0b28gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X2lkID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hU2Vuc1N0YXR1cykuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkZWQgdGFwZSBkb3ducz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzVGFwZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBjcmVhdGVkT1Aub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vUE9TVCBJVC8vL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5zYXZlKHRoaXNUYXBlKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlF1aWNrIFNlbnNvciBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvU2l0ZS8nICsgY3JlYXRlZFNpdGVJRCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIEluc3RydW1lbnQgU3RhdHVzIHNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgaW5zdHJ1bWVudFNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgT1Auc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBTSVRFLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLnNpdGVPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5vcE9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmh3bU9wZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KFwiW25hbWU9J1wiICsgdGhlRm9ybS4kbmFtZSArIFwiJ11cIikuZmluZCgnLm5nLWludmFsaWQ6dmlzaWJsZTpmaXJzdCcpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5zaXRlX2Rlc2NyaXB0aW9uLiRpbnZhbGlkIHx8IHRoZUZvcm0ubGF0aXR1ZGVfZGQuJGludmFsaWQgfHwgdGhlRm9ybS5sb25naXR1ZGVfZGQuJGludmFsaWQgfHwgdGhlRm9ybS5oZGF0dW1faWQuJGludmFsaWQgfHwgdGhlRm9ybS5oY29sbGVjdF9tZXRob2RfaWQuJGludmFsaWQgfHwgdGhlRm9ybS53YXRlcmJvZHkuJGludmFsaWQgfHwgdGhlRm9ybS5zdGF0ZS4kaW52YWxpZHYgfHwgdGhlRm9ybS5jb3VudHkuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5vcF90eXBlX2lkLiRpbnZhbGlkIHx8IHRoZUZvcm0ubmFtZS4kaW52YWxpZCB8fCB0aGVGb3JtLmRlc2NyaXB0aW9uLiRpbnZhbGlkIHx8IHRoZUZvcm0uZGUuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcEVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uaHdtX3R5cGVfaWQuJGludmFsaWQgfHwgdGhlRm9ybS5od21fZW52aXJvbm1lbnQuJGludmFsaWQgfHwgdGhlRm9ybS5od21fcXVhbGl0eV9pZC4kaW52YWxpZCB8fCB0aGVGb3JtLmZkLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJRdWljayBIV00gbm90IGNyZWF0ZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0vL2VuZCBlbHNlIChsb2dnZWQgaW4pXHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3Jlc291cmNlc0N0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnQUdFTkNZJywgJ0NPTlRBQ1RfVFlQRScsICdERVBMT1lNRU5UX1BSSU9SSVRZJywgJ0VWRU5UX1NUQVRVUycsXHJcbiAgICAgICAgJ0VWRU5UX1RZUEUnLCAnRklMRV9UWVBFJywgJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJywgJ0hPUklaT05UQUxfREFUVU0nLCAnSE9VU0lOR19UWVBFJywgJ0hXTV9RVUFMSVRZJywgJ0hXTV9UWVBFJywgJ0lOU1RfQ09MTF9DT05ESVRJT04nLCAnTUFSS0VSJywgJ05FVFdPUktfTkFNRScsICdPUF9RVUFMSVRZJyxcclxuICAgICAgICAnT1BfVFlQRScsICdTRU5TT1JfQlJBTkQnLCAnREVQTE9ZTUVOVF9UWVBFJywgJ1NFTlNPUl9UWVBFJywgJ05FVFdPUktfVFlQRScsICdTVEFUVVNfVFlQRScsICdWRVJUSUNBTF9DT0xMX01FVEhPRCcsICdWRVJUSUNBTF9EQVRVTScsICdhbGxTdGF0ZXMnLCAnYWxsQWdlbmNpZXMnLCAnYWxsQ29udGFjdFR5cGVzJywgJ2FsbERlcGxveVByaW9yaXRpZXMnLCAnYWxsRXZlbnRTdGF0cycsICdhbGxFdmVudFR5cGVzJyxcclxuICAgICAgICAnYWxsRmlsZVR5cGVzJywgJ2FsbEhvckNvbGxNZXRob2RzJywgJ2FsbEhvckRhdHVtcycsICdhbGxIb3VzZVR5cGVzJywgJ2FsbEhXTXF1YWxpdGllcycsICdhbGxIV010eXBlcycsICdhbGxJbnN0Q29sbGVjdENvbmRpdGlvbnMnLCAnYWxsTWFya2VycycsICdhbGxOZXR3b3JrTmFtZXMnLCAnYWxsT2JqUHRRdWFsaXRpZXMnLFxyXG4gICAgICAgICdhbGxPYmpQdFR5cGVzJywgJ2FsbFNlbnNvckJyYW5kcycsICdhbGxEZXBsb3ltZW50VHlwZXMnLCAnYWxsU3RhdHVzVHlwZXMnLCAnYWxsU2Vuc29yVHlwZXMnLCAnYWxsTmV0d29ya1R5cGVzJywgJ2FsbFZlcnRpY2FsQ29sbE1ldGhvZHMnLCAnYWxsVmVydGljYWxEYXR1bXMnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICRmaWx0ZXIsICR1aWJNb2RhbCwgQUdFTkNZLCBDT05UQUNUX1RZUEUsIERFUExPWU1FTlRfUFJJT1JJVFksIEVWRU5UX1NUQVRVUywgRVZFTlRfVFlQRSwgRklMRV9UWVBFLFxyXG4gICAgICAgICAgICBIT1JJWk9OVEFMX0NPTExfTUVUSE9EUywgSE9SSVpPTlRBTF9EQVRVTSwgSE9VU0lOR19UWVBFLCBIV01fUVVBTElUWSwgSFdNX1RZUEUsIElOU1RfQ09MTF9DT05ESVRJT04sIE1BUktFUiwgTkVUV09SS19OQU1FLCBPUF9RVUFMSVRZLCBPUF9UWVBFLCBTRU5TT1JfQlJBTkQsIERFUExPWU1FTlRfVFlQRSxcclxuICAgICAgICAgICAgU0VOU09SX1RZUEUsIE5FVFdPUktfVFlQRSwgU1RBVFVTX1RZUEUsIFZFUlRJQ0FMX0NPTExfTUVUSE9ELCBWRVJUSUNBTF9EQVRVTSwgYWxsU3RhdGVzLCBhbGxBZ2VuY2llcywgYWxsQ29udGFjdFR5cGVzLCBhbGxEZXBsb3lQcmlvcml0aWVzLCBhbGxFdmVudFN0YXRzLCBhbGxFdmVudFR5cGVzLCBhbGxGaWxlVHlwZXMsXHJcbiAgICAgICAgICAgIGFsbEhvckNvbGxNZXRob2RzLCBhbGxIb3JEYXR1bXMsIGFsbEhvdXNlVHlwZXMsIGFsbEhXTXF1YWxpdGllcywgYWxsSFdNdHlwZXMsIGFsbEluc3RDb2xsZWN0Q29uZGl0aW9ucywgYWxsTWFya2VycywgYWxsTmV0d29ya05hbWVzLCBhbGxPYmpQdFF1YWxpdGllcywgYWxsT2JqUHRUeXBlcyxcclxuICAgICAgICAgICAgYWxsU2Vuc29yQnJhbmRzLCBhbGxEZXBsb3ltZW50VHlwZXMsIGFsbFN0YXR1c1R5cGVzLCBhbGxTZW5zb3JUeXBlcywgYWxsTmV0d29ya1R5cGVzLCBhbGxWZXJ0aWNhbENvbGxNZXRob2RzLCBhbGxWZXJ0aWNhbERhdHVtcykge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2V0dGluZ3MvUmVzb3VyY2VzXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWNjb3VudFJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5sb29rdXBGb3JtID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFnQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aXZlTWVudSA9ICcnOyAvL3Njb3BlIGZvciBhY3RpdmUgc2lkZWJhciBpdGVtIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVMaXN0ID0gYWxsU3RhdGVzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBBTEwgTE9PS1VQUyAoYWRkL3VwZGF0ZS9kZWxldGUpXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gQWdlbmN5IEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TGlzdCA9IGFsbEFnZW5jaWVzOyAvL0FnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFnQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3QWcgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRBZ0NsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRBZ0Zvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQWdCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEFnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdBZyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRBZ0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkQWdlbmN5ID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBR0VOQ1kuc2F2ZSgkc2NvcGUubmV3QWcsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0FnID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRBZ0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJBZ2VuY3kgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGFnZW5jeTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVBZ2VuY3kgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEFHRU5DWS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkFnZW5jeSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGFnZW5jeTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlQWdlbmN5ID0gZnVuY3Rpb24gKGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQWdlbmN5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuYWdlbmN5TGlzdC5pbmRleE9mKGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBR0VOQ1kuZGVsZXRlKHsgaWQ6IGFnLmFnZW5jeV9pZCB9LCBhZywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiQWdlbmN5IFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGFnZW5jeTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9naWMgZm9yIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTdGF0ZUFiYnJldiA9IGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEuc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuc3RhdGVMaXN0LCB7IHN0YXRlX2FiYnJldjogYS5zdGF0ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkWzBdLnN0YXRlX2FiYnJldiA6ICcnO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBBZ2VuY3kgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gQ29udGFjdFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb250YWN0VHlwZUxpc3QgPSBhbGxDb250YWN0VHlwZXM7IC8vY3RcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQ1RCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdDVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZENUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZENURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRDVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kQ1QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0NUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRDVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRDb250YWN0VHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ09OVEFDVF9UWVBFLnNhdmUoJHNjb3BlLm5ld0NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGFjdFR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0NUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZENURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRDVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJDb250YWN0IFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udGFjdCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlQ29udGFjdFR5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIENPTlRBQ1RfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkNvbnRhY3QgVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVDb250YWN0VHlwZSA9IGZ1bmN0aW9uIChjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkNvbnRhY3QgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmNvbnRhY3RUeXBlTGlzdC5pbmRleE9mKGN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDT05UQUNUX1RZUEUuZGVsZXRlKHsgaWQ6IGN0LmNvbnRhY3RfdHlwZV9pZCB9LCBjdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRhY3RUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJDb250YWN0IFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY29udGFjdCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIENvbnRhY3RUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGRlcGxveW1lbnRQcmlvcml0eSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVByaW9yaXR5TGlzdCA9IGFsbERlcGxveVByaW9yaXRpZXM7IC8vZHBcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRFBCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdEUCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERQQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERQRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGREUEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kRFAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RQID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREUEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERQQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZERlcFByaW9yaXR5ID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1BSSU9SSVRZLnNhdmUoJHNjb3BlLm5ld0RQLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95UHJpb3JpdHlMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RQID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERQRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGREUEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFByaW9yaXR5IEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRlcGxveW1lbnQgcHJpb3JpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVEZXBQcmlvcml0eSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9QUklPUklUWS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgUHJpb3JpdHkgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRlcGxveW1lbnQgcHJpb3JpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlRGVwUHJpb3JpdHkgPSBmdW5jdGlvbiAoZHApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkRlcGxveW1lbnQgUHJpb3JpdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5kZXBsb3lQcmlvcml0eUxpc3QuaW5kZXhPZihkcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9QUklPUklUWS5kZWxldGUoeyBpZDogZHAucHJpb3JpdHlfaWQgfSwgZHAsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lQcmlvcml0eUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95bWVudCBQcmlvcml0eSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRlcGxveW1lbnQgcHJpb3JpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBkZXBsb3ltZW50UHJpb3JpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXZlbnRTdGF0dXMgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRMaXN0ID0gYWxsRXZlbnRTdGF0czsgLy9lc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFU0Zvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRFU0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0VTID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVNDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVNGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVTQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRFUyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVTRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVNCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkRXZlbnRTdGF0ID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFVkVOVF9TVEFUVVMuc2F2ZSgkc2NvcGUubmV3RVMsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0VTID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVTRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFU0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBTdGF0dXMgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGV2ZW50IHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVFdmVudFN0YXQgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEVWRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFN0YXR1cyBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGV2ZW50IHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlRXZlbnRTdGF0ID0gZnVuY3Rpb24gKGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFdmVudCBTdGF0dXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5ldmVudFN0YXRMaXN0LmluZGV4T2YoZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5UX1NUQVRVUy5kZWxldGUoeyBpZDogZXMuZXZlbnRfc3RhdHVzX2lkIH0sIGVzLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBTdGF0dXMgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGV2ZW50U3RhdHVzIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEV2ZW50VHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZUxpc3QgPSBhbGxFdmVudFR5cGVzOyAvL2V0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVURm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RVQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEVUID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdFVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkRXZlbnRUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFVkVOVF9UWVBFLnNhdmUoJHNjb3BlLm5ld0VULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdFVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBldmVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUV2ZW50VHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgRVZFTlRfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUV2ZW50VHlwZSA9IGZ1bmN0aW9uIChldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkV2ZW50IFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5ldmVudFR5cGVMaXN0LmluZGV4T2YoZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5UX1RZUEUuZGVsZXRlKHsgaWQ6IGV0LmV2ZW50X3R5cGVfaWQgfSwgZXQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBldmVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gRXZlbnRUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGZpbGVUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRmlsZVR5cGVzOyAvL2Z0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEZURm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEZUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RlQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRGVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRGVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRlRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEZUID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdGVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRGVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRGaWxlVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRV9UWVBFLnNhdmUoJHNjb3BlLm5ld0ZULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0ZUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEZURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRGVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRV9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlVHlwZSA9IGZ1bmN0aW9uIChmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZSBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuZmlsZVR5cGVMaXN0LmluZGV4T2YoZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZJTEVfVFlQRS5kZWxldGUoeyBpZDogZnQuZmlsZXR5cGVfaWQgfSwgZnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBUeXBlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGUgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBmaWxlVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBIb3JDb2xsTWV0aG9kcyBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckNvbE1ldGhMaXN0ID0gYWxsSG9yQ29sbE1ldGhvZHM7IC8vaGNtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhDTUZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRIQ01CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdIQ00gPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIQ01DbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSENNRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIQ01CdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEhDTSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SENNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIQ01Gb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIQ01CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkSG9yQ29sbE1ldGhvZCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMuc2F2ZSgkc2NvcGUubmV3SENNLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG9yQ29sTWV0aExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SENNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhDTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSENNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhvcml6b250YWwgQ29sbGVjdGlvbiBNZXRob2QgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaG9yaXpvbnRhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUhvckNvbGxNZXRob2QgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhPUklaT05UQUxfQ09MTF9NRVRIT0RTLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaG9yaXpvbnRhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVIb3JDb2xsTWV0aG9kID0gZnVuY3Rpb24gKGhjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkhvcml6b250YWwgQ29sbGVjdGlvbiBNZXRob2RcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5ob3JDb2xNZXRoTGlzdC5pbmRleE9mKGhjbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMuZGVsZXRlKHsgaWQ6IGhjbS5oY29sbGVjdF9tZXRob2RfaWQgfSwgaGNtLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG9yQ29sTWV0aExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZCBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGhvcml6b250YWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG9yaXpvbnRhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBIb3JDb2xsTWV0aG9kcyBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBIb3JEYXR1bSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdExpc3QgPSBhbGxIb3JEYXR1bXM7IC8vaGRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSERGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSERCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdIRCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhEQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhERm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIREJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kSEQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hEID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhEQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRIb3JEYXR1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9EQVRVTS5zYXZlKCRzY29wZS5uZXdIRCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SEQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSERGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhEQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhvcml6b250YWwgRGF0dW0gQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaG9yaXpvbnRhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3Jpem9udGFsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVIb3JEYXR1bSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9EQVRVTS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhvcml6b250YWwgRGF0dW0gVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGhvcml6b250YWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaG9yaXpvbnRhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUhvckRhdHVtID0gZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSG9yaXpvbnRhbCBEYXR1bVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmhvckRhdExpc3QuaW5kZXhPZihoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9EQVRVTS5kZWxldGUoeyBpZDogaGQuZGF0dW1faWQgfSwgaGQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3JEYXRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhvcml6b250YWwgRGF0dW0gUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBob3Jpem9udGFsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGhvcml6b250YWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gSG9yRGF0dW0gQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaG91c2VUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdCA9IGFsbEhvdXNlVHlwZXM7IC8vaHRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdIVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kSFQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEhvdXNlVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgSE9VU0lOR19UWVBFLnNhdmUoJHNjb3BlLm5ld0hULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG91c2luZyBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3VzaW5nIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSG91c2VUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBIT1VTSU5HX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3VzaW5nIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBob3VzaW5nIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUhvdXNlVHlwZSA9IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSG91c2luZyBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuaG91c2VUeXBlTGlzdC5pbmRleE9mKGh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1VTSU5HX1RZUEUuZGVsZXRlKHsgaWQ6IGh0LmhvdXNpbmdfdHlwZV9pZCB9LCBodCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdXNlVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG91c2luZyBUeXBlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBob3VzaW5nVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBod21RdWFsaXR5IEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtUXVhbExpc3QgPSBhbGxIV01xdWFsaXRpZXM7IC8vaHdtcVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01RRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01RID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNUUNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01RRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01RQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIV01RID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01RID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01RRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNUUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRId21RdWFsaXR5ID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01fUVVBTElUWS5zYXZlKCRzY29wZS5uZXdIV01RLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtUXVhbExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SFdNUSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01RRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01RQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBRdWFsaXR5IEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGh3bSBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGh3bSBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUh3bVF1YWxpdHkgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTV9RVUFMSVRZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFF1YWxpdHkgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bSBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bSBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVId21RdWFsaXR5ID0gZnVuY3Rpb24gKGh3bXEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHdtcTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSFdNIFF1YWxpdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5od21RdWFsTGlzdC5pbmRleE9mKGh3bXEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9RVUFMSVRZLmRlbGV0ZSh7IGlkOiBod21xLmh3bV9xdWFsaXR5X2lkIH0sIGh3bXEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gUXVhbGl0eSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGh3bSBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGh3bSBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGV2ZW50U3RhdHVzIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEh3bVR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21UeXBlTGlzdCA9IGFsbEhXTXR5cGVzOyAvL2h3bXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3SFdNVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kSFdNVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SFdNVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEh3bVR5cGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9UWVBFLnNhdmUoJHNjb3BlLm5ld0hXTVQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21UeXBlTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01UID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUh3bVR5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTV9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlSHdtVHlwZSA9IGZ1bmN0aW9uIChod210KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod210O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIV00gVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmh3bVR5cGVMaXN0LmluZGV4T2YoaHdtdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNX1RZUEUuZGVsZXRlKHsgaWQ6IGh3bXQuaHdtX3R5cGVfaWQgfSwgaHdtdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBUeXBlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gSHdtVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBJbnN0Q29sQ29uZCBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmluc3RDb2xDb25kTGlzdCA9IGFsbEluc3RDb2xsZWN0Q29uZGl0aW9uczsgLy9pY2NcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZElDQ0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0lDQyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZElDQ0NsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRJQ0NGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZElDQ0J1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kSUNDID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdJQ0MgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZElDQ0Zvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZElDQ0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRJbnN0Q29sQ29uZCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgSU5TVF9DT0xMX0NPTkRJVElPTi5zYXZlKCRzY29wZS5uZXdJQ0MsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnN0Q29sQ29uZExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SUNDID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZElDQ0Zvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkluc3RydW1lbnQgQ29sbGVjdGlvbiBDb25kaXRpb24gQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaW5zdHJ1bWVudCBjb2xsZWN0aW9uIGNvbmRpdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUluc3RDb2xDb25kID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBJTlNUX0NPTExfQ09ORElUSU9OLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSW5zdHJ1bWVudCBDb2xsZWN0aW9uIENvbmRpdGlvbiBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaW5zdHJ1bWVudCBjb2xsZWN0aW9uIGNvbmRpdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVJbnN0Q29sQ29uZCA9IGZ1bmN0aW9uIChpY2MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWNjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnN0cnVtZW50IENvbGxlY3Rpb24gQ29uZGl0aW9uXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuaW5zdENvbENvbmRMaXN0LmluZGV4T2YoaWNjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUX0NPTExfQ09ORElUSU9OLmRlbGV0ZSh7IGlkOiBpY2MuaWQgfSwgaWNjLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW5zdENvbENvbmRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkluc3RydW1lbnQgQ29sbGVjdGlvbiBDb25kaXRpb24gUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gSW5zdENvbENvbmQgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gTWFya2VyIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya0xpc3QgPSBhbGxNYXJrZXJzOyAvL21cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTUZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3TSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE1DbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTUZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTUJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kTSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3TSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE1CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkTWFya2VyID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNQVJLRVIuc2F2ZSgkc2NvcGUubmV3TSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNYXJrZXIgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG1hcmtlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVNYXJrZXIgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIE1BUktFUi51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1hcmtlciBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG1hcmtlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlTWFya2VyID0gZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTWFya2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUubWFya0xpc3QuaW5kZXhPZihtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNQVJLRVIuZGVsZXRlKHsgaWQ6IG0ubWFya2VyX2lkIH0sIG0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNYXJrZXIgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIE1hcmtlciBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBOZXR3b3JrTmFtZSBBZGQvVXBkYXRlL0RlbGV0ZSBublxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ldE5hbWVMaXN0ID0gYWxsTmV0d29ya05hbWVzOyAvL25uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5ORm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5OQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3Tk4gPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROTkNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROTkZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTk5CdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE5OID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdOTiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTk5Gb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROTkJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGROZXR3b3JrTmFtZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgTkVUV09SS19OQU1FLnNhdmUoJHNjb3BlLm5ld05OLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3Tk4gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTk5Gb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5OQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk5ldHdvcmsgTmFtZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXR3b3JrIG5hbWU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV0d29yayBuYW1lOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZU5ldHdvcmtOYW1lID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBORVRXT1JLX05BTUUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJOZXR3b3JrIE5hbWUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBuZXR3b3JrIG5hbWU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU5ldHdvcmtOYW1lID0gZnVuY3Rpb24gKG5uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJOZXR3b3JrIE5hbWVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5uZXROYW1lTGlzdC5pbmRleE9mKG5uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBORVRXT1JLX05BTUUuZGVsZXRlKHsgaWQ6IG5uLm5ldHdvcmtfbmFtZV9pZCB9LCBubiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ldE5hbWVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk5ldHdvcmsgTmFtZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBuZXR3b3JrIG5hbWU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gTmV0d29ya05hbWUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gT1BRdWFsaXR5IEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BRdWFsTGlzdCA9IGFsbE9ialB0UXVhbGl0aWVzOyAvL29wcVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BRQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BRID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BRQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QUUZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BRQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRPUFEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld09QUSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BRRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BRQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRPUFF1YWxpdHkgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1FVQUxJVFkuc2F2ZSgkc2NvcGUubmV3T1BRLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BRdWFsTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdPUFEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BRRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gUXVhbGl0eSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbiBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZU9QUXVhbGl0eSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgT1BfUVVBTElUWS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFF1YWxpdHkgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU9QUXVhbGl0eSA9IGZ1bmN0aW9uIChvcHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wcTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiT2JqZWN0aXZlIFBvaW50IFF1YWxpdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5vcFF1YWxMaXN0LmluZGV4T2Yob3BxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9RVUFMSVRZLmRlbGV0ZSh7IGlkOiBvcHEub3BfcXVhbGl0eV9pZCB9LCBvcHEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcFF1YWxMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFF1YWxpdHkgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkYXR1bSBsb2NhdGlvbiBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gT1BRdWFsaXR5IEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIE9QVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QgPSBhbGxPYmpQdFR5cGVzOyAvL29wdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRPUFQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld09QVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZE9QVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BfVFlQRS5zYXZlKCRzY29wZS5uZXdPUFQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcFR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld09QVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE9QVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVPUFR5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIE9QX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkYXR1bSBsb2NhdGlvbiB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU9QVHlwZSA9IGZ1bmN0aW9uIChvcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJPYmplY3RpdmUgUG9pbnQgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm9wVHlwZUxpc3QuaW5kZXhPZihvcHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1RZUEUuZGVsZXRlKHsgaWQ6IG9wdC5vYmplY3RpdmVfcG9pbnRfdHlwZV9pZCB9LCBvcHQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcFR5cGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkYXR1bSBsb2NhdGlvbiB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gT1BUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFNlbnNvckJyYW5kIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0JyYW5kTGlzdCA9IGFsbFNlbnNvckJyYW5kczsgLy9zYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRTQkJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NCID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU0JDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU0JGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNCQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRTQiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U0IgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFNCRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU0JCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkU2Vuc29yQnJhbmQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9CUkFORC5zYXZlKCRzY29wZS5uZXdTQiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNCcmFuZExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U0IgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU0JGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNCQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBCcmFuZCBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yIGJyYW5kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVNlbnNvckJyYW5kID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBTRU5TT1JfQlJBTkQudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgQnJhbmQgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVNlbnNvckJyYW5kID0gZnVuY3Rpb24gKHNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTZW5zb3IgQnJhbmRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5zZW5zQnJhbmRMaXN0LmluZGV4T2Yoc2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9CUkFORC5kZWxldGUoeyBpZDogc2Iuc2Vuc29yX2JyYW5kX2lkIH0sIHNiLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0JyYW5kTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgQnJhbmQgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc2Vuc29yIGJyYW5kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFNlbnNvckJyYW5kIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERlcFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBUeXBlTGlzdCA9IGFsbERlcGxveW1lbnRUeXBlczsgLy9kdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGREVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFRGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmREVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZERlcFR5cGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFUExPWU1FTlRfVFlQRS5zYXZlKCRzY29wZS5uZXdEVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGREVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlRGVwVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95bWVudCBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlRGVwVHlwZSA9IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkRlcGxveW1lbnQgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmRlcFR5cGVMaXN0LmluZGV4T2YoZHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFUExPWU1FTlRfVFlQRS5kZWxldGUoeyBpZDogZHQuZGVwbG95bWVudF90eXBlX2lkIH0sIGR0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95bWVudCBUeXBlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBEZXBUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFN0YXR1c1R5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0VHlwZUxpc3QgPSBhbGxTdGF0dXNUeXBlczsgLy9zdGF0VFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTdGF0VEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRTdGF0VEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1N0YXRUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU3RhdFRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU3RhdFRGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFN0YXRUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRTdGF0VCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U3RhdFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFN0YXRURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU3RhdFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkU3RhdHVzVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgU1RBVFVTX1RZUEUuc2F2ZSgkc2NvcGUubmV3U3RhdFQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0VHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U3RhdFRUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFN0YXRURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTdGF0VEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTdGF0dXMgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVTdGF0dXNUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBTVEFUVVNfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlN0YXR1cyBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlU3RhdHVzVHlwZSA9IGZ1bmN0aW9uIChzdGF0VCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0VDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3RhdHVzIFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5zdGF0VHlwZUxpc3QuaW5kZXhPZihzdGF0VCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU1RBVFVTX1RZUEUuZGVsZXRlKHsgaWQ6IHN0YXRULnN0YXR1c190eXBlX2lkIH0sIHN0YXRULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdFR5cGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlN0YXR1cyBUeXBlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc3RhdHVzIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc3RhdHVzIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gU3RhdHVzVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBTZW5zb3JUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc1R5cGVMaXN0ID0gYWxsU2Vuc29yVHlwZXM7Ly8gYWxsU2Vuc29yVHlwZXM7IC8vc2VuVFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbW1hU2VwRGVwTUVUSE9EUyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vYWRkIHRoZSBkZXBsb3ltZW50IHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybWF0dGVkU2Vuc1R5cGVMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc1R5cGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKHNlbnNUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUuZ2V0U2Vuc29yRGVwbG95bWVudFR5cGVzKHsgaWQ6IHNlbnNUeXBlLnNlbnNvcl90eXBlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcHMgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc1R5cGUuRGVwVHlwZXMgPSBbXTsgdmFyIERlcE1TdHJpbmdzID0gW107IHNlbnNUeXBlLkRlcE1FVEhPRFN0cmluZ3MgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zVHlwZS5EZXBUeXBlcy5wdXNoKGQuZGVwbG95bWVudF90eXBlX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXBNU3RyaW5ncy5wdXNoKGQubWV0aG9kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zVHlwZS5EZXBNRVRIT0RTdHJpbmdzID0gRGVwTVN0cmluZ3Muam9pbignLCAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mb3JtYXR0ZWRTZW5zVHlwZUxpc3QucHVzaChzZW5zVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIGRlcGxveW1lbnQgdHlwZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBkZXBsb3ltZW50IHR5cGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrbGlzdCBmb3IgZGVwbG95bWVudCB0eXBlc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dEZXBUeXBlcyA9IGZ1bmN0aW9uIChTZW5UKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5kZXBUeXBlTGlzdCwgZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNlblQuRGVwVHlwZXMuaW5kZXhPZihzLmRlcGxveW1lbnRfdHlwZV9pZCkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQucHVzaChzLm1ldGhvZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWQuam9pbignLCAnKSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMgPSBbXTsgLy90aGVzZSBhcmUgdGhlIG9uZXMgdG8gcmVtb3ZlIHdoZW4gdGhleSBjbGljayBzYXZlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tMaXN0Q2hlY2sgPSBmdW5jdGlvbiAob3JpZ2luYWxDaGVja2VkLCBub3dDaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vcmlnaW5hbENoZWNrZWQgLS0gd2hhdCB0aGUgbW9kZWwgaGFkIGJlZm9yZSB0aGlzIGNsaWNrIGV2ZW50IHdhcyB0cmlnZ2VyZWRcclxuICAgICAgICAgICAgICAgICAgICAvL25vd0NoZWNrZWQgLS0gd2hhdCBkZXBsb3ltZW50IHR5cGVzIGFyZSBub3cgY2hlY2tlZC4uIGxvb2sgZm9yIGRpZmZlcmVuY2VzIGFuZCByZW1vdmUgaWYgbGVzcyB0aGFuLCBvdGhlciB3aXNlIGRvIG5vdGhpbmcsIHRoZSBzYXZlIHdpbGwgaGFuZGxlIGFkZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3dDaGVja2VkLmxlbmd0aCA8IG9yaWdpbmFsQ2hlY2tlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91bmNoZWNrZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9yaWdpbmFsQ2hlY2tlZCwgZnVuY3Rpb24gKG9jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93Q2hlY2tlZC5pbmRleE9mKG9jKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdCB0aGVyZSBhbnltb3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZURlcCA9ICRzY29wZS5kZXBUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGR0KSB7IHJldHVybiBkdC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gb2M7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHlvdSBkb24ndCBhZGQgaXQgdHdpY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8ICRzY29wZS5yZW1vdmVUaGVzZURlcFR5cGVzLmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXNbZF0uZGVwbG95bWVudF90eXBlX2lkID09IGRlbGV0ZURlcC5kZXBsb3ltZW50X3R5cGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZvcmdldHRhYm91dCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMucHVzaChkZWxldGVEZXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMucHVzaChkZWxldGVEZXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU2VuVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRTZW5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2VuVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFNlblRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU2VuVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU2VuVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kU2VuVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2VuVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcFR5cGVMaXN0LCBmdW5jdGlvbiAoZCkgeyBkLnNlbGVjdGVkID0gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU2VuVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNlblRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL25ldyBzZW5zb3IgdHlwZSBiZWluZyBhZGRlZCwgdGhleSBjaGVja2VkIHRvIHJlbGF0ZSBhIGRlcGxveW1lbnQgdHlwZS4gc3RvcmUgZm9yIHVzZSBkdXJpbmcgc2F2ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZERlcFR5cGVUb05ld1NlblQgPSBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHQuc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9kb250IGFkZCBpdCBtb3JlIHRoYW4gb25jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8ICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZ1tkXS5kZXBsb3ltZW50X3R5cGVfaWQgPT0gZHQuZGVwbG95bWVudF90eXBlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yZ2V0dGFib3V0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLnB1c2goZHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLnB1c2goZHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZFNlbnNvclR5cGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NlbnNvciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRlZERlcHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLnNhdmUoJHNjb3BlLm5ld1NlblQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NlblQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU2VuVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU2VuVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgc2VlIGlmIHRoZXkgcmVsYXRlZCBhbnkgZGVwbG95IHNlbnNvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZywgZnVuY3Rpb24gKG5kdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmR0LnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkRGVwcy5wdXNoKG5kdC5kZXBsb3ltZW50X3R5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS5hZGRTZW5zb3JEZXBsb3ltZW50VHlwZSh7IHNlbnNvclR5cGVJZDogbmV3U2Vuc29yLnNlbnNvcl90eXBlX2lkLCBkZXBsb3ltZW50VHlwZUlkOiBuZHQuZGVwbG95bWVudF90eXBlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgc2Vuc29yIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgc2Vuc29yIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NlbnNvci5EZXBUeXBlcyA9IHJlbGF0ZWREZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5wdXNoKG5ld1NlbnNvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvciB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvciB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVNlbnNvclR5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHVsbCBvdXQganVzdCB0aGUgc2Vuc29yIGFuZCB0aGVuIHRoZSBkZXBsb3ltZW50IHR5cGUgdG8gcG9zdCBzZXBhcmF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIFNUID0geyBzZW5zb3JfdHlwZV9pZDogZGF0YS5zZW5zb3JfdHlwZV9pZCwgc2Vuc29yOiBkYXRhLnNlbnNvciB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBEVHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAvL2dldCB0aGUgRGVwbG95bWVudCBUeXBlcyBmcm9tIHRoZSBsaXN0IG9mIGlkcyBpbiBkYXRhLkRlcFR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5kZXBUeXBlTGlzdCwgZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuRGVwVHlwZXMuaW5kZXhPZihzLmRlcGxveW1lbnRfdHlwZV9pZCkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEVCA9IHsgZGVwbG95bWVudF90eXBlX2lkOiBzLmRlcGxveW1lbnRfdHlwZV9pZCwgbWV0aG9kOiBzLm1ldGhvZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRFRzLnB1c2godGhpc0RUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IHVwZGF0ZSB0aGUgc2Vuc29yIGFuZCB0aGVuIGFueSBEZXAgVHlwZXMgdGhleSBhZGRlZCBvciByZW1vdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKERUcywgZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS5hZGRTZW5zb3JEZXBsb3ltZW50VHlwZSh7IHNlbnNvclR5cGVJZDogaWQsIGRlcGxveW1lbnRUeXBlSWQ6IG5kdC5kZXBsb3ltZW50X3R5cGVfaWQgfSwgZHQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgaXMgbm93IHJlbGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlMS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlMS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlMS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSB0aG9zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMsIGZ1bmN0aW9uIChyZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLnJlbW92ZVNlbnNvckRlcGxveW1lbnRUeXBlKHsgc2Vuc29yVHlwZUlkOiBpZCwgRGVwbG95bWVudFR5cGVJZDogcmR0LmRlcGxveW1lbnRfdHlwZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95bWVudCBUeXBlIGlzIG5vIGxvbmdlciByZWxhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5yZWxhdGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVucmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBtYWtlIHN1cmUgJHNjb3BlIG1vZGVsIGlzIHVwZGF0ZWQ/XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVTZW5zb3JUeXBlID0gZnVuY3Rpb24gKHNlblQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VuVDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU2Vuc29yIFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5mb3JtYXR0ZWRTZW5zVHlwZUxpc3QuaW5kZXhPZihzZW5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFNUID0geyBzZW5zb3JfdHlwZV9pZDogc2VuVC5zZW5zb3JfdHlwZV9pZCwgc2Vuc29yOiBzZW5ULnNlbnNvciB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gZGVsZXRlIHRoZSByZWxhdGlvbnNoaXAgYmVmb3JlIEkgY2FuIGRlbGV0ZSB0aGUgc2Vuc29yIHR5cGUgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcFR5cGVMaXN0LCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlblQuRGVwVHlwZXMuaW5kZXhPZihzLmRlcGxveW1lbnRfdHlwZV9pZCkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IGl0IGFuZCB0aGVuIGRlbGV0ZSB0aGUgcmVsYXRpb25zaGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEVCA9IHsgZGVwbG95bWVudF90eXBlX2lkOiBzLmRlcGxveW1lbnRfdHlwZV9pZCwgbWV0aG9kOiBzLm1ldGhvZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLnJlbW92ZVNlbnNvckRlcGxveW1lbnRUeXBlKHsgc2Vuc29yVHlwZUlkOiBTVC5zZW5zb3JfdHlwZV9pZCwgRGVwbG95bWVudFR5cGVJZDogdGhpc0RULmRlcGxveW1lbnRfdHlwZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5yZWxhdGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bnJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgZGVsZXRlIHRoZSBzZW5zb3IgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS5kZWxldGUoeyBpZDogU1Quc2Vuc29yX3R5cGVfaWQgfSwgU1QsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mb3JtYXR0ZWRTZW5zVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IHRoZSBEZXBsb3ltZW50IFR5cGVzIGZyb20gdGhlIGxpc3Qgb2YgaWRzIGluIGRhdGEuRGVwVHlwZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3IgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3IgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBTZW5zb3JUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIE5ldFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXRUeXBlTGlzdCA9IGFsbE5ldHdvcmtUeXBlczsgLy9udFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGROVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld05UID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTlRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTlRGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5UQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmROVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3TlQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTlRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZE5ldFR5cGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5FVFdPUktfVFlQRS5zYXZlKCRzY29wZS5uZXdOVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ldFR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld05UID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJOZXR3b3JrIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldHdvcmsgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlTmV0VHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgTkVUV09SS19UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTmV0d29yayBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlTmV0VHlwZSA9IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5ldHdvcmsgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm5ldFR5cGVMaXN0LmluZGV4T2YobnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5FVFdPUktfVFlQRS5kZWxldGUoeyBpZDogbnQubmV0d29ya190eXBlX2lkIH0sIG50LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV0VHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTmV0d29yayBUeXBlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG5ldHdvcmsgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBOZXRUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFZlcnRDb2xNZXRoIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVydENvbE1ldGhMaXN0ID0gYWxsVmVydGljYWxDb2xsTWV0aG9kczsgLy92Y21cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkNNRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1ZDTSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZDTUNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWQ01Gb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZDTUJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kVkNNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdWQ00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZDTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRWZXJ0Q29sTWV0aCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkVSVElDQUxfQ09MTF9NRVRIT0Quc2F2ZSgkc2NvcGUubmV3VkNNLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmVydENvbE1ldGhMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1ZDTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWQ01Gb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJWZXJ0aWNhbCBDb2xsZWN0aW9uIE1ldGhvZCBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVWZXJ0Q29sTWV0aCA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgVkVSVElDQUxfQ09MTF9NRVRIT0QudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJWZXJ0aWNhbCBDb2xsZWN0aW9uIE1ldGhvZCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgdmVydGljYWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgdmVydGljYWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVZlcnRDb2xNZXRoID0gZnVuY3Rpb24gKHZjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2Y207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlZlcnRpY2FsIENvbGxlY3Rpb24gTWV0aG9kXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUudmVydENvbE1ldGhMaXN0LmluZGV4T2YodmNtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9DT0xMX01FVEhPRC5kZWxldGUoeyBpZDogdmNtLnZjb2xsZWN0X21ldGhvZF9pZCB9LCB2Y20sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sTWV0aExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiVmVydGljYWwgQ29sbGVjdGlvbiBNZXRob2QgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBWZXJ0Q29sTWV0aCBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBWZXJ0RGF0dW0gQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0TGlzdCA9IGFsbFZlcnRpY2FsRGF0dW1zOyAvL3ZkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZERm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZEQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VkQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWRENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWREZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZFZEID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdWRCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRWREJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRWZXJ0RGF0dW0gPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZFUlRJQ0FMX0RBVFVNLnNhdmUoJHNjb3BlLm5ld1ZELCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmVydERhdExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3VkQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZEQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIERhdHVtIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHZlcnRpY2FsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHZlcnRpY2FsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVZlcnREYXR1bSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgVkVSVElDQUxfREFUVU0udXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJWZXJ0aWNhbCBEYXR1bSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVZlcnREYXR1bSA9IGZ1bmN0aW9uICh2ZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVmVydGljYWwgRGF0dW1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS52ZXJ0RGF0TGlzdC5pbmRleE9mKHZkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9EQVRVTS5kZWxldGUoeyBpZDogdmQuZGF0dW1faWQgfSwgdmQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJWZXJ0aWNhbCBEYXR1bSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHZlcnRpY2FsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHZlcnRpY2FsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFZlcnREYXR1bSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEFMTCBMT09LVVBTIChhZGQvdXBkYXRlL2RlbGV0ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuXHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3N1Ym1pdFJlcG9ydEN0cmwnLCBbJyRzY29wZScsICckaHR0cCcsICckY29va2llcycsICckdWliTW9kYWwnLCAnJHN0YXRlJywgJ0NPTlRBQ1QnLCAnUkVQT1JUJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGNvb2tpZXMsICR1aWJNb2RhbCwgJHN0YXRlLCBDT05UQUNULCBSRVBPUlQpIHtcclxuICAgICAgICAgICAgLy8jbWFrZSBzdXJlIHRoaXMgY2xlYXJzIGV4Y2VwdCBmb3IgaWYgdGhleSBhcmUgbmVlZGluZyB0byBjb21wbGV0ZSBhIHJlcG9ydFxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLiRwYXJlbnQubmVlZFRvQ29tcGxldGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50Lm5ld1JlcG9ydCA9IHsgcmVwb3J0X2RhdGU6IG5ldyBEYXRlKCkgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8va2VlcHMgaXQgdmFsaWQgYW5kIHRlbGxzIGl0IGl0J3MgdXRjIHNvIGl0IHdpbGwgY29udmVydCBwcm9wZXIgbG9jYWxcclxuICAgICAgICAgICAgICAgIHZhciB5ciA9ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUuc3Vic3RyKDAsIDQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vID0gJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZS5zdWJzdHIoNSwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZS5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlID0gbmV3IERhdGUobW8gKyBcIi9cIiArIGRheSArIFwiL1wiICsgeXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLkRlcGxveVN0YWZmID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5HZW5TdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuSW5sYW5kU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLkNvYXN0U3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLldhdGVyU3RhZmYgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IG9wZW5Db250YWN0czogZmFsc2UsIG9wZW5Db3VudHM6IGZhbHNlLCBvcGVuUGVyc29ubmVsOiBmYWxzZSB9OyAvL2lmIHN1Ym1pdCBmb3JtIGludmFsaWQsIG9wZW4gY29udGFjdHMgdG8gc2hvdyByZXF1aXJlZCBmaWVsZFxyXG4gICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcbiAgICAgICAgICAgIC8vcmVzZXQgaXQgaGVyZSBzbyBmb3JtIHdpbGwgY2xlYXIgd2hlbiB0aGV5IGxlYXZlIGFuZCBjb21lIGJhY2suXHJcbiAgICAgICAgICAgICRzY29wZS4kcGFyZW50Lm5lZWRUb0NvbXBsZXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IHRoaXMgZXZlbnQgbmFtZSBmcm9tIHRoZSBldmVudGlkXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRFdmVudE5hbWUgPSBmdW5jdGlvbiAoZXZJRCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0V2ZW50ID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gZXZJRDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gdGhpc0V2ZW50LmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBHRVQgUmVwb3J0IENvbnRhY3RzXHJcbiAgICAgICAgICAgIHZhciBnZXRSZXBvcnRDb250YWN0cyA9IGZ1bmN0aW9uIChyZXBvcnRJRCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgQ09OVEFDVC5nZXRDb250YWN0TW9kZWwoeyBSZXBvcnRNZXRyaWM6IHJlcG9ydElEIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95U3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJEZXBsb3llZCBTdGFmZlwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuU3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJHZW5lcmFsXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5JbmxhbmRTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIklubGFuZCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ29hc3RTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkNvYXN0YWwgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLldhdGVyU3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJXYXRlciBRdWFsaXR5XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gR0VUIFJlcG9ydCBDb250YWN0c1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIFBPU1QgUmVwb3J0IENvbnRhY3RzXHJcbiAgICAgICAgICAgIHZhciBwb3N0UmVwb3J0Q29udGFjdHMgPSBmdW5jdGlvbiAocmVwb3J0SUQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sICRzY29wZS5EZXBsb3lTdGFmZikgJiYgJHNjb3BlLkRlcGxveVN0YWZmICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuYWRkUmVwb3J0Q29udGFjdCh7IHJlcG9ydElkOiByZXBvcnRJRCwgY29udGFjdFR5cGVJZDogMSB9LCAkc2NvcGUuRGVwbG95U3RhZmYsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95IFN0YWZmIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh7fSwgJHNjb3BlLkdlblN0YWZmKSAmJiAkc2NvcGUuR2VuU3RhZmYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5hZGRSZXBvcnRDb250YWN0KHsgcmVwb3J0SWQ6IHJlcG9ydElELCBjb250YWN0VHlwZUlkOiAyIH0sICRzY29wZS5HZW5TdGFmZiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJHZW5lcmFsIFN0YWZmIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UyLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UyLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlMi5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sICRzY29wZS5JbmxhbmRTdGFmZikgJiYgJHNjb3BlLklubGFuZFN0YWZmICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuYWRkUmVwb3J0Q29udGFjdCh7IHJlcG9ydElkOiByZXBvcnRJRCwgY29udGFjdFR5cGVJZDogMyB9LCAkc2NvcGUuSW5sYW5kU3RhZmYsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSW5sYW5kIFN0YWZmIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZTMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UzLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UzLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlMy5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sICRzY29wZS5Db2FzdFN0YWZmKSAmJiAkc2NvcGUuQ29hc3RTdGFmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULmFkZFJlcG9ydENvbnRhY3QoeyByZXBvcnRJZDogcmVwb3J0SUQsIGNvbnRhY3RUeXBlSWQ6IDQgfSwgJHNjb3BlLkNvYXN0U3RhZmYsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2U0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiQ29hc3RhbCBTdGFmZiBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2U0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlNC5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlNC5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTQuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHt9LCAkc2NvcGUuV2F0ZXJTdGFmZikgJiYgJHNjb3BlLldhdGVyU3RhZmYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5hZGRSZXBvcnRDb250YWN0KHsgcmVwb3J0SWQ6IHJlcG9ydElELCBjb250YWN0VHlwZUlkOiA1IH0sICRzY29wZS5XYXRlclN0YWZmLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIldhdGVyIFN0YWZmIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZTUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2U1LmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2U1LmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlNS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFBPU1QgUmVwb3J0IENvbnRhY3RzXHJcblxyXG4gICAgICAgICAgICB2YXIgcmVtb3ZlSW5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3Qgb2YgaW5jb21wbGV0ZXNcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5tZW1iZXJJbmNvbXBsZXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubWVtYmVySW5jb21wbGV0ZXNbaV0ucmVwb3J0aW5nX21ldHJpY3NfaWQgPT0gJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAkc2NvcGUubWVtYmVySW5jb21wbGV0ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJJbmNvbXBsZXRlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9Qb3N0L1B1dCB0aGUgUmVwb3J0IGFuZCBSZXBvcnQgQ29udGFjdHMuIENhbGxlZCB0d2ljZSAoZnJvbSB3aXRoaW4gTW9kYWwgKGluY29tcGxldGUpIGFuZCBvdXRzaWRlIChjb21wbGV0ZSkpXHJcbiAgICAgICAgICAgIHZhciBQb3N0UHV0UmVwb3J0QW5kUmVwb3J0Q29udGFjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL1BPU1Qgb3IgUFVUICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUgPSAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlLnRvRGF0ZVN0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULnVwZGF0ZSh7IGlkOiAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkIH0sICRzY29wZS5uZXdSZXBvcnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJSZXBvcnQgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9uYW1lID0gJHNjb3BlLmdldEV2ZW50TmFtZSgkc2NvcGUubmV3UmVwb3J0LmV2ZW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQuY29tcGxldGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSW5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzQ29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCB0aGUgUmVwb3J0Q29udGFjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFJlcG9ydENvbnRhY3RzKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGRhdGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGRhdGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC5ldmVudF9pZC4kdmlld1ZhbHVlID0gdW5kZWZpbmVkOy8vbmVlZGVkIGZvciB0aGUgY2hhbmdlU3RhdGUgdG8gbm90IHRocm93IHVwIGxlYXZpbmcgdGFiIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZXBvcnRpbmcucmVwb3J0RGFzaCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1BPU1RcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuc2F2ZSgkc2NvcGUubmV3UmVwb3J0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUmVwb3J0IENyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzLnB1c2gocmVzcG9uc2UpOyAvL2FkZCB0byB0aGUgbGlzdCBvZiBhbGwgcmVwb3J0cyBmb3IgZmlsdGVyaW5nIG9uIHRoZSBnZW5lcmF0ZSB0YWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQuY29tcGxldGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSW5jb21wbGV0ZSgpOyAkc2NvcGUuaXNDb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9uYW1lID0gJHNjb3BlLmdldEV2ZW50TmFtZSgkc2NvcGUubmV3UmVwb3J0LmV2ZW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJJbmNvbXBsZXRlcy5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCB0aGUgUmVwb3J0Q29udGFjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCA9IHJlc3BvbnNlLnJlcG9ydGluZ19tZXRyaWNzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UmVwb3J0Q29udGFjdHMoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuJHNldFByaXN0aW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuZXZlbnRfaWQuJHZpZXdWYWx1ZSA9IHVuZGVmaW5lZDsgLy9uZWVkZWQgZm9yIHRoZSBjaGFuZ2VTdGF0ZSB0byBub3QgdGhyb3cgdXAgbGVhdmluZyB0YWIgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3JlcG9ydGluZy5yZXBvcnREYXNoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgcG9zdFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9nZXQgdmFsdWVzIGZvciBQZXJzb25uZWwgWWVzdGVyZGF5cywgYW5kIENvbnRhY3RzIChpZiByZXBvcnQgd2FzIGRvbmUgeWVzdGVyZGF5KSwgYW5kIGFsbCBjb3VudHMgZm9yIGluc3RydW1lbnRzICYgaHdtc1xyXG4gICAgICAgICAgICAkc2NvcGUucG9wdWxhdGVZZXN0VG90cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLm5ld1JlcG9ydC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5uZXdSZXBvcnQuZXZlbnRfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXREYXRlID0gbmV3IERhdGUoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlID0gZm9ybWF0RGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG15RGF0ZSA9IGZvcm1hdERhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVN0YXRlID0gJHNjb3BlLm5ld1JlcG9ydC5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZUlEID0gJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydCA9IHsgcmVwb3J0X2RhdGU6ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUsIHN0YXRlOiB0aGVTdGF0ZSwgZXZlbnRfaWQ6IGVJRCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3lTdGFmZiA9IHt9OyAkc2NvcGUuR2VuU3RhZmYgPSB7fTsgJHNjb3BlLklubGFuZFN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNvYXN0U3RhZmYgPSB7fTsgJHNjb3BlLldhdGVyU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNEYXkgPSBuZXcgRGF0ZShteURhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRGF5ID0gcHJldmlvdXNEYXkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgeWVzdGVyZGF5UnB0ID0gJHNjb3BlLnJlcG9ydHMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBEYXRlID0gci5yZXBvcnRfZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoci5ldmVudF9pZCA9PSAkc2NvcGUubmV3UmVwb3J0LmV2ZW50X2lkICYmIHIuc3RhdGUgPT0gJHNjb3BlLm5ld1JlcG9ydC5zdGF0ZSkgJiYgKHJlcERhdGUgPT0gcHJldmlvdXNEYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHllc3RlcmRheVJwdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBFUlNPTk5FTCBwb3B1bGF0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQueWVzdF9maWVsZHBlcnMgPSB5ZXN0ZXJkYXlScHQudG9kX2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC55ZXN0X29mZmljZXBlcnMgPSB5ZXN0ZXJkYXlScHQudG9kX29mZmljZXBlcnM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDT05UQUNUUyBwb3B1bGF0aW5nIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRSZXBvcnRDb250YWN0cyh5ZXN0ZXJkYXlScHQucmVwb3J0aW5nX21ldHJpY3NfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB5ZXN0ZXJkYXlScHQgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQueWVzdF9maWVsZHBlcnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lnllc3Rfb2ZmaWNlcGVycyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IGdldCB0b3RhbHMgZm9yIGFsbCBzZW5zb3JzIGFuZCBod21zIHRvIHBvcHVsYXRlIGluIHRoaXMgbmV3UmVwb3J0XHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldERhaWx5UmVwb3J0VG90cyh7IERhdGU6IG15RGF0ZSwgRXZlbnQ6ICRzY29wZS5uZXdSZXBvcnQuZXZlbnRfaWQsIFN0YXRlOiAkc2NvcGUubmV3UmVwb3J0LnN0YXRlIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2U2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBjYXJlIGFib3V0IHRoZSBjb3VudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5kZXBfcmFwZGVwbF9nYWdlID0gcmVzcG9uc2U2LmRlcF9yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVjX3JhcGRlcGxfZ2FnZSA9IHJlc3BvbnNlNi5yZWNfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmxvc3RfcmFwZGVwbF9nYWdlID0gcmVzcG9uc2U2Lmxvc3RfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmRlcF93dHJsZXZfc2Vuc29yID0gcmVzcG9uc2U2LmRlcF93dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlY193dHJsZXZfc2Vuc29yID0gcmVzcG9uc2U2LnJlY193dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmxvc3Rfd3RybGV2X3NlbnNvciA9IHJlc3BvbnNlNi5sb3N0X3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZGVwX3d2X3NlbnMgPSByZXNwb25zZTYuZGVwX3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVjX3d2X3NlbnMgPSByZXNwb25zZTYucmVjX3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubG9zdF93dl9zZW5zID0gcmVzcG9uc2U2Lmxvc3Rfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5kZXBfYmFyb21ldHJpYyA9IHJlc3BvbnNlNi5kZXBfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZWNfYmFyb21ldHJpYyA9IHJlc3BvbnNlNi5yZWNfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5sb3N0X2Jhcm9tZXRyaWMgPSByZXNwb25zZTYubG9zdF9iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmRlcF9tZXRlb3JvbG9naWNhbCA9IHJlc3BvbnNlNi5kZXBfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVjX21ldGVvcm9sb2dpY2FsID0gcmVzcG9uc2U2LnJlY19tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5sb3N0X21ldGVvcm9sb2dpY2FsID0gcmVzcG9uc2U2Lmxvc3RfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuaHdtX2ZsYWdnZWQgPSByZXNwb25zZTYuaHdtX2ZsYWdnZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuaHdtX2NvbGxlY3RlZCA9IHJlc3BvbnNlNi5od21fY29sbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2U2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlNi5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0IHRvdGFsczogXCIgKyBlcnJvclJlc3BvbnNlNi5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydCB0b3RhbHM6IFwiICsgZXJyb3JSZXNwb25zZTYuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBjaG9vc2UgYSBkYXRlLCBldmVudCBhbmQgc3RhdGUgZmlyc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9OyAvLyBlbmQgcG9wdWxhdGVZZXN0VG90c1xyXG5cclxuICAgICAgICAgICAgLy9zYXZlIHRoaXMgcmVwb3J0IGFuZCBpdCdzIGNvbnRhY3RzXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlUmVwb3J0ID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkIHx8ICRzY29wZS5uZXdSZXBvcnQuY29tcGxldGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2Rvbid0IHdvcnJ5IGlmIHZhbGlkLCBqdXN0IHBvc3RwdXQgbW9kYWwgY29uZmlybWluZyB0aGV5IHdhbnQgdG8gc2F2ZSB0aGlzIHdpdGhvdXQgbWFya2luZyBpdCBjb21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NhdmVSZXBvcnRNb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbmZpcm1SZXBvcnRNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCBwb3N0IHRoaXMgYXMgaW5jb21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmNvbXBsZXRlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5tZW1iZXJfaWQgPSAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4ubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQb3N0UHV0UmVwb3J0QW5kUmVwb3J0Q29udGFjdHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vLi5jb21wbGV0ZSBpcyAxIC4uIGNoZWNrIGlmIHZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlIHJlcG9ydCBpcyBjb21wbGV0ZSBhbmQgdmFsaWQsIGp1c3QgcG9zdC9wdXQgaXQgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5tZW1iZXJfaWQgPSAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4ubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQb3N0UHV0UmVwb3J0QW5kUmVwb3J0Q29udGFjdHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMub3BlbkNvbnRhY3RzID0gdHJ1ZTsgJHNjb3BlLnN0YXR1cy5vcGVuQ291bnRzID0gdHJ1ZTsgJHNjb3BlLnN0YXR1cy5vcGVuUGVyc29ubmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KFwiW25hbWU9J1wiICsgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC4kbmFtZSArIFwiJ11cIikuZmluZCgnLm5nLWludmFsaWQ6dmlzaWJsZTpmaXJzdCcpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnBvcHVsYXRlRGVwbG95ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95U3RhZmYgPSAkc2NvcGUuTWVtYmVyTG9nZ2VkSW47XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaW5jb21wbGV0ZSByZXBvcnQgd2FzIGNsaWNrZWQsIGdvIGdldCBpdCBhbmQgdGhlIGNvbnRhY3RzIGZvciBpdFxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0SW5jb21wbGV0ZVJlcG9ydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXBvcnRJZCA9IHRoaXMuaXIucmVwb3J0aW5nX21ldHJpY3NfaWQ7XHJcbiAgICAgICAgICAgICAgICBSRVBPUlQucXVlcnkoeyBpZDogcmVwb3J0SWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIENocm9tZSwgZm9ybWF0IGRhdGU6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHlyID0gcmVzcG9uc2UucmVwb3J0X2RhdGUuc3Vic3RyKDAsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtbyA9IHJlc3BvbnNlLnJlcG9ydF9kYXRlLnN1YnN0cig1LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gcmVzcG9uc2UucmVwb3J0X2RhdGUuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUgPSBuZXcgRGF0ZShtbyArIFwiL1wiICsgZGF5ICsgXCIvXCIgKyB5cik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC4kc2V0RGlydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2dldCBjb250YWN0cyBcclxuICAgICAgICAgICAgICAgICAgICBnZXRSZXBvcnRDb250YWN0cyhyZXBvcnRJZCk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIGdldFJlcG9ydENvbnRhY3RzKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQpO1xyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcigncmVwb3J0TW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAncmVwb3J0JywgJ3N1Ym1pdFBlcnNvbicsICdjb250YWN0cycsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCByZXBvcnQsIHN1Ym1pdFBlcnNvbiwgY29udGFjdHMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcuUmVwb3J0ID0gcmVwb3J0O1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy5zdWJtaXR0ZXIgPSBzdWJtaXRQZXJzb247XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LmRlcGxveVN0YWZmID0gY29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiRGVwbG95ZWQgU3RhZmZcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LmdlbmVyYWxTdGFmZiA9IGNvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkdlbmVyYWxcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LmlubGFuZFN0YWZmID0gY29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiSW5sYW5kIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy5jb2FzdFN0YWZmID0gY29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiQ29hc3RhbCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcud2F0ZXJTdGFmZiA9IGNvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIldhdGVyIFF1YWxpdHlcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5wcmludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3JlcG9ydGluZ0Rhc2hDdHJsJywgWyckc2NvcGUnLCAnJGNvb2tpZXMnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnJHN0YXRlJywgJyRodHRwJywgJ0NPTlRBQ1QnLCAnTUVNQkVSJywgJ2FsbFJlcG9ydHNBZ2FpbicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsICRmaWx0ZXIsICR1aWJNb2RhbCwgJHN0YXRlLCAkaHR0cCwgQ09OVEFDVCwgTUVNQkVSLCBhbGxSZXBvcnRzQWdhaW4pIHtcclxuICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHNUb0RhdGUgPSBhbGxSZXBvcnRzQWdhaW47XHJcbiAgICAgICAgICAgICRzY29wZS50b2RheVJwdHMgPSBbXTsgJHNjb3BlLnllc3RlcmRheVJwdHMgPSBbXTsgJHNjb3BlLnBpY2tEYXRlUnB0cyA9IFtdOyAkc2NvcGUucGlja0FkYXRlUmVwb3J0cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUudG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAkc2NvcGUudG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICRzY29wZS55ZXN0ZXJkYXkgPSBuZXcgRGF0ZSgkc2NvcGUudG9kYXkpO1xyXG4gICAgICAgICAgICAkc2NvcGUueWVzdGVyZGF5LnNldERhdGUoJHNjb3BlLnRvZGF5LmdldERhdGUoKSAtIDEpO1xyXG4gICAgICAgICAgICAkc2NvcGUudG9kYXkgPSAkc2NvcGUudG9kYXkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApO1xyXG4gICAgICAgICAgICAkc2NvcGUueWVzdGVyZGF5ID0gJHNjb3BlLnllc3RlcmRheS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuVEhJU19EQVRFID0ge307XHJcbiAgICAgICAgICAgIC8vVmlldyBSZXBvcnQgYnV0dG9uIGNsaWNrZWQsIGdldCBzdHVmZiBhbmQgbWFrZSBhIHBkZiBcclxuICAgICAgICAgICAgJHNjb3BlLlZpZXdSZXBvcnQgPSBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdWaWV3UmVwb3J0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXBvcnRNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7ICAvL1RPRE8gOjogQ2hhbmdlIHRoaXMgdG8gZ2V0IFJlcG9ydE1vZGVsIC0taW5jbHVkZXMgY29udGFjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0UGVyc29uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIucXVlcnkoeyBpZDogci5tZW1iZXJfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlci5tZW0gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gbWVtYmVyLm1lbS5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlci5hZ2VuY3lfbmFtZSA9IG1lbWJlckFnZW5jeS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXIuYWdlbmN5X2FkZHJlc3MgPSBtZW1iZXJBZ2VuY3kuYWRkcmVzcyArIFwiLCBcIiArIG1lbWJlckFnZW5jeS5jaXR5ICsgXCIgXCIgKyBtZW1iZXJBZ2VuY3kuc3RhdGUgKyBcIiBcIiArIG1lbWJlckFnZW5jeS56aXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ09OVEFDVC5nZXRDb250YWN0TW9kZWwoeyBSZXBvcnRNZXRyaWM6IHIucmVwb3J0aW5nX21ldHJpY3NfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdGhpbmcgdG8gZG8gaGVyZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9Oy8vZW5kIFZpZXdSZXBvcnQgY2xpY2tcclxuXHJcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gY2FsbCB0byBhZGQgZXZlbnRfbmFtZSB0byBsaXN0IG9mIHJlcG9ydHNcclxuICAgICAgICAgICAgdmFyIGZvcm1hdFJlcG9ydCA9IGZ1bmN0aW9uIChyZXBMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0dXJuTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXBMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcCA9IHJlcExpc3RbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gcmVwLmV2ZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXAuZXZlbnRfbmFtZSA9IGV2ZW50LmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuTGlzdC5wdXNoKHJlcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuTGlzdDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b2RheVJlcG9ydHMgPSAkc2NvcGUucmVwb3J0c1RvRGF0ZS5maWx0ZXIoZnVuY3Rpb24gKHRvZGF5cmVwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwb3J0RGF0ZSA9IHRvZGF5cmVwLnJlcG9ydF9kYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXBvcnREYXRlID09ICRzY29wZS50b2RheTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS50b2RheVJwdHMgPSBmb3JtYXRSZXBvcnQodG9kYXlSZXBvcnRzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB5ZXN0ZXJkYXlSZXBvcnRzID0gJHNjb3BlLnJlcG9ydHNUb0RhdGUuZmlsdGVyKGZ1bmN0aW9uICh5ZXN0cmVwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwb3J0RGF0ZSA9IHllc3RyZXAucmVwb3J0X2RhdGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydERhdGUgPT0gJHNjb3BlLnllc3RlcmRheTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS55ZXN0ZXJkYXlScHRzID0gZm9ybWF0UmVwb3J0KHllc3RlcmRheVJlcG9ydHMpO1xyXG5cclxuICAgICAgICAgICAgLy9naXZlIG1lIHRoZSByZXBvcnRzIGRvbmUgb24gdGhpcyBkYXRlXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRSZXBvcnRzQnlEYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5USElTX0RBVEUuZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdERhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuVEhJU19EQVRFLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZSA9IGZvcm1hdERhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRGF0ZVJlcG9ydHMgPSAkc2NvcGUucmVwb3J0c1RvRGF0ZS5maWx0ZXIoZnVuY3Rpb24gKHRkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBvcnREYXRlID0gdGRhdGUucmVwb3J0X2RhdGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0RGF0ZSA9PSBmb3JtYXREYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5waWNrRGF0ZVJwdHMgPSBmb3JtYXRSZXBvcnQodGhpc0RhdGVSZXBvcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGlja0FkYXRlUmVwb3J0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGljayBhIGRhdGUgZmlyc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY29tcGxldGUgdGhlIHJlcG9ydCBidXR0b24gY2xpY2tlZCAtLSBzZW5kIGJhY2sgdG8gc3VibWl0IHdpdGggcmVwb3J0IHBvcHVsYXRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuQ29tcGxldGVUaGlzUmVwb3J0ID0gZnVuY3Rpb24gKHJlcCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQubmV3UmVwb3J0ID0gcmVwO1xyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLiRwYXJlbnQubmV3UmVwb3J0LnJlcG9ydF9kYXRlID0gbmV3IERhdGUocmVwLnJlcG9ydF9kYXRlKTsgLy9rZWVwcyBpdCB2YWxpZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50Lm5lZWRUb0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIENPTlRBQ1QuZ2V0Q29udGFjdE1vZGVsKHsgUmVwb3J0TWV0cmljOiByZXAucmVwb3J0aW5nX21ldHJpY3NfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5EZXBsb3lTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkRlcGxveWVkIFN0YWZmXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5HZW5TdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkdlbmVyYWxcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LklubGFuZFN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiSW5sYW5kIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5Db2FzdFN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiQ29hc3RhbCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuV2F0ZXJTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIldhdGVyIFF1YWxpdHlcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuRGVwbG95U3RhZmYgPSB7fTsgJHNjb3BlLiRwYXJlbnQuR2VuU3RhZmYgPSB7fTsgJHNjb3BlLiRwYXJlbnQuSW5sYW5kU3RhZmYgPSB7fTsgJHNjb3BlLiRwYXJlbnQuQ29hc3RTdGFmZiA9IHt9OyAkc2NvcGUuJHBhcmVudC5XYXRlclN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3JlcG9ydGluZy5zdWJtaXRSZXBvcnQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9wcm9qZWN0IGFsZXJ0IHRleHQgaW4gbW9kYWxcclxuICAgICAgICAgICAgJHNjb3BlLmdldFByb2plY3RBbGVydFRleHQgPSBmdW5jdGlvbiAocmVwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9uZWVkOiBcclxuICAgICAgICAgICAgICAgIC8vMS4gdGhpc1JlcG9ydFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMuUmVwb3J0ID0gcmVwO1xyXG4gICAgICAgICAgICAgICAgLy8yLiB0b3RhbCBvZiBZRVNUIEZJRUxEUEVSU1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLnRvdFllc3RGaWVsZFBlcnMgPSByZXAueWVzdF9maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAvLzMuIHRvdGFsIG9mIE9GRklDRVBFUlNcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy50b3RZZXN0T2ZmaWNQZXJzID0gcmVwLnllc3Rfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgIC8vNC4gdG90YWwgdG90X2Rpc2NoYXJnZV9tZWFzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMubWVhc3VyZUN0cyA9IHJlcC50b3RfZGlzY2hhcmdlX21lYXM7XHJcbiAgICAgICAgICAgICAgICAvLzUuIHRvdGFsIHN0YXRlcyByZXNwb25kaW5nIChhbGwgcmVwb3J0cyB3aXRoIHRoaXMgZXZlbnRfaWQsIGNvdW50IG9mIGVhY2ggc3RhdGUpXHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRSZXBvcnRzID0gJHNjb3BlLnJlcG9ydHNUb0RhdGUuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X2lkID09IHJlcC5ldmVudF9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdCA9ICRmaWx0ZXIoJ2NvdW50QnknKShldmVudFJlcG9ydHMsICdzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLnN0YXRlQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRlc3QsIGZ1bmN0aW9uIChlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy5zdGF0ZUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vNi4gdGhpcyBldmVudFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLkV2ZW50ID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gcmVwLmV2ZW50X2lkOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLkV2ZW50LmV2ZW50X3R5cGVfaWQgPT0gMSA/ICdGbG9vZFBBLmh0bWwnIDogJ0h1cnJpY2FuZVBBLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQcm9qQWxlcnRNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb2pBbGVydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm90aGluZyB0byBkbyBoZXJlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcbiAgICAvLyNyZWdpb24gUmVwb3J0aW5nIENvbnRyb2xsZXJcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3JlcG9ydGluZ0N0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckdWliTW9kYWwnLCAnbWVtYmVyUmVwb3J0cycsICdhbGxFdmVudHMnLCAnYWxsU3RhdGVzJywgJ2FsbFJlcG9ydHMnLCAnYWxsRXZlbnRUeXBlcycsICdhbGxFdmVudFN0YXR1cycsICdhbGxBZ2VuY2llcycsICdTRVJWRVJfVVJMJywgJ1JFUE9SVCcsICdNRU1CRVInLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkdWliTW9kYWwsIG1lbWJlclJlcG9ydHMsIGFsbEV2ZW50cywgYWxsU3RhdGVzLCBhbGxSZXBvcnRzLCBhbGxFdmVudFR5cGVzLCBhbGxFdmVudFN0YXR1cywgYWxsQWdlbmNpZXMsIFNFUlZFUl9VUkwsIFJFUE9SVCwgTUVNQkVSKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJSZXBvcnRpbmdcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IFwicmVwb3J0XCI7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gY2hhbmdpbmcgdGFicyBoYW5kbGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1Jc1BvcHVsYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZnJvbVN0YXRlLnVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcvU3VibWl0UmVwb3J0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtSXNQb3B1bGF0ZWQgPSAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LiRkaXJ0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtSXNQb3B1bGF0ZWQgPSAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LmV2ZW50X2lkLiR2aWV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBmb3JtSXNQb3B1bGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1Jc1BvcHVsYXRlZCkgeyAvL2lzIGRpcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b1N0YXRlLm5hbWU6ICcgKyB0b1N0YXRlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZnJvbVN0YXRlLm5hbWU6ICcgKyBmcm9tU3RhdGUubmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGUgU3VibWl0IFJlcG9ydCBUYWI/IEFueSB1bnNhdmVkIGluZm9ybWF0aW9uIHdpbGwgYmUgbG9zdC5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnbyB0bzogJyArIHRvU3RhdGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3RheSBhdCBzdGF0ZTogJyArIGZyb21TdGF0ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLiRhcHBseSgpOy8vIGxvYWRpbmcuLi8vJChcIi5wYWdlLWxvYWRpbmdcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ldmVudC5zdG9wUHJvcGFnYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBjaGFuZ2luZyB0YWJzIGhhbmRsZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb3JtYXQgdGhlIGRhdGUgbW0vZGQveXl5eVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdERhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RHQgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW0gPSBjdXJyZW50RHQuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbW0gPSAobW0gPCAxMCkgPyAnMCcgKyBtbSA6IG1tO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZCA9IGN1cnJlbnREdC5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHl5eXkgPSBjdXJyZW50RHQuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG1tICsgJy8nICsgZGQgKyAnLycgKyB5eXl5O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZ2xvYmFsIHZhcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0ID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95U3RhZmYgPSB7fTsgJHNjb3BlLkdlblN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuSW5sYW5kU3RhZmYgPSB7fTsgJHNjb3BlLkNvYXN0U3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5XYXRlclN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5lZWRUb0NvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVySW5jb21wbGV0ZXMgPSBtZW1iZXJSZXBvcnRzLmZpbHRlcihmdW5jdGlvbiAoaXIpIHsgcmV0dXJuIGlyLmNvbXBsZXRlID09PSAwOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSBhbGxFdmVudHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gYWxsU3RhdGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSBhbGxSZXBvcnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiAkY29va2llcy5nZXQoJ21JRCcpIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyQWdlbmN5ID0gYWxsQWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4uYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4uYWdlbmN5X25hbWUgPSBtZW1iZXJBZ2VuY3kuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1lbWJlckxvZ2dlZEluLmFnZW5jeV9hZGRyZXNzID0gbWVtYmVyQWdlbmN5LmFkZHJlc3MgKyBcIiwgXCIgKyBtZW1iZXJBZ2VuY3kuY2l0eSArIFwiIFwiICsgbWVtYmVyQWdlbmN5LnN0YXRlICsgXCIgXCIgKyBtZW1iZXJBZ2VuY3kuemlwO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJzID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXJzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcnM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZXMgPSBhbGxFdmVudFR5cGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdHMgPSBhbGxFdmVudFN0YXR1cztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZ2xvYmFsIHZhcnNcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gR2VuZXJhdGUgUmVwb3J0IHRhYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlN0YXRlbW9kZWwgPSB7fTsvL2JpbmRpbmcgdG8gdGhlIHN0YXRlIG11bHRpLXNlbGVjdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdlblN1bW1hcnkgPSB7fTsvL2JpbmRpbmcgZm9yIHRoZSBldmVudCBjaG9zZW4sIGFuZCBkYXRlIGNob3NlblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmVkUmVwb3J0cyA9IFtdOyAvL3Jlc3VsdCBvZiBmaWx0ZXIgb3B0aW9uc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZWFjaCBvcHRpb24gdGhlIHBvcHVsYXRlLCBuZWVkIHRvIHNob3cgc2VsZWN0aW9uIGluICdDb25maXJtIFNlbGVjdGlvbnMnIHNlY3Rpb24gKGRhdGUgd29ya3MpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2VuUmVwQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkc2NvcGUuZXZlbnRzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSAkc2NvcGUuZ2VuU3VtbWFyeS5ldmVudF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlN0YXRlbW9kZWwudmFsdWUsIGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKHN0YXRlLnN0YXRlX25hbWUpOyBhYmJyZXZzLnB1c2goc3RhdGUuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlN0YXRlTmFtZXMgPSBuYW1lcy5qb2luKCcsJyk7ICRzY29wZS5TdGF0ZUFiYnJldnMgPSBhYmJyZXZzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbCA9IFtdOyAvL2hvbGQgYWxsIHJlcG9ydE1vZGVscyBmb3IgJ0Rpc3BsYXkgTWV0cmljcyBTdW1tYXJ5J1xyXG4gICAgICAgICAgICAgICAgLy9jbGlja2VkIERpc3BsYXkgTWV0cmljcyBTdW1tYXJ5LCBzaG93IGNvbnRlbnQgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc3BsYXlNZXRyaWNTdW0gPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8jcmVnaW9uIHNjb3BlcyBuZWVkZWQgZm9yIHRoaXMgYWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWwgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93ID0ge307IC8vbW9kZWwgdG8gaG9sZCB0b3RhbHMgZm9yIHRhYmxlcyBsYXN0IHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubm90QWNjdEZvckVtcHMgPSAwOyAkc2NvcGUudG90YWxSb3cuY3VtUEZpZWxkID0gMDsgJHNjb3BlLnRvdGFsUm93Lnllc1BGaWVsZCA9IDA7ICRzY29wZS50b3RhbFJvdy50b2RQRmllbGQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUEZpZWxkID0gMDsgJHNjb3BlLnRvdGFsUm93LmN1bVBPZmZpY2UgPSAwOyAkc2NvcGUudG90YWxSb3cueWVzUE9mZmljZSA9IDA7ICRzY29wZS50b3RhbFJvdy50b2RQT2ZmaWNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBPZmZpY2UgPSAwOyAkc2NvcGUudG90YWxSb3cudHJ1Y2sgPSAwOyAkc2NvcGUudG90YWxSb3cuYm9hdCA9IDA7ICRzY29wZS50b3RhbFJvdy5vdGhlciA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZ2FnZVZpc2l0cyA9IDA7ICRzY29wZS50b3RhbFJvdy5nYWdlc0Rvd24gPSAwOyAkc2NvcGUudG90YWxSb3cuZGlzQ3RvRGF0ZSA9IDA7ICRzY29wZS50b3RhbFJvdy5kaXNDUGxhbm5lZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5DaGVja01lYXNUb0RhdGUgPSAwOyAkc2NvcGUudG90YWxSb3cuQ2hlY2tNZWFzUGxhbm5lZCA9IDA7ICRzY29wZS50b3RhbFJvdy5pbmRNZWFzID0gMDsgJHNjb3BlLnRvdGFsUm93LnJhdEV4dCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5wZWFrc09mUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LlFXR2FnZVZpcyA9IDA7ICRzY29wZS50b3RhbFJvdy5jb250UVdHYWdlVmlzID0gMDsgJHNjb3BlLnRvdGFsUm93LmNvbnRRV0dhZ2VEb3duID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmRpc1FXU2FtcGxlcyA9IDA7ICRzY29wZS50b3RhbFJvdy5zZWRTYW1wbGVzID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5yZGdQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LnJkZ0RlcCA9IDA7ICRzY29wZS50b3RhbFJvdy5yZGdSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cucmRnTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXRlclBsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cud2F0ZXJEZXAgPSAwOyAkc2NvcGUudG90YWxSb3cud2F0ZXJSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cud2F0ZXJMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdmVQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdmVEZXAgPSAwOyAkc2NvcGUudG90YWxSb3cud2F2ZVJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy53YXZlTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5iYXJvUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy5iYXJvRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LmJhcm9SZWMgPSAwOyAkc2NvcGUudG90YWxSb3cuYmFyb0xvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubWV0UGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy5tZXREZXAgPSAwOyAkc2NvcGUudG90YWxSb3cubWV0UmVjID0gMDsgJHNjb3BlLnRvdGFsUm93Lm1ldExvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuaHdtRmxhZyA9IDA7ICRzY29wZS50b3RhbFJvdy5od21Db2wgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gc2NvcGVzIG5lZWRlZCBmb3IgdGhpcyBhY3Rpb25cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IG1ldHJpY3Mgc3VtbWFyeSB0byBzaG93IGluIG5ldyB0YWIgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlN0YXRlbW9kZWwudmFsdWUsIGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicmV2cy5wdXNoKHN0YXRlLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2U3RyaW5nID0gYWJicmV2cy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRGF0ZSA9ICRzY29wZS5mb3JtYXREYXRlKCRzY29wZS5nZW5TdW1tYXJ5LnN1bV9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkOiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8xLiBhbGwgcmVwb3J0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0RmlsdGVyZWRSZXBvcnRzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X2lkLCBTdGF0ZXM6IGFiYnJldlN0cmluZywgRGF0ZTogdGhpc0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIHJlcG9ydCwgZ2V0IGFsbCByZXBvcnRzIHdpdGggdGhhdCBldmVudCBhbmQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcmVzdWx0Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNSUE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1JQTW9kZWwucmVwb3J0ID0gcmVzdWx0W3hdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byB0b3RhbHMgZm9yIHRvdGFsIHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5ub3RBY2N0Rm9yRW1wcyArPSAodGhpc1JQTW9kZWwucmVwb3J0LnN3X2ZpZWxkcGVyc19ub3RhY2N0ICsgdGhpc1JQTW9kZWwucmVwb3J0LndxX2ZpZWxkcGVyc19ub3RhY2N0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuY3VtUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X2ZpZWxkcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50b2RfZmllbGRwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRtd19maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lnllc1BGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvZFBGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5jdW1QT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X29mZmljZXBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX29mZmljZXBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG13X29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lnllc1BPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3Rfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9kUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRtd19vZmZpY2VwZXJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZ2FnZVZpc2l0cyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZ2FnZV92aXNpdDsgJHNjb3BlLnRvdGFsUm93LmdhZ2VzRG93biArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZ2FnZV9kb3duO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5kaXNDdG9EYXRlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50b3RfZGlzY2hhcmdlX21lYXM7ICRzY29wZS50b3RhbFJvdy5kaXNDUGxhbm5lZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9kaXNjaGFyZ2VfbWVhcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuaW5kTWVhcyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9pbmRpcmVjdF9tZWFzOyAkc2NvcGUudG90YWxSb3cucmF0RXh0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yYXRpbmdfZXh0ZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5wZWFrc09mUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5nYWdlX3BlYWtfcmVjb3JkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5kaXNRV1NhbXBsZXMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnF3X2Rpc2NyX3NhbXBsZXM7ICRzY29wZS50b3RhbFJvdy5zZWRTYW1wbGVzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5jb2xsX3NlZHNhbXBsZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5yZGdQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX3JhcGRlcGxfZ2FnZTsgJHNjb3BlLnRvdGFsUm93LnJkZ0RlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucmRnUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfcmFwZGVwbF9nYWdlOyAkc2NvcGUudG90YWxSb3cucmRnTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF9yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdGVyUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl93dHJsZXZfc2Vuc29yOyAkc2NvcGUudG90YWxSb3cud2F0ZXJEZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF93dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXRlclJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX3d0cmxldl9zZW5zb3I7ICRzY29wZS50b3RhbFJvdy53YXRlckxvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3Rfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F2ZVBsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fd3Zfc2VuczsgJHNjb3BlLnRvdGFsUm93LndhdmVEZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF93dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXZlUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfd3Zfc2VuczsgJHNjb3BlLnRvdGFsUm93LndhdmVMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmJhcm9QbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX2Jhcm9tZXRyaWM7ICRzY29wZS50b3RhbFJvdy5iYXJvRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuYmFyb1JlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX2Jhcm9tZXRyaWM7ICRzY29wZS50b3RhbFJvdy5iYXJvTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF9iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5tZXRQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX21ldGVvcm9sb2dpY2FsOyAkc2NvcGUudG90YWxSb3cubWV0RGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm1ldFJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX21ldGVvcm9sb2dpY2FsOyAkc2NvcGUudG90YWxSb3cubWV0TG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF9tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuaHdtRmxhZyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuaHdtX2ZsYWdnZWQ7ICRzY29wZS50b3RhbFJvdy5od21Db2wgPSB0aGlzUlBNb2RlbC5yZXBvcnQuaHdtX2NvbGxlY3RlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbC5wdXNoKHRoaXNSUE1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3Jsb29wIGZvciBSZXBvcnRNb2RlbExpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMi4gdGhpcyBFdmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50ID0gJHNjb3BlLkV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50VHlwZSA9ICRzY29wZS5ldmVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZXQpIHsgcmV0dXJuIGV0LmV2ZW50X3R5cGVfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50U3RhdCA9ICRzY29wZS5ldmVudFN0YXRzLmZpbHRlcihmdW5jdGlvbiAoZXMpIHsgcmV0dXJuIGVzLmV2ZW50X3N0YXR1c19pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3N0YXR1c19pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzMuIGV2ZW50IENvb3JkaW5hdG9yIGluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudC5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZEFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yLmFnZW5jeV9pZDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdNZXRyaWNzU3VtbWFyeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZVRvdGFsUm93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnRvdGFsUm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICd0aGlzUmVwb3J0JywgJ3RoaXNFdmVudCcsICd0aGVUb3RhbFJvdycsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCB0aGlzUmVwb3J0LCB0aGlzRXZlbnQsIHRoZVRvdGFsUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXBvcnQgPSB0aGlzUmVwb3J0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnQgPSB0aGlzRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbHMgPSB0aGVUb3RhbFJvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NsaWNrZWQgRGlzcGxheSBDb250YWN0cyBTdW1tYXJ5LCBzaG93IGNvbnRlbnQgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc3BsYXlDb250YWN0c1N1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBtZXRyaWNzIHN1bW1hcnkgdG8gc2hvdyBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udGFpbnMgdGhlIHN0YXRlcyBjaG9zZW4gICAgICRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ldmVudCBjaG9zZW4gICAgJHNjb3BlLkV2ZW50TmFtZVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlLCBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnJldnMucHVzaChzdGF0ZS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldlN0cmluZyA9IGFiYnJldnMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RhdGUgPSAkc2NvcGUuZm9ybWF0RGF0ZSgkc2NvcGUuZ2VuU3VtbWFyeS5zdW1fZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRNb2RlbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsbCBmaWx0ZXJlZCByZXBvcnRzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldFJlcG9ydHdpdGhDb250YWN0cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudDogJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9pZCwgU3RhdGVzOiBhYmJyZXZTdHJpbmcsIERhdGU6IHRoaXNEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb29wIHRocm91Z2ggcmVwb3J0cyBhbmQgZ2V0IGVhY2gncyBjb250YWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByZXN1bHQubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLnJlcElEID0gcmVzdWx0W3hdLnJlcG9ydGluZ19tZXRyaWNzX2lkOyByZXAuU3RhdGUgPSByZXN1bHRbeF0uc3RhdGU7IHJlcC5yZXBvcnRfZGF0ZSA9IHJlc3VsdFt4XS5yZXBvcnRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWl0dGVyID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSByZXN1bHRbeF0ubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWl0dGVyQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gc3VibWl0dGVyLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5mbmFtZSA9IHN1Ym1pdHRlci5mbmFtZTsgc3ViLmxuYW1lID0gc3VibWl0dGVyLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5lbWFpbCA9IHN1Ym1pdHRlci5lbWFpbDsgc3ViLnBob25lID0gc3VibWl0dGVyLnBob25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5hZ2VuY3luYW1lID0gc3VibWl0dGVyQWdlbmN5LmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5hZ2VuY3lhZGQgPSBzdWJtaXR0ZXJBZ2VuY3kuY2l0eSArIFwiIFwiICsgc3VibWl0dGVyQWdlbmN5LnN0YXRlICsgXCIgXCIgKyBzdWJtaXR0ZXJBZ2VuY3kuemlwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5zdWJtaXR0ZXIgPSBzdWI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmRlcEMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJEZXBsb3llZCBTdGFmZlwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuZ2VuQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIkdlbmVyYWxcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmlubEMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJJbmxhbmQgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmNvYXN0QyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIkNvYXN0YWwgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLndhdGVyQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIldhdGVyIFF1YWxpdHlcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydE1vZGVsLnB1c2gocmVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yIGxvb3AgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHNob3dNb2RhbCgpOyB9LCAzMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBzZW5kIGl0IGFsbCB0byB0aGUgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQ29udGFjdE1ldHJpY3NTdW1tYXJ5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVzZVJlcG9ydHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnJlcG9ydE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNFdmVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnQgPSAkc2NvcGUuRXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50VHlwZSA9ICRzY29wZS5ldmVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZXQpIHsgcmV0dXJuIGV0LmV2ZW50X3R5cGVfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFN0YXQgPSAkc2NvcGUuZXZlbnRTdGF0cy5maWx0ZXIoZnVuY3Rpb24gKGVzKSB7IHJldHVybiBlcy5ldmVudF9zdGF0dXNfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMy4gZXZlbnQgQ29vcmRpbmF0b3IgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZEFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5HZW5SZXBFdmVudE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckaHR0cCcsICckdWliTW9kYWxJbnN0YW5jZScsICd0aGVzZVJlcG9ydHMnLCAndGhpc0V2ZW50JywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCB0aGVzZVJlcG9ydHMsIHRoaXNFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJlcG9ydHMgPSB0aGVzZVJlcG9ydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnQgPSB0aGlzRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07IC8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgaWYgdmFsaWRcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jbGlja2VkIGdlbmVyYXRlIGNzdlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldENTVmZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgcmVwb3J0cyBhbmQgZ2l2ZSBhIGNzdiBmaWxlIGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ3RleHQvY3N2JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldFJlcG9ydHNDU1YoeyBFdmVudDogJHNjb3BlLmdlblN1bW1hcnkuZXZlbnRfaWQsIFN0YXRlczogJHNjb3BlLlN0YXRlQWJicmV2cywgRGF0ZTogJHNjb3BlLmdlblN1bW1hcnkuc3VtX2RhdGUgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gYW5ndWxhci5lbGVtZW50KCc8YS8+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgam9pbmVkUmVzcG9uc2UgPSByZXN1bHQuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gbmV3IEJsb2IoW2pvaW5lZFJlc3BvbnNlXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vY3N2JyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvci5ocmVmID0gZmlsZVVSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvci5kb3dubG9hZCA9ICdyZXBvcnQuY3N2JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvci5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ZpbGUuc2F2ZUFzKGJsb2IsIFwicmVwb3J0LmNzdlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjc3Y6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjc3Y6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTsvLyNlbmRyZWdpb24gR2VuZXJhdGUgUmVwb3J0IHRhYlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcbi8vI3JlZ2lvbiBSZXBvcnRpbmcgQ29udHJvbGxlclxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcigncmVwb3J0aW5nQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICdtZW1iZXJSZXBvcnRzJywgJ2FsbEV2ZW50cycsICdhbGxTdGF0ZXMnLCAnYWxsUmVwb3J0cycsICdhbGxFdmVudFR5cGVzJywgJ2FsbEV2ZW50U3RhdHVzJywgJ2FsbEFnZW5jaWVzJywgJ1NFUlZFUl9VUkwnLCAnUkVQT1JUJywgJ01FTUJFUicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICR1aWJNb2RhbCwgbWVtYmVyUmVwb3J0cywgYWxsRXZlbnRzLCBhbGxTdGF0ZXMsIGFsbFJlcG9ydHMsIGFsbEV2ZW50VHlwZXMsIGFsbEV2ZW50U3RhdHVzLCBhbGxBZ2VuY2llcywgU0VSVkVSX1VSTCwgUkVQT1JULCBNRU1CRVIpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudGhpc1BhZ2UgPSBcIlJlcG9ydGluZ1wiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJyZXBvcnRcIjsgXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gY2hhbmdpbmcgdGFicyBoYW5kbGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1Jc1BvcHVsYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZnJvbVN0YXRlLnVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcvU3VibWl0UmVwb3J0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtSXNQb3B1bGF0ZWQgPSAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LiRkaXJ0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtSXNQb3B1bGF0ZWQgPSAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LmV2ZW50X2lkLiR2aWV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBmb3JtSXNQb3B1bGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1Jc1BvcHVsYXRlZCkgeyAvL2lzIGRpcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b1N0YXRlLm5hbWU6ICcgKyB0b1N0YXRlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZnJvbVN0YXRlLm5hbWU6ICcgKyBmcm9tU3RhdGUubmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGUgU3VibWl0IFJlcG9ydCBUYWI/IEFueSB1bnNhdmVkIGluZm9ybWF0aW9uIHdpbGwgYmUgbG9zdC5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnbyB0bzogJyArIHRvU3RhdGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3RheSBhdCBzdGF0ZTogJyArIGZyb21TdGF0ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLiRhcHBseSgpOy8vIGxvYWRpbmcuLi8vJChcIi5wYWdlLWxvYWRpbmdcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ldmVudC5zdG9wUHJvcGFnYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBjaGFuZ2luZyB0YWJzIGhhbmRsZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb3JtYXQgdGhlIGRhdGUgbW0vZGQveXl5eVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdERhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RHQgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW0gPSBjdXJyZW50RHQuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgbW0gPSAobW0gPCAxMCkgPyAnMCcgKyBtbSA6IG1tO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZCA9IGN1cnJlbnREdC5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHl5eXkgPSBjdXJyZW50RHQuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG1tICsgJy8nICsgZGQgKyAnLycgKyB5eXl5O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZ2xvYmFsIHZhcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0ID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95U3RhZmYgPSB7fTsgJHNjb3BlLkdlblN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuSW5sYW5kU3RhZmYgPSB7fTsgJHNjb3BlLkNvYXN0U3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5XYXRlclN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5lZWRUb0NvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVySW5jb21wbGV0ZXMgPSBtZW1iZXJSZXBvcnRzLmZpbHRlcihmdW5jdGlvbiAoaXIpIHsgcmV0dXJuIGlyLmNvbXBsZXRlID09PSAwOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSBhbGxFdmVudHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gYWxsU3RhdGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSBhbGxSZXBvcnRzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiAkY29va2llcy5nZXQoJ21JRCcpIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyQWdlbmN5ID0gYWxsQWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4uYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4uYWdlbmN5X25hbWUgPSBtZW1iZXJBZ2VuY3kuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1lbWJlckxvZ2dlZEluLmFnZW5jeV9hZGRyZXNzID0gbWVtYmVyQWdlbmN5LmFkZHJlc3MgKyBcIiwgXCIgKyBtZW1iZXJBZ2VuY3kuY2l0eSArIFwiIFwiICsgbWVtYmVyQWdlbmN5LnN0YXRlICsgXCIgXCIgKyBtZW1iZXJBZ2VuY3kuemlwO1xyXG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVycyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlcyA9IGFsbEV2ZW50VHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0cyA9IGFsbEV2ZW50U3RhdHVzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBnbG9iYWwgdmFyc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBHZW5lcmF0ZSBSZXBvcnQgdGFiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU3RhdGVtb2RlbCA9IHt9Oy8vYmluZGluZyB0byB0aGUgc3RhdGUgbXVsdGktc2VsZWN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2VuU3VtbWFyeSA9IHt9Oy8vYmluZGluZyBmb3IgdGhlIGV2ZW50IGNob3NlbiwgYW5kIGRhdGUgY2hvc2VuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWRSZXBvcnRzID0gW107IC8vcmVzdWx0IG9mIGZpbHRlciBvcHRpb25zXHJcblxyXG4gICAgICAgICAgICAgICAgLy9lYWNoIG9wdGlvbiB0aGUgcG9wdWxhdGUsIG5lZWQgdG8gc2hvdyBzZWxlY3Rpb24gaW4gJ0NvbmZpcm0gU2VsZWN0aW9ucycgc2VjdGlvbiAoZGF0ZSB3b3JrcylcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZW5SZXBDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5nZW5TdW1tYXJ5LmV2ZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZSwgZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2goc3RhdGUuc3RhdGVfbmFtZSk7IGFiYnJldnMucHVzaChzdGF0ZS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU3RhdGVOYW1lcyA9IG5hbWVzLmpvaW4oJywnKTsgJHNjb3BlLlN0YXRlQWJicmV2cyA9IGFiYnJldnMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsID0gW107IC8vaG9sZCBhbGwgcmVwb3J0TW9kZWxzIGZvciAnRGlzcGxheSBNZXRyaWNzIFN1bW1hcnknXHJcbiAgICAgICAgICAgICAgICAvL2NsaWNrZWQgRGlzcGxheSBNZXRyaWNzIFN1bW1hcnksIHNob3cgY29udGVudCBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzcGxheU1ldHJpY1N1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyNyZWdpb24gc2NvcGVzIG5lZWRlZCBmb3IgdGhpcyBhY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cgPSB7fTsgLy9tb2RlbCB0byBob2xkIHRvdGFscyBmb3IgdGFibGVzIGxhc3Qgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5ub3RBY2N0Rm9yRW1wcyA9IDA7ICRzY29wZS50b3RhbFJvdy5jdW1QRmllbGQgPSAwOyAkc2NvcGUudG90YWxSb3cueWVzUEZpZWxkID0gMDsgJHNjb3BlLnRvdGFsUm93LnRvZFBGaWVsZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QRmllbGQgPSAwOyAkc2NvcGUudG90YWxSb3cuY3VtUE9mZmljZSA9IDA7ICRzY29wZS50b3RhbFJvdy55ZXNQT2ZmaWNlID0gMDsgJHNjb3BlLnRvdGFsUm93LnRvZFBPZmZpY2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUE9mZmljZSA9IDA7ICRzY29wZS50b3RhbFJvdy50cnVjayA9IDA7ICRzY29wZS50b3RhbFJvdy5ib2F0ID0gMDsgJHNjb3BlLnRvdGFsUm93Lm90aGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5nYWdlVmlzaXRzID0gMDsgJHNjb3BlLnRvdGFsUm93LmdhZ2VzRG93biA9IDA7ICRzY29wZS50b3RhbFJvdy5kaXNDdG9EYXRlID0gMDsgJHNjb3BlLnRvdGFsUm93LmRpc0NQbGFubmVkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LkNoZWNrTWVhc1RvRGF0ZSA9IDA7ICRzY29wZS50b3RhbFJvdy5DaGVja01lYXNQbGFubmVkID0gMDsgJHNjb3BlLnRvdGFsUm93LmluZE1lYXMgPSAwOyAkc2NvcGUudG90YWxSb3cucmF0RXh0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnBlYWtzT2ZSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cuUVdHYWdlVmlzID0gMDsgJHNjb3BlLnRvdGFsUm93LmNvbnRRV0dhZ2VWaXMgPSAwOyAkc2NvcGUudG90YWxSb3cuY29udFFXR2FnZURvd24gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZGlzUVdTYW1wbGVzID0gMDsgJHNjb3BlLnRvdGFsUm93LnNlZFNhbXBsZXMgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnJkZ1BsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cucmRnRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LnJkZ1JlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5yZGdMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdGVyUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy53YXRlckRlcCA9IDA7ICRzY29wZS50b3RhbFJvdy53YXRlclJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy53YXRlckxvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F2ZVBsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cud2F2ZURlcCA9IDA7ICRzY29wZS50b3RhbFJvdy53YXZlUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdmVMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmJhcm9QbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LmJhcm9EZXAgPSAwOyAkc2NvcGUudG90YWxSb3cuYmFyb1JlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5iYXJvTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5tZXRQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93Lm1ldERlcCA9IDA7ICRzY29wZS50b3RhbFJvdy5tZXRSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cubWV0TG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5od21GbGFnID0gMDsgJHNjb3BlLnRvdGFsUm93Lmh3bUNvbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBzY29wZXMgbmVlZGVkIGZvciB0aGlzIGFjdGlvblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgbWV0cmljcyBzdW1tYXJ5IHRvIHNob3cgaW4gbmV3IHRhYiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZSwgZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyZXZzLnB1c2goc3RhdGUuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZTdHJpbmcgPSBhYmJyZXZzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEYXRlID0gJHNjb3BlLmZvcm1hdERhdGUoJHNjb3BlLmdlblN1bW1hcnkuc3VtX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQ6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLzEuIGFsbCByZXBvcnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXRGaWx0ZXJlZFJlcG9ydHMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfaWQsIFN0YXRlczogYWJicmV2U3RyaW5nLCBEYXRlOiB0aGlzRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggcmVwb3J0LCBnZXQgYWxsIHJlcG9ydHMgd2l0aCB0aGF0IGV2ZW50IGFuZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByZXN1bHQubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1JQTW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUlBNb2RlbC5yZXBvcnQgPSByZXN1bHRbeF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHRvdGFscyBmb3IgdG90YWwgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm5vdEFjY3RGb3JFbXBzICs9ICh0aGlzUlBNb2RlbC5yZXBvcnQuc3dfZmllbGRwZXJzX25vdGFjY3QgKyB0aGlzUlBNb2RlbC5yZXBvcnQud3FfZmllbGRwZXJzX25vdGFjY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5jdW1QRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3RfZmllbGRwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9maWVsZHBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG13X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cueWVzUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9kUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50b2RfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRtd19maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmN1bVBPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3Rfb2ZmaWNlcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50b2Rfb2ZmaWNlcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cueWVzUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b2RQT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50b2Rfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG13X29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZ2FnZVZpc2l0cyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZ2FnZV92aXNpdDsgJHNjb3BlLnRvdGFsUm93LmdhZ2VzRG93biArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZ2FnZV9kb3duO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5kaXNDdG9EYXRlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50b3RfZGlzY2hhcmdlX21lYXM7ICRzY29wZS50b3RhbFJvdy5kaXNDUGxhbm5lZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9kaXNjaGFyZ2VfbWVhczsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmluZE1lYXMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5faW5kaXJlY3RfbWVhczsgJHNjb3BlLnRvdGFsUm93LnJhdEV4dCArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmF0aW5nX2V4dGVucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucGVha3NPZlJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZ2FnZV9wZWFrX3JlY29yZDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmRpc1FXU2FtcGxlcyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucXdfZGlzY3Jfc2FtcGxlczsgJHNjb3BlLnRvdGFsUm93LnNlZFNhbXBsZXMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmNvbGxfc2Vkc2FtcGxlcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnJkZ1BsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fcmFwZGVwbF9nYWdlOyAkc2NvcGUudG90YWxSb3cucmRnRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5yZGdSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY19yYXBkZXBsX2dhZ2U7ICRzY29wZS50b3RhbFJvdy5yZGdMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F0ZXJQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX3d0cmxldl9zZW5zb3I7ICRzY29wZS50b3RhbFJvdy53YXRlckRlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdGVyUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfd3RybGV2X3NlbnNvcjsgJHNjb3BlLnRvdGFsUm93LndhdGVyTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF93dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXZlUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl93dl9zZW5zOyAkc2NvcGUudG90YWxSb3cud2F2ZURlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdmVSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY193dl9zZW5zOyAkc2NvcGUudG90YWxSb3cud2F2ZUxvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3Rfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuYmFyb1BsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fYmFyb21ldHJpYzsgJHNjb3BlLnRvdGFsUm93LmJhcm9EZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF9iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5iYXJvUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfYmFyb21ldHJpYzsgJHNjb3BlLnRvdGFsUm93LmJhcm9Mb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm1ldFBsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fbWV0ZW9yb2xvZ2ljYWw7ICRzY29wZS50b3RhbFJvdy5tZXREZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF9tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubWV0UmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfbWV0ZW9yb2xvZ2ljYWw7ICRzY29wZS50b3RhbFJvdy5tZXRMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5od21GbGFnICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5od21fZmxhZ2dlZDsgJHNjb3BlLnRvdGFsUm93Lmh3bUNvbCA9IHRoaXNSUE1vZGVsLnJlcG9ydC5od21fY29sbGVjdGVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsLnB1c2godGhpc1JQTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGZvcmxvb3AgZm9yIFJlcG9ydE1vZGVsTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8yLiB0aGlzIEV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnQgPSAkc2NvcGUuRXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRUeXBlID0gJHNjb3BlLmV2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChldCkgeyByZXR1cm4gZXQuZXZlbnRfdHlwZV9pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRTdGF0ID0gJHNjb3BlLmV2ZW50U3RhdHMuZmlsdGVyKGZ1bmN0aW9uIChlcykgeyByZXR1cm4gZXMuZXZlbnRfc3RhdHVzX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfc3RhdHVzX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMy4gZXZlbnQgQ29vcmRpbmF0b3IgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50LmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IuYWdlbmN5X2lkOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ01ldHJpY3NTdW1tYXJ5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNSZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRXZlbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlVG90YWxSb3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUudG90YWxSb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoaXNSZXBvcnQnLCAndGhpc0V2ZW50JywgJ3RoZVRvdGFsUm93JywgIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCB0aGlzUmVwb3J0LCB0aGlzRXZlbnQsIHRoZVRvdGFsUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXBvcnQgPSB0aGlzUmVwb3J0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnQgPSB0aGlzRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbHMgPSB0aGVUb3RhbFJvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90aGluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB2YWxpZCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jbGlja2VkIERpc3BsYXkgQ29udGFjdHMgU3VtbWFyeSwgc2hvdyBjb250ZW50IGluIG5ldyB0YWJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNwbGF5Q29udGFjdHNTdW0gPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgbWV0cmljcyBzdW1tYXJ5IHRvIHNob3cgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnRhaW5zIHRoZSBzdGF0ZXMgY2hvc2VuICAgICAkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZXZlbnQgY2hvc2VuICAgICRzY29wZS5FdmVudE5hbWVbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZSwgZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyZXZzLnB1c2goc3RhdGUuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZTdHJpbmcgPSBhYmJyZXZzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEYXRlID0gJHNjb3BlLmZvcm1hdERhdGUoJHNjb3BlLmdlblN1bW1hcnkuc3VtX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0TW9kZWwgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGwgZmlsdGVyZWQgcmVwb3J0cyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXRSZXBvcnR3aXRoQ29udGFjdHMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfaWQsIFN0YXRlczogYWJicmV2U3RyaW5nLCBEYXRlOiB0aGlzRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vcCB0aHJvdWdoIHJlcG9ydHMgYW5kIGdldCBlYWNoJ3MgY29udGFjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcmVzdWx0Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5yZXBJRCA9IHJlc3VsdFt4XS5yZXBvcnRpbmdfbWV0cmljc19pZDsgcmVwLlN0YXRlID0gcmVzdWx0W3hdLnN0YXRlOyByZXAucmVwb3J0X2RhdGUgPSByZXN1bHRbeF0ucmVwb3J0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pdHRlciA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gcmVzdWx0W3hdLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pdHRlckFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHN1Ym1pdHRlci5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuZm5hbWUgPSBzdWJtaXR0ZXIuZm5hbWU7IHN1Yi5sbmFtZSA9IHN1Ym1pdHRlci5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuZW1haWwgPSBzdWJtaXR0ZXIuZW1haWw7IHN1Yi5waG9uZSA9IHN1Ym1pdHRlci5waG9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuYWdlbmN5bmFtZSA9IHN1Ym1pdHRlckFnZW5jeS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuYWdlbmN5YWRkID0gc3VibWl0dGVyQWdlbmN5LmNpdHkgKyBcIiBcIiArIHN1Ym1pdHRlckFnZW5jeS5zdGF0ZSArIFwiIFwiICsgc3VibWl0dGVyQWdlbmN5LnppcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuc3VibWl0dGVyID0gc3ViO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5kZXBDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiRGVwbG95ZWQgU3RhZmZcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmdlbkMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJHZW5lcmFsXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5pbmxDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiSW5sYW5kIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5jb2FzdEMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJDb2FzdGFsIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC53YXRlckMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJXYXRlciBRdWFsaXR5XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRNb2RlbC5wdXNoKHJlcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGZvciBsb29wIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBzaG93TW9kYWwoKTsgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgc2VuZCBpdCBhbGwgdG8gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0NvbnRhY3RNZXRyaWNzU3VtbWFyeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlc2VSZXBvcnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5yZXBvcnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRXZlbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50ID0gJHNjb3BlLkV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGV0KSB7IHJldHVybiBldC5ldmVudF90eXBlX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfdHlwZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRTdGF0ID0gJHNjb3BlLmV2ZW50U3RhdHMuZmlsdGVyKGZ1bmN0aW9uIChlcykgeyByZXR1cm4gZXMuZXZlbnRfc3RhdHVzX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfc3RhdHVzX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzMuIGV2ZW50IENvb3JkaW5hdG9yIGluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvciA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvci5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAndGhlc2VSZXBvcnRzJywgJ3RoaXNFdmVudCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkdWliTW9kYWxJbnN0YW5jZSwgdGhlc2VSZXBvcnRzLCB0aGlzRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXBvcnRzID0gdGhlc2VSZXBvcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBpZiB2YWxpZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NsaWNrZWQgZ2VuZXJhdGUgY3N2XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0Q1NWZmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCByZXBvcnRzIGFuZCBnaXZlIGEgY3N2IGZpbGUgYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAndGV4dC9jc3YnO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldFJlcG9ydHNDU1YoeyBFdmVudDogJHNjb3BlLmdlblN1bW1hcnkuZXZlbnRfaWQsIFN0YXRlczogJHNjb3BlLlN0YXRlQWJicmV2cywgRGF0ZTogJHNjb3BlLmdlblN1bW1hcnkuc3VtX2RhdGUgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gYW5ndWxhci5lbGVtZW50KCc8YS8+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgam9pbmVkUmVzcG9uc2UgPSByZXN1bHQuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gbmV3IEJsb2IoW2pvaW5lZFJlc3BvbnNlXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vY3N2JyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvci5ocmVmID0gZmlsZVVSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvci5kb3dubG9hZCA9ICdyZXBvcnQuY3N2JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvci5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0ZpbGUuc2F2ZUFzKGJsb2IsIFwicmVwb3J0LmNzdlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07Ly8jZW5kcmVnaW9uIEdlbmVyYXRlIFJlcG9ydCB0YWJcclxuICAgICAgICAgICAgfVxyXG4gICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdQcm9qQWxlcnRNb2RhbEN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdQcm9qQWxlcnQnLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgUHJvakFsZXJ0KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5Qcm9qQWxlcnRQYXJ0cyA9IFByb2pBbGVydDtcclxuICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuLy9wb3B1cCBjb25maXJtIGJveFxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdjb25maXJtUmVwb3J0TW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignbWVtYmVyTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckdWliTW9kYWwnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJGZpbHRlcicsICckc2NlJywgJ3JvbGVMaXN0JywgJ2FnZW5jeUxpc3QnLCAndGhpc01lbWJlcicsICdNRU1CRVInLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgJGZpbHRlciwgJHNjZSwgcm9sZUxpc3QsIGFnZW5jeUxpc3QsIHRoaXNNZW1iZXIsIE1FTUJFUikge1xyXG4gICAgICAgICAgICAvL2FsbCB0aGluZ3MgYm90aCBuZXcgYW5kIGV4aXN0aW5nIG1lbWJlciBwYWdlIHdpbGwgbmVlZFxyXG4gICAgICAgICAgICAkc2NvcGUuYU1lbWJlciA9IHt9OyAvL2hvbGRlciBmb3IgbWVtYmVyIChlaXRoZXIgY29taW5nIGluIGZvciBlZGl0LCBvciBiZWluZyBjcmVhdGVkIGZvciBwb3N0XHJcbiAgICAgICAgICAgICRzY29wZS5tYXRjaGluZ1VzZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lVG9vbHRpcCA9ICRzY2UudHJ1c3RBc0h0bWwoJ0FjdGl2ZSBEaXJlY3RvcnkgdXNlciBJRC4gaWU6IFxcJ21wZXBwbGVyXFwnIG5vdCBcXCdtcGVwcGxlckB1c2dzLmdvdlxcJy4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLmFnZW5jeUxpc3QgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUucGFzcyA9IHtcclxuICAgICAgICAgICAgICAgIG5ld1A6ICcnLFxyXG4gICAgICAgICAgICAgICAgY29uZmlybVA6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5uZXdQYXNzID0gXCJcIjtcclxuICAgICAgICAgICAgLy9wb3B1bGF0ZSByb2xlcyBiYXNlZCBvbiB3aG8ncyBsb2dnZWQgaW5cclxuICAgICAgICAgICAgJHNjb3BlLmxvZ2dlZEluVXNlciA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Vc2VyLk5hbWUgPSAkY29va2llcy5nZXQoJ3VzZXJzTmFtZScpOyAvL1VzZXIncyBOQU1FXHJcbiAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblVzZXIuSUQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Vc2VyLlJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG5cclxuICAgICAgICAgICAgLy9wb3B1bGF0ZSByb2xlIGxpc3QgYmFzZWQgb24gd2hvJ3MgbG9nZ2VkIGluIChhZG1pbiBjYW4gYXNzaWduIG1hbmFnZXIgb3IgZmllbGQsIG1hbmFnZXIgY2FuIG9ubHkgYXNzaWduIGZpZWxkXHJcbiAgICAgICAgICAgIHN3aXRjaCAoJHNjb3BlLmxvZ2dlZEluVXNlci5Sb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBZG1pbic6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJvbGVMaXN0ID0gcm9sZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPD0gMzsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNYW5hZ2VyJzpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucm9sZUxpc3QgPSByb2xlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIucm9sZV9pZCA9PSAzOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2lzIHRoaXMgY3JlYXRpbmcgbmV3IG1lbWJlciBvciBlZGl0aW5nIGV4aXN0aW5nP1xyXG4gICAgICAgICAgICBpZiAodGhpc01lbWJlciAhPSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgdG8gc2VlIGlmIHRoZSBhY2N0IFVzZXIgaXMgdGhlIHNhbWUgYXMgdGhlIHVzZXIgdGhleSBhcmUgbG9va2luZyBhdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hdGNoaW5nVXNlcnMgPSB0aGlzTWVtYmVyLm1lbWJlcl9pZCA9PSAkc2NvcGUubG9nZ2VkSW5Vc2VyLklEID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0gYW5ndWxhci5jb3B5KHRoaXNNZW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIuUm9sZSA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09ICRzY29wZS5hTWVtYmVyLnJvbGVfaWQ7IH0pWzBdLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL3Bhc3N3b3JkIHVwZGF0ZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlTXlQYXNzQnRuID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID09PSBmYWxzZSA/ICRzY29wZS5jaGFuZ2VQYXNzID0gdHJ1ZSA6ICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRG9udENoYW5nZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZXZlcm1pbmQsICBjbGVhciBpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IC8vZW5kIGV4aXN0aW5nIG1tZWJlciBlZGl0XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9uZXcgbWVtYmVyIGJlaW5nIGNyZWF0ZWQuLiBcclxuICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0ge307XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG9ubHkgMSBpbiB0aGUgcm9sZUxpc3QsIHRoZW4gdGhpcyBtZW1iZXIgaXMgYSBmaWVsZCBwZXJzb25cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucm9sZUxpc3QubGVuZ3RoID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIucm9sZV9pZCA9ICRzY29wZS5yb2xlTGlzdFswXS5yb2xlX2lkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyLnBhc3N3b3JkID0gYnRvYSgkc2NvcGUucGFzcy5jb25maXJtUCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRNZW1iZXIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBNRU1CRVIuc2F2ZSgkc2NvcGUuYU1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1lbWJlciBDcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggdGhpcyBuZXcgbWVtYmVyIGludG8gdGhlIG1lbWJlckxpc3QgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE1lbWJlciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWcgPSAkc2NvcGUuYWdlbmN5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHJlc3BvbnNlLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IHJlc3BvbnNlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkTWVtYmVyLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkTWVtYmVyLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLm1lbWJlckxpc3QucHVzaChubSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZE1lbWJlciwgJ2NyZWF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9OyAvLyBlbmQgY3JlYXRlKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRNZW1iZXIgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFNZW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgcGFzcyBhbG9uZyB0aGUgcGFzc3dvcmQgaWYgdGhleSBjaGFuZ2VkIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXNzLm5ld1AgIT09IFwiXCIpIGZvcm1hdHRlZE1lbWJlci5wYXNzd29yZCA9IGJ0b2EoJHNjb3BlLnBhc3MubmV3UCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZm9ybWF0dGVkTWVtYmVyLnBhc3N3b3JkOyBkZWxldGUgZm9ybWF0dGVkTWVtYmVyLnNhbHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkTWVtYmVyID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIERhdGUucHJvdG90eXBlLmFkZEhvdXJzID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRIb3Vycyh0aGlzLmdldEhvdXJzKCkgKyBoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZm9ybWF0dGVkTWVtYmVyLlJvbGU7IGRlbGV0ZSBmb3JtYXR0ZWRNZW1iZXIuQWdlbmN5O1xyXG4gICAgICAgICAgICAgICAgICAgIE1FTUJFUi51cGRhdGUoeyBpZDogZm9ybWF0dGVkTWVtYmVyLm1lbWJlcl9pZCB9LCBmb3JtYXR0ZWRNZW1iZXIsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZE1lbWJlciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWcgPSAkc2NvcGUuYWdlbmN5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHJlc3BvbnNlLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IHJlc3BvbnNlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkTWVtYmVyLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkTWVtYmVyLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIHRoaXMgaXMgdGhlIG1lbWJlciBsb2dnZWQgaW4gYW5kIHRoZXkgY2hhbmdlZCB0aGVpciBwYXNzd29yZCBhbmQgdXBkYXRlIHRoZSBjb29raWVzIGlmIHNvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubG9nZ2VkSW5Vc2VyLklEID09IHJlc3BvbnNlLm1lbWJlcl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXNzLm5ld1AgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGV5IGNoYW5nZWQgdGhlaXIgcGFzc3dvcmQgLy8gbm8gd2F5IHRvIGRvIHRoaXMgaWYgdGhleSBvbmx5IGNoYW5nZSB0aGVpciB1c2VybmFtZSBhbmQgbm90IHRoZWlyIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuYyA9IGJ0b2EodXBkYXRlZE1lbWJlci51c2VybmFtZS5jb25jYXQoXCI6XCIsICRzY29wZS5wYXNzLm5ld1ApKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZURhdGUgPSBuZXcgRGF0ZSgpLmFkZEhvdXJzKDgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnU1ROQ3JlZHMnLCBlbmMsIHsgZXhwaXJlczogZXhwaXJlRGF0ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5Vc2VybmFtZScsIHVwZGF0ZWRNZW1iZXIudXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzTkFNRSA9IHVwZGF0ZWRNZW1iZXIuZm5hbWUgKyBcIiBcIiArIHVwZGF0ZWRNZW1iZXIubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ3VzZXJzTmFtZScsIHVzZXJzTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNZW1iZXIgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3VwZGF0ZWRNZW1iZXIsICd1cGRhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCByZXF1aXJlZCBmaWVsZHMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgU2F2ZVxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIERFTEVURSBNZW1iZXIgY2xpY2tcclxuICAgICAgICAgICAgJHNjb3BlLkRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uIChtZW0pIHtcclxuICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk1lbWJlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChtZW1Ub1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBNRU1CRVIuZGVsZXRlTWVtYmVyKHsgaWQ6IG1lbVRvUmVtb3ZlLm1lbWJlcl9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIERlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShbXCJkZVwiLCAnZGVsZXRlZCddKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERFTEVURSBNZW1iZXIgY2xpY2tcclxuICAgICAgICAgICAgLy9jYW5jZWwgbW9kYWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgfV0pO1xyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignbWVtYmVySW5mb0N0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRzdGF0ZVBhcmFtcycsICckZmlsdGVyJywgJyRzY2UnLCAnYWxsUm9sZXMnLCAnTUVNQkVSJywgJ3RoaXNNZW1iZXInLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJHVpYk1vZGFsLCAkc3RhdGVQYXJhbXMsICRmaWx0ZXIsICRzY2UsIGFsbFJvbGVzLCBNRU1CRVIsIHRoaXNNZW1iZXIpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vYWxsIHRoaW5ncyBib3RoIG5ldyBhbmQgZXhpc3RpbmcgbWVtYmVyIHBhZ2Ugd2lsbCBuZWVkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlciA9IHt9OyAvL2hvbGRlciBmb3IgbWVtYmVyIChlaXRoZXIgY29taW5nIGluIGZvciBlZGl0LCBvciBiZWluZyBjcmVhdGVkIGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWF0Y2hpbmdVc2VycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcm5hbWVUb29sdGlwID0gJHNjZS50cnVzdEFzSHRtbCgnQWN0aXZlIERpcmVjdG9yeSB1c2VyIElELiBpZTogXFwnbXBlcHBsZXJcXCcgbm90IFxcJ21wZXBwbGVyQHVzZ3MuZ292XFwnLicpO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERFTEVURSBNZW1iZXIgY2xpY2tcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZWxldGVNZW1iZXIgPSBmdW5jdGlvbiAobWVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk1lbWJlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAobmFtZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIuZGVsZXRlTWVtYmVyKHsgaWQ6IG5hbWVUb1JlbW92ZS5tZW1iZXJfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbE1lbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsTWVtLm1lbWJlcl9pZCA9IG5hbWVUb1JlbW92ZS5tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxNZW0uTmFtZSA9IG5hbWVUb1JlbW92ZS5mbmFtZSArIFwiIFwiICsgbmFtZVRvUmVtb3ZlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFnID0gJHNjb3BlLmFnZW5jeUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSBuYW1lVG9SZW1vdmUuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IGFsbFJvbGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IG5hbWVUb1JlbW92ZS5yb2xlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbE1lbS5BZ2VuY3kgPSBhZy5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbE1lbS5Sb2xlID0gcm8ucm9sZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3Quc3BsaWNlKCRzY29wZS5tZW1iZXJMaXN0LmluZGV4T2YoZGVsTWVtKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1lbWJlciBEZWxldGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvTWVtYmVycy9NZW1iZXJzTGlzdCcpLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gREVMRVRFIE1lbWJlciBjbGlja1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5wYXNzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1A6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1QOiAnJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdQYXNzID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lzIHRoaXMgY3JlYXRpbmcgbmV3IG1lbWJlciBvciBlZGl0aW5nIGV4aXN0aW5nP1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNNZW1iZXIgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRvIHNlZSBpZiB0aGUgYWNjdCBVc2VyIGlzIHRoZSBzYW1lIGFzIHRoZSB1c2VyIHRoZXkgYXJlIGxvb2tpbmcgYXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWF0Y2hpbmdVc2VycyA9ICRzdGF0ZVBhcmFtcy5pZCA9PSAkc2NvcGUubG9nZ2VkSW5Vc2VyLklEID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlciA9IHRoaXNNZW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIuUm9sZSA9IGFsbFJvbGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09ICRzY29wZS5hTWVtYmVyLnJvbGVfaWQ7IH0pWzBdLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlUGFzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZSB0byB0aGUgdXNlciBtYWRlLCBwdXQgaXQgLi4gZmlyZWQgb24gZWFjaCBibHVyIGFmdGVyIGNoYW5nZSBtYWRlIHRvIGZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNhdmVPbkJsdXIgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgdGhleSBkb24ndCBkZWxldGUgcmVxdWlyZWQgZmllbGQgdmFsdWVzICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIudXBkYXRlKHsgaWQ6ICRzY29wZS5hTWVtYmVyLm1lbWJlcl9pZCB9LCAkc2NvcGUuYU1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgcmVxdWlyZWQgZmllbGRzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6Wyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTsvL2VuZCBTYXZlT25CbHVyXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vcGFzc3dvcmQgdXBkYXRlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlTXlQYXNzQnRuID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlUGFzcyA9PT0gZmFsc2UgPyAkc2NvcGUuY2hhbmdlUGFzcyA9IHRydWUgOiAkc2NvcGUuY2hhbmdlUGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaGFuZ2VQYXNzd29yZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGFuZ2UgVXNlcidzIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFzcy5uZXdQID09PSBcIlwiIHx8ICRzY29wZS5wYXNzLmNvbmZpcm1QID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgZmlyc3QgZW50ZXIgYSBuZXcgcGFzc3dvcmQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjpbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIuY2hhbmdlUFcoeyB1c2VybmFtZTogJHNjb3BlLmFNZW1iZXIudXNlcm5hbWUsIG5ld1Bhc3M6ICRzY29wZS5wYXNzLm5ld1AgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUGFzc3dvcmQgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgY3JlZHMgT05MWSBJRiB1c2VyIGxvZ2dlZCBpbiBpcyA9PSB0aGlzIHVwZGF0aW5nIG1lbWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFNZW1iZXIubWVtYmVyX2lkID09ICRzY29wZS5sb2dnZWRJblVzZXIubWVtYmVyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jID0gYnRvYSgkc2NvcGUuYU1lbWJlci51c2VybmFtZS5jb25jYXQoXCI6XCIsICRzY29wZS5wYXNzLm5ld1ApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnU1ROQ3JlZHMnLCBlbmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5Vc2VybmFtZScsICRzY29wZS5hTWVtYmVyLnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgndXNlcnNOYW1lJywgJHNjb3BlLmxvZ2dlZEluVXNlci5OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnbUlEJywgJHNjb3BlLmFNZW1iZXIubWVtYmVyX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb2xlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHNjb3BlLmFNZW1iZXIucm9sZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkFkbWluXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIk1hbmFnZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiRmllbGRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiUHVibGljXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJDaXRpemVuTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgndXNlcnNSb2xlJywgcm9sZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXNzLm5ld1AgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhc3MuY29uZmlybVAgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTsgLy9lbmQgQ2hhbmdlUGFzc3dvcmQoKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRG9udENoYW5nZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXJtaW5kLCAgY2xlYXIgaW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBvZiAkc3RhdGVQYXJhbXMgPiAwIChleGlzdGluZylcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIG5ldyBtZW1iZXIgYmVpbmcgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5hZGRNZW1iZXIoeyBwYXNzOiAkc2NvcGUucGFzcy5jb25maXJtUCB9LCAkc2NvcGUuYU1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIENyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHRoaXMgbmV3IG1lbWJlciBpbnRvIHRoZSBtZW1iZXJMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5tID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm0ubWVtYmVyX2lkID0gcmVzcG9uc2UubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5tLk5hbWUgPSByZXNwb25zZS5mbmFtZSArIFwiIFwiICsgcmVzcG9uc2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFnID0gJHNjb3BlLmFnZW5jeUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSByZXNwb25zZS5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IGFsbFJvbGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IHJlc3BvbnNlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5tLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5tLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QucHVzaChubSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL01lbWJlcnMvTWVtYmVyc0xpc3QnKS5yZXBsYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9OyAvLyBlbmQgc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdtZW1iZXJDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnTUVNQkVSJywgJ2FsbFJvbGVzJywgJ2FsbEFnZW5jaWVzJywgJ3VzZXJQcm9maWxlSWQnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkZmlsdGVyLCAkdWliTW9kYWwsIE1FTUJFUiwgYWxsUm9sZXMsIGFsbEFnZW5jaWVzLCB1c2VyUHJvZmlsZUlkKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2FsbCB0aGluZ3MgYm90aCBuZXcgYW5kIGV4aXN0aW5nIG1lbWJlciBwYWdlIHdpbGwgbmVlZFxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2V0dGluZ3MvTWVtYmVyc1wiO1xyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZS92aWV3IG1lbWJlciB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNZW1iZXJNb2RhbCA9IGZ1bmN0aW9uIChtZW1iZXJDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5tZW1iZXJMaXN0LmluZGV4T2YobWVtYmVyQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21lbWJlck1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWVtYmVyTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNNZW1iZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyQ2xpY2tlZCAhPT0gMCA/IG1lbWJlckNsaWNrZWQgOiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxSb2xlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRNZW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhIG5ldyBvcCBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyWzFdID09ICdjcmVhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJMaXN0LnB1c2goY3JlYXRlZE1lbWJlclswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZE1lbWJlclsxXSA9PT0gJ3VwZGF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdFtpbmRleENsaWNrZWRdID0gY3JlYXRlZE1lbWJlclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLm1lbWJlckxpc3QuaW5kZXhPZihjcmVhdGVkTWVtYmVyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdC5zcGxpY2UoaW5kZXhDbGlja2VkLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lMaXN0ID0gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcmVzcG9uc2UubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVhY2hNID0gcmVzcG9uc2VbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZyA9ICRzY29wZS5hZ2VuY3lMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gcmVzcG9uc2VbeF0uYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvID0gYWxsUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gcmVzcG9uc2VbeF0ucm9sZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hNLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoTS5Sb2xlID0gcm8ucm9sZV9uYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QucHVzaChlYWNoTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgc29tZW9uZSBjbGlja2VkIG9uIHRoZWlyIG5hbWUgaW4gdGhlIHVwcGVyIHJpZ2h0IGNvcm5lciwgY29tZSBpbiBhbmQgc3RyYWlnaHQgYXdheSBvcGVuIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJQcm9maWxlSWQgIT09IHVuZGVmaW5lZCAmJiB1c2VyUHJvZmlsZUlkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiB1c2VyUHJvZmlsZUlkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TWVtYmVyTW9kYWwocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcnM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcigncGVha01vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnYWxsVmVydERhdHVtcycsICdhbGxDb2xsZWN0Q29uZGl0aW9ucycsICd0aGlzUGVhaycsICdwZWFrU2l0ZScsICdhbGxNZW1iZXJzJywgJ2FsbEV2ZW50SFdNcycsICdhbGxTaXRlU2Vuc29ycycsICdhbGxTaXRlRmlsZXMnLCAndGhpc1BlYWtERnMnLCAnREFUQV9GSUxFJywgJ1BFQUsnLCAnSFdNJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIGFsbFZlcnREYXR1bXMsIGFsbENvbGxlY3RDb25kaXRpb25zLCB0aGlzUGVhaywgcGVha1NpdGUsIGFsbE1lbWJlcnMsIGFsbEV2ZW50SFdNcywgYWxsU2l0ZVNlbnNvcnMsIGFsbFNpdGVGaWxlcywgdGhpc1BlYWtERnMsIERBVEFfRklMRSwgUEVBSywgSFdNKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUuVkRhdHVtc0xpc3QgPSBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAkc2NvcGUudGhpc1NpdGUgPSBwZWFrU2l0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QgPSBhbGxNZW1iZXJzO1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Sb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgLy9uZWVkIGEgZGF0YWZpbGUgZm9yIHRoaXMga2luZCBvZiBzZW5zb3IsIGNoZWNrIGZpbGVzIGZvciBwcmVzZW5jZSBvZiBkZiB0byBzZXQgZmxhZyBvbiBzZW5zb3JcclxuICAgICAgICAgICAgdmFyIGRldGVybWluZURGUHJlc2VudCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGYubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZlt4XS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hZGQgc2VsZWN0ZWQgcHJvcCBub3cgZm9yIGRhdGEgZmlsZXMvc2Vuc29yIGZpbGVzIGZvciBsYXRlciB1c2VcclxuICAgICAgICAgICAgZm9yICh2YXIgc2YgPSAwOyBzZiA8IGFsbFNpdGVGaWxlcy5sZW5ndGg7IHNmKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhbGxTaXRlRmlsZXNbc2ZdLmZpbGVCZWxvbmdzVG8gPT0gJ0RhdGFGaWxlIEZpbGUnIHx8IGFsbFNpdGVGaWxlc1tzZl0uZmlsZUJlbG9uZ3NUbyA9PSAnU2Vuc29yIEZpbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzW3NmXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byBtYWtlIHN1cmUgdGhlIGluc3RydW1lbnRfc3RhdHVzZXMgYXJlIGluIHRoZSBjb3JyZWN0IG9yZGVyIChbMF1SZXRyaWV2ZWQsIFsxXURlcGxveWVkLCBbMl1Qcm9wb3NlZCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBhbGxTaXRlU2Vuc29ycy5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvcnJlY3RPcmRlclNTID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Vuc29yU3RhdHVzZXMgPSBhbGxTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cztcclxuICAgICAgICAgICAgICAgIGlmIChzZW5zb3JTdGF0dXNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgYWJvdXQgb3JkZXIgaWYgdGhlcmUncyBtb3JlIHRoYW4gMVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJQcm9wb3NlZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95ZWRTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiRGVwbG95ZWRcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldExvc3RTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiUmV0cmlldmVkXCIgfHwgcHMuc3RhdHVzID09IFwiTG9zdFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBhZGQgdGhlbSBiYWNrIGluIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRMb3N0U3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChyZXRMb3N0U3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGxveWVkU3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChkZXBsb3llZFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NlZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocHJvcG9zZWRTdGF0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdE9yZGVyU1MucHVzaChzZW5zb3JTdGF0dXNlc1swXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL25vdyBwdXQgaXQgYmFjayBpbiB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYWxsU2l0ZVNlbnNvcnNbc10uaW5zdHJ1bWVudF9zdGF0dXMgPSBjb3JyZWN0T3JkZXJTUztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZUhXTXMgPSBhbGxFdmVudEhXTXMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLnNpdGVfaWQgPT0gcGVha1NpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZXZlbnRTaXRlSFdNcywgZnVuY3Rpb24gKGVzaCkge1xyXG4gICAgICAgICAgICAgICAgZXNoLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBlc2guZmlsZXMgPSBhbGxTaXRlRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaHdtX2lkID09IGVzaC5od21faWQgJiYgc2YuZmlsZUJlbG9uZ3NUbyA9PSBcIkhXTSBGaWxlXCI7IH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzID0gYWxsU2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTsgfSk7IC8vbWF5YmUgZ28gZnJvbSBoZXJlIHRvIGdldCBhbGwgZGF0YWZpbGVzIGZvciBlYWNoIHNlbnNvclxyXG4gICAgICAgICAgICBmb3IgKHZhciBldlNpdGVTZW4gPSAwOyBldlNpdGVTZW4gPCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycy5sZW5ndGg7IGV2U2l0ZVNlbisrKSB7XHJcbiAgICAgICAgICAgICAgICAvL2FuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycywgZnVuY3Rpb24gKGVzcykge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgZXNzLlNlbnNvcl90eXBlID09IDIsIDUsIG9yIDYgLi4gYW5kIHRoZXJlIGFyZSBubyBmaWxlcy4uIHNob3cgcmVkICEgd2l0aCB0ZXh0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLkNvbGxlY3RDb25kaXRpb24gPSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RfY29sbGVjdGlvbl9pZCAhPT0gbnVsbCAmJiAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RfY29sbGVjdGlvbl9pZCA+IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbENvbGxlY3RDb25kaXRpb25zLmZpbHRlcihmdW5jdGlvbiAoY2MpIHsgcmV0dXJuIGNjLmlkID09ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaW5zdF9jb2xsZWN0aW9uX2lkOyB9KVswXS5jb25kaXRpb24gOlxyXG4gICAgICAgICAgICAgICAgICAgICcnO1xyXG4gICAgICAgICAgICAgICAgLy9zdG9yZSBpZiB0aGlzIGlzIHJldHJpZXZlZCAoaWYgbm90LCBzaG93ICEgZm9yIHRoZW0gdG8gcmV0cmlldmUgaXQgaW4gb3JkZXIgdG8gY29tcGxldGUgdGhlIHBlYWtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaXNSZXRyaWV2ZWQgPSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RydW1lbnRfc3RhdHVzWzBdLnN0YXR1cyA9PSAnUmV0cmlldmVkJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uZmlsZXMgPSBhbGxTaXRlRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaW5zdHJ1bWVudF9pZCA9PSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RydW1lbnRfaWQgJiYgKHNmLmZpbGVCZWxvbmdzVG8gPT0gXCJEYXRhRmlsZSBGaWxlXCIgfHwgc2YuZmlsZUJlbG9uZ3NUbyA9PSBcIlNlbnNvciBGaWxlXCIpOyB9KTtcclxuICAgICAgICAgICAgICAgIC8vdmFyIGhhc0RGID0ge3ZhbHVlOnRydWV9OyAoMjogTWV0IFN0YXRpb24sIDU6IFJhcGlkIERlcGxveW1lbnQgR2FnZSwgNjogUmFpbiBHYWdlKVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uc2Vuc29yX3R5cGVfaWQgPT0gMiB8fCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLnNlbnNvcl90eXBlX2lkID09IDUgfHwgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5zZW5zb3JfdHlwZV9pZCA9PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uZmlsZXMubGVuZ3RoID09PSAwKSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLk5lZWRERiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGV0ZXJtaW5lREZQcmVzZW50KCRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uZmlsZXMpKSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLk5lZWRERiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXMgaXMgYSBkYXRhZmlsZSByZXF1aXJpbmcgc2Vuc29yXHJcbiAgICAgICAgICAgIH0vLyk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gJHNjb3BlLnNpdGVGaWxlc0ZvclNlbnNvcnMgPSBhbGxTaXRlRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmluc3RydW1lbnRfaWQgIT09IG51bGwgJiYgZi5pbnN0cnVtZW50X2lkID4gMDsgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS50aW1lWm9uZUxpc3QgPSBbJ1VUQycsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcclxuICAgICAgICAgICAgJHNjb3BlLkxvZ2dlZEluTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hvc2VuSFdNTGlzdCA9IFtdOy8vaG9sZGVyIG9mIGNob3NlbiBod21zIGZvciB0aGlzIHBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0ID0gW107IC8vaG9sZGVyIGZvciByZW1vdmVkIG9uZXMgZm9yIFBVVCAoaWYgdGhpcyBpcyBlZGl0KVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvc2VuREZMaXN0ID0gW107IC8vaG9sZGVyIGZvciBjaG9zZW4gZGF0YWZpbGUgZm9yIHRoaXMgcGVha1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdCA9IFtdOyAvL2hvbGRlciBmb3IgcmVtb3ZlZCBvbmVzIGZvciBQVVQgKGlmIHRoaXMgaXMgZWRpdClcclxuICAgICAgICAgICAgJHNjb3BlLmh3bURldGFpbCA9IGZhbHNlOyAvL3Nob3cvaGlkZSBod20gYm94IG9mIGh3bSBkZXRhaWxzXHJcbiAgICAgICAgICAgICRzY29wZS5IV01Cb3ggPSB7fTsgLy9ob2xkcyBiaW5kaW5nIGZvciB3aGF0IHRvIHNob3cgaW4gaHdtIGRldGFpbCBib3hcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRldGFpbCA9IGZhbHNlOyAvL3Nob3cvaGlkZSBzZW5zb3IgYm94IG9mIHNlbnNvciBkZXRhaWxzXHJcbiAgICAgICAgICAgICRzY29wZS5TZW5zb3JCb3ggPSB7fTsgLy9ob2xkcyBiaW5kaW5nIGZvciB3aGF0IHRvIHNob3cgaW4gdGhlIHNlbnNvciBkZXRhaWwgYm94XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhRmlsZURldGFpbCA9IGZhbHNlOyAvL3Nob3cvaGlkZSBkYXRhZmlsZSBib3ggb2YgZGF0YWZpbGUgZGV0YWlsc1xyXG4gICAgICAgICAgICAkc2NvcGUuREZCb3ggPSB7fTsgLy9ob2xkcyBiaW5kaW5nIGZvciB3aGF0IHRvIHNob3cgaW4gdGhlIGRhdGFmaWxlIGRldGFpbCBib3hcclxuICAgICAgICAgICAgJHNjb3BlLmFQZWFrID0ge307XHJcbiAgICAgICAgICAgIC8vZm9ybWF0dGluZyBkYXRlIGFuZCB0aW1lIHByb3Blcmx5IGZvciBjaHJvbWUgYW5kIGZmXHJcbiAgICAgICAgICAgIHZhciBnZXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gZC5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGQuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhID0gZC5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9IGQuc3Vic3RyKDExLCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaSA9IGQuc3Vic3RyKDE0LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWMgPSBkLnN1YnN0cigxNywgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKHksIG0sIGRhLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2dldCB0aW1lem9uZSBhbmQgdGltZXN0YW1wIGZvciB0aGVpciB0aW1lem9uZSBmb3Igc2hvd2luZy4uIHBvc3QvcHV0IHdpbGwgY29udmVydCBpdCB0byB1dGNcclxuICAgICAgICAgICAgdmFyIGdldFRpbWVab25lU3RhbXAgPSBmdW5jdGlvbiAoZHNlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kVGhpcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRzZW50ICE9PSB1bmRlZmluZWQpIGQgPSBuZXcgRGF0ZShkc2VudCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAoZC50b1N0cmluZygpKS5zdWJzdHJpbmcoMzUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHpvbmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvZmZzZXQuc3Vic3RyKDAsIDMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0NTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFYXNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdFU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTW91XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnTVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBhY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ1BTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VuZFRoaXMgPSBbZCwgem9uZV07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDEsXHJcbiAgICAgICAgICAgICAgICBzaG93V2Vla3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2lzIGl0IFVUQyBvciBsb2NhbCB0aW1lLi5tYWtlIHN1cmUgaXQgc3RheXMgVVRDXHJcbiAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFQZWFrLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZSkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXNQZWFrICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIFBFQUtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hUGVhayA9IGFuZ3VsYXIuY29weSh0aGlzUGVhayk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0geyBkYXRlOiBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5hUGVhay5wZWFrX2RhdGUpLCB0aW1lOiBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5hUGVhay5wZWFrX2RhdGUpIH07XHJcbiAgICAgICAgICAgICAgICAvL2dldCBwZWFrIGNyZWF0b3IgbmFtZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlBlYWtDcmVhdG9yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5hUGVhay5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBvZmYgdGhvc2UgaHdtcyB1c2VkIGZvciB0aGlzIHBlYWtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgJHNjb3BlLmV2ZW50U2l0ZUhXTXMubGVuZ3RoOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmV2ZW50U2l0ZUhXTXNbaF0ucGVha19zdW1tYXJ5X2lkID09ICRzY29wZS5hUGVhay5wZWFrX3N1bW1hcnlfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVIV01zW2hdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgb2ZmIHRob3NlIGh3bXMgdXNlZCBmb3IgdGhpcyBwZWFrXHJcbiAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIGV2ZW50U2l0ZVNlbnNvci4uIGZvciBlYWNoIGZpbGUgd2l0aGluIGVhY2ggc2Vuc29yLi4uIGlmIGRhdGFGaWxlSUQgPT0gYW55IG9mIHRoZSBwZWFrREZzIGRhdGFmaWxlSUQgPT09PT4gbWFrZSB0aGF0IGZpbGUuc2VsZWN0ZWQgPXRydWVcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGVzcyA9IDA7IGVzcyA8ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzLmxlbmd0aDsgZXNzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIGV2ZW50U2l0ZVNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc3NJID0gZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRmID0gMDsgZGYgPCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tlc3NJXS5maWxlcy5sZW5ndGg7IGRmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBmaWxlIHdpdGhpbiB0aGlzIGV2ZW50U2l0ZVNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNUaGVyZSA9IHRoaXNQZWFrREZzLmZpbHRlcihmdW5jdGlvbiAocGRmKSB7IHJldHVybiBwZGYuZGF0YV9maWxlX2lkID09ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2Vzc0ldLmZpbGVzW2RmXS5kYXRhX2ZpbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNUaGVyZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tlc3NJXS5maWxlc1tkZl0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBleGlzdGluZyBQRUFLXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gbmV3IFBFQUtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lUGFydHMgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsgPSB7IHBlYWtfZGF0ZTogeyBkYXRlOiB0aW1lUGFydHNbMF0sIHRpbWU6IHRpbWVQYXJ0c1swXSB9LCB0aW1lX3pvbmU6IHRpbWVQYXJ0c1sxXSwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUGVha0NyZWF0b3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIG5ldyBQRUFLXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBmaWxlIGltYWdlIGFzIGEgcHJldmlld1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIGh3bSBsaXN0IHN0dWZmXHJcbiAgICAgICAgICAgIHZhciBmb3JtYXRTZWxlY3RlZEhXTSA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmh3bSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZmh3bS5hcHByb3ZhbF9pZCA9IGguYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9sYWJlbCA9IGguaHdtX2xhYmVsO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5iYW5rID0gaC5iYW5rO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5lbGV2X2Z0ID0gaC5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgZmh3bS5ldmVudF9pZCA9IGguZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmZsYWdfZGF0ZSA9IGguZmxhZ19kYXRlO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5mbGFnX21lbWJlcl9pZCA9IGguZmxhZ19tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmhjb2xsZWN0X21ldGhvZF9pZCA9IGguaGNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5oZGF0dW1faWQgPSBoLmhkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20uaGVpZ2h0X2Fib3ZlX2duZCA9IGguaGVpZ2h0X2Fib3ZlX2duZDtcclxuICAgICAgICAgICAgICAgIGZod20uaHdtX2Vudmlyb25tZW50ID0gaC5od21fZW52aXJvbm1lbnQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9pZCA9IGguaHdtX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiA9IGguaHdtX2xvY2F0aW9uZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9ub3RlcyA9IGguaHdtX25vdGVzO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fdW5jZXJ0YWludHkgPSBoLmh3bV91bmNlcnRhaW50eTtcclxuICAgICAgICAgICAgICAgIGZod20udW5jZXJ0YWludHkgPSBoLnVuY2VydGFpbnR5O1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fcXVhbGl0eV9pZCA9IGguaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV90eXBlX2lkID0gaC5od21fdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20ubGF0aXR1ZGVfZGQgPSBoLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5sb25naXR1ZGVfZGQgPSBoLmxvbmdpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgIGZod20ubWFya2VyX2lkID0gaC5tYXJrZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnBlYWtfc3VtbWFyeV9pZCA9IGgucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5zaXRlX2lkID0gaC5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5zdGlsbHdhdGVyID0gaC5zdGlsbHdhdGVyID09IFwiTm9cIiA/IDAgOiAxO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5zdXJ2ZXlfZGF0ZSA9IGguc3VydmV5X2RhdGU7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnN1cnZleV9tZW1iZXJfaWQgPSBoLnN1cnZleV9tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnZjb2xsZWN0X21ldGhvZF9pZCA9IGgudmNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS52ZGF0dW1faWQgPSBoLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20ud2F0ZXJib2R5ID0gaC53YXRlcmJvZHk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmh3bTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hZGQgb3IgcmVtb3ZlIGEgaHdtIGZyb20gdGhlIGxpc3Qgb2YgY2hvc2VuIGh3bXMgZm9yIGRldGVybWluaW5nIHRoaXMgcGVha1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkSFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhSFdNID0gZm9ybWF0U2VsZWN0ZWRIV00oaCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5IV01MaXN0LnB1c2goYUhXTSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVBlYWsucGVha19zdW1tYXJ5X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lZGl0Li4gbmVlZCB0byBzdG9yZSByZW1vdmVkIG9uZXMgZm9yIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3QucHVzaChkYXRhRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hvc2VuSFdNTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSAkc2NvcGUuY2hvc2VuSFdNTGlzdC5tYXAoZnVuY3Rpb24gKGh3bSkgeyByZXR1cm4gaHdtLmh3bV9pZDsgfSkuaW5kZXhPZihhSFdNLmh3bV9pZCk7IC8vbm90IHdvcmtpbmc6OiAkc2NvcGUuY2hvc2VuSFdNTGlzdC5pbmRleE9mKGFIV00pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuSFdNTGlzdC5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgd2FudCB0byBzZWUgdGhlIGRldGFpbHMgb2YgdGhlIGh3bSwgb3Igbm90IHNlZSBpdCBhbnltb3JlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SFdNRGV0YWlscyA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRGV0YWlsID0gdHJ1ZTsgJHNjb3BlLnNlbnNvckRldGFpbCA9IGZhbHNlOyAkc2NvcGUuZGF0YUZpbGVEZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5IV01Cb3ggPSBoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy91c2UgdGhpcyBod20gdG8gcG9wdWxhdGUgcGVhayBwYXJ0cyAocHJpbWFyeSBod20gZm9yIGRldGVybWluaW5nIHBlYWspXHJcbiAgICAgICAgICAgICRzY29wZS5wcmltYXJ5SFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXRQcmltSFdNID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U2V0IGFzIFByaW1hcnk8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzZXQgdGhpcyBhcyB0aGUgUHJpbWFyeSBIV00/IERvaW5nIHNvIHdpbGwgcG9wdWxhdGUgdGhlIFBlYWsgRGF0ZSAobm90IGluY2x1ZGluZyB0aW1lKSwgU3RhZ2UsIFZlcnRpY2FsIERhdHVtIGFuZCBIZWlnaHQgQWJvdmUgR3JvdW5kLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlNldEl0KClcIj5TZXQgYXMgUHJpbWFyeTwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TZXRJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdZZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFByaW1IV00ucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNldEl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldEl0ID09ICdZZXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZSA9IG5ldyBEYXRlKGguZmxhZ19kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfc3RhZ2UgPSBoLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay52ZGF0dW1faWQgPSBoLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLmhlaWdodF9hYm92ZV9nbmQgPSBoLmhlaWdodF9hYm92ZV9nbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoSW5kZXggPSAkc2NvcGUuZXZlbnRTaXRlSFdNcy5pbmRleE9mKGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTaXRlSFdNc1toSW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2xvc2VEZXRhaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRGV0YWlsID0gZmFsc2U7ICRzY29wZS5od21EZXRhaWwgPSBmYWxzZTsgJHNjb3BlLmRhdGFGaWxlRGV0YWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gc2Vuc29yIGxpc3Qgc3R1ZmZcclxuICAgICAgICAgICAgLy9hZGQgb3IgcmVtb3ZlIGEgc2Vuc29yIGZyb20gdGhlIGxpc3Qgb2YgY2hvc2VuIHNlbnNvciBmb3IgZGV0ZXJtaW5pbmcgdGhpcyBwZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5hZGREYXRhRmlsZSA9IGZ1bmN0aW9uIChkYXRhZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZGF0YWZpbGUuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUZpbGUgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YWZpbGUuc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdC5wdXNoKGRhdGFGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXQuLiBuZWVkIHRvIHN0b3JlIHJlbW92ZWQgb25lcyBmb3IgUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdC5wdXNoKGRhdGFGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNob3NlbkRGTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLmNob3NlbkRGTGlzdC5tYXAoZnVuY3Rpb24gKGRmKSB7IHJldHVybiBkZi5kYXRhX2ZpbGVfaWQ7IH0pLmluZGV4T2YoZGF0YWZpbGUuZGF0YV9maWxlX2lkKTsgLy9ub3Qgd29ya2luZzo6ICRzY29wZS5jaG9zZW5ERkxpc3QuaW5kZXhPZihzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5ERkxpc3Quc3BsaWNlKGluZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSB3YW50IHRvIHNlZSB0aGUgZGV0YWlscyBvZiB0aGUgc2Vuc29yLCBvciBub3Qgc2VlIGl0IGFueW1vcmVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTZW5zb3JEZXRhaWxzID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JEZXRhaWwgPSB0cnVlOyAkc2NvcGUuaHdtRGV0YWlsID0gZmFsc2U7ICRzY29wZS5kYXRhRmlsZURldGFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNlbnNvckJveCA9IHM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vdGhleSB3YW50IHRvIHNlZSB0aGUgZGV0YWlscyBvZiB0aGUgZGF0YWZpbGUsIG9yIG5vdCBzZWUgaXQgYW55bW9yZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0RhdGFGaWxlRGV0YWlscyA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZi5kYXRhX2ZpbGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveC5maWxlUGF0aCA9IGYucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREZCb3guZmlsZUlEID0gZi5maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveC5maWxlRGVzYyA9IGYuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94LnByb2Nlc3NlZEJ5ID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09IHJlc3BvbnNlLnByb2Nlc3Nvcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94Lm53aXNGaWxlID0gZi5pc19ud2lzID09IDEgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94LmZpbGVVUkwgPSBmLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFGaWxlRGV0YWlsID0gdHJ1ZTsgJHNjb3BlLmh3bURldGFpbCA9IGZhbHNlOyAkc2NvcGUuc2Vuc29yRGV0YWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3VzZSB0aGlzIGh3bSB0byBwb3B1bGF0ZSBwZWFrIHBhcnRzIChwcmltYXJ5IHNlbnNvciBmb3IgZGV0ZXJtaW5pbmcgcGVhaylcclxuICAgICAgICAgICAgLyonPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2V0IHRoaXMgYXMgdGhlIFByaW1hcnkgRGF0YSBmaWxlPyBEb2luZyBzbyB3aWxsIHBvcHVsYXRlIHRoZSBQZWFrIERhdGUsIFRpbWUgYW5kIHRpbWUgem9uZSwgU3RhZ2UsIFZlcnRpY2FsIERhdHVtIGFuZCBIZWlnaHQgQWJvdmUgR3JvdW5kLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJTZXRJdCgpXCI+U2V0IGFzIFByaW1hcnk8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsKi9cclxuICAgICAgICAgICAgJHNjb3BlLnByaW1hcnlEYXRhRmlsZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2V0UHJpbWVERiA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlNldCBhcyBQcmltYXJ5PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2V0IHRoaXMgYXMgdGhlIFByaW1hcnkgRGF0YSBmaWxlPzwvcD48cD4oQ29taW5nIHNvb246IFNjcmlwdCBwcm9jZXNzaW5nIHRvIHBvcHVsYXRlIHRoZSBQZWFrIGRhdGUsIHRpbWUgYW5kIHRpbWUgem9uZSwgU3RhZ2UsIFZlcnRpY2FsIERhdHVtIGFuZCBIZWlnaHQgYWJvdmUgZ3JvdW5kKTwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlNldEl0KClcIj5TZXQgYXMgUHJpbWFyeTwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TZXRJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdZZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFByaW1lREYucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNldEl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldEl0ID09ICdZZXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlID0gaC5mbGFnX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLnBlYWtfc3RhZ2UgPSBoLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLnZkYXR1bV9pZCA9IGgudmRhdHVtX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLmhlaWdodF9hYm92ZV9nbmQgPSBoLmhlaWdodF9hYm92ZV9nbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5zID0gJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmluc3RydW1lbnRfaWQgPT0gZi5pbnN0cnVtZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJbmRleCA9ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzLmluZGV4T2Yoc2Vucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSW5kZXggPSBzZW5zLmZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW3NJbmRleF0uZmlsZXNbZkluZGV4XS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgLy9zYXZlIFBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVQZWFrID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFBlYWsgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RnVsbFllYXIoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldE1vbnRoKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRIb3VycygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0TWludXRlcygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0U2Vjb25kcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gZGF0ZXRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoKTsgLy9VVEMgb3IgbG9jYWw/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgUEVBSy51cGRhdGUoeyBpZDogJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZCB9LCAkc2NvcGUuYVBlYWspLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIGh3bXMvZGF0YWZpbGVzIHVzZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgdGhvc2UgdW5jaG9zZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJlbWQgPSAwOyByZW1kIDwgJHNjb3BlLnJlbW92ZWRDaG9zZW5ERkxpc3QubGVuZ3RoOyByZW1kKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdFtyZW1kXS5wZWFrX3N1bW1hcnlfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLnJlbW92ZWRDaG9zZW5ERkxpc3RbcmVtZF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0W3JlbWRdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJlbWggPSAwOyByZW1oIDwgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0Lmxlbmd0aDsgcmVtaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0W3JlbWhdLnBlYWtfc3VtbWFyeV9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3RbcmVtaF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5yZW1vdmVkQ2hvc2VuSFdNTGlzdFtyZW1oXSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdGhvc2UgY2hvc2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFkZGggPSAwOyBhZGRoIDwgJHNjb3BlLmNob3NlbkhXTUxpc3QubGVuZ3RoOyBhZGRoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5IV01MaXN0W2FkZGhdLnBlYWtfc3VtbWFyeV9pZCA9IHJlc3BvbnNlLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogJHNjb3BlLmNob3NlbkhXTUxpc3RbYWRkaF0uaHdtX2lkIH0sICRzY29wZS5jaG9zZW5IV01MaXN0W2FkZGhdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBmb3JlYWNoIGh3bSBzYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFkZGQgPSAwOyBhZGRkIDwgJHNjb3BlLmNob3NlbkRGTGlzdC5sZW5ndGg7IGFkZGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdFthZGRkXS5wZWFrX3N1bW1hcnlfaWQgPSByZXNwb25zZS5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5jaG9zZW5ERkxpc3RbYWRkZF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5jaG9zZW5ERkxpc3RbYWRkZF0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGZvcmVhY2ggaHdtIHNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQZWFrIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQZWFrID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFt1cGRhdGVkUGVhaywgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kYXRhIGZpbGUgSUQgdG8gZ2V0IGRmIGFuZCByZW1vdmUgcGVha2lkIGZvciBwZWFrRGVsZXRlXHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVERndvUGVha0lEID0gZnVuY3Rpb24gKGRmX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2dldCBpdCwgY2hhbmdlIHBlYWsgaWQsIHB1dCBpdCBiYWNrXHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZGZfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICByZXMucGVha19zdW1tYXJ5X2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6IHJlcy5kYXRhX2ZpbGVfaWQgfSwgcmVzKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2RlbGV0ZSBQZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVQZWFrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVBlYWtNZGwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgUGVhazwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFBlYWs/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiT2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGVQZWFrTWRsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVha0lEID0gJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RnVsbFllYXIoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldE1vbnRoKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRIb3VycygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0TWludXRlcygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0U2Vjb25kcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gZGF0ZXRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHBlYWsgYW5kIHRoZW4gUFVUIGFsbCBod20gYW5kIGRmIHRoYXQgaGF2ZSBwZWFrSURcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIFBFQUsuZGVsZXRlKHsgaWQ6ICRzY29wZS5hUGVhay5wZWFrX3N1bW1hcnlfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMgZm9yIGVhY2ggZmlsZXMgaWYgZmlsZS5zZWxlY3RlZCA9PSB0cnVlLi4gUFVUIGFuZCByZW1vdmUgUEVBS0lEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzUyA9ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IDA7IGYgPCB0aGlzUy5maWxlcy5sZW5ndGg7IGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRiA9IHRoaXNTLmZpbGVzW2ZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzRi5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlREZ3b1BlYWtJRCh0aGlzRi5kYXRhX2ZpbGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggJHNjb3BlLmV2ZW50U2l0ZUhXTXMgaWYgaC5zZWxlY3RlZCA9PSB0cnVlLi4gUFVUIGFuZCByZW1vdmUgUEVBS0lEIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAkc2NvcGUuZXZlbnRTaXRlSFdNcy5sZW5ndGg7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNIID0gJHNjb3BlLmV2ZW50U2l0ZUhXTXNbaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0guc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBwZWFrSUQgYW5kIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNILnBlYWtfc3VtbWFyeV9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVRoaXNIV00gPSBmb3JtYXRTZWxlY3RlZEhXTSh0aGlzSCk7IC8vbmVlZCB0byBmb3JtYXQgaXQgdG8gcmVtb3ZlIGFsbCB0aGUgc2l0ZSBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogdGhpc0guaHdtX2lkIH0sIHVwZGF0ZVRoaXNIV00pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlBlYWsgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NyZWF0ZSBQZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVQZWFrID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2ZpcnN0IGRldGVybWluZSB0aGF0IHRoZXkgZGlkIGNob29vc2UgYSBod20gb3IgZGF0YSBmaWxlIGZvciBpbnRlcnByZXRhdG9pblxyXG4gICAgICAgICAgICAgICAgdmFyIGlzSHdtQ2hlY2tlZCA9IGZhbHNlOyB2YXIgaXNERkNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZXZlbnRTaXRlSFdNcywgZnVuY3Rpb24gKHNod20pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2h3bS5zZWxlY3RlZCkgaXNId21DaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzLCBmdW5jdGlvbiAoc3Nlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGZJID0gMDsgZkkgPCBzc2VuLmZpbGVzLmxlbmd0aDsgZkkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Nlbi5maWxlc1tmSV0uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzREZDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZJID0gc3Nlbi5maWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0h3bUNoZWNrZWQgfHwgaXNERkNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2hvc2Ugb25lLCBidXQgaXMgaXQgdmFsaWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRQZWFrID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9ybWF0IHRvIGNvbWJpbmUgdGhlIGRhdGUgYW5kIHRpbWUgYmFjayB0b2dldGhlciBpbnRvIDEgZGF0ZSBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGV0aW1lID0gbmV3IERhdGUoJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldEZ1bGxZZWFyKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXRNb250aCgpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50aW1lLmdldEhvdXJzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRNaW51dGVzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRTZWNvbmRzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gZGF0ZXRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCk7IC8vVVRDIG9yIGxvY2FsP1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBFQUsuc2F2ZSgkc2NvcGUuYVBlYWspLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkUGVhayA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGNob3NlbiBod21zL2RhdGEgZmlsZXMgd2l0aCBwZWFrIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8ICRzY29wZS5jaG9zZW5IV01MaXN0Lmxlbmd0aDsgaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkhXTUxpc3RbaF0ucGVha19zdW1tYXJ5X2lkID0gcmVzcG9uc2UucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogJHNjb3BlLmNob3NlbkhXTUxpc3RbaF0uaHdtX2lkIH0sICRzY29wZS5jaG9zZW5IV01MaXN0W2hdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yZWFjaCBod20gc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCAkc2NvcGUuY2hvc2VuREZMaXN0Lmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdFtkXS5wZWFrX3N1bW1hcnlfaWQgPSByZXNwb25zZS5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuY2hvc2VuREZMaXN0W2RdLmRhdGFfZmlsZV9pZCB9LCAkc2NvcGUuY2hvc2VuREZMaXN0W2RdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yZWFjaCBod20gc2F2ZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUGVhayBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRQZWFrLCAnY3JlYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwZWFrOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25vIGRhdGEgZmlsZSBvciBod20gY2hlY2tlZCBhcyB1c2VkLCBzaG93IG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldE9uZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgY2hvb3NlIGF0IGxlYXN0IG9uZSBIV00gb3IgRGF0YSBGaWxlIHRvIHVzZSBmb3IgaW50ZXJwcmV0YXRpb24gZm9yIHRoaXMgUGVhayBTdW1tYXJ5LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbmNvbXBsZXRlREZJbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY29tcGxldGVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkluY29tcGxldGUgRGF0YSBGaWxlPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BbGwgUkRHcywgTWV0IFN0YXRpb24sIGFuZCBSYWluIEdhZ2Ugc2Vuc29ycyByZXF1aXJlIGRhdGEgZmlsZSBpbmZvcm1hdGlvbiBpbiBvcmRlciB0byB1c2UgYXMgcHJpbWFyeSBpbiB0aGUgUGVhayBzdW1tYXJ5LjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+UGxlYXNlIHJldmlzaXQgdGhlIFJldHJpZXZlZCBTZW5zb3IgYW5kIGNsaWNrIG9uIE5XSVMgRGF0YSBDb25uZWN0aW9uIHRvIGFkZCBhIGxpbmsgdG8gdGhlIE5XSVMgZGF0YSBpZiB5b3Ugd2FudCB0byB1c2UgYXMgcHJpbWFyeS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0luY29tcGxldGVIV01JbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY29tcGxldGVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkluY29tcGxldGUgSFdNPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5TdXJ2ZXkgZGF0ZSBhbmQgZWxldmF0aW9uIGFyZSByZXF1aXJlZCBpbiBvcmRlciB0byB1c2UgYXMgcHJpbWFyeSBpbiB0aGUgUGVhayBzdW1tYXJ5LjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+UGxlYXNlIHJldmlzaXQgdGhlIEhXTSBhbmQgYWRkIFN1cnZleSBkYXRlIGFuZCBlbGV2YXRpb24gaWYgeW91IHdhbnQgdG8gdXNlIGFzIHByaW1hcnkuPC9wPjxwPlRoZSBIV00gY2FuIGJlIHVzZWQgZm9yIGludGVycHJlYXRpb24gd2l0aG91dGggYSBmaW5hbCBlbGV2YXRpb24uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiT2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dSZXRyaWV2ZUluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ29SZXRyaWV2ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RGVwbG95ZWQgU2Vuc29yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIHNlbm9zciBuZWVkcyB0byBiZSByZXRyaWV2ZWQgYmVmb3JlIGEgUGVhayBjYW4gYmUgY3JlYXRlZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICB9XSk7IC8vZW5kIEhXTVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdwZWFrQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsICckdGltZW91dCcsICd0aGlzU2l0ZScsICdTaXRlX0ZpbGVzJywgJ3RoaXNTaXRlUGVha3MnLCAnYWxsVmVydERhdHVtcycsICdhbGxIV01RdWFsaXRpZXMnLCAnYWxsSFdNVHlwZXMnLCAnUEVBSycsICdIV00nLCAnTUVNQkVSJywgJ1NJVEUnLCdJTlNUX0NPTExfQ09ORElUSU9OJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsICR0aW1lb3V0LCB0aGlzU2l0ZSwgU2l0ZV9GaWxlcywgdGhpc1NpdGVQZWFrcywgYWxsVmVydERhdHVtcywgYWxsSFdNUXVhbGl0aWVzLCBhbGxIV01UeXBlcywgUEVBSywgSFdNLCBNRU1CRVIsIFNJVEUsSU5TVF9DT0xMX0NPTkRJVElPTikge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBlYWtDb3VudCA9IHsgdG90YWw6IHRoaXNTaXRlUGVha3MubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzID0gdGhpc1NpdGVQZWFrcztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2ZvciB0aGlzIHRvIHdvcmssIEknZCBuZWVkIHRvIGJyaW5nIGluIEhXTXMgYW5kIERhdGEgRmlsZXModGhyb3VnaCBzZW5zb3JzIHNpbmNlIHRoYXQgaG9sZHMgZXZlbnQpIGZvciB0aGlzIGV2ZW50IGFuZCBmaWx0ZXIgYmFzZWQgb24gdGhvc2UgLi4gb3IganVzdCBhZGQgZXZlbnRpZCB0byBwZWFrXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzID0gdGhpc1NpdGVQZWFrcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuZXZlbnRfbmFtZSA9PSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZWFrQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZVBlYWtzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlUGVha3MgPSB0aGlzU2l0ZVBlYWtzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGVha0NvdW50ID0geyB0b3RhbDogJHNjb3BlLlNpdGVQZWFrcy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZS9lZGl0IGEgcGVhayBcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UGVha01vZGFsID0gZnVuY3Rpb24gKHBlYWtDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uLy8gJChcIi5wYWdlLWxvYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVBlYWtzLmluZGV4T2YocGVha0NsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdQRUFLbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwZWFrTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbGxlY3RDb25kaXRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOU1RfQ09MTF9DT05ESVRJT04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydERhdHVtczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNQZWFrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlYWtDbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLnF1ZXJ5KHsgaWQ6IHBlYWtDbGlja2VkLnBlYWtfc3VtbWFyeV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyByZXR1cm4gXCJlbXB0eVwiOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWtERnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVha0NsaWNrZWQgIT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUEVBSy5nZXRQZWFrU3VtbWFyeURGcyh7aWQ6IHBlYWtDbGlja2VkLnBlYWtfc3VtbWFyeV9pZH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWFrU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudEhXTXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNLmdldEZpbHRlcmVkSFdNcyh7IEV2ZW50OiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksIEV2ZW50U3RhdHVzOiAwIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpdGVGaWxlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlU2Vuc29ycyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRQZWFrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgUGVhayxlZGl0ZWQgcGVhayBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFBlYWtbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzLnB1c2goY3JlYXRlZFBlYWtbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBlYWtDb3VudC50b3RhbCA9ICRzY29wZS5TaXRlUGVha3MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkUGVha1sxXSA9PSAndXBkYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBmcm9tIGVkaXQgLS0gcmVmcmVzaCBwYWdlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVQZWFrc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZFBlYWtbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRQZWFrWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVQZWFrcy5zcGxpY2UoaW5kZXhDbGlja2VkLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZWFrQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVBlYWtzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9OyAvL2VuZCBzaG93SFdNTW9kYWwgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ09QbW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckc2NlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnU2l0ZV9GaWxlcycsICdhbGxEcm9wZG93bnMnLCAndGhpc09QJywgJ3RoaXNPUENvbnRyb2xzJywgJ29wU2l0ZScsICdhZ2VuY3lMaXN0JywgJ2FsbE1lbWJlcnMnLCAnT0JKRUNUSVZFX1BPSU5UJywgJ09QX0NPTlRST0xfSURFTlRJRklFUicsICdPUF9NRUFTVVJFJywgJ1NPVVJDRScsICdGSUxFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICRzY2UsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIEZJTEVfU1RBTVAsIFNpdGVfRmlsZXMsIGFsbERyb3Bkb3ducywgdGhpc09QLCB0aGlzT1BDb250cm9scywgb3BTaXRlLCBhZ2VuY3lMaXN0LCBhbGxNZW1iZXJzLCBPQkpFQ1RJVkVfUE9JTlQsIE9QX0NPTlRST0xfSURFTlRJRklFUiwgT1BfTUVBU1VSRSwgU09VUkNFLCBGSUxFKSB7XHJcbiAgICAgICAgICAgIC8vZGVmYXVsdHMgZm9yIHJhZGlvIGJ1dHRvbnNcclxuICAgICAgICAgICAgLy9kcm9wZG93bnNcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBPUHZhbDogJ2RldGFpbCcgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi4gICAgXHJcbiAgICAgICAgICAgICRzY29wZS5kbCA9IHsgZGxPcGVuOiB0cnVlLCBkbEZpbGVPcGVuOiBmYWxzZSB9Oy8vYWNjb3JkaW9uc1xyXG4gICAgICAgICAgICAkc2NvcGUuT1BUeXBlTGlzdCA9IGFsbERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLkhETGlzdCA9IGFsbERyb3Bkb3duc1sxXTtcclxuICAgICAgICAgICAgJHNjb3BlLkhDb2xsZWN0TWV0aG9kTGlzdCA9IGFsbERyb3Bkb3duc1syXTtcclxuICAgICAgICAgICAgJHNjb3BlLlZEYXR1bUxpc3QgPSBhbGxEcm9wZG93bnNbM107XHJcbiAgICAgICAgICAgICRzY29wZS5WQ29sbGVjdE1ldGhvZExpc3QgPSBhbGxEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS5PUFF1YWxpdHlMaXN0ID0gYWxsRHJvcGRvd25zWzVdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzZdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBPUCBmaWxlICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5odG1sRGVzY3JpcHRpb25UaXAgPSAkc2NlLnRydXN0QXNIdG1sKCdQbGVhc2UgZGVzY3JpYmUgbG9jYXRpb24gYW5kIHR5cGUgb2YgbWFyayA8ZW0+aWUuIFxcJ2NoaXNlbGVkIHNxdWFyZSBvbiB0aGlyZCBzaWRld2FsayBibG9jayBvbiB0aGUgc291dGggc2lkZSBvZiB0aGUgc3RyZWV0XFwnPC9lbT4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi4gICAgXHJcbiAgICAgICAgICAgICRzY29wZS5PUCA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkgPSBbXTsgLy9ob2xkZXIgaWYgdGhleSByZW1vdmUgYW55IE9QIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICRzY29wZS50aGlzT1BzaXRlID0gb3BTaXRlOyAvL3RoaXMgT1AncyBTSVRFXHJcbiAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzID0gW107IC8vaG9sZGVyIGZvciBhZGRlZCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NvbnRyb2xJRGlucHV0ID0gZmFsc2U7IC8vaW5pdGlhbGx5IGhpZGUgdGhlIGFyZWEgY29udGFpbmluZyBhZGRlZCBjb250cm9sIElkZW50aWZpZXJzXHJcbiAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTsgLy9vYmplY3QgZm9yIERlZyBNaW4gU2VjIHZhbHVlc1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMgPSB0aGlzT1AgIT09IFwiZW1wdHlcIiA/ICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2Yub2JqZWN0aXZlX3BvaW50X2lkID09IHRoaXNPUC5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pIDogW107Ly8gb3BGaWxlczsgLy9ob2xkZXIgZm9yIG9wIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5vcEltYWdlRmlsZXMgPSAkc2NvcGUuT1BGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKG9wZikgeyByZXR1cm4gb3BmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWxcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIG9wXHJcbiAgICAgICAgICAgIC8vbWFrZSB1bmNlcnRhaW50eSBjbGVhcmVkIGFuZCBkaXNhYmxlZCB3aGVuICd1bnF1YW50aWZpZWQnIGlzIGNoZWNrZWRcclxuICAgICAgICAgICAgJHNjb3BlLlVucXVhbnRDaGVja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5vcENvcHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3BDb3B5LnVucXVhbnRpZmllZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LnVuY2VydGFpbnR5ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6ICRzY29wZS5hRmlsZS5od21faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6ICRzY29wZS5hRmlsZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6ICRzY29wZS5hRmlsZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5hRmlsZS5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfbndpczogJHNjb3BlLmFGaWxlLmlzX253aXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdGl2ZV9wb2ludF9pZDogJHNjb3BlLmFGaWxlLm9iamVjdGl2ZV9wb2ludF9pZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7ICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgb3BcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbWFnZU1vZGFsID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkltYWdlIEZpbGUgUHJldmlldzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PGltZyBuZy1zcmM9XCJ7e3NldFNSQ319XCIgLz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2VJZCA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0U1JDID0gU0VSVkVSX1VSTCArICcvRmlsZXMvJyArICRzY29wZS5pbWFnZUlkICsgJy9JdGVtJztcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gLTE7ICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgIC8vT1Agd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBvcCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLk9QRmlsZXMuaW5kZXhPZihmaWxlKTsgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLm9wSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLm9wSW1hZ2VGaWxlcy5pbmRleE9mKGZpbGUpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gYW5ndWxhci5jb3B5KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmdldEZpbGVJdGVtKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHJlc3BvbnNlLkxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgaWYgZXhpc3RpbmcgZmlsZSBpcyBhIHBob3RvIChldmVuIGlmIHR5cGUgaXMgbm90IClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc291cmNlX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgYWdlbmN5IG5hbWUgdG8gcGhvdG8gY2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGV4aXN0aW5nIGZpbGVcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgpOyAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5mbmFtZSArIFwiIFwiICsgJHNjb3BlLmFTb3VyY2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBmaXJzdCB0byBnZXQgc291cmNlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLmFnZW5jeV9pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgU09VUkNFLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzT1BzaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuT1Aub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTsgLy9ob3BlZnVsbHkgdXBkYXRlIHRoZSBmaWxlcyBpbiB0aGUgY2Fyb3VzZWwgPz8/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLm9wSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG5cclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKCRzY29wZS5hbGxTRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuZGF0YWZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEZJTEUgU1RVRkZcclxuXHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXNPUCAhPSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcE1vZGFsSGVhZGVyID0gXCJEYXR1bSBMb2NhdGlvbiBJbmZvcm1hdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdE9QID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIE9QXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT1AgPSBhbmd1bGFyLmNvcHkodGhpc09QKTsgLy9zZXQgYSBjb3B5IHNvIGxpc3QgdmlldyBkb2VzbnQgY2hhbmdlIGlmIHRoZXkgY2FuY2VsIGZyb20gaGVyZSBhZnRlciBtYWtpbmcgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgLy9mb3JtYXR0ZWQgYXMgZGF0ZSBmb3IgZGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRhdGVfZXN0YWJsaXNoZWQgPSBtYWtlQWRhdGUoJHNjb3BlLk9QLmRhdGVfZXN0YWJsaXNoZWQpO1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBpZiB2ZGF0dW1faWQgPT0gMCwgaWYgc28gbWFrZSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AudmRhdHVtX2lkID09PSAwKSBkZWxldGUgJHNjb3BlLk9QLnZkYXR1bV9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk9QLmRhdGVfcmVjb3ZlcmVkICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kYXRlX3JlY292ZXJlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9yZWNvdmVyZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzT1BDb250cm9scy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMgPSB0aGlzT1BDb250cm9scztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0NvbnRyb2xJRGlucHV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5vcFR5cGUgPSAkc2NvcGUuT1Aub3BfdHlwZV9pZCA+IDAgPyAkc2NvcGUuT1BUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQub2JqZWN0aXZlX3BvaW50X3R5cGVfaWQgPT0gJHNjb3BlLk9QLm9wX3R5cGVfaWQ7IH0pWzBdLm9wX3R5cGUgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5xdWFsaXR5ID0gJHNjb3BlLk9QLm9wX3F1YWxpdHlfaWQgPiAwID8gJHNjb3BlLk9QUXVhbGl0eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChxKSB7IHJldHVybiBxLm9wX3F1YWxpdHlfaWQgPT0gJHNjb3BlLk9QLm9wX3F1YWxpdHlfaWQ7IH0pWzBdLnF1YWxpdHkgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5oZGF0dW0gPSAkc2NvcGUuT1AuaGRhdHVtX2lkID4gMCA/ICRzY29wZS5IRExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLk9QLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhDb2xsZWN0TWV0aG9kID0gJHNjb3BlLk9QLmhjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUuSENvbGxlY3RNZXRob2RMaXN0LmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuT1AuaGNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS5oY29sbGVjdF9tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC52RGF0dW0gPSAkc2NvcGUuT1AudmRhdHVtX2lkID4gMCA/ICRzY29wZS5WRGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09ICRzY29wZS5PUC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC52Q29sbGVjdE1ldGhvZCA9ICRzY29wZS5PUC52Y29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLlZDb2xsZWN0TWV0aG9kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZjKSB7IHJldHVybiB2Yy52Y29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLk9QLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kIDogJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wTW9kYWxIZWFkZXIgPSBcIkNyZWF0ZSBuZXcgRGF0dW0gTG9jYXRpb25cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRPUCA9ICdjcmVhdGUnO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIG5ldyBPUCBcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IG9wU2l0ZS5sYXRpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPSBvcFNpdGUubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhkYXR1bV9pZCA9IG9wU2l0ZS5oZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICAvL2RlZmF1bHQgdG9kYXkgZm9yIGVzdGFibGlzZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRhdGVfZXN0YWJsaXNoZWQgPSBtYWtlQWRhdGUoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9kZWZhdWx0IHJhZGlvcyAoaGFzIHRvIGNvbWUgYWZ0ZXIgT1AgaXMgc2V0IG9uZSB3YXkgb3IgYW5vdGhlcilcclxuICAgICAgICAgICAgJHNjb3BlLk9QLmRlY0RlZ09SZG1zID0gJ2RkJztcclxuICAgICAgICAgICAgJHNjb3BlLk9QLkZUb3JNRVRFUiA9ICdmdCc7XHJcbiAgICAgICAgICAgICRzY29wZS5PUC5GVG9yQ00gPSAnZnQnO1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBpZGVudGlmaWVyXHJcbiAgICAgICAgICAgICRzY29wZS5hZGROZXdJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jcmVhdGVPUmVkaXRPUCA9PSAnZWRpdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5LnB1c2goeyBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5PUC5vYmplY3RpdmVfcG9pbnRfaWQsIGlkZW50aWZpZXI6IFwiXCIsIGlkZW50aWZpZXJfdHlwZTogXCJcIiB9KTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5wdXNoKHsgaWRlbnRpZmllcjogXCJcIiwgaWRlbnRpZmllcl90eXBlOiBcIlwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAvL2xhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb252ZXJ0IGRlZyBtaW4gc2VjIHRvIGRlYyBkZWdyZWVzXHJcbiAgICAgICAgICAgIHZhciBhemltdXRoID0gZnVuY3Rpb24gKGRlZywgbWluLCBzZWMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhemkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhemkgPSAtMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0xLjAgKiBhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhemkgPSAxLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb252ZXJ0IGRlYyBkZWdyZWVzIHRvIGRtc1xyXG4gICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaW5mbG9hdCA9IChkZWcgLSBkKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKG1pbmZsb2F0KTtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcIlwiICsgZCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICRzY29wZS5sYXRMb25nQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jcmVhdGVPUmVkaXRPUCA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weS5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdGVsbGluZyB0aGVtIHRvIHBvcHVsYXRlIGFsbCB0aHJlZSAoRE1TKSBmb3IgY29udmVyc2lvbiB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCB0aHJlZSBpbnB1dHMgZm9yIGNvbnZlcnNpb24gZnJvbSBETVMgdG8gRGVjaW1hbCBEZWdyZWVzIHRvIHdvcmsuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1TTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkuZGVjRGVnT1JkbXMgPSBcImRtc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVNhcnJheSA9IGxvbmdETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBsb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gbG9uZ0RNU2FycmF5WzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDsgJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AuZGVjRGVnT1JkbXMgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIERlYyBEZWcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNkZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNU2RkTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kZWNEZWdPUmRtcyA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuT1AubGF0aXR1ZGVfZGQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sYWRETVNhcnJheSA9IGNyZWF0ZV9sYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBjcmVhdGVfbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gY3JlYXRlX2xhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGNyZWF0ZV9sYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5PUC5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sb25nRE1TYXJyYXkgPSBjcmVhdGVfbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBjcmVhdGVfbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7ICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2p1c3QgbmVlZCBhbiBPQkpFQ1RJVkVfUE9JTlQgb2JqZWN0IHRvIHBvc3QvcHV0XHJcbiAgICAgICAgICAgIHZhciB0cmltT1AgPSBmdW5jdGlvbiAob3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBPQkpfUFQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogb3AubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogb3AuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZWxldl9mdDogb3AuZWxldl9mdCAhPT0gdW5kZWZpbmVkID8gb3AuZWxldl9mdCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZV9lc3RhYmxpc2hlZDogb3AuZGF0ZV9lc3RhYmxpc2hlZCxcclxuICAgICAgICAgICAgICAgICAgICBvcF9pc19kZXN0cm95ZWQ6IG9wLm9wX2lzX2Rlc3Ryb3llZCAhPT0gdW5kZWZpbmVkID8gb3Aub3BfaXNfZGVzdHJveWVkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcF9ub3Rlczogb3Aub3Bfbm90ZXMgIT09IHVuZGVmaW5lZCA/IG9wLm9wX25vdGVzIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc09Qc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHZkYXR1bV9pZDogb3AudmRhdHVtX2lkICE9PSB1bmRlZmluZWQgPyBvcC52ZGF0dW1faWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiBvcC5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6IG9wLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBoZGF0dW1faWQ6IG9wLmhkYXR1bV9pZCAhPT0gdW5kZWZpbmVkID8gb3AuaGRhdHVtX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBoY29sbGVjdF9tZXRob2RfaWQ6IG9wLmhjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AuaGNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICB2Y29sbGVjdF9tZXRob2RfaWQ6IG9wLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AudmNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcF90eXBlX2lkOiBvcC5vcF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVfcmVjb3ZlcmVkOiBvcC5kYXRlX3JlY292ZXJlZCAhPT0gdW5kZWZpbmVkID8gb3AuZGF0ZV9yZWNvdmVyZWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHVuY2VydGFpbnR5OiBvcC51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkICYmIG9wLnVuY2VydGFpbnR5ICE9PSBcIlwiID8gb3AudW5jZXJ0YWludHkgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHVucXVhbnRpZmllZDogb3AudW5xdWFudGlmaWVkICE9PSB1bmRlZmluZWQgPyBvcC51bnF1YW50aWZpZWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wX3F1YWxpdHlfaWQ6IG9wLm9wX3F1YWxpdHlfaWQgIT09IHVuZGVmaW5lZCA/IG9wLm9wX3F1YWxpdHlfaWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBPQkpfUFQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbCBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIC8vICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2ZpeCBkZWZhdWx0IHJhZGlvcyBhbmQgbGF0L2xvbmdcclxuICAgICAgICAgICAgdmFyIGZvcm1hdERlZmF1bHRzID0gZnVuY3Rpb24gKHRoZU9QLCBmcm9tV2hlcmUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmcm9tV2hlcmUgPT0gXCJjcmVhdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JNRVRFUiBuZWVkcyB0byBiZSAnZnQnLiBpZiAnbWV0ZXInID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvck1FVEVSID09IFwibWV0ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmVsZXZfZnQgPSAkc2NvcGUuT1AuZWxldl9mdCAqIDMuMjgwODtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuRlRvckNNIG5lZWRzIHRvIGJlICdmdCcuIGlmICdjbScgPT1jb252ZXJ0IHZhbHVlIHRvIGZ0IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5GVG9yQ00gPT0gXCJjbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AudW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5PUC51bmNlcnRhaW50eSAvIDMwLjQ4KS50b0ZpeGVkKDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5kZWNEZWdPUmRtcyBuZWVkcyB0byBiZSAnZGQnLiBpZiAnZG1zJyA9PWNvbnZlcnQgJHNjb3BlLkRNUyB2YWx1ZXMgdG8gZGRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuZGVjRGVnT1JkbXMgPT0gXCJkbXNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZGVjRGVnT1JkbXMgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1Auc2l0ZV9pZCA9ICRzY29wZS50aGlzT1BzaXRlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yTUVURVIgbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ21ldGVyJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JNRVRFUiA9PSBcIm1ldGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmVsZXZfZnQgPSAkc2NvcGUub3BDb3B5LmVsZXZfZnQgKiAzLjI4MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JDTSBuZWVkcyB0byBiZSAnZnQnLiBpZiAnY20nID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkudW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5vcENvcHkudW5jZXJ0YWludHkgLyAzMC40OCkudG9GaXhlZCg2KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuZGVjRGVnT1JkbXMgbmVlZHMgdG8gYmUgJ2RkJy4gaWYgJ2RtcycgPT1jb252ZXJ0ICRzY29wZS5ETVMgdmFsdWVzIHRvIGRkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLmRlY0RlZ09SZG1zID09IFwiZG1zXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5kZWNEZWdPUmRtcyA9ICdkZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5zaXRlX2lkID0gJHNjb3BlLnRoaXNPUHNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL0NyZWF0ZSB0aGlzIE9QXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5PUEZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGVmYXVsdHMoJHNjb3BlLk9QLCAnY3JlYXRlJyk7IC8vJHNjb3BlLk9QLkZUb3JNRVRFUiwgRlRvckNNLCBkZWNEZWdPUmRtcyAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk9QLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuT1AubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuT1AubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5PUC5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuT1AubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBPUHRvUE9TVCA9IHRyaW1PUCgkc2NvcGUuT1ApOyAvL21ha2UgaXQgYW4gT0JKRUNUSVZFX1BPSU5UIGZvciBzYXZpbmcgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5ULnNhdmUoT1B0b1BPU1QsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPUCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgZWFjaCBvbmUgVEhJUyBXSUxMIENIQU5HRSBTT09OIFRPIEhBVkUgb2JqZWN0aXZlX3BvaW50X2lkIGFscmVhZHkgYWRkZWQgYW5kIG5vdCBzZW50IGFsb25nIHdpdGggaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvcGMgPSAwOyBvcGMgPCAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5sZW5ndGg7IG9wYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzT25lID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNbb3BjXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09uZS5vYmplY3RpdmVfcG9pbnRfaWQgPSByZXNwb25zZS5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX0NPTlRST0xfSURFTlRJRklFUi5zYXZlKHRoaXNPbmUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtjcmVhdGVkT1AsICdjcmVhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgbGF0L2xvbmcgaXMgZ29vZFxyXG4gICAgICAgICAgICAgICAgfS8vIGVuZCB2YWxpZFxyXG4gICAgICAgICAgICB9OyAvL2VuZCBDcmVhdGVcclxuXHJcbiAgICAgICAgICAgIC8vWCB3YXMgY2xpY2tlZCBuZXh0IHRvIGV4aXN0aW5nIENvbnRyb2wgSWRlbnRpZmllciB0byBoYXZlIGl0IHJlbW92ZWQsIHN0b3JlIGluIHJlbW92ZSBhcnJheSBmb3IgU2F2ZSgpXHJcbiAgICAgICAgICAgICRzY29wZS5SZW1vdmVJRCA9IGZ1bmN0aW9uIChvcENvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIC8vb25seSBhZGQgdG8gcmVtb3ZlIGxpc3QgaWYgaXQncyBhbiBleGlzdGluZyBvbmUgdG8gREVMRVRFXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5pbmRleE9mKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wQ29udHJvbC5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkucHVzaChvcENvbnRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHkuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSBjcmVhdGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2kgPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5pbmRleE9mKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGNpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vU2F2ZSB0aGlzIE9QXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUncyBhbiBvcF9jb250cm9sX2lkZW50aWZpZXJfaWQsIFBVVCAuLiBlbHNlIFBPU1RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHlbaV0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leGlzdGluZzogUFVUdmFyIGluZCA9ICRzY29wZS5jaG9zZW5IV01MaXN0Lm1hcChmdW5jdGlvbiAoaHdtKSB7IHJldHVybiBod20uaHdtX2lkOyB9KS5pbmRleE9mKGFIV00uaHdtX2lkKTsgLy9ub3Qgd29ya2luZzo6ICRzY29wZS5jaG9zZW5IV01MaXN0LmluZGV4T2YoYUhXTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGlzdEluZGV4ID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZDsgfSkuaW5kZXhPZigkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHlbaV0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfQ09OVFJPTF9JREVOVElGSUVSLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHlbaV0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkIH0sICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzW2V4aXN0SW5kZXhdID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGNvbnRyb2wgaWRlbnRpZmllcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNPUENvbnRyb2xJRCA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09QQ29udHJvbElELm9iamVjdGl2ZV9wb2ludF9pZCA9ICRzY29wZS5PUC5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX0NPTlRST0xfSURFTlRJRklFUi5zYXZlKHRoaXNPUENvbnRyb2xJRCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3JlYWNoIGFkZGVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhlcmUncyBhZGRlZGlkZW50aWZpZXJzXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXJlJ3MgYW55IGluIHJlbW92ZU9QQ2FycmF5LCBERUxFVEUgdGhvc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZW1vdmVPUENhcnJheS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8ICRzY29wZS5yZW1vdmVPUENhcnJheS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZUluZGV4ID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubWFwKGZ1bmN0aW9uIChyaSkgeyByZXR1cm4gcmkub3BfY29udHJvbF9pZGVudGlmaWVyX2lkOyB9KS5pbmRleE9mKCRzY29wZS5yZW1vdmVPUENhcnJheVtyXS5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX0NPTlRST0xfSURFTlRJRklFUi5kZWxldGUoeyBpZDogJHNjb3BlLnJlbW92ZU9QQ2FycmF5W3JdLm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGRlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZm9yZWFjaCByZW1vdmVPUENhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhlcmUncyByZW1vdmVPUENzXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvb2sgYXQgT1AuRlRvck1FVEVSIChcImZ0XCIpLCBPUC5GVG9yQ00gKFwiZnRcIiksIGFuZCBPUC5kZWNEZWdPUmRtcyAoXCJkZFwiKSwgbWFrZSBzdXJlIHNpdGVfSUQgaXMgb24gdGhlcmUgYW5kIHNlbmQgaXQgdG8gdHJpbSBiZWZvcmUgUFVUICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREZWZhdWx0cygkc2NvcGUub3BDb3B5LCAnZWRpdCcpOyAvLyRzY29wZS5PUC5GVG9yTUVURVIsIEZUb3JDTSwgZGVjRGVnT1JkbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE9QdG9QT1NUID0gdHJpbU9QKCRzY29wZS5vcENvcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUHRvUE9TVC5vYmplY3RpdmVfcG9pbnRfaWQgPSAkc2NvcGUub3BDb3B5Lm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1IVFRQLU1ldGhvZC1PdmVycmlkZSddID0gJ1BVVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVC51cGRhdGUoeyBpZDogT1B0b1BPU1Qub2JqZWN0aXZlX3BvaW50X2lkIH0sIE9QdG9QT1NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AgPSByZXNwb25zZTsgdGhpc09QID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk9QLmRhdGVfcmVjb3ZlcmVkICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kYXRlX3JlY292ZXJlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9yZWNvdmVyZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLm9wVHlwZSA9ICRzY29wZS5PUC5vcF90eXBlX2lkID4gMCA/ICRzY29wZS5PUFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5vYmplY3RpdmVfcG9pbnRfdHlwZV9pZCA9PSAkc2NvcGUuT1Aub3BfdHlwZV9pZDsgfSlbMF0ub3BfdHlwZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLnF1YWxpdHkgPSAkc2NvcGUuT1Aub3BfcXVhbGl0eV9pZCA+IDAgPyAkc2NvcGUuT1BRdWFsaXR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHEpIHsgcmV0dXJuIHEub3BfcXVhbGl0eV9pZCA9PSAkc2NvcGUuT1Aub3BfcXVhbGl0eV9pZDsgfSlbMF0ucXVhbGl0eSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhkYXR1bSA9ICRzY29wZS5PUC5oZGF0dW1faWQgPiAwID8gJHNjb3BlLkhETGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSAkc2NvcGUuT1AuaGRhdHVtX2lkOyB9KVswXS5kYXR1bV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuaENvbGxlY3RNZXRob2QgPSAkc2NvcGUuT1AuaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5IQ29sbGVjdE1ldGhvZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoYykgeyByZXR1cm4gaGMuaGNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5PUC5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLnZEYXR1bSA9ICRzY29wZS5PUC52ZGF0dW1faWQgPiAwID8gJHNjb3BlLlZEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLk9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLnZDb2xsZWN0TWV0aG9kID0gJHNjb3BlLk9QLnZjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUuVkNvbGxlY3RNZXRob2RMaXN0LmZpbHRlcihmdW5jdGlvbiAodmMpIHsgcmV0dXJuIHZjLnZjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuT1AudmNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS52Y29sbGVjdF9tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weSA9IFtdOyAkc2NvcGUudmlldy5PUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUhUVFAtTWV0aG9kLU92ZXJyaWRlJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgbGF0L2xvbmcgYXJlIGdvb2RcclxuICAgICAgICAgICAgICAgIH0vLyBlbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsgLy9lbmQgU2F2ZVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBPUCBmcm9tIHRoZSBTSVRFXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVPUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0RGF0dW1Mb2NhdGlvbk9QTWVhc3VyZXMoeyBvYmplY3RpdmVQb2ludElkOiAkc2NvcGUuT1Aub2JqZWN0aXZlX3BvaW50X2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3BPblRhcGVkb3duTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkNhbm5vdCBEZWxldGU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBEYXR1bSBMb2NhdGlvbiBpcyBiZWluZyB1c2VkIGZvciBvbmUgb3IgbW9yZSBzZW5zb3IgdGFwZSBkb3ducy4gUGxlYXNlIGRlbGV0ZSB0aGUgdGFwZSBkb3duIGJlZm9yZSBkZWxldGluZyB0aGUgZGF0dW0gbG9jYXRpb24uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ubyB0YXBlZG93bnMsIHByb2NlZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5PUDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiT2JqZWN0aXZlIFBvaW50XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAob3BUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5ULmRlbGV0ZSh7IGlkOiBvcFRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCB9LCBvcFRvUmVtb3ZlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBod21GaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BJbWFnZUZpbGVzID0gW107IC8vY2xlYXIgb3V0IGltYWdlIGZpbGVzIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHJlbW92ZSBhbGwgdGhlc2UgZmlsZXMgZnJvbSBTaXRlRmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hbGxTRmlsZXNbbF0ub2JqZWN0aXZlX3BvaW50X2lkID09IG9wVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKSAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtcImRlXCIsICdkZWxldGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGVsc2UgKHByb2NlZWQgd2l0aCBkZWxldGUpXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXR1bSBsb2NhdGlvbiBtZWFzdXJlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXR1bSBsb2NhdGlvbiBtZWFzdXJlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7IC8vZW5kIGdldCBvcG1lYXN1cmVtZW50c1xyXG4gICAgICAgICAgICB9OyAvL2VuZCBkZWxldGVcclxuXHJcbiAgICAgICAgICAgIC8vbGF0IG1vZGFsIFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxhdE1vZGFsID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgTGF0aXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDczLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxhdE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI2xhdGl0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHJpZ2h0IG51bWJlciByYW5nZVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCA9PSAnZG1zJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGRlZ3JlZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnIDwgMCB8fCAkc2NvcGUuRE1TLkxBRGVnID4gNzMgfHwgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpICYmICRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgfHwgKGlzTmFOKCRzY29wZS5ETVMuTEFNaW4pICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCkgfHwgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpICYmICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQURlZykpICRzY29wZS5ETVMuTEFEZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBTWluKSkgJHNjb3BlLkRNUy5MQU1pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpKSAkc2NvcGUuRE1TLkxBU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyA8IC0xNzUgfHwgJHNjb3BlLkRNUy5MT0RlZyA+IC02MCB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykgJiYgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykpICRzY29wZS5ETVMuTE9EZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPTWluKSkgJHNjb3BlLkRNUy5MT01pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9TZWMpKSAkc2NvcGUuRE1TLkxPU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wID0gJHNjb3BlLnZpZXcuT1B2YWwgPT0gJ2VkaXQnID8gJHNjb3BlLm9wQ29weSA6ICRzY29wZS5PUDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3AubGF0aXR1ZGVfZGQgPCAwIHx8IG9wLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4ob3AubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihvcC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcC5sb25naXR1ZGVfZGQgPCAtMTc1IHx8IG9wLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTihvcC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4ob3AubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgaHdtIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0T1AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5PUHZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLk9QKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkuZGVjRGVnT1JkbXMgPSAnZGQnOyAkc2NvcGUub3BDb3B5LkZUb3JNRVRFUiA9ICdmdCc7ICRzY29wZS5vcENvcHkuRlRvckNNID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYWRkZWRJZGVudGlmaWVycyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxPUEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5PUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weSA9IFtdO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcblxyXG4gICAgICAgIH1dKTsvL2VuZCBPUG1vZGFsQ3RybFxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignb2JqZWN0aXZlUG9pbnRDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJ09CSkVDVElWRV9QT0lOVCcsICdNRU1CRVInLCAnU0lURScsICd0aGlzU2l0ZScsICd0aGlzU2l0ZU9QcycsICdhbGxPUFR5cGVzJywgJ2FsbEhvckRhdHVtcycsICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgJ2FsbE9QUXVhbGl0aWVzJywgJ2FsbEZpbGVUeXBlcycsICdhbGxBZ2VuY2llcycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkdGltZW91dCwgT0JKRUNUSVZFX1BPSU5ULCBNRU1CRVIsIFNJVEUsIHRoaXNTaXRlLCB0aGlzU2l0ZU9QcywgYWxsT1BUeXBlcywgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsVmVydERhdHVtcywgYWxsVmVydENvbE1ldGhvZHMsIGFsbE9QUXVhbGl0aWVzLCBhbGxGaWxlVHlwZXMsIGFsbEFnZW5jaWVzKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3VudCA9IHsgdG90YWw6IHRoaXNTaXRlT1BzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMgPSB0aGlzU2l0ZU9QcztcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd09QTW9kYWwgPSBmdW5jdGlvbiAoT1BjbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAob2Z0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgb2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdOR1MgRGF0YXNoZWV0JyB8fCBvZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXNzQWxsTGlzdHMgPSBbYWxsT1BUeXBlcywgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsVmVydERhdHVtcywgYWxsVmVydENvbE1ldGhvZHMsIGFsbE9QUXVhbGl0aWVzLCAkc2NvcGUub3BGaWxlVHlwZXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5pbmRleE9mKE9QY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCA6ICdPUG1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnT1Btb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhc3NBbGxMaXN0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzT1A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1BjbGlja2VkICE9PSAwID8gT1BjbGlja2VkOiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09QQ29udHJvbHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT1BjbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPQkpFQ1RJVkVfUE9JTlQuZ2V0T1BDb250cm9scyh7aWQ6IE9QY2xpY2tlZC5vYmplY3RpdmVfcG9pbnRfaWR9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZE9QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgb3Agb3IganVzdCBjbG9zZWQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IGZhbHNlIH07IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZE9QICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkT1BbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMucHVzaChjcmVhdGVkT1BbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRPUFsxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGZyb20gZWRpdCAtLSByZWZyZXNoIHBhZ2U/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaUNsaWNrZWQgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5pbmRleE9mKE9QY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHNbaUNsaWNrZWRdID0gY3JlYXRlZE9QO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkT1BbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZDEgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5pbmRleE9mKE9QY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMuc3BsaWNlKGluZGV4Q2xpY2tlZDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJkcmFwZXIgb24gMy85LzIwMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignTWFwU2l0ZUluZm9Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnU0lURScsICdsZWFmbGV0TWFya2VyRXZlbnRzJywgJ2xlYWZsZXRCb3VuZHNIZWxwZXJzJywgJyRzdGF0ZScsICdzcGlubmVyU2VydmljZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sIFNJVEUsICBsZWFmbGV0TWFya2VyRXZlbnRzLCBsZWFmbGV0Qm91bmRzSGVscGVycywgJHN0YXRlLCBzcGlubmVyU2VydmljZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0geyBzaXRlT3BlbjogdHJ1ZSB9OyAvL2FjY29yZGlvbiBmb3Igc2l0ZUluZm9cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ21hcFNpdGVDbGlja1Jlc3VsdHMnLCBmdW5jdGlvbiAoZXZlbnQsIHNpdGVQYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0gc2l0ZVBhcnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgLy9vbmx5IDYgZGVjaW1hbCBwbGFjZXMgZm9yIGxhdC9sb25nXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQudG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcInNpdGVJbmZvU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZ29Ub1NpdGVEYXNoYm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NpdGUuZGFzaGJvYXJkJywgeyBpZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pOy8vZW5kIGNvbnRyb2xsZXIgZnVuY3Rpb25cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYmRyYXBlciBvbiAzLzkvMjAxNi5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdNYXBTZW5zb3JQcm9wb3NlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJ1NJVEUnLCAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdhbGxEZXBsb3lUeXBlcycsICdhbGxTZW5zRGVwcycsICdsZWFmbGV0TWFya2VyRXZlbnRzJywgJ2xlYWZsZXRCb3VuZHNIZWxwZXJzJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0LCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCBTSVRFLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgYWxsRGVwbG95VHlwZXMsIGFsbFNlbnNEZXBzLCBsZWFmbGV0TWFya2VyRXZlbnRzLCBsZWFmbGV0Qm91bmRzSGVscGVycywgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgIC8vd2hlbiBhIHNpdGUgaXMgIGNsaWNrZWQsIHRoaXMgd2lsbCBiZSB0cmlnZ2VyZWQgZnJvbSBzZXJ2aWNlIHRvIGxldCB0aGlzIGNvbnRyb2xsZXIga25vdyBhYm91dCBpdFxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignbWFwU2l0ZUNsaWNrUmVzdWx0cycsIGZ1bmN0aW9uIChldmVudCwgc2l0ZVBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1NpdGUgPSBzaXRlUGFydHNbMF07IC8vaGVyZSdzIHRoZSBzaXRlIHRoZXkgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5zZW5zb3JPcGVuID0gZmFsc2U7IC8vbWFrZSBzdXJlIHRoZSBwcm9wb3NlZCBzZW5zb3IgYWNjb3JkaW9uIGlzIGNsb3NlZCBzbyB0aGV5IGhhdmUgdG8gb3BlbiBhbmQgdHJpZ2dlciB0aGUgZ2V0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvcG9zZWRTZW5zb3JzNFNpdGUgPSBbXTsgLy9tYWtlIHN1cmUgdGhpcyBpcyBjbGVhciBpbiBjYXNlIHRoZXkgYXJlIGNsaWNraW5nIG9uIG9uZSBzaXRlIGFmdGVyIGFub3RoZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSBmYWxzZTsgLy9oaWRlIHRoZSBwcm9wb3NlZCBzZW5zb3IgdHlwZSBsaXN0IGluaXRpYWxseVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9hbGwgZGVwbG95bWVudCB0eXBlc1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3QgPSBhbmd1bGFyLmNvcHkoYWxsRGVwbG95VHlwZXMpO1xyXG4gICAgICAgICAgICB2YXIgdGVtcERlcFR5cGVJRCA9IDA7XHJcblxyXG4gICAgICAgICAgICAvL2ZpeCBkZXBsb3ltZW50IHR5cGVzIHNvIHRoYXQgXCJUZW1wZXJhdHVyZVwiIGJlY29tZXMgMiA6IFRlbXBlcmF0dXJlIChNZXQgc2Vuc29yKS1TZW5zb3JUeXBlOjIgYW5kIFRlbXBlcmF0dXJlIChwcmVzc3VyZSB0cmFuc2R1Y2VyKS1TZW5zb3JUeXBlOjEgLS0ganVzdCBmb3IgcHJvcG9zZWRcclxuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCAkc2NvcGUuZGVwbG95VHlwZUxpc3QubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwbG95VHlwZUxpc3RbZF0ubWV0aG9kID09PSBcIlRlbXBlcmF0dXJlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wRGVwVHlwZUlEID0gJHNjb3BlLmRlcGxveVR5cGVMaXN0W2RdLmRlcGxveW1lbnRfdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZF0ubWV0aG9kID0gXCJUZW1wZXJhdHVyZSAoTWV0IHNlbnNvcilcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3QucHVzaCh7IGRlcGxveW1lbnRfdHlwZV9pZDogdGVtcERlcFR5cGVJRCwgbWV0aG9kOiBcIlRlbXBlcmF0dXJlIChQcmVzc3VyZSBUcmFuc2R1Y2VyKVwiIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9wcm9wb3NlZCBzZW5zb3JzIGFjY29yZGlvbiB3YXMgb3BlbmVkLCBnbyBnZXQgdGhlbVxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0UHJvcG9zZWRTZW5zb3JzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgU0lURS5nZXRTaXRlU2Vuc29ycyh7IGlkOiAkc2NvcGUudGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gbWFrZSBzdXJlIHRoZSBpbnN0cnVtZW50X3N0YXR1c2VzIGFyZSBpbiB0aGUgY29ycmVjdCBvcmRlciAoWzBdUmV0cmlldmVkLCBbMV1EZXBsb3llZCwgWzJdUHJvcG9zZWQgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzUmVzcG9uc2UubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvcnJlY3RPcmRlclNTID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5zb3JTdGF0dXNlcyA9IHNSZXNwb25zZVtzXS5pbnN0cnVtZW50X3N0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbnNvclN0YXR1c2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBjYXJlIGFib3V0IG9yZGVyIGlmIHRoZXJlJ3MgbW9yZSB0aGFuIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJQcm9wb3NlZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXBsb3llZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJEZXBsb3llZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXRMb3N0U3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIlJldHJpZXZlZFwiIHx8IHBzLnN0YXR1cyA9PSBcIkxvc3RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBhZGQgdGhlbSBiYWNrIGluIGNvcnJlY3RseSAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRMb3N0U3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChyZXRMb3N0U3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwbG95ZWRTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKGRlcGxveWVkU3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcG9zZWRTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKHByb3Bvc2VkU3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0T3JkZXJTUy5wdXNoKHNlbnNvclN0YXR1c2VzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBwdXQgaXQgYmFjayBpbiB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNSZXNwb25zZVtzXS5pbnN0cnVtZW50X3N0YXR1cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzUmVzcG9uc2Vbc10uaW5zdHJ1bWVudF9zdGF0dXMgPSBjb3JyZWN0T3JkZXJTUztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlByb3Bvc2VkU2Vuc29yczRTaXRlID0gc1Jlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoc3MpIHsgcmV0dXJuIHNzLmluc3RydW1lbnRfc3RhdHVzWzBdLnN0YXR1c190eXBlX2lkID09IDQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBzZW5zb3JzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgc2Vuc29yczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2FsbCBzZW5zb3IgZGVwbG95bWVudHMgKHJlbGF0aW9uc2hpcCB0YWJsZSlcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNEZXBUeXBlcyA9IGFsbFNlbnNEZXBzO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gZmFsc2U7IC8vdGhleSB3YW50IHRvIGFkZCBhIHByb3Bvc2VkIHNlbnNvciwgb3BlbiBvcHRpb25zIChib29sZWFuIHRvZ2dsZSlcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHsgc2Vuc29yT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb24gb3BlbiBvciBjbG9zZWRcclxuICAgICAgICAgICAgLy9zaG93L2hpZGUgcHJvcG9zZWQgc2Vuc29ycyB0byBhZGRcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dIaWRlUHJvcG9zZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gISRzY29wZS5zaG93UHJvcG9zZWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbCBwcm9wb3NpbmcgYSBzZW5zb3IsIGNsb3NlIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxQcm9wb3NpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vYWRkIHRoZXNlIGNoZWNrZWQgUHJvcG9zZWQgc2Vuc29ycyB0byB0aGlzIHNpdGVcclxuICAgICAgICAgICAgJHNjb3BlLkFkZFByb3Bvc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIFRpbWVfU1RBTVAgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZHQgPSAwOyBkdCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGR0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcG9zZWRUb0FkZCA9IHt9OyB2YXIgcHJvcFN0YXRUb0FkZCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0ubWV0aG9kLnN1YnN0cmluZygwLCA0KSA9PSBcIlRlbXBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90ZW1wZXJhdHVyZSBwcm9wb3NlZCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VkVG9BZGQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fZGVzY3JpcHRpb246IFwiUHJvcG9zZWQgc2Vuc29yIGF0IHRoaXMgc2l0ZS4gQ2hhbmdlIGRlc2NyaXB0aW9uIHdoZW4gZGVwbG95aW5nIHNlbnNvci5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlX2lkOiAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLm1ldGhvZCA9PSBcIlRlbXBlcmF0dXJlIChQcmVzc3VyZSBUcmFuc2R1Y2VyKVwiID8gMSA6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIHRoZSBuZXcgZnVsbEluc3RydW1lbnQgYW5kIHNlZSBpZiBhbnkgb2YgdGhlIHNlbnNvcidzIGRlcGxveW1lbnR0eXBlcyBhcmUgdGhpcyBkZXBsb3ltZW50IHR5cGUgdG8gc2V0IHRoZSBzZW5zb3JfdHlwZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnNlbnNEZXBUeXBlcywgZnVuY3Rpb24gKHNkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgc2R0LmRlcGxveW1lbnR0eXBlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2R0LmRlcGxveW1lbnR0eXBlc1t4XS5kZXBsb3ltZW50X3R5cGVfaWQgPT0gJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5kZXBsb3ltZW50X3R5cGVfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzSUQgPSBzZHQuc2Vuc29yX3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSBvdGhlciB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFRvQWRkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2Rlc2NyaXB0aW9uOiBcIlByb3Bvc2VkIHNlbnNvciBhdCB0aGlzIHNpdGUuIENoYW5nZSBkZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBzZW5zb3IuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudF90eXBlX2lkOiAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogc0lEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHBvc3QgaXQgKEluc3RydW1lbnQgZmlyc3QsIHRoZW4gSW5zdHJ1bWVudCBTdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50SUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnNhdmUocHJvcG9zZWRUb0FkZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFByb3BTZW5zb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudF90eXBlX2lkOiByZXNwb25zZS5kZXBsb3ltZW50X3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogcmVzcG9uc2Uuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogcmVzcG9uc2Uuc2Vuc29yX3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogcmVzcG9uc2UuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50VHlwZTogJHNjb3BlLmRlcGxveVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZHRsKSB7IHJldHVybiBkdGwuZGVwbG95bWVudF90eXBlX2lkID09IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvclR5cGU6ICRzY29wZS5zZW5zRGVwVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl90eXBlX2lkID09IHJlc3BvbnNlLnNlbnNvcl90eXBlX2lkOyB9KVswXS5zZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdFRvQWRkID0geyBpbnN0cnVtZW50X2lkOiByZXNwb25zZS5pbnN0cnVtZW50X2lkLCBzdGF0dXNfdHlwZV9pZDogNCwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpLCB0aW1lX3N0YW1wOiBUaW1lX1NUQU1QLCB0aW1lX3pvbmU6ICdVVEMnLCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnNhdmUocHJvcFN0YXRUb0FkZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcFN0YXRUb0FkZC5zdGF0dXMgPSAnUHJvcG9zZWQnOyBwcm9wU3RhdFRvQWRkLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRQcm9wU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gW3Byb3BTdGF0VG9BZGRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNvcnM0U2l0ZS5wdXNoKGNyZWF0ZWRQcm9wU2Vuc29yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhbiB1cCAuLi5hbGwgdW5jaGVja2VkIGFuZCB0aGVuIGhpZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkZXAgPSAwOyBkZXAgPCAkc2NvcGUuZGVwbG95VHlwZUxpc3QubGVuZ3RoOyBkZXArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZGVwXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIHlvdSB3YW50IGNhbiBnbyBoZXJlIGFuZCB3aWxsIHNhZmVseSBiZSBydW4gb24gdGhlIG5leHQgZGlnZXN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUHJvcG9zZWQgc2Vuc29yIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBzdGF0dXMgZmFpbHMsIGRlbGV0ZSB0aGUgaW5zdHJ1bWVudCB0b29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBpbnN0cnVtZW50SUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5kZXBsb3lUeXBlTGlzdCwgZnVuY3Rpb24gKGR0KSB7IGR0LnNlbGVjdGVkID0gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIElOU1RSVU1FTlRfU1RBVFVTLnNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy9lbmQgSU5TVFJVTUVOVC5zYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNlbGVjdGVkID09IHRydWVcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBmb3JlYWNoIGRlcGxveVR5cGVMaXN0XHJcbiAgICAgICAgICAgIH07Ly9lbmQgQWRkUHJvcG9zZWQoKVxyXG5cclxuICAgICAgICB9XSk7Ly9lbmQgY29udHJvbGxlciBmdW5jdGlvblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJkcmFwZXIgb24gMy85LzIwMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignTWFwUGVha3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckaHR0cCcsICckY29va2llcycsICckbG9jYXRpb24nLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdsZWFmbGV0Qm91bmRzSGVscGVycycsICckc3RhdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRodHRwLCAkY29va2llcywgJGxvY2F0aW9uLCBsZWFmbGV0TWFya2VyRXZlbnRzLCBsZWFmbGV0Qm91bmRzSGVscGVycywgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdtYXBTaXRlQ2xpY2tSZXN1bHRzJywgZnVuY3Rpb24gKGV2ZW50LCBzaXRlUGFydHMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUGVha3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBhbGxTaXRlUGVha3MgPSBzaXRlUGFydHNbMV07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IGFsbFNpdGVQZWFrcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxTaXRlUGVha3NbcF0uZXZlbnRfbmFtZSA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVQZWFrcy5wdXNoKGFsbFNpdGVQZWFrc1twXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1BlYWtzID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1BlYWtzID0gZmFsc2U7XHJcbiAgICAgICAgfV0pOy8vZW5kIGNvbnRyb2xsZXIgZnVuY3Rpb25cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBiZHJhcGVyIG9uIDQvNy8yMDE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcEZpbHRlcnNDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnU0lURScsICdFVkVOVCcsICdNYXBfRmlsdGVyJywgJyRzdGF0ZScsICdzdGF0ZUxpc3QnLCAnc2Vuc29yVHlwZXMnLCAnbmV0d29ya05hbWVzJywgJ3NwaW5uZXJTZXJ2aWNlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgU0lURSwgRVZFTlQsIE1hcF9GaWx0ZXIsICRzdGF0ZSwgc3RhdGVMaXN0LCBzZW5zb3JUeXBlcywgbmV0d29ya05hbWVzLCBzcGlubmVyU2VydmljZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0geyBzaXRlT3BlbjogdHJ1ZSB9OyAvL2FjY29yZGlvbiBmb3Igc2l0ZUluZm9cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBzdGF0ZUxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5UeXBlcyA9IHNlbnNvclR5cGVzO1xyXG4gICAgICAgICAgICAkc2NvcGUubmV0TmFtZXMgPSBuZXR3b3JrTmFtZXM7XHJcbiAgICAgICAgICAgICRzY29wZS5zdXJ2ZXlPcHRpb25zID0gW3sgaWQ6IHRydWUsIHZhbHVlOiBcIlN1cnZleWVkIEhXTXNcIiB9LCB7IGlkOiBmYWxzZSwgdmFsdWU6IFwiVW5zdXJ2ZXllZCBIV01zXCIgfV07XHJcbiAgICAgICAgICAgICRzY29wZS5DaG9zZW4gPSB7XHJcbiAgICAgICAgICAgICAgICBuZXR3b3JrOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2Vuc29yOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3VydmV5OiBudWxsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gW107IC8vdXNlZCB0byBqb2luIGVhY2ggYWJicmV2IHRvIHBhc3MgdG8gY2FsbFxyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRTaXRlc09ubHk6ICcxJyxcclxuICAgICAgICAgICAgICAgIGh3bU9ubHk6ICcwJyxcclxuICAgICAgICAgICAgICAgIHNlbk9ubHk6ICcwJyxcclxuICAgICAgICAgICAgICAgIHJkZ09ubHk6ICcwJyxcclxuICAgICAgICAgICAgICAgIG9wRGVmaW5lZDogJzAnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoU2l0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgIC8vc3RvcmUgc2VhcmNoIGluIGNhc2UgdGhleSBsZWF2ZSBhbmQgY2xpY2sgYmFja1xyXG4gICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2Uuc2hvdyhcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNoZWNrYm94TW9kZWwuZXZlbnRTaXRlc09ubHkgPT09IFwiMVwiICYmICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVTdHJpbmcgPSAkc2NvcGUuY2hvc2VuU3RhdGVzLmpvaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2SUQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2VhcmNoUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICRzY29wZS5jaG9zZW5TdGF0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclR5cGU6ICRzY29wZS5DaG9zZW4uc2Vuc29yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrTmFtZTogJHNjb3BlLkNob3Nlbi5uZXR3b3JrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01Pbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01TdXJ2ZXllZDogJHNjb3BlLkNob3Nlbi5zdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvck9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJER09ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QRGVmaW5lZDogJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBTSVRFLmdldEZpbHRlcmVkU2l0ZXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudDogZXZJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGU6IHN0YXRlU3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JUeXBlOiAkc2NvcGUuQ2hvc2VuLnNlbnNvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya05hbWU6ICRzY29wZS5DaG9zZW4ubmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNU3VydmV5ZWQ6ICRzY29wZS5DaG9zZW4uc3VydmV5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSREdPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5yZGdPbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUERlZmluZWQ6ICRzY29wZS5jaGVja2JveE1vZGVsLm9wRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5zaXRlTGlzdCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNpdGVSZXNwb25zZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcF9GaWx0ZXIuc2V0RmlsdGVyZWRTaXRlcyhyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5jaGVja2JveE1vZGVsLmV2ZW50U2l0ZXNPbmx5ID09PSBcIjBcIiB8fCAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID09PSBmYWxzZSkge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlU3RyaW5nID0gJHNjb3BlLmNob3NlblN0YXRlcy5qb2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTGlzdCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlYXJjaFBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICRzY29wZS5jaG9zZW5TdGF0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclR5cGU6ICRzY29wZS5DaG9zZW4uc2Vuc29yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrTmFtZTogJHNjb3BlLkNob3Nlbi5uZXR3b3JrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01Pbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01TdXJ2ZXllZDogJHNjb3BlLkNob3Nlbi5zdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvck9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJER09ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QRGVmaW5lZDogJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwID0gJHJvb3RTY29wZS5zZWFyY2hQYXJhbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwLkhXTU9ubHkgPT09IFwiMFwiICYmIHNwLkhXTVN1cnZleWVkID09PSBudWxsICYmIHNwLk5ldHdvcmtOYW1lID09PSBudWxsICYmIHNwLk9QRGVmaW5lZCA9PT0gXCIwXCIgJiYgc3AuUkRHT25seSA9PT0gXCIwXCIgJiYgc3AuU2Vuc29yT25seSA9PT0gXCIwXCIgJiYgc3AuU2Vuc29yVHlwZSA9PT0gbnVsbCAmJiBzcC5zdGF0ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSBcInRvYXN0LWJvdHRvbS1yaWdodFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZyhcIlBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHNlYXJjaCBwYXJhbWV0ZXIuXCIsIFwiTWFwIEZpbHRlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0RmlsdGVyZWRTaXRlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlOiBzdGF0ZVN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcF9GaWx0ZXIuc2V0RmlsdGVyZWRTaXRlcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBzZWFyY2hTaXRlcyBjbGljayBhY3Rpb25cclxuXHJcbiAgICAgICAgICAgIC8vYWRkIGVhY2ggc3RhdGUgdG8gYW4gYXJyYXkgdG8gYmUgam9pbmVkIGluIHRoZSBHRVRcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzLnB1c2goZGF0YS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2VsZWN0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuaW5kZXhPZihkYXRhLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMuc3BsaWNlKGluZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jbGVhciB0aGUgZmlsdGVyIGNob2ljZXMgKHN0YXJ0IG92ZXIpXHJcbiAgICAgICAgICAgICRzY29wZS5jbGVhckZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5zaG93KFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U2l0ZXNPbmx5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bU9ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VuT25seTogMCxcclxuICAgICAgICAgICAgICAgICAgICByZGdPbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wRGVmaW5lZDogMFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW4gPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc3RhdGVzLCBmdW5jdGlvbiAoc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZJRCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSA6IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXNQcm9taXNlID0gRVZFTlQuZ2V0RXZlbnRTaXRlcyh7IGlkOiBldklEIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXBfRmlsdGVyLnNldEZpbHRlcmVkU2l0ZXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vICRyb290U2NvcGUuJG9uKCdtYXBTaXRlQ2xpY2snLCBmdW5jdGlvbiAoZXZlbnQsIHNpdGVQYXJ0cykge1xyXG4gICAgICAgICAgICAvLyAgICAgJHNjb3BlLmFTaXRlID0gc2l0ZVBhcnRzWzBdO1xyXG4gICAgICAgICAgICAvLyAgICAgLy9vbmx5IDYgZGVjaW1hbCBwbGFjZXMgZm9yIGxhdC9sb25nXHJcbiAgICAgICAgICAgIC8vICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZC50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgLy8gICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQudG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB9XSk7Ly9lbmQgY29udHJvbGxlciBmdW5jdGlvblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignTWFwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJ1NJVEUnLCAnRVZFTlQnLCAnTWFwX1NpdGUnLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdsZWFmbGV0Qm91bmRzSGVscGVycycsICdsZWFmbGV0RGF0YScsICckc3RhdGUnLCAnc3Bpbm5lclNlcnZpY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCBTSVRFLCBFVkVOVCwgTWFwX1NpdGUsIGxlYWZsZXRNYXJrZXJFdmVudHMsIGxlYWZsZXRCb3VuZHNIZWxwZXJzLCBsZWFmbGV0RGF0YSwgJHN0YXRlLCBzcGlubmVyU2VydmljZSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiTWFwXCI7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSBcIm1hcFwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBcIk1hbnkgb2YgdGhlIHN1cHBsZW1lbnRhbCBHSVMgZGF0YSBsYXllcnMgZm91bmQgaW4gdGhlIG1hcCBhcmUgZnJvbSBhIHJhbmdlIG9mIHNvdXJjZXMgYW5kIGFyZSBub3QgbWFpbnRhaW5lZCBieSBXaU0uIFdlIG9mZmVyIHRoZXNlIG1hcCBsYXllcnMgYXMgYSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJkZWNpc2lvbiBzdXBwb3J0IHN1cHBsZW1lbnQgdG8gdGhlIFNUTiBzaXRlcyBsYXllciwgYnV0IHdlIGNhbm5vdCBndWFyYW50ZWUgdGhlaXIgcGVyZm9ybWFuY2UgYW5kIGF2YWlsYWJpbGl0eS4gTWFueSBvZiB0aGVzZSBleHRlcm5hbGx5IG1haW50YWluZWQgbGF5ZXJzIGFyZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJsYXJnZSBkYXRhc2V0cyBhbmQgbWF5IGxvYWQgc2xvd2x5IGRlcGVuZGluZyBvbiBuZXR3b3JrIGxhdGVuY3kuIEluIHNvbWUgY2FzZXMgdGhleSBtYXkgZmFpbCB0byBsb2FkIGVudGlyZWx5IHdoZW4gbmV0d29yayBsYXRlbmN5IGlzIGhpZ2guXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ2ZpbHRlclNpdGVzQ2xpY2snLCBmdW5jdGlvbiAoZXZlbnQsIGZpbHRlcmVkU2l0ZXNBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZFNpdGVzQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0V2ZW50U2l0ZXMoZmlsdGVyZWRTaXRlc0FycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RvYXN0ci5vcHRpb25zKHtcInBvc2l0aW9uQ2xhc3NcIjogXCJ0b2FzdC1ib3R0b20tcmlnaHRcIn0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5wb3NpdGlvbkNsYXNzID0gXCJ0b2FzdC1ib3R0b20tcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoXCJZb3VyIGZpbHRlciByZXR1cm5lZCBubyByZXN1bHRzLlwiLCBcIk1hcCBGaWx0ZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpY29ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdG46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuU2l0ZUljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdG5HcmF5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blNpdGVHcmF5J1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U2l0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZXdTaXRlSWNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFs1LCA1XVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTIsIDEyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2VsZWN0ZWRJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbndpczogTC5kaXZJY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdhcnJvdy11cCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWNvbkFuY2hvcjogWzEzLjUsIDE3LjVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3B1cEFuY2hvcjogWzAsIC0xMV1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvYWN0aW9uLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvd190aHJlc2hvbGQ6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvbG93X3RocmVzaG9sZC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBtYWpvcjogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9tYWpvci5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBtaW5vcjogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9taW5vci5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBtb2RlcmF0ZTogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9tb2RlcmF0ZS5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBub19mbG9vZGluZzogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9ub19mbG9vZGluZy5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBub3RfZGVmaW5lZDogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9ub3RfZGVmaW5lZC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBvYnNfbm90X2N1cnJlbnQ6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvb2JzX25vdF9jdXJyZW50LnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG91dF9vZl9zZXJ2aWNlOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL291dF9vZl9zZXJ2aWNlLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGVzIHRoZSBtYXJrZXJzIG9uIHRoZSBtYXAgYWZ0ZXIgZ2V0dGluZyBKU09OIGZyb20gU1ROIHdlYiBzZXJ2aWNlcyBjYWxsXHJcbiAgICAgICAgICAgICAgICB2YXIgc2hvd0V2ZW50U2l0ZXMgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZXNBcnJheSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlcyA9IHNpdGVzQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vyc0xhdExuZ0FycmF5ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vY29udHJvbHMgbWV0aG9kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldERpcmVjdGl2ZUNvbnRyb2xzKCkudGhlbihmdW5jdGlvbiAoY29udHJvbHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLm1hcmtlcnMuY3JlYXRlKHt9LCAkc2NvcGUubWFya2Vycyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpdGVzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gc2l0ZXNBcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBhLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogYS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlNUTiBTaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0aGlzICdtYXJrZXJzTGF0TG5nQXJyYXknIGZvciB0aGUgem9vbSB0byBib3VuZHMgLSByZXF1aXJlcyBzaW1wbGUgbGF0L2xuZyBhcnJheSB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vyc0xhdExuZ0FycmF5LnB1c2goW2EubGF0aXR1ZGVfZGQsIGEubG9uZ2l0dWRlX2RkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLm1hcmtlcnMuY3JlYXRlKG1hcmtlcnMsICRzY29wZS5tYXJrZXJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBtYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLnRhYmxlKCRzY29wZS5tYXJrZXJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIExMQm91bmRzID0gIG5ldyBMLkxhdExuZ0JvdW5kcygkc2NvcGUubWFya2Vyc0xhdExuZ0FycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYm91bmRzID0gbGVhZmxldEJvdW5kc0hlbHBlcnMuY3JlYXRlQm91bmRzRnJvbUFycmF5KFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgW0xMQm91bmRzLl9ub3J0aEVhc3QubGF0LCBMTEJvdW5kcy5fbm9ydGhFYXN0LmxuZ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIFtMTEJvdW5kcy5fc291dGhXZXN0LmxhdCwgTExCb3VuZHMuX3NvdXRoV2VzdC5sbmddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLy8vL2VuZCBjb250cm9scyBtZXRob2QvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy9yYW5kbyBrZXlzIG1ldGhvZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgc2l0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgYSA9IHNpdGVzQXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBtYXJrZXJJRCA9ICRzY29wZS5tYWtlSUQoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICBsYXllcjonc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgbGF0OiBhLmxhdGl0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgbG5nOiBhLmxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIHNpdGVfaWQ6IGEuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIHRpdGxlOiBcIlNUTiBTaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICBpY29uOiBpY29ucy5zdG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5tYXJrZXJzW21hcmtlcklEXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxheWVyOidzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsYXQ6IGEubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsbmc6IGEubG9uZ2l0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6IFwiU1ROIFNpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGljb246IGljb25zLnN0blxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUubWFya2Vyc0xhdExuZ0FycmF5LnB1c2goW2EubGF0aXR1ZGUsIGEubG9uZ2l0dWRlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy9lbmQgcmFuZG8ga2V5cyBtZXRob2QvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5wYXRoc09iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjaXJjbGVNYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjaXJjbGVNYXJrZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAyMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwOTknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRsbmdzOiB7fVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL3N0b3JlcyB0aGUgbGFzdCBzZWxlY3RlZCBtYXJrZXIgaW5kZXgsIHNvIGl0cyBpY29uIGFuZCBsYWJlbCBjYW4gYmUgcmVzZXQgYXMgdGhlIGZpcnN0IHRoaW5nIHRvIGhhcHBlbiBhZnRlciBjbGlja1xyXG4gICAgICAgICAgICAgICAgLy92YXIgc2VsZWN0ZWRNYXJrZXJOdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtID0gMDtcclxuICAgICAgICAgICAgICAgIC8vLy90aGlzIHNob3dzIGhvdyB0byBncmFiIHRoZSBTaXRlIElEIGluIGFyZ3MubW9kZWwuc2l0ZV9pZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcmtlci5jbGljaycsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm1vZGVsLnNpdGVfaWQgIT0gJ25ld1NpdGUnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5zaG93KFwic2l0ZUluZm9TcGlubmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnNbJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtXS5pY29uID0gaWNvbnMuc3RuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm1hcmtlcnNbJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtXS5sYWJlbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlSUQgPSBhcmdzLm1vZGVsLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hcF9TaXRlLnNldE1hcFNpdGVQYXJ0cyhzaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldHMgYXJyYXkgbnVtYmVyIG9mIG1hcmtlciBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hcmtlck51bSA9IHBhcnNlSW50KGFyZ3MubW9kZWxOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXRzIHRoZSBpY29uIHRvIHRoZSBzZWxlY3RlZCBpY29uIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzWyRzY29wZS5zZWxlY3RlZE1hcmtlck51bV0uaWNvbiA9IGljb25zLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vyc1skc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW1dLmxhYmVsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1NpdGUgJyArIHNpdGVJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0hpZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBbMjUsIC0xNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2l0ZUxhYmVsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm1hcENlbnRlci56b29tIDw9IDkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBDZW50ZXIgPSB7IGxhdDogYXJncy5tb2RlbC5sYXQsIGxuZzogYXJncy5tb2RlbC5sbmcsIHpvb206IDEwIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm1hcENlbnRlci56b29tID49IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwQ2VudGVyID0geyBsYXQ6IGFyZ3MubW9kZWwubGF0LCBsbmc6IGFyZ3MubW9kZWwubG5nLCB6b29tOiAkc2NvcGUubWFwQ2VudGVyLnpvb20gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkU2hhcGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRoc09iai5jaXJjbGVNYXJrZXIubGF0bG5ncyA9IHsgbGF0OiBhcmdzLm1vZGVsLmxhdCwgbG5nOiBhcmdzLm1vZGVsLmxuZyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzWydjaXJjbGVNYXJrZXInXSA9ICRzY29wZS5wYXRoc09ialsnY2lyY2xlTWFya2VyJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLy90aGlzIG5lZWRzIHRvIGJlIGluc3RhbnRpYXRlZCBiZWZvcmUgaXQgY2FuIGJlIGZpbGxlZCBwcm9ncmFtbWF0aWNhbGx5IGJlbG93LiBtYXkgbmVlZCB0byBtb3ZlIHNjb3BlLmV4dGVuZCBibG9jayB0byB0b3BcclxuICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb250cm9scyA9IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjdXN0b206IFtdXHJcbiAgICAgICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgICAgICAgLy9jb21tZW50ZWQgYmxvY2sgYmVsb3cgaXMgZm9yIG1ha2luZyBjdXN0b20gbGVhZmxldCBjb250cm9sIGZvciBjcmVhdGUgc2l0ZSBtb2RlIGluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgLy92YXIgY3JlYXRlU2l0ZU1vZGVDb250cm9sID0gTC5jb250cm9sKCk7XHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZVNpdGVNb2RlQ29udHJvbC5zZXRQb3NpdGlvbignYm90dG9tbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGVTaXRlTW9kZUNvbnRyb2wub25BZGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICB2YXIgY2xhc3NOYW1lID0gJ2NyZWF0ZVNpdGVNb2RlSW5kaWNhdG9yJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICBjb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUgKyAnIGxlYWZsZXQtYmFyJyk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8kc2NvcGUuY29udHJvbHMuY3VzdG9tLnB1c2goY3JlYXRlU2l0ZU1vZGVDb250cm9sKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLy9uZWVkIHRvIHdhdGNoIGZvciBzZXNzaW9uIGV2ZW50IGlkLCBkbyBuZXcgY2FsbCB0byBzZXJ2ZXIgd2hlbiB0aGF0IGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldklEID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmVsb3cgZ2V0cyBzaXRlcyB1c2luZyAkaHR0cC5nZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2Uuc2hvdyhcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hcmtlck51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2JlbG93IGdldHMgc2l0ZXMgdXNpbmcgc2ltcGxlIGFuZ3VsYXIgJGh0dHAgc2VydmljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc2l0ZXNQcm9taXNlID0gJGh0dHAuZ2V0KCdodHRwczovL3N0bi53aW0udXNncy5nb3YvU1ROU2VydmljZXMvRXZlbnRzLycgKyBldklEICsgJy9TaXRlcy5qc29uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAudGhlbihzaG93RXZlbnRTaXRlcywgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmVsb3cgZ2V0cyBzaXRlcyB1c2luZyB0aGUgU0lURSAnZmFjdG9yeSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVzUHJvbWlzZSA9IEVWRU5ULmdldEV2ZW50U2l0ZXMoeyBpZDogZXZJRCB9LC8vIFNJVEUuZ2V0QWxsKHsgIEV2ZW50OiBldklEfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXZlbnRTaXRlcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gXCJDb3VsZCBub3QgZmV0Y2ggc2l0ZXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMucG9zaXRpb25DbGFzcyA9IFwidG9hc3QtYm90dG9tLXJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjgwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZyhcIk5vIHNpdGVzIGFyZSBzaG93aW5nIGJlY2F1c2UgeW91IGhhdmUgbm8gZmlsdGVycyBhcHBsaWVkLiBQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBzZWFyY2ggcGFyYW1ldGVyLlwiLCBcIk1hcCBGaWx0ZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IFwiQ291bGQgbm90IGZldGNoIHNpdGVzXCI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbihcImxlYWZsZXREaXJlY3RpdmVNYXAuY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jcmVhdGVTaXRlTW9kZUFjdGl2ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpcnN0LCByZW1vdmUgcHJldmlvdXNseSBjbGljay1jcmVhdGVkIHNpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVXNlckNyZWF0ZWRTaXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZWFmRXZlbnQgPSBhcmdzLmxlYWZsZXRFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBsZWFmRXZlbnQubGF0bG5nLmxhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogbGVhZkV2ZW50LmxhdGxuZy5sbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm5zIHRoZSBjcmVhdGVkIHNpdGUgb2JqZWN0LCBidXQgbm90IHRoYXQgdXNlZnVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGNyZWF0ZWRTaXRlID0gJHNjb3BlLm1hcmtlcnMuZmlsdGVyKGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBvYmouc2l0ZV9pZCA9PT0gJ25ld1NpdGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL30pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnbmV3U2l0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6ICRzY29wZS51c2VyQ3JlYXRlZFNpdGUubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS51c2VyQ3JlYXRlZFNpdGUubG9uZ2l0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJ25ld1NpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMubmV3U2l0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTmV3IGRyYWdnYWJsZSBTVE4gc2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTmV3IFNpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9IaWRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZXdTaXRlTGFiZWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy91c2UgbmV3IGNsaWNrZWQgc2l0ZSBsYXQvbG5nIGFuZCBjcmVhdGUgbmV3IHNpdGUgZnJvbSB0aGF0XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciByZW1vdmVVc2VyQ3JlYXRlZFNpdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm5zIGNyZWF0ZWQgc2l0ZSBpbmRleCBzbyBpdCBjYW4gYmUgcmVtb3ZlZCB0byBtYWtlIHdheSBmb3IgaXRzIHJlcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRTaXRlSW5kZXggPSAkc2NvcGUubWFya2Vycy5tYXAoZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuaW5kZXhPZignbmV3U2l0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc3BsaWNlIGNyZWF0ZWQgc2l0ZSBmcm9tIHRoZSBtYXJrZXJzIGFycmF5IGlmIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2l0ZUluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMuc3BsaWNlKGNyZWF0ZWRTaXRlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlckNyZWF0ZWRTaXRlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLy91cGRhdGUgbmV3U2l0ZSBsYXQvbG5nIGFmdGVyIGRyYWdlbmRcclxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFya2VyLmRyYWdlbmRcIiwgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYWdlbmRMb2NhdGlvbiA9IGFyZ3MubW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGRyYWdlbmRMb2NhdGlvbi5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogZHJhZ2VuZExvY2F0aW9uLmxuZ1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vL2xpc3RlbnMgKHdhdGNoZXMpIGZvciBjaGFuZ2Ugb2YgdGhlIGNyZWF0ZVNpdGVNb2RlQWN0aXZlIGF0dHJpYnV0ZSAtIGN1ZWQgYnkgY2xpY2sgb2YgdGhlIENyZWF0ZSBTaXRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnY3JlYXRlU2l0ZU1vZGVBY3RpdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZVNpdGVCdXR0b25UZXh0ID0gJHNjb3BlLmNyZWF0ZVNpdGVNb2RlQWN0aXZlID8gJ0NhbmNlbCBDcmVhdGUgU2l0ZSBNb2RlJyA6ICdDcmVhdGUgTmV3IFNpdGUgb24gTWFwJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwU3R5bGUgPSAkc2NvcGUuY3JlYXRlU2l0ZU1vZGVBY3RpdmUgPyB7IFwiY3Vyc29yXCI6IFwiY3Jvc3NoYWlyXCIgfSA6IHsgXCJjdXJzb3JcIjogXCJncmFiXCIgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jcmVhdGVTaXRlTW9kZUFjdGl2ZSkgeyByZW1vdmVVc2VyQ3JlYXRlZFNpdGUoKTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vdHdvIGxpbmVzIGJlbG93IHJlZmVyZW5jZWQgY3JlYXRlU2l0ZU1vZGVJbmRpY2F0b3IgbGVhZmxldCBjb250cm9sLiBjYW4gYmUgcmVtb3ZlZCBldmVudHVhbGx5LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vdmFyIGNyZWF0ZVNpdGVNb2RlSW5kaWNhdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNyZWF0ZVNpdGVNb2RlSW5kaWNhdG9yXCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlU2l0ZU1vZGVJbmRpY2F0b3Iuc3R5bGUudmlzaWJpbGl0eSA9ICRzY29wZS5jcmVhdGVTaXRlTW9kZUFjdGl2ZSA/ICd2aXNpYmxlJyA6J2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlU2l0ZUZyb21NYXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS51c2VyQ3JlYXRlZFNpdGUubGF0aXR1ZGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUudXNlckNyZWF0ZWRTaXRlLmxvbmdpdHVkZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2l0ZS5kYXNoYm9hcmQnLCB7IGlkOiAwLCBsYXRpdHVkZTogJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZS5sYXRpdHVkZSwgbG9uZ2l0dWRlOiAkc2NvcGUudXNlckNyZWF0ZWRTaXRlLmxvbmdpdHVkZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBjbGljayBhIGxvY2F0aW9uIG9uIHRoZSBtYXAgdG8gY3JlYXRlIGEgc2l0ZSB0aGlzIHdheS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc2hvd0FsbFNpdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHNwaW5uZXJTZXJ2aWNlLnNob3coXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy90ZXN0aW5nIGZ1bGwgc2l0ZXMgcGVyZm9ybWFuY2UvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIFNJVEUuZ2V0QWxsKFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGFsbFNpdGVzQXJyYXkgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlcyA9IGFsbFNpdGVzQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAvLyRzY29wZS5tYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAvLyRzY29wZS5tYXJrZXJzTGF0TG5nQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAvLy8vL2NvbnRyb2xzIG1ldGhvZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldERpcmVjdGl2ZUNvbnRyb2xzKCkudGhlbihmdW5jdGlvbiAoY29udHJvbHMpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAvL2NvbnRyb2xzLm1hcmtlcnMuY3JlYXRlKHt9LCAkc2NvcGUubWFya2Vycyk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxTaXRlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gYWxsU2l0ZXNBcnJheVtpXTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXNBbGwnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBhLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IGEuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlNUTiBTaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLm1hcmtlcnNMYXRMbmdBcnJheS5wdXNoKFthLmxhdGl0dWRlX2RkLCBhLmxvbmdpdHVkZV9kZF0pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29udHJvbHMubWFya2Vycy5jcmVhdGUobWFya2VycywgJHNjb3BlLm1hcmtlcnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gbWFya2VycztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gXCJDb3VsZCBub3QgZmV0Y2ggc2l0ZXNcIjtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldCBhbGwgU1ROIHNpdGVzXHJcbiAgICAgICAgICAgICAgICAvLyRodHRwLmdldCgnaHR0cHM6Ly9zdG4ud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzL1NpdGVzL3BvaW50cy5qc29uJylcclxuICAgICAgICAgICAgICAgIC8vICAgIC50aGVuKG9uU2l0ZUNvbXBsZXRlLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IFNUTiBzaXRlcyBmb3Igc2Vzc2lvbiBldmVudCBjaG9zZW4gYnkgdXNlclxyXG4gICAgICAgICAgICAgICAgLy8kaHR0cC5nZXQoJ2h0dHBzOi8vc3RuLndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlcy9TaXRlcy5qc29uP0V2ZW50PScgKyBldklEKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgLnRoZW4ob25TaXRlQ29tcGxldGUsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgLy8vcmV0cmlldmVzIGV2ZW50IHNlc3Npb24gSURcclxuICAgICAgICAgICAgICAgIC8vdmFyIGV2SUQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgOiAwO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgU1ROIHNpdGVzIGZvciBzZXNzaW9uIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAvLyRodHRwLmdldCgnaHR0cHM6Ly9zdG4ud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzL0V2ZW50cy8nICsgZXZJRCArICcvU2l0ZXMuanNvbicpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAudGhlbihvblNpdGVDb21wbGV0ZSwgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvL2NvcGllcyBzY29wZSBvYmplY3QvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9TZWFyY2hDb250cm9sID0gbmV3IEwuQ29udHJvbC5HZW9TZWFyY2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogbmV3IEwuR2VvU2VhcmNoLlByb3ZpZGVyLkVzcmkoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiAxNVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGdlb1NlYXJjaENvbnRyb2wuYWRkVG8obWFwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogbGVhZmxldE1hcmtlckV2ZW50cy5nZXRBdmFpbGFibGVFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBtYXBDZW50ZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiA0MS4yNzgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogLTkyLjMzNixcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogNCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWm9vbTogNFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNXYXRjaE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9XYXRjaDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWVwOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpdmlkdWFsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1dhdGNoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWVwOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vyc0xhdExuZ0FycmF5OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTaXRlTW9kZUFjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckNyZWF0ZWRTaXRlOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlSUQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBmb3IoIHZhciBpPTA7IGkgPCA1OyBpKysgKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZWdlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXJsOiBcImh0dHA6Ly9naXMuc3JoLm5vYWEuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL2FocHNfZ2F1Z2VzL01hcFNlcnZlci9sZWdlbmQvP2Y9anNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZWdlbmRDbGFzczogXCJpbmZvIGxlZ2VuZC1lc3JpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHBvc2l0aW9uOiBcImJvdHRvbWxlZnRcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVnZW5kVVJMMTogXCJodHRwOi8vc2VydmljZXMuYXJjZ2lzb25saW5lLmNvbS9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9EZW1vZ3JhcGhpY3MvVVNBXzE5OTAtMjAwMF9Qb3B1bGF0aW9uX0NoYW5nZS9NYXBTZXJ2ZXIvbGVnZW5kP2Y9anNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZ2VuZFVSTDI6IFwiaHR0cHM6Ly9oYXphcmRzLmZlbWEuZ292L2dpcy9uZmhsL3Jlc3Qvc2VydmljZXMvcHVibGljL05GSEwvTWFwU2VydmVyL2xlZ2VuZD9mPWpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAvLyBzd2l0Y2hMZWdlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUubGF5ZXJzLm92ZXJsYXlzLnVzYV9zb2NpYWwudmlzaWJsZSA9ICEkc2NvcGUubGF5ZXJzLm92ZXJsYXlzLnVzYV9zb2NpYWwudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgJHNjb3BlLmxlZ2VuZC51cmwgPVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgJHNjb3BlLmxlZ2VuZC51cmwgPT0gJHNjb3BlLmxlZ2VuZFVSTDE/ICRzY29wZS5sZWdlbmRVUkwyOiRzY29wZS5sZWdlbmRVUkwxO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLyEhIW5lZWQgdG8gYWRkIGxlZ2VuZD1cImxlZ2VuZFwiIGJhY2sgdG8gbWFwIGRpcmVjdGl2ZSBpZiB1c2luZyB0aGlzISEhISEhISFcclxuICAgICAgICAgICAgICAgICAgICBsYXllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZWxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JheToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiR3JheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIkdyYXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVldHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlN0cmVldHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJTdHJlZXRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXb3JsZCBUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIlRvcG9ncmFwaGljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpb25hbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTmF0aW9uYWwgR2VvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIk5hdGlvbmFsR2VvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NlYW5zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJPY2VhbnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJPY2VhbnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhcmtncmF5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJEYXJrR3JheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIkRhcmtHcmF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJJbWFnZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiSW1hZ2VyeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZGVkcmVsaWVmOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaGFkZWQgUmVsaWVmXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiU2hhZGVkUmVsaWVmXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJyYWluOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJUZXJyYWluXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiVGVycmFpblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG5TaXRlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NUTiBTaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0blNpdGVzQWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2dyb3VwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU1ROIFNpdGVzIEFsbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NpdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICduZXdTaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyUGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dPblNlbGVjdG9yOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBud2lzIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiVVNHUyByZWFsLXRpbWUgc3RyZWFtZ2FnZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImFnc0ZlYXR1cmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB1cmwgOiBcImh0dHBzOi8vc3RubWFwc2VydmljZXMud2ltLnVzZ3MuZ292OjY0NDMvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvU1ROL1NUTl9ud2lzX3J0L01hcFNlcnZlci8wXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGF5ZXJPcHRpb25zIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBwb2ludFRvTGF5ZXI6IGZ1bmN0aW9uIChnZW9qc29uLCBsYXRsbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5ud2lzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb25FYWNoRmVhdHVyZTogZnVuY3Rpb24oZmVhdHVyZSwgbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vbGF5ZXIuYmluZFBvcHVwKFwiVVNHUyBJRDogXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoZmVhdHVyZS5wcm9wZXJ0aWVzLlBvcHVwSW5mbyArICc8YnI+PGltZyBzdHlsZT1cIndpZHRoOiAzNTBweFwiIHNyYz1cImh0dHA6Ly93YXRlcmRhdGEudXNncy5nb3Yvbndpc3dlYi9ncmFwaD9hZ2VuY3lfY2Q9VVNHUyZzaXRlX25vPScgKyBmZWF0dXJlLnByb3BlcnRpZXMuTmFtZSArICcmcGFybV9jZD0wMDA2NSZwZXJpb2Q9N1wiPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFocHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkFIUFMgR2FnZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0ZlYXR1cmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9pZHBnaXMubmNlcC5ub2FhLmdvdi9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9OV1NfT2JzZXJ2YXRpb25zL2FocHNfcml2X2dhdWdlcy9NYXBTZXJ2ZXIvMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xheWVyczogWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludFRvTGF5ZXI6IGZ1bmN0aW9uIChnZW9qc29uLCBsYXRsbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29uc1tnZW9qc29uLnByb3BlcnRpZXMuc3RhdHVzXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGZ1bmN0aW9uIChmZWF0dXJlLCBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sYXllci5iaW5kUG9wdXAoXCJVU0dTIElEOiBcIiArIGZlYXR1cmUucHJvcGVydGllcy5OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBncmFwaFVSTCA9IFwiaHR0cHM6Ly93YXRlci53ZWF0aGVyLmdvdi9yZXNvdXJjZXMvaHlkcm9ncmFwaHMvXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuZ2F1Z2VsaWQudG9Mb3dlckNhc2UoKSArIFwiX2hnLnBuZ1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sYXllci5iaW5kUG9wdXAoXCI8Yj5HYWdlIElEOiA8L2I+XCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuZ2F1Z2VsaWQgKyBcIjwvYnI+PGI+TG9jYXRpb246IDwvYj5cIiArIGZlYXR1cmUucHJvcGVydGllcy5sb2NhdGlvbiArIFwiPC9icj48Yj5XYXRlcmJvZHk6IDwvYj5cIiArIGZlYXR1cmUucHJvcGVydGllcy53YXRlcmJvZHkgKyBcIjwvYnI+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiKyBmZWF0dXJlLnByb3BlcnRpZXMudXJsICsgXCInPjxpbWcgdGl0bGU9J0NsaWNrIGZvciBkZXRhaWxzIHBhZ2UnIHdpZHRoPTMwMCBzcmM9J1wiICsgZ3JhcGhVUkwgK1wiJy8+PC9hPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmJpbmRQb3B1cChcIjxiPkdhZ2UgSUQ6IDwvYj5cIiArIGZlYXR1cmUucHJvcGVydGllcy5nYXVnZWxpZCArIFwiPC9icj48YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMudXJsICsgXCInPjxpbWcgdGl0bGU9J0NsaWNrIGZvciBkZXRhaWxzIHBhZ2UnIHdpZHRoPTMwMCBzcmM9J1wiICsgZ3JhcGhVUkwgKyBcIicvPjwvYT5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGFyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXZWF0aGVyIFJhZGFyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NEeW5hbWljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vaWRwZ2lzLm5jZXAubm9hYS5nb3YvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvTldTX09ic2VydmF0aW9ucy9yYWRhcl9iYXNlX3JlZmxlY3Rpdml0eS9NYXBTZXJ2ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hXYXJuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJOV1MgV2F0Y2hlcyAmIFdhcm5pbmdzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NEeW5hbWljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vaWRwZ2lzLm5jZXAubm9hYS5nb3YvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvTldTX0ZvcmVjYXN0c19HdWlkYW5jZV9XYXJuaW5ncy93YXRjaF93YXJuX2Fkdi9NYXBTZXJ2ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmxvb2RUaHJlc2hvbGRzIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiTldTIFdGTyBDb2FzdGFsIEZsb29kIFRocmVzaG9sZHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImFnc0R5bmFtaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB1cmwgOiBcImh0dHBzOi8vd3d3LmNzYy5ub2FhLmdvdi9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9kY19zbHIvRmxvb2RfRnJlcXVlbmN5L01hcFNlcnZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxheWVyT3B0aW9ucyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXJzOiBbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9wYWNpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG13YSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBcIkxpbWl0IE1vZGVyYXRlIFdhdmUgQWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogXCJhZ3NEeW5hbWljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXJsIDogXCJodHRwczovL2hhemFyZHMuZmVtYS5nb3YvZ2lzL25maGwvcmVzdC9zZXJ2aWNlcy9wdWJsaWMvTkZITC9NYXBTZXJ2ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsYXllck9wdGlvbnMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxheWVyczogWzE5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmbG9vZEJvdW5kcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBcIkZsb29kIEhhemFyZCBCb3VuZGFyaWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogXCJhZ3NEeW5hbWljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXJsIDogXCJodHRwczovL2hhemFyZHMuZmVtYS5nb3YvZ2lzL25maGwvcmVzdC9zZXJ2aWNlcy9wdWJsaWMvTkZITC9NYXBTZXJ2ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsYXllck9wdGlvbnMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxheWVyczogWzI3XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmbG9vZFpvbmVzIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiRmxvb2QgSGF6YXJkIFpvbmVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogXCJhZ3NEeW5hbWljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXJsIDogXCJodHRwczovL2hhemFyZHMuZmVtYS5nb3YvZ2lzL25maGwvcmVzdC9zZXJ2aWNlcy9wdWJsaWMvTkZITC9NYXBTZXJ2ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsYXllck9wdGlvbnMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxheWVyczogWzI4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb3BhY2l0eTogMC43XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHVybDogXCJodHRwOi8vZ2lzLnNyaC5ub2FhLmdvdi9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9haHBzX2dhdWdlcy9NYXBTZXJ2ZXIvbGVnZW5kP2Y9anNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBsZWdlbmRDbGFzczogXCJpbmZvIGxlZ2VuZC1lc3JpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHBvc2l0aW9uOiBcImJvdHRvbWxlZnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBhbmd1bGFyICRzY29wZS5leHRlbmQgc3RhdGVtZW50XHJcbiAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgfSAvL2VuZCAtaWYgY3JlZGVudGlhbHMgcGFzcy0gc3RhdGVtZW50XHJcbiAgICAgICAgfV0pOy8vZW5kIGNvbnRyb2xsZXIgZnVuY3Rpb25cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3F1aWNrSFdNQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsXHJcbiAgICAgICAgJ2FsbEhvckRhdHVtcycsICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxTdGF0ZXMnLCAnYWxsQ291bnRpZXMnLCAnYWxsT1BUeXBlcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgXHJcbiAgICAgICAgJ2FsbE9QUXVhbGl0aWVzJywgJ2FsbEhXTVR5cGVzJywgJ2FsbEhXTVF1YWxpdGllcycsICdhbGxNYXJrZXJzJywgJ1NJVEUnLCAnT0JKRUNUSVZFX1BPSU5UJywgJ0hXTScsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsU3RhdGVzLFxyXG4gICAgICAgIGFsbENvdW50aWVzLCBhbGxPUFR5cGVzLCBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsT1BRdWFsaXRpZXMsIGFsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbE1hcmtlcnMsIFNJVEUsIE9CSkVDVElWRV9QT0lOVCwgSFdNKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJRdWljayBIV01cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5xaHdtRm9ybSA9IHt9OyAvL2Zvcm1zIHdpdGhpbiB0aGUgYWNjb3JkaW9uIC5TaXRlLCAuT1AsIC5IV01cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlY0RlZ09SZG1zID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSB7IE1FTUJFUl9JRDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFPUCA9IHtEQVRFX0VTVEFCTElTSEVEOiBtYWtlQWRhdGUoXCJcIil9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7IEhXTV9FTlZJUk9OTUVOVDogJ1JpdmVyaW5lJywgQkFOSzogJ04vQScsIEZMQUdfREFURTogbWFrZUFkYXRlKFwiXCIpLCBTVElMTFdBVEVSOjAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNpdGVPcGVuOiB0cnVlLCBvcE9wZW46IGZhbHNlLCBod21PcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbiBmb3IgcGFydHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUENhcnJheSA9IFtdOyAvL2hvbGRlciBpZiB0aGV5IHJlbW92ZSBhbnkgT1AgY29udHJvbHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzID0gW107IC8vaG9sZGVyIGZvciBhZGRlZCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IGZhbHNlOyAvL2luaXRpYWxseSBoaWRlIHRoZSBhcmVhIGNvbnRhaW5pbmcgYWRkZWQgY29udHJvbCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAgICAgLy9kcm9wZG93bnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3JEYXR1bUxpc3QgPSBhbGxIb3JEYXR1bXM7ICRzY29wZS5ob3JDb2xsTWV0aG9kTGlzdCA9IGFsbEhvckNvbGxNZXRob2RzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlTGlzdCA9IGFsbFN0YXRlczsgJHNjb3BlLmFsbENvdW50eUxpc3QgPSBhbGxDb3VudGllczsgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QgPSBhbGxPUFR5cGVzOyAkc2NvcGUudmVydERhdHVtTGlzdCA9IGFsbFZlcnREYXR1bXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVydENvbGxNZXRob2RMaXN0ID0gYWxsVmVydENvbE1ldGhvZHM7ICRzY29wZS5vcFF1YWxMaXN0ID0gYWxsT1BRdWFsaXRpZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBhbGxIV01UeXBlczsgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsSFdNUXVhbGl0aWVzOyAkc2NvcGUubWFya2VyTGlzdCA9IGFsbE1hcmtlcnM7XHJcbiAgICAgICAgICAgICAgICAvL2RlZmF1bHQgcmFkaW9zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5GVG9yQ00gPSAnZnQnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vd2FudCB0byBhZGQgaWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld0lkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMucHVzaCh7IE9CSkVDVElWRV9QT0lOVF9JRDogJHNjb3BlLmFPUC5PQkpFQ1RJVkVfUE9JTlRfSUQsIElERU5USUZJRVI6IFwiXCIsIElERU5USUZJRVJfVFlQRTogXCJcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0NvbnRyb2xJRGlucHV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgYWRkTmV3SWRlbnRpZmllciBmb3IgT1BcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGxhdC9sb25nIHN0dWZmXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9ICdkZCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307IC8vaG9sZGVyIG9mIGRlZyBtaW4gc2VjIHZhbHVlc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY29udmVydCBkZWcgbWluIHNlYyB0byBkZWMgZGVncmVlc1xyXG4gICAgICAgICAgICAgICAgdmFyIGF6aW11dGggPSBmdW5jdGlvbiAoZGVnLCBtaW4sIHNlYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhemkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF6aSA9IC0xLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0xLjAgKiBhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhemkgPSAxLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY29udmVydCBkZWMgZGVncmVlcyB0byBkbXNcclxuICAgICAgICAgICAgICAgIHZhciBkZWdfdG9fZG1zID0gZnVuY3Rpb24gKGRlZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sb25naXR1ZGUsIHJlbW92ZSB0aGUgLSBzaWduXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gTWF0aC5mbG9vcihkZWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5mbG9hdCA9IChkZWcgLSBkKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihtaW5mbG9hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAoKG1pbmZsb2F0IC0gbSkgKiA2MCkudG9GaXhlZCgzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcIlwiICsgZCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhleSBjaGFuZ2VkIHJhZGlvIGJ1dHRvbiBmb3IgZG1zIGRlYyBkZWdcclxuICAgICAgICAgICAgICAgICRzY29wZS5sYXRMb25nQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVjRGVnT1JkbXMudmFsID09IFwiZGRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBEZWMgRGVnLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkxBVElUVURFX0REID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLkxBVElUVURFX0REICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuYVNpdGUuTEFUSVRVREVfREQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhZERNU2FycmF5ID0gbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBRGVnID0gbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gbGFkRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVNhcnJheSA9IGxvbmdETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBsb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gbG9uZ0RNU2FycmF5WzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgbGF0L2xvbmcgPWlzIG51bWJlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldCBhZGRyZXNzIHBhcnRzIGFuZCBleGlzdGluZyBzaXRlcyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgdGhlbSBhbGwgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLmFTaXRlLkFERFJFU1M7IGRlbGV0ZSAkc2NvcGUuYVNpdGUuQ0lUWTsgZGVsZXRlICRzY29wZS5hU2l0ZS5TVEFURTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gW107IGRlbGV0ZSAkc2NvcGUuYVNpdGUuWklQO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7IC8vcmV2ZXJzZSBhZGRyZXNzIGxvb2t1cFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXRsbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCRzY29wZS5hU2l0ZS5MQVRJVFVERV9ERCwgJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7ICdsYXRMbmcnOiBsYXRsbmcgfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3BhcnNlIHRoZSByZXN1bHRzIG91dCBpbnRvIGNvbXBvbmVudHMgKCdzdHJlZXRfbnVtYmVyJywgJ3JvdXRlJywgJ2xvY2FsaXR5JywgJ2FkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMicsICdhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzEnLCAncG9zdGFsX2NvZGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkcmVzc19jb21wb25lbnRzID0gcmVzdWx0c1swXS5hZGRyZXNzX2NvbXBvbmVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGFkZHJlc3NfY29tcG9uZW50cywgZnVuY3Rpb24gKGssIHYxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHYxLnR5cGVzLCBmdW5jdGlvbiAoazIsIHYyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHNbdjJdID0gdjEubG9uZ19uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkFERFJFU1MgPSBjb21wb25lbnRzLnN0cmVldF9udW1iZXIgIT09IHVuZGVmaW5lZCA/IGNvbXBvbmVudHMuc3RyZWV0X251bWJlciArIFwiIFwiICsgY29tcG9uZW50cy5yb3V0ZSA6IGNvbXBvbmVudHMucm91dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ0lUWSA9IGNvbXBvbmVudHMubG9jYWxpdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLlNUQVRFX05BTUUgPT0gY29tcG9uZW50cy5hZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzE7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLlNUQVRFID0gdGhpc1N0YXRlLlNUQVRFX0FCQlJFVjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLmFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLlNUQVRFX0lEID09IHRoaXNTdGF0ZS5TVEFURV9JRDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkNPVU5UWSA9IGNvbXBvbmVudHMuYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5aSVAgPSBjb21wb25lbnRzLnBvc3RhbF9jb2RlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSBsb2NhdGlvbiB3aXRoaW4gdGhlIFUuUy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGVyZSB3YXMgYW4gZXJyb3IgZ2V0dGluZyBhZGRyZXNzLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBnZXRBZGRyZXNzKClcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gbGF0L2xvbmcgc3R1ZmZcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy93aGVuIFNJVEUuc3RhdGUgY2hhbmdlcywgdXBkYXRlIGNvdW50eSBsaXN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQ291bnR5TGlzdCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzdCkgeyByZXR1cm4gc3QuU1RBVEVfQUJCUkVWID09IHM7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuYWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuU1RBVEVfSUQgPT0gdGhpc1N0YXRlLlNUQVRFX0lEOyB9KTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgdXBkYXRlQ291bnR5TGlzdCgpIGZvciBTaXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHVuY2VydGFpbnR5IGNsZWFyZWQgYW5kIGRpc2FibGVkIHdoZW4gJ3VucXVhbnRpZmllZCcgaXMgY2hlY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlVucXVhbnRDaGVja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYU9QLlVOUVVBTlRJRklFRCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLlVOQ0VSVEFJTlRZID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgdW5xdWFudENoZWNrZWQoKSBmb3Igb3BcclxuXHJcbiAgICAgICAgICAgICAgICAvL2p1c3QgbmVlZCBhbiBPQkpFQ1RJVkVfUE9JTlQgb2JqZWN0IHRvIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJpbU9QID0gZnVuY3Rpb24gKG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE9CSl9QVCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5UX0lEOiBvcC5PQkpFQ1RJVkVfUE9JTlRfSUQgIT09IHVuZGVmaW5lZCA/IG9wLk9CSkVDVElWRV9QT0lOVF9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5BTUU6IG9wLk5BTUUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OOiBvcC5ERVNDUklQVElPTixcclxuICAgICAgICAgICAgICAgICAgICAgICAgRUxFVl9GVDogb3AuRUxFVl9GVCAhPT0gdW5kZWZpbmVkID8gb3AuRUxFVl9GVCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEVfRVNUQUJMSVNIRUQ6IG9wLkRBVEVfRVNUQUJMSVNIRUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX0lTX0RFU1RST1lFRDogb3AuT1BfSVNfREVTVFJPWUVEICE9PSB1bmRlZmluZWQgPyBvcC5PUF9JU19ERVNUUk9ZRUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9OT1RFUzogb3AuT1BfTk9URVMgIT09IHVuZGVmaW5lZCA/IG9wLk9QX05PVEVTIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0lURV9JRDogb3AuU0lURV9JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkRBVFVNX0lEOiBvcC5WREFUVU1fSUQgIT09IHVuZGVmaW5lZCA/IG9wLlZEQVRVTV9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExBVElUVURFX0REOiBvcC5MQVRJVFVERV9ERCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTE9OR0lUVURFX0REOiBvcC5MT05HSVRVREVfREQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhEQVRVTV9JRDogb3AuSERBVFVNX0lEICE9PSB1bmRlZmluZWQgPyBvcC5IREFUVU1fSUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIQ09MTEVDVF9NRVRIT0RfSUQ6IG9wLkhDT0xMRUNUX01FVEhPRF9JRCAhPT0gdW5kZWZpbmVkID8gb3AuSENPTExFQ1RfTUVUSE9EX0lEIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkNPTExFQ1RfTUVUSE9EX0lEOiBvcC5WQ09MTEVDVF9NRVRIT0RfSUQgIT09IHVuZGVmaW5lZCA/IG9wLlZDT0xMRUNUX01FVEhPRF9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1RZUEVfSUQ6IG9wLk9QX1RZUEVfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEVfUkVDT1ZFUkVEOiBvcC5EQVRFX1JFQ09WRVJFRCAhPT0gdW5kZWZpbmVkID8gb3AuREFURV9SRUNPVkVSRUQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBVTkNFUlRBSU5UWTogb3AuVU5DRVJUQUlOVFkgIT09IHVuZGVmaW5lZCA/IG9wLlVOQ0VSVEFJTlRZIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVU5RVUFOVElGSUVEOiBvcC5VTlFVQU5USUZJRUQgIT09IHVuZGVmaW5lZCA/IG9wLlVOUVVBTlRJRklFRCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1FVQUxJVFlfSUQ6IG9wLk9QX1FVQUxJVFlfSUQgIT09IHVuZGVmaW5lZCA/IG9wLk9QX1FVQUxJVFlfSUQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9CSl9QVDtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXggZGVmYXVsdCByYWRpb3MgYW5kIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RGVmYXVsdHMgPSBmdW5jdGlvbiAodGhlT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yTUVURVIgbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ21ldGVyJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JNRVRFUiA9PSBcIm1ldGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkVMRVZfRlQgPSAkc2NvcGUuYU9QLkVMRVZfRlQgKiAzLjI4MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JDTSBuZWVkcyB0byBiZSAnZnQnLiBpZiAnY20nID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuVU5DRVJUQUlOVFkgPSAkc2NvcGUuYU9QLlVOQ0VSVEFJTlRZIC8gMzAuNDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUVycm9ycyA9IGZhbHNlOyAkc2NvcGUub3BFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLmh3bUVycm9ycyA9IGZhbHNlOyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZUZvcm0gPSAkc2NvcGUucWh3bUZvcm0ucXVpY2tIV007ICRzY29wZS5zaXRlRXJyb3JzID0gZmFsc2U7ICRzY29wZS5vcEVycm9ycyA9IGZhbHNlOyAkc2NvcGUuaHdtRXJyb3JzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2l0ZSBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRTaXRlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuTE9OR0lUVURFX0REID0gJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCAqICgtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vUE9TVCBzaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuc2F2ZSgkc2NvcGUuYVNpdGUsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTaXRlSUQgPSByZXNwb25zZS5TSVRFX0lEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5TSVRFX0lEID0gY3JlYXRlZFNpdGVJRDsgJHNjb3BlLmFPUC5MQVRJVFVERV9ERCA9IHJlc3BvbnNlLkxBVElUVURFX0REOyAkc2NvcGUuYU9QLkxPTkdJVFVERV9ERCA9IHJlc3BvbnNlLkxPTkdJVFVERV9ERDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuSERBVFVNX0lEID0gcmVzcG9uc2UuSERBVFVNX0lEOyAkc2NvcGUuYU9QLkhDT0xMRUNUX01FVEhPRF9JRCA9IHJlc3BvbnNlLkhDT0xMRUNUX01FVEhPRF9JRDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5TSVRFX0lEID0gY3JlYXRlZFNpdGVJRDsgJHNjb3BlLmFIV00uV0FURVJCT0RZID0gcmVzcG9uc2UuV0FURVJCT0RZOyAkc2NvcGUuYUhXTS5MQVRJVFVERV9ERCA9IHJlc3BvbnNlLkxBVElUVURFX0REO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uTE9OR0lUVURFX0REID0gcmVzcG9uc2UuTE9OR0lUVURFX0REOyAkc2NvcGUuYUhXTS5IQ09MTEVDVF9NRVRIT0RfSUQgPSByZXNwb25zZS5IQ09MTEVDVF9NRVRIT0RfSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5IREFUVU1fSUQgPSByZXNwb25zZS5IREFUVU1fSUQ7ICRzY29wZS5hSFdNLkZMQUdfVEVBTV9JRCA9IHJlc3BvbnNlLk1FTUJFUl9JRDsgJHNjb3BlLmFIV00uRVZFTlRfSUQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9PUCBzdHVmZiBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdERlZmF1bHRzKCRzY29wZS5hT1ApOyAvLyRzY29wZS5PUC5GVG9yTUVURVIsIEZUb3JDTSwgZGVjRGVnT1JkbXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgT1B0b1BPU1QgPSB0cmltT1AoJHNjb3BlLmFPUCk7IC8vbWFrZSBpdCBhbiBPQkpFQ1RJVkVfUE9JTlQgZm9yIHNhdmluZ1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVC5zYXZlKE9QdG9QT1NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE9QID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGVhY2ggb25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG9wYyA9IDA7IG9wYyA8ICRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aDsgb3BjKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPQkpFQ1RJVkVfUE9JTlQuY3JlYXRlT1BDb250cm9sSUQoeyBpZDogcmVzcG9uc2UuT0JKRUNUSVZFX1BPSU5UX0lEIH0sICRzY29wZS5hZGRlZElkZW50aWZpZXJzW29wY10pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0hXTSBzdHVmZiBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRIV00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgZW50ZXJlZCBhIHN1cnZleSBkYXRlIG9yIGVsZXZhdGlvbiwgdGhlbiBzZXQgc3VydmV5IG1lbWJlciBhcyB0aGUgZmxhZyBtZW1iZXIgKGZsYWdnaW5nIGFuZCBzdXJ2ZXlpbmcgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLlNVUlZFWV9EQVRFICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlNVUlZFWV9URUFNX0lEID0gJHNjb3BlLmFIV00uRkxBR19URUFNX0lEO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uRUxFVl9GVCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZXkgYWRkZWQgdGhlIHN1cnZleSBkYXRlIGlmIHRoZXkgYWRkZWQgYW4gZWxldmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5TVVJWRVlfREFURSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uU1VSVkVZX0RBVEUgPSBtYWtlQWRhdGUoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5TVVJWRVlfVEVBTV9JRCA9ICRzY29wZS5hSFdNLkZMQUdfVEVBTV9JRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnNhdmUoJHNjb3BlLmFIV00pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUXVpY2sgSFdNIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9TaXRlLycgKyBjcmVhdGVkU2l0ZUlEICsgJy9TaXRlRGFzaGJvYXJkJykucmVwbGFjZSgpOy8vLm5vdGlmeShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHBseTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBIV00uc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBPUC5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgU0lURS5zYXZlKClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLnNpdGVPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5vcE9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmh3bU9wZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KFwiW25hbWU9J1wiICsgdGhlRm9ybS4kbmFtZSArIFwiJ11cIikuZmluZCgnLm5nLWludmFsaWQ6dmlzaWJsZTpmaXJzdCcpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5TSVRFX0RFU0NSSVBUSU9OLiRpbnZhbGlkIHx8IHRoZUZvcm0uTEFUSVRVREVfREQuJGludmFsaWQgfHwgdGhlRm9ybS5MT05HSVRVREVfREQuJGludmFsaWQgfHwgdGhlRm9ybS5IREFUVU1fSUQuJGludmFsaWQgfHwgdGhlRm9ybS5IQ09MTEVDVF9NRVRIT0RfSUQuJGludmFsaWQgfHwgdGhlRm9ybS5XQVRFUkJPRFkuJGludmFsaWQgfHwgdGhlRm9ybS5TVEFURS4kaW52YWxpZHYgfHwgdGhlRm9ybS5DT1VOVFkuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5PUF9UWVBFX0lELiRpbnZhbGlkIHx8IHRoZUZvcm0uTkFNRS4kaW52YWxpZCB8fCB0aGVGb3JtLkRFU0NSSVBUSU9OLiRpbnZhbGlkIHx8IHRoZUZvcm0uZGUuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcEVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uSFdNX1RZUEVfSUQuJGludmFsaWQgfHwgdGhlRm9ybS5IV01fRU5WSVJPTk1FTlQuJGludmFsaWQgfHwgdGhlRm9ybS5IV01fUVVBTElUWV9JRC4kaW52YWxpZCB8fCB0aGVGb3JtLmZkLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJRdWljayBIV00gbm90IGNyZWF0ZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgfS8vZW5kIGVsc2UgKGxvZ2dlZCBpbilcclxuICAgICAgICB9XSk7XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignaHdtTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckc2NlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnYWxsRHJvcGRvd25zJywgJ1NpdGVfRmlsZXMnLCAndGhpc0hXTScsICdhbGxTaXRlSFdNcycsICdod21BcHByb3ZhbCcsICdhZ2VuY3lMaXN0JywgJ2h3bVNpdGUnLCAnYWxsTWVtYmVycycsICdIV00nLCAnU09VUkNFJywgJ0ZJTEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHNjZSwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgYWxsRHJvcGRvd25zLCBTaXRlX0ZpbGVzLCB0aGlzSFdNLCBhbGxTaXRlSFdNcywgaHdtQXBwcm92YWwsIGFnZW5jeUxpc3QsIGh3bVNpdGUsIGFsbE1lbWJlcnMsIEhXTSwgU09VUkNFLCBGSUxFKSB7XHJcbiAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBIV012YWw6ICdkZXRhaWwnIH07XHJcbiAgICAgICAgICAgICRzY29wZS5oID0geyBoT3BlbjogdHJ1ZSwgaEZpbGVPcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbnNcclxuICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaHdtUXVhbExpc3QgPSBhbGxEcm9wZG93bnNbMV07XHJcbiAgICAgICAgICAgICRzY29wZS5IRGF0dW1zTGlzdCA9IGFsbERyb3Bkb3duc1syXTtcclxuICAgICAgICAgICAgJHNjb3BlLmhDb2xsTUxpc3QgPSBhbGxEcm9wZG93bnNbM107XHJcbiAgICAgICAgICAgICRzY29wZS5WRGF0dW1zTGlzdCA9IGFsbERyb3Bkb3duc1s0XTtcclxuICAgICAgICAgICAgJHNjb3BlLnZDb2xsTUxpc3QgPSBhbGxEcm9wZG93bnNbNV07XHJcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJMaXN0ID0gYWxsRHJvcGRvd25zWzZdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0ID0gYWxsRHJvcGRvd25zWzddO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzhdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBIV00gZmlsZSAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICRzY29wZS5IV01GaWxlcyA9IHRoaXNIV00gIT09IFwiZW1wdHlcIiA/ICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaHdtX2lkID09IHRoaXNIV00uaHdtX2lkOyB9KSA6IFtdOy8vIGhvbGRlciBmb3IgaHdtIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzID0gJHNjb3BlLkhXTUZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaGYpIHsgcmV0dXJuIGhmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWxcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9IFwiXCI7IC8vanVzdCBmb3Igc2hvdyBvbiBwYWdlXHJcbiAgICAgICAgICAgICRzY29wZS5TdXJ2ZXlNZW1iZXIgPSBcIlwiOyAvL2p1c3QgZm9yIHNob3cgb24gcGFnZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSBmYWxzZTsgLy90b2dnbGUgdG8gc2hvdy9oaWRlIGV2ZW50IGRkIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307IC8vd2lsbCBob2xkIGV2ZW50X2lkIGlmIGFkbWluIGNoYW5nZXMgaXQuIGFwcGx5IHdoZW4gUFVUdGluZ1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDsgLy9jb25zdGFudCB3aXRoIHN0bnRlc3Qud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzMiBcclxuICAgICAgICAgICAgLy9idXR0b24gY2xpY2sgdG8gc2hvdyBldmVudCBkcm9wZG93biB0byBjaGFuZ2UgaXQgb24gZXhpc3RpbmcgaHdtIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NoYW5nZUV2ZW50REQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSAhJHNjb3BlLnNob3dFdmVudEREO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jaGFuZ2UgZXZlbnQgPSBhcHBseSBpdCB0byB0aGUgJHNjb3BlLkV2ZW50TmFtZVxyXG4gICAgICAgICAgICAkc2NvcGUuQ2hhbmdlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5ldmVudF9pZCA9PSAkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5Mb2dnZWRJbk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hSFdNID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNIV01zaXRlID0gaHdtU2l0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mbyA9IHt9OyAvL3doZW4gaXQgZ2V0cyBhcHByb3ZlZCBvciBpZiBpdCBpcyBhcHByb3ZlZCwgcG9wdWxhdGUgdGhpcyB3aXRoIG1lbWJlciBhbmQgZGF0ZVxyXG4gICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWcgbWluIHNlYyB0byBkZWMgZGVncmVlc1xyXG4gICAgICAgICAgICB2YXIgYXppbXV0aCA9IGZ1bmN0aW9uIChkZWcsIG1pbiwgc2VjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gLTEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWMgZGVncmVlcyB0byBkbXNcclxuICAgICAgICAgICAgdmFyIGRlZ190b19kbXMgPSBmdW5jdGlvbiAoZGVnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2xvbmdpdHVkZSwgcmVtb3ZlIHRoZSAtIHNpZ25cclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBNYXRoLmZsb29yKGRlZyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWluZmxvYXQgPSAoZGVnIC0gZCkgKiA2MDtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihtaW5mbG9hdCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICgobWluZmxvYXQgLSBtKSAqIDYwKS50b0ZpeGVkKDMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoXCJcIiArIGQgKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90aGV5IGNoYW5nZWQgcmFkaW8gYnV0dG9uIGZvciBkbXMgZGVjIGRlZ1xyXG4gICAgICAgICAgICAkc2NvcGUubGF0TG9uZ0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3JlYXRlT1JlZGl0SFdNID09ICdlZGl0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNkZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNU2RkTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gbG9uZ0RNU2FycmF5WzBdICogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPTWluID0gbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkOyAkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIHZpZXdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uZGVjRGVnT1JkbXMgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIERlYyBEZWcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdGVsbGluZyB0aGVtIHRvIHBvcHVsYXRlIGFsbCB0aHJlZSAoRE1TKSBmb3IgY29udmVyc2lvbiB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCB0aHJlZSBpbnB1dHMgZm9yIGNvbnZlcnNpb24gZnJvbSBETVMgdG8gRGVjaW1hbCBEZWdyZWVzIHRvIHdvcmsuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1TTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVfbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sYWRETVNhcnJheSA9IGNyZWF0ZV9sYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBjcmVhdGVfbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gY3JlYXRlX2xhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGNyZWF0ZV9sYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVNhcnJheSA9IGNyZWF0ZV9sb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gY3JlYXRlX2xvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gY3JlYXRlX2xvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkOyAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3LCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+e3ttZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3Nob3cnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdyA9PSAncmFuZ2UnKSAkc2NvcGUubWVzc2FnZSA9ICdUaGUgTGF0aXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDczLjAnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3cgPT0gJ2Rpc3RhbmNlJykgJHNjb3BlLm1lc3NhZ2UgPSAnTGF0aXR1ZGUgcGxhY2VzIHRoZSBIV00gbW9yZSB0aGFuIDIzMiBmdCBmcm9tIHRoZSBzaXRlXFwncyBsYXRpdHVkZS4gUGxlYXNlIHZlcmlmeSBiZWZvcmUgY29udGludWluZy4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBvcGVuTG9uZ01vZGFsID0gZnVuY3Rpb24gKHcsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+e3ttZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3Nob3cnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdyA9PSAncmFuZ2UnKSAkc2NvcGUubWVzc2FnZSA9ICdUaGUgTG9uZ2l0dWRlIG11c3QgYmUgYmV0d2VlbiAtMTc1LjAgYW5kIC02MC4wJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93ID09ICdkaXN0YW5jZScpICRzY29wZS5tZXNzYWdlID0gJ0xvbmdpdHVkZSBwbGFjZXMgdGhlIEhXTSBtb3JlIHRoYW4gMjMyIGZ0IGZyb20gdGhlIHNpdGVcXCdzIGxvbmdpdHVkZS4gUGxlYXNlIHZlcmlmeSBiZWZvcmUgY29udGludWluZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsb25nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbG9uZ2l0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVmFsdWUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgPT0gJ2RtcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBkZWdyZWUgdmFsdWUgKGxlc3MgdGhhbi9ncmVhdGVyIHRoYW4gYW5kIGlmIGl0J3MgYSBudW1iZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyA8IDAgfHwgJHNjb3BlLkRNUy5MQURlZyA+IDczIHx8IChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSAmJiAkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBTWluKSAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnZG1zJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpKSAkc2NvcGUuRE1TLkxBRGVnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikpICRzY29wZS5ETVMuTEFNaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSkgJHNjb3BlLkRNUy5MQVNlYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIGRpc3RhbmNlIGlzIGZhcnRoZXIgdGhhbiAyMzIgZnQgZnJvbSBzaXRlJ3MgbGF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RGlzID0gaHdtU2l0ZS5sYXRpdHVkZV9kZCAtIGxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGxhdERpcykgPiAwLjAwMDUpIG9wZW5MYXRNb2RhbCgnZG1zJywgJ2Rpc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2RtcycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9NaW4pKSAkc2NvcGUuRE1TLkxPTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykpICRzY29wZS5ETVMuTE9TZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiBkaXN0YW5jZSBpcyBmYXJ0aGVyIHRoYW4gMjMyIGZ0IGZyb20gc2l0ZSdzIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvRGlzID0gaHdtU2l0ZS5sb25naXR1ZGVfZGQgLSBsbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGxvRGlzKSA+IDAuMDAwNSkgb3BlbkxvbmdNb2RhbCgnZG1zJywgJ2Rpc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBsYXRpdHVkZS9sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaC5sYXRpdHVkZV9kZCA8IDAgfHwgaC5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKGgubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihoLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgZGlzdGFuY2UgZnJvbSBzaXRlJ3MgbGF0L2xvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdERpc3RhbmNlID0gaHdtU2l0ZS5sYXRpdHVkZV9kZCAtIGgubGF0aXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhsYXREaXN0YW5jZSkgPiAwLjAwMDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycsICdkaXN0YW5jZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgaC5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oaC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgZGlzdGFuY2UgZnJvbSBzaXRlJ3MgbGF0L2xvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdEaXN0YW5jZSA9IGh3bVNpdGUubG9uZ2l0dWRlX2RkIC0gaC5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhsb25nRGlzdGFuY2UpID4gMC4wMDA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJywgJ2Rpc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vICBsYXQvbG9uZyA9aXMgbnVtYmVyXHJcbiAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9od21fdW5jZXJ0YWludHkgdHlwZWQgaW4sIGNob29zZSBjb29yZXNwb25kaW5nIGh3bV9lbnZpcm9ubWVudFxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvb3NlUXVhbGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLnZpZXcuSFdNdmFsID09ICdlZGl0JyA/ICRzY29wZS5od21Db3B5IDogJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5od21fdW5jZXJ0YWludHkgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE51bWJlcihoLmh3bV91bmNlcnRhaW50eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIEV4Y2VsbGVudCAgICArLTAuMDUgICAgICAgMCAgICAgIC0gIDAuMDUwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIEdvb2QgICAgICAgICArLTAuMTAgICAgICAgMC4wNTEgIC0gIDAuMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIEZhaXIgICAgICAgICArLTAuMjAgICAgICAgMC4xMDEgIC0gIDAuMjAwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFBvb3IgICAgICAgICArLTAuNDAgICAgICAgMC4yMDEgIC0gIDAuNDAwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFYgUG9vciAgICAgICA+IDAuNDAgICAgICAgMC40MDEgIC0gIGluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgaC5od21fcXVhbGl0eV9pZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHggJiYgaC5tYXhfcmFuZ2UgPj0geDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaHdtIHF1YWxpdHkgY2hvc2VuIChvciBpdCBjaGFuZ2VkIGZyb20gYWJvdmUpLCBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgY29uZ3J1ZW50IHdpdGggaW5wdXQgYWJvdmVcclxuICAgICAgICAgICAgJHNjb3BlLmNvbXBhcmVUb1VuY2VydGFpbnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIGlmIChoLmh3bV91bmNlcnRhaW50eSAhPT0gXCJcIiAmJiBoLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaC5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1F1YWxJZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHggJiYgaC5tYXhfcmFuZ2UgPj0geDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGguaHdtX3F1YWxpdHlfaWQgIT09IG1hdGNoaW5nUXVhbElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyB3YXJuaW5nIG1vZGFsIGFuZCBmb2N1cyBpbiB1bmNlcnRhaW50eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jb25ncnVlbnRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSBpcyBhIG1pc21hdGNoIGJldHdlZW4gdGhlIGh3bSBxdWFsaXR5IGNob3NlbiBhbmQgdGhlIGh3bSB1bmNlcnRhaW50eSBhYm92ZS4gUGxlYXNlIGNvcnJlY3QgeW91ciBod20gdW5jZXJ0YWludHkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvbmdydWVudE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fdW5jZXJ0YWludHknXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzSFdNICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIEhXTVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEhXTSA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0gYW5ndWxhci5jb3B5KHRoaXNIV00pO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgYWxsIHRoZSBuYW1lcyBmb3IgZGV0YWlscyB2aWV3XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5od21fdHlwZSA9ICRzY29wZS5od21UeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGh0KSB7IHJldHVybiBodC5od21fdHlwZV9pZCA9PSAkc2NvcGUuYUhXTS5od21fdHlwZV9pZDsgfSlbMF0uaHdtX3R5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3RpbGx3YXRlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlRyYW5xdWlsID0gJHNjb3BlLmFIV00uc3RpbGx3YXRlciA+IDAgPyAnWWVzJyA6ICdObyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5NYXJrZXIgPSAkc2NvcGUuYUhXTS5tYXJrZXJfaWQgPiAwID8gJHNjb3BlLm1hcmtlckxpc3QuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1hcmtlcl9pZCA9PSAkc2NvcGUuYUhXTS5tYXJrZXJfaWQ7IH0pWzBdLm1hcmtlcjEgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlF1YWxpdHkgPSAkc2NvcGUuYUhXTS5od21fcXVhbGl0eV9pZCA+IDAgPyAkc2NvcGUuaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChocSkgeyByZXR1cm4gaHEuaHdtX3F1YWxpdHlfaWQgPT0gJHNjb3BlLmFIV00uaHdtX3F1YWxpdHlfaWQ7IH0pWzBdLmh3bV9xdWFsaXR5IDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5oZGF0dW0gPSAkc2NvcGUuYUhXTS5oZGF0dW1faWQgPiAwID8gJHNjb3BlLkhEYXR1bXNMaXN0LmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX2lkID09ICRzY29wZS5hSFdNLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaENvbGxlY3RNZXRob2QgPSAkc2NvcGUuYUhXTS5oY29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLmhDb2xsTUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoYykgeyByZXR1cm4gaGMuaGNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5hSFdNLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS52RGF0dW0gPSAkc2NvcGUuYUhXTS52ZGF0dW1faWQgPiAwID8gJHNjb3BlLlZEYXR1bXNMaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09ICRzY29wZS5hSFdNLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udkNvbGxlY3RNZXRob2QgPSAkc2NvcGUuYUhXTS52Y29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLnZDb2xsTUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2YykgeyByZXR1cm4gdmMudmNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5hSFdNLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAvL2dldCBhcHByb3ZhbCBpbmZvIGlmIGFueVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmFwcHJvdmFsX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBIV00uZ2V0SFdNQXBwcm92YWwoeyBpZDogJHNjb3BlLmFIV00uaHdtX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUocmVzcG9uc2UuYXBwcm92YWxfZGF0ZSk7IC8vaW5jbHVkZSBub3RlIHRoYXQgaXQncyBkaXNwbGF5ZWQgaW4gdGhlaXIgbG9jYWwgdGltZSBidXQgc3RvcmVkIGluIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSByZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod20gYXBwcm92YWwgaW5mbzogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtIGFwcHJvdmFsIGluZm86IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtTW9kYWxIZWFkZXIgPSBcIkhXTSBJbmZvcm1hdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgdGhpcyBod20ncyBldmVudCBuYW1lXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmFIV00uZXZlbnRfaWQgPiAwID8gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmFIV00uZXZlbnRfaWQ7IH0pWzBdLmV2ZW50X25hbWUgOiAnTm9uZSBwcm92aWRlZCc7XHJcbiAgICAgICAgICAgICAgICAvL2RhdGUgZm9ybWF0dGluZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLmZsYWdfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXMgc3VydmV5ZWQsIGRhdGUgZm9ybWF0IGFuZCBnZXQgc3VydmV5IG1lbWJlcidzIG5hbWVcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TdXJ2ZXlNZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFIV00uc3VydmV5X21lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2dldCBmbGFnZ2luZyBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXhpc3RpbmcgSFdNXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gbmV3IEhXTVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bU1vZGFsSGVhZGVyID0gXCJDcmVhdGUgbmV3IEhXTVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEhXTSA9ICdjcmVhdGUnO1xyXG4gICAgICAgICAgICAgICAgLy91c2Ugc2l0ZSdzIExBVCwgTE9ORywgd2F0ZXJib2R5LCBIREFUVU0sIEhDT0xMRUNUTUVUSE9ELCBzZXQgRkxBR0RBVEUgd2l0aCB0b2RheVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNIV01zaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSxcclxuICAgICAgICAgICAgICAgICAgICBod21fZW52aXJvbm1lbnQ6ICdSaXZlcmluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFuazogJ04vQScsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2xhYmVsOiAnbm9fbGFiZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0aWxsd2F0ZXI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6IGh3bVNpdGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiBod21TaXRlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICB3YXRlcmJvZHk6IGh3bVNpdGUud2F0ZXJib2R5LFxyXG4gICAgICAgICAgICAgICAgICAgIGhkYXR1bV9pZDogaHdtU2l0ZS5oZGF0dW1faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGNvbGxlY3RfbWV0aG9kX2lkOiBod21TaXRlLmhjb2xsZWN0X21ldGhvZF9pZCxcclxuICAgICAgICAgICAgICAgICAgICBmbGFnX2RhdGU6IG1ha2VBZGF0ZShcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBmbGFnX21lbWJlcl9pZDogJHNjb3BlLkxvZ2dlZEluTWVtYmVyLm1lbWJlcl9pZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5GbGFnTWVtYmVyID0gJHNjb3BlLkxvZ2dlZEluTWVtYmVyO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIG5ldyBIV01cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3JhZGlvIGJ1dHRvbiBkZWZhdWx0c1xyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTS5kZWNEZWdPUmRtcyA9ICdkZCc7XHJcbiAgICAgICAgICAgICRzY29wZS5hSFdNLkZUb3JDTSA9ICdmdCc7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZEhXTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGF0IHRoZSBsYXQvbG9uZyBhcmUgd2l0aGluIGNvcnJlY3QgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhdGl0dWRlIGlzIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb25naXR1ZGVfZGQgaXMgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGF0IGFuZCBsb25nIGFyZSBnb29kIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgZW50ZXJlZCBhIHN1cnZleSBkYXRlIG9yIGVsZXZhdGlvbiwgdGhlbiBzZXQgc3VydmV5IG1lbWJlciBhcyB0aGUgZmxhZyBtZW1iZXIgKGZsYWdnaW5nIGFuZCBzdXJ2ZXlpbmcgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X21lbWJlcl9pZCA9ICRzY29wZS5mbGFnX21lbWJlcl9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5GVG9yQ00gPT0gXCJjbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnVuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5hSFdNLnVuY2VydGFpbnR5IC8gMzAuNDgpLnRvRml4ZWQoNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFIV00uZWxldl9mdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBhZGRlZCB0aGUgc3VydmV5IGRhdGUgaWYgdGhleSBhZGRlZCBhbiBlbGV2YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5zYXZlKCRzY29wZS5hSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEhXTSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtjcmVhdGVkSFdNLCAnY3JlYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgYWxsJ3MgZ29vZCB0byBwb3N0XHJcbiAgICAgICAgICAgICAgICB9Ly8gZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgY3JlYXRlKClcclxuXHJcbiAgICAgICAgICAgIC8vYXBwcm92ZSB0aGlzIGh3bSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNIV00gPSAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5BcHByb3ZlIEhXTTwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSByZWFkeSB0byBhcHByb3ZlIHRoaXMgSFdNPzwvcD48cD5UaGUgc3VydmV5ZWQgZWxldmF0aW9uIGlzIHt7YXBwcm92ZUhXTS5lbGV2X2Z0IHx8ICctLS0nfX08L3A+PHA+VGhlIGhlaWdodCBhYm92ZSBncm91bmQgaXMge3thcHByb3ZlSFdNLmhlaWdodF9hYm92ZV9nbmQgfHwgJy0tLSd9fTwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J2FwcHJvdmVJdCgpJz5BcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVIV00gPSB0aGlzSFdNO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFwcHJvdmVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBIV00uYXBwcm92ZUhXTSh7IGlkOiBoLmh3bV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguYXBwcm92YWxfaWQgPSBhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBBcHByb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5hcHByb3ZhbERhdGUgPSBuZXcgRGF0ZShhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gYXBwcm92YWxSZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBzZW5kQmFjayA9IFtoLCAndXBkYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2FwcHJvdmUgdGhpcyBod20gKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNIV00gPSAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIHZhciB1bmFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPlJlbW92ZSBBcHByb3ZhbDwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW4gdG8gdW5hcHByb3ZlIHRoaXMgSFdNPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J3VuQXBwcm92ZUl0KCknPlVuYXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSFdNID0gdGhpc0hXTTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVuYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS51bkFwcHJvdmVIV00oeyBpZDogaC5od21faWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguYXBwcm92YWxfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBVbmFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIHNlbmRCYWNrID0gW2gsICd1cGRhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5hcHByb3Zpbmc6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2ljIGZvciBjYW5jZWxcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9ybWF0SFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRIV00gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiBoLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICB3YXRlcmJvZHk6IGgud2F0ZXJib2R5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IGguc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogaC5ldmVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fdHlwZV9pZDogaC5od21fdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fcXVhbGl0eV9pZDogaC5od21fcXVhbGl0eV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fbG9jYXRpb25kZXNjcmlwdGlvbjogaC5od21fbG9jYXRpb25kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogaC5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6IGgubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleV9kYXRlOiBoLnN1cnZleV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZXZfZnQ6IGguZWxldl9mdCxcclxuICAgICAgICAgICAgICAgICAgICB2ZGF0dW1faWQ6IGgudmRhdHVtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHZjb2xsZWN0X21ldGhvZF9pZDogaC52Y29sbGVjdF9tZXRob2RfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFuazogaC5iYW5rLFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsX2lkOiBoLmFwcHJvdmFsX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcl9pZDogaC5tYXJrZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0X2Fib3ZlX2duZDogaC5oZWlnaHRfYWJvdmVfZ25kLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjb2xsZWN0X21ldGhvZF9pZDogaC5oY29sbGVjdF9tZXRob2RfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGVha19zdW1tYXJ5X2lkOiBoLnBlYWtfc3VtbWFyeV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fbm90ZXM6IGguaHdtX25vdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bV9lbnZpcm9ubWVudDogaC5od21fZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZ19kYXRlOiBoLmZsYWdfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGlsbHdhdGVyOiBoLnN0aWxsd2F0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGRhdHVtX2lkOiBoLmhkYXR1bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBmbGFnX21lbWJlcl9pZDogaC5mbGFnX21lbWJlcl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlfbWVtYmVyX2lkOiBoLnN1cnZleV9tZW1iZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5jZXJ0YWludHk6IGgudW5jZXJ0YWludHksXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX3VuY2VydGFpbnR5OiBoLmh3bV91bmNlcnRhaW50eSxcclxuICAgICAgICAgICAgICAgICAgICBod21fbGFiZWw6IGguaHdtX2xhYmVsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZEhXTTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9zYXZlIGFIV01cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkSFdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgbGF0L2xvbmcgYXJlIHdpdGhpbiBjb3JyZWN0IHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXRpdHVkZSBpcyBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2l0dWRlX2RkIGlzIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhdCBhbmQgbG9uZyBhcmUgZ29vZCFcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRtaW4gY2hhbmdlZCB0aGUgZXZlbnQgZm9yIHRoaXMgaHdtLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmV2ZW50X2lkID0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgYWRkZWQgYSBzdXJ2ZXkgZGF0ZSwgYXBwbHkgc3VydmV5IG1lbWJlciBhcyBsb2dnZWQgaW4gbWVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LkZUb3JDTSA9PSBcImNtXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkudW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS51bmNlcnRhaW50eSA9IHBhcnNlRmxvYXQoJHNjb3BlLmh3bUNvcHkudW5jZXJ0YWludHkgLyAzMC40OCkudG9GaXhlZCg2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LmVsZXZfZnQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuaHdtQ29weS5lbGV2X2Z0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGV5IGFkZGVkIHRoZSBzdXJ2ZXkgZGF0ZSBpZiB0aGV5IGFkZGVkIGFuIGVsZXZhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkuc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGVhbkhXTSA9IGZvcm1hdEhXTSgkc2NvcGUuaHdtQ29weSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogY2xlYW5IV00uaHdtX2lkIH0sIGNsZWFuSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0gcmVzcG9uc2U7IHRoaXNIV00gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IGFsbCB0aGUgbmFtZXMgZm9yIGRldGFpbHMgdmlld1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaHdtX3R5cGUgPSAkc2NvcGUuaHdtVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChodCkgeyByZXR1cm4gaHQuaHdtX3R5cGVfaWQgPT0gJHNjb3BlLmFIV00uaHdtX3R5cGVfaWQ7IH0pWzBdLmh3bV90eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5UcmFucXVpbCA9ICRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgPiAwID8gJ1llcycgOiAnTm8nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uTWFya2VyID0gJHNjb3BlLmFIV00ubWFya2VyX2lkID4gMCA/ICRzY29wZS5tYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXJfaWQgPT0gJHNjb3BlLmFIV00ubWFya2VyX2lkOyB9KVswXS5tYXJrZXIxIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5RdWFsaXR5ID0gJHNjb3BlLmFIV00uaHdtX3F1YWxpdHlfaWQgPiAwID8gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHEpIHsgcmV0dXJuIGhxLmh3bV9xdWFsaXR5X2lkID09ICRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkOyB9KVswXS5od21fcXVhbGl0eSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaGRhdHVtID0gJHNjb3BlLmFIV00uaGRhdHVtX2lkID4gMCA/ICRzY29wZS5IRGF0dW1zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSAkc2NvcGUuYUhXTS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFIV00uaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5oQ29sbE1MaXN0LmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYUhXTS5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udkRhdHVtID0gJHNjb3BlLmFIV00udmRhdHVtX2lkID4gMCA/ICRzY29wZS5WRGF0dW1zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuYUhXTS52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnZDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFIV00udmNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS52Q29sbE1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmMpIHsgcmV0dXJuIHZjLnZjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYUhXTS52Y29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLnZjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLmZsYWdfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lzIGl0IGFwcHJvdmVkP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bUFwcHJvdmFsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKGh3bUFwcHJvdmFsLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSBod21BcHByb3ZhbC5tZW1iZXJfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBzdXJ2ZXllZCwgZGF0ZSBmb3JtYXQgYW5kIGdldCBzdXJ2ZXkgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSBudWxsICYmICRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlN1cnZleU1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYUhXTS5zdXJ2ZXlfbWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBmbGFnZ2luZyBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgc2VuZEJhY2sgPSBbdXBkYXRlZEhXTSwgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vIGVuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgYUhXTVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlSFdNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOjogRGVsZXRlIHRoZSBmaWxlcyBmb3IgdGhpcyBod20gdG9vIG9yIHJlYXNzaWduIHRvIHRoZSBTaXRlPz8gU2VydmljZXMgb3IgY2xpZW50IGhhbmRsaW5nP1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIV01cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGh3bVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS5kZWxldGUoeyBpZDogaHdtVG9SZW1vdmUuaHdtX2lkIH0sIGh3bVRvUmVtb3ZlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzID0gW107IC8vY2xlYXIgb3V0IGh3bUZpbGVzIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBpbWFnZSBmaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcmVtb3ZlIGFsbCB0aGVzZSBmaWxlcyBmcm9tIFNpdGVGaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFsbFNGaWxlc1tsXS5od21faWQgPT0gaHdtVG9SZW1vdmUuaHdtX2lkKSAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uIFxyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBod20gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXRIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYUhXTSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5kZWNEZWdPUmRtcyA9ICdkZCc7ICRzY29wZS5od21Db3B5LkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxIV01FZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuSFdNdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkbWluQ2hhbmdlZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5hSFdNLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIEZJTEUgU1RVRkZcclxuICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpOyAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL25lZWQgdG8gcmV1cGxvYWQgZmlsZUl0ZW0gdG8gdGhpcyBleGlzdGluZyBmaWxlIE9SIENoYW5nZSBvdXQgZXhpc3RpbmcgZmlsZUl0ZW0gZm9yIG5ldyBvbmVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlVXBsb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUZpbGUuaHdtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYUZpbGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuYUZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAkc2NvcGUuYUZpbGUuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5hRmlsZS5vYmplY3RpdmVfcG9pbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFGaWxlLkZpbGUxIDogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUubmFtZSA9IGZyZXNwb25zZS5uYW1lOyAkc2NvcGUuYUZpbGUucGF0aCA9IGZyZXNwb25zZS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZSA9ICRzY29wZS5hRmlsZS5GaWxlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUxID0gdW5kZWZpbmVkOyAvL3B1dCBpdCBhcyBmaWxlIGFuZCByZW1vdmUgaXQgZnJvbSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZXMgPSAkc2NvcGUuZmlsZVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xOyAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgLy9IV00gd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSBcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IGh3bSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLkhXTUZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLmh3bUltYWdlRmlsZXMubGVuZ3RoID4gMCA/ICRzY29wZS5od21JbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2UgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCAhPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IHJlc3BvbnNlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFIV00uaHdtX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkhXTSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDsgJHNjb3BlLmFGaWxlLnNpdGVfaWQgPSAkc2NvcGUudGhpc0hXTXNpdGUuc2l0ZV9pZDsgJHNjb3BlLmFGaWxlLmh3bV9pZCA9ICRzY29wZS5hSFdNLmh3bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTGluayBzYXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgcGhvdG8gb3Igb3RoZXIgZmlsZSB0eXBlIChubyBkYXRhIGZpbGUgaGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTb3VyY2Uuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgIH1dKTsgLy9lbmQgSFdNXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2h3bUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnJHRpbWVvdXQnLCAndGhpc1NpdGUnLCAndGhpc1NpdGVIV01zJywgJ0hXTV9TZXJ2aWNlJywgJ2FsbEFnZW5jaWVzJywgJ2FsbEhXTVR5cGVzJywgJ2FsbEhXTVF1YWxpdGllcycsICdhbGxIb3JEYXR1bXMnLCAnYWxsTWFya2VycycsICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgJ2FsbEV2ZW50cycsICdhbGxGaWxlVHlwZXMnLCAnTUVNQkVSJywgJ0hXTScsICdTSVRFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsICR0aW1lb3V0LCB0aGlzU2l0ZSwgdGhpc1NpdGVIV01zLCBIV01fU2VydmljZSwgYWxsQWdlbmNpZXMsIGFsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbEhvckRhdHVtcywgYWxsTWFya2VycywgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFZlcnREYXR1bXMsIGFsbFZlcnRDb2xNZXRob2RzLCBhbGxFdmVudHMsIGFsbEZpbGVUeXBlcywgTUVNQkVSLCBIV00sIFNJVEUpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSB7IHRvdGFsOiB0aGlzU2l0ZUhXTXMubGVuZ3RoIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zID0gdGhpc1NpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgSFdNX1NlcnZpY2Uuc2V0QWxsU2l0ZUhXTXMoJHNjb3BlLlNpdGVIV01zKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgPSBuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV3VmFsdWUgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID0gJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgIT0gXCJBbGwgRXZlbnRzXCIgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zID0gdGhpc1NpdGVIV01zLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZUhXTXMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zID0gdGhpc1NpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZUhXTXMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dIV01Nb2RhbCA9IGZ1bmN0aW9uIChIV01jbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bUZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1Bob3RvICgxKSwgSGlzdG9yaWMgKDMpLCBGaWVsZCBTaGVldHMgKDQpLCBMZXZlbCBOb3RlcyAoNSksIE90aGVyICg3KSwgTGluayAoOCksIFNrZXRjaCAoMTApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgaGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgaGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FsbExpc3RzID0gW2FsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbEhvckRhdHVtcywgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFZlcnREYXR1bXMsIGFsbFZlcnRDb2xNZXRob2RzLCBhbGxNYXJrZXJzLCBhbGxFdmVudHMsIGh3bUZpbGVUeXBlc107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlSFdNcy5pbmRleE9mKEhXTWNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnSFdNbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdod21Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXNzQWxsTGlzdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzSFdNOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV01jbGlja2VkICE9PSAwID8gSFdNY2xpY2tlZDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUhXTXM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuU2l0ZUhXTXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21BcHByb3ZhbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSFdNY2xpY2tlZCAhPT0gMCAmJiAoSFdNY2xpY2tlZC5hcHByb3ZhbF9pZCAhPT0gdW5kZWZpbmVkICYmIEhXTWNsaWNrZWQuYXBwcm92YWxfaWQgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhXTS5nZXRIV01BcHByb3ZhbCh7IGlkOiBIV01jbGlja2VkLmh3bV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkSFdNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgSFdNIG9yIGp1c3QgY2xvc2VkIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkSFdNWzFdPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUhXTXMucHVzaChjcmVhdGVkSFdNWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZUhXTXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkSFdNWzFdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBmcm9tIGVkaXQgLS0gcmVmcmVzaCBwYWdlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZUhXTXMuaW5kZXhPZihIV01jbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlSFdNc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZEhXTTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRIV01bMV09PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLlNpdGVIV01zLmluZGV4T2YoSFdNY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUhXTXMuc3BsaWNlKGluZGV4Q2xpY2tlZDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVIV01zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07IC8vZW5kIHNob3dIV01Nb2RhbCBmdW5jdGlvblxyXG4gICAgICAgICAgICB9Ly9lbmQgc3RuY3JlZHMgZ29vZFxyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdoaXN0b3JpY0hXTUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdTSVRFJywgJ0hXTScsICdPQkpFQ1RJVkVfUE9JTlQnLCAnR0VPQ09ERScsICd0aGlzRXZlbnQnLCAnSERhdHVtcycsICdIQ29sbGVjdE1ldGhzJywgJ1N0YXRlcycsICdDb3VudGllcycsICdPUFR5cGVzJywgJ1ZEYXR1bXMnLCAnSFR5cGVzJywgJ0hXTVF1YWxzJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJGZpbHRlciwgJHVpYk1vZGFsLCBTSVRFLCBIV00sIE9CSkVDVElWRV9QT0lOVCwgR0VPQ09ERSwgdGhpc0V2ZW50LCBIRGF0dW1zLCBIQ29sbGVjdE1ldGhzLCBTdGF0ZXMsIENvdW50aWVzLCBPUFR5cGVzLCBWRGF0dW1zLCBIVHlwZXMsIEhXTVF1YWxzKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy9kaXYgaG9sZGluZyBsb2FkZXIgYW5kIGR5bmFtaWMgYW5kIG1heCBmb3IgcHJvZ3Jlc3MgYmFyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZHluYW1pYyA9IDA7ICRzY29wZS5tYXggPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlOyAgLy9zZCAgIGxhdCBsb25nIGhkICBoY20gIHdhdCAgR1MgICBzdCAgIGNvICAgb3B0ICBvcG4gIGRlcyAgdmRhICBvcGQgIGh3bXQgZW52ICAgcXVhICBmbGFnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sdW1uV2lkdGhzID0gWzE0MCwgNzYsIDg0LCAyMjAsIDIyMCwgMTAwLCAxNTAsIDEyMCwgMTIwLCAxODAsIDEyMCwgMTQwLCAxNDAsIDEyMCwgMTQwLCAxNDAsIDE0MCwgMTIwXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaGFuZ2VzID0gW107IC8vdHJhY2sgY2hhbmdlcyBtYWRlIHRvIGNvbXBhcmUgZm9yIHNhdmluZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107IC8vc3RvcmUgd2hlbiBpbnZhbGlkIHRocm93blxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhEYXR1bUxpc3QgPSBIRGF0dW1zOyAkc2NvcGUuaERhdHVtQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oQ29sbGVjdExpc3QgPSBIQ29sbGVjdE1ldGhzOyAkc2NvcGUuaGNvbGxlY3RBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlTGlzdCA9IFN0YXRlczsgLy9UT0RPIE1ha2UgdGhpcyBpbnRlcmFjdGl2ZSB3aXRoIGNvdW50aWVzIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlMaXN0ID0gQ291bnRpZXM7ICRzY29wZS5jb3VudHlBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QgPSBPUFR5cGVzOyAkc2NvcGUub3BUeXBlQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS52RGF0dW1MaXN0ID0gVkRhdHVtczsgJHNjb3BlLnZEYXR1bUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBIVHlwZXM7ICRzY29wZS5od21UeXBlQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21FbnZpckxpc3QgPSBbJ0NvYXN0YWwnLCAnUml2ZXJpbmUnXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsaXR5TGlzdCA9IEhXTVF1YWxzOyAkc2NvcGUuaHdtUXVhbGl0eUFycmF5ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhpc3RvcmljSFdNcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBmb3JtYXQgZHJvcGRvd25zIGZyb20gb2JqZWN0IGFycmF5IHRvIHN0cmluZyBhcnJheVxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5oRGF0dW1MaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaERhdHVtQXJyYXkucHVzaChsLmRhdHVtX25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuaENvbGxlY3RMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaGNvbGxlY3RBcnJheS5wdXNoKGwuaGNvbGxlY3RfbWV0aG9kKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnN0YXRlTGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLnN0YXRlQXJyYXkucHVzaChsLnN0YXRlX25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY291bnR5TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmNvdW50eUFycmF5LnB1c2gobC5jb3VudHlfbmFtZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5vcFR5cGVMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUub3BUeXBlQXJyYXkucHVzaChsLm9wX3R5cGUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUudkRhdHVtTGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLnZEYXR1bUFycmF5LnB1c2gobC5kYXR1bV9hYmJyZXZpYXRpb24pOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuaHdtVHlwZUxpc3QsIGZ1bmN0aW9uIChsKSB7ICRzY29wZS5od21UeXBlQXJyYXkucHVzaChsLmh3bV90eXBlKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmh3bVF1YWxpdHlMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaHdtUXVhbGl0eUFycmF5LnB1c2gobC5od21fcXVhbGl0eSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9HZXQgc3RhdGUgY291bnR5IGJ1dHRvbiBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0U3RhdGVDbyA9IGZ1bmN0aW9uIChjLCByKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd1ZhbHVlcyA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRSb3cocik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChyb3dWYWx1ZXNbMV0gIT09IFwiXCIgJiYgcm93VmFsdWVzWzFdICE9PSBudWxsKSAmJiAocm93VmFsdWVzWzJdICE9PSBcIlwiICYmIHJvd1ZhbHVlc1syXSAhPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHRU9DT0RFLmdldEFkZHJlc3NQYXJ0cyh7IExvbmdpdHVkZTogcm93VmFsdWVzWzJdLCBMYXRpdHVkZTogcm93VmFsdWVzWzFdIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUZJUFMgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXRlX2lkID09IHRoaXNTdGF0ZUlEOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZS5zZXREYXRhQXRDZWxsKHIsIDcsIHRoaXNTdGF0ZS5zdGF0ZV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5jb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHN0YXRlQ291bnR5TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmNvdW50eUFycmF5LnB1c2gobC5jb3VudHlfbmFtZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2Uuc2V0Q2VsbE1ldGEociwgOCwgXCJzb3VyY2VcIiwgJHNjb3BlLmNvdW50eUFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlLnNldERhdGFBdENlbGwociwgOCwgY291bnR5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSByZWNvZ25pemVkIHN0YXRlLiBQbGVhc2UgY2hvb3NlIG9uZSBmcm9tIHRoZSBkcm9wZG93bi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzIGxvY2F0aW9uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgZGlkIG5vdCB0eXBlIGEgbGF0L2xvbmcgZmlyc3QuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW1wdHlMYXRMb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcHJvdmlkZSBhIExhdGl0dWRlIGFuZCBMb25naXR1ZGUgYmVmb3JlIGNsaWNraW5nIEdldCBTdGF0ZS9Db3VudHk8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgcm93IHZhbHVlcyBhcmUgdGhlcmUgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBnZXRTdGF0ZUNvKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcyA9IGZ1bmN0aW9uICh0aGVDaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfbmFtZSA9PSB0aGVDaGFuZ2VbM107IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc3RhdGVDb3VudHlMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuY291bnR5QXJyYXkucHVzaChsLmNvdW50eV9uYW1lKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlLnNldENlbGxNZXRhKHRoZUNoYW5nZVswXSwgOCwgXCJzb3VyY2VcIiwgJHNjb3BlLmNvdW50eUFycmF5KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gcmVuZGVyZXJzXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBmaWVsZCBpcyByZXF1aXJlZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0VmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbnVtYmVyIGFuZCA+IDBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5MYXRpdHVkZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9uZ1ZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAwIHx8IGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+TG9uZ2l0dWRlIG11c3QgYmUgbGVzcyB0aGFuIDAuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6Wyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yUmVuZGVyZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIHRkLCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBibnQtcHJpbWFyeVwiPjwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICRidXR0b24uaHRtbCgnR2V0IFN0YXRlL0NvdW50eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGQpLmVtcHR5KCkuYXBwZW5kKCRidXR0b24pOyAvL2VtcHR5IGlzIG5lZWRlZCBiZWNhdXNlIHlvdSBhcmUgcmVuZGVyaW5nIHRvIGFuIGV4aXN0aW5nIGNlbGxcclxuICAgICAgICAgICAgICAgICAgLy8gIHRkLnN0eWxlLmJhY2tncm91bmQgPSAnI0VFRSc7XHJcbiAgICAgICAgICAgICAgICAgICAvLyB0ZC5pbm5lckhUTUwgPSAnR2V0IFN0YXRlL0NvdW50eSc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRkO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXF1aXJlZFZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBiYWNrIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNldE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgdGhlIHRhYmxlPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaGlzdG9yaWNIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFibGVTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dE1lbnU6IFsncm93X2Fib3ZlJywgJ3Jvd19iZWxvdycsICdyZW1vdmVfcm93J10sXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3BhcmVSb3dzOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsQ29sdW1uUmVzaXplOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbFJvd1Jlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB3b3JkV3JhcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXROdW1iZXI6IDEsICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFdpZHRoczogJHNjb3BlLmNvbHVtbldpZHRocyxcclxuICAgICAgICAgICAgICAgICAgICBjZWxsczogZnVuY3Rpb24gKHJvdywgY29sLCBwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcGh5c2ljYWwsIGNoZW1pY2FsLGJpb2xvZ2ljYWwsIG1pY3JvYmlvLCB0b3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCA9PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbHByb3BzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxscHJvcHMucmVuZGVyZXIgPSBjb2xvclJlbmRlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbGxwcm9wcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVDaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV1bMV0gPT0gXCJzdGF0ZVwiICYmIGRhdGFbaV1bM10gIT09IGRhdGFbaV1bMl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMoZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJDaGFuZ2U6IGZ1bmN0aW9uIChjaGFuZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZSBpcyBhbiBhcnJheSBjb250YWluaW5nIGFycmF5cyBmb3IgZWFjaCBjb2x1bW4gYWZmZWN0ZWQ6IFswXSA9IHJvdywgWzFdID0gZGF0YU5hbWUsIFsyXSA9IHZhbHVlIGl0IHdhcywgWzNdID0gdmFsdWUgaXQgaXMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc291cmNlIGlzIHN0cmluZyA6IFwiYWx0ZXInLCBcImVtcHR5JywgXCJlZGl0JywgXCJwb3B1bGF0ZUZyb21BcnJheScsIFwibG9hZERhdGEnLCBcImF1dG9maWxsJywgXCJwYXN0ZVwiLiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgIT0gJ2xvYWREYXRhJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBpZiBpdCB3YXMgYWN0dWFsbHkgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VbaV1bMl0gIT09IGNoYW5nZVtpXVszXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hhbmdlcy5wdXNoKGNoYW5nZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKGNoYW5nZVtpXVsxXSA9PSBcInN0YXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzKGNoYW5nZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlck9uQ2VsbE1vdXNlRG93bjogZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMsIHRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb29yZHMuY29sID09IDYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0U3RhdGVDbyhjb29yZHMuY29sLCBjb29yZHMucm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9LC8vZW5kIGFmdGVyT25DZWxsTW91c2VEb3duICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJWYWxpZGF0ZTogZnVuY3Rpb24gKGlzVmFsaWQsIHZhbHVlLCByb3csIHByb3AsIHNvdWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5wdXNoKHsgXCJpc1ZhbGlkXCI6IGlzVmFsaWQsIFwicm93XCI6IHJvdywgXCJwcm9wXCI6IHByb3AgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2SSA9IDA7IHZJIDwgJHNjb3BlLmludmFsaWRzLmxlbmd0aDsgdkkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaW52YWxpZHNbdkldLnJvdyA9PSByb3cgJiYgJHNjb3BlLmludmFsaWRzW3ZJXS5wcm9wID09IHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdkluZGV4ID0gdkk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2SW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKHZJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlaWdodHM6IDUwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICB9Ly9lbmQgYXV0aG9yaXplZFxyXG4gICAgfV0pO1xyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignYnVsa0hXTUN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckcScsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdTSVRFJywgJ0hXTScsICdNRU1CRVInLCAnRklMRScsICdJTlNUX0NPTExfQ09ORElUSU9OJywgJ1BFQUsnLCAnU09VUkNFJywgJ1NFUlZFUl9VUkwnLFxyXG4gICAgICAgICdldmVudExpc3QnLCAnc3RhdGVMaXN0JywgJ2NvdW50eUxpc3QnLCAnaHdtVHlwZUxpc3QnLCAnbWFya2VyTGlzdCcsICdod21RdWFsTGlzdCcsICdob3JpekRhdHVtTGlzdCcsICdob3JDb2xsTWV0aExpc3QnLCAndmVydERhdHVtTGlzdCcsICd2ZXJ0Q29sbE1ldGhMaXN0JywgJ2ZpbGVUeXBlc0xpc3QnLCAnYWdlbmNpZXNMaXN0JyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHEsICRmaWx0ZXIsICR1aWJNb2RhbCwgU0lURSwgSFdNLCBNRU1CRVIsIEZJTEUsIElOU1RfQ09MTF9DT05ESVRJT04sIFBFQUssIFNPVVJDRSwgU0VSVkVSX1VSTCwgZXZlbnRMaXN0LCBzdGF0ZUxpc3QsIGNvdW50eUxpc3QsXHJcbiAgICAgICAgICAgIGh3bVR5cGVMaXN0LCBtYXJrZXJMaXN0LCBod21RdWFsTGlzdCwgaG9yaXpEYXR1bUxpc3QsIGhvckNvbGxNZXRoTGlzdCwgdmVydERhdHVtTGlzdCwgdmVydENvbGxNZXRoTGlzdCwgZmlsZVR5cGVzTGlzdCwgYWdlbmNpZXNMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1RpcHMgPSB0cnVlOyAvL3RvZ2dsZSBzaG93L2hpZGUgdGlwc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHsgaHdtT3BlbjogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7IC8vY29uc3RhbnQgd2l0aCBzdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczIgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZXMgPSBod21UeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gbWFya2VyTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFscyA9IGh3bVF1YWxMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdHVtcyA9IGhvcml6RGF0dW1MaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckNvbGxNZXRocyA9IGhvckNvbGxNZXRoTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1zID0gdmVydERhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sbE1ldGhzID0gdmVydENvbGxNZXRoTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBzdGF0ZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnRpZXMgPSBjb3VudHlMaXN0O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9IGZhbHNlOyAvL2RpdiBob2xkaW5nIGxvYWRlciAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1heCA9IDA7ICRzY29wZS5keW5hbWljID0gMDsgLy92YWx1ZXMgZm9yIG51bWJlciBvZiBod21zIGFyZSB1cGxvYWRpbmcgKHVzZWQgaW4gcHJvZ3Jlc3NiYXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTsgLy9wcm9ncmVzc2JhciBmb3IgdXBsb2FkaW5nIGh3bXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vd2F0ZXIsIGxhYmVsLCB0eXBlLG1ya2VyLGVudnIsdW5jcnQscXVsLGJhbmssZGVzLGxhdCxsb25nLGhkYXR1bSxoY20saGFnLGZsZ0R0LHN1ckR0LGVsZXYsdmRhdHVtLHZjbSxzVW5jLG5vdGVzLCB0cmFucS9zdGlsbCxzaXRlbm9cclxuICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5XaWR0aHMgPSBbMTgwLCAxNTAsIDE4MCwgMTgwLCAxNTAsIDE3MCwgMTgwLCAxMDAsIDIwMCwgMTQwLCAxNTAsIDE4MCwgMjIwLCAxMDAsIDEzMCwgMTIwLCAxMzAsIDE2MCwgMTkwLCAxNjAsIDIwMCwgMjAwLCAxMjBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCA9IGZhbHNlOyAvL25lZWQgYSBmbGFnIHdoZW4gY2xpY2tlZCB0byBjaGVjayBzbyB0aGF0IHRoZSByZXF1aXJlZCB2YWxpZGF0aW9uIGRvZXNuJ3QgZmlyZSBhbmQgc2hvdyBlcnJvciBtb2RhbCBhdCBzYW1lIHRpbWUgYXMgc2l0ZW1vZGFsXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNcyA9IFtdOyAvL2RhdGEgYmluZGluZyBpbiB0aGUgaGFuZHNvbnRhYmxlICh0aGV5IHdpbGwgcGFzdGUgaW4gaHdtcylcclxuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0ZWRIV01zID0gW107IC8vb25jZSBwb3N0ZWQsIHRoZXkgYXJlIHJlbW92ZWQgZnJvbSB0aGUgaGFuZHNvbnRhYmxlIGFuZCBhZGRlZCB0byB0aGlzIGFycmF5IHRvIHNob3cgaW4gYSB0YWJsZSBiZWxvd1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107IC8vc3RvcmUgd2hlbiBpbnZhbGlkIHRocm93blxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50cyA9IGV2ZW50TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RWYWxpZCA9IHRydWU7ICAvL3NlbnQgbm90VmFsaWQgdG8gdHJ1ZSBieSBkZWZhdWx0IHNvIHRoYXQgaXQgZ2V0cyBzZXQgdG8gZmFsc2Ugb25jZSB0YWJsZSBpcyB2YWxpZGF0ZWQoYnV0dG9uIGNsaWNrKVxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIG1ha2UgZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaHdtVHlwZUxpc3QsIGZ1bmN0aW9uIChodCkgeyAkc2NvcGUuaHdtVHlwZUFycmF5LnB1c2goaHQuaHdtX3R5cGUpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbnZpckFycmF5ID0gW1wiQ29hc3RhbFwiLCBcIlJpdmVyaW5lXCJdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlckFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobWFya2VyTGlzdCwgZnVuY3Rpb24gKG0pIHsgJHNjb3BlLm1hcmtlckFycmF5LnB1c2gobS5tYXJrZXIxKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucXVhbEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaHdtUXVhbExpc3QsIGZ1bmN0aW9uIChocSkgeyAkc2NvcGUucXVhbEFycmF5LnB1c2goaHEuaHdtX3F1YWxpdHkpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5iYW5rQXJyYXkgPSBbXCJMZWZ0XCIsIFwiUmlnaHRcIiwgXCJOL0FcIl07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGRhdHVtQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChob3JpekRhdHVtTGlzdCwgZnVuY3Rpb24gKGhkKSB7ICRzY29wZS5oZGF0dW1BcnJheS5wdXNoKGhkLmRhdHVtX25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oY29sbE1ldGhBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGhvckNvbGxNZXRoTGlzdCwgZnVuY3Rpb24gKGhjbSkgeyAkc2NvcGUuaGNvbGxNZXRoQXJyYXkucHVzaChoY20uaGNvbGxlY3RfbWV0aG9kKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmRhdHVtQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2ZXJ0RGF0dW1MaXN0LCBmdW5jdGlvbiAodmQpIHsgJHNjb3BlLnZkYXR1bUFycmF5LnB1c2godmQuZGF0dW1fYWJicmV2aWF0aW9uKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmNvbGxNZXRoQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2ZXJ0Q29sbE1ldGhMaXN0LCBmdW5jdGlvbiAodmNtKSB7ICRzY29wZS52Y29sbE1ldGhBcnJheS5wdXNoKHZjbS52Y29sbGVjdF9tZXRob2QpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS50cmFucUFycmF5ID0gW1wiWWVzXCIsIFwiTm9cIl07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gbWFrZSBkcm9wZG93bnNcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuRXZlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkV2ZW50TmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsSW5kZXggPSAtMTsgLy9pZiB0aGV5IGRlbGV0ZSBhIGh3bSBmcm9tIHRoZSBET05FIHRhYmxlLCBuZWVkIGluZGV4IHRoZXkgY2xpY2tlZCBzbyBjbG9zaW5nIHdhcm5pbmcgbW9kYWwgd2lsbCBrbm93IHdoaWNoIG9uZSB0byByZW1vdmUgZnJvbSBwb3N0ZWRIV01zIGxpc3RcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUGVha2FycmF5ID0gW107Ly93aGVuIHNhdmluZyBoYW5kc29udGFibGUsIGVhY2ggcm93LCBnZXQgc2l0ZVBlYWtzLCBpZiBzbywgc3RvcmUgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy9hZGQgRklMRSBmb3IgYXBwcm92YWwgbWVtbyBvciBwdWJsaWNhdGlvbiBsaW5rXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQXBwcm92YWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlZEZJTEVtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdCdWxrQXBwcm92YWxGSUxFX21vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckY29va2llcycsICckdWliTW9kYWwnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnZmlsZVR5cGVMaXN0JywgJ2FnZW5jeUxpc3QnLCAndGhpc01lbWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgZmlsZVR5cGVMaXN0LCBhZ2VuY3lMaXN0LCB0aGlzTWVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlcyA9IGZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHwgaGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGhmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID0gNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24gPSBcIlBERiBvZiBBcHByb3ZhbCBNZW1vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxfdHlwZSA9IDc7IC8vaG9sZGVyIG9mIGFwcHJvdmFsIHR5cGUsIHVzZWQgdG8gdXBkYXRlIGZpbGV0eXBlX2lkIGFuZCBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmFkaW8gYXBwcm92YWwgdHlwZSBjaGFuZ2VkLCB1cGRhdGUgZmlsZXR5cGVfaWQgYW5kIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUZpbGVUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPSBOdW1iZXIoJHNjb3BlLmFwcHJvdmFsX3R5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24gPSAkc2NvcGUuYXBwcm92YWxfdHlwZSA9PSBcIjdcIiA/IFwiUERGIG9mIEFwcHJvdmFsIE1lbW9cIiA6IFwiUmVwb3J0IExpbmtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gdGhpc01lbWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSB8fCAkc2NvcGUuYUZpbGUuRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSBbJHNjb3BlLmFGaWxlLCAkc2NvcGUuYVNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoZmlsZVBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgbXVzdCB1cGxvYWQgYSBGaWxlIGZvciBBcHByb3ZhbCBNZW1vIG9yIGEgRmlsZSBVUkwgZm9yIFJlcG9ydCBMaW5rLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlVHlwZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWdlbmNpZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNNZW1iZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIucXVlcnkoeyBpZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkRklMRW1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlID0gY3JlYXRlZEZpbGVbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZhbFNvdXJjZSA9IGNyZWF0ZWRGaWxlWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBhZGRBcHByb3ZhbEZpbGVcclxuICAgICAgICAgICAgICAgIC8vZW5kIGFkZCBGSUxFXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSBcIlwiICYmIGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gU0lURSBOTyBkcm9wZG93biBhcnJvdyBDbGljayBNT0RBTCBwYXJ0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgdmFyIGdldEZpbmRTaXRlTW9kYWwgPSBmdW5jdGlvbiAociwgYywgaHdtUGFydHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICRzY29wZS5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5yZW1vdmVDbGFzcygnbm9TaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFBdFJvdyA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRSb3cocik7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkc2NvcGUuaG90SW5zdGFuY2UuZGVzZWxlY3RDZWxsKCk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFBdFJvd1s5XSAhPT0gXCJcIiAmJiBkYXRhQXRSb3dbMTBdICE9PSBcIlwiICYmIGRhdGFBdFJvd1s5XSAhPT0gbnVsbCAmJiBkYXRhQXRSb3dbMTBdICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5hZGRDbGFzcygnbm9TaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc29jaWF0ZVNpdGVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyQnlTaXRlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRQcm94aW1pdHlTaXRlcyh7IExhdGl0dWRlOiBkYXRhQXRSb3dbOV0sIExvbmdpdHVkZTogZGF0YUF0Um93WzEwXSwgQnVmZmVyOiAwLjAwMDUgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV01wYXJ0czogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHdtUGFydHM7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU5vQWxyZWFkeVRoZXJlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkYXRhQXRSb3dbMjJdOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhkYXR1bXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICRzY29wZS5ob3JEYXR1bXM7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGNvbE1ldGhzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuaG9yQ29sbE1ldGhzOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZkYXR1bXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICRzY29wZS52ZXJ0RGF0dW1zOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZjb2xNZXRoczogZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNjb3BlLnZlcnRDb2xsTWV0aHM7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuc3RhdGVzOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50aWVzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuY291bnRpZXM7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaHdtU2l0ZU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHRoaXNTaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5ob3RJbnN0YW5jZS5zZXREYXRhQXRDZWxsKHIsIGMsIHRoaXNTaXRlLnNpdGVfbm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIHRoaXMgcm93XFwncyBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGJlZm9yZSBmaW5kaW5nIGEgc2l0ZSB0byBhc3NvY2lhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBTSVRFIE5PIGRyb3Bkb3duIGFycm93IENsaWNrIE1PREFMIHBhcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHJlbmRlcmVycy92YWxpZGF0b3JzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWlyZWRWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGlzIHRoZSBkcm9wZG93biBhcnJvdyBiZWluZyBjbGlja2VkIGluIHNpdGVObyBjZWxsLCBkb24ndCBzaG93IGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5vQXJyb3dDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBjYXJlIGlmIHRoZXJlJ3Mgb3RoZXIgZGF0YSBpbiB0aGlzIHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgcGh5c2ljYWxJbmRleCA9IHVudHJhbnNsYXRlUm93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQXRSb3cgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Um93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YUF0Um93LCBmdW5jdGlvbiAoZCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0aGUgY29sIHRvbyBiZWNhdXNlIHJpZ2h0IGFmdGVyIHJlbW92aW5nIHJlcSB2YWx1ZSwgaXQncyBzdGlsbCBpbiB0aGUgLmdldERhdGFBdFJvdy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJEYXRhSW5Sb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSAmJiBvdGhlckRhdGFJblJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcihjb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHdoaWNoT25lICsgXCIgaXMgYSByZXF1aXJlZCBmaWVsZC5cIik7IC8vICByZXF1aXJlZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0VmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvdzsgdmFyIGNvbCA9IHRoaXMuY29sO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQXRSb3cgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Um93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG90aGVyRGF0YUluUm93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGFBdFJvdywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0aGUgY29sIHRvbyBiZWNhdXNlIHJpZ2h0IGFmdGVyIHJlbW92aW5nIHJlcSB2YWx1ZSwgaXQncyBzdGlsbCBpbiB0aGUgLmdldERhdGFBdFJvdy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSBudWxsICYmIGQgIT09IFwiXCIgJiYgaW5kZXggIT09IGNvbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRGF0YUluUm93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKCh2YWx1ZSA8IDIyIHx8IHZhbHVlID4gNTUpIHx8IGlzTmFOKHZhbHVlKSkgJiYgb3RoZXJEYXRhSW5Sb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ICRzY29wZS5ob3RJbnN0YW5jZS5kZXNlbGVjdENlbGwoKTsgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkxhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAyMi4wIGFuZCA1NS4wIChkZWMgZGVnKS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBvdGhlckRhdGFJblJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPbmUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0Q29sSGVhZGVyKGNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3Iod2hpY2hPbmUgKyBcIiBpcyBhIHJlcXVpcmVkIGZpZWxkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9uZ1ZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0Um93ID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdFJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhQXRSb3csIGZ1bmN0aW9uIChkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhlIGNvbCB0b28gYmVjYXVzZSByaWdodCBhZnRlciByZW1vdmluZyByZXEgdmFsdWUsIGl0J3Mgc3RpbGwgaW4gdGhlIC5nZXREYXRhQXRSb3cuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckRhdGFJblJvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgodmFsdWUgPCAtMTMwIHx8IHZhbHVlID4gLTU1KSB8fCBpc05hTih2YWx1ZSkpICYmIG90aGVyRGF0YUluUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkc2NvcGUuaG90SW5zdGFuY2UuZGVzZWxlY3RDZWxsKCk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xMzAuMCBhbmQgLTU1LjAgKGRlYyBkZWcpLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmIG90aGVyRGF0YUluUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9uZSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXRDb2xIZWFkZXIoY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcih3aGljaE9uZSArIFwiIGlzIGEgcmVxdWlyZWQgZmllbGQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmVxdWlyZWRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm51bWVyaWNWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcih0aGlzLmNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsICYmIChpc05hTihOdW1iZXIodmFsdWUpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ICRzY29wZS5ob3RJbnN0YW5jZS5kZXNlbGVjdENlbGwoKTsgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcih3aGljaE9uZSArIFwiIG11c3QgYmUgYW4gbnVtZXJpYyB2YWx1ZSAoZXg6IDAuMDMpLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2hpY2hPbmUgPT0gXCJIV00gVW5jZXJ0YWludHkgKGZ0KVwiICYmIHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgaHdtUXVhbGl0eSBoYXMgdmFsdWUuIGlmIHNvLCBzZWUgaWYgaXQncyB3aXRoaW4gcHJvcGVyIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBod21RdWFsVmFsdWUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbCh0aGlzLnJvdywgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21RdWFsVmFsdWUgIT09IG51bGwgJiYgaHdtUXVhbFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBwcm9wcmlhdGVIV01RdWFsID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDAuNCkgYXBwcm9wcmlhdGVIV01RdWFsID0gXCJWUDogPiAwLjQwIGZ0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IDAuMDUpIGFwcHJvcHJpYXRlSFdNUXVhbCA9IFwiRXhjZWxsZW50OiArLy0gMC4wNSBmdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm9wcmlhdGVIV01RdWFsID0gJHNjb3BlLmh3bVF1YWxzLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0gdmFsdWUgJiYgaC5tYXhfcmFuZ2UgPj0gdmFsdWU7IH0pWzBdLmh3bV9xdWFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcHJvcHJpYXRlSFdNUXVhbCAhPT0gaHdtUXVhbFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3Iod2hpY2hPbmUgKyBcIiBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcgSFdNIFF1YWxpdHkgZm9yIHJvdyBcIiArIE51bWJlcih0aGlzLnJvdyArIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hdGNoaW5nRERWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0Um93ID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdFJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhQXRSb3csIGZ1bmN0aW9uIChkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhlIGNvbCB0b28gYmVjYXVzZSByaWdodCBhZnRlciByZW1vdmluZyByZXEgdmFsdWUsIGl0J3Mgc3RpbGwgaW4gdGhlIC5nZXREYXRhQXRSb3cuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckRhdGFJblJvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB2YWx1ZSBpc24ndCBlbXB0eSBhbmQgdGhlcmVzIG90aGVyIGRhdGEgaW4gcm93Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsKSB7Ly8gJiYgb3RoZXJEYXRhSW5Sb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0aGlzLnByb3A7IHZhciBoYXNFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h3bV90eXBlX2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bVR5cGVBcnJheS5tYXAoZnVuY3Rpb24gKGh3VCkgeyByZXR1cm4gaHdUOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21hcmtlcl9pZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tYXJrZXJBcnJheS5tYXAoZnVuY3Rpb24gKGh3TSkgeyByZXR1cm4gaHdNOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h3bV9lbnZpcm9ubWVudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5lbnZpckFycmF5Lm1hcChmdW5jdGlvbiAoaHdFKSB7IHJldHVybiBod0U7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaHdtX3F1YWxpdHlfaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucXVhbEFycmF5Lm1hcChmdW5jdGlvbiAoaHdRKSB7IHJldHVybiBod1E7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYmFuayc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5iYW5rQXJyYXkubWFwKGZ1bmN0aW9uIChod0IpIHsgcmV0dXJuIGh3QjsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdoZGF0dW1faWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaGRhdHVtQXJyYXkubWFwKGZ1bmN0aW9uIChoRCkgeyByZXR1cm4gaEQ7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGNvbGxlY3RfbWV0aG9kX2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmhjb2xsTWV0aEFycmF5Lm1hcChmdW5jdGlvbiAoaEMpIHsgcmV0dXJuIGhDOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ZkYXR1bV9pZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZGF0dW1BcnJheS5tYXAoZnVuY3Rpb24gKGhEKSB7IHJldHVybiBoRDsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd2Y29sbGVjdF9tZXRob2RfaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudmNvbGxNZXRoQXJyYXkubWFwKGZ1bmN0aW9uIChoQykgeyByZXR1cm4gaEM7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RpbGx3YXRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50cmFucUFycmF5Lm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3AgPT0gXCJod21fcXVhbGl0eV9pZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIGh3bSB1bmNlcnRhaW50eSBoYXMgdmFsdWUuIGlmIHNvLCBzZWUgaWYgaXQncyB3aXRoaW4gcHJvcGVyIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5jZXJ0VmFsdWUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChyb3csIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuY2VydFZhbHVlICE9PSBudWxsICYmIHVuY2VydFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwcHJvcHJpYXRlcXVhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuY2VydFZhbHVlID4gMC40KSBhcHByb3ByaWF0ZXF1YWwgPSBcIlZQOiA+IDAuNDAgZnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1bmNlcnRWYWx1ZSA8IDAuMDUpIGFwcHJvcHJpYXRlcXVhbCA9IFwiRXhjZWxsZW50OiArLy0gMC4wNSBmdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ByaWF0ZXF1YWwgPSAkc2NvcGUuaHdtUXVhbHMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLm1pbl9yYW5nZSA8PSB1bmNlcnRWYWx1ZSAmJiBoLm1heF9yYW5nZSA+PSB1bmNlcnRWYWx1ZTsgfSlbMF0uaHdtX3F1YWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ByaWF0ZXF1YWwgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJIV00gUXVhbGl0eSBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcgSFdNIHVuY2VydGFpbnR5IHJhbmdlIHZhbHVlIGZvciByb3cgXCIgKyBOdW1iZXIocm93ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgY2FsbGJhY2sodHJ1ZSk7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmIG90aGVyRGF0YUluUm93ICYmIFszLCA3LCAxNywgMTgsIDIxXS5pbmRleE9mKHRoaXMuY29sKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcihjb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCI2MDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHdoaWNoT25lICsgXCIgaXMgYSByZXF1aXJlZCBmaWVsZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgZnJvbSBpbiBzYXZlIGZ1bmN0aW9uLCBkb25lIHBvc3Rpbmcgbm93IHJlbW92ZSB0aGUgc3VjY2Vzc2Z1bCBvbmUgZnJvbSB0aGUgaGFuZHNvbnRhYmxlIGFib3ZlXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlVGhpc1VwbG9hZEhXTSA9IGZ1bmN0aW9uIChzdWNjZXNzZnVsSFdNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluZCB0aGlzIG9uZSBpbiB0aGUgJHNjb3BlLnVwbG9hZEhXTXMgYW5kIHNwbGljZSBpdCBvdXRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaWNlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmFuayA9IHN1Y2Nlc3NmdWxIV00uYmFuaztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGNtTmFtZSA9IGhvckNvbGxNZXRoTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhjbSkgeyByZXR1cm4gaGNtLmhjb2xsZWN0X21ldGhvZF9pZCA9PSBzdWNjZXNzZnVsSFdNLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZE5hbWUgPSBob3JpekRhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSBzdWNjZXNzZnVsSFdNLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHdtUU5hbWUgPSBod21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhxKSB7IHJldHVybiBocS5od21fcXVhbGl0eV9pZCA9PSBzdWNjZXNzZnVsSFdNLmh3bV9xdWFsaXR5X2lkOyB9KVswXS5od21fcXVhbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHdtVE5hbWUgPSBod21UeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGh0KSB7IHJldHVybiBodC5od21fdHlwZV9pZCA9PSBzdWNjZXNzZnVsSFdNLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFyayA9IHN1Y2Nlc3NmdWxIV00ubWFya2VyX2lkICE9PSB1bmRlZmluZWQgPyBtYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXJfaWQgPT0gc3VjY2Vzc2Z1bEhXTS5tYXJrZXJfaWQ7IH0pWzBdLm1hcmtlcjEgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZjbU5hbWUgPSBzdWNjZXNzZnVsSFdNLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gdmVydENvbGxNZXRoTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZjbSkgeyByZXR1cm4gdmNtLnZjb2xsZWN0X21ldGhvZF9pZCA9PSBzdWNjZXNzZnVsSFdNLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ZE5hbWUgPSBzdWNjZXNzZnVsSFdNLnZkYXR1bV9pZCAhPT0gdW5kZWZpbmVkID8gdmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSBzdWNjZXNzZnVsSFdNLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYWcgPSBzdWNjZXNzZnVsSFdNLmhlaWdodF9hYm92ZV9nbmQgIT09IHVuZGVmaW5lZCA/IE51bWJlcihzdWNjZXNzZnVsSFdNLmhlaWdodF9hYm92ZV9nbmQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbEZ0ID0gc3VjY2Vzc2Z1bEhXTS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoc3VjY2Vzc2Z1bEhXTS5lbGV2X2Z0KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdW5jID0gc3VjY2Vzc2Z1bEhXTS51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKHN1Y2Nlc3NmdWxIV00udW5jZXJ0YWludHkpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBod21VbmMgPSBzdWNjZXNzZnVsSFdNLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKHN1Y2Nlc3NmdWxIV00uaHdtX3VuY2VydGFpbnR5KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBod21JID0gMDsgaHdtSSA8ICRzY29wZS51cGxvYWRIV01zLmxlbmd0aDsgaHdtSSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudXBsb2FkSFdNc1tod21JXS5zaXRlX25vICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9ybWF0IGVhY2ggdXBsb2FkSFdNIGZpcnN0IHRvIGNvbXBhcmUgYXBwbGVzIHRvIGFwcGxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZF9od21VbmMgPSAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fdW5jZXJ0YWludHkgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX3VuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX3VuY2VydGFpbnR5KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfbWFyayA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLm1hcmtlcl9pZCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5tYXJrZXJfaWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS51cGxvYWRIV01zW2h3bUldLm1hcmtlcl9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfdW5jID0gJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udW5jZXJ0YWludHkgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZCA/IE51bWJlcigkc2NvcGUudXBsb2FkSFdNc1tod21JXS51bmNlcnRhaW50eSkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX2hhZyA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLmhlaWdodF9hYm92ZV9nbmQgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaGVpZ2h0X2Fib3ZlX2duZCAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKCRzY29wZS51cGxvYWRIV01zW2h3bUldLmhlaWdodF9hYm92ZV9nbmQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZF9lbEZ0ID0gJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uZWxldl9mdCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uZWxldl9mdCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX3Zjb2xsTWV0aCA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52Y29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZjb2xsZWN0X21ldGhvZF9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfdmRhdCA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZkYXR1bV9pZCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZkYXR1bV9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90IGEgbnVsbCByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudXBsb2FkSFdNc1tod21JXS5zaXRlX25vID09IHN1Y2Nlc3NmdWxIV00uc2l0ZV9ubyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLndhdGVyYm9keSA9PSBzdWNjZXNzZnVsSFdNLndhdGVyYm9keSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF9od21VbmMgPT0gaHdtVW5jICYmIC8vdXBsb2FkSFdNc1suLl0uaHdtX3VuY2VydGFpbnR5IGlzIFwiXCIgYW5kIGNvbXBhcmluZyB0byB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5iYW5rID09IGJhbmsgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiA9PSBzdWNjZXNzZnVsSFdNLmh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKCRzY29wZS51cGxvYWRIV01zW2h3bUldLmxhdGl0dWRlX2RkKSA9PSBzdWNjZXNzZnVsSFdNLmxhdGl0dWRlX2RkICYmIE51bWJlcigkc2NvcGUudXBsb2FkSFdNc1tod21JXS5sb25naXR1ZGVfZGQpID09IHN1Y2Nlc3NmdWxIV00ubG9uZ2l0dWRlX2RkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2hhZyA9PSBoYWcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5oY29sbGVjdF9tZXRob2RfaWQgPT0gaGNtTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLmhkYXR1bV9pZCA9PSBoZE5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fcXVhbGl0eV9pZCA9PSBod21RTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLmh3bV90eXBlX2lkID09IGh3bVROYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX21hcmsgPT0gbWFyayAmJiAvL3VwbG9hZEhXTXNbLi5dLm1hcmtlcl9pZCBpcyBcIlwiIGFuZCBjb21wYXJpbmcgdG8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX3Zjb2xsTWV0aCA9PSB2Y21OYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX3ZkYXQgPT0gdmROYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2VsRnQgPT0gZWxGdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF91bmMgPT0gdW5jICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX25vdGVzID09IHN1Y2Nlc3NmdWxIV00uaHdtX25vdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlSW5kZXggPSBod21JO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpY2VJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNcy5zcGxpY2Uoc3BsaWNlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtSSA9ICRzY29wZS51cGxvYWRIV01zLmxlbmd0aDsvL2JyZWFrIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZHluYW1pYyA9PSAkc2NvcGUubWF4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ2ZhbHNlJzsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdmFsaWRhdGUgYmVmb3JlIGFsbG93aW5nIHNhdmUgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykucmVtb3ZlQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXZlRGF0YSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRDZWxsKDAsIDIpOyAvLyAgKHJvdyxjb2wpIGh3bV90eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhdmVEYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZS52YWxpZGF0ZUNlbGxzKGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+VmFsaWQ8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5WYWxpZGF0aW9uIHN1Y2Nlc3NmdWwhPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpOyAvL2FkZENsYXNzID1mYWxzZSwgcmVtb3ZlQ2xhc3MgPXRydWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdFZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnZhbGlkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW52YWxpZCE8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgdGFibGUgaXMgbm90IHZhbGlkLiBQbGVhc2UgY29ycmVjdCByZWQgY2VsbHMgYW5kIHRyeSBhZ2Fpbi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5hZGRDbGFzcygnbm9TaG93Jyk7IC8vYWRkQ2xhc3MgPWZhbHNlLCByZW1vdmVDbGFzcyA9dHJ1ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpOyAvL25lZWQgdG8gZG8gdGhpcyB3YXkgZm9yIHNvbWUgcmVhc29uIGNoYW5naW5nIGJvb2xlYW4gaXNuJ3Qgd29ya2luZyAuICRyb290U2NvcGUgZWl0aGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5hZGRDbGFzcygnbm9TaG93Jyk7IC8vYWRkQ2xhc3MgPWZhbHNlLCByZW1vdmVDbGFzcyA9dHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPk5vdCBlbm91Z2ggZGF0YSBpbiB0aGUgdGFibGUgdG8gdmFsaWRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zYXZlIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmNob3NlbkV2ZW50OyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXN0ZWRIV01zID0gYW5ndWxhci5jb3B5KCRzY29wZS51cGxvYWRIV01zKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIHRoZSBsYXN0IDIwIHNpbmNlIHRoZXkgYXJlIGVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBhc3RlZEhXTXMubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXN0ZWRIV01zW2ldLnNpdGVfbm8gPT09IHVuZGVmaW5lZCB8fCBwYXN0ZWRIV01zW2ldLnNpdGVfbm8gPT09IG51bGwgfHwgcGFzdGVkSFdNc1tpXS5zaXRlX25vID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZWRIV01zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWF4ID0gcGFzdGVkSFdNcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ3RydWUnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlOyAvL3Jlc2V0IHNvIHRoZXkgZG9uJ3QgY2xpY2sgaXQgYWdhaW4gYmVmb3JlIGhhdmluZyB0byB2YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ubyBnbyB0aHJ1IGVhY2ggYW5kIGdldCByZXN0IG9mIGZpZWxkcyBuZWVkZWQgYW5kIHBvc3QgaHdtc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwYXN0ZWRIV01zLCBmdW5jdGlvbiAoaHdtLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgc2l0ZVBlYWsgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVObzogaHdtLnNpdGVfbm8gfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2l0ZVBlYWtzKHsgaWQ6IHJlc3BvbnNlLnNpdGVfaWQgfSwgZnVuY3Rpb24gKHBlYWtSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcGVha1Jlc3BvbnNlLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZSBzaXRlIHBlYWsgaXMgZm9yIHRoaXMgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlYWtSZXNwb25zZVtwXS5ldmVudF9uYW1lID09ICRzY29wZS5jaG9zZW5FdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUGVha2FycmF5LnB1c2goW3Jlc3BvbnNlLnNpdGVfaWQsIHBlYWtSZXNwb25zZVtwXS5wZWFrX3N1bW1hcnlfaWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uc2l0ZV9pZCA9IHJlc3BvbnNlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLmV2ZW50X2lkID0gJHNjb3BlLmNob3NlbkV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5mbGFnX21lbWJlcl9pZCA9ICRzY29wZS4kcGFyZW50LnVzZXJJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uZmxhZ19kYXRlID0gbWFrZUFkYXRlKGh3bS5mbGFnX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod20uc3VydmV5X2RhdGUgIT09IFwiXCIgJiYgaHdtLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpIGh3bS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZShod20uc3VydmV5X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5oY29sbGVjdF9tZXRob2RfaWQgPSBob3JDb2xsTWV0aExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoY20pIHsgcmV0dXJuIGhjbS5oY29sbGVjdF9tZXRob2QgPT0gaHdtLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5oZGF0dW1faWQgPSBob3JpekRhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9uYW1lID09IGh3bS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5od21fcXVhbGl0eV9pZCA9IGh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHEpIHsgcmV0dXJuIGhxLmh3bV9xdWFsaXR5ID09IGh3bS5od21fcXVhbGl0eV9pZDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLmh3bV90eXBlX2lkID0gaHdtVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChodCkgeyByZXR1cm4gaHQuaHdtX3R5cGUgPT0gaHdtLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20ubWFya2VyX2lkID0gaHdtLm1hcmtlcl9pZCAhPT0gXCJcIiAmJiBod20ubWFya2VyX2lkICE9PSB1bmRlZmluZWQgPyBtYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXIxID09IGh3bS5tYXJrZXJfaWQ7IH0pWzBdLm1hcmtlcl9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtLnN0aWxsd2F0ZXIgIT09IFwiXCIgJiYgaHdtLnN0aWxsd2F0ZXIgIT09IHVuZGVmaW5lZCkgaHdtLnN0aWxsd2F0ZXIgPSBod20uc3RpbGx3YXRlciA9PSBcIk5vXCIgPyBcIjBcIiA6IFwiMVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS52Y29sbGVjdF9tZXRob2RfaWQgPSBod20udmNvbGxlY3RfbWV0aG9kX2lkICE9PSBcIlwiICYmIGh3bS52Y29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCA/IHZlcnRDb2xsTWV0aExpc3QuZmlsdGVyKGZ1bmN0aW9uICh2Y20pIHsgcmV0dXJuIHZjbS52Y29sbGVjdF9tZXRob2QgPT0gaHdtLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kX2lkIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS52ZGF0dW1faWQgPSBod20udmRhdHVtX2lkICE9PSBcIlwiICYmIGh3bS52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IHZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1fYWJicmV2aWF0aW9uID09IGh3bS52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2lkIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod20uc3VydmV5X2RhdGUgIT09IFwiXCIgJiYgaHdtLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpIGh3bS5zdXJ2ZXlfbWVtYmVyX2lkID0gJHNjb3BlLiRwYXJlbnQudXNlcklEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHBvc3QgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5vID0gaHdtLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGh3bS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChsZXQgc2VydmljZXMgaGFuZGxlIHRoaXMpIGh3bS5od21fbGFiZWwgPSBcImh3bS1cIiArIHBhcnNlSW50KGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnNhdmUoaHdtKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChod21SZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV00uYXBwcm92ZUhXTSh7IGlkOiBod21SZXNwb25zZS5od21faWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuYXBwcm92YWxfaWQgPSBhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2Uuc2l0ZV9ubyA9IHNpdGVObztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21SZXNwb25zZS5zdGlsbHdhdGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21SZXNwb25zZS5zdGlsbHdhdGVyID0gaHdtUmVzcG9uc2Uuc3RpbGx3YXRlciA+IDAgPyBcIlllc1wiIDogXCJOb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGh3bVJlc3BvbnNlLnN0aWxsd2F0ZXIgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVQZWFrSWQgPSAkc2NvcGUuc2l0ZVBlYWthcnJheS5maWx0ZXIoZnVuY3Rpb24gKHNwKSB7IHJldHVybiBzcFswXSA9PSBod21SZXNwb25zZS5zaXRlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaXRlUGVha0lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXJlJ3MgYSBwZWFrIHRoaXMgaHdtIGNvdWxkIGJlIGFkZGVkIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuUGVha1N1bW1hcnkgPSBzaXRlUGVha0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHRoZSBmaWxlIGFuZCBhZGQgdG8gdGhlIGh3bSBiZWZvcmUgcHVzaGluZyB0byBwb3N0ZWRIV01zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFwcHJvdmFsU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hcHByb3ZhbFNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2UgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzb3VyY2VSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYXBwcm92YWxGaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFwcHJvdmFsRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYXBwcm92YWxGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hcHByb3ZhbEZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hcHByb3ZhbEZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFwcHJvdmFsRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBod21SZXNwb25zZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogc291cmNlUmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFwcHJvdmFsRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hcHByb3ZhbEZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYXBwcm92YWxGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6IGh3bVJlc3BvbnNlLmh3bV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hcHByb3ZhbEZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Oy8vZW5kIGZpbGVQYXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuSFdNRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHRoZSBkb25lIGxpc3QgKG1ha2Ugc3VyZSBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wb3N0ZWRIV01zLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5od21faWQ7IH0pLmluZGV4T2YoaHdtUmVzcG9uc2UuaHdtX2lkKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSB1cGxvYWRlZDogaHdtX2lkOlwiICsgaHdtUmVzcG9uc2UuaHdtX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdGVkSFdNcy5wdXNoKGh3bVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiSFdNIFwiICsgaHdtUmVzcG9uc2UuaHdtX2lkICsgXCIgaXMgYWxyZWFkeSBpbiB0aGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkIGxpc3QgYmVsb3cuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmR5bmFtaWMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRoaXNVcGxvYWRIV00oaHdtUmVzcG9uc2UpOyAvL3JlbW92ZSBpdCBmcm9tIHRoZSBoYW5kc29udGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIGZpbGV0eXBlX2lkICE9PSA4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZhbEZpbGUuc291cmNlX2lkID0gc291cmNlUmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlLnNpdGVfaWQgPSBod21SZXNwb25zZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlLmh3bV9pZCA9IGh3bVJlc3BvbnNlLmh3bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmFsRmlsZS5wYXRoID0gJzxsaW5rPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYXBwcm92YWxGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLkhXTUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21SZXNwb25zZS5IV01GaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byB0aGUgZG9uZSBsaXN0IChtYWtlIHN1cmUgaXQncyBub3QgYWxyZWFkeSB0aGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucG9zdGVkSFdNcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuaHdtX2lkOyB9KS5pbmRleE9mKGh3bVJlc3BvbnNlLmh3bV9pZCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gdXBsb2FkZWQ6IGh3bV9pZDpcIiArIGh3bVJlc3BvbnNlLmh3bV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RlZEhXTXMucHVzaChod21SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkhXTSBcIiArIGh3bVJlc3BvbnNlLmh3bV9pZCArIFwiIGlzIGFscmVhZHkgaW4gdGhlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCBsaXN0IGJlbG93LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUaGlzVXBsb2FkSFdNKGh3bVJlc3BvbnNlKTsgLy9yZW1vdmUgaXQgZnJvbSB0aGUgaGFuZHNvbnRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZSAoZmlsZXR5cGVfaWQgZG9lcyA9PSA4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzb3VyY2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9ICdmYWxzZSc7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBhcHByb3ZhbCBGaWxlIFNvdXJjZTogXCIgKyBzb3VyY2VFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBhcHByb3ZhbCBGaWxlIFNvdXJjZTogXCIgKyBzb3VyY2VFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoYXBwcm92ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgaHdtOiBcIiArIGFwcHJvdmVFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGh3bTogXCIgKyBhcHByb3ZlRXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFwcHJvdmUgaHdtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGh3bVNhdmVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bVNhdmVFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBod206IFwiICsgaHdtU2F2ZUVycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBod206IFwiICsgaHdtU2F2ZUVycm9yLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGdldFNpdGVQZWFrRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNpdGVQZWFrRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgcGVhazogXCIgKyBnZXRTaXRlUGVha0Vycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHBlYWs6IFwiICsgZ2V0U2l0ZVBlYWtFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZ2V0SHdtU2l0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRId21TaXRlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgaW5mbyAoXCIgKyBod20uc2l0ZV9ubyArIFwiKTogXCIgKyBnZXRId21TaXRlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBpbmZvIChcIiArIGh3bS5zaXRlX25vICsgXCIpOiBcIiArIGdldEh3bVNpdGVFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Jlc2V0IGJhY2sgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xlYXJUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5XYXJuaW5nISBUaGlzIHdpbGwgcmVtb3ZlIGFsbCBod21zIGZyb20gdGhlIHRhYmxlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHN1Y2Nlc3NmdWxseSBVcGxvYWRlZCBUYWJsZSBzdHVmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgdGhlIHNpdGUgbm8gaW4gdGhlIGZpbmlzaGVkIHRhYmxlIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdvVG9TaXRlRGFzaCA9IGZ1bmN0aW9uIChzaXRlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Nob3cgd2FybmluZyBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXJuaW5nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZyE8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgYXJlIGFib3V0IHRvIGxlYXZlIHRoZSBCdWxrIEhXTSBVcGxvYWRlci48YnIgLz5JbiBkb2luZyBzbywgeW91IHdpbGwgbm8gbG9uZ2VyIGJlIGFibGUgdG8gc2VlIHRoZSBsaXN0IG9mIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCBIV01zLjwvcD48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyBwYWdlPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+WWVzPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwiY2FuY2VsKClcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNpdGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NpdGUuZGFzaGJvYXJkJywgeyBpZDogc2l0ZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoaXMgaHdtIGFuZCByZW1vdmUgZnJvbSBkb25lIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRGVsZXRlSFdNID0gZnVuY3Rpb24gKGh3bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWxJbmRleCA9ICRzY29wZS5wb3N0ZWRIV01zLmluZGV4T2YoaHdtKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1RPRE86OiBEZWxldGUgdGhlIGZpbGVzIGZvciB0aGlzIGh3bSB0b28gb3IgcmVhc3NpZ24gdG8gdGhlIFNpdGU/PyBTZXJ2aWNlcyBvciBjbGllbnQgaGFuZGxpbmc/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh3bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSFdNXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChod21Ub1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5kZWxldGUoeyBpZDogaHdtVG9SZW1vdmUuaHdtX2lkIH0sIGh3bVRvUmVtb3ZlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBod21GaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdGVkSFdNcy5zcGxpY2UoJHNjb3BlLmRlbEluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWxJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9OyAvL2VuZCBEZWxldGVIV00gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGVkaXQgaHdtIG9yIGFkZCBmaWxlcyB0byBpdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9wZW5IV01FZGl0ID0gZnVuY3Rpb24gKEhXTWNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FsbExpc3RzID0gW2h3bVR5cGVMaXN0LCBod21RdWFsTGlzdCwgaG9yaXpEYXR1bUxpc3QsIGhvckNvbGxNZXRoTGlzdCwgdmVydERhdHVtTGlzdCwgdmVydENvbGxNZXRoTGlzdCwgbWFya2VyTGlzdCwgZXZlbnRMaXN0XTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLnBvc3RlZEhXTXMuaW5kZXhPZihIV01jbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5vID0gSFdNY2xpY2tlZC5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bUVkaXRJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdIV01fTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEcm9wZG93bnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFzc0FsbExpc3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNIV006IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNY2xpY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlSE1XczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0RXZlbnRTaXRlSFdNcyh7IHNpdGVJZDogSFdNY2xpY2tlZC5zaXRlX2lkLCBFdmVudDogSFdNY2xpY2tlZC5ldmVudF9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21TaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogSFdNY2xpY2tlZC5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWdlbmNpZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVUeXBlc0xpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdod21FZGl0TW9kYWxDdHJsJy8vZW5kIG1vZGFsIGNvbnRyb2xsZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBod21FZGl0SW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGh3bVVwZGF0ZWRBTkRGaWxlQ250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gaHdtVXBkYXRlZEFOREZpbGVDbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlcyA9IGh3bVVwZGF0ZWRBTkRGaWxlQ250WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLnNpdGVfbm8gPSBzaXRlTm87IC8vYWRkIGJhY2sgdGhlIHNpdF9ub1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBmaWxlcyBjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLkhXTUZpbGVzID0gZmlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZml4IHN0aWxsd2F0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGguc3RpbGx3YXRlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnN0aWxsd2F0ZXIgPSBoLnN0aWxsd2F0ZXIgPiAwID8gXCJZZXNcIiA6IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGguc3RpbGx3YXRlciA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RlZEhXTXNbaW5kZXhDbGlja2VkXSA9IGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHN1Y2Nlc3NmdWxseSBVcGxvYWRlZCBUYWJsZSBzdHVmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEhXTSBQRUFLIFwiYWRkL2VkaXRcIiBjbGlja2VkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9wZW5QZWFrRWRpdCA9IGZ1bmN0aW9uIChwZWFrSWQsIHNpdGVJZCwgZXZlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlYWtFZGl0SW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnUGVha0VkaXRfTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDb2xsZWN0Q29uZGl0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlNUX0NPTExfQ09ORElUSU9OLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnREYXR1bXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVhazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLnF1ZXJ5KHsgaWQ6IHBlYWtJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVha0RGczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLmdldFBlYWtTdW1tYXJ5REZzKHsgaWQ6IHBlYWtJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWFrU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50SFdNczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0RmlsdGVyZWRIV01zKHsgRXZlbnQ6ICRzY29wZS5jaG9zZW5FdmVudCwgRXZlbnRTdGF0dXM6IDAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZUZpbGVzKHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVTZW5zb3JzKHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BlYWtNb2RhbEN0cmwnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVha0VkaXRJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAodXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZWRbMF0gd2lsbCBiZSB0aGUgcGVhaywgdXBkYXRlZFsxXSB3aWxsIGJlICd1cGRhdGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5PcGVuUGVha0NyZWF0ZSA9IGZ1bmN0aW9uIChzaXRlSWQsIGV2ZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZWFrQ3JlYXRlSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnUGVha0VkaXRfTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDb2xsZWN0Q29uZGl0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlNUX0NPTExfQ09ORElUSU9OLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnREYXR1bXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVhazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWtERnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlYWtTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogc2l0ZUlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRIV01zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhXTS5nZXRGaWx0ZXJlZEhXTXMoeyBFdmVudDogJHNjb3BlLmNob3NlbkV2ZW50LCBFdmVudFN0YXR1czogMCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXRlRmlsZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlRmlsZXMoeyBpZDogc2l0ZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpdGVTZW5zb3JzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZVNlbnNvcnMoeyBpZDogc2l0ZUlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGVha01vZGFsQ3RybCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBwZWFrQ3JlYXRlSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRQaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZWRQa1swXSB3aWxsIGJlIHRoZSBwZWFrLCBjcmVhdGVkUGtbMV0gd2lsbCBiZSAnY3JlYXRlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdGhpcyAnUGVha1N1bW1hcnknIFtzaXRlX2lkLCBwZWFrX3N1bW1hcnlfaWRdIHRvIGVhY2ggaHdtIGluIHBvc3RlZEhXTXMgdGhhdCBoYXZlIHRoaXMgc2l0ZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUucG9zdGVkSFdNcywgZnVuY3Rpb24gKHBIV00pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwSFdNLnNpdGVfaWQgPT0gc2l0ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEhXTS5QZWFrU3VtbWFyeSA9IFtzaXRlSWQsIGNyZWF0ZWRQa1swXS5wZWFrX3N1bW1hcnlfaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gSFdNIFBFQUsgXCJhZGQvZWRpdFwiIGNsaWNrZWQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFibGVTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbEhlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sSGVhZGVyczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPldhdGVyYm9keSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIklkZW50aWZ5aW5nIExhYmVsLiBJZiBsZWZ0IGJsYW5rLCBkZWZhdWx0cyB0byAmcXVvdDtub19sYWJlbCZxdW90O1wiPkhXTSBMYWJlbDwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPkhXTSBUeXBlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNYXJrZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5IV00gRW52aXJvbm1lbnQgKjwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkhXTSBVbmNlcnRhaW50eSAoZnQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SFdNIFF1YWxpdHkgKjwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJhbmtcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJMb2MuIERlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SFdNIExhdGl0dWRlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5IV00gTG9uZ2l0dWRlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5Ib3Jpem9udGFsIERhdHVtICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5Ib3Jpem9udGFsIENvbGxlY3QgTWV0aG9kICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiSGVpZ2h0IGFib3ZlIGdyb3VuZFwiPkhBRyAoZnQpPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+RmxhZy9Gb3VuZCBEYXRlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdXJ2ZXkgRGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlN1cnZleWVkIEVsZXYgKGZ0KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZlcnRpY2FsIERhdHVtXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmVydGljYWwgQ29sbGVjdCBNZXRob2RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdXJ2ZXkgVW5jZXJ0YWludHkgKGZ0KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vdGVzXCIsIFwiVHJhbnF1aWwvU3RpbGx3YXRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJTaXRlIE51bWJlciwgUmVxdWlyZWRcIj4gU2l0ZSBObyAqPC9zcGFuPidcclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3BhcmVSb3dzOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhSb3dzOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtblNvcnRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbENvbHVtblJlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYW51YWxSb3dSZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFdyYXA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzogJ2hvcml6b250YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Q29sdW1uUmVuZGVyaW5nT2Zmc2V0TnVtYmVyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFdpZHRoczogJHNjb3BlLmNvbHVtbldpZHRocyxcclxuICAgICAgICAgICAgICAgICAgICAvL2ludGVyZXN0aW5nLS0gY291bGQgdXNlIHRoaXMgZm9yIGhvdmVyIHRleHQgb24gaW52YWxpZHMgbWF5YmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FmdGVyT25DZWxsTW91c2VPdmVyOmZ1bmN0aW9uIChldmVudCwgY29vcmRzLCB0ZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHZhciB0ZXN0ID0gJ2hpJztcclxuICAgICAgICAgICAgICAgICAgICAvL30sXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJPbkNlbGxNb3VzZURvd246IGZ1bmN0aW9uIChldmVudCwgY29vcmRzLCB0ZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29wZW4gbW9kYWwgZm9yIHNpdGVOb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29wZW4gbXVsdGktc2VsZWN0IG1vZGFsIGZvciByZXNvdXJjZXMsIG1lZGlhIG9yIGZyZXF1ZW5jaWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb29yZHMuY29sID09PSAyMiAmJiBldmVudC5yZWFsVGFyZ2V0LmNsYXNzTmFtZSA9PSBcImh0QXV0b2NvbXBsZXRlQXJyb3dcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0hXTXZhbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NIV012YWxzLnB1c2goJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwoY29vcmRzLnJvdywgMCkpOyAvL3dhdGVyYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCA5KSk7IC8vbGF0IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCAxMCkpOyAvL2xvbmcgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCAxMSkpOyAvL2hkYXR1bSAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzSFdNdmFscy5wdXNoKCRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRDZWxsKGNvb3Jkcy5yb3csIDEyKSk7IC8vaGNvbGxlY3RtZXRoZCBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRGaW5kU2l0ZU1vZGFsKGNvb3Jkcy5yb3csIGNvb3Jkcy5jb2wsIHBhc3NIV012YWxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dE1lbnU6IFsncmVtb3ZlX3JvdyddLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBvbkFmdGVyVmFsaWRhdGU6IGZ1bmN0aW9uIChpc1ZhbGlkLCB2YWx1ZSwgcm93LCBwcm9wLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzLnB1c2goeyBcImlzVmFsaWRcIjogaXNWYWxpZCwgXCJyb3dcIjogcm93LCBcInByb3BcIjogcHJvcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2SW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZJID0gMDsgdkkgPCAkc2NvcGUuaW52YWxpZHMubGVuZ3RoOyB2SSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5pbnZhbGlkc1t2SV0ucm93ID09IHJvdyAmJiAkc2NvcGUuaW52YWxpZHNbdkldLnByb3AgPT0gcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2SW5kZXggPSB2STtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZJbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5zcGxpY2UodkluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlckNoYW5nZTogZnVuY3Rpb24gKGNoYW5nZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc291cmNlIGNhbiBiZSAnbG9hZERhdGEnIChmaXJzdCB0aW1lKSwgJ2VkaXQnIChvbmUgY2VsbCBhdCBhIHRpbWUpLCAncGFzdGUnIChidW5jaCBhdCBhIHRpbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hhbmdlIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgYXJyYXlzIGZvciBlYWNoIGNvbHVtbiBhZmZlY3RlZDogWzBdID0gcm93LCBbMV0gPSBkYXRhTmFtZSwgWzJdID0gdmFsdWUgaXQgd2FzLCBbM10gPSB2YWx1ZSBpdCBpcyAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlICE9ICdsb2FkRGF0YScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgaWYgaXQgd2FzIGFjdHVhbGx5IGNoYW5nZWQgLS0gbWFrZSB0aGVtIHZhbGlkYXRlIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZVtpXVsyXSAhPT0gY2hhbmdlW2ldWzNdICYmICRzY29wZS5ub3RWYWxpZCA9PT0gZmFsc2UpICRzY29wZS5ub3RWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZm9yZWFjaCBjaGFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlclJlbW92ZVJvdzogZnVuY3Rpb24gKGluZGV4LCBhbW91bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBhbnkgJHNjb3BlLmludmFsaWRzW2ldLnJvdyA9PSBpbmRleCB0aGVuIHNwbGljZSBpdCBvdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldFNlbGVjdGVkKCk7IC8vW3N0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2xdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21vcmUgdGhhbiAxIHJvdyBiZWluZyBkZWxldGVkLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYWNoUm93SW5kZXhBcnJheSA9IFtdOyAvL2hvbGRlciBmb3IgYXJyYXkgaW5kZXggdG8gbG9vcCB0aHJ1IGZvciBzcGxpY2luZyBpbnZhbGlkc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNudCA9IChzZWxlY3RlZFsyXSAtIHNlbGVjdGVkWzBdICsgMSk7IC8vZ2l2ZXMgbWUgY291bnQgb2Ygc2VsZWN0ZWQgcm93c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaFJvd0luZGV4QXJyYXkucHVzaChzZWxlY3RlZFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8IGNudDsgYysrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hSb3dJbmRleEFycmF5LnB1c2goc2VsZWN0ZWRbMF0gKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vcCB0aHJ1IGludmFsaWRzIHRvIHNlZSBpZiBhbnkgYXJlIGluIHRoZSBkZWxldGluZyByb3dzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBNaSA9ICRzY29wZS5pbnZhbGlkcy5sZW5ndGg7IE1pLS07KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hSb3dJbmRleEFycmF5LmluZGV4T2YoJHNjb3BlLmludmFsaWRzW01pXS5yb3cpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5zcGxpY2UoTWksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9qdXN0IDEgcm93IHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gJHNjb3BlLmludmFsaWRzLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaW52YWxpZHNbaV0ucm93ID09IGluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBoYW5kc29udGFibGUgc2V0dGluZ3NcclxuICAgICAgICAgICAgfS8vZW5kIGF1dGhvcml6ZWRcclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgLy9jb250cm9sbGVyIGZvciB0aGUgaHdtIHNpdGUgTm8gbW9kYWwgdGhhdCBjb21lcyB1cCB3aGVuIGNsaWNraW5nIHRoZSBkcm9wZG93biBhcnJvdyBpbiB0aGUgc2l0ZSBubyBjZWxsIGluIHRoZSBoYW5kc29udGFibGVcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2h3bVNpdGVNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyRjb29raWVzJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ25lYXJCeVNpdGVzJywgJ0hXTXBhcnRzJywgJ3NpdGVOb0FscmVhZHlUaGVyZScsICdoZGF0dW1zJywgJ2hjb2xNZXRocycsICd2ZGF0dW1zJywgJ3Zjb2xNZXRocycsICdzdGF0ZXMnLCAnY291bnRpZXMnLCAnbGVhZmxldERhdGEnLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdHRU9DT0RFJywgJ1NJVEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRodHRwLCAkY29va2llcywgJHVpYk1vZGFsSW5zdGFuY2UsIG5lYXJCeVNpdGVzLCBIV01wYXJ0cywgc2l0ZU5vQWxyZWFkeVRoZXJlLCBoZGF0dW1zLCBoY29sTWV0aHMsIHZkYXR1bXMsIHZjb2xNZXRocywgc3RhdGVzLCBjb3VudGllcywgbGVhZmxldERhdGEsIGxlYWZsZXRNYXJrZXJFdmVudHMsIEdFT0NPREUsIFNJVEUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxvY2FsU2l0ZXMgPSBuZWFyQnlTaXRlcztcclxuICAgICAgICAgICAgJHNjb3BlLmhvckRhdHVtcyA9IGhkYXR1bXM7XHJcbiAgICAgICAgICAgICRzY29wZS5ob3JDb2xsTWV0aHMgPSBoY29sTWV0aHM7XHJcbiAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1zID0gdmRhdHVtcztcclxuICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xsTWV0aHMgPSB2Y29sTWV0aHM7XHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBzdGF0ZXM7XHJcbiAgICAgICAgICAgICRzY29wZS5jb3VudGllcyA9IGNvdW50aWVzO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1NpdGVDcmVhdGVBcmVhID0gZmFsc2U7IC8vY3JlYXRlIG5ldyBzaXRlIGNoZWNrYm94IGNsaWNrIHRvZ2dsZSBzaG93L2hpZGUgXHJcbiAgICAgICAgICAgICRzY29wZS5kaXNhYmxlT0sgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUNoZWNrZWQgPSBcIjBcIjsgLy8gZGVmYXVsdCBpcyB1bmNoZWNrZWQgb24gY3JlYXRlIG5ldyBzaXRlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TWFwID0gZmFsc2U7IC8vc2hvdyBtYXAgdG9nZ2xlIChvbmx5IHNob3dzIGlmIHRoZXJlIGFyZSBzaXRlcyBpbiB0aGUgbG9jYWxTaXRlcyBsaXN0XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SGlkZU1hcCA9IFwiU2hvd1wiO1xyXG4gICAgICAgICAgICAvLyBzaG93L2hpZGUgY3JlYXRlIHNpdGUgYXJlYVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0hpZGVDcmVhdGVTaXRlRGl2ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlQ3JlYXRlQXJlYSA9ICEkc2NvcGUuc2hvd1NpdGVDcmVhdGVBcmVhO1xyXG4gICAgICAgICAgICAgICAgLy91bnNlbGVjdCBhbGwgcmFkaW8gYnV0dG9ucyAoaWYgZXhpc3RpbmcgbmVhcmJ5IHNpdGVzKVxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5sb2NhbFNpdGVzLCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZS9zaG93IE9LIGJ1dHRvbiBmcm9tIGJvdHRvbSBvZiBtb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaG93U2l0ZUNyZWF0ZUFyZWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZU9LID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IGZhbHNlOyAkc2NvcGUuc2hvd0hpZGVNYXAgPSAkc2NvcGUuc2hvd0hpZGVNYXAgPT0gXCJTaG93XCIgPyBcIkhpZGVcIiA6IFwiU2hvd1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9wdWxhdGUgbmV3U2l0ZSB3aXRoIGh3bSBwYXJ0cyBpZiBwcmVzZW50ICAwOndhdGVyYm9keSwgMTpsYXQsIDI6bG9uZywgMzpoZGF0dW0sIDQ6aGNvbGxlY3RtZXRoZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLndhdGVyYm9keSA9IEhXTXBhcnRzWzBdICE9PSBcIlwiICYmIEhXTXBhcnRzWzBdICE9PSBudWxsID8gSFdNcGFydHNbMF0gOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkID0gSFdNcGFydHNbMV0gIT09IFwiXCIgJiYgSFdNcGFydHNbMV0gIT09IG51bGwgPyBIV01wYXJ0c1sxXSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkID0gSFdNcGFydHNbMl0gIT09IFwiXCIgJiYgSFdNcGFydHNbMl0gIT09IG51bGwgPyBIV01wYXJ0c1syXSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUuaGRhdHVtX2lkID0gSFdNcGFydHNbM10gIT09IFwiXCIgJiYgSFdNcGFydHNbM10gIT09IG51bGwgPyAkc2NvcGUuaG9yRGF0dW1zLmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX25hbWUgPT0gSFdNcGFydHNbM107IH0pWzBdLmRhdHVtX2lkIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgPSBIV01wYXJ0c1s0XSAhPT0gXCJcIiAmJiBIV01wYXJ0c1s0XSAhPT0gbnVsbCA/ICRzY29wZS5ob3JDb2xsTWV0aHMuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuaGNvbGxlY3RfbWV0aG9kID09IEhXTXBhcnRzWzRdOyB9KVswXS5oY29sbGVjdF9tZXRob2RfaWQgOiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2dldEFkZHJlc3Mgd2l0aCBsYXQvbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRBZGRyZXNzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlICRzY29wZS5kaXNhYmxlT0sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBhbGwgbWFya2VycyAoaWYgYW55KSBkZWZhdWx0IGJsdWUgKHVuc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLm1hcmtlcnMsIGZ1bmN0aW9uIChtbSkgeyBpZiAobW0ubGF5ZXIgPT0gJ3N0blNpdGVzJykgbW0uaWNvbiA9IGljb25zLnN0bjsgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaWYgdGhleSBjaGVjayBhIHJhZGlvIGJ1dHRvbiAoY2hvc2UgYSBzaXRlKSBtYWtlIHN1cmUgdGhlIGNoZWNrYm94IGZvciBuZXcgc2l0ZSBpcyB1bmNoZWNrZWQuXHJcbiAgICAgICAgICAgICRzY29wZS51bmNoa0NyZWF0ZSA9IGZ1bmN0aW9uIChjaGVja2VkU2l0ZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUNoZWNrZWQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUNyZWF0ZUFyZWEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vY2hhbmdlIGljb24gY29sb3Igb2YgdGhhdCBtYXJrZXIgaW4gbWFwXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLm1hcmtlcnMsIGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0ubGF5ZXIgPT0gJ3N0blNpdGVzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobS5sYXQgPT0gY2hlY2tlZFNpdGUubGF0aXR1ZGVfZGQgJiYgbS5sbmcgPT0gY2hlY2tlZFNpdGUubG9uZ2l0dWRlX2RkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbS5pY29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5pY29uID0gaWNvbnMuc2VsZWN0ZWRTdG47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBtLmljb24gPSBpY29ucy5zdG47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVPSyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBzaG93L2hpZGUgdGhlIG1hcCBcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlc09uTWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNYXAgPSAhJHNjb3BlLnNob3dNYXA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0hpZGVNYXAgPSAkc2NvcGUuc2hvd0hpZGVNYXAgPT0gXCJTaG93XCIgPyBcIkhpZGVcIiA6IFwiU2hvd1wiO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaG93TWFwKSBmaXRNYXBCb3VuZHMoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFwIHN0dWZmXHJcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICB2YXIgaWNvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdG46IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuU2l0ZUljb24nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTdG46IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzE0LCAxNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmV3U2l0ZUljb24nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaHdtSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTYsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5IV01JY29uJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9wdXNoIGVhY2ggbG9jYWxTaXRlIGludG8gdGhlIG1hcmtlcnMgYXJyYXlcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUubG9jYWxTaXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSAkc2NvcGUubG9jYWxTaXRlc1tpXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlNpdGUgTnVtYmVyOjwvYj4gJyArIGEuc2l0ZV9ubyArICc8YnIgLz4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGI+U2l0ZSBOYW1lOjwvYj4gJyArIGEuc2l0ZV9uYW1lICsgJzxiciAvPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8Yj5XYXRlcmJvZHk6PC9iPiAnICsgYS53YXRlcmJvZHkgKyAnPGJyIC8+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxiPkxhdGl0dWRlL0xvbmdpdHVkZTo8L2I+ICcgKyBhLmxhdGl0dWRlX2RkICsgJyAnICsgYS5sb25naXR1ZGVfZGQgKyAnPGJyIC8+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBhLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGEuc2l0ZV9ubyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vcHVzaCB0aGUgaHdtIGludG8gdGhlIG1hcmtlcnNcclxuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBsYXllcjogJ3N0bkhXTScsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5IV008L2I+PGJyLz4nICtcclxuICAgICAgICAgICAgICAgICc8Yj5MYXRpdHVkZTo8L2I+ICcgKyBIV01wYXJ0c1sxXSArICc8YnIvPicgK1xyXG4gICAgICAgICAgICAgICAgJzxiPkxvbnRpdHVkZTo8L2I+ICcgKyBIV01wYXJ0c1syXSArICc8YnIvPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBsYXQ6IE51bWJlcihIV01wYXJ0c1sxXSksXHJcbiAgICAgICAgICAgICAgICBsbmc6IE51bWJlcihIV01wYXJ0c1syXSksXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0hXTScsXHJcbiAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5od21JY29uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2dldCBib3VuZHMgYmFzZWQgb24gbGF0IGxvbmcgb2YgMiBwb2ludHNcclxuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmxvY2FsU2l0ZXMsIGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMucHVzaChbcy5sYXRpdHVkZV9kZCwgcy5sb25naXR1ZGVfZGRdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBmaXRNYXBCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoXCJhc3NvY2lhdGVkU2l0ZU1hcFwiKS50aGVuKGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcywgeyBwYWRkaW5nOiBbMjAsIDIwXSB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmaXRNYXBCb3VuZHMoKTtcclxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzOiAkc2NvcGUubWFya2VycyxcclxuICAgICAgICAgICAgICAgIGxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wbzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXb3JsZCBUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RuU2l0ZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU1ROIFNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RuSFdNOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0hXTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIgJHNjb3BlLmV4dGVuZCBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgLy9lbmQgbWFwIHBhcnRcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhlcmUncyBhbHJlYWR5IGJlZW4gYSBzaXRlX25vIGFkZGVkIHRvIHRoaXMgcm93LCBnZXQgaXQgZnJvbSB0aGUgbG9jYWxTaXRlcyBhbmQgc2VsZWN0IGl0XHJcbiAgICAgICAgICAgIGlmIChzaXRlTm9BbHJlYWR5VGhlcmUgIT09IFwiXCIgJiYgc2l0ZU5vQWxyZWFkeVRoZXJlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmxvY2FsU2l0ZXMsIGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2l0ZV9ubyA9PSBzaXRlTm9BbHJlYWR5VGhlcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5zZWxlY3RlZCA9ICd0cnVlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkTWFya2VyID0gJHNjb3BlLm1hcmtlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLmxhdCA9PSBzLmxhdGl0dWRlX2RkICYmIG0ubG5nID09IHMubG9uZ2l0dWRlX2RkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNYXJrZXIuaWNvbiA9IGljb25zLnNlbGVjdGVkU3RuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL25ldyBzaXRlIGNyZWF0ZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICRzY29wZS5uZXdTaXRlID0ge307XHJcblxyXG4gICAgICAgICAgICAvL2xhdCBlcnJvciBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsYXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNTSVRFX2xhdGl0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNTSVRFX2xvbmdpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVmFsdWUgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsYXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUubmV3U2l0ZS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5uZXdTaXRlLmxvbmdpdHVkZV9kZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIFNJVEUuc3RhdGUgY2hhbmdlcywgdXBkYXRlIGNvdW50eSBsaXN0XHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVDb3VudHlMaXN0ID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LnN0YXRlX2FiYnJldiA9PSBzOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgdXBkYXRlQ291bnR5TGlzdCgpIGZvciBTaXRlXHJcblxyXG4gICAgICAgICAgICAvL2dldCBhZGRyZXNzIHBhcnRzIGFuZCBleGlzdGluZyBzaXRlcyBcclxuICAgICAgICAgICAgJHNjb3BlLmdldEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZW0gYWxsIGZpcnN0XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm5ld1NpdGUuYWRkcmVzczsgZGVsZXRlICRzY29wZS5uZXdTaXRlLmNpdHk7IGRlbGV0ZSAkc2NvcGUubmV3U2l0ZS5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSBbXTsgZGVsZXRlICRzY29wZS5uZXdTaXRlLnppcDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4oJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQpICYmICFpc05hTigkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBHRU9DT0RFLmdldEFkZHJlc3NQYXJ0cyh7IExvbmdpdHVkZTogJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkLCBMYXRpdHVkZTogJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUZJUFMgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSAkc2NvcGUuY291bnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2ZpcCA9PSBzdGF0ZUZJUFM7IH0pWzBdLnN0YXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGVJRDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5zdGF0ZSA9IHRoaXNTdGF0ZS5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmNvdW50eSA9IGNvdW50eU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGhlIExhdGl0dWRlL0xvbmdpdHVkZSBkaWQgbm90IHJldHVybiBhIHJlY29nbml6ZWQgc3RhdGUuIFBsZWFzZSBjaG9vc2Ugb25lIGZyb20gdGhlIGRyb3Bkb3duLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJObyBsb2NhdGlvbiBpbmZvcm1hdGlvbiBjYW1lIGJhY2sgZnJvbSB0aGF0IGxhdC9sb25nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzLiBDaG9vc2UgU3RhdGUgYW5kIENvdW50eSBmcm9tIGRyb3Bkb3ducy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFkZHJlc3M6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFkZHJlc3M6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IGRpZCBub3QgdHlwZSBhIGxhdC9sb25nIGZpcnN0Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbXB0eUxhdExvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwcm92aWRlIGEgTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBiZWZvcmUgY2xpY2tpbmcgVmVyaWZ5IExvY2F0aW9uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBnZXRBZGRyZXNzKClcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSBjcmVhdGVkIGEgbmV3IHNpdGUsIHBvc3QgaXQgYW5kIHVzZSBwYXNzIHRoZSBzaXRlX25vIGJhY2sgdG8gdGhlIGhhbmRzb250YWJsZSByb3dcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU5ld1NpdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHRoZSBzaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubWVtYmVyX2lkID0gJHNjb3BlLiRwYXJlbnQudXNlcklEO1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuc2F2ZSgkc2NvcGUubmV3U2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlbmQgaXQgYmFjayB0byBoYW5kc29udGFibGUgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9lbmQgY3JlYXRlIG5ldyBzaXRlIHNlY3Rpb25cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vc2VuZCB0aGUgc2VsZWN0ZWQgb25lIGJhY2sgc28gc2l0ZV9ubyBzaG93c1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkU2l0ZSA9IG5lYXJCeVNpdGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZWxlY3RlZCA9PSBcInRydWVcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZWxlY3RlZFNpdGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTsvL2VuZCBNb2RhbCBjb250cm9sbGVyXHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignaHdtRWRpdE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2FsbERyb3Bkb3ducycsICd0aGlzSFdNJywgJ3NpdGVITVdzJywgJ2FnZW5jeUxpc3QnLCAnYWxsTWVtYmVycycsICdmaWxlVHlwZXMnLCAnaHdtU2l0ZScsXHJcbiAgICAgICAgJ1NFUlZFUl9VUkwnLCAnSFdNJywgJ0ZJTEUnLCAnU09VUkNFJywgJ0ZJTEVfU1RBTVAnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRodHRwLCAkY29va2llcywgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgYWxsRHJvcGRvd25zLCB0aGlzSFdNLCBzaXRlSE1XcywgYWdlbmN5TGlzdCwgYWxsTWVtYmVycywgZmlsZVR5cGVzLCBod21TaXRlLCBTRVJWRVJfVVJMLCBIV00sIEZJTEUsIFNPVVJDRSwgRklMRV9TVEFNUCkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgSFdNdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuaCA9IHsgaE9wZW46IHRydWUsIGhGaWxlT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICRzY29wZS5od21UeXBlTGlzdCA9IGFsbERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsRHJvcGRvd25zWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSERhdHVtc0xpc3QgPSBhbGxEcm9wZG93bnNbMl07XHJcbiAgICAgICAgICAgICRzY29wZS5oQ29sbE1MaXN0ID0gYWxsRHJvcGRvd25zWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuVkRhdHVtc0xpc3QgPSBhbGxEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS52Q29sbE1MaXN0ID0gYWxsRHJvcGRvd25zWzVdO1xyXG4gICAgICAgICAgICAkc2NvcGUubWFya2VyTGlzdCA9IGFsbERyb3Bkb3duc1s2XTtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IGFsbERyb3Bkb3duc1s3XTtcclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNIV01zaXRlID0gaHdtU2l0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlTGlzdCA9IGZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgLy9QaG90byAoMSksIEhpc3RvcmljICgzKSwgRmllbGQgU2hlZXRzICg0KSwgTGV2ZWwgTm90ZXMgKDUpLCBPdGhlciAoNyksIExpbmsgKDgpLCBTa2V0Y2ggKDEwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgaGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgaGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmh3bUltYWdlRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSBmYWxzZTsgLy90b2dnbGUgdG8gc2hvdy9oaWRlIGV2ZW50IGRkIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307IC8vd2lsbCBob2xkIGV2ZW50X2lkIGlmIGFkbWluIGNoYW5nZXMgaXQuIGFwcGx5IHdoZW4gUFVUdGluZ1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDsgLy9jb25zdGFudCB3aXRoIHN0bnRlc3Qud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzMiBcclxuICAgICAgICAgICAgLy9idXR0b24gY2xpY2sgdG8gc2hvdyBldmVudCBkcm9wZG93biB0byBjaGFuZ2UgaXQgb24gZXhpc3RpbmcgaHdtIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NoYW5nZUV2ZW50REQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSAhJHNjb3BlLnNob3dFdmVudEREO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLkxvZ2dlZEluTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzID0gW107XHJcbiAgICAgICAgICAgIC8vRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsYXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsYXRpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHJpZ2h0IG51bWJlciByYW5nZVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGxhdGl0dWRlL2xvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIGlmIChoLmxhdGl0dWRlX2RkIDwgMCB8fCBoLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oaC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGgubGF0aXR1ZGVfZGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGgubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCBoLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTihoLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihoLmxvbmdpdHVkZV9kZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGgubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAgbGF0L2xvbmcgPWlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaHdtX3VuY2VydGFpbnR5IHR5cGVkIGluLCBjaG9vc2UgY29vcmVzcG9uZGluZyBod21fZW52aXJvbm1lbnRcclxuICAgICAgICAgICAgJHNjb3BlLmNob29zZVF1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgaWYgKGguaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaC5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4ID4gMC40KSBoLmh3bV9xdWFsaXR5X2lkID0gNTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh4IDwgMC4wNSkgaC5od21fcXVhbGl0eV9pZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguaHdtX3F1YWxpdHlfaWQgPSAkc2NvcGUuaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLm1pbl9yYW5nZSA8PSB4ICYmIGgubWF4X3JhbmdlID49IHg7IH0pWzBdLmh3bV9xdWFsaXR5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9od20gcXVhbGl0eSBjaG9zZW4gKG9yIGl0IGNoYW5nZWQgZnJvbSBhYm92ZSksIGNoZWNrIHRvIG1ha2Ugc3VyZSBpdCBpcyBjb25ncnVlbnQgd2l0aCBpbnB1dCBhYm92ZVxyXG4gICAgICAgICAgICAkc2NvcGUuY29tcGFyZVRvVW5jZXJ0YWludHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgaWYgKGguaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiICYmIGguaHdtX3VuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE51bWJlcihoLmh3bV91bmNlcnRhaW50eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nUXVhbElkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaC5taW5fcmFuZ2UgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoLm1pbl9yYW5nZSA8PSB4ICYmIGgubWF4X3JhbmdlID49IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGguaHdtX3F1YWxpdHlfaWQgIT09IG1hdGNoaW5nUXVhbElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyB3YXJuaW5nIG1vZGFsIGFuZCBmb2N1cyBpbiB1bmNlcnRhaW50eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jb25ncnVlbnRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSBpcyBhIG1pc21hdGNoIGJldHdlZW4gdGhlIGh3bSBxdWFsaXR5IGNob3NlbiBhbmQgdGhlIGh3bSB1bmNlcnRhaW50eSBhYm92ZS4gUGxlYXNlIGNvcnJlY3QgeW91ciBod20gdW5jZXJ0YWludHkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvbmdydWVudE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fdW5jZXJ0YWludHknXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTSA9IGFuZ3VsYXIuY29weSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hSFdNLnNpdGVfbm87IC8vcmVtb3ZlIHRoaXMgc28gdGhhdCBpdCdzIHRoZSB0cnVlIG9iamVjdCBmb3IgUFVUXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5IV01GaWxlcylcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgJHNjb3BlLmFIV00uSFdNRmlsZXMubGVuZ3RoOyBmKyspXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goJHNjb3BlLmFIV00uSFdNRmlsZXNbZl0pO1xyXG4gICAgICAgICAgICBkZWxldGUgJHNjb3BlLmFIV00uSFdNRmlsZXM7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTS5mbGFnX2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uZmxhZ19kYXRlKTtcclxuICAgICAgICAgICAgLy9pZiB0aGlzIGlzIHN1cnZleWVkLCBkYXRlIGZvcm1hdCBhbmQgZ2V0IHN1cnZleSBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUpO1xyXG5cclxuICAgICAgICAgICAgLy9zYXZlIGFIV01cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkSFdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZG1pbkNoYW5nZWQuZXZlbnRfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FkbWluIGNoYW5nZWQgdGhlIGV2ZW50IGZvciB0aGlzIGh3bS4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmV2ZW50X2lkID0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGV5IGFkZGVkIGEgc3VydmV5IGRhdGUsIGFwcGx5IHN1cnZleSBtZW1iZXIgYXMgbG9nZ2VkIGluIG1lbWJlclxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlICE9PSBudWxsICYmICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkuc3VydmV5X21lbWJlcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZml4IHN0aWxsd2F0ZXIgYmVmb3JlIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKCRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPT0gXCIxXCIpICRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPSBcIlllc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWxzZSBpZiAoJHNjb3BlLmh3bUNvcHkuc3RpbGx3YXRlciA9PSBcIjBcIikgJHNjb3BlLmh3bUNvcHkuc3RpbGx3YXRlciA9IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAvL2Vsc2UgJHNjb3BlLmh3bUNvcHkuc3RpbGx3YXRlciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmh3bUNvcHkuZWxldl9mdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGV5IGFkZGVkIHRoZSBzdXJ2ZXkgZGF0ZSBpZiB0aGV5IGFkZGVkIGFuIGVsZXZhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkuc3VydmV5X2RhdGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL3ZhciBjbGVhbkhXTSA9IGZvcm1hdEhXTSgkc2NvcGUuaHdtQ29weSk7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiAkc2NvcGUuaHdtQ29weS5od21faWQgfSwgJHNjb3BlLmh3bUNvcHkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0gcmVzcG9uc2U7IHRoaXNIV00gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgYWxsIHRoZSBuYW1lcyBmb3IgZGV0YWlscyB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5hSFdNLmh3bV90eXBlID0gJHNjb3BlLmh3bVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHQpIHsgcmV0dXJuIGh0Lmh3bV90eXBlX2lkID09ICRzY29wZS5hSFdNLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlRyYW5xdWlsID0gJHNjb3BlLmFIV00uc3RpbGx3YXRlciA+IDAgPyAnWWVzJyA6ICdObyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5mbGFnX2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uZmxhZ19kYXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBzdXJ2ZXllZCwgZGF0ZSBmb3JtYXQgYW5kIGdldCBzdXJ2ZXkgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IG51bGwgJiYgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFskc2NvcGUuYUhXTSwgJHNjb3BlLkhXTUZpbGVzXTtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZWRpdCBidXR0b24gY2xpY2tlZC4gbWFrZSBjb3B5IG9mIGh3bSBcclxuICAgICAgICAgICAgJHNjb3BlLndhbm5hRWRpdEhXTSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5hSFdNKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZG1pbkNoYW5nZWQuZXZlbnRfaWQgPSAkc2NvcGUuYUhXTS5ldmVudF9pZDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEhXTUVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmFIV00uZXZlbnRfaWQ7IH0pWzBdLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5lbnN1cmVod21MYWJlbFVuaXF1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLnZpZXcuSFdNdmFsID09ICdlZGl0JyA/ICRzY29wZS5od21Db3B5IDogJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2l0ZUhNV3MsIGZ1bmN0aW9uIChod20pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaHdtLmh3bV9sYWJlbCA9PSBoLmh3bV9sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdCB1bmlxdWUsIGNsZWFyIGl0IGFuZCBzaG93IHdhcm5pbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaC5od21fbGFiZWwgPSBoLmh3bV9pZCAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFIV00uaHdtX2xhYmVsIDogJ2h3bS0nICsgKHBhcnNlRmxvYXQoc2l0ZUhNV3MubGVuZ3RoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5pcXVlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGh3bSBsYWJlbCBtdXN0IGJlIHVuaXF1ZSBmcm9tIGFsbCBvdGhlciBod21zIGF0IHRoaXMgc2l0ZSBmb3IgdGhpcyBldmVudC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fbGFiZWwnXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTsgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9ICRzY29wZS5maWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7ICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9IC0xOyAgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgLy9IV00gd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSBcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IGh3bSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLkhXTUZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLmh3bUltYWdlRmlsZXMubGVuZ3RoID4gMCA/ICRzY29wZS5od21JbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gcmVzcG9uc2UuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCAhPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUhXTS5od21faWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkOyAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkOyAkc2NvcGUuYUZpbGUuaHdtX2lkID0gJHNjb3BlLmFIV00uaHdtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkxpbmsgc2F2ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKSAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgcGhvdG8gb3Igb3RoZXIgZmlsZSB0eXBlIChubyBkYXRhIGZpbGUgaGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTb3VyY2Uuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHNSZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgRGVsZXRlTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgfTsvL2VuZCBkZWxldGUoKVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307XHJcbiAgICAgICAgICAgICAgICAvLyAgJHNjb3BlLmRhdGFmaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgfV0pO1xyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignYnVsa0hXTUFkakN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdTSVRFJywgJ0hXTScsICdIV01fU2VydmljZScsICdldmVudExpc3QnLCAnc3RhdGVMaXN0JywgJ2NvdW50eUxpc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRodHRwLCAkZmlsdGVyLCAkdWliTW9kYWwsIFNJVEUsIEhXTSwgSFdNX1NlcnZpY2UsIGV2ZW50TGlzdCwgc3RhdGVMaXN0LCBjb3VudHlMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2ggPSB7fTsgLy9ob2xkcyB3aGF0IHRoZXkgc2VhcmNoZWQgZm9yIHRvIGdldCB0aGUgYWRqdXN0ZWRIV01zIGFnYWluIGFuZCBoYXZlIGl0IHNob3duIHRvIHRoZW1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9IGZhbHNlOyAvL2RpdiBob2xkaW5nIGxvYWRlciBhbmQgZHluYW1pYyBhbmQgbWF4IGZvciBwcm9ncmVzcyBiYXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljID0gMDsgJHNjb3BlLm1heCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2U7ICAvL2lkICB3dHIgbGFiZWwgc05PIGRlc2MgbGF0ICBsb25nIGRhdGUgZWxldiB1bmMgIG5vdCBcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5XaWR0aHMgPSBbODQsIDEyMCwgMTIwLCAxMjAsIDIyMCwgMTIwLCAxMjAsIDE1MCwgMTMwLCAxNjAsIDE4MF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hhbmdlcyA9IFtdOyAvL3RyYWNrIGNoYW5nZXMgbWFkZSB0byBjb21wYXJlIGZvciBzYXZpbmdcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdOyAvL3N0b3JlIHdoZW4gaW52YWxpZCB0aHJvd25cclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSBldmVudExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkhXTV9wYXJhbXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlMaXN0ID0gY291bnR5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9IFtdOyAvL2hvbGRlciBvZiBzdGF0ZSBjb3VudGllcyAod2lsbCBjaGFuZ2UgYXMgdGhleSBjaGFuZ2Ugc3RhdGUgY2hvaWNlKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdCA9IHsgJ3NlYXJjaENsaWNrZWQnOiBmYWxzZSB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCIwMVwiLCBcIjAyXCIsIFwiMDNcIiwgXCIwNFwiLCBcIjA1XCIsIFwiMDZcIiwgXCIwN1wiLCBcIjA4XCIsIFwiMDlcIiwgXCIxMFwiLCBcIjExXCIsIFwiMTJcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBtb250aE5hbWVzW21vbnRoXSArIFwiL1wiICsgZGF5ICsgXCIvXCIgKyB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gW107IC8vaG9sZHMgdGhlIGV2ZW50IGh3bSBvYmplY3RzIGZvciB1cGRhdGluZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkhXTV9wYXJhbXMuc3RhdGVfYWJicmV2ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LnN0YXRlX2FiYnJldiA9PSAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXY7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL2V2ZW50LHN0YXRlLGNvdW50aWVzIGNob3NlbiwgZ2V0IGh3bXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdC5zZWFyY2hDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuSFdNX3BhcmFtcy5jb3VudGllcywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eU5hbWVzLnB1c2goYy5jb3VudHlfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRpZXNDb21tYVNlcCA9IGNvdW50eU5hbWVzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RvcmUgc2VhcmNoIGZvciBsZWF2ZS9jb21lIGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXJ5U2VhcmNoID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5xdWVyeVNlYXJjaC5FdmVudCA9ICRzY29wZS5IV01fcGFyYW1zLmV2ZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2guU3RhdGUgPSAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5xdWVyeVNlYXJjaC5Db3VudGllcyA9IGNvdW50aWVzQ29tbWFTZXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEJ1bGtIV01TZWFyY2goJHNjb3BlLnF1ZXJ5U2VhcmNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNLmdldEZpbHRlcmVkSFdNcyh7IEV2ZW50OiAkc2NvcGUuSFdNX3BhcmFtcy5ldmVudF9pZCwgU3RhdGVzOiAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXYsIENvdW50eTogY291bnRpZXNDb21tYVNlcCB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3VudCA9IHJlc3BvbnNlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXN1bHQuaXNSZXNwb25zZSA9ICRzY29wZS5od21Db3VudCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5od21faWQgPSByZXNwb25zZVtpXS5od21faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lLndhdGVyYm9keSA9IHJlc3BvbnNlW2ldLndhdGVyYm9keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuaHdtX2xhYmVsID0gcmVzcG9uc2VbaV0uaHdtX2xhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5zaXRlX2lkID0gcmVzcG9uc2VbaV0uc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuc2l0ZV9ubyA9IHJlc3BvbnNlW2ldLnNpdGVfbm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiA9IHJlc3BvbnNlW2ldLmh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5sYXRpdHVkZV9kZCA9IHJlc3BvbnNlW2ldLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5sb25naXR1ZGVfZGQgPSByZXNwb25zZVtpXS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlW2ldLnN1cnZleV9kYXRlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZShyZXNwb25zZVtpXS5zdXJ2ZXlfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5lbGV2X2Z0ID0gcmVzcG9uc2VbaV0uZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUudW5jZXJ0YWludHkgPSByZXNwb25zZVtpXS51bmNlcnRhaW50eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuaHdtX25vdGVzID0gcmVzcG9uc2VbaV0uaHdtX25vdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGp1c3RIV01zLnB1c2gob25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod21zOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sIEhXTV9TZXJ2aWNlLmdldEJ1bGtIV01TZWFyY2goKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU2VhcmNoID0gSFdNX1NlcnZpY2UuZ2V0QnVsa0hXTVNlYXJjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLmV2ZW50X2lkID0gdGhlU2VhcmNoLkV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLnN0YXRlX2FiYnJldiA9IHRoZVNlYXJjaC5TdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlU2VhcmNoLkNvdW50aWVzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGllcyA9IHRoZVNlYXJjaC5Db3VudGllcy5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLmNvdW50aWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY291bnR5QXJyYXksIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2UgdGhvc2Ugc2VsZWN0ZWQgaWYgaW4gY291bnRpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGllcy5tYXAoZnVuY3Rpb24gKGNBKSB7IHJldHVybiBjQTsgfSkuaW5kZXhPZihjLmNvdW50eV9uYW1lKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTV9wYXJhbXMuY291bnRpZXMucHVzaChjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHJlbmRlcmVycy92YWxpZGF0b3JzXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIGZpZWxkIGlzIHJlcXVpcmVkLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSByZWFkb25seSBncmV5XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JSZW5kZXJlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgdGQsIHJvdywgY29sLCBwcm9wLCB2YWx1ZSwgY2VsbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBIYW5kc29udGFibGUucmVuZGVyZXJzLlRleHRSZW5kZXJlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLmJhY2tncm91bmQgPSAnI0Y3RjVGNSc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRkO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzaXRlX25vIGEgbGlua1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpdGVOb1JlbmRlcmVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCB0ZCwgcm93LCBjb2wsIHByb3AsIHZhbHVlLCBjZWxsUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIEhhbmRzb250YWJsZS5yZW5kZXJlcnMuVGV4dFJlbmRlcmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gJzxhIG5nLWNsaWNrPVwiZ29Ub1NpdGUoKVwiPicgKyB2YWx1ZSArICc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICB0ZC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGN0Y1RjUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWlyZWRWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm51bWJlclZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2hhbmRsaW5nIHRoaXMgbXlzZWxmLCBuZXZlciB3aWxsIGJlIGludmFsaWRcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICAgICAvL3NhdmUgdXBkYXRlc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLmdldEV2ZW50U3RhdGVIV01zKHsgZXZlbnRJZDogJHNjb3BlLkhXTV9wYXJhbXMuZXZlbnRfaWQsIHN0YXRlOiAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXYgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vayB0aHJvdWdoICRzY29wZS5ldmVudFN0YXRlSFdNcyBhbmQgZ3JhYiB0aGUgb25lcyB0aGF0IHdlcmUgb24gdGhpcyBhZGp1c3RtZW50IHBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVRoZXNlSFdNcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBldkggPSAwOyBldkggPCAkc2NvcGUuZXZlbnRTdGF0ZUhXTXMubGVuZ3RoOyBldkgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZXlIYXZlSXRIZXJlID0gJHNjb3BlLmFkanVzdEhXTXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmh3bV9pZCA9PSAkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXS5od21faWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZXlIYXZlSXRIZXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBzdXJ2ZXlfZGF0ZSxlbGV2X2Z0LCB1bmNlcnRhaW50eSwgYW5kIGh3bV9ub3RlcyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXS5zdXJ2eWVfZGF0ZSA9IHRoZXlIYXZlSXRIZXJlLnN1cnZleV9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdLmVsZXZfZnQgPSB0aGV5SGF2ZUl0SGVyZS5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdLnVuY2VydGFpbnR5ID0gdGhleUhhdmVJdEhlcmUudW5jZXJ0YWludHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVIV01zW2V2SF0uaHdtX25vdGVzID0gdGhleUhhdmVJdEhlcmUuaHdtX25vdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRoZXNlSFdNcy5wdXNoKCRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHVwZGF0ZVRoZXNlSFdNcywgZnVuY3Rpb24gKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogdS5od21faWQgfSwgdSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV01zIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldEhXTXModHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod21zOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod21zOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBiYWNrIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNldE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPldhcm5pbmchIFRoaXMgd2lsbCByZXZlcnQgdGhlIGh3bSBkYXRhIHRvIHRoZSBsYXN0IHNhdmVkIHZlcnNpb24uIEFsbCB1bnNhdmVkIGVkaXRzIHdpbGwgYmUgbG9zdC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRqdXN0SFdNcyA9IFtdOyBIV01fU2VydmljZS5zZXRCdWxrSFdNU2VhcmNoKHt9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFibGVTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgY29sSGVhZGVyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3dIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29udGV4dE1lbnU6IFsncm93X2Fib3ZlJywgJ3Jvd19iZWxvdycsICdyZW1vdmVfcm93J10sXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3BhcmVSb3dzOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsQ29sdW1uUmVzaXplOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbFJvd1Jlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB3b3JkV3JhcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudE92ZXJmbG93OiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXROdW1iZXI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sV2lkdGhzOiAkc2NvcGUuY29sdW1uV2lkdGhzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxzOiBmdW5jdGlvbiAocm93LCBjb2wsIHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maXJzdCA2IGFyZSByZWFkb25seSAoZ3JleSkgYW5kIHNpdGVfbm8gaXMgYSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxscHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCA8PSA2KSBjZWxscHJvcHMucmVuZGVyZXIgPSBjb2xvclJlbmRlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sID09IDMpIGNlbGxwcm9wcy5yZW5kZXJlciA9IHNpdGVOb1JlbmRlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VsbHByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVDaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGRhdGFbaV1bMV0gPT0gJ2VsZXZfZnQnIHx8IGRhdGFbaV1bMV0gPT0gJ3VuY2VydGFpbnR5JykgJiYgZGF0YVtpXVszXSAhPT0gXCJcIikgLy8gcmVwbGFjZSAwIGJ5IHRoZSBudW1iZXIgb2YgdGhlIGZpZWxkIHRvIHZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGFbaV1bM10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgJHNjb3BlLmhvdEluc3RhbmNlLmRlc2VsZWN0Q2VsbCgpOyB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2F0ZXJNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VmFsdWUgbXVzdCBiZSBhIG51bWJlci48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyT25DZWxsTW91c2VEb3duOiBmdW5jdGlvbiAoZXZlbnQsIGNvb3JkcywgdGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vcGVuIG11bHRpLXNlbGVjdCBtb2RhbCBmb3IgcmVzb3VyY2VzLCBtZWRpYSBvciBmcmVxdWVuY2llc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRzLmNvbCA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZV9udW1iZXIgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCBjb29yZHMuY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlSWQgPSAkc2NvcGUuYWRqdXN0SFdNcy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguc2l0ZV9ubyA9PSBzaXRlX251bWJlcjsgfSlbMF0uc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcInNpdGUuZGFzaGJvYXJkXCIsIHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlclZhbGlkYXRlOiBmdW5jdGlvbiAoaXNWYWxpZCwgdmFsdWUsIHJvdywgcHJvcCwgc291Y2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzLnB1c2goeyBcImlzVmFsaWRcIjogaXNWYWxpZCwgXCJyb3dcIjogcm93LCBcInByb3BcIjogcHJvcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2SW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZJID0gMDsgdkkgPCAkc2NvcGUuaW52YWxpZHMubGVuZ3RoOyB2SSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5pbnZhbGlkc1t2SV0ucm93ID09IHJvdyAmJiAkc2NvcGUuaW52YWxpZHNbdkldLnByb3AgPT0gcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2SW5kZXggPSB2STtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZJbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5zcGxpY2UodkluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbEhhbmRsZTogeyBhdXRvSW5zZXJ0Um93OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlaWdodHM6IDUwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICB9Ly9lbmQgYXV0aG9yaXplZFxyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpOyBcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckZG9jdW1lbnQnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyRsb2NhdGlvbicsICckc3RhdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRkb2N1bWVudCwgJGNvb2tpZXMsICR1aWJNb2RhbCwgJGxvY2F0aW9uLCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGggPSB7fTsgICAgICAgIFxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSAnaG9tZSc7IC8vc2NvcGUgdmFyIGZvciBzZXR0aW5nIGFjdGl2ZSBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiIHx8ICRjb29raWVzLmdldCgnU1ROVXNlcm5hbWUnKSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmlzQXV0aC52YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkZG9jdW1lbnRbMF0uZG9jdW1lbnRNb2RlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnJvd3Nlckluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoaXMgYXBwbGljYXRpb24gdXNlcyBmdW5jdGlvbmFsaXR5IHRoYXQgaXMgbm90IGNvbXBsZXRlbHkgc3VwcG9ydGVkIGJ5IEludGVybmV0IEV4cGxvcmVyLiBUaGUgcHJlZmVycmVkIGJyb3dzZXIgaXMgQ2hyb21lIChiaXNvbiBjb25uZWN0KS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmlzQXV0aC52YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2Vyc05hbWUgPSAkY29va2llcy5nZXQoJ3VzZXJzTmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VySUQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgRXZlbnROYW1lID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoRXZlbnROYW1lICE9PSBudWxsICYmIEV2ZW50TmFtZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2Vzc2lvbkV2ZW50ID0gXCJTZXNzaW9uIEV2ZW50OiBcIiArIEV2ZW50TmFtZSArIFwiLlwiOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdtYXAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBMb2dJbk91dENvbnRyb2xsZXIgPSBhbmd1bGFyLm1vZHVsZSgnTG9nSW5PdXRDb250cm9sbGVyJywgW10pO1xyXG5cclxuICAgIExvZ0luT3V0Q29udHJvbGxlci5jb250cm9sbGVyKCdsb2dpbkN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGxvY2F0aW9uJywgJyR1aWJNb2RhbCcsICckc2NlJywgJyRodHRwJywgJyRjb29raWVzJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJ1NFUlZFUl9VUkwnLCAnRU5WSVJPTk1FTlQnLCAnTG9naW4nLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJGxvY2F0aW9uLCAkdWliTW9kYWwsICRzY2UsICRodHRwLCAkY29va2llcywgJHJvb3RTY29wZSwgJGRvY3VtZW50LCBTRVJWRVJfVVJMLCBFTlZJUk9OTUVOVCwgTG9naW4pIHtcclxuICAgICAgICAgICAgLy9sb2dpbiAvL1xyXG4gICAgICAgICAgICAkc2NvcGUubmV3c1RpdGxlID0gXCJcIjtcclxuICAgICAgICAgICAgJHNjb3BlLm5ld3NGZWVkID0gW107XHJcblxyXG4gICAgICAgICAgICBMb2dpbi5nZXROZXdzRmVlZCh7fSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3c1RpdGxlID0gcmVzcG9uc2UudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFncmFwaFRhZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhZ3JhcGhUYWdzID0gcmVzcG9uc2UuYm9keS5zdG9yYWdlLnZhbHVlLnNwbGl0KFwiPHA+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaFRhZ3MuZm9yRWFjaChmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3c0ZlZWQucHVzaCgkc2NlLnRydXN0QXNIdG1sKHApKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3c1RpdGxlID0gXCJTVE4gTm90aWNlc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdzRmVlZC5wdXNoKFwiQ3VycmVudGx5IG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAvLyNyZWdpb24gQ0FQIGxvY2sgQ2hlY2tcclxuICAgICAgICAgICAgJCgnW3R5cGU9cGFzc3dvcmRdJykua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkcGFzc3dvcmQgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBWaXNpYmxlID0gJCgnLnRvb2x0aXAnKS5pcygnOnZpc2libGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBzID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocy50b1VwcGVyQ2FzZSgpID09PSBzICYmIHMudG9Mb3dlckNhc2UoKSAhPT0gcyAmJiAhZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdG9vbHRpcFZpc2libGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXNzd29yZC50b29sdGlwKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwVmlzaWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhc3N3b3JkLnRvb2x0aXAoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2hpZGUgdGhlIHRvb2x0aXAgd2hlbiBtb3ZpbmcgYXdheSBmcm9tIHBhc3N3b3JkIGZpZWxkXHJcbiAgICAgICAgICAgICAgICAkcGFzc3dvcmQuYmx1cihmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXNzd29yZC50b29sdGlwKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBDQVAgbG9jayBDaGVja1xyXG5cclxuICAgICAgICAgICAgaWYgKCRkb2N1bWVudFswXS5kb2N1bWVudE1vZGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJyb3dzZXJJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoaXMgYXBwbGljYXRpb24gdXNlcyBmdW5jdGlvbmFsaXR5IHRoYXQgaXMgbm90IGNvbXBsZXRlbHkgc3VwcG9ydGVkIGJ5IEludGVybmV0IEV4cGxvcmVyLiBUaGUgcHJlZmVycmVkIGJyb3dzZXIgaXMgQ2hyb21lIChiaXNvbiBjb25uZWN0KS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBEYXRlLnByb3RvdHlwZS5hZGRIb3VycyA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEhvdXJzKHRoaXMuZ2V0SG91cnMoKSArIGgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmVudmlyb25tZW50ID0gRU5WSVJPTk1FTlQ7XHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5zdWIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zdERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiOiAkc2NvcGUudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzd29yZFwiOiAkc2NvcGUucGFzc3dvcmRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgdXAgPSAkc2NvcGUudXNlcm5hbWUgKyBcIjpcIiArICRzY29wZS5wYXNzd29yZDtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXApO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgIExvZ2luLmxvZ2luKHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXQgdXNlciBjb29raWVzIChjcmVkLCB1c2VybmFtZSwgbmFtZSwgcm9sZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzTkFNRSA9IHVzZXIuZm5hbWUgKyBcIiBcIiArIHVzZXIubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jID0gYnRvYSgkc2NvcGUudXNlcm5hbWUuY29uY2F0KFwiOlwiLCAkc2NvcGUucGFzc3dvcmQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2V0IGV4cGlyYXRpb24gb24gY29va2llc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZURhdGUgPSBuZXcgRGF0ZSgpLmFkZEhvdXJzKDgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5DcmVkcycsIGVuYywgeyBleHBpcmVzOiBleHBpcmVEYXRlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5Vc2VybmFtZScsICRzY29wZS51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ3VzZXJzTmFtZScsIHVzZXJzTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ21JRCcsIHVzZXIubWVtYmVyX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb2xlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodXNlci5yb2xlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiQWRtaW5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJGaWVsZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJQdWJsaWNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkNpdGl6ZW5NYW5hZ2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCd1c2Vyc1JvbGUnLCByb2xlTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGgudmFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlcnNOYW1lID0gdXNlcnNOQU1FO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VySUQgPSB1c2VyLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRyb290U2NvcGUucmV0dXJuVG9TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCRyb290U2NvcGUucmV0dXJuVG9TdGF0ZSwgeyBpZDogJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlUGFyYW1zIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ21hcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gXCJMb2dpbiBGYWlsZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9kYWwgZm9yIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSB3YXMgYW4gZXJyb3IuPC9wPjxwPkVycm9yOiB7e3N0YXR1c319IC0ge3tzdGF0dXNUZXh0fX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IGVycm9yUmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXNUZXh0ID0gZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgIC8vbG9nT3V0XHJcbiAgICBMb2dJbk91dENvbnRyb2xsZXIuY29udHJvbGxlcignbG9nb3V0Q3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NsZWFyICRjb29raWVzXHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1NUTlVzZXJuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ3VzZXJzTmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJGNvb2tpZXMucmVtb3ZlKCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1Nlc3Npb25FdmVudElEJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgIC8vY2xlYXIgJHJvb3RTY29wZVxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUucmV0dXJuVG9TdGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUucmV0dXJuVG9TdGF0ZVBhcmFtcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlc3Npb25FdmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuaXNBdXRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hUZXJtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFwcHJvdmFsU2VhcmNoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VySUQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJSb2xlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2Vyc05hbWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmVudmlyb25tZW50ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdoZWxwQ3RybCcsIFsnJHNjb3BlJywgXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaGVscEluZm8gPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLmhlbHBJbmZvLmZhY3QgPSBcIlNvbWUgcmVhbGx5IGludGVyZXN0aW5nIGhlbHAgd2lsbCBiZSBoZXJlLlwiO1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7Ly9cclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZUZpbGVNb2RhbEN0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckaHR0cCcsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAnU0VSVkVSX1VSTCcsICdGSUxFX1NUQU1QJywgJ2ZpbGVUeXBlTGlzdCcsICd0aGlzRmlsZScsICdmaWxlRXhpc3RzJywgJ2FsbE1lbWJlcnMnLCAnZmlsZVNvdXJjZScsICdkYXRhRmlsZScsICdhZ2VuY3lMaXN0JywgJ2ZpbGVTaXRlJywgJ0ZJTEUnLCAnU09VUkNFJywgJ0RBVEFfRklMRScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsICRodHRwLCAkdWliTW9kYWxJbnN0YW5jZSwgJHVpYk1vZGFsLCBTRVJWRVJfVVJMLCBGSUxFX1NUQU1QLCBmaWxlVHlwZUxpc3QsIHRoaXNGaWxlLCBmaWxlRXhpc3RzLCBhbGxNZW1iZXJzLCBmaWxlU291cmNlLCBkYXRhRmlsZSwgYWdlbmN5TGlzdCwgZmlsZVNpdGUsIEZJTEUsIFNPVVJDRSwgREFUQV9GSUxFKSB7XHJcbiAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgRklMRXZhbDogJ2RldGFpbCcgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gZmlsZVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUudGhlU2l0ZSA9IGZpbGVTaXRlO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgZGF0YWZpbGVcclxuICAgICAgICAgICAgLy8gaXMgaW50ZXJ2YWwgaXMgbnVtYmVyXHJcbiAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gZmlsZUV4aXN0cyA9PT0gdW5kZWZpbmVkIHx8IGZpbGVFeGlzdHMuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nRGF5OiAxLFxyXG4gICAgICAgICAgICAgICAgc2hvd1dlZWtzOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVBZ2VuY3lGb3JDYXB0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jcmVhdGVPUmVkaXRGaWxlID09ICdjcmVhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZmlsZUNvcHkuZmlsZXR5cGVfaWQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuc291cmNlQ29weS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2Zvcm1hdHRpbmcgZGF0ZSBhbmQgdGltZSBwcm9wZXJseSBmb3IgY2hyb21lIGFuZCBmZlxyXG4gICAgICAgICAgICB2YXIgZ2V0RGF0ZVRpbWVQYXJ0cyA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGQuc3Vic3RyKDAsIDQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBkLnN1YnN0cig1LCAyKSAtIDE7IC8vc3VidHJhY3QgMSBmb3IgaW5kZXggdmFsdWUgKEphbnVhcnkgaXMgMClcclxuICAgICAgICAgICAgICAgIHZhciBkYSA9IGQuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSBkLnN1YnN0cigxMSwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWkgPSBkLnN1YnN0cigxNCwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VjID0gZC5zdWJzdHIoMTcsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZURhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkYSwgaCwgbWksIHNlYyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhlRGF0ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHRoaXNGaWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlT1JlZGl0RmlsZSA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS53aG9zZUZpbGUgPSB0aGlzRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS53aG9zZUZpbGUgPT0gJ09iamVjdGl2ZSBQb2ludCBGaWxlJykgJHNjb3BlLndob3NlRmlsZSA9ICdEYXR1bSBMb2NhdGlvbiBGaWxlJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHRoaXNGaWxlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVUeXBlID0gZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5uYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUV4dC5tYXRjaCgvKGpwZ3xKUEd8anBlZ3xKUEVHfHBuZ3xQTkd8Z2lmfEdJRikkLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5waG90b19kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVTb3VyY2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gZmlsZVNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLmFnZW5jeU5hbWUgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGFnZW5jeSBuYW1lIHRvIHBob3RvIGNhcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hU291cmNlLmFnZW5jeU5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkYXRhRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZVpvbmVMaXN0ID0gWydVVEMnLCAnUFNUJywgJ01TVCcsICdDU1QnLCAnRVNUJ107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIHB1dFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLmFwcHJvdmFsX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmRhdGFmaWxlLmFwcHJvdmFsX2lkICE9PSBudWxsICYmICRzY29wZS5kYXRhZmlsZS5hcHByb3ZhbF9pZCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5nZXRERkFwcHJvdmFsKHsgaWQ6ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfZGF0ZSk7IC8vaW5jbHVkZSBub3RlIHRoYXQgaXQncyBkaXNwbGF5ZWQgaW4gdGhlaXIgbG9jYWwgdGltZSBidXQgc3RvcmVkIGluIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gYXBwcm92YWxSZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYXBwcm92YWwgaW5mbzogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFwcHJvdmFsIGluZm86IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhUHJvY2Vzc29yID0gJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZCAhPT0gbnVsbCA/IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSAkc2NvcGUuZGF0YWZpbGUucHJvY2Vzc29yX2lkOyB9KVswXSA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhUHJvY2Vzc29yLmZuYW1lICE9PSB1bmRlZmluZWQgPyBhUHJvY2Vzc29yLmZuYW1lICsgJyAnICsgYVByb2Nlc3Nvci5sbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLndob3NlRmlsZSA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlT1JlZGl0RmlsZSA9ICdjcmVhdGUnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9ICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7Ly9vbmx5IGJlIHBob3RvIGZpbGUgb3Igb3RoZXIgLi4gbm8gREFUQSBoZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBmaXJzdCB0byBnZXQgc291cmNlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgU09VUkNFLCBcclxuICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhlU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IHJlc3BvbnNlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9ICdjcmVhdGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NlbmQgdGhlIGZpbGUgYmFjayB0byBiZSBhZGRlZCB0byB0aGUgc2NvcGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtmcmVzcG9uc2UsIHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGEgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNpdGVfaWQgPSAkc2NvcGUudGhlU2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJ2NyZWF0ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VuZCB0aGUgZmlsZSBiYWNrIHRvIGJlIGFkZGVkIHRvIHRoZSBzY29wZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2ZyZXNwb25zZSwgc3RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBzYXZlIGxpbmsgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgY3JlYXRlKClcclxuICAgICAgICAgICAgJHNjb3BlLmNoYW5nZWRGaWxlVHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vZnJvbSBwaG90byB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAvL2Zyb20gZGF0YSB0byBwaG90b1xyXG4gICAgICAgICAgICAgICAgLy9mcm9tIGRhdGEgdG8gb3RoZXJcclxuICAgICAgICAgICAgICAgIC8vZnJvbSBwaG90byB0byBvdGhlclxyXG4gICAgICAgICAgICAgICAgLy9mcm9tIG90aGVyIHRvIG90aGVyXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vdXBkYXRlIHRoaXMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5maWxlQ29weS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLmRmQ29weS5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGZDb3B5Lmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIERhdGU8RGF0ZVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGZpbGUuQ29weS5maWxldHlwZV9pZCA9PSAyXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3VyY2VDb3B5LnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuc291cmNlQ29weS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuc291cmNlQ29weS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gc1Jlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5zb3VyY2VfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLmFnZW5jeU5hbWUgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDb3B5LnNvdXJjZV9pZCA9IHNSZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXRpbmcganVzdCB0aGUgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmZpbGVDb3B5LmZpbGVfaWQgfSwgJHNjb3BlLmZpbGVDb3B5KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IHdoYXRraW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSBmaWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNvcHkgPSB7fTsgJHNjb3BlLnNvdXJjZUNvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5GSUxFdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZGF0YSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRmQ29weS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kZkNvcHkuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kZkNvcHkuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5Lmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weS5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGZDb3B5Lmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuZGZDb3B5Lmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weS5nb29kX3N0YXJ0ID0gJHNjb3BlLmRmQ29weS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkuZ29vZF9lbmQgPSAkc2NvcGUuZGZDb3B5Lmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5kZkNvcHkuZGF0YV9maWxlX2lkIH0sICRzY29wZS5kZkNvcHkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRmUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBwdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBwdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFQcm9jZXNzb3IgPSAkc2NvcGUuZGF0YWZpbGUucHJvY2Vzc29yX2lkICE9PSBudWxsID8gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQ7IH0pWzBdIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc29yID0gYVByb2Nlc3Nvci5mbmFtZSAhPT0gdW5kZWZpbmVkID8gYVByb2Nlc3Nvci5mbmFtZSArICcgJyArIGFQcm9jZXNzb3IubG5hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5maWxlQ29weS5maWxlX2lkIH0sICRzY29wZS5maWxlQ29weSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSB3aGF0a2luZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVUeXBlID0gZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDb3B5ID0ge307ICRzY29wZS5kZkNvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5GSUxFdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBlbHNlIChkYXRhZmlsZSlcclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6ICRzY29wZS5hRmlsZS5od21faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6ICRzY29wZS5hRmlsZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6ICRzY29wZS5hRmlsZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5hRmlsZS5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfbndpczogJHNjb3BlLmFGaWxlLmlzX253aXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdGl2ZV9wb2ludF9pZDogJHNjb3BlLmFGaWxlLm9iamVjdGl2ZV9wb2ludF9pZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUubmFtZSA9IGZyZXNwb25zZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGlzIGEgcGhvdG8gZmlsZSwgZmxhZyBzbyB0aHVtYm5haWwgc2hvd3MgYW5kIG1ha2Ugc3VyZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICRzY29wZS5pc1Bob3RvID0gZmFsc2U7IH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZSA9ICRzY29wZS5hRmlsZS5GaWxlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUxID0gdW5kZWZpbmVkOyAvL3B1dCBpdCBhcyBmaWxlIGFuZCByZW1vdmUgaXQgZnJvbSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBzaXRlSW1hZ2VGaWxlcyBmb3IgY2Fyb3VzZWwgaWYgcGhvdG8gd2FzIGNoYW5nZWQgdG8gYSBkaWZmZXJlbnQgdHlwZSBvciB2aXNlIHZlcnNhXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbXCJkZVwiLCAnZGVsZXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgRGVsZXRlTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgfTsvL2VuZCBkZWxldGUoKVxyXG5cclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgaHdtIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0RklMRSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkZJTEV2YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFGaWxlKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmRhdGFmaWxlKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3VyY2VDb3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5hU291cmNlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEZJTEVFZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuRklMRXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDb3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc291cmNlQ29weSA9IHt9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2FwcHJvdmUgdGhpcyBkYXRhZmlsZSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVERiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyB2YWxpZCwgc2hvdyBtb2RhbCB0byBjb25maXJtIHRoZXkgd2FudCB0byBhcHByb3ZlIGl0XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0RGID0gJHNjb3BlLmRhdGFmaWxlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPkFwcHJvdmUgRGF0YSBGaWxlPC9oMz48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1ib2R5Jz48cD5BcmUgeW91IHJlYWR5IHRvIGFwcHJvdmUgdGhpcyBEYXRhIEZpbGU/PC9wPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWZvb3Rlcic+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1wcmltYXJ5JyBuZy1jbGljaz0nYXBwcm92ZUl0KCknPkFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSB0aGUgc2l0ZSBhbmQgYWxsIHRoaW5ncyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHRoaXNERik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ZlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5hcHByb3ZlREYoeyBpZDogZGYuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGFwcHJvdmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGYuYXBwcm92YWxfaWQgPSBhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXRhIEZpbGUgQXBwcm92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUoYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09IGFwcHJvdmFsUmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9hcHByb3ZlIHRoaXMgaHdtIChpZiBhZG1pbiBvciBtYW5hZ2VyKVxyXG4gICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlREYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNERiA9ICRzY29wZS5kYXRhZmlsZTtcclxuICAgICAgICAgICAgICAgIHZhciB1bmFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPlJlbW92ZSBBcHByb3ZhbDwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW4gdG8gdW5hcHByb3ZlIHRoaXMgRGF0YSBGaWxlPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J3VuQXBwcm92ZUl0KCknPlVuYXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdW5hcHByb3ZlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51bkFwcHJvdmVERih7IGlkOiBkZi5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmFwcHJvdmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0YSBGaWxlIFVuYXBwcm92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVuYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVuYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9naWMgZm9yIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7Ly9lbmQgZmlsZU1vZGFsQ3RybFxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignZmlsZUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnU0VSVkVSX1VSTCcsICdGSUxFX1NUQU1QJywgJ1NpdGVfRmlsZXMnLCAnSFdNX1NlcnZpY2UnLCAnSW5zdHJ1bWVudF9TZXJ2aWNlJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJ3RoaXNTaXRlJywgJ3RoaXNTaXRlRmlsZXMnLCAnYWxsRmlsZVR5cGVzJywgJ2FsbEFnZW5jaWVzJywgJ3RoaXNTaXRlU2Vuc29ycycsICd0aGlzU2l0ZU9QcycsICd0aGlzU2l0ZUhXTXMnLCAnRklMRScsICdEQVRBX0ZJTEUnLCAnTUVNQkVSJywgJ1NPVVJDRScsICdTSVRFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCBTRVJWRVJfVVJMLEZJTEVfU1RBTVAsIFNpdGVfRmlsZXMsIEhXTV9TZXJ2aWNlLCBJbnN0cnVtZW50X1NlcnZpY2UsICR1aWJNb2RhbCwgJGZpbHRlciwgJHRpbWVvdXQsIHRoaXNTaXRlLCB0aGlzU2l0ZUZpbGVzLCBhbGxGaWxlVHlwZXMsIGFsbEFnZW5jaWVzLCB0aGlzU2l0ZVNlbnNvcnMsIHRoaXNTaXRlT1BzLCB0aGlzU2l0ZUhXTXMsIEZJTEUsIERBVEFfRklMRSwgTUVNQkVSLCBTT1VSQ0UsIFNJVEUpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gXCJoaVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignZmlsZVN0YW1wU2V0JywgZnVuY3Rpb24gKGV2ZW50LCBzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IHN0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIV01zID0gdGhpc1NpdGVIV01zOyAvL0hXTV9TZXJ2aWNlLmdldEFsbFNpdGVIV01zKCk7IC8vaWYgY3JlYXRlIGEgbmV3IG9uZSwgdGhlbiBhZGQgYSBmaWxlIHRvIGl0Li4gZG9lc24ndCBzaG93IGluIGZpbGVMaXN0IGJlY2F1c2UgdGhpcyBkb2Vzbid0IGhhdmUgdGhhdCBuZXcgaHdtIHlldC4uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnM7XHJcbiAgICAgICAgICAgICAgICAvL2luY2x1ZGUgaWYgSFdNLCBJbnN0cnVtZW50LCBEYXRhIEZpbGUgb3IgT1AgRmlsZSBmb3IgZWFjaCAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgc2YgPSAwOyBzZiA8IHRoaXNTaXRlRmlsZXMubGVuZ3RoOyBzZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRLaW5kYUZpbGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVGaWxlc1tzZl0uaHdtX2lkID4gMCAmJiB0aGlzU2l0ZUZpbGVzW3NmXS5od21faWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdEtpbmRhRmlsZSA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlRmlsZXNbc2ZdLmRhdGFfZmlsZV9pZCA+IDAgJiYgdGhpc1NpdGVGaWxlc1tzZl0uZGF0YV9maWxlX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXRLaW5kYUZpbGUgPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlRmlsZXNbc2ZdLmluc3RydW1lbnRfaWQgPiAwICYmIHRoaXNTaXRlRmlsZXNbc2ZdLmluc3RydW1lbnRfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdEtpbmRhRmlsZSA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNJbnMgPSB0aGlzU2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmluc3RydW1lbnRfaWQgPT0gdGhpc1NpdGVGaWxlc1tzZl0uaW5zdHJ1bWVudF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlRmlsZXNbc2ZdLnR5cGVOYW1lID0gdGhpc0lucy5zZXJpYWxfbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVGaWxlc1tzZl0ub2JqZWN0aXZlX3BvaW50X2lkID4gMCAmJiB0aGlzU2l0ZUZpbGVzW3NmXS5vYmplY3RpdmVfcG9pbnRfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdEtpbmRhRmlsZSA9IFwiT2JqZWN0aXZlIFBvaW50IEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVGaWxlc1tzZl0udHlwZU5hbWUgPSB0aGlzU2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gdGhpc1NpdGVGaWxlc1tzZl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod2hhdEtpbmRhRmlsZSA9PT0gJycpIHdoYXRLaW5kYUZpbGUgPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlRmlsZXNbc2ZdLmZpbGVCZWxvbmdzVG8gPSB3aGF0S2luZGFGaWxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXModGhpc1NpdGVGaWxlcyk7Ly8sICRzY29wZS5zaXRlSFdNcywgJHNjb3BlLnNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcyA9IFtdOyAvL2hvbGRlciBvZiBjYXJvdXNlbCBpbWFnZXNcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgJHNjb3BlLlNpdGVGaWxlcy5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRJID0gJHNjb3BlLlNpdGVGaWxlc1tzXS5uYW1lLmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRTdHJpbmcgPSAkc2NvcGUuU2l0ZUZpbGVzW3NdLm5hbWUuc3Vic3RyaW5nKGV4dEkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoWydqcGcnLCdKUEcnLCdqcGVnJywnSlBFRycsJ3BuZycsJ1BORycsJ2dpZicsJ0dJRiddLmluZGV4T2YoZXh0U3RyaW5nKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMucHVzaCgkc2NvcGUuU2l0ZUZpbGVzW3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vaWYgZmlsZXMgYXJlIGFkZGVkL2VkaXRlZCwgZGVsZXRlZCBmcm9tIG90aGVyIHBhcnRzIChvYmplY3RpdmUgUG9pbnRzLCBzZW5zb3JzLCBod21zKSwgbWFrZSBzdXJlIGlmIGV2ZW50IGlzIGNob3NlbiB0byB1cGRhdGUgc2l0ZUZpbGVzIGFjY29yZGluZ2x5XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCdzaXRlRmlsZXNVcGRhdGVkJywgZnVuY3Rpb24gKGV2ZW50LCBzaXRlZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUhXTXMgPSBIV01fU2VydmljZS5nZXRBbGxTaXRlSFdNcygpOyAkc2NvcGUuc2l0ZVNlbnNvcnMgPSBJbnN0cnVtZW50X1NlcnZpY2UuZ2V0QWxsU2l0ZVNlbnNvcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBnbyBhYm91dCB1cGRhdGluZyB0aGUgRmlsZUxpc3RcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzID0gc2l0ZWZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5maWxlQmVsb25nc1RvID09ICdTaXRlIEZpbGUnIHx8IGguZmlsZUJlbG9uZ3NUbyA9PSAnT2JqZWN0aXZlIFBvaW50IEZpbGUnOyB9KTsgIC8va2VlcCBhbGwgc2l0ZSBhbmQgb3AgZmlsZXNcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlNpdGVGaWxlcywgZnVuY3Rpb24gKHNmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNmLmZpbGVCZWxvbmdzVG8gPT0gJ09iamVjdGl2ZSBQb2ludCBGaWxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNmLnR5cGVOYW1lID0gdGhpc1NpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IHNmLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBod21GaWxlcyA9IHNpdGVmaWxlcy5maWx0ZXIoZnVuY3Rpb24gKHNmaWxlcykgeyByZXR1cm4gc2ZpbGVzLmZpbGVCZWxvbmdzVG8gPT0gJ0hXTSBGaWxlJzsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnNGaWxlcyA9IHNpdGVmaWxlcy5maWx0ZXIoZnVuY3Rpb24gKHNmaSkgeyByZXR1cm4gc2ZpLmluc3RydW1lbnRfaWQgPiAwICYmIHNmaS5pbnN0cnVtZW50X2lkICE9PSBudWxsOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgc2hvdyBmaWxlcyBmb3IgdGhpcyBldmVudCAoZ28gdGhyb3VnaCBod20gZmlsZXMgYW5kIG1hdGNoIGV2ZW50aWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgRWhmID0gMDsgRWhmIDwgaHdtRmlsZXMubGVuZ3RoOyBFaGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgRWh3bSA9IDA7IEVod20gPCAkc2NvcGUuc2l0ZUhXTXMubGVuZ3RoOyBFaHdtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtRmlsZXNbRWhmXS5od21faWQgPT0gJHNjb3BlLnNpdGVIV01zW0Vod21dLmh3bV9pZCAmJiAkc2NvcGUuc2l0ZUhXTXNbRWh3bV0uZXZlbnRfaWQgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goaHdtRmlsZXNbRWhmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoZiA9IDA7IGhmIDwgaHdtRmlsZXMubGVuZ3RoOyBoZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBod20gPSAwOyBod20gPCAkc2NvcGUuc2l0ZUhXTXMubGVuZ3RoOyBod20rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21GaWxlc1toZl0uaHdtX2lkID09ICRzY29wZS5zaXRlSFdNc1tod21dLmh3bV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKGh3bUZpbGVzW2hmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHNob3cgZmlsZXMgZm9yIHRoaXMgZXZlbnQgKGdvIHRocm91Z2ggc2Vuc29yIGZpbGVzIGFuZCBtYXRjaCBldmVudGlkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIEVzZiA9IDA7IEVzZiA8IHNlbnNGaWxlcy5sZW5ndGg7IEVzZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBFaW5zdCA9IDA7IEVpbnN0IDwgJHNjb3BlLnNpdGVTZW5zb3JzLmxlbmd0aDsgRWluc3QrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZW5zRmlsZXNbRXNmXS5pbnN0cnVtZW50X2lkID09ICRzY29wZS5zaXRlU2Vuc29yc1tFaW5zdF0uaW5zdHJ1bWVudF9pZCAmJiAkc2NvcGUuc2l0ZVNlbnNvcnNbRWluc3RdLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zRmlsZXNbRXNmXS50eXBlTmFtZSA9ICRzY29wZS5zaXRlU2Vuc29yc1tFaW5zdF0uc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKHNlbnNGaWxlc1tFc2ZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzZiA9IDA7IHNmIDwgc2Vuc0ZpbGVzLmxlbmd0aDsgc2YrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5zdCA9IDA7IGluc3QgPCAkc2NvcGUuc2l0ZVNlbnNvcnMubGVuZ3RoOyBpbnN0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vuc0ZpbGVzW3NmXS5pbnN0cnVtZW50X2lkID09ICRzY29wZS5zaXRlU2Vuc29yc1tpbnN0XS5pbnN0cnVtZW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNGaWxlc1tzZl0udHlwZU5hbWUgPSAkc2NvcGUuc2l0ZVNlbnNvcnNbaW5zdF0uc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKHNlbnNGaWxlc1tzZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2lmIGltYWdlLCBwdXQgaW50byBjYXJvdXNlbCBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU2l0ZUZpbGVzLCBmdW5jdGlvbiAoc2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dEkgPSBzZi5uYW1lLmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0U3RyaW5nID0gc2YubmFtZS5zdWJzdHJpbmcoZXh0SSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoWydqcGcnLCAnSlBHJywgJ2pwZWcnLCAnSlBFRycsICdwbmcnLCAnUE5HJywgJ2dpZicsICdHSUYnXS5pbmRleE9mKGV4dFN0cmluZykgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5wdXNoKHNmKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGUgU0lURSBGSUxFUyBETyBOT1QgSEFWRSBBTiBFVkVOVCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSFdNcyA9IEhXTV9TZXJ2aWNlLmdldEFsbFNpdGVIV01zKCk7ICRzY29wZS5zaXRlU2Vuc29ycyA9IEluc3RydW1lbnRfU2VydmljZS5nZXRBbGxTaXRlU2Vuc29ycygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2tlZXAgYWxsIHNpdGUgJiBPUCBGaWxlcywgZmlsdGVyIEhXTSwgSW5zdHJ1bWVudCAoREYgZmlsZXMgdXNlIEluc3RydW1lbnQgZXZlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5maWxlQmVsb25nc1RvID09ICdTaXRlIEZpbGUnIHx8IGguZmlsZUJlbG9uZ3NUbyA9PSAnT2JqZWN0aXZlIFBvaW50IEZpbGUnOyB9KTsgIC8va2VlcCBhbGwgc2l0ZSBhbmQgb3AgZmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TaXRlRmlsZXMsIGZ1bmN0aW9uIChzZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNmLmZpbGVCZWxvbmdzVG8gPT0gJ09iamVjdGl2ZSBQb2ludCBGaWxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZi50eXBlTmFtZSA9IHRoaXNTaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBzZi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIGltYWdlLCBwdXQgaW50byBjYXJvdXNlbCBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0SSA9IHNmLm5hbWUuaW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0U3RyaW5nID0gc2YubmFtZS5zdWJzdHJpbmcoZXh0SSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsnanBnJywgJ0pQRycsICdqcGVnJywgJ0pQRUcnLCAncG5nJywgJ1BORycsICdnaWYnLCAnR0lGJ10uaW5kZXhPZihleHRTdHJpbmcpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzLnB1c2goc2YpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh3bUZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKS5maWx0ZXIoZnVuY3Rpb24gKHNmaWxlcykgeyByZXR1cm4gc2ZpbGVzLmZpbGVCZWxvbmdzVG8gPT0gJ0hXTSBGaWxlJzsgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc0ZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKS5maWx0ZXIoZnVuY3Rpb24gKHNmaSkgeyByZXR1cm4gc2ZpLmluc3RydW1lbnRfaWQgPiAwICYmIHNmaS5pbnN0cnVtZW50X2lkICE9PSBudWxsOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHNob3cgZmlsZXMgZm9yIHRoaXMgZXZlbnQgKGdvIHRocm91Z2ggaHdtIGZpbGVzIGFuZCBtYXRjaCBldmVudGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGhmID0gMDsgaGYgPCBod21GaWxlcy5sZW5ndGg7IGhmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGh3bSA9IDA7IGh3bSA8ICRzY29wZS5zaXRlSFdNcy5sZW5ndGg7IGh3bSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bUZpbGVzW2hmXS5od21faWQgPT0gJHNjb3BlLnNpdGVIV01zW2h3bV0uaHdtX2lkICYmICRzY29wZS5zaXRlSFdNc1tod21dLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSkgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChod21GaWxlc1toZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBzaG93IGZpbGVzIGZvciB0aGlzIGV2ZW50IChnbyB0aHJvdWdoIHNlbnNvciBmaWxlcyBhbmQgbWF0Y2ggZXZlbnRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzZiA9IDA7IHNmIDwgc2Vuc0ZpbGVzLmxlbmd0aDsgc2YrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5zdCA9IDA7IGluc3QgPCAkc2NvcGUuc2l0ZVNlbnNvcnMubGVuZ3RoOyBpbnN0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vuc0ZpbGVzW3NmXS5pbnN0cnVtZW50X2lkID09ICRzY29wZS5zaXRlU2Vuc29yc1tpbnN0XS5pbnN0cnVtZW50X2lkICYmICRzY29wZS5zaXRlU2Vuc29yc1tpbnN0XS5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc0ZpbGVzW3NmXS50eXBlTmFtZSA9ICRzY29wZS5zaXRlU2Vuc29yc1tpbnN0XS5zZXJpYWxfbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goc2Vuc0ZpbGVzW3NmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IGEgbW9kYWwgd2l0aCB0aGUgbGFyZ2VyIGltYWdlIGFzIGEgcHJldmlld1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dJbWFnZU1vZGFsID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0U1JDID0gU0VSVkVSX1VSTCArICcvRmlsZXMvJyArICRzY29wZS5pbWFnZUlkICsgJy9JdGVtJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUvZWRpdCBhIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZU1vZGFsID0gZnVuY3Rpb24gKEZpbGVDbGlja2VkKSB7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgU2luZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlRmlsZXMuaW5kZXhPZihGaWxlQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3B1bGF0ZSBhbGwgZmlsZXR5cGVzIHRoYXQgY3JlYXRlL2VkaXQgZmlsZSBuZWVkcyBkZXBlbmRpbmcgb24gd2hhdCB0aGUgZmlsZSBpcyBhdHRhY2hlZCB0b1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHwgZnQuZmlsZXR5cGUgPT09ICdTaXRlIFNrZXRjaCcgfHwgZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgZnQuZmlsZXR5cGUgPT09ICdMaW5rJyB8fCBmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ0LmZpbGV0eXBlID09PSAnTGFuZG93bmVyIFBlcm1pc3Npb24gRm9ybSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGhmdCl7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHwgaGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGhmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHNmdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgc2Z0LmZpbGV0eXBlID09PSAnRGF0YScgfHwgc2Z0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IHNmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Z0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8IHNmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdMaW5rJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcEZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKG9mdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Z0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IG9mdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHwgb2Z0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgb2Z0LmZpbGV0eXBlID09PSAnTkdTIERhdGFzaGVldCcgfHwgb2Z0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbCBhbGxGaWxlVHlwZXMsIHRoaXNGaWxlLCBhbGxNZW1iZXJzLCBhZ2VuY3lMaXN0LCBmaWxlU2l0ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IEZpbGVDbGlja2VkICE9PSAwID8gJ0ZJTEVtb2RhbC5odG1sJyA6ICdGaWxlQ3JlYXRlTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlRmlsZU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlRXhpc3RzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkICE9PSAwKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZJTEUuZ2V0RmlsZUl0ZW0oeyBpZDogRmlsZUNsaWNrZWQuZmlsZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChGaWxlQ2xpY2tlZC5maWxlQmVsb25nc1RvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdIV00gRmlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5od21GaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdEYXRhRmlsZSBGaWxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNlbnNvckZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NlbnNvciBGaWxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNlbnNvckZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ09iamVjdGl2ZSBQb2ludCBGaWxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLm9wRmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnU2l0ZSBGaWxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNpdGVGaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNpdGVGaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZpbGVDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTb3VyY2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNPVVJDRS5xdWVyeSh7aWQ6RmlsZUNsaWNrZWQuc291cmNlX2lkfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFGaWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZC5kYXRhX2ZpbGVfaWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQVRBX0ZJTEUucXVlcnkoeyBpZDogRmlsZUNsaWNrZWQuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgZmlsZSBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEZpbGVbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goY3JlYXRlZEZpbGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLlNpdGVGaWxlcyk7Ly8sICRzY29wZS5zaXRlSFdNcywgJHNjb3BlLnNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEZpbGVbMV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGZyb20gZWRpdCAtLSByZWZyZXNoIHBhZ2U/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzW1NpbmRleENsaWNrZWRdID0gY3JlYXRlZEZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuU2l0ZUZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEZpbGVbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnNwbGljZShTaW5kZXhDbGlja2VkLCAxKTsgLy9yZW1vdmUgZnJvbSBmaWxlIExpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5TaXRlRmlsZXMpOy8vLCAkc2NvcGUuc2l0ZUhXTXMsICRzY29wZS5zaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignZXZlbnRTZXNzaW9uTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckdWliTW9kYWxJbnN0YW5jZScsICdhbGxFdmVudHMnLCAnYWxsRXZlbnRUeXBlcycsICdhbGxTdGF0ZXMnLCAnRVZFTlQnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkdWliTW9kYWxJbnN0YW5jZSwgYWxsRXZlbnRzLCBhbGxFdmVudFR5cGVzLCBhbGxTdGF0ZXMsIEVWRU5UKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5FdmVudExpc3QgPSBhbGxFdmVudHM7XHJcbiAgICAgICAgICAgICRzY29wZS5FdmVudFR5cGVMaXN0ID0gYWxsRXZlbnRUeXBlcztcclxuICAgICAgICAgICAgJHNjb3BlLlN0YXRlTGlzdCA9IGFsbFN0YXRlcztcclxuICAgICAgICAgICAgdmFyIGNob3NlbkV2ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpOyAvL3NlZSBpZiB3ZSBuZWVkIHRvIHNlbGVjdCB0aGUgc2Vzc2lvbiBldmVudFxyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnQgPSB7IEV2ZW50Q2hvc2VuOiBjaG9zZW5FdiAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKGNob3NlbkV2KSA6IFwiXCIgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZmlsdGVycyBjaG9zZW4sIG9ubHkgc2hvdyB0aGVzZSBldmVudHNcclxuICAgICAgICAgICAgJHNjb3BlLmZpbHRlckV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vP0RhdGU6IG51bGwsIFR5cGU6IDAsIFN0YXRlOiBudWxsXHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9ICRzY29wZS5ldmVudC5EQVRFICE9PSBudWxsICYmICRzY29wZS5ldmVudC5EQVRFICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuZXZlbnQuREFURSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgdCA9ICRzY29wZS5ldmVudC50eXBlICE9PSBudWxsICYmICRzY29wZS5ldmVudC50eXBlICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuZXZlbnQudHlwZSA6IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5ldmVudC5zdGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuZXZlbnQuc3RhdGUgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5ldmVudC5zdGF0ZSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICBFVkVOVC5nZXRGaWx0ZXJlZEV2ZW50cyh7IERhdGU6IGQsIFR5cGU6IHQsIFN0YXRlOiBzIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TGlzdCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgZXZlbnRzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIGV2ZW50czogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY2xlYXIgdGhlIGZpbHRlcnNcclxuICAgICAgICAgICAgJHNjb3BlLmNsZWFyRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudCA9IHsgRXZlbnRDaG9zZW46IGNob3NlbkV2ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoY2hvc2VuRXYpIDogXCJcIiB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TGlzdCA9IGFsbEV2ZW50cztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9ldmVudCBoYXMgYmVlbiBjaG9zZW4uIFNldCBpdCBhcyBzZXNzaW9uIGV2ZW50XHJcbiAgICAgICAgICAgICRzY29wZS5zZXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldklEID0gJHNjb3BlLmV2ZW50LkV2ZW50Q2hvc2VuO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ldklEICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGFsbEV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZXZlbnRfaWQgPT0gJHNjb3BlLmV2SUQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnU2Vzc2lvbkV2ZW50SUQnLCAkc2NvcGUuZXZJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTZXNzaW9uRXZlbnROYW1lJywgZXZlbnROYW1lLmV2ZW50X25hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlc3Npb25FdmVudCA9IFwiU2Vzc2lvbiBFdmVudDogXCIgKyBldmVudE5hbWUuZXZlbnRfbmFtZSArIFwiLlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJZb3UgbXVzdCBjaG9vc2UgYW4gRXZlbnQgZmlyc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90aGV5IHdhbnQgdG8gY2xlYXIgdGhlIHNlc3Npb24gZXZlbnRcclxuICAgICAgICAgICAgJHNjb3BlLmNsZWFyRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnQgPSB7fTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnU2Vzc2lvbkV2ZW50SUQnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZXNzaW9uRXZlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignZXZlbnRTZXNzaW9uQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnRVZFTlQnLCAnRVZFTlRfVFlQRScsICdTVEFURScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICR1aWJNb2RhbCwgJGxvY2F0aW9uLCAkc3RhdGUsIEVWRU5ULCBFVkVOVF9UWVBFLCBTVEFURSkge1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbkV2ZW50TW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0Nob29zZUV2ZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudFNlc3Npb25Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVZFTlQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50VHlwZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFVkVOVF9UWVBFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm90aGluZyB0byBkbyBoZXJlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignZXZlbnRNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckdWliTW9kYWxJbnN0YW5jZScsICckZmlsdGVyJywgJ3RoaXNFdmVudCcsICdldmVudFR5cGVMaXN0JyxcclxuICAgICAgICAnZXZlbnRTdGF0dXNMaXN0JywgJ2FkbWluTGlzdCcsICdmaWxlVHlwZXMnLCAnZXZlbnRTaXRlcycsICdhbGxTdGF0ZXMnLCAnYWxsQ291bnRpZXMnLCAnRVZFTlQnLCAnRklMRScsICdTRVJWRVJfVVJMJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICR1aWJNb2RhbCwgJHVpYk1vZGFsSW5zdGFuY2UsICRmaWx0ZXIsIHRoaXNFdmVudCwgZXZlbnRUeXBlTGlzdCwgZXZlbnRTdGF0dXNMaXN0LCBhZG1pbkxpc3QsIGZpbGVUeXBlcywgZXZlbnRTaXRlcywgYWxsU3RhdGVzLCBhbGxDb3VudGllcyxcclxuICAgICAgICAgICAgRVZFTlQsIEZJTEUsIFNFUlZFUl9VUkwpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICRzY29wZS5kb3dubG9hZFppcFVybCA9IFwiXCI7IC8vdGFjayBvbiBlbmQgb2YgdXJsIGZvciBnZXR0aW5nIHppcCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5vYmplY3RDaG9pY2VzID0gW1wiSFdNc1wiLCBcIlNlbnNvcnNcIl07XHJcbiAgICAgICAgICAgICRzY29wZS5hbkV2ZW50ID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVzID0gZXZlbnRUeXBlTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdHVzZXMgPSBldmVudFN0YXR1c0xpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5hZG1pbk1lbWJlcnMgPSBhZG1pbkxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgRVZ2YWw6ICdkZXRhaWwnIH07XHJcbiAgICAgICAgICAgICRzY29wZS5kbCA9IHsgZGxPcGVuOiB0cnVlLCBkbEZpbGVPcGVuOiBmYWxzZSB9Oy8vYWNjb3JkaW9uc1xyXG4gICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyRzY29wZS5mb3JtYXQgPSAnTU1NIGRkLCB5eXl5JztcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERhdGVwaWNrZXJcclxuXHJcbiAgICAgICAgICAgIC8vZWRpdCBidXR0b24gY2xpY2tlZC4gbWFrZSBjb3B5IG9mIGh3bSBcclxuICAgICAgICAgICAgJHNjb3BlLndhbm5hRWRpdEVWID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuRVZ2YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZDb3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5hbkV2ZW50KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEVWRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkVWdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZDb3B5ID0gW107XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07IC8vZW5kIG1ha2VBZGF0ZSgpXHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpICcyMDEzLTA1LTE2VDA1OjAwOjAwJ1xyXG4gICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGQuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgZC5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiMDFcIiwgXCIwMlwiLCBcIjAzXCIsIFwiMDRcIiwgXCIwNVwiLCBcIjA2XCIsIFwiMDdcIiwgXCIwOFwiLCBcIjA5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBtb250aE5hbWVzW21vbnRoXSArIFwiL1wiICsgZGF5ICsgXCIvXCIgKyB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgaWYgKHRoaXNFdmVudCAhPT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlT1JlZGl0RVYgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZNb2RhbEhlYWRlciA9IFwiRXZlbnQgSW5mb3JtYXRpb25cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50ID0gYW5ndWxhci5jb3B5KHRoaXNFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlID0gJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSAhPT0gdW5kZWZpbmVkID8gbWFrZUFkYXRlKCRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUpIDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSA9ICRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlICE9PSB1bmRlZmluZWQgPyBtYWtlQWRhdGUoJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUpIDogJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSBuZXcgZXZlbnQgYmVpbmcgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEVWID0gJ2NyZWF0ZSc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlID0gbWFrZUFkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vb24gY3JlYXRlIGFuZCBzYXZlLCBpZiBkYXRlcyBlbnRlcmVkLCBjb21wYXJlIHRvIGVuc3VyZSBlbmQgZGF0ZSBjb21lcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgIHZhciBjb21wYXJlRGF0ZXMgPSBmdW5jdGlvbiAodiwgc2QsIGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZWQpIDwgbmV3IERhdGUoc2QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBldmVudCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBldmVudCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVkID09PSBcIlwiIHx8IHNkID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IGVudGVyZWQgYW4gaW52YWxpZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSAhPT0gbnVsbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSAhPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGNvbXBhcmVEYXRlcyh2YWxpZCwgJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSwgJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoZXJlJ3MgYSBzdGFydCBhbmQgZW5kIGRhdGUgXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkRXZlbnQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBFVkVOVC5zYXZlKCRzY29wZS5hbkV2ZW50LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgQ3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHRoaXMgbmV3IGV2ZW50IGludG8gdGhlIGV2ZW50TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50LmV2ZW50X2lkID0gcmVzcG9uc2UuZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5OYW1lID0gcmVzcG9uc2UuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50LlR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXZlbnRfdHlwZV9pZCA9PSByZXNwb25zZS5ldmVudF90eXBlX2lkOyB9KVswXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuU3RhdHVzID0gJHNjb3BlLmV2ZW50U3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X3N0YXR1c19pZCA9PSByZXNwb25zZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gJHNjb3BlLmFkbWluTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubWVtYmVyX2lkID09IHJlc3BvbnNlLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50LlN0YXJ0RGF0ZSA9IHJlc3BvbnNlLmV2ZW50X3N0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5FbmREYXRlID0gcmVzcG9uc2UuZXZlbnRfZW5kX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5Db29yZCA9IGNvb3JkICE9PSB1bmRlZmluZWQgPyBjb29yZC5mbmFtZSArIFwiIFwiICsgY29vcmQubG5hbWUgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXcgZXZlbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXcgZXZlbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTsgICBcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRFdmVudCwgJ2NyZWF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCAkc2NvcGUuc2F2ZSgpICAgICBcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ldkNvcHkuZXZlbnRfc3RhcnRfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ldkNvcHkuZXZlbnRfc3RhcnRfZGF0ZSAhPT0gbnVsbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoJHNjb3BlLmV2Q29weS5ldmVudF9lbmRfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ldkNvcHkuZXZlbnRfZW5kX2RhdGUgIT09IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjb21wYXJlRGF0ZXModmFsaWQsICRzY29wZS5ldkNvcHkuZXZlbnRfc3RhcnRfZGF0ZSwgJHNjb3BlLmV2Q29weS5ldmVudF9lbmRfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhlcmUncyBhIHN0YXJ0IGFuZCBlbmQgZGF0ZSBcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRFdmVudCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIEVWRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuZXZDb3B5LmV2ZW50X2lkIH0sICRzY29wZS5ldkNvcHksIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5ldmVudF9pZCA9IHJlc3BvbnNlLmV2ZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuTmFtZSA9IHJlc3BvbnNlLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5UeXBlID0gJHNjb3BlLmV2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV2ZW50X3R5cGVfaWQgPT0gcmVzcG9uc2UuZXZlbnRfdHlwZV9pZDsgfSlbMF0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50LlN0YXR1cyA9ICRzY29wZS5ldmVudFN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9zdGF0dXNfaWQgPT0gcmVzcG9uc2UuZXZlbnRfc3RhdHVzX2lkOyB9KVswXS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb29yZCA9ICRzY29wZS5hZG1pbk1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm1lbWJlcl9pZCA9PSByZXNwb25zZS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5TdGFydERhdGUgPSByZXNwb25zZS5ldmVudF9zdGFydF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuRW5kRGF0ZSA9IHJlc3BvbnNlLmV2ZW50X2VuZF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuQ29vcmQgPSBjb29yZCAhPT0gdW5kZWZpbmVkID8gY29vcmQuZm5hbWUgKyBcIiBcIiArIGNvb3JkLmxuYW1lIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmc6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3VwZGF0ZWRFdmVudCwgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUVWID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkV2ZW50XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGV2ZW50VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBFVkVOVC5kZWxldGUoeyBpZDogZXZlbnRUb1JlbW92ZS5ldmVudF9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgRGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmc6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBldmVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShbXCJkZVwiLCAnZGVsZXRlZCddKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWwgbW9kYWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB7IHNob3dMb2FkaW5nOiBmYWxzZSB9OyAvL0xvYWRpbmcuLi5cclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBaaXAgRmlsZSBEb3dubG9hZCBTZWN0aW9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzRXZlbnQgIT09IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnppcEZpbGVQYXJhbXMgPSB7IGZpbGVzRm9yOiBcIlwiLCBzdGF0ZU5hbWU6IFwiXCIsIGNvdW50eU5hbWU6IFwiXCIsIGZyb21EYXRlOiBcIlwiLCB0b0RhdGU6IFwiXCIgfTtcclxuICAgICAgICAgICAgICAgIC8vICRzY29wZS5zdGF0ZXMgPSBhbGxTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUNvdW50eUxpc3QgPSBbXTsgLy9ob2xkcyBjb3VudGllcyB3ZXJlIHRoZXJlIGFyZSBldmVudHNpdGVzICAgYWxsQ291bnRpZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlcyA9IFtdOyAvL2hvbGRzIHRoZSBzdGF0ZXMganVzdCBmb3IgdGhpcyBldmVudFxyXG4gICAgICAgICAgICAgICAgLy9sb29wIHRocm91Z2ggZXZlbnRTaXRlcyBhbmQgbG9vcCB0aHJ1IHN0YXRlcywgd2hlbiBtYXRjaGluZyBvbmUsIGFkZCB0byBldmVudFN0YXRlcyAobmVlZCBzdGF0ZV9pZCBmb3IgY291bnR5IGZpbHRlcmluZylcclxuICAgICAgICAgICAgICAgIGlmIChldmVudFNpdGVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzdCA9IDA7IHN0IDwgYWxsU3RhdGVzLmxlbmd0aDsgc3QrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvcmVhY2ggbG9vcCB0byBwb3B1bGF0ZSBldmVudFN0YXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlcyA9IDA7IGVzIDwgZXZlbnRTaXRlcy5sZW5ndGg7IGVzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFNpdGVzW2VzXS5zdGF0ZSA9PSBhbGxTdGF0ZXNbc3RdLnN0YXRlX2FiYnJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlcy5wdXNoKGFsbFN0YXRlc1tzdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzID0gZXZlbnRTaXRlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmV2ZW50U3RhdGVzID0gYWxsU3RhdGVzO1xyXG4gICAgICAgICAgICAgICAgLy9wb3B1bGF0ZSBjb3VudHlhcnJheSB3aXRoIGp1c3QgdGhvc2UgY291bnRpZXMgd2hlcmUgd2UgaGF2ZSBldmVudFNJdGVzXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaSA9IDA7IGNpIDwgZXZlbnRTaXRlcy5sZW5ndGg7IGNpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVDb3VudHlMaXN0Lm1hcChmdW5jdGlvbiAoc2NsKSB7IHJldHVybiBzY2wuY291bnR5X25hbWU7IH0pLmluZGV4T2YoZXZlbnRTaXRlc1tjaV0uY291bnR5KSA8IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlQ291bnR5TGlzdC5wdXNoKHsgc3RhdGVfYWJicmV2OiBldmVudFNpdGVzW2NpXS5zdGF0ZSwgY291bnR5X25hbWU6IGV2ZW50U2l0ZXNbY2ldLmNvdW50eSwgc3RhdGVfaWQ6IGFsbFN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfYWJicmV2ID09IGV2ZW50U2l0ZXNbY2ldLnN0YXRlOyB9KVswXS5zdGF0ZV9pZCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vZmlsdGVyIGNvdW50aWVzIGJ5IHN0YXRlIGNob3NlblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5zdGF0ZU5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLmV2ZW50U3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LnN0YXRlX2FiYnJldiA9PSAkc2NvcGUuemlwRmlsZVBhcmFtcy5zdGF0ZU5hbWU7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgc2hvdyBjb3VudGllcyB0aGF0IGFyZSBvbiB0aGUgc2l0ZXMgZm9yIHRoaXMgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gJHNjb3BlLnNpdGVDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2xpc3Qgb2YgZmlsZSB0eXBlcyBmb3IgaHdtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZVR5cGVzID0gZmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoaGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9QaG90byAoMSksIEhpc3RvcmljICgzKSwgRmllbGQgU2hlZXRzICg0KSwgTGV2ZWwgTm90ZXMgKDUpLCBPdGhlciAoNyksIExpbmsgKDgpLCBTa2V0Y2ggKDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgaGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2xpc3Qgb2YgZmlsZSB0eXBlcyBmb3Igc2Vuc29yc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvcmZpbGVUeXBlcyA9IGZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHNmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUGhvdG8gKDEpLCBEYXRhICgyKSwgSGlzdG9yaWMgKDMpLCBGaWVsZCBTaGVldHMgKDQpLCBMZXZlbCBOb3RlcyAoNSksIE90aGVyICg3KSwgTGluayAoOCksIFNrZXRjaCAoMTApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdEYXRhJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgc2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICBzZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgc2Z0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9od20gb3Igc2Vuc29yIHdhcyBjaG9zZW4sIHVwZGF0ZSBmaWxlIHR5cGUgY2hlY2tib3hsaXN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlZmlsZVR5cGVDaGVja3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXBlbmRpbmcgb24gd2hpY2ggdGhleSBjaG9zZSAoSFdNIE9SIFNFTlNPUiksIHVwZGF0ZSBjaGVja2JveCBzY29wZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlc1dhbnRlZCA9IFtdOyB2YXIgc2Vuc29yRmlsZVR5cGVzV2FudGVkID0gW107IC8vcmVzZXQgZWFjaCB0aW1lIHRoaXMgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5od21GaWxlVHlwZXNTdHJpbmcgPSBcIlwiOyAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzU3RyaW5nID0gXCJcIjsgLy9yZXNldCBlYWNoIHRpbWUgdGhpcyBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgLy91bmNoZWNrIGFsbCBjaGVja2JveGVzIGZvciBod20gYW5kIHNlbnNvciBmaWxlIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5IV01maWxlVHlwZXMsIGZ1bmN0aW9uIChod21GVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21GVC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2Vuc29yZmlsZVR5cGVzLCBmdW5jdGlvbiAoc2VuRlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuRlQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuZmlsZXNGb3IgPT0gXCJIV01zXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlQ2hlY2tMaXN0ID0gJHNjb3BlLkhXTWZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLmZpbGVzRm9yID09IFwiU2Vuc29yc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUNoZWNrTGlzdCA9ICRzY29wZS5zZW5zb3JmaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlc1dhbnRlZENob3NlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9ob2xkZXIgb2Ygc3RyaW5nIGFycmF5IG9mIGZpbGV0eXBlcyB3YW50ZWRcclxuXHJcbiAgICAgICAgICAgICAgICAvL29uY2hlY2sgZXZlbnRcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2VkRmlsZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9maWxlVHlwZSBjaGVja2VkL3VuY2hlY2tlZCA9PSBhZGQvcmVtb3ZlIGl0IGZyb20gc3RyaW5nIGFycmF5IHRvIHBhc3MgaW50byB1cmxcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuZmlsZXNGb3IgPT0gXCJIV01zXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlc1dhbnRlZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLkhXTWZpbGVUeXBlcywgZnVuY3Rpb24gKGhmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGYuc2VsZWN0ZWQpICRzY29wZS5od21GaWxlVHlwZXNXYW50ZWQucHVzaChoZi5maWxldHlwZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRmlsZVR5cGVzU3RyaW5nID0gJHNjb3BlLmh3bUZpbGVUeXBlc1dhbnRlZC5qb2luKFwiLFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLmZpbGVzRm9yID09IFwiU2Vuc29yc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlVHlwZXNXYW50ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZW5zb3JmaWxlVHlwZXMsIGZ1bmN0aW9uIChzZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNmLnNlbGVjdGVkKSAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzV2FudGVkLnB1c2goc2YuZmlsZXR5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVUeXBlc1N0cmluZyA9ICRzY29wZS5zZW5zb3JGaWxlVHlwZXNXYW50ZWQuam9pbihcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2Rvd25sb2FkIHppcCBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRG93bmxvYWRaaXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBjaGVja2VkIGF0IGxlYXN0IHRoZSBod20gb3Igc2Vuc29yIGNoZWNrYm94XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZEZyb21EYXRlID0gXCJcIjsgdmFyIGZvcm1hdHRlZFRvRGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLmZyb21EYXRlICE9PSBcIlwiKSBmb3JtYXR0ZWRGcm9tRGF0ZSA9IGRhdGVXT3RpbWUoJHNjb3BlLnppcEZpbGVQYXJhbXMuZnJvbURhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy50b0RhdGUgIT09IFwiXCIpIGZvcm1hdHRlZFRvRGF0ZSA9IGRhdGVXT3RpbWUoJHNjb3BlLnppcEZpbGVQYXJhbXMudG9EYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0V2ZW50cy97e2FuRXZlbnQuZXZlbnRfaWR9fS9FdmVudEZpbGVJdGVtcz9TdGF0ZT17c3RhdGVOYW1lfSZDb3VudHk9e2NvdW50eX0mRnJvbURhdGU9e2Zyb21EYXRlfSZUb0RhdGU9e3RvRGF0ZX0mRmlsZXNGb3I9e2ZpbGVzRm9yfSZIV01GaWxlVHlwZT17aHdtRmlsZVR5cGVzfSZTZW5zb3JGaWxlVHlwZXM9e3NlbnNvckZpbGVUeXBlc31cIlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5maWxlc0ZvciAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZXBhdGggPSAkc2NvcGUuc2VydmVyVVJMICsgJy9FdmVudHMvJyArICRzY29wZS5hbkV2ZW50LmV2ZW50X2lkICsgJy9FdmVudEZpbGVJdGVtcz9TdGF0ZT0nICsgJHNjb3BlLnppcEZpbGVQYXJhbXMuc3RhdGVOYW1lICsgJyZDb3VudHk9JyArICRzY29wZS56aXBGaWxlUGFyYW1zLmNvdW50eU5hbWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyZGcm9tRGF0ZT0nICsgZm9ybWF0dGVkRnJvbURhdGUgKyAnJlRvRGF0ZT0nICsgZm9ybWF0dGVkVG9EYXRlICsgJyZGaWxlc0Zvcj0nICsgJHNjb3BlLnppcEZpbGVQYXJhbXMuZmlsZXNGb3IgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyZIV01GaWxlVHlwZT0nICsgJHNjb3BlLmh3bUZpbGVUeXBlc1N0cmluZyArICcmU2Vuc29yRmlsZVR5cGVzPScgKyAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCBmaWxlcGF0aCk7IC8vLHRydWUpOyAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbG9zZUJ1dHRvblwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtYm90dG9tLXJpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uY2xpY2tcIjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGltZU91dFwiOiBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXh0ZW5kZWRUaW1lT3V0XCI6IFwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKFwiWmlwIGZpbGUgaXMgZG93bmxvYWRpbmcuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJibG9iXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vKjsgY2hhcnNldD11dGYtOFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzVGV4dCAhPT0gXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNnc1dpTW1lc3NhZ2UgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJ1c2dzd2ltLW1lc3NhZ2VzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNnc1dpTW1lc3NhZ2UgPT0gXCJpbmZvOiBGaWxlQ291bnQ6MCxDb3VudDogMFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+Tm8gRmlsZXM8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSBhcmUgbm8gZmlsZXMgdGhhdCBtYXRjaCB5b3VyIHF1ZXJ5LjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwPlBsZWFzZSBuYXJyb3cgeW91ciBzZWFyY2ggYW5kIHRyeSBhZ2Fpbi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW3hoci5yZXNwb25zZV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmxDcmVhdG9yID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVVUkwgPSB1cmxDcmVhdG9yLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQmxvYiwgY2xpZW50IHNpZGUgb2JqZWN0IGNyZWF0ZWQgdG8gd2l0aCBob2xkaW5nIGJyb3dzZXIgc3BlY2lmaWMgZG93bmxvYWQgcG9wdXAsIG9uIHRoZSBVUkwgY3JlYXRlZCB3aXRoIHRoZSBoZWxwIG9mIHdpbmRvdyBvYmouXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnN0eWxlID0gXCJkaXNwbGF5OiBub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmhyZWYgPSBmaWxlVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9ICdFdmVudEZpbGVEb3dubG9hZC56aXAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc29tZXRoaW5nIHdlbnQgd3JvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1vZGFsMSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkRvd25sb2FkIHdhcyB1bnN1Y2Nlc3NmdWwuIFBvc3NpYmxlIGNhdXNlIGlzIHRoYXQgdGhlIHppcCBmaWxlIGlzIHRvbyBsYXJnZSB0byBkb3dubG9hZC48L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwPlBsZWFzZSBuYXJyb3cgeW91ciBzZWFyY2ggYW5kIHRyeSBhZ2Fpbi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCBzYXlpbmcgeW91IG11c3QgY2hvb3NlIGF0IGxlYXN0IHRoZSBod20gb3Igc2Vuc29yIHRvIGZpbHRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgbXVzdCBjaG9vc2UgZWl0aGVyIEhXTSBmaWxlcyBvciBTZW5zb3IgZmlsZXMgYmVmb3JlIGEgZG93bmxvYWRlZCB6aXAgZmlsZSBjYW4gYmUgcmVxdWVzdGVkLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFppcCBGaWxlIERvd25sb2FkIFNlY3Rpb25cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuXHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcbiAgICBcclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignZXZlbnRJbmZvQ3RybCcsIFsnJHNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsICdFVkVOVCcsICd0aGlzRXZlbnQnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsIEVWRU5ULCB0aGlzRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vYWxsIHRoaW5ncyBib3RoIG5ldyBhbmQgZXhpc3RpbmcgZXZlbnRzIHBhZ2Ugd2lsbCBuZWVkXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vJHNjb3BlLmZvcm1hdCA9ICdNTU0gZGQsIHl5eXknO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERhdGVwaWNrZXJcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBERUxFVEUgRXZlbnQgY2xpY2tcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZWxldGVFdmVudCA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkV2ZW50XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChuYW1lVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5ULmRlbGV0ZSh7IGlkOiBuYW1lVG9SZW1vdmUuZXZlbnRfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbEV2ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5ldmVudF9pZCA9IG5hbWVUb1JlbW92ZS5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2Lk5hbWUgPSBuYW1lVG9SZW1vdmUuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2LlR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXZlbnRfdHlwZV9pZCA9PSBuYW1lVG9SZW1vdmUuZXZlbnRfdHlwZV9pZDsgfSlbMF0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2LlN0YXR1cyA9ICRzY29wZS5ldmVudFN0YXRMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9zdGF0dXNfaWQgPT0gbmFtZVRvUmVtb3ZlLmV2ZW50X3N0YXR1c19pZDsgfSlbMF0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gJHNjb3BlLmV2ZW50Q29vcmRMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tZW1iZXJfaWQgPT0gbmFtZVRvUmVtb3ZlLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2LlN0YXJ0RGF0ZSA9IG5hbWVUb1JlbW92ZS5ldmVudF9zdGFydF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuRW5kRGF0ZSA9IG5hbWVUb1JlbW92ZS5ldmVudF9lbmRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2LkNvb3JkID0gY29vcmQgIT09IHVuZGVmaW5lZCA/IGNvb3JkLmZuYW1lICsgXCIgXCIgKyBjb29yZC5sbmFtZSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuZXZlbnRMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ldmVudExpc3RbaV0uZXZlbnRfaWQgPT0gZGVsRXYuZXZlbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gJHNjb3BlLmV2ZW50TGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBEZWxldGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvRXZlbnRzL0V2ZW50c0xpc3QnKS5yZXBsYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERFTEVURSBFdmVudCBjbGlja1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07IC8vZW5kIG1ha2VBZGF0ZSgpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNFdmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQgPSB0aGlzRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlKTsgJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzRXZlbnRUeXBlID0gJHNjb3BlLmV2ZW50VHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV2ZW50X3R5cGVfaWQgPT0gdGhpc0V2ZW50LmV2ZW50X3R5cGVfaWQ7IH0pWzBdLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNFdmVudFN0YXR1cyA9ICRzY29wZS5ldmVudFN0YXRMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9zdGF0dXNfaWQgPT0gdGhpc0V2ZW50LmV2ZW50X3N0YXR1c19pZDsgfSlbMF0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBFQyA9ICRzY29wZS5ldmVudENvb3JkTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubWVtYmVyX2lkID09IHRoaXNFdmVudC5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNFdmVudENvb3JkID0gRUMgIT09IHVuZGVmaW5lZCA/IEVDLmZuYW1lICsgXCIgXCIgKyBFQy5sbmFtZSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXNFdmVudCAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSBuZXcgZXZlbnQgYmVpbmcgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgPSBtYWtlQWRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSA9IG1ha2VBZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0vL2VuZCAtbmV3IGV2ZW50XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jaGFuZ2UgdG8gdGhlIHVzZXIgbWFkZSwgcHV0IGl0IC4uIGZpcmVkIG9uIGVhY2ggYmx1ciBhZnRlciBjaGFuZ2UgbWFkZSB0byBmaWVsZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNhdmVPbkJsdXIgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW5zdXJlIHRoZXkgZG9uJ3QgZGVsZXRlIHJlcXVpcmVkIGZpZWxkIHZhbHVlcyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFVkVOVC51cGRhdGUoeyBpZDogJHNjb3BlLmFuRXZlbnQuZXZlbnRfaWQgfSwgJHNjb3BlLmFuRXZlbnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHJlcXVpcmVkIGZpZWxkcy48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2Vycm9yTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy99KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBTYXZlT25CbHVyXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlQuc2F2ZSgkc2NvcGUuYW5FdmVudCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBDcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHRoaXMgbmV3IGV2ZW50IGludG8gdGhlIGV2ZW50TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuZXZlbnRfaWQgPSByZXNwb25zZS5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuTmFtZSA9IHJlc3BvbnNlLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLlR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXZlbnRfdHlwZV9pZCA9PSByZXNwb25zZS5ldmVudF90eXBlX2lkOyB9KVswXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5TdGF0dXMgPSAkc2NvcGUuZXZlbnRTdGF0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfc3RhdHVzX2lkID09IHJlc3BvbnNlLmV2ZW50X3N0YXR1c19pZDsgfSlbMF0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gJHNjb3BlLmV2ZW50Q29vcmRMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tZW1iZXJfaWQgPT0gcmVzcG9uc2UuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5TdGFydERhdGUgPSByZXNwb25zZS5ldmVudF9zdGFydF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5FbmREYXRlID0gcmVzcG9uc2UuZXZlbnRfZW5kX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLkNvb3JkID0gY29vcmQgIT09IHVuZGVmaW5lZCA/IGNvb3JkLmZuYW1lICsgXCIgXCIgKyBjb29yZC5sbmFtZSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0LnB1c2goRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9FdmVudHMvRXZlbnRzTGlzdCcpLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgJHNjb3BlLnNhdmUoKVxyXG4gICAgICAgICAgICB9Ly9lbmQgZWxzZSAoY2hlY2tDcmVkcygpKVxyXG4gICAgICAgIH1dKTtcclxuICAgIFxyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignZXZlbnRDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnTUVNQkVSJywgJ0ZJTEVfVFlQRScsICdFVkVOVCcsICdTVEFURScsICdDT1VOVElFUycsICdhbGxDb29yZE1lbWJlcnMnLCAnYWxsRXZlbnRzJywgJ2FsbEV2ZW50VHlwZXMnLCAnYWxsRXZlbnRTdGF0cycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICRmaWx0ZXIsICR1aWJNb2RhbCwgTUVNQkVSLCBGSUxFX1RZUEUsIEVWRU5ULCBTVEFURSwgQ09VTlRJRVMsIGFsbENvb3JkTWVtYmVycywgYWxsRXZlbnRzLCBhbGxFdmVudFR5cGVzLCBhbGxFdmVudFN0YXRzKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5ncy9FdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzQWRtaW4gPSAkc2NvcGUubG9nZ2VkSW5Sb2xlID09IFwiQWRtaW5cIiA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBhIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKSAnMjAxMy0wNS0xNlQwNTowMDowMCdcclxuICAgICAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBUaW5kZXggPSBkLmluZGV4T2YoXCJUXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlID0gZC5zdWJzdHJpbmcoMCwgVGluZGV4KTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVMaXN0ID0gYWxsRXZlbnRUeXBlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRMaXN0ID0gYWxsRXZlbnRTdGF0cztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudENvb3JkTGlzdCA9IGFsbENvb3JkTWVtYmVycztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2J1aWxkIGV2ZW50T2JqZWN0IGZvciBldmVudExpc3QgZm9yIHRhYmxlIGluIGV2ZW50c0xpc3QuaHRtbFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBhbGxFdmVudHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgRSA9IGFsbEV2ZW50c1t4XTtcclxuICAgICAgICAgICAgICAgICAgICBFLk5hbWUgPSBhbGxFdmVudHNbeF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBFLlR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXZlbnRfdHlwZV9pZCA9PSBhbGxFdmVudHNbeF0uZXZlbnRfdHlwZV9pZDsgfSlbMF0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBFLlN0YXR1cyA9ICRzY29wZS5ldmVudFN0YXRMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9zdGF0dXNfaWQgPT0gYWxsRXZlbnRzW3hdLmV2ZW50X3N0YXR1c19pZDsgfSlbMF0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29yZCA9ICRzY29wZS5ldmVudENvb3JkTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubWVtYmVyX2lkID09IGFsbEV2ZW50c1t4XS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgRS5TdGFydERhdGUgPSBhbGxFdmVudHNbeF0uZXZlbnRfc3RhcnRfZGF0ZSAhPT0gdW5kZWZpbmVkID8gIG1ha2VBZGF0ZShhbGxFdmVudHNbeF0uZXZlbnRfc3RhcnRfZGF0ZSkgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIEUuRW5kRGF0ZSA9IGFsbEV2ZW50c1t4XS5ldmVudF9lbmRfZGF0ZSAhPT0gdW5kZWZpbmVkID8gbWFrZUFkYXRlKGFsbEV2ZW50c1t4XS5ldmVudF9lbmRfZGF0ZSkgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIEUuQ29vcmQgPSBjb29yZCAhPT0gdW5kZWZpbmVkID8gY29vcmQuZm5hbWUgKyBcIiBcIiArIGNvb3JkLmxuYW1lIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdC5wdXNoKEUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlL3ZpZXcgbWVtYmVyIHdhcyBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50TW9kYWwgPSBmdW5jdGlvbiAoZXZlbnRDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5ldmVudExpc3QuaW5kZXhPZihldmVudENsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB7IHNob3dMb2FkaW5nOiB0cnVlIH07IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdldmVudE1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZXZlbnRNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50Q2xpY2tlZCAhPT0gMCA/IGV2ZW50Q2xpY2tlZCA6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGVMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEV2ZW50VHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGF0dXNMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEV2ZW50U3RhdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW5MaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQ29vcmRNZW1iZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGSUxFX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTaXRlczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRDbGlja2VkICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVZFTlQuZ2V0RXZlbnRTaXRlcyh7aWQ6ZXZlbnRDbGlja2VkLmV2ZW50X2lkfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDb3VudGllczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDT1VOVElFUy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgb3Agb3IganVzdCBjbG9zZWQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IGZhbHNlIH07IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRXZlbnRbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdC5wdXNoKGNyZWF0ZWRFdmVudFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEV2ZW50WzFdID09PSAndXBkYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3RbaW5kZXhDbGlja2VkXSA9IGNyZWF0ZWRFdmVudFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRXZlbnRbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGluZGV4Q2xpY2tlZDEgPSAkc2NvcGUubWVtYmVyTGlzdC5pbmRleE9mKGNyZWF0ZWRNZW1iZXJbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3Quc3BsaWNlKGluZGV4Q2xpY2tlZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfV0pO1xyXG59KCkpOyIsIlxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignYXBwcm92YWxDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRjb29raWVzJywgJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICdzdGF0ZUxpc3QnLCAnY291bnR5TGlzdCcsICdpbnN0cnVtZW50TGlzdCcsICdhbGxTZW5zb3JUeXBlcycsICdhbGxEZXBUeXBlcycsICdod21RdWFsTGlzdCcsICdod21UeXBlTGlzdCcsICdIV00nLCAnREFUQV9GSUxFJywgJ0lOU1RSVU1FTlQnLCAnU0lURScsICdNRU1CRVInLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJGNvb2tpZXMsICRyb290U2NvcGUsICRsb2NhdGlvbiwgJGh0dHAsICR1aWJNb2RhbCwgc3RhdGVMaXN0LCBjb3VudHlMaXN0LCBpbnN0cnVtZW50TGlzdCwgYWxsU2Vuc29yVHlwZXMsIGFsbERlcFR5cGVzLCBod21RdWFsTGlzdCwgaHdtVHlwZUxpc3QsIEhXTSwgREFUQV9GSUxFLCBJTlNUUlVNRU5ULCBTSVRFLCBNRU1CRVIpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudGhpc1BhZ2UgPSBcIkFwcHJvdmFsXCI7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSBcImFwcHJvdmFsXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZSAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIuZ2V0QWxsKGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsTWVtYmVycyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1lYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXJzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUxpc3QgPSBjb3VudHlMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107IC8vaG9sZGVyIG9mIHN0YXRlIGNvdW50aWVzICh3aWxsIGNoYW5nZSBhcyB0aGV5IGNoYW5nZSBzdGF0ZSBjaG9pY2UpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsSW5zdHJ1bWVudHMgPSBpbnN0cnVtZW50TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTZW5zb3JUeXBlcyA9IGFsbFNlbnNvclR5cGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcyA9IGFsbERlcFR5cGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVF1YWxzID0gaHdtUXVhbExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZXMgPSBod21UeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW5FdmVudCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlblN0YXRlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuQ291bnRpZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkSFdNcyA9IFtdOyAkc2NvcGUuc2hvd0hXTWJveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRERnMgPSBbXTsgJHNjb3BlLnNob3dERmJveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVzV09wZWFrcyA9IFtdOyAkc2NvcGUuc2hvd1BlYWtib3ggPSBmYWxzZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIGNvbnRlbnRzIGluIGNhc2UgdGhleSBhcmUgc2VhcmNoaW5nIG11bHRpcGxlIHRpbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRIV01zID0gW107ICRzY29wZS5zaG93SFdNYm94ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRERnMgPSBbXTsgJHNjb3BlLnNob3dERmJveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlc1dPcGVha3MgPSBbXTsgJHNjb3BlLnNob3dQZWFrYm94ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2SUQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzSUQgPSAkc2NvcGUuQ2hvc2VuU3RhdGUuaWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5DaG9zZW5TdGF0ZS5pZCA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNob3NlbkNvdW50aWVzID0gJHNjb3BlLkNob3NlbkNvdW50aWVzLmNvdW50aWVzICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuQ2hvc2VuQ291bnRpZXMuY291bnRpZXMgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFwcHJvdmFsU2VhcmNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUlEOiBzSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50aWVzOiBjaG9zZW5Db3VudGllc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyBnZXQgdGhlIEhXTXMgYW5kIERhdGFGaWxlcyB0aGF0IG5lZWQgdG8gYmUgYXBwcm92ZWRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnR5TmFtZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNob3NlbkNvdW50aWVzLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHlOYW1lcy5wdXNoKGMuY291bnR5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRpZXNDb21tYVNlcCA9IGNvdW50eU5hbWVzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS5nZXRVbmFwcHJvdmVkSFdNcyh7IElzQXBwcm92ZWQ6ICdmYWxzZScsIEV2ZW50OiBldklELCBTdGF0ZTogc0lELCBDb3VudGllczogY291bnRpZXNDb21tYVNlcCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCBzaXRlIG5vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZSwgZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUucXVlcnkoeyBpZDogaC5zaXRlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGguc2l0ZV9ubyA9IHNyZXNwb25zZS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGguc3RpbGx3YXRlciA9IGguc3RpbGx3YXRlciA+IDAgPyBcIlllc1wiIDogXCJOb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGguc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZEhXTXMucHVzaChoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dIV01ib3ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBod21zOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmdldFVuYXBwcm92ZWRERnMoeyBJc0FwcHJvdmVkOiAnZmFsc2UnLCBFdmVudDogZXZJRCwgU3RhdGU6IHNJRCwgQ291bnRpZXM6IGNvdW50aWVzQ29tbWFTZXAgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERGcyA9IHJlc3BvbnNlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHNlbnNvciBhbmQgc2l0ZSBpbmZvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChERnMsIGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNkZkluc3QgPSAkc2NvcGUuYWxsSW5zdHJ1bWVudHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmluc3RydW1lbnRfaWQgPT0gZGYuaW5zdHJ1bWVudF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkREYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlSUQgPSB0aGlzZGZJbnN0LnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5TaXRlSWQgPSBzaXRlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5zZW5UeXBlID0gJHNjb3BlLmFsbFNlbnNvclR5cGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfdHlwZV9pZCA9PSB0aGlzZGZJbnN0LnNlbnNvcl90eXBlX2lkOyB9KVswXS5zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwVHlwZSA9ICRzY29wZS5hbGxEZXBsb3ltZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRlcGxveW1lbnRfdHlwZV9pZCA9PSB0aGlzZGZJbnN0LmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5kZXBUeXBlID0gZGVwVHlwZSAhPT0gdW5kZWZpbmVkID8gZGVwVHlwZS5tZXRob2QgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5JbnN0cklEID0gdGhpc2RmSW5zdC5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5xdWVyeSh7IGlkOiBzaXRlSUQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuU2l0ZU5vID0gcmVzcG9uc2UyLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRERnMucHVzaChmb3JtYXR0ZWRERik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dERmJveCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBkYXRhIGZpbGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGRhdGEgZmlsZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBTSVRFLmdldFBlYWtsZXNzU2l0ZXMoeyBpZDogZXZJRCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3AyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlc1dPcGVha3MgPSByZXNwMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQZWFrYm94ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuQ2hvc2VuU3RhdGUuaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5hbGxTdGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChzdCkgeyByZXR1cm4gc3Quc3RhdGVfYWJicmV2ID09ICRzY29wZS5DaG9zZW5TdGF0ZS5pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9ICRzY29wZS5jb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoZXkgYXJlIGNvbWluZyBiYWNrIGhlcmUsIHNlZSBpZiBhIHNlYXJjaCBoYXMgYmVlbiBzdG9yZWQgbGFzdCB0aW1lLlxyXG4gICAgICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuYXBwcm92YWxTZWFyY2ggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU2VhcmNoID0gJHJvb3RTY29wZS5hcHByb3ZhbFNlYXJjaDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gTnVtYmVyKHRoaXNTZWFyY2guZXZlbnRJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlblN0YXRlLmlkID0gdGhpc1NlYXJjaC5zdGF0ZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2VhcmNoLnN0YXRlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3B1bGF0ZSB0aGUgY291bnRpZXMgYXJyYXkgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggYWxsSG91c2luZ1R5cGVMaXN0IGFuZCBhZGQgc2VsZWN0ZWQgUHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY2FJID0gMDsgY2FJIDwgJHNjb3BlLmNvdW50eUFycmF5Lmxlbmd0aDsgY2FJKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHRoaXNTaXRlSG91c2luZ3MgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjSSA9IDA7IGNJIDwgdGhpc1NlYXJjaC5jb3VudGllcy5sZW5ndGg7IGNJKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2VhcmNoLmNvdW50aWVzW2NJXS5jb3VudHlfaWQgPT0gJHNjb3BlLmNvdW50eUFycmF5W2NhSV0uY291bnR5X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5W2NhSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNJID0gdGhpc1NlYXJjaC5jb3VudGllcy5sZW5ndGg7IC8vZW5zdXJlcyBpdCBkb2Vzbid0IHNldCBpdCBhcyBmYWxzZSBhZnRlciBzZXR0aW5nIGl0IGFzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheVtjYUldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTZWFyY2guY291bnRpZXMubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5W2NhSV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlbkNvdW50aWVzLmNvdW50aWVzID0gdGhpc1NlYXJjaC5jb3VudGllcztcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpc1NlYXJjaC5jb3VudGllcywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5TmFtZXMucHVzaChjLmNvdW50eV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRpZXNDb21tYVNlcCA9IGNvdW50eU5hbWVzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2dvIGdldCB0aGUgSFdNcyBhbmQgRGF0YUZpbGVzIHRoYXQgbmVlZCB0byBiZSBhcHByb3ZlZFxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLmdldFVuYXBwcm92ZWRIV01zKHsgSXNBcHByb3ZlZDogJ2ZhbHNlJywgRXZlbnQ6IHRoaXNTZWFyY2guZXZlbnRJRCwgU3RhdGU6IHRoaXNTZWFyY2guc3RhdGVJRCwgQ291bnRpZXM6IGNvdW50aWVzQ29tbWFTZXAgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UsIGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLnF1ZXJ5KHsgaWQ6IGguc2l0ZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnNpdGVfbm8gPSBzcmVzcG9uc2Uuc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnN0aWxsd2F0ZXIgPSBoLnN0aWxsd2F0ZXIgPiAwID8gXCJZZXNcIiA6IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRIV01zLnB1c2goaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod20gc2l0ZSAoXCIgKyBoLnNpdGVfaWQgKyBcIik6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtIHNpdGUgKFwiICsgaC5zaXRlX2lkICsgXCIpOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93SFdNYm94ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBod21zOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGh3bXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZ2V0VW5hcHByb3ZlZERGcyh7IElzQXBwcm92ZWQ6ICdmYWxzZScsIEV2ZW50OiB0aGlzU2VhcmNoLmV2ZW50SUQsIFN0YXRlOiB0aGlzU2VhcmNoLnN0YXRlSUQsIENvdW50aWVzOiBjb3VudGllc0NvbW1hU2VwIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERnMgPSByZXNwb25zZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCBzZW5zb3IgYW5kIHNpdGUgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goREZzLCBmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzZGZJbnN0ID0gJHNjb3BlLmFsbEluc3RydW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5pbnN0cnVtZW50X2lkID09IGRmLmluc3RydW1lbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZERGID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZUlEID0gdGhpc2RmSW5zdC5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuU2l0ZUlkID0gc2l0ZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuc2VuVHlwZSA9ICRzY29wZS5hbGxTZW5zb3JUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2Vuc29yX3R5cGVfaWQgPT0gdGhpc2RmSW5zdC5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcFR5cGUgPSAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gdGhpc2RmSW5zdC5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuZGVwVHlwZSA9IGRlcFR5cGUgIT09IHVuZGVmaW5lZCA/IGRlcFR5cGUubWV0aG9kIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuSW5zdHJJRCA9IHRoaXNkZkluc3QuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUucXVlcnkoeyBpZDogc2l0ZUlEIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLlNpdGVObyA9IHJlc3BvbnNlMi5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkREZzLnB1c2goZm9ybWF0dGVkREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93REZib3ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgZGF0YSBmaWxlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBkYXRhIGZpbGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9vbmNlIHRoZXkgY2hlY2sgJ2FwcHJvdmUnIGNoZWNrYm94LCBzaG93IHRoZSBhcHByb3ZlIHRoZXNlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVDaGVjayA9IGZ1bmN0aW9uIChoQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoQXJyYXkuc29tZShmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGguc2VsZWN0ZWQgPT09IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZVRoZXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgY2xhc3M9J21vZGFsLWhlYWRlcic+PGgzIGNsYXNzPSdtb2RhbC10aXRsZSc+QXBwcm92ZSBIV01zPC9oMz48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGFwcHJvdmUgdGhlc2UgSFdNcz8gRG9pbmcgc28gd2lsbCByZW1vdmUgdGhlbSBmcm9tIHRoaXMgbGlzdCBvZiB1bmFwcHJvdmVkIEhXTXMuPC9wPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J2FwcHJvdmVJdCgpJz5BcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3QgPSAkc2NvcGUudW5BcHByb3ZlZEhXTXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBldmVyeW9uZSB0aGF0IGhhcyAuc2VsZWN0ZWQgPSB0cnVlLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgLnNlbGVjdGVkIHByb3BlcnR5LCByZW1vdmUgc2l0ZV9ubywgYW5kIGNoYW5nZSB0aGUgc3RpbGx3YXRlciBiYWNrIHRvIDAvMSwgYXBwcm92ZSBpdCwgd2hpY2ggc2hvdWxkIHJlbW92ZSBpdCBmcm9tIHRoaXMgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCB0aGUgc2l0ZSBubyBpbiB0aGUgZmluaXNoZWQgdGFibGUgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ29Ub1NpdGVEYXNoID0gZnVuY3Rpb24gKHNpdGVJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2hvdyB3YXJuaW5nIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhcm5pbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5XYXJuaW5nITwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPllvdSBhcmUgYWJvdXQgdG8gbGVhdmUgdGhlIEFwcHJvdmFsIHBhZ2UgYW5kIGJlIHRha2VuIHRvIHRoZSBTaXRlIERhc2hib2FyZC48YnIvPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGUgQXBwcm92YWwgcGFnZT88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZ1wiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPlllczwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cImNhbmNlbCgpXCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2l0ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzaXRlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaXRlLmRhc2hib2FyZCcsIHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gLy8gZW5kIGVsc2Ugbm90IGF1dGhcclxuICAgICAgICB9XSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAvL2xvb2sgdXAgY29tbW9uIHNlcnZpY2UgbW9kdWxlLCBhbmQgcmVnaXN0ZXIgdGhlIG5ldyBmYWN0b3J5IHdpdGggdGhhdCBtb2R1bGUgXHJcbiAgICB2YXIgU1ROUmVzb3VyY2UgPSBhbmd1bGFyLm1vZHVsZSgnU1ROUmVzb3VyY2UnLCBbJ25nUmVzb3VyY2UnXSk7XHJcblxyXG4gICAgdmFyIHJvb3RVUkwgPSBcImh0dHBzOi8vc3RuLndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlc1wiO1xyXG4gICAgLy92YXIgcm9vdFVSTCA9IFwiaHR0cHM6Ly9zdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczJcIjtcclxuICAgIC8vIHZhciByb290VVJMID0gXCJodHRwOi8vbG9jYWxob3N0L1NUTlNlcnZpY2VzMlwiO1xyXG5cclxuICAgIC8vIEdFT0NPREUgaHR0cHM6Ly9nZW9jb2RpbmcuZ2VvLmNlbnN1cy5nb3YvZ2VvY29kZXIvZ2VvZ3JhcGhpZXMvY29vcmRpbmF0ZXM/YmVuY2htYXJrPTQmdmludGFnZT00JmZvcm1hdD1qc29uXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdHRU9DT0RFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9HZW9jb2RlL2xvY2F0aW9uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIGdldEFkZHJlc3NQYXJ0czogeyBtZXRob2Q6ICdHRVQnLCBwYXJhbXM6IHsgTGF0aXR1ZGU6ICdATGF0aXR1ZGUnLCBMb25naXR1ZGU6ICdATG9uZ2l0dWRlJyB9IH0gLy95PTI4LjM1OTc1Jng9LTgxLjQyMTk4OFxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEFHRU5DWVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnQUdFTkNZJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9BZ2VuY2llcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBDT05UQUNUX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0NPTlRBQ1RfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvQ29udGFjdFR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIENPTlRBQ1RcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0NPTlRBQ1QnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0NvbnRhY3RzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldENvbnRhY3RNb2RlbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBDT1VOVElFU1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnQ09VTlRJRVMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0NvdW50aWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIERBVEFfRklMRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnREFUQV9GSUxFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9EYXRhRmlsZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldERGQXBwcm92YWw6IHsgbWV0aG9kOiAnR0VUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9EYXRhRmlsZXMvOmlkL0FwcHJvdmFsLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRVbmFwcHJvdmVkREZzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIGNhY2hlOiBmYWxzZSB9LCAvLz9Jc0FwcHJvdmVkPXthcHByb3ZlZH0mRXZlbnQ9e2V2ZW50SWR9JkNvdW50aWVzPXtjb3VudGllc30mU3RhdGU9e3N0YXRlfVxyXG4gICAgICAgICAgICAgICAgZ2V0RXZlbnREYXRhVmlldzogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCBjYWNoZTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvRGF0YUZpbGVWaWV3P0V2ZW50SWQ9OmV2ZW50SWQnIH0sXHJcbiAgICAgICAgICAgICAgICBydW5TdG9ybVNjcmlwdDogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL0RhdGFGaWxlcy9SdW5TdG9ybVNjcmlwdD9TZWFEYXRhRmlsZUlEPTpzZWFERklEJkFpckRhdGFGaWxlSUQ9OmFpckRGSUQmSGVydHo9OmhlcnR6JlVzZXJuYW1lPTp1c2VybmFtZScgfSxcclxuICAgICAgICAgICAgICAgIHJ1bkFpclNjcmlwdDogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL0RhdGFGaWxlcy9SdW5BaXJTY3JpcHQ/QWlyRGF0YUZpbGVJRD06YWlyREZJRCZVc2VybmFtZT06dXNlcm5hbWUnIH0sXHJcbiAgICAgICAgICAgICAgICBydW5DaG9wcGVyU2NyaXB0OiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6IHJvb3RVUkwgKyAnL0ZpbGVzL1J1bkNob3BwZXJTY3JpcHQnLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSwgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSwgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LCAvLz9TZW5zb3JJZD06c2Vuc29ySWQmRmlsZU5hbWU9OmZpbGVOYW1lXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZlREY6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHBhcmFtczogeyBpZDogJ0BpZCcgfSwgdXJsOiByb290VVJMICsgJy9kYXRhZmlsZXMvOmlkL0FwcHJvdmUuanNvbicgfSwgLy9wb3N0cyBhbiBBUFBST1ZBTCwgdXBkYXRlcyB0aGUgZGF0YSBmaWxlIHdpdGggYXBwcm92YWxfaWQgYW5kIHJldHVybnMgQVBQUk9WQUxcclxuICAgICAgICAgICAgICAgIGFwcHJvdmVOV0lTREY6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHBhcmFtczogeyBpZDogJ0BpZCcgfSwgdXJsOiByb290VVJMICsgJy9kYXRhZmlsZXMvOmlkL05XSVNBcHByb3ZlLmpzb24nIH0sIC8vcG9zdHMgYW4gQVBQUk9WQUwgKHVzaW5nIEV2ZW50Q29vcmQpLCB1cGRhdGVzIHRoZSBkYXRhIGZpbGUgd2l0aCBhcHByb3ZhbF9pZCBhbmQgcmV0dXJucyBBUFBST1ZBTFxyXG4gICAgICAgICAgICAgICAgdW5BcHByb3ZlREY6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9kYXRhZmlsZXMvOmlkL1VuYXBwcm92ZS5qc29uJyB9LCAvL3Bvc3RzIGFuIEFQUFJPVkFMLCB1cGRhdGVzIHRoZSBkYXRhZmlsZSB3aXRoIGFwcHJvdmFsX2lkIGFuZCByZXR1cm5zIEFQUFJPVkFMXHJcbiAgICAgICAgICAgICAgICBzdG9ybVNjcmlwdDogeyBtZXRob2Q6ICdHRVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL0RhdGFGaWxlcy9SdW5TY3JpcHQ/U2VhRGF0YUZpbGVJRD06c2VhRGF0YUZpbGVJZCZBaXJEYXRhRmlsZUlEPTphaXJEYXRhRmlsZUlkJkhlcnR6PTpoZXJ0eiZVc2VybmFtZT11c2VybmFtZScgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gREVQTE9ZTUVOVF9QUklPUklUWVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnREVQTE9ZTUVOVF9QUklPUklUWScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRGVwbG95bWVudFByaW9yaXRpZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gREVQTE9ZTUVOVF9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdERVBMT1lNRU5UX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0RlcGxveW1lbnRUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXREZXBTZW5zVHlwZTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9EZXBsb3ltZW50VHlwZXMvOmlkL1NlbnNvclR5cGUuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEVWRU5UXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdFVkVOVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRXZlbnRzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRFdmVudFNpdGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvRXZlbnRzLzppZC9TaXRlcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RmlsdGVyZWRFdmVudHM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9FdmVudHMvRmlsdGVyZWRFdmVudHMuanNvbicgfSwgLy8/RGF0ZTogbnVsbCwgVHlwZTogMCwgU3RhdGU6IG51bGxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gRVZFTlRfU1RBVFVTXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdFVkVOVF9TVEFUVVMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0V2ZW50U3RhdHVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEVWRU5UX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0VWRU5UX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0V2ZW50VHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gRklMRSAgICBcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0ZJTEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0ZpbGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRGaWxlSXRlbTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9GaWxlcy86aWQvSXRlbScgfSxcclxuICAgICAgICAgICAgICAgIGdldFRFU1RkYXRhOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvRmlsZXMvdGVzdERhdGFGaWxlJyB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHVwbG9hZEZpbGU6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogcm9vdFVSTCArICcvRmlsZXMvYnl0ZXMnLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSwgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSwgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRaaXA6IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLCByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsIGNhY2hlOiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9FdmVudHMvOmV2ZW50SWQvRXZlbnRGaWxlSXRlbXMnXHJcbiAgICAgICAgICAgICAgICB9LC8vP0hXTUZpbGVzPXtod21GaWxlc30mSFdNRmlsZVR5cGU9e2h3bUZpbGVUeXBlc30mU2Vuc29yRmlsZXM9e3NlbnNvckZpbGVzfSZTZW5zb3JGaWxlVHlwZXM9e3NlbnNvckZpbGVUeXBlc31cIlxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIHBob3RvRmlsZVN0YW1wXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdGSUxFX1NUQU1QJywgWyckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRyb290U2NvcGUpIHtcclxuICAgICAgICAvL25lZWQgdG8gdXBkYXRlIHRoZSBuZy1zcmMgb24gcGhvdG8gZmlsZXMgaWYgb25lIGNoYW5nZXMsIHVwZGF0ZSB0aGUgc3RhbXAgcGFydCBvZiB0aGUgaW1hZ2UgdG8gcmVmcmVzaCB0aGUgbGluayAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0U3RhbXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFtcCA9ICc/JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YW1wO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRTdGFtcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YW1wID0gJz8nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2ZpbGVTdGFtcFNldCcsIHN0YW1wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBGSUxFX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0ZJTEVfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRmlsZVR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhPUklaT05UQUxfQ09MTF9NRVRIT0RTXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIT1JJWk9OVEFMX0NPTExfTUVUSE9EUycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSG9yaXpvbnRhbE1ldGhvZHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSE9SSVpPTlRBTF9EQVRVTVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSE9SSVpPTlRBTF9EQVRVTScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSG9yaXpvbnRhbERhdHVtcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIT1VTSU5HX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hPVVNJTkdfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSG91c2luZ1R5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhXTVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSFdNJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9od21zLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRFdmVudFN0YXRlSFdNczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0V2ZW50cy86ZXZlbnRJZC9zdGF0ZUhXTXMuanNvbj9TdGF0ZT06c3RhdGUnIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRFdmVudFNpdGVIV01zOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOnNpdGVJZC9FdmVudEhXTXMuanNvbicgfSwvLz9FdmVudD06ZXZlbnRJZFxyXG4gICAgICAgICAgICAgICAgZ2V0RmlsdGVyZWRIV01zOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvSFdNcy9GaWx0ZXJlZEhXTXMuanNvbicgfSwgLy9FdmVudD17ZXZlbnRJZHN9JkV2ZW50VHlwZT17ZXZlbnRUeXBlSURzfSZFdmVudFN0YXR1cz17ZXZlbnRTdGF0dXNJRH0mU3RhdGVzPXtzdGF0ZXN9JkNvdW50eT17Y291bnRpZXN9JkhXTVR5cGU9e2h3bVR5cGVJRHN9JkhXTVF1YWxpdHk9e2h3bVF1YWxJRHN9JkhXTUVudmlyb25tZW50PXtod21FbnZpcm9ubWVudH0mU3VydmV5Q29tcGxldGU9e3N1cnZleUNvbXBsZXRlfSZTdGlsbFdhdGVyPXtzdGlsbFdhdGVyfVxyXG4gICAgICAgICAgICAgICAgZ2V0VW5hcHByb3ZlZEhXTXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgY2FjaGU6IGZhbHNlIH0sIC8vSXNBcHByb3ZlZD17J3RydWUnLydmYWxzZSd9JkV2ZW50PXtldmVudElkfSZNZW1iZXI9e21lbWJlcklkfSZTdGF0ZT17c3RhdGV9XHJcbiAgICAgICAgICAgICAgICBnZXRIV01BcHByb3ZhbDogeyBtZXRob2Q6ICdHRVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL2h3bXMvOmlkL0FwcHJvdmFsLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZlSFdNOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCBwYXJhbXM6IHsgaWQ6ICdAaWQnIH0sIHVybDogcm9vdFVSTCArICcvaHdtcy86aWQvQXBwcm92ZS5qc29uJyB9LCAvL3Bvc3RzIGFuIEFQUFJPVkFMLCB1cGRhdGVzIHRoZSBIV00gd2l0aCBhcHByb3ZhbF9pZCBhbmQgcmV0dXJucyBBUFBST1ZBTFxyXG4gICAgICAgICAgICAgICAgdW5BcHByb3ZlSFdNOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvaHdtcy86aWQvVW5hcHByb3ZlLmpzb24nIH0sIC8vcG9zdHMgYW4gQVBQUk9WQUwsIHVwZGF0ZXMgdGhlIEhXTSB3aXRoIGFwcHJvdmFsX2lkIGFuZCByZXR1cm5zIEFQUFJPVkFMXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhXTV9TZXJ2aWNlXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIV01fU2VydmljZScsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy93aGVuIGh3bSBpcyBjcmVhdGVkIG9yIGRlbGV0ZWQsIHRoaXMgZ2V0cyB1cGRhdGVkIHNvIHRoYXQgZmlsZXNDdHJsIHdpbGwgdXBkYXRlIGl0J3MgbGlzdCBvZiBzaXRlSFdNc1xyXG4gICAgICAgIHZhciBhbGxTaXRlSFdNcyA9IFtdOyB2YXIgYnVsa1NlYXJjaCA9IHt9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldEFsbFNpdGVIV01zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxsU2l0ZUhXTXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEFsbFNpdGVIV01zOiBmdW5jdGlvbiAoc2gpIHtcclxuICAgICAgICAgICAgICAgIGFsbFNpdGVIV01zID0gc2g7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEJ1bGtIV01TZWFyY2g6IGZ1bmN0aW9uIChzZWFyY2hUZXJtcykge1xyXG4gICAgICAgICAgICAgICAgYnVsa1NlYXJjaCA9IHNlYXJjaFRlcm1zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRCdWxrSFdNU2VhcmNoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVsa1NlYXJjaDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSFdNX1FVQUxJVFlcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hXTV9RVUFMSVRZJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9IV01RdWFsaXRpZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSFdNX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hXTV9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9IV01UeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBJTlNUUlVNRU5UXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdJTlNUUlVNRU5UJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9JbnN0cnVtZW50cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0U2Vuc29yVmlldzogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NlbnNvclZpZXdzLmpzb24nIH0sIC8vP1ZpZXdUeXBlPXt9JkV2ZW50PXt9XHJcbiAgICAgICAgICAgICAgICBnZXRzdGF0dXNJbnN0cnVtZW50czogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0luc3RydW1lbnRzLmpzb24nIH0sIC8vQ3VycmVudFN0YXR1czogMSwgRXZlbnQ6ICRzY29wZS5ldklEIFxyXG4gICAgICAgICAgICAgICAgZ2V0RnVsbEluc3RydW1lbnQ6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9JbnN0cnVtZW50cy86aWQvRnVsbEluc3RydW1lbnQuanNvbicgfSwgLy9nZXRzIGluc3RydW1lbnQgYW5kIGl0J3Mgc3RhdHMgdG9nZXRoZXJcclxuICAgICAgICAgICAgICAgIGdldEluc3RydW1lbnRTdGF0dXM6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9JbnN0cnVtZW50cy86aWQvSW5zdHJ1bWVudFN0YXR1cy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBJbnN0cnVtZW50X1NlcnZpY2VcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0luc3RydW1lbnRfU2VydmljZScsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy93aGVuIGh3bSBpcyBjcmVhdGVkIG9yIGRlbGV0ZWQsIHRoaXMgZ2V0cyB1cGRhdGVkIHNvIHRoYXQgZmlsZXNDdHJsIHdpbGwgdXBkYXRlIGl0J3MgbGlzdCBvZiBzaXRlSFdNc1xyXG4gICAgICAgIHZhciBhbGxTaXRlU2Vuc29ycyA9IFtdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldEFsbFNpdGVTZW5zb3JzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxsU2l0ZVNlbnNvcnM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEFsbFNpdGVTZW5zb3JzOiBmdW5jdGlvbiAoc3MpIHtcclxuICAgICAgICAgICAgICAgIGFsbFNpdGVTZW5zb3JzID0gc3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSU5TVFJVTUVOVF9TVEFUVVNcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0lOU1RSVU1FTlRfU1RBVFVTJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9JbnN0cnVtZW50U3RhdHVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIElOU1RfQ09MTF9DT05ESVRJT05cclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0lOU1RfQ09MTF9DT05ESVRJT04nLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0luc3RyQ29sbGVjdENvbmRpdGlvbnMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTEFORE9XTkVSX0NPTlRBQ1RcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0xBTkRPV05FUl9DT05UQUNUJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9MYW5kT3duZXJzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE1hcF9TaXRlXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdNYXBfU2l0ZScsIFsnU0lURScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgZnVuY3Rpb24gKFNJVEUsICRyb290U2NvcGUsICRjb29raWVzKSB7XHJcbiAgICAgICAgdmFyIE1hcFNpdGVQYXJ0cyA9IFtdO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRNYXBTaXRlUGFydHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXBTaXRlUGFydHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldE1hcFNpdGVQYXJ0czogZnVuY3Rpb24gKHNpdGVJZCkge1xyXG4gICAgICAgICAgICAgICAgTWFwU2l0ZVBhcnRzID0gW107XHJcbiAgICAgICAgICAgICAgICBTSVRFLnF1ZXJ5KHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1hcFNpdGVQYXJ0cy5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBTSVRFLmdldFNpdGVQZWFrcyh7IGlkOiBzaXRlSWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hcFNpdGVQYXJ0cy5wdXNoKHBSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnbWFwU2l0ZUNsaWNrUmVzdWx0cycsIE1hcFNpdGVQYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBwZWFrOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIE1hcF9maWx0ZXJcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ01hcF9GaWx0ZXInLCBbJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG4gICAgICAgIHZhciBmaWx0ZXJlZFNpdGVzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vIGdldEZpbHRlcmVkU2l0ZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiBmaWx0ZXJlZFNpdGVzO1xyXG4gICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICBzZXRGaWx0ZXJlZFNpdGVzOiBmdW5jdGlvbiAoc2l0ZXNBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTaXRlcyA9IHNpdGVzQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2ZpbHRlclNpdGVzQ2xpY2snLCBmaWx0ZXJlZFNpdGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBNQVJLRVJcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ01BUktFUicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvTWFya2Vycy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBNRU1CRVJcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ01FTUJFUicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvTWVtYmVycy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0Um9sZU1lbWJlcnM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9Sb2xlcy86cm9sZUlkL01lbWJlcnMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldEV2ZW50UGVvcGxlOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvRXZlbnRzLzpFdmVudGlkL01lbWJlcnMuanNvbicgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VQVzogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9NZW1iZXJzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBhZGRNZW1iZXI6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvTWVtYmVycy86cGFzcy9hZGRNZW1iZXInIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlTWVtYmVyOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvTWVtYmVycy86aWQnIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBORVRXT1JLX05BTUVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ05FVFdPUktfTkFNRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvTmV0d29ya05hbWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE5FVFdPUktfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTkVUV09SS19UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9OZXR3b3JrVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gT0JKRUNUSVZFX1BPSU5UXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdPQkpFQ1RJVkVfUE9JTlQnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL09iamVjdGl2ZVBvaW50cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGdldE9QRmlsZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgXCIvT2JqZWN0aXZlUG9pbnRzLzppZC9GaWxlc1wiIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRPUENvbnRyb2xzOiB7IG1ldGhvZDogJ0dFVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgXCIvT2JqZWN0aXZlUG9pbnRzLzppZC9PUENvbnRyb2xzLmpzb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE9QX0NPTlRST0xfSURFTlRJRklFUlxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnT1BfQ09OVFJPTF9JREVOVElGSUVSJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9PUENvbnRyb2xJZGVudGlmaWVycy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBPUF9NRUFTVVJFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdPUF9NRUFTVVJFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9PUE1lYXN1cmVtZW50cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0SW5zdFN0YXRPUE1lYXN1cmVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvSW5zdHJ1bWVudFN0YXR1cy86aW5zdHJ1bWVudFN0YXR1c0lkL09QTWVhc3VyZW1lbnRzJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RGF0dW1Mb2NhdGlvbk9QTWVhc3VyZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9PYmplY3RpdmVQb2ludHMvOm9iamVjdGl2ZVBvaW50SWQvT1BNZWFzdXJlbWVudHMnIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE9QX1FVQUxJVFlcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ09QX1FVQUxJVFknLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL09iamVjdGl2ZVBvaW50UXVhbGl0aWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE9QX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ09QX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL09QVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gUEVBS1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnUEVBSycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvUGVha1N1bW1hcmllcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0UGVha1N1bW1hcnlERnM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgY2FjaGU6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL1BlYWtTdW1tYXJpZXMvOmlkL0RhdGFGaWxlcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBSRVBPUlRcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1JFUE9SVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvUmVwb3J0aW5nTWV0cmljcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRSZXBvcnRCeUV2U3Q6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RGFpbHlSZXBvcnRUb3RzOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvUmVwb3J0aW5nTWV0cmljcy9EYWlseVJlcG9ydFRvdGFscycgfSxcclxuICAgICAgICAgICAgICAgIGdldE1lbWJlclJlcG9ydHM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9NZW1iZXJzLzptZW1iZXJJZC9SZXBvcnRzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRGaWx0ZXJlZFJlcG9ydHM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9SZXBvcnRpbmdNZXRyaWNzL0ZpbHRlcmVkUmVwb3J0cy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0UmVwb3J0d2l0aENvbnRhY3RzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvUmVwb3J0UmVzb3VyY2UvRmlsdGVyZWRSZXBvcnRNb2RlbC5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0UmVwb3J0c0NTVjogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL1JlcG9ydGluZ01ldHJpY3MvRmlsdGVyZWRSZXBvcnRzLmNzdicgfSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgYWRkUmVwb3J0Q29udGFjdDogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgcGFyYW1zOiB7IFJlcG9ydElkOiAnQHJlcG9ydElkJywgQ29udGFjdFR5cGVJZDogJ0Bjb250YWN0VHlwZUlkJyB9LCB1cmw6IHJvb3RVUkwgKyAnL1JlcG9ydGluZ01ldHJpY3MvOnJlcG9ydElkL0FkZENvbnRhY3RUeXBlLzpjb250YWN0VHlwZUlkJyB9LCAvL2NvbnRhY3QgZW50aXR5IGluIGJvZHkgXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gUk9MRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnUk9MRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvUm9sZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNFTlNPUl9CUkFORFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU0VOU09SX0JSQU5EJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TZW5zb3JCcmFuZHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU0VOU09SX0RFUExPWU1FTlQgLS0tIG5vIGxvbmdlciBuZWVkZWQgc2luY2UgU0VOU09SX1RZUEUgcmV0dXJucyBhcyB0aGlzIHJlbGF0aW9uc2hpcCBub3dcclxuICAgIC8vU1ROUmVzb3VyY2UuZmFjdG9yeSgnU0VOU09SX0RFUExPWU1FTlQnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgIC8vICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU2Vuc29yRGVwbG95bWVudHMvOmlkLmpzb24nLFxyXG4gICAgLy8gICAgICAgIHt9LCB7XHJcbiAgICAvLyAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgIC8vICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSwgICAgICAgICAgICAgICBcclxuICAgIC8vICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgIC8vICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgLy8gICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAvLyAgICAgICAgfSk7XHJcbiAgICAvL31dKTtcclxuXHJcbiAgICAvLyBTRU5TT1JfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU0VOU09SX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1NlbnNvclR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sIC8vdGhpcyByZXR1cm5zIHNlbnNvcnR5cGVzIHdpdGggbGlzdCBvZiBkZXBsb3ltZW50dHlwZXMgZm9yIGVhY2ggb25lXHJcbiAgICAgICAgICAgICAgICBnZXRTZW5zb3JEZXBsb3ltZW50VHlwZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TZW5zb3JUeXBlcy86aWQvRGVwbG95bWVudFR5cGVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBhZGRTZW5zb3JEZXBsb3ltZW50VHlwZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiB0cnVlLCBwYXJhbXM6IHsgc2Vuc29yVHlwZUlkOiAnQHNlbnNvclR5cGVJZCcsIERlcGxveW1lbnRUeXBlSWQ6ICdAZGVwbG95bWVudFR5cGVJZCcgfSwgdXJsOiByb290VVJMICsgJy9TZW5zb3JUeXBlcy86c2Vuc29yVHlwZUlkL2FkZERlcGxveW1lbnRUeXBlJyB9LC8vP0RlcGxveW1lbnRUeXBlSWQ9e2RlcGxveW1lbnRUeXBlSWR9XCJcclxuICAgICAgICAgICAgICAgIHJlbW92ZVNlbnNvckRlcGxveW1lbnRUeXBlOiB7IG1ldGhvZDogJ1BPU1QnLCBpc0FycmF5OiBmYWxzZSwgcGFyYW1zOiB7IHNlbnNvclR5cGVJZDogJ0BzZW5zb3JUeXBlSWQnLCBEZXBsb3ltZW50VHlwZUlkOiAnQGRlcGxveW1lbnRUeXBlSWQnIH0sIHVybDogcm9vdFVSTCArICcvU2Vuc29yVHlwZXMvOnNlbnNvclR5cGVJZC9yZW1vdmVEZXBsb3ltZW50VHlwZScgfSwvLz9EZXBsb3ltZW50VHlwZUlkPXtkZXBsb3ltZW50VHlwZUlkfVwiXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNJVEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NJVEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1NpdGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIHNlbnNvclNjcmlwdFJ1bm5pbmc6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2UsIHRyYW5zZm9ybVJlc3BvbnNlOiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4geyB2YWx1ZTogYW5ndWxhci5mcm9tSnNvbihkYXRhKSB9IH0sIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL0dldERhdGFGaWxlU2NyaXB0Lmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRQcm94aW1pdHlTaXRlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCBwYXJhbXM6IHsgTGF0aXR1ZGU6ICdAbGF0aXR1ZGUnLCBMb25naXR1ZGU6ICdAbG9uZ2l0dWRlJywgQnVmZmVyOiAnQGJ1ZmZlcicgfSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldFNlYXJjaGVkU2l0ZTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy9TZWFyY2gnIH0sIC8vP2J5U2l0ZU5vPXtzaXRlTm99JmJ5U2l0ZU5hbWU9e3NpdGVOYW1lfSZieVNpdGVJZD17c2l0ZUlkfSAob25seSBnb2luZyB0byBwb3B1bGF0ZSAxIG9mIHRoZXNlIHBhcmFtc1xyXG4gICAgICAgICAgICAgICAgZ2V0RmlsdGVyZWRTaXRlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzL0ZpbHRlcmVkU2l0ZXMuanNvbicgfSwgLy9hY2NlcHRzIG9wdGlvbmFsIHBhcmFtZXRlcnM6IEV2ZW50PXtldmVudElkfSZTdGF0ZT17c3RhdGVOYW1lc30mU2Vuc29yVHlwZT17c2Vuc29yVHlwZUlkfSZOZXR3b3JrTmFtZT17bmV0d29ya05hbWVJZH0mT1BEZWZpbmVkPXtvcERlZmluZWR9JkhXTU9ubHk9e2h3bU9ubHlTaXRlc30mJkhXTVN1cnZleWVkPXtzdXJ2ZXllZEhXTXN9XHJcbiAgICAgICAgICAgICAgICAvL2xhbmRvd25lclxyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZUxhbmRPd25lcjogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9MYW5kT3duZXIuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIC8vU2l0ZSBOZXR3b3JrVHlwZXNcclxuICAgICAgICAgICAgICAgIGdldFNpdGVOZXR3b3JrVHlwZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86aWQvbmV0d29ya1R5cGVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBwb3N0U2l0ZU5ldHdvcmtUeXBlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIHBhcmFtczogeyBzaXRlSWQ6ICdAc2l0ZUlkJywgTmV0d29ya1R5cGVJZDogJ0BuZXR3b3JrVHlwZUlkJyB9LCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzpzaXRlSWQvQWRkTmV0d29ya1R5cGUnIH0sIC8vP05ldHdvcmtUeXBlSWQ9IHtuZXR3b3JrVHlwZUlkfVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlU2l0ZU5ldHdvcmtUeXBlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOnNpdGVJZC9yZW1vdmVOZXR3b3JrVHlwZT9OZXR3b3JrVHlwZUlkPTpuZXR3b3JrVHlwZUlkJyB9LFxyXG4gICAgICAgICAgICAgICAgLy9TaXRlIE5ldHdvcmsgTmFtZXNcclxuICAgICAgICAgICAgICAgIGdldFNpdGVOZXR3b3JrTmFtZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86aWQvbmV0d29ya05hbWVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBwb3N0U2l0ZU5ldHdvcmtOYW1lOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIHBhcmFtczogeyBzaXRlSWQ6ICdAc2l0ZUlkJywgTmV0d29ya05hbWVJZDogJ0BuZXR3b3JrTmFtZUlkJyB9LCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzpzaXRlSWQvQWRkTmV0d29ya05hbWUnIH0sIC8vP05ldHdvcmtOYW1lSWQ9IHtuZXR3b3JrTmFtZUlkfVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlU2l0ZU5ldHdvcmtOYW1lOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOnNpdGVJZC9yZW1vdmVOZXR3b3JrTmFtZT9OZXR3b3JrTmFtZUlkPTpuZXR3b3JrTmFtZUlkJyB9LFxyXG4gICAgICAgICAgICAgICAgLy9TaXRlIEhvdXNpbmdzXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlSG91c2luZ3M6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86aWQvU2l0ZUhvdXNpbmdzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAvLyAgcG9zdFNpdGVIb3VzaW5nOiB7bWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTp0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGUvOmlkL0FkZFNpdGVTaXRlSG91c2luZy5qc29uJ30sXHJcbiAgICAgICAgICAgICAgICAvL1NpdGUgUGFydHNcclxuICAgICAgICAgICAgICAgIGdldFNpdGVPUHM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvT2JqZWN0aXZlUG9pbnRzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlU2Vuc29yczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9TaXRlRnVsbEluc3RydW1lbnRMaXN0Lmpzb24nIH0sIC8vYWxsIGluc3RydW1lbnRzIGFuZCB0aGVpciBzdGF0cyB0b2dldGhlclxyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZUhXTXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvSFdNcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZUZpbGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL0ZpbGVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlUGVha3M6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvUGVha1N1bW1hcnlWaWV3Lmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRQZWFrbGVzc1NpdGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvRXZlbnRzLzppZC9QZWFrbGVzc1NpdGVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAvL2p1c3QgdGhlIFNpdGVcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vIElzU2NyaXB0UnVubmluZyBTZXJ2aWNlXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTaXRlX1NjcmlwdCcsIFsnJGNvb2tpZXMnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkY29va2llcywgJHJvb3RTY29wZSkge1xyXG4gICAgICAgIHZhciBpc1J1bm5pbmc7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0SXNTY3JpcHRSdW5uaW5nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNSdW5uaW5nO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRJc1NjcmlwdFJ1bm5pbmc6IGZ1bmN0aW9uIChydW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpc1J1bm5pbmcgPSBydW5uaW5nO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdzaXRlREZTY3JpcHRSdW5uaW5nJywgaXNSdW5uaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTaXRlX0ZpbGVzXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTaXRlX0ZpbGVzJywgWyckY29va2llcycsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRjb29raWVzLCAkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgdmFyIGFsbFNpdGVGaWxlcyA9IFtdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldEFsbFNpdGVGaWxlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbFNpdGVGaWxlcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0QWxsU2l0ZUZpbGVzOiBmdW5jdGlvbiAoc2YpIHtcclxuICAgICAgICAgICAgICAgIGFsbFNpdGVGaWxlcyA9IHNmO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdzaXRlRmlsZXNVcGRhdGVkJywgYWxsU2l0ZUZpbGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTVEFURVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU1RBVEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1N0YXRlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTSVRFX0hPVVNJTkdcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NJVEVfSE9VU0lORycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU2l0ZUhvdXNpbmdzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNUQVRVU19UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTVEFUVVNfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU3RhdHVzVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU09VUkNFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTT1VSQ0UnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1NvdXJjZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gVkVSVElDQUxfQ09MTF9NRVRIT0RcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9WZXJ0aWNhbE1ldGhvZHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gVkVSVElDQUxfREFUVU1cclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1ZFUlRJQ0FMX0RBVFVNJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9WZXJ0aWNhbERhdHVtcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBMb2dpblxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTG9naW4nLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL2xvZ2luJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIGxvZ2luOiB7IG1ldGhvZDogJ0dFVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGdldE5ld3NGZWVkOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArIFwiL0NvbmZsdWVuY2UvU1ROTmV3c0ZlZWRcIiB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkJ1c2luZXNzU2VydmljZXMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQnVzaW5lc3NTZXJ2aWNlcycsIFsnbmdDb29raWVzJ10pO1xyXG5cclxuICAgIC8vI3JlZ2lvbiBTRVRURVJTXHJcbiAgICAvL3NldCB0aGUgY3JlZGVudGlhbHMgKGVuY29kZWRUb2tlbiwgdXNlcm5hbWUsIHVzZXJzTmFtZSwgdXNlcnNSb2xlKSAgd2hlbiB1c2VyIGxvZ3MgaW5cclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnc2V0Q3JlZHMnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh1biwgcHcsIHVzZXJOYW1lLCB1c2VyUm9sZSwgdXNlcklEKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHVuLmNvbmNhdChcIjpcIiwgcHcpO1xyXG4gICAgICAgICAgICAkY29va2llcy5TVE5DcmVkcyA9IHRva2VuO1xyXG5cclxuICAgICAgICAgICAgJGNvb2tpZXMuU1ROVXNlcm5hbWUgPSB1bjtcclxuICAgICAgICAgICAgJGNvb2tpZXMudXNlcnNOYW1lID0gdXNlck5hbWU7XHJcbiAgICAgICAgICAgICRjb29raWVzLm1JRCA9IHVzZXJJRDtcclxuICAgICAgICAgICAgdmFyIHJvbGVOYW1lO1xyXG4gICAgICAgICAgICBzd2l0Y2godXNlclJvbGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiQWRtaW5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJGaWVsZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJQdWJsaWNcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkNpdGl6ZW5NYW5hZ2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGNvb2tpZXMudXNlcnNSb2xlID0gcm9sZU5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3NldCB0aGUgZXZlbnQgdGhleSBjaG9vc2UgZnJvbSBob21lIHBhZ2UsIGxvb2tlZCBmb3IgdGhyb3VnaCBvdXQgYXBwXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ3NldFNlc3Npb25FdmVudCcsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGV2SWQsIGV2TmFtZSkge1xyXG4gICAgICAgICAgICAkY29va2llcy5TZXNzaW9uRXZlbnRJRCA9IGV2SWQ7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNlc3Npb25FdmVudE5hbWUgPSBldk5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3NldCB0aGUgdGVhbSB0aGV5IGNob29zZSBmcm9tIGhvbWUgcGFnZSwgbG9va2VkIGZvciB0aHJvdWdoIG91dCBhcHBcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnc2V0U2Vzc2lvblRlYW0nLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0SWQsIHROYW1lKSB7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNlc3Npb25UZWFJRCA9IHRJZDtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU2Vzc2lvblRlYW1OYW1lID0gdE5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ3NldExvZ2dlZEluJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHZhciBsb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dnZWRJbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2hhbmdlTG9nZ2VkSW46IGZ1bmN0aW9uIChZZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZWRJbiA9IFllc09yTm87XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvLyNlbmRyZWdpb24gU0VUVEVSU1xyXG5cclxuICAgIC8vI3JlZ2lvbiBHRVRURVJTXHJcbiAgICAvL2NoZWNrIHRoZSBzdGF0dXMgb2YgdXNlcidzIGNyZWRlbnRpYWxzLiBpZiByZXR1cm4gZmFsc2UgPSByZWRpcmVjdCB0byBsb2dpbiBcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnY2hlY2tDcmVkcycsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBTVE5DcmVkcyA9ICRjb29raWVzLlNUTkNyZWRzO1xyXG5cclxuICAgICAgICAgICAgaWYgKFNUTkNyZWRzICE9PSB1bmRlZmluZWQgJiYgU1ROQ3JlZHMgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vcmV0cmlldmUgdXNlcidzICd0b2tlbicgZnJvbSBjb29raWVcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnZ2V0Q3JlZHMnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciBTVE5DcmVkcyA9ICRjb29raWVzLlNUTkNyZWRzO1xyXG5cclxuICAgICAgICAgICAgaWYgKFNUTkNyZWRzICE9PSB1bmRlZmluZWQgJiYgU1ROQ3JlZHMgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IGJ0b2EoU1ROQ3JlZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3JldHJpZXZlIHVzZXIgZnJvbSBjb29raWVcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnZ2V0VXNlcnNOQU1FJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgdXNlc05hbWUgPSAkY29va2llcy51c2Vyc05hbWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodXNlc05hbWUgIT09IHVuZGVmaW5lZCAmJiB1c2VzTmFtZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdXNlc05hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vcmV0cmlldmUgdXNlcnMgSUQgZnJvbSBjb29raWVcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnZ2V0VXNlcklEJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgdXNlcklEID0gJGNvb2tpZXMubUlEO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXJJRCAhPT0gdW5kZWZpbmVkICYmIHVzZXJJRCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdXNlcklEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL2dldCB0aGUgdXNlcm5hbWUgdG8gdXNlIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2dldFVzZXJuYW1lJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgU1ROVXNlcm5hbWUgPSAkY29va2llcy5TVE5Vc2VybmFtZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChTVE5Vc2VybmFtZSAhPT0gdW5kZWZpbmVkICYmIFNUTlVzZXJuYW1lICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSBTVE5Vc2VybmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9nZXQgdGhlIFJvbGUgdG8gdXNlIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2dldFVzZXJSb2xlJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgdXNlclJvbGUgPSAkY29va2llcy51c2Vyc1JvbGU7XHJcblxyXG4gICAgICAgICAgICBpZiAodXNlclJvbGUgIT09IHVuZGVmaW5lZCAmJiB1c2VyUm9sZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdXNlclJvbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8jZW5kcmVnaW9uIEdFVFRFUlNcclxuXHJcbiAgICAvL0RFTEVURS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy9kZWxldGUgdGhlIGNyZWRlbnRpYWxzXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2RlbGV0ZUNyZWRzJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNUTkNyZWRzID0gXCJcIjtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU1ROVXNlcm5hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAkY29va2llcy51c2Vyc05hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAkY29va2llcy51c2Vyc1JvbGUgPSBcIlwiO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICAvL3BvcHVwIGNvbmZpcm0gYm94XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0NvbmZpcm1Nb2RhbEN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICduYW1lVG9SZW1vdmUnLCAnd2hhdCcsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBuYW1lVG9SZW1vdmUsIHdoYXQpIHtcclxuICAgICAgICAgICAgLy8jcmVnaW9uIHN3aXRjaCAobG9uZylcclxuICAgICAgICAgICAgc3dpdGNoICh3aGF0KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTWVtYmVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5mbmFtZSArIFwiIFwiICsgbmFtZVRvUmVtb3ZlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkV2ZW50XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkFnZW5jeVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ29udGFjdCBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRlcGxveW1lbnQgUHJpb3JpdHlcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnByaW9yaXR5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRXZlbnQgU3RhdHVzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRmlsZSBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIb3Jpem9udGFsIENvbGxlY3Rpb24gTWV0aG9kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5oY29sbGVjdF9tZXRob2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG9yaXpvbnRhbCBEYXR1bVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuZGF0dW1fbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIb3VzaW5nIFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnR5cGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIV00gUXVhbGl0eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuaHdtX3F1YWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSFdNIFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmh3bV90eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkluc3RydW1lbnQgQ29sbGVjdGlvbiBDb25kaXRpb25cIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJNYXJrZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLm1hcmtlcjE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmV0d29yayBOYW1lXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk9iamVjdGl2ZSBQb2ludCBRdWFsaXR5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5xdWFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk9iamVjdGl2ZSBQb2ludCBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5vcF90eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNlbnNvciBCcmFuZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuYnJhbmRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJEZXBsb3ltZW50IFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLm1ldGhvZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTdGF0dXMgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNlbnNvciBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmV0d29yayBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5uZXR3b3JrX3R5cGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJWZXJ0aWNhbCBDb2xsZWN0aW9uIE1ldGhvZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUudmNvbGxlY3RfbWV0aG9kO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlZlcnRpY2FsIERhdHVtXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiT2JqZWN0aXZlIFBvaW50XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhXTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKG5hbWVUb1JlbW92ZS5mbGFnX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBtb250aE5hbWVzW21vbnRoXSArIFwiIFwiICsgZGF5ICsgXCIsIFwiICsgeWVhcjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBcIkZsYWdnZWQgb246IFwiICsgZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTZW5zb3JcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmRlcGxveW1lbnRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlByb3Bvc2VkIFNlbnNvclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBcIlByb3Bvc2VkIFNlbnNvclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkZpbGVcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IG5hbWVUb1JlbW92ZS5uYW1lICE9PSB1bmRlZmluZWQgfHwgbmFtZVRvUmVtb3ZlLm5hbWUgIT09IG51bGwgPyBuYW1lVG9SZW1vdmUubmFtZSA6IG5hbWVUb1JlbW92ZS5maWxlX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGYgIT09IG51bGwgfHwgZiAhPT0gdW5kZWZpbmVkID8gZiA6IG5hbWVUb1JlbW92ZS5maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBmO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlBlYWtcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICRzY29wZS53aGF0ID0gd2hhdDtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKG5hbWVUb1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG59KCkpOyIsIi8qIVxyXG4qIGpxdWVyeS5pbnB1dG1hc2suYnVuZGxlLmpzXHJcbiogaHR0cDovL2dpdGh1Yi5jb20vUm9iaW5IZXJib3RzL2pxdWVyeS5pbnB1dG1hc2tcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTAgLSAyMDE1IFJvYmluIEhlcmJvdHNcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxyXG4qIFZlcnNpb246IDMuMi40LTE0XHJcbiovXHJcbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cclxuIWZ1bmN0aW9uICgkKSB7XHJcbiAgICBmdW5jdGlvbiBJbnB1dG1hc2soYWxpYXMsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIElucHV0bWFzayA/IChcIm9iamVjdFwiID09IHR5cGVvZiBhbGlhcyA/IG9wdGlvbnMgPSBhbGlhcyA6IChvcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcclxuICAgICAgICBvcHRpb25zLmFsaWFzID0gYWxpYXMpLCB0aGlzLmVsID0gdm9pZCAwLCB0aGlzLm9wdHMgPSAkLmV4dGVuZCghMCwge30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMpLFxyXG4gICAgICAgIHRoaXMubm9NYXNrc0NhY2hlID0gb3B0aW9ucyAmJiB2b2lkIDAgIT09IG9wdGlvbnMuZGVmaW5pdGlvbnMsIHRoaXMudXNlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LFxyXG4gICAgICAgIHZvaWQgcmVzb2x2ZUFsaWFzKHRoaXMub3B0cy5hbGlhcywgb3B0aW9ucywgdGhpcy5vcHRzKSkgOiBuZXcgSW5wdXRtYXNrKGFsaWFzLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzSW5wdXRFdmVudFN1cHBvcnRlZChldmVudE5hbWUpIHtcclxuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIGV2TmFtZSA9IFwib25cIiArIGV2ZW50TmFtZSwgaXNTdXBwb3J0ZWQgPSBldk5hbWUgaW4gZWw7XHJcbiAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkIHx8IChlbC5zZXRBdHRyaWJ1dGUoZXZOYW1lLCBcInJldHVybjtcIiksIGlzU3VwcG9ydGVkID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlbFtldk5hbWVdKSxcclxuICAgICAgICBlbCA9IG51bGwsIGlzU3VwcG9ydGVkO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNJbnB1dFR5cGVTdXBwb3J0ZWQoaW5wdXRUeXBlKSB7XHJcbiAgICAgICAgdmFyIGlzU3VwcG9ydGVkID0gXCJ0ZXh0XCIgPT09IGlucHV0VHlwZSB8fCBcInRlbFwiID09PSBpbnB1dFR5cGUgfHwgXCJwYXNzd29yZFwiID09PSBpbnB1dFR5cGU7XHJcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgaW5wdXRUeXBlKSwgaXNTdXBwb3J0ZWQgPSBcInRleHRcIiA9PT0gZWwudHlwZSwgZWwgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNvbHZlQWxpYXMoYWxpYXNTdHIsIG9wdGlvbnMsIG9wdHMpIHtcclxuICAgICAgICB2YXIgYWxpYXNEZWZpbml0aW9uID0gb3B0cy5hbGlhc2VzW2FsaWFzU3RyXTtcclxuICAgICAgICByZXR1cm4gYWxpYXNEZWZpbml0aW9uID8gKGFsaWFzRGVmaW5pdGlvbi5hbGlhcyAmJiByZXNvbHZlQWxpYXMoYWxpYXNEZWZpbml0aW9uLmFsaWFzLCB2b2lkIDAsIG9wdHMpLFxyXG4gICAgICAgICQuZXh0ZW5kKCEwLCBvcHRzLCBhbGlhc0RlZmluaXRpb24pLCAkLmV4dGVuZCghMCwgb3B0cywgb3B0aW9ucyksICEwKSA6IChudWxsID09PSBvcHRzLm1hc2sgJiYgKG9wdHMubWFzayA9IGFsaWFzU3RyKSxcclxuICAgICAgICAhMSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbXBvcnRBdHRyaWJ1dGVPcHRpb25zKG5wdCwgb3B0cywgdXNlck9wdGlvbnMpIHtcclxuICAgICAgICBmdW5jdGlvbiBpbXBvcnRPcHRpb24ob3B0aW9uLCBvcHRpb25EYXRhKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbkRhdGEgPSB2b2lkIDAgIT09IG9wdGlvbkRhdGEgPyBvcHRpb25EYXRhIDogbnB0LmdldEF0dHJpYnV0ZShcImRhdGEtaW5wdXRtYXNrLVwiICsgb3B0aW9uKSxcclxuICAgICAgICAgICAgbnVsbCAhPT0gb3B0aW9uRGF0YSAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2Ygb3B0aW9uRGF0YSAmJiAoMCA9PT0gb3B0aW9uLmluZGV4T2YoXCJvblwiKSA/IG9wdGlvbkRhdGEgPSB3aW5kb3dbb3B0aW9uRGF0YV0gOiBcImZhbHNlXCIgPT09IG9wdGlvbkRhdGEgPyBvcHRpb25EYXRhID0gITEgOiBcInRydWVcIiA9PT0gb3B0aW9uRGF0YSAmJiAob3B0aW9uRGF0YSA9ICEwKSksXHJcbiAgICAgICAgICAgIFwibWFza1wiID09PSBvcHRpb24gJiYgMCA9PT0gb3B0aW9uRGF0YS5pbmRleE9mKFwiW1wiKSA/ICh1c2VyT3B0aW9uc1tvcHRpb25dID0gb3B0aW9uRGF0YS5yZXBsYWNlKC9bXFxzW1xcXV0vZywgXCJcIikuc3BsaXQoXCIsXCIpLFxyXG4gICAgICAgICAgICB1c2VyT3B0aW9uc1tvcHRpb25dWzBdID0gdXNlck9wdGlvbnNbb3B0aW9uXVswXS5yZXBsYWNlKFwiJ1wiLCBcIlwiKSwgdXNlck9wdGlvbnNbb3B0aW9uXVt1c2VyT3B0aW9uc1tvcHRpb25dLmxlbmd0aCAtIDFdID0gdXNlck9wdGlvbnNbb3B0aW9uXVt1c2VyT3B0aW9uc1tvcHRpb25dLmxlbmd0aCAtIDFdLnJlcGxhY2UoXCInXCIsIFwiXCIpKSA6IHVzZXJPcHRpb25zW29wdGlvbl0gPSBvcHRpb25EYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9wdGlvbiwgZGF0YW9wdGlvbnMsIG9wdGlvbkRhdGEsIGF0dHJPcHRpb25zID0gbnB0LmdldEF0dHJpYnV0ZShcImRhdGEtaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgIGF0dHJPcHRpb25zICYmIFwiXCIgIT09IGF0dHJPcHRpb25zICYmIChhdHRyT3B0aW9ucyA9IGF0dHJPcHRpb25zLnJlcGxhY2UobmV3IFJlZ0V4cChcIidcIiwgXCJnXCIpLCAnXCInKSxcclxuICAgICAgICBkYXRhb3B0aW9ucyA9IEpTT04ucGFyc2UoXCJ7XCIgKyBhdHRyT3B0aW9ucyArIFwifVwiKSk7XHJcbiAgICAgICAgZm9yIChvcHRpb24gaW4gb3B0cykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YW9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbkRhdGEgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIGRhdGFvcHRpb25zKSBpZiAocC50b0xvd2VyQ2FzZSgpID09PSBvcHRpb24udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbkRhdGEgPSBkYXRhb3B0aW9uc1twXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbXBvcnRPcHRpb24ob3B0aW9uLCBvcHRpb25EYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJPcHRpb25zLmFsaWFzKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVBbGlhcyh1c2VyT3B0aW9ucy5hbGlhcywgdXNlck9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICBmb3IgKG9wdGlvbiBpbiBvcHRzKSBpbXBvcnRPcHRpb24ob3B0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKCEwLCBvcHRzLCB1c2VyT3B0aW9ucyksIG9wdHM7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZU1hc2tTZXQob3B0cywgbm9jYWNoZSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGFuYWx5c2VNYXNrKG1hc2spIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWFza1Rva2VuKGlzR3JvdXAsIGlzT3B0aW9uYWwsIGlzUXVhbnRpZmllciwgaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXSwgdGhpcy5pc0dyb3VwID0gaXNHcm91cCB8fCAhMSwgdGhpcy5pc09wdGlvbmFsID0gaXNPcHRpb25hbCB8fCAhMSxcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNRdWFudGlmaWVyID0gaXNRdWFudGlmaWVyIHx8ICExLCB0aGlzLmlzQWx0ZXJuYXRvciA9IGlzQWx0ZXJuYXRvciB8fCAhMSxcclxuICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtaW46IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAxXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydFRlc3REZWZpbml0aW9uKG10b2tlbiwgZWxlbWVudCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrZGVmID0gb3B0cy5kZWZpbml0aW9uc1tlbGVtZW50XTtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdm9pZCAwICE9PSBwb3NpdGlvbiA/IHBvc2l0aW9uIDogbXRva2VuLm1hdGNoZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZXZNYXRjaCA9IG10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uIC0gMV07XHJcbiAgICAgICAgICAgICAgICBpZiAobWFza2RlZiAmJiAhZXNjYXBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2tkZWYucGxhY2Vob2xkZXIgPSAkLmlzRnVuY3Rpb24obWFza2RlZi5wbGFjZWhvbGRlcikgPyBtYXNrZGVmLnBsYWNlaG9sZGVyKG9wdHMpIDogbWFza2RlZi5wbGFjZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcmV2YWxpZGF0b3JzID0gbWFza2RlZi5wcmV2YWxpZGF0b3IsIHByZXZhbGlkYXRvcnNMID0gcHJldmFsaWRhdG9ycyA/IHByZXZhbGlkYXRvcnMubGVuZ3RoIDogMCwgaSA9IDE7IGkgPCBtYXNrZGVmLmNhcmRpbmFsaXR5OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZhbGlkYXRvciA9IHByZXZhbGlkYXRvcnNMID49IGkgPyBwcmV2YWxpZGF0b3JzW2kgLSAxXSA6IFtdLCB2YWxpZGF0b3IgPSBwcmV2YWxpZGF0b3IudmFsaWRhdG9yLCBjYXJkaW5hbGl0eSA9IHByZXZhbGlkYXRvci5jYXJkaW5hbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssIDAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuOiB2YWxpZGF0b3IgPyBcInN0cmluZ1wiID09IHR5cGVvZiB2YWxpZGF0b3IgPyBuZXcgUmVnRXhwKHZhbGlkYXRvcikgOiBuZXcgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVzdCA9IHZhbGlkYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSA6IG5ldyBSZWdFeHAoXCIuXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IGNhcmRpbmFsaXR5ID8gY2FyZGluYWxpdHkgOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6IG10b2tlbi5pc09wdGlvbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHZvaWQgMCA9PT0gcHJldk1hdGNoIHx8IHByZXZNYXRjaC5kZWYgIT09IChtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG1hc2tkZWYuY2FzaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBtYXNrZGVmLnBsYWNlaG9sZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgcHJldk1hdGNoID0gbXRva2VuLm1hdGNoZXNbcG9zaXRpb24gLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssIDAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm46IG1hc2tkZWYudmFsaWRhdG9yID8gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbWFza2RlZi52YWxpZGF0b3IgPyBuZXcgUmVnRXhwKG1hc2tkZWYudmFsaWRhdG9yKSA6IG5ldyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlc3QgPSBtYXNrZGVmLnZhbGlkYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSgpIDogbmV3IFJlZ0V4cChcIi5cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBtYXNrZGVmLmNhcmRpbmFsaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogbXRva2VuLmlzT3B0aW9uYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiB2b2lkIDAgPT09IHByZXZNYXRjaCB8fCBwcmV2TWF0Y2guZGVmICE9PSAobWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG1hc2tkZWYuY2FzaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWY6IG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbCB8fCBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbWFza2RlZi5wbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm46IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6IG10b2tlbi5pc09wdGlvbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiB2b2lkIDAgPT09IHByZXZNYXRjaCB8fCBwcmV2TWF0Y2guZGVmICE9PSBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2luZzogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBkZWY6IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHZvaWQgMCxcclxuICAgICAgICAgICAgICAgICAgICBtYXNrOiBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICB9KSwgZXNjYXBlZCA9ICExO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHZlcmlmeUdyb3VwTWFya2VyKGxhc3RNYXRjaCwgaXNPcGVuR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGxhc3RNYXRjaC5pc0dyb3VwICYmIChsYXN0TWF0Y2guaXNHcm91cCA9ICExLCBpbnNlcnRUZXN0RGVmaW5pdGlvbihsYXN0TWF0Y2gsIG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQsIDApLFxyXG4gICAgICAgICAgICAgICAgaXNPcGVuR3JvdXAgIT09ICEwICYmIGluc2VydFRlc3REZWZpbml0aW9uKGxhc3RNYXRjaCwgb3B0cy5ncm91cG1hcmtlci5lbmQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtYXNrQ3VycmVudFRva2VuKG0sIGN1cnJlbnRUb2tlbiwgbGFzdE1hdGNoLCBleHRyYUNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoID4gMCAmJiAodm9pZCAwID09PSBleHRyYUNvbmRpdGlvbiB8fCBleHRyYUNvbmRpdGlvbikgJiYgKGxhc3RNYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzW2N1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgdmVyaWZ5R3JvdXBNYXJrZXIobGFzdE1hdGNoKSksIGluc2VydFRlc3REZWZpbml0aW9uKGN1cnJlbnRUb2tlbiwgbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZGVmYXVsdENhc2UoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3BlbmVuaW5ncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0sIG1hc2tDdXJyZW50VG9rZW4obSwgY3VycmVudE9wZW5pbmdUb2tlbiwgbGFzdE1hdGNoLCAhY3VycmVudE9wZW5pbmdUb2tlbi5pc0FsdGVybmF0b3IpLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBvcGVuZW5pbmdzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtbmR4ID0gMDsgbW5keCA8IGFsdGVybmF0b3IubWF0Y2hlcy5sZW5ndGg7IG1uZHgrKykgYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmlzR3JvdXAgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5sZW5ndGggPiAwID8gKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpKSA6IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIG1hc2tDdXJyZW50VG9rZW4obSwgY3VycmVudFRva2VuLCBsYXN0TWF0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJldmVyc2VUb2tlbnMobWFza1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXZlcnNlU3RhdGljKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ID09PSBvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0ID8gc3QgPSBvcHRzLm9wdGlvbmFsbWFya2VyLmVuZCA6IHN0ID09PSBvcHRzLm9wdGlvbmFsbWFya2VyLmVuZCA/IHN0ID0gb3B0cy5vcHRpb25hbG1hcmtlci5zdGFydCA6IHN0ID09PSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0ID8gc3QgPSBvcHRzLmdyb3VwbWFya2VyLmVuZCA6IHN0ID09PSBvcHRzLmdyb3VwbWFya2VyLmVuZCAmJiAoc3QgPSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0KSxcclxuICAgICAgICAgICAgICAgICAgICBzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzID0gbWFza1Rva2VuLm1hdGNoZXMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbWF0Y2ggaW4gbWFza1Rva2VuLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW50TWF0Y2ggPSBwYXJzZUludChtYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXS5pc1F1YW50aWZpZXIgJiYgbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2ggKyAxXSAmJiBtYXNrVG9rZW4ubWF0Y2hlc1tpbnRNYXRjaCArIDFdLmlzR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF0ID0gbWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UobWF0Y2gsIDEpLCBtYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UoaW50TWF0Y2ggKyAxLCAwLCBxdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdLm1hdGNoZXMgPyBtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0gPSByZXZlcnNlVG9rZW5zKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSkgOiBtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0gPSByZXZlcnNlU3RhdGljKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFza1Rva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIG1hdGNoLCBtLCBvcGVuaW5nVG9rZW4sIGN1cnJlbnRPcGVuaW5nVG9rZW4sIGFsdGVybmF0b3IsIGxhc3RNYXRjaCwgZ3JvdXBUb2tlbiwgdG9rZW5pemVyID0gLyg/Ols/KitdfFxce1swLTlcXCtcXCpdKyg/OixbMC05XFwrXFwqXSopP1xcfSl8W14uPyorXiR7W10oKXxcXFxcXSt8Li9nLCBlc2NhcGVkID0gITEsIGN1cnJlbnRUb2tlbiA9IG5ldyBNYXNrVG9rZW4oKSwgb3BlbmVuaW5ncyA9IFtdLCBtYXNrVG9rZW5zID0gW107IG1hdGNoID0gdG9rZW5pemVyLmV4ZWMobWFzaykgOykgaWYgKG0gPSBtYXRjaFswXSxcclxuICAgICAgICAgICAgZXNjYXBlZCkgZGVmYXVsdENhc2UoKTsgZWxzZSBzd2l0Y2ggKG0uY2hhckF0KDApKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMuZXNjYXBlQ2hhcjpcclxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLm9wdGlvbmFsbWFya2VyLmVuZDpcclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5ncm91cG1hcmtlci5lbmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3MucG9wKCksIHZvaWQgMCAhPT0gb3BlbmluZ1Rva2VuKSBpZiAob3BlbmVuaW5ncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLCBjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRvciA9IG9wZW5lbmluZ3MucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtbmR4ID0gMDsgbW5keCA8IGFsdGVybmF0b3IubWF0Y2hlcy5sZW5ndGg7IG1uZHgrKykgYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmlzR3JvdXAgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5lbmluZ3MubGVuZ3RoID4gMCA/IChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcikpIDogY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7IGVsc2UgZGVmYXVsdENhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMub3B0aW9uYWxtYXJrZXIuc3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5wdXNoKG5ldyBNYXNrVG9rZW4oITEsICEwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5lbmluZ3MucHVzaChuZXcgTWFza1Rva2VuKCEwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLnF1YW50aWZpZXJtYXJrZXIuc3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHF1YW50aWZpZXIgPSBuZXcgTWFza1Rva2VuKCExLCAhMSwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgIG0gPSBtLnJlcGxhY2UoL1t7fV0vZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1xID0gbS5zcGxpdChcIixcIiksIG1xMCA9IGlzTmFOKG1xWzBdKSA/IG1xWzBdIDogcGFyc2VJbnQobXFbMF0pLCBtcTEgPSAxID09PSBtcS5sZW5ndGggPyBtcTAgOiBpc05hTihtcVsxXSkgPyBtcVsxXSA6IHBhcnNlSW50KG1xWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKFwiKlwiID09PSBtcTEgfHwgXCIrXCIgPT09IG1xMSkgJiYgKG1xMCA9IFwiKlwiID09PSBtcTEgPyAwIDogMSksIHF1YW50aWZpZXIucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBtcTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogbXExXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgb3BlbmVuaW5ncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLm1hdGNoZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gbWF0Y2hlcy5wb3AoKSwgbWF0Y2guaXNHcm91cCB8fCAoZ3JvdXBUb2tlbiA9IG5ldyBNYXNrVG9rZW4oITApLCBncm91cFRva2VuLm1hdGNoZXMucHVzaChtYXRjaCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gZ3JvdXBUb2tlbiksIG1hdGNoZXMucHVzaChtYXRjaCksIG1hdGNoZXMucHVzaChxdWFudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wb3AoKSwgbWF0Y2guaXNHcm91cCB8fCAoZ3JvdXBUb2tlbiA9IG5ldyBNYXNrVG9rZW4oITApLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwVG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKSwgbWF0Y2ggPSBncm91cFRva2VuKSwgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChtYXRjaCksXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChxdWFudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMuYWx0ZXJuYXRvcm1hcmtlcjpcclxuICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLmxlbmd0aCA+IDAgPyAoY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TWF0Y2ggPSBjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucG9wKCkpIDogbGFzdE1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXMucG9wKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoLmlzQWx0ZXJuYXRvciA/IG9wZW5lbmluZ3MucHVzaChsYXN0TWF0Y2gpIDogKGFsdGVybmF0b3IgPSBuZXcgTWFza1Rva2VuKCExLCAhMSwgITEsICEwKSxcclxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdG9yLm1hdGNoZXMucHVzaChsYXN0TWF0Y2gpLCBvcGVuZW5pbmdzLnB1c2goYWx0ZXJuYXRvcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKDsgb3BlbmVuaW5ncy5sZW5ndGggPiAwOykgb3BlbmluZ1Rva2VuID0gb3BlbmVuaW5ncy5wb3AoKSwgdmVyaWZ5R3JvdXBNYXJrZXIob3BlbmluZ1Rva2VuLCAhMCksXHJcbiAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKTtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgKGxhc3RNYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzW2N1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICB2ZXJpZnlHcm91cE1hcmtlcihsYXN0TWF0Y2gpLCBtYXNrVG9rZW5zLnB1c2goY3VycmVudFRva2VuKSksIG9wdHMubnVtZXJpY0lucHV0ICYmIHJldmVyc2VUb2tlbnMobWFza1Rva2Vuc1swXSksXHJcbiAgICAgICAgICAgIG1hc2tUb2tlbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlTWFzayhtYXNrLCBtZXRhZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gbWFzayB8fCBcIlwiID09PSBtYXNrKSByZXR1cm4gdm9pZCAwO1xyXG4gICAgICAgICAgICBpZiAoMSA9PT0gbWFzay5sZW5ndGggJiYgb3B0cy5ncmVlZHkgPT09ICExICYmIDAgIT09IG9wdHMucmVwZWF0ICYmIChvcHRzLnBsYWNlaG9sZGVyID0gXCJcIiksXHJcbiAgICAgICAgICAgIG9wdHMucmVwZWF0ID4gMCB8fCBcIipcIiA9PT0gb3B0cy5yZXBlYXQgfHwgXCIrXCIgPT09IG9wdHMucmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwZWF0U3RhcnQgPSBcIipcIiA9PT0gb3B0cy5yZXBlYXQgPyAwIDogXCIrXCIgPT09IG9wdHMucmVwZWF0ID8gMSA6IG9wdHMucmVwZWF0O1xyXG4gICAgICAgICAgICAgICAgbWFzayA9IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQgKyBtYXNrICsgb3B0cy5ncm91cG1hcmtlci5lbmQgKyBvcHRzLnF1YW50aWZpZXJtYXJrZXIuc3RhcnQgKyByZXBlYXRTdGFydCArIFwiLFwiICsgb3B0cy5yZXBlYXQgKyBvcHRzLnF1YW50aWZpZXJtYXJrZXIuZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXNrc2V0RGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tdIHx8IG5vY2FjaGUgPT09ICEwID8gKG1hc2tzZXREZWZpbml0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgbWFzazogbWFzayxcclxuICAgICAgICAgICAgICAgIG1hc2tUb2tlbjogYW5hbHlzZU1hc2sobWFzayksXHJcbiAgICAgICAgICAgICAgICB2YWxpZFBvc2l0aW9uczoge30sXHJcbiAgICAgICAgICAgICAgICBfYnVmZmVyOiB2b2lkIDAsXHJcbiAgICAgICAgICAgICAgICBidWZmZXI6IHZvaWQgMCxcclxuICAgICAgICAgICAgICAgIHRlc3RzOiB7fSxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVxyXG4gICAgICAgICAgICB9LCBub2NhY2hlICE9PSAhMCAmJiAoSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW29wdHMubnVtZXJpY0lucHV0ID8gbWFzay5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IG1hc2tdID0gbWFza3NldERlZmluaXRpb24sXHJcbiAgICAgICAgICAgIG1hc2tzZXREZWZpbml0aW9uID0gJC5leHRlbmQoITAsIHt9LCBJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbb3B0cy5udW1lcmljSW5wdXQgPyBtYXNrLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogbWFza10pKSkgOiBtYXNrc2V0RGVmaW5pdGlvbiA9ICQuZXh0ZW5kKCEwLCB7fSwgSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW29wdHMubnVtZXJpY0lucHV0ID8gbWFzay5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IG1hc2tdKSxcclxuICAgICAgICAgICAgbWFza3NldERlZmluaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHByZVByb2Nlc3NNYXNrKG1hc2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2sgPSBtYXNrLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtcztcclxuICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMubWFzaykgJiYgKG9wdHMubWFzayA9IG9wdHMubWFzayhvcHRzKSksICQuaXNBcnJheShvcHRzLm1hc2spKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRzLm1hc2subGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5rZWVwU3RhdGljID0gbnVsbCA9PT0gb3B0cy5rZWVwU3RhdGljID8gITAgOiBvcHRzLmtlZXBTdGF0aWM7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWx0TWFzayA9IFwiKFwiO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuZWFjaChvcHRzLm51bWVyaWNJbnB1dCA/IG9wdHMubWFzay5yZXZlcnNlKCkgOiBvcHRzLm1hc2ssIGZ1bmN0aW9uIChuZHgsIG1zaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsdE1hc2subGVuZ3RoID4gMSAmJiAoYWx0TWFzayArPSBcIil8KFwiKSwgYWx0TWFzayArPSBwcmVQcm9jZXNzTWFzayh2b2lkIDAgPT09IG1zay5tYXNrIHx8ICQuaXNGdW5jdGlvbihtc2subWFzaykgPyBtc2sgOiBtc2subWFzayk7XHJcbiAgICAgICAgICAgICAgICB9KSwgYWx0TWFzayArPSBcIilcIiwgZ2VuZXJhdGVNYXNrKGFsdE1hc2ssIG9wdHMubWFzayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3B0cy5tYXNrID0gb3B0cy5tYXNrLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3B0cy5tYXNrICYmIChtcyA9IHZvaWQgMCA9PT0gb3B0cy5tYXNrLm1hc2sgfHwgJC5pc0Z1bmN0aW9uKG9wdHMubWFzay5tYXNrKSA/IGdlbmVyYXRlTWFzayhwcmVQcm9jZXNzTWFzayhvcHRzLm1hc2spLCBvcHRzLm1hc2spIDogZ2VuZXJhdGVNYXNrKHByZVByb2Nlc3NNYXNrKG9wdHMubWFzay5tYXNrKSwgb3B0cy5tYXNrKSksXHJcbiAgICAgICAgbXM7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtYXNrU2NvcGUoYWN0aW9uT2JqLCBtYXNrc2V0LCBvcHRzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TWFza1RlbXBsYXRlKGJhc2VPbklucHV0LCBtaW5pbWFsUG9zLCBpbmNsdWRlSW5wdXQpIHtcclxuICAgICAgICAgICAgbWluaW1hbFBvcyA9IG1pbmltYWxQb3MgfHwgMDtcclxuICAgICAgICAgICAgdmFyIG5keEludGx6ciwgdGVzdCwgdGVzdFBvcywgbWFza1RlbXBsYXRlID0gW10sIHBvcyA9IDA7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIGlmIChiYXNlT25JbnB1dCA9PT0gITAgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0ID0gdmFsaWRQb3MubWF0Y2gsIG5keEludGx6ciA9IHZhbGlkUG9zLmxvY2F0b3Iuc2xpY2UoKSwgbWFza1RlbXBsYXRlLnB1c2goaW5jbHVkZUlucHV0ID09PSAhMCA/IHZhbGlkUG9zLmlucHV0IDogZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0KSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGVzdFBvcyA9IGdldFRlc3RUZW1wbGF0ZShwb3MsIG5keEludGx6ciwgcG9zIC0gMSksIHRlc3QgPSB0ZXN0UG9zLm1hdGNoLFxyXG4gICAgICAgICAgICAgICAgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksIG1hc2tUZW1wbGF0ZS5wdXNoKGdldFBsYWNlaG9sZGVyKHBvcywgdGVzdCkpO1xyXG4gICAgICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKCh2b2lkIDAgPT09IG1heExlbmd0aCB8fCBtYXhMZW5ndGggPiBwb3MgLSAxKSAmJiBudWxsICE9PSB0ZXN0LmZuIHx8IG51bGwgPT09IHRlc3QuZm4gJiYgXCJcIiAhPT0gdGVzdC5kZWYgfHwgbWluaW1hbFBvcyA+PSBwb3MpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1RlbXBsYXRlLnBvcCgpLCBtYXNrVGVtcGxhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1hc2tTZXQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZXNldE1hc2tTZXQoc29mdCkge1xyXG4gICAgICAgICAgICB2YXIgbWFza3NldCA9IGdldE1hc2tTZXQoKTtcclxuICAgICAgICAgICAgbWFza3NldC5idWZmZXIgPSB2b2lkIDAsIG1hc2tzZXQudGVzdHMgPSB7fSwgc29mdCAhPT0gITAgJiYgKG1hc2tzZXQuX2J1ZmZlciA9IHZvaWQgMCxcclxuICAgICAgICAgICAgbWFza3NldC52YWxpZFBvc2l0aW9ucyA9IHt9LCBtYXNrc2V0LnAgPSAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFzdFZhbGlkUG9zaXRpb24oY2xvc2VzdFRvLCBzdHJpY3QpIHtcclxuICAgICAgICAgICAgdmFyIG1hc2tzZXQgPSBnZXRNYXNrU2V0KCksIGxhc3RWYWxpZFBvc2l0aW9uID0gLTEsIHZhbGlkcyA9IG1hc2tzZXQudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgIHZvaWQgMCA9PT0gY2xvc2VzdFRvICYmIChjbG9zZXN0VG8gPSAtMSk7XHJcbiAgICAgICAgICAgIHZhciBiZWZvcmUgPSBsYXN0VmFsaWRQb3NpdGlvbiwgYWZ0ZXIgPSBsYXN0VmFsaWRQb3NpdGlvbjtcclxuICAgICAgICAgICAgZm9yICh2YXIgcG9zTmR4IGluIHZhbGlkcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBzTmR4ID0gcGFyc2VJbnQocG9zTmR4KTtcclxuICAgICAgICAgICAgICAgIHZhbGlkc1twc05keF0gJiYgKHN0cmljdCB8fCBudWxsICE9PSB2YWxpZHNbcHNOZHhdLm1hdGNoLmZuKSAmJiAoY2xvc2VzdFRvID49IHBzTmR4ICYmIChiZWZvcmUgPSBwc05keCksXHJcbiAgICAgICAgICAgICAgICBwc05keCA+PSBjbG9zZXN0VG8gJiYgKGFmdGVyID0gcHNOZHgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbGFzdFZhbGlkUG9zaXRpb24gPSAtMSAhPT0gYmVmb3JlICYmIGNsb3Nlc3RUbyAtIGJlZm9yZSA+IDEgfHwgY2xvc2VzdFRvID4gYWZ0ZXIgPyBiZWZvcmUgOiBhZnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VmFsaWRQb3NpdGlvbihwb3MsIHZhbGlkVGVzdCwgZnJvbVNldFZhbGlkKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRzLmluc2VydE1vZGUgJiYgdm9pZCAwICE9PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSAmJiB2b2lkIDAgPT09IGZyb21TZXRWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGksIHBvc2l0aW9uc0Nsb25lID0gJC5leHRlbmQoITAsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gcG9zOyBsdnAgPj0gaTsgaSsrKSBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPSB2YWxpZFRlc3Q7XHJcbiAgICAgICAgICAgICAgICB2YXIgaiwgdmFsaWQgPSAhMCwgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gaiA9IHBvczsgbHZwID49IGk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gcG9zaXRpb25zQ2xvbmVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gdCkgZm9yICh2YXIgcG9zTWF0Y2ggPSBqLCBwcmV2UG9zTWF0Y2ggPSAtMTsgcG9zTWF0Y2ggPCBnZXRNYXNrTGVuZ3RoKCkgJiYgKG51bGwgPT0gdC5tYXRjaC5mbiAmJiB2cHNbaV0gJiYgKHZwc1tpXS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgPT09ICEwIHx8IHZwc1tpXS5tYXRjaC5vcHRpb25hbGl0eSA9PT0gITApIHx8IG51bGwgIT0gdC5tYXRjaC5mbikgOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gdC5tYXRjaC5mbiB8fCAhb3B0cy5rZWVwU3RhdGljICYmIHZwc1tpXSAmJiAodm9pZCAwICE9PSB2cHNbaSArIDFdICYmIGdldFRlc3RzKGkgKyAxLCB2cHNbaV0ubG9jYXRvci5zbGljZSgpLCBpKS5sZW5ndGggPiAxIHx8IHZvaWQgMCAhPT0gdnBzW2ldLmFsdGVybmF0aW9uKSA/IHBvc01hdGNoKysgOiBwb3NNYXRjaCA9IHNlZWtOZXh0KGopLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihwb3NNYXRjaCwgdC5tYXRjaC5kZWYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGlzVmFsaWQocG9zTWF0Y2gsIHQuaW5wdXQsICEwLCAhMCkgIT09ICExLCBqID0gcG9zTWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQgPSBudWxsID09IHQubWF0Y2guZm4sIHByZXZQb3NNYXRjaCA9PT0gcG9zTWF0Y2gpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2UG9zTWF0Y2ggPSBwb3NNYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gJC5leHRlbmQoITAsIHt9LCBwb3NpdGlvbnNDbG9uZSksXHJcbiAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoITApLCAhMTtcclxuICAgICAgICAgICAgfSBlbHNlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID0gdmFsaWRUZXN0O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzZXRNYXNrU2V0KCEwKSwgITA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0cmlwVmFsaWRQb3NpdGlvbnMoc3RhcnQsIGVuZCwgbm9jaGVjaywgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBpLCBzdGFydFBvcyA9IHN0YXJ0O1xyXG4gICAgICAgICAgICBmb3IgKGdldE1hc2tTZXQoKS5wID0gc3RhcnQsIGkgPSBzdGFydFBvczsgZW5kID4gaTsgaSsrKSB2b2lkIDAgIT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSAmJiAobm9jaGVjayA9PT0gITAgfHwgb3B0cy5jYW5DbGVhclBvc2l0aW9uKGdldE1hc2tTZXQoKSwgaSwgZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgc3RyaWN0LCBvcHRzKSAhPT0gITEpICYmIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zICsgMTsgaSA8PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpIDspIHtcclxuICAgICAgICAgICAgICAgIGZvciAoOyB2b2lkIDAgIT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzdGFydFBvc107KSBzdGFydFBvcysrO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbc3RhcnRQb3NdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0UG9zID4gaSAmJiAoaSA9IHN0YXJ0UG9zICsgMSksIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldICYmIGlzTWFzayhpKSB8fCB2b2lkIDAgIT09IHMpIGkrKzsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBnZXRUZXN0VGVtcGxhdGUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24oc3RhcnRQb3MsIHQubWF0Y2guZGVmKSA/IGlzVmFsaWQoc3RhcnRQb3MsIHQuaW5wdXQgfHwgZ2V0UGxhY2Vob2xkZXIoaSksICEwKSAhPT0gITEgJiYgKGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgaSsrKSA6IGlzTWFzayhpKSB8fCAoaSsrLCBzdGFydFBvcy0tKSwgc3RhcnRQb3MrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgbWwgPSBnZXRNYXNrTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgIGZvciAoc3RyaWN0ICE9PSAhMCAmJiBub2NoZWNrICE9PSAhMCAmJiB2b2lkIDAgIT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLmlucHV0ID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLFxyXG4gICAgICAgICAgICBpID0gbHZwICsgMTsgbWwgPj0gaTsgaSsrKSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gJiYgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXTtcclxuICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCB0c3RQcykge1xyXG4gICAgICAgICAgICB2YXIgdGVzdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdO1xyXG4gICAgICAgICAgICBpZiAodm9pZCAwID09PSB0ZXN0UG9zKSBmb3IgKHZhciB0ZXN0UG9zaXRpb25zID0gZ2V0VGVzdHMocG9zLCBuZHhJbnRsenIsIHRzdFBzKSwgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgbHZUZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0gfHwgZ2V0VGVzdHMoMClbMF0sIGx2VGVzdEFsdEFyciA9IHZvaWQgMCAhPT0gbHZUZXN0LmFsdGVybmF0aW9uID8gbHZUZXN0LmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSA6IFtdLCBuZHggPSAwOyBuZHggPCB0ZXN0UG9zaXRpb25zLmxlbmd0aCAmJiAodGVzdFBvcyA9IHRlc3RQb3NpdGlvbnNbbmR4XSxcclxuICAgICAgICAgICAgISh0ZXN0UG9zLm1hdGNoICYmIChvcHRzLmdyZWVkeSAmJiB0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciAhPT0gITAgfHwgKHRlc3RQb3MubWF0Y2gub3B0aW9uYWxpdHkgPT09ICExIHx8IHRlc3RQb3MubWF0Y2gubmV3QmxvY2tNYXJrZXIgPT09ICExKSAmJiB0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciAhPT0gITApICYmICh2b2lkIDAgPT09IGx2VGVzdC5hbHRlcm5hdGlvbiB8fCBsdlRlc3QuYWx0ZXJuYXRpb24gIT09IHRlc3RQb3MuYWx0ZXJuYXRpb24gfHwgdm9pZCAwICE9PSB0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSAmJiBjaGVja0FsdGVybmF0aW9uTWF0Y2godGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIGx2VGVzdEFsdEFycikpKSkgOyBuZHgrKyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXN0UG9zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRUZXN0KHBvcykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPyBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXS5tYXRjaCA6IGdldFRlc3RzKHBvcylbMF0ubWF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHBvcywgZGVmKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHZhbGlkID0gITEsIHRlc3RzID0gZ2V0VGVzdHMocG9zKSwgdG5keCA9IDA7IHRuZHggPCB0ZXN0cy5sZW5ndGg7IHRuZHgrKykgaWYgKHRlc3RzW3RuZHhdLm1hdGNoICYmIHRlc3RzW3RuZHhdLm1hdGNoLmRlZiA9PT0gZGVmKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRUZXN0cyhwb3MsIG5keEludGx6ciwgdHN0UHMsIGNhY2hlYWJsZSkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXNrVG9rZW4sIG5keEluaXRpYWxpemVyLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlTWF0Y2gobWF0Y2gsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RQb3MgPiAxZTQpIHRocm93IFwiSW5wdXRtYXNrOiBUaGVyZSBpcyBwcm9iYWJseSBhbiBlcnJvciBpbiB5b3VyIG1hc2sgZGVmaW5pdGlvbiBvciBpbiB0aGUgY29kZS4gQ3JlYXRlIGFuIGlzc3VlIG9uIGdpdGh1YiB3aXRoIGFuIGV4YW1wbGUgb2YgdGhlIG1hc2sgeW91IGFyZSB1c2luZy4gXCIgKyBnZXRNYXNrU2V0KCkubWFzaztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVzdFBvcyA9PT0gcG9zICYmIHZvaWQgMCA9PT0gbWF0Y2gubWF0Y2hlcykgcmV0dXJuIG1hdGNoZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiBtYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRvcjogbG9vcE5keC5yZXZlcnNlKClcclxuICAgICAgICAgICAgICAgICAgICB9KSwgITA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gbWF0Y2gubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2guaXNHcm91cCAmJiBxdWFudGlmaWVyUmVjdXJzZSAhPT0gbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9IGhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzWyQuaW5BcnJheShtYXRjaCwgbWFza1Rva2VuLm1hdGNoZXMpICsgMV0sIGxvb3BOZHgpKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2guaXNPcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsVG9rZW4gPSBtYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9IHJlc29sdmVUZXN0RnJvbVRva2VuKG1hdGNoLCBuZHhJbml0aWFsaXplciwgbG9vcE5keCwgcXVhbnRpZmllclJlY3Vyc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLm1hdGNoLCBpc0ZpcnN0TWF0Y2ggPSAwID09PSAkLmluQXJyYXkobGF0ZXN0TWF0Y2gsIG9wdGlvbmFsVG9rZW4ubWF0Y2hlcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzRmlyc3RNYXRjaCkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFN0b3AgPSAhMCwgdGVzdFBvcyA9IHBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5pc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYWx0TWF0Y2hlcywgYWx0ZXJuYXRlVG9rZW4gPSBtYXRjaCwgbWFsdGVybmF0ZU1hdGNoZXMgPSBbXSwgY3VycmVudE1hdGNoZXMgPSBtYXRjaGVzLnNsaWNlKCksIGxvb3BOZHhDbnQgPSBsb29wTmR4Lmxlbmd0aCwgYWx0SW5kZXggPSBuZHhJbml0aWFsaXplci5sZW5ndGggPiAwID8gbmR4SW5pdGlhbGl6ZXIuc2hpZnQoKSA6IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xID09PSBhbHRJbmRleCB8fCBcInN0cmluZ1wiID09IHR5cGVvZiBhbHRJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UG9zID0gdGVzdFBvcywgbmR4SW5pdGlhbGl6ZXJDbG9uZSA9IG5keEluaXRpYWxpemVyLnNsaWNlKCksIGFsdEluZGV4QXJyID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYWx0SW5kZXggJiYgKGFsdEluZGV4QXJyID0gYWx0SW5kZXguc3BsaXQoXCIsXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhbW5keCA9IDA7IGFtbmR4IDwgYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlcy5sZW5ndGg7IGFtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgPSBbXSwgbWF0Y2ggPSBoYW5kbGVNYXRjaChhbHRlcm5hdGVUb2tlbi5tYXRjaGVzW2FtbmR4XSwgW2FtbmR4XS5jb25jYXQobG9vcE5keCksIHF1YW50aWZpZXJSZWN1cnNlKSB8fCBtYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggIT09ICEwICYmIHZvaWQgMCAhPT0gbWF0Y2ggJiYgYWx0SW5kZXhBcnJbYWx0SW5kZXhBcnIubGVuZ3RoIC0gMV0gPCBhbHRlcm5hdGVUb2tlbi5tYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG50bmR4ID0gbWFza1Rva2VuLm1hdGNoZXMuaW5kZXhPZihtYXRjaCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza1Rva2VuLm1hdGNoZXMubGVuZ3RoID4gbnRuZHggJiYgKG1hdGNoID0gaGFuZGxlTWF0Y2gobWFza1Rva2VuLm1hdGNoZXNbbnRuZHhdLCBbbnRuZHhdLmNvbmNhdChsb29wTmR4LnNsaWNlKDEsIGxvb3BOZHgubGVuZ3RoKSksIHF1YW50aWZpZXJSZWN1cnNlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoICYmIChhbHRJbmRleEFyci5wdXNoKG50bmR4LnRvU3RyaW5nKCkpLCAkLmVhY2gobWF0Y2hlcywgZnVuY3Rpb24gKG5keCwgbG1udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQuYWx0ZXJuYXRpb24gPSBsb29wTmR4Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZSgpLCB0ZXN0UG9zID0gY3VycmVudFBvcywgbWF0Y2hlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5keEluaXRpYWxpemVyQ2xvbmUubGVuZ3RoOyBpKyspIG5keEluaXRpYWxpemVyW2ldID0gbmR4SW5pdGlhbGl6ZXJDbG9uZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmR4MSA9IDA7IG5keDEgPCBtYWx0TWF0Y2hlcy5sZW5ndGg7IG5keDErKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE1hdGNoID0gbWFsdE1hdGNoZXNbbmR4MV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRNYXRjaC5hbHRlcm5hdGlvbiA9IGFsdE1hdGNoLmFsdGVybmF0aW9uIHx8IGxvb3BOZHhDbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuZHgyID0gMDsgbmR4MiA8IG1hbHRlcm5hdGVNYXRjaGVzLmxlbmd0aDsgbmR4MisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE1hdGNoMiA9IG1hbHRlcm5hdGVNYXRjaGVzW25keDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbHRNYXRjaC5tYXRjaC5tYXNrID09PSBhbHRNYXRjaDIubWF0Y2gubWFzayAmJiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgYWx0SW5kZXggfHwgLTEgIT09ICQuaW5BcnJheShhbHRNYXRjaC5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXS50b1N0cmluZygpLCBhbHRJbmRleEFycikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRNYXRjaGVzLnNwbGljZShuZHgxLCAxKSwgbmR4MS0tLCBhbHRNYXRjaDIubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0gPSBhbHRNYXRjaDIubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0gKyBcIixcIiArIGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRNYXRjaDIuYWx0ZXJuYXRpb24gPSBhbHRNYXRjaC5hbHRlcm5hdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRlcm5hdGVNYXRjaGVzID0gbWFsdGVybmF0ZU1hdGNoZXMuY29uY2F0KG1hbHRNYXRjaGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYWx0SW5kZXggJiYgKG1hbHRlcm5hdGVNYXRjaGVzID0gJC5tYXAobWFsdGVybmF0ZU1hdGNoZXMsIGZ1bmN0aW9uIChsbW50LCBuZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmluaXRlKG5keCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYW1hdGNoLCBhbHRlcm5hdGlvbiA9IGxtbnQuYWx0ZXJuYXRpb24sIGFsdExvY0FyciA9IGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dID0gdm9pZCAwLCBsbW50LmFsdGVybmF0aW9uID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYWxuZHggPSAwOyBhbG5keCA8IGFsdExvY0Fyci5sZW5ndGg7IGFsbmR4KyspIG1hbWF0Y2ggPSAtMSAhPT0gJC5pbkFycmF5KGFsdExvY0FyclthbG5keF0sIGFsdEluZGV4QXJyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbWF0Y2ggJiYgKHZvaWQgMCAhPT0gbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSA/IChsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICs9IFwiLFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSArPSBhbHRMb2NBcnJbYWxuZHhdKSA6IGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPSBwYXJzZUludChhbHRMb2NBcnJbYWxuZHhdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQuYWx0ZXJuYXRpb24gPSBhbHRlcm5hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dKSByZXR1cm4gbG1udDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgbWF0Y2hlcyA9IGN1cnJlbnRNYXRjaGVzLmNvbmNhdChtYWx0ZXJuYXRlTWF0Y2hlcyksIHRlc3RQb3MgPSBwb3MsIGluc2VydFN0b3AgPSBtYXRjaGVzLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbWF0Y2ggPSBhbHRlcm5hdGVUb2tlbi5tYXRjaGVzW2FsdEluZGV4XSA/IGhhbmRsZU1hdGNoKGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYWx0SW5kZXhdLCBbYWx0SW5kZXhdLmNvbmNhdChsb29wTmR4KSwgcXVhbnRpZmllclJlY3Vyc2UpIDogITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5pc1F1YW50aWZpZXIgJiYgcXVhbnRpZmllclJlY3Vyc2UgIT09IG1hc2tUb2tlbi5tYXRjaGVzWyQuaW5BcnJheShtYXRjaCwgbWFza1Rva2VuLm1hdGNoZXMpIC0gMV0pIGZvciAodmFyIHF0ID0gbWF0Y2gsIHFuZHggPSBuZHhJbml0aWFsaXplci5sZW5ndGggPiAwID8gbmR4SW5pdGlhbGl6ZXIuc2hpZnQoKSA6IDA7IHFuZHggPCAoaXNOYU4ocXQucXVhbnRpZmllci5tYXgpID8gcW5keCArIDEgOiBxdC5xdWFudGlmaWVyLm1heCkgJiYgcG9zID49IHRlc3RQb3M7IHFuZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuR3JvdXAgPSBtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkocXQsIG1hc2tUb2tlbi5tYXRjaGVzKSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gaGFuZGxlTWF0Y2godG9rZW5Hcm91cCwgW3FuZHhdLmNvbmNhdChsb29wTmR4KSwgdG9rZW5Hcm91cCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0ZXN0TWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ubWF0Y2gsIGxhdGVzdE1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciA9IHFuZHggPiBxdC5xdWFudGlmaWVyLm1pbiAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdE1hdGNoID0gMCA9PT0gJC5pbkFycmF5KGxhdGVzdE1hdGNoLCB0b2tlbkdyb3VwLm1hdGNoZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxbmR4ID4gcXQucXVhbnRpZmllci5taW4gLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdG9wID0gITAsIHRlc3RQb3MgPSBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCA9IHJlc29sdmVUZXN0RnJvbVRva2VuKG1hdGNoLCBuZHhJbml0aWFsaXplciwgbG9vcE5keCwgcXVhbnRpZmllclJlY3Vyc2UpKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHRlc3RQb3MrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHRuZHggPSBuZHhJbml0aWFsaXplci5sZW5ndGggPiAwID8gbmR4SW5pdGlhbGl6ZXIuc2hpZnQoKSA6IDA7IHRuZHggPCBtYXNrVG9rZW4ubWF0Y2hlcy5sZW5ndGg7IHRuZHgrKykgaWYgKG1hc2tUb2tlbi5tYXRjaGVzW3RuZHhdLmlzUXVhbnRpZmllciAhPT0gITApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBoYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XSwgW3RuZHhdLmNvbmNhdChsb29wTmR4KSwgcXVhbnRpZmllclJlY3Vyc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiB0ZXN0UG9zID09PSBwb3MpIHJldHVybiBtYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVzdFBvcyA+IHBvcykgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhdGVzdE1hdGNoLCBpc0ZpcnN0TWF0Y2gsIG1hc2tUb2tlbnMgPSBnZXRNYXNrU2V0KCkubWFza1Rva2VuLCB0ZXN0UG9zID0gbmR4SW50bHpyID8gdHN0UHMgOiAwLCBuZHhJbml0aWFsaXplciA9IG5keEludGx6ciB8fCBbMF0sIG1hdGNoZXMgPSBbXSwgaW5zZXJ0U3RvcCA9ICExO1xyXG4gICAgICAgICAgICBpZiAoY2FjaGVhYmxlID09PSAhMCAmJiBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXSkgcmV0dXJuIGdldE1hc2tTZXQoKS50ZXN0c1twb3NdO1xyXG4gICAgICAgICAgICBpZiAodm9pZCAwID09PSBuZHhJbnRsenIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHRlc3QsIHByZXZpb3VzUG9zID0gcG9zIC0gMTsgdm9pZCAwID09PSAodGVzdCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twcmV2aW91c1Bvc10pICYmIHByZXZpb3VzUG9zID4gLTEgJiYgKCFnZXRNYXNrU2V0KCkudGVzdHNbcHJldmlvdXNQb3NdIHx8IHZvaWQgMCA9PT0gKHRlc3QgPSBnZXRNYXNrU2V0KCkudGVzdHNbcHJldmlvdXNQb3NdWzBdKSkgOykgcHJldmlvdXNQb3MtLTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gdGVzdCAmJiBwcmV2aW91c1BvcyA+IC0xICYmICh0ZXN0UG9zID0gcHJldmlvdXNQb3MsIG5keEluaXRpYWxpemVyID0gdGVzdC5sb2NhdG9yLnNsaWNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIG10bmR4ID0gbmR4SW5pdGlhbGl6ZXIuc2hpZnQoKSA7IG10bmR4IDwgbWFza1Rva2Vucy5sZW5ndGg7IG10bmR4KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbnNbbXRuZHhdLCBuZHhJbml0aWFsaXplciwgW210bmR4XSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgdGVzdFBvcyA9PT0gcG9zIHx8IHRlc3RQb3MgPiBwb3MpIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoMCA9PT0gbWF0Y2hlcy5sZW5ndGggfHwgaW5zZXJ0U3RvcCkgJiYgbWF0Y2hlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1hdGNoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm46IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2luZzogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBkZWY6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsb2NhdG9yOiBbXVxyXG4gICAgICAgICAgICB9KSwgZ2V0TWFza1NldCgpLnRlc3RzW3Bvc10gPSAkLmV4dGVuZCghMCwgW10sIG1hdGNoZXMpLCBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QnVmZmVyVGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS5fYnVmZmVyICYmIChnZXRNYXNrU2V0KCkuX2J1ZmZlciA9IGdldE1hc2tUZW1wbGF0ZSghMSwgMSkpLFxyXG4gICAgICAgICAgICBnZXRNYXNrU2V0KCkuX2J1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QnVmZmVyKG5vQ2FjaGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh2b2lkIDAgPT09IGdldE1hc2tTZXQoKS5idWZmZXIgfHwgbm9DYWNoZSA9PT0gITApICYmIChub0NhY2hlID09PSAhMCAmJiAoZ2V0TWFza1NldCgpLnRlc3QgPSB7fSksXHJcbiAgICAgICAgICAgIGdldE1hc2tTZXQoKS5idWZmZXIgPSBnZXRNYXNrVGVtcGxhdGUoITAsIGdldExhc3RWYWxpZFBvc2l0aW9uKCksICEwKSksIGdldE1hc2tTZXQoKS5idWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hGcm9tQnVmZmVyKHN0YXJ0LCBlbmQsIGJ1ZmZlcikge1xyXG4gICAgICAgICAgICB2YXIgaTtcclxuICAgICAgICAgICAgaWYgKGJ1ZmZlciA9IGJ1ZmZlciwgc3RhcnQgPT09ICEwKSByZXNldE1hc2tTZXQoKSwgc3RhcnQgPSAwLCBlbmQgPSBidWZmZXIubGVuZ3RoOyBlbHNlIGZvciAoaSA9IHN0YXJ0OyBlbmQgPiBpOyBpKyspIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudGVzdHNbaV07XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHN0YXJ0OyBlbmQgPiBpOyBpKyspIHJlc2V0TWFza1NldCghMCksIGJ1ZmZlcltpXSAhPT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyICYmIGlzVmFsaWQoaSwgYnVmZmVyW2ldLCAhMCwgITApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjYXNpbmcoZWxlbSwgdGVzdCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRlc3QuY2FzaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidXBwZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb3dlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVsZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQWx0ZXJuYXRpb25NYXRjaChhbHRBcnIxLCBhbHRBcnIyKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGFsdEFyckMgPSBvcHRzLmdyZWVkeSA/IGFsdEFycjIgOiBhbHRBcnIyLnNsaWNlKDAsIDEpLCBpc01hdGNoID0gITEsIGFsbmR4ID0gMDsgYWxuZHggPCBhbHRBcnIxLmxlbmd0aDsgYWxuZHgrKykgaWYgKC0xICE9PSAkLmluQXJyYXkoYWx0QXJyMVthbG5keF0sIGFsdEFyckMpKSB7XHJcbiAgICAgICAgICAgICAgICBpc01hdGNoID0gITA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaXNNYXRjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNWYWxpZChwb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9pc1ZhbGlkKHBvc2l0aW9uLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJzbHQgPSAhMTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLmVhY2goZ2V0VGVzdHMocG9zaXRpb24pLCBmdW5jdGlvbiAobmR4LCB0c3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ZXN0ID0gdHN0Lm1hdGNoLCBsb29wZW5kID0gYyA/IDEgOiAwLCBjaHJzID0gXCJcIiwgaSA9IHRlc3QuY2FyZGluYWxpdHk7IGkgPiBsb29wZW5kOyBpLS0pIGNocnMgKz0gZ2V0QnVmZmVyRWxlbWVudChwb3NpdGlvbiAtIChpIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjICYmIChjaHJzICs9IGMpLCBnZXRCdWZmZXIoITApLCByc2x0ID0gbnVsbCAhPSB0ZXN0LmZuID8gdGVzdC5mbi50ZXN0KGNocnMsIGdldE1hc2tTZXQoKSwgcG9zaXRpb24sIHN0cmljdCwgb3B0cykgOiBjICE9PSB0ZXN0LmRlZiAmJiBjICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgfHwgXCJcIiA9PT0gdGVzdC5kZWYgPyAhMSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogdGVzdC5kZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICB9LCByc2x0ICE9PSAhMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHZvaWQgMCAhPT0gcnNsdC5jID8gcnNsdC5jIDogYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0gPT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciAmJiBudWxsID09PSB0ZXN0LmZuID8gdGVzdC5kZWYgOiBlbGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGVkUG9zID0gcG9zaXRpb24sIHBvc3NpYmxlTW9kaWZpZWRCdWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gcnNsdC5yZW1vdmUgJiYgKCQuaXNBcnJheShyc2x0LnJlbW92ZSkgfHwgKHJzbHQucmVtb3ZlID0gW3JzbHQucmVtb3ZlXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyc2x0LnJlbW92ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAobmR4LCBsbW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcFZhbGlkUG9zaXRpb25zKGxtbnQsIGxtbnQgKyAxLCAhMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgdm9pZCAwICE9PSByc2x0Lmluc2VydCAmJiAoJC5pc0FycmF5KHJzbHQuaW5zZXJ0KSB8fCAocnNsdC5pbnNlcnQgPSBbcnNsdC5pbnNlcnRdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJzbHQuaW5zZXJ0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uIChuZHgsIGxtbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQobG1udC5wb3MsIGxtbnQuYywgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksIHJzbHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZyZXNoID0gcnNsdC5yZWZyZXNoRnJvbUJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJpY3QgPSAhMCwgcmVmcmVzaEZyb21CdWZmZXIocmVmcmVzaCA9PT0gITAgPyByZWZyZXNoIDogcmVmcmVzaC5zdGFydCwgcmVmcmVzaC5lbmQsIHBvc3NpYmxlTW9kaWZpZWRCdWZmZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwID09PSByc2x0LnBvcyAmJiB2b2lkIDAgPT09IHJzbHQuYykgcmV0dXJuIHJzbHQucG9zID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlZFBvcyA9IHZvaWQgMCAhPT0gcnNsdC5wb3MgPyByc2x0LnBvcyA6IHBvc2l0aW9uLCB2YWxpZGF0ZWRQb3MgIT09IHBvc2l0aW9uKSByZXR1cm4gcnNsdCA9ICQuZXh0ZW5kKHJzbHQsIGlzVmFsaWQodmFsaWRhdGVkUG9zLCBlbGVtLCAhMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocnNsdCAhPT0gITAgJiYgdm9pZCAwICE9PSByc2x0LnBvcyAmJiByc2x0LnBvcyAhPT0gcG9zaXRpb24gJiYgKHZhbGlkYXRlZFBvcyA9IHJzbHQucG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihwb3NpdGlvbiwgdmFsaWRhdGVkUG9zLCBnZXRCdWZmZXIoKS5zbGljZSgpKSwgdmFsaWRhdGVkUG9zICE9PSBwb3NpdGlvbikpIHJldHVybiByc2x0ID0gJC5leHRlbmQocnNsdCwgaXNWYWxpZCh2YWxpZGF0ZWRQb3MsIGVsZW0sICEwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnNsdCAhPT0gITAgJiYgdm9pZCAwID09PSByc2x0LnBvcyAmJiB2b2lkIDAgPT09IHJzbHQuYyA/ICExIDogKG5keCA+IDAgJiYgcmVzZXRNYXNrU2V0KCEwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsaWRQb3NpdGlvbih2YWxpZGF0ZWRQb3MsICQuZXh0ZW5kKHt9LCB0c3QsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBjYXNpbmcoZWxlbSwgdGVzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIGZyb21TZXRWYWxpZCkgfHwgKHJzbHQgPSAhMSksICExKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSwgcnNsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhbHRlcm5hdGUocG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGFzdEFsdCwgYWx0ZXJuYXRpb24sIGlzVmFsaWRSc2x0LCBhbHRQb3MsIGksIHZhbGlkUG9zLCB2YWxpZFBzQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksIGxBbHQgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpIDsgbEFsdCA+PSAwICYmIChhbHRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbEFsdF0sXHJcbiAgICAgICAgICAgICAgICAhYWx0UG9zIHx8IHZvaWQgMCA9PT0gYWx0UG9zLmFsdGVybmF0aW9uIHx8IChsYXN0QWx0ID0gbEFsdCwgYWx0ZXJuYXRpb24gPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0uYWx0ZXJuYXRpb24sXHJcbiAgICAgICAgICAgICAgICBnZXRUZXN0VGVtcGxhdGUobGFzdEFsdCkubG9jYXRvclthbHRQb3MuYWx0ZXJuYXRpb25dID09PSBhbHRQb3MubG9jYXRvclthbHRQb3MuYWx0ZXJuYXRpb25dKSkgOyBsQWx0LS0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gYWx0ZXJuYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0QWx0ID0gcGFyc2VJbnQobGFzdEFsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZGVjaXNpb25Qb3MgaW4gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSBpZiAoZGVjaXNpb25Qb3MgPSBwYXJzZUludChkZWNpc2lvblBvcyksXHJcbiAgICAgICAgICAgICAgICAgICAgYWx0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2RlY2lzaW9uUG9zXSwgZGVjaXNpb25Qb3MgPj0gbGFzdEFsdCAmJiB2b2lkIDAgIT09IGFsdFBvcy5hbHRlcm5hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0TmR4cyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XS5sb2NhdG9yW2FsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSwgZGVjaXNpb25UYWtlciA9IGFsdFBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXSB8fCBhbHROZHhzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNpc2lvblRha2VyLmxlbmd0aCA+IDAgJiYgKGRlY2lzaW9uVGFrZXIgPSBkZWNpc2lvblRha2VyLnNwbGl0KFwiLFwiKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1uZHggPSAwOyBtbmR4IDwgYWx0TmR4cy5sZW5ndGg7IG1uZHgrKykgaWYgKGRlY2lzaW9uVGFrZXIgPCBhbHROZHhzW21uZHhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwb3NzaWJpbGl0eVBvcywgcG9zc2liaWxpdGllcywgZHAgPSBkZWNpc2lvblBvczsgZHAgPj0gMDsgZHAtLSkgaWYgKHBvc3NpYmlsaXR5UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2RwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gcG9zc2liaWxpdHlQb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJpbGl0aWVzID0gcG9zc2liaWxpdHlQb3MubG9jYXRvclthbHRlcm5hdGlvbl0sIHBvc3NpYmlsaXR5UG9zLmxvY2F0b3JbYWx0ZXJuYXRpb25dID0gcGFyc2VJbnQoYWx0TmR4c1ttbmR4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjaXNpb25UYWtlciAhPT0gcG9zc2liaWxpdHlQb3MubG9jYXRvclthbHRlcm5hdGlvbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRJbnB1dHMgPSBbXSwgc3RhdGljSW5wdXRzQmVmb3JlUG9zID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBkZWNpc2lvblBvcyArIDE7IGkgPCBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICsgMTsgaSsrKSB2YWxpZFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFBvcyAmJiAobnVsbCAhPSB2YWxpZFBvcy5tYXRjaC5mbiA/IHZhbGlkSW5wdXRzLnB1c2godmFsaWRQb3MuaW5wdXQpIDogcG9zID4gaSAmJiBzdGF0aWNJbnB1dHNCZWZvcmVQb3MrKyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSwgZGVsZXRlIGdldE1hc2tTZXQoKS50ZXN0c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHJlc2V0TWFza1NldCghMCksIG9wdHMua2VlcFN0YXRpYyA9ICFvcHRzLmtlZXBTdGF0aWMsIGlzVmFsaWRSc2x0ID0gITA7IHZhbGlkSW5wdXRzLmxlbmd0aCA+IDA7KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHZhbGlkSW5wdXRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCAhPT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyICYmICEoaXNWYWxpZFJzbHQgPSBpc1ZhbGlkKGdldExhc3RWYWxpZFBvc2l0aW9uKCkgKyAxLCBpbnB1dCwgITEsICEwKSkpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2liaWxpdHlQb3MuYWx0ZXJuYXRpb24gPSBhbHRlcm5hdGlvbiwgcG9zc2liaWxpdHlQb3MubG9jYXRvclthbHRlcm5hdGlvbl0gPSBwb3NzaWJpbGl0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRSc2x0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRMdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbihwb3MpICsgMSwgc3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gZGVjaXNpb25Qb3MgKyAxOyBpIDwgZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSArIDE7IGkrKykgdmFsaWRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUG9zICYmIG51bGwgPT0gdmFsaWRQb3MubWF0Y2guZm4gJiYgcG9zID4gaSAmJiBzdGF0aWNJbnB1dHNCZWZvcmVQb3NBbHRlcm5hdGUrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zICs9IHN0YXRpY0lucHV0c0JlZm9yZVBvc0FsdGVybmF0ZSAtIHN0YXRpY0lucHV0c0JlZm9yZVBvcywgaXNWYWxpZFJzbHQgPSBpc1ZhbGlkKHBvcyA+IHRhcmdldEx2cCA/IHRhcmdldEx2cCA6IHBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5rZWVwU3RhdGljID0gIW9wdHMua2VlcFN0YXRpYywgaXNWYWxpZFJzbHQpIHJldHVybiBpc1ZhbGlkUnNsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoKSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gJC5leHRlbmQoITAsIHt9LCB2YWxpZFBzQ2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiB0cmFja2JhY2tBbHRlcm5hdGlvbnMob3JpZ2luYWxQb3MsIG5ld1Bvcykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdnAgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbmV3UG9zXSwgdGFyZ2V0TG9jYXRvciA9IHZwLmxvY2F0b3IsIHRsbCA9IHRhcmdldExvY2F0b3IubGVuZ3RoLCBwcyA9IG9yaWdpbmFsUG9zOyBuZXdQb3MgPiBwczsgcHMrKykgaWYgKCFpc01hc2socHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3RzID0gZ2V0VGVzdHMocHMpLCBiZXN0TWF0Y2ggPSB0ZXN0c1swXSwgZXF1YWxpdHkgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2godGVzdHMsIGZ1bmN0aW9uIChuZHgsIHRzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgdGxsID4gaTsgaSsrKSB0c3QubG9jYXRvcltpXSAmJiBjaGVja0FsdGVybmF0aW9uTWF0Y2godHN0LmxvY2F0b3JbaV0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIHRhcmdldExvY2F0b3JbaV0udG9TdHJpbmcoKS5zcGxpdChcIixcIikpICYmIGkgPiBlcXVhbGl0eSAmJiAoZXF1YWxpdHkgPSBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWF0Y2ggPSB0c3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLCBzZXRWYWxpZFBvc2l0aW9uKHBzLCAkLmV4dGVuZCh7fSwgYmVzdE1hdGNoLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBiZXN0TWF0Y2gubWF0Y2guZGVmXHJcbiAgICAgICAgICAgICAgICAgICAgfSksICEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJpY3QgPSBzdHJpY3QgPT09ICEwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKSwgcG5keCA9IHBvcyAtIDE7IHBuZHggPiAtMSAmJiAhZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BuZHhdOyBwbmR4LS0pO1xyXG4gICAgICAgICAgICBmb3IgKHBuZHgrKzsgcG9zID4gcG5keDsgcG5keCsrKSB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twbmR4XSAmJiAoKCFpc01hc2socG5keCkgfHwgYnVmZmVyW3BuZHhdICE9PSBnZXRQbGFjZWhvbGRlcihwbmR4KSkgJiYgZ2V0VGVzdHMocG5keCkubGVuZ3RoID4gMSB8fCBidWZmZXJbcG5keF0gPT09IG9wdHMucmFkaXhQb2ludCB8fCBcIjBcIiA9PT0gYnVmZmVyW3BuZHhdICYmICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGJ1ZmZlcikgPCBwbmR4KSAmJiBfaXNWYWxpZChwbmR4LCBidWZmZXJbcG5keF0sICEwKTtcclxuICAgICAgICAgICAgdmFyIG1hc2tQb3MgPSBwb3MsIHJlc3VsdCA9ICExLCBwb3NpdGlvbnNDbG9uZSA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKTtcclxuICAgICAgICAgICAgaWYgKG1hc2tQb3MgPCBnZXRNYXNrTGVuZ3RoKCkgJiYgKHJlc3VsdCA9IF9pc1ZhbGlkKG1hc2tQb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSxcclxuICAgICAgICAgICAgKCFzdHJpY3QgfHwgZnJvbVNldFZhbGlkKSAmJiByZXN1bHQgPT09ICExKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3NWYWxpZCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1ttYXNrUG9zXTtcclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudFBvc1ZhbGlkIHx8IG51bGwgIT09IGN1cnJlbnRQb3NWYWxpZC5tYXRjaC5mbiB8fCBjdXJyZW50UG9zVmFsaWQubWF0Y2guZGVmICE9PSBjICYmIGMgIT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgob3B0cy5pbnNlcnRNb2RlIHx8IHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3NlZWtOZXh0KG1hc2tQb3MpXSkgJiYgIWlzTWFzayhtYXNrUG9zKSkgZm9yICh2YXIgblBvcyA9IG1hc2tQb3MgKyAxLCBzblBvcyA9IHNlZWtOZXh0KG1hc2tQb3MpIDsgc25Qb3MgPj0gblBvczsgblBvcysrKSBpZiAocmVzdWx0ID0gX2lzVmFsaWQoblBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCAhPT0gITEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tiYWNrQWx0ZXJuYXRpb25zKG1hc2tQb3MsIG5Qb3MpLCBtYXNrUG9zID0gblBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJldDogc2Vla05leHQobWFza1BvcylcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gITEgJiYgb3B0cy5rZWVwU3RhdGljICYmIGlzQ29tcGxldGUoYnVmZmVyKSAmJiAocmVzdWx0ID0gYWx0ZXJuYXRlKHBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpKSxcclxuICAgICAgICAgICAgcmVzdWx0ID09PSAhMCAmJiAocmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgcG9zOiBtYXNrUG9zXHJcbiAgICAgICAgICAgIH0pLCAkLmlzRnVuY3Rpb24ob3B0cy5wb3N0VmFsaWRhdGlvbikgJiYgcmVzdWx0ICE9PSAhMSAmJiAhc3RyaWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFZhbGlkUmVzdWx0ID0gb3B0cy5wb3N0VmFsaWRhdGlvbihnZXRCdWZmZXIoITApLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIGlmIChwb3N0VmFsaWRSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zdFZhbGlkUmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZyZXNoID0gcG9zdFZhbGlkUmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihyZWZyZXNoID09PSAhMCA/IHJlZnJlc2ggOiByZWZyZXNoLnN0YXJ0LCByZWZyZXNoLmVuZCwgcG9zdFZhbGlkUmVzdWx0LmJ1ZmZlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCksIHJlc3VsdCA9IHBvc3RWYWxpZFJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzZXRNYXNrU2V0KCEwKSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gJC5leHRlbmQoITAsIHt9LCBwb3NpdGlvbnNDbG9uZSksXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAhMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpc01hc2socG9zKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gZ2V0VGVzdChwb3MpO1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSB0ZXN0LmZuKSByZXR1cm4gdGVzdC5mbjtcclxuICAgICAgICAgICAgaWYgKHBvcyA+IC0xICYmICFvcHRzLmtlZXBTdGF0aWMgJiYgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdGVzdHMgPSBnZXRUZXN0cyhwb3MpLCBzdGF0aWNBbHRlcm5hdGlvbnMgPSAhMCwgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykgaWYgKFwiXCIgIT09IHRlc3RzW2ldLm1hdGNoLmRlZiAmJiAodm9pZCAwID09PSB0ZXN0c1tpXS5hbHRlcm5hdGlvbiB8fCB0ZXN0c1tpXS5sb2NhdG9yW3Rlc3RzW2ldLmFsdGVybmF0aW9uXS5sZW5ndGggPiAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY0FsdGVybmF0aW9ucyA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRpY0FsdGVybmF0aW9ucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1hc2tMZW5ndGgoKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXNrTGVuZ3RoO1xyXG4gICAgICAgICAgICBtYXhMZW5ndGggPSB2b2lkIDAgIT09IGVsID8gZWwubWF4TGVuZ3RoIDogdm9pZCAwLCAtMSA9PT0gbWF4TGVuZ3RoICYmIChtYXhMZW5ndGggPSB2b2lkIDApO1xyXG4gICAgICAgICAgICB2YXIgcG9zLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCB0ZXN0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0sIG5keEludGx6ciA9IHZvaWQgMCAhPT0gdGVzdFBvcyA/IHRlc3RQb3MubG9jYXRvci5zbGljZSgpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICBmb3IgKHBvcyA9IGx2cCArIDE7IHZvaWQgMCA9PT0gdGVzdFBvcyB8fCBudWxsICE9PSB0ZXN0UG9zLm1hdGNoLmZuIHx8IG51bGwgPT09IHRlc3RQb3MubWF0Y2guZm4gJiYgXCJcIiAhPT0gdGVzdFBvcy5tYXRjaC5kZWY7IHBvcysrKSB0ZXN0UG9zID0gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCBwb3MgLSAxKSxcclxuICAgICAgICAgICAgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIHZhciBsYXN0VGVzdCA9IGdldFRlc3QocG9zIC0gMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrTGVuZ3RoID0gXCJcIiAhPT0gbGFzdFRlc3QuZGVmID8gcG9zIDogcG9zIC0gMSwgdm9pZCAwID09PSBtYXhMZW5ndGggfHwgbWF4TGVuZ3RoID4gbWFza0xlbmd0aCA/IG1hc2tMZW5ndGggOiBtYXhMZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNlZWtOZXh0KHBvcywgbmV3QmxvY2spIHtcclxuICAgICAgICAgICAgdmFyIG1hc2tMID0gZ2V0TWFza0xlbmd0aCgpO1xyXG4gICAgICAgICAgICBpZiAocG9zID49IG1hc2tMKSByZXR1cm4gbWFza0w7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHBvc2l0aW9uID0gcG9zOyArK3Bvc2l0aW9uIDwgbWFza0wgJiYgKG5ld0Jsb2NrID09PSAhMCAmJiAoZ2V0VGVzdChwb3NpdGlvbikubmV3QmxvY2tNYXJrZXIgIT09ICEwIHx8ICFpc01hc2socG9zaXRpb24pKSB8fCBuZXdCbG9jayAhPT0gITAgJiYgIWlzTWFzayhwb3NpdGlvbikgJiYgKG9wdHMubm9qdW1wcyAhPT0gITAgfHwgb3B0cy5ub2p1bXBzVGhyZXNob2xkID4gcG9zaXRpb24pKSA7KTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzZWVrUHJldmlvdXMocG9zLCBuZXdCbG9jaykge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgIGlmICgwID49IHBvc2l0aW9uKSByZXR1cm4gMDtcclxuICAgICAgICAgICAgZm9yICg7IC0tcG9zaXRpb24gPiAwICYmIChuZXdCbG9jayA9PT0gITAgJiYgZ2V0VGVzdChwb3NpdGlvbikubmV3QmxvY2tNYXJrZXIgIT09ICEwIHx8IG5ld0Jsb2NrICE9PSAhMCAmJiAhaXNNYXNrKHBvc2l0aW9uKSkgOyk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QnVmZmVyRWxlbWVudChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dID8gZ2V0UGxhY2Vob2xkZXIocG9zaXRpb24pIDogZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uXS5pbnB1dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVCdWZmZXIoaW5wdXQsIGJ1ZmZlciwgY2FyZXRQb3MsIGV2ZW50LCB0cmlnZ2VySW5wdXRFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQgJiYgJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVXcml0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dCwgZXZlbnQsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSByZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKHJlZnJlc2ggPT09ICEwID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCByZXN1bHQuYnVmZmVyIHx8IGJ1ZmZlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGdldEJ1ZmZlcighMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gY2FyZXRQb3MgJiYgKGNhcmV0UG9zID0gdm9pZCAwICE9PSByZXN1bHQuY2FyZXQgPyByZXN1bHQuY2FyZXQgOiBjYXJldFBvcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZVNldChidWZmZXIuam9pbihcIlwiKSksIHZvaWQgMCA9PT0gY2FyZXRQb3MgfHwgdm9pZCAwICE9PSBldmVudCAmJiBcImJsdXJcIiA9PT0gZXZlbnQudHlwZSB8fCBjYXJldChpbnB1dCwgY2FyZXRQb3MpLFxyXG4gICAgICAgICAgICB0cmlnZ2VySW5wdXRFdmVudCA9PT0gITAgJiYgKHNraXBJbnB1dEV2ZW50ID0gITAsICQoaW5wdXQpLnRyaWdnZXIoXCJpbnB1dFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyKHBvcywgdGVzdCkge1xyXG4gICAgICAgICAgICBpZiAodGVzdCA9IHRlc3QgfHwgZ2V0VGVzdChwb3MpLCB2b2lkIDAgIT09IHRlc3QucGxhY2Vob2xkZXIpIHJldHVybiB0ZXN0LnBsYWNlaG9sZGVyO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gdGVzdC5mbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+IC0xICYmICFvcHRzLmtlZXBTdGF0aWMgJiYgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByZXZUZXN0LCB0ZXN0cyA9IGdldFRlc3RzKHBvcyksIGhhc0FsdGVybmF0aW9ucyA9ICExLCBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2VGVzdCAmJiBcIlwiICE9PSB0ZXN0c1tpXS5tYXRjaC5kZWYgJiYgdGVzdHNbaV0ubWF0Y2guZGVmICE9PSBwcmV2VGVzdC5tYXRjaC5kZWYgJiYgKHZvaWQgMCA9PT0gdGVzdHNbaV0uYWx0ZXJuYXRpb24gfHwgdGVzdHNbaV0uYWx0ZXJuYXRpb24gPT09IHByZXZUZXN0LmFsdGVybmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQWx0ZXJuYXRpb25zID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0c1tpXS5tYXRjaC5vcHRpb25hbGl0eSAhPT0gITAgJiYgdGVzdHNbaV0ubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICE9PSAhMCAmJiAocHJldlRlc3QgPSB0ZXN0c1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNBbHRlcm5hdGlvbnMpIHJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3MgJSBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVzdC5kZWY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KHBvcyAlIG9wdHMucGxhY2Vob2xkZXIubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tWYWwoaW5wdXQsIHdyaXRlT3V0LCBzdHJpY3QsIG5wdHZsKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGlzVGVtcGxhdGVNYXRjaCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc01hdGNoID0gITEsIGNoYXJDb2RlTmR4ID0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZShpbml0aWFsTmR4LCBzZWVrTmV4dChpbml0aWFsTmR4KSkuam9pbihcIlwiKS5pbmRleE9mKGNoYXJDb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoLTEgIT09IGNoYXJDb2RlTmR4ICYmICFpc01hc2soaW5pdGlhbE5keCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc01hdGNoID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyVGVtcGxhdGVBcnIgPSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKGluaXRpYWxOZHgsIGluaXRpYWxOZHggKyBjaGFyQ29kZU5keCksIGkgPSAwOyBpIDwgYnVmZmVyVGVtcGxhdGVBcnIubGVuZ3RoOyBpKyspIGlmIChcIiBcIiAhPT0gYnVmZmVyVGVtcGxhdGVBcnJbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNNYXRjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IG5wdHZsLnNsaWNlKCksIGNoYXJDb2RlcyA9IFwiXCIsIGluaXRpYWxOZHggPSAwO1xyXG4gICAgICAgICAgICBpZiAocmVzZXRNYXNrU2V0KCksIGdldE1hc2tTZXQoKS5wID0gc2Vla05leHQoLTEpLCAhc3RyaWN0KSBpZiAob3B0cy5hdXRvVW5tYXNrICE9PSAhMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXRpY0lucHV0ID0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgwLCBzZWVrTmV4dCgtMSkpLmpvaW4oXCJcIiksIG1hdGNoZXMgPSBpbnB1dFZhbHVlLmpvaW4oXCJcIikubWF0Y2gobmV3IFJlZ0V4cChcIl5cIiArIElucHV0bWFzay5lc2NhcGVSZWdleChzdGF0aWNJbnB1dCksIFwiZ1wiKSk7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCAmJiAoaW5wdXRWYWx1ZS5zcGxpY2UoMCwgbWF0Y2hlcy5sZW5ndGggKiBzdGF0aWNJbnB1dC5sZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgaW5pdGlhbE5keCA9IHNlZWtOZXh0KGluaXRpYWxOZHgpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGluaXRpYWxOZHggPSBzZWVrTmV4dChpbml0aWFsTmR4KTtcclxuICAgICAgICAgICAgJC5lYWNoKGlucHV0VmFsdWUsIGZ1bmN0aW9uIChuZHgsIGNoYXJDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSAkLkV2ZW50KFwia2V5cHJlc3NcIik7XHJcbiAgICAgICAgICAgICAgICBrZXlwcmVzcy53aGljaCA9IGNoYXJDb2RlLmNoYXJDb2RlQXQoMCksIGNoYXJDb2RlcyArPSBjaGFyQ29kZTtcclxuICAgICAgICAgICAgICAgIHZhciBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbih2b2lkIDAsICEwKSwgbHZUZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0sIG5leHRUZXN0ID0gZ2V0VGVzdFRlbXBsYXRlKGx2cCArIDEsIGx2VGVzdCA/IGx2VGVzdC5sb2NhdG9yLnNsaWNlKCkgOiB2b2lkIDAsIGx2cCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVNYXRjaCgpIHx8IHN0cmljdCB8fCBvcHRzLmF1dG9Vbm1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gc3RyaWN0ID8gbmR4IDogbnVsbCA9PSBuZXh0VGVzdC5tYXRjaC5mbiAmJiBuZXh0VGVzdC5tYXRjaC5vcHRpb25hbGl0eSAmJiBsdnAgKyAxIDwgZ2V0TWFza1NldCgpLnAgPyBsdnAgKyAxIDogZ2V0TWFza1NldCgpLnA7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgITAsICExLCBzdHJpY3QsIHBvcyksIGluaXRpYWxOZHggPSBwb3MgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgITAsICExLCAhMCwgbHZwICsgMSk7XHJcbiAgICAgICAgICAgIH0pLCB3cml0ZU91dCAmJiB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlucHV0ID8gc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oMCkpIDogdm9pZCAwLCAkLkV2ZW50KFwiY2hlY2t2YWxcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB1bm1hc2tlZHZhbHVlKGlucHV0KSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dCAmJiB2b2lkIDAgPT09IGlucHV0LmlucHV0bWFzaykgcmV0dXJuIGlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICB2YXIgdW1WYWx1ZSA9IFtdLCB2cHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHBuZHggaW4gdnBzKSB2cHNbcG5keF0ubWF0Y2ggJiYgbnVsbCAhPSB2cHNbcG5keF0ubWF0Y2guZm4gJiYgdW1WYWx1ZS5wdXNoKHZwc1twbmR4XS5pbnB1dCk7XHJcbiAgICAgICAgICAgIHZhciB1bm1hc2tlZFZhbHVlID0gMCA9PT0gdW1WYWx1ZS5sZW5ndGggPyBudWxsIDogKGlzUlRMID8gdW1WYWx1ZS5yZXZlcnNlKCkgOiB1bVZhbHVlKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdW5tYXNrZWRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlclZhbHVlID0gKGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkgOiBnZXRCdWZmZXIoKSkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICQuaXNGdW5jdGlvbihvcHRzLm9uVW5NYXNrKSAmJiAodW5tYXNrZWRWYWx1ZSA9IG9wdHMub25Vbk1hc2suY2FsbChpbnB1dCwgYnVmZmVyVmFsdWUsIHVubWFza2VkVmFsdWUsIG9wdHMpIHx8IHVubWFza2VkVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB1bm1hc2tlZFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjYXJldChpbnB1dCwgYmVnaW4sIGVuZCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiB0cmFuc2xhdGVQb3NpdGlvbihwb3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JUTCAmJiBcIm51bWJlclwiID09IHR5cGVvZiBwb3MgJiYgKCFvcHRzLmdyZWVkeSB8fCBcIlwiICE9PSBvcHRzLnBsYWNlaG9sZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiZmZyTGdodCA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IGJmZnJMZ2h0IC0gcG9zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmFuZ2U7XHJcbiAgICAgICAgICAgIGlmIChcIm51bWJlclwiICE9IHR5cGVvZiBiZWdpbikgcmV0dXJuIGlucHV0LnNldFNlbGVjdGlvblJhbmdlID8gKGJlZ2luID0gaW5wdXQuc2VsZWN0aW9uU3RhcnQsXHJcbiAgICAgICAgICAgIGVuZCA9IGlucHV0LnNlbGVjdGlvbkVuZCkgOiB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gKHJhbmdlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCksXHJcbiAgICAgICAgICAgIChyYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lci5wYXJlbnROb2RlID09PSBpbnB1dCB8fCByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lciA9PT0gaW5wdXQpICYmIChiZWdpbiA9IHJhbmdlLnN0YXJ0T2Zmc2V0LFxyXG4gICAgICAgICAgICBlbmQgPSByYW5nZS5lbmRPZmZzZXQpKSA6IGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UgJiYgKHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksXHJcbiAgICAgICAgICAgIGJlZ2luID0gMCAtIHJhbmdlLmR1cGxpY2F0ZSgpLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCAtMWU1KSwgZW5kID0gYmVnaW4gKyByYW5nZS50ZXh0Lmxlbmd0aCksXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJlZ2luOiB0cmFuc2xhdGVQb3NpdGlvbihiZWdpbiksXHJcbiAgICAgICAgICAgICAgICBlbmQ6IHRyYW5zbGF0ZVBvc2l0aW9uKGVuZClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYmVnaW4gPSB0cmFuc2xhdGVQb3NpdGlvbihiZWdpbiksIGVuZCA9IHRyYW5zbGF0ZVBvc2l0aW9uKGVuZCksIGVuZCA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIGVuZCA/IGVuZCA6IGJlZ2luO1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsQ2FsYyA9IHBhcnNlSW50KCgoaW5wdXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3cpLmdldENvbXB1dGVkU3R5bGUgPyAoaW5wdXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3cpLmdldENvbXB1dGVkU3R5bGUoaW5wdXQsIG51bGwpIDogaW5wdXQuY3VycmVudFN0eWxlKS5mb250U2l6ZSkgKiBlbmQ7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5zY3JvbGxMZWZ0ID0gc2Nyb2xsQ2FsYyA+IGlucHV0LnNjcm9sbFdpZHRoID8gc2Nyb2xsQ2FsYyA6IDAsIGFuZHJvaWRjaHJvbWUgfHwgb3B0cy5pbnNlcnRNb2RlICE9PSAhMSB8fCBiZWdpbiAhPT0gZW5kIHx8IGVuZCsrLFxyXG4gICAgICAgICAgICBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSkgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBiZWdpbiwgaW5wdXQuc2VsZWN0aW9uRW5kID0gZW5kOyBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLCB2b2lkIDAgPT09IGlucHV0LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChpbnB1dC5maXJzdENoaWxkLCBiZWdpbiA8IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGggPyBiZWdpbiA6IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKGlucHV0LmZpcnN0Q2hpbGQsIGVuZCA8IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGggPyBlbmQgOiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKCEwKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCksIHNlbC5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpbnB1dC5jcmVhdGVUZXh0UmFuZ2UgJiYgKHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCksIHJhbmdlLmNvbGxhcHNlKCEwKSxcclxuICAgICAgICAgICAgcmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLCBlbmQpLCByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgYmVnaW4pLCByYW5nZS5zZWxlY3QoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKHJldHVybkRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIHBvcywgdGVzdFBvcywgYnVmZmVyID0gZ2V0QnVmZmVyKCksIGJsID0gYnVmZmVyLmxlbmd0aCwgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgcG9zaXRpb25zID0ge30sIGx2VGVzdCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLCBuZHhJbnRsenIgPSB2b2lkIDAgIT09IGx2VGVzdCA/IGx2VGVzdC5sb2NhdG9yLnNsaWNlKCkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgIGZvciAocG9zID0gbHZwICsgMTsgcG9zIDwgYnVmZmVyLmxlbmd0aDsgcG9zKyspIHRlc3RQb3MgPSBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHBvcyAtIDEpLFxyXG4gICAgICAgICAgICBuZHhJbnRsenIgPSB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSwgcG9zaXRpb25zW3Bvc10gPSAkLmV4dGVuZCghMCwge30sIHRlc3RQb3MpO1xyXG4gICAgICAgICAgICB2YXIgbHZUZXN0QWx0ID0gbHZUZXN0ICYmIHZvaWQgMCAhPT0gbHZUZXN0LmFsdGVybmF0aW9uID8gbHZUZXN0LmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgZm9yIChwb3MgPSBibCAtIDE7IHBvcyA+IGx2cCAmJiAodGVzdFBvcyA9IHBvc2l0aW9uc1twb3NdLCAodGVzdFBvcy5tYXRjaC5vcHRpb25hbGl0eSB8fCB0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciB8fCBsdlRlc3RBbHQgJiYgKGx2VGVzdEFsdCAhPT0gcG9zaXRpb25zW3Bvc10ubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dICYmIG51bGwgIT0gdGVzdFBvcy5tYXRjaC5mbiB8fCBudWxsID09PSB0ZXN0UG9zLm1hdGNoLmZuICYmIHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dICYmIGNoZWNrQWx0ZXJuYXRpb25NYXRjaCh0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSwgbHZUZXN0QWx0LnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpKSAmJiBcIlwiICE9PSBnZXRUZXN0cyhwb3MpWzBdLmRlZikpICYmIGJ1ZmZlcltwb3NdID09PSBnZXRQbGFjZWhvbGRlcihwb3MsIHRlc3RQb3MubWF0Y2gpKSA7IHBvcy0tKSBibC0tO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuRGVmaW5pdGlvbiA/IHtcclxuICAgICAgICAgICAgICAgIGw6IGJsLFxyXG4gICAgICAgICAgICAgICAgZGVmOiBwb3NpdGlvbnNbYmxdID8gcG9zaXRpb25zW2JsXS5tYXRjaCA6IHZvaWQgMFxyXG4gICAgICAgICAgICB9IDogYmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBybCA9IGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKCksIGxtaWIgPSBidWZmZXIubGVuZ3RoIC0gMTsgbG1pYiA+IHJsICYmICFpc01hc2sobG1pYikgOyBsbWliLS0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyLnNwbGljZShybCwgbG1pYiArIDEgLSBybCksIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNDb21wbGV0ZShidWZmZXIpIHtcclxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRzLmlzQ29tcGxldGUpKSByZXR1cm4gb3B0cy5pc0NvbXBsZXRlLmNhbGwoZWwsIGJ1ZmZlciwgb3B0cyk7XHJcbiAgICAgICAgICAgIGlmIChcIipcIiA9PT0gb3B0cy5yZXBlYXQpIHJldHVybiB2b2lkIDA7XHJcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9ICExLCBscnAgPSBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbighMCksIGFtbCA9IHNlZWtQcmV2aW91cyhscnAubCk7XHJcbiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IGxycC5kZWYgfHwgbHJwLmRlZi5uZXdCbG9ja01hcmtlciB8fCBscnAuZGVmLm9wdGlvbmFsaXR5IHx8IGxycC5kZWYub3B0aW9uYWxRdWFudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSA9ICEwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGFtbCA+PSBpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdCA9IGdldFRlc3RUZW1wbGF0ZShpKS5tYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdGVzdC5mbiAmJiB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSAmJiB0ZXN0Lm9wdGlvbmFsaXR5ICE9PSAhMCAmJiB0ZXN0Lm9wdGlvbmFsUXVhbnRpZmllciAhPT0gITAgfHwgbnVsbCA9PT0gdGVzdC5mbiAmJiBidWZmZXJbaV0gIT09IGdldFBsYWNlaG9sZGVyKGksIHRlc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzU2VsZWN0aW9uKGJlZ2luLCBlbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzUlRMID8gYmVnaW4gLSBlbmQgPiAxIHx8IGJlZ2luIC0gZW5kID09PSAxICYmIG9wdHMuaW5zZXJ0TW9kZSA6IGVuZCAtIGJlZ2luID4gMSB8fCBlbmQgLSBiZWdpbiA9PT0gMSAmJiBvcHRzLmluc2VydE1vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBFdmVudFJ1bGVyKGV2ZW50SGFuZGxlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbkNvbXBvc2l0aW9uID0gITEsIGtleWRvd25QcmVzc2VkID0gITE7XHJcbiAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSB0aGlzLmlucHV0bWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbU9wdHMgPSAkLmRhdGEodGhpcywgXCJfaW5wdXRtYXNrX29wdHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1PcHRzID8gbmV3IElucHV0bWFzayhpbU9wdHMpLm1hc2sodGhpcykgOiAkKHRoaXMpLm9mZihcIi5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInNldHZhbHVlXCIgPT09IGUudHlwZSB8fCAhKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkT25seSAmJiAhKFwia2V5ZG93blwiID09PSBlLnR5cGUgJiYgZS5jdHJsS2V5ICYmIDY3ID09PSBlLmtleUNvZGUgfHwgb3B0cy50YWJUaHJvdWdoID09PSAhMSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlRBQikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5wdXRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcElucHV0RXZlbnQgPT09ICEwIHx8IGluQ29tcG9zaXRpb24gPT09ICEwKSByZXR1cm4gc2tpcElucHV0RXZlbnQgPSAhMSwgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWRvd25QcmVzc2VkID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImtleWRvd25cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwS2V5UHJlc3NFdmVudCA9ICExLCBpbkNvbXBvc2l0aW9uID0gITEsIGtleWRvd25QcmVzc2VkID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBLZXlQcmVzc0V2ZW50ID09PSAhMCkgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwS2V5UHJlc3NFdmVudCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Db21wb3NpdGlvbiA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBJbnB1dEV2ZW50ID0ga2V5ZG93blByZXNzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Db21wb3NpdGlvbiA9ICExLCBrZXlkb3duUHJlc3NlZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjdXRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwSW5wdXRFdmVudCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudEhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwYXRjaFZhbHVlUHJvcGVydHkobnB0KSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhdGNoVmFsaG9vayh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJC52YWxIb29rcyAmJiAodm9pZCAwID09PSAkLnZhbEhvb2tzW3R5cGVdIHx8ICQudmFsSG9va3NbdHlwZV0uaW5wdXRtYXNrcGF0Y2ggIT09ICEwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxob29rR2V0ID0gJC52YWxIb29rc1t0eXBlXSAmJiAkLnZhbEhvb2tzW3R5cGVdLmdldCA/ICQudmFsSG9va3NbdHlwZV0uZ2V0IDogZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgdmFsaG9va1NldCA9ICQudmFsSG9va3NbdHlwZV0gJiYgJC52YWxIb29rc1t0eXBlXS5zZXQgPyAkLnZhbEhvb2tzW3R5cGVdLnNldCA6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS52YWx1ZSA9IHZhbHVlLCBlbGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJC52YWxIb29rc1t0eXBlXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uaW5wdXRtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzaykgcmV0dXJuIGVsZW0uaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsaG9va0dldChlbGVtKSwgbWFza3NldCA9IGVsZW0uaW5wdXRtYXNrLm1hc2tzZXQsIGJ1ZmZlclRlbXBsYXRlID0gbWFza3NldC5fYnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJUZW1wbGF0ZSA9IGJ1ZmZlclRlbXBsYXRlID8gYnVmZmVyVGVtcGxhdGUuam9pbihcIlwiKSA6IFwiXCIsIHJlc3VsdCAhPT0gYnVmZmVyVGVtcGxhdGUgPyByZXN1bHQgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbGhvb2tHZXQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0LCAkZWxlbSA9ICQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gdmFsaG9va1NldChlbGVtLCB2YWx1ZSksIGVsZW0uaW5wdXRtYXNrICYmICRlbGVtLnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bWFza3BhdGNoOiAhMFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0dGVyKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRtYXNrID8gdGhpcy5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrID8gdGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpIDogdmFsdWVHZXQuY2FsbCh0aGlzKSAhPT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcyAmJiBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzID8gKGlzUlRMID8gY2xlYXJPcHRpb25hbFRhaWwoZ2V0QnVmZmVyKCkpLnJldmVyc2UoKSA6IGNsZWFyT3B0aW9uYWxUYWlsKGdldEJ1ZmZlcigpKSkuam9pbihcIlwiKSA6IHZhbHVlR2V0LmNhbGwodGhpcykgOiBcIlwiIDogdmFsdWVHZXQuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXR0ZXIodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlU2V0LmNhbGwodGhpcywgdmFsdWUpLCB0aGlzLmlucHV0bWFzayAmJiAkKHRoaXMpLnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5zdGFsbE5hdGl2ZVZhbHVlU2V0RmFsbGJhY2sobnB0KSB7XHJcbiAgICAgICAgICAgICAgICAkKG5wdCkub24oXCJtb3VzZWVudGVyLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKSwgaW5wdXQgPSB0aGlzLCB2YWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSB2YWx1ZSAmJiB2YWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAmJiAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdmFsdWVHZXQsIHZhbHVlU2V0O1xyXG4gICAgICAgICAgICBucHQuaW5wdXRtYXNrLl9fdmFsdWVHZXQgfHwgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgdm9pZCAwID09PSBucHQudmFsdWUgPyAodmFsdWVHZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgfSwgdmFsdWVTZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5wdCwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGdldHRlcixcclxuICAgICAgICAgICAgICAgIHNldDogc2V0dGVyXHJcbiAgICAgICAgICAgIH0pKSA6IGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18gJiYgbnB0Ll9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSA/ICh2YWx1ZUdldCA9IG5wdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIiksXHJcbiAgICAgICAgICAgIHZhbHVlU2V0ID0gbnB0Ll9fbG9va3VwU2V0dGVyX18oXCJ2YWx1ZVwiKSwgbnB0Ll9fZGVmaW5lR2V0dGVyX18oXCJ2YWx1ZVwiLCBnZXR0ZXIpLFxyXG4gICAgICAgICAgICBucHQuX19kZWZpbmVTZXR0ZXJfXyhcInZhbHVlXCIsIHNldHRlcikpIDogKHZhbHVlR2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5wdC52YWx1ZTtcclxuICAgICAgICAgICAgfSwgdmFsdWVTZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIG5wdC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LCBwYXRjaFZhbGhvb2sobnB0LnR5cGUpLCBpbnN0YWxsTmF0aXZlVmFsdWVTZXRGYWxsYmFjayhucHQpKSwgbnB0LmlucHV0bWFzay5fX3ZhbHVlR2V0ID0gdmFsdWVHZXQsXHJcbiAgICAgICAgICAgIG5wdC5pbnB1dG1hc2suX3ZhbHVlR2V0ID0gZnVuY3Rpb24gKG92ZXJydWxlUlRMKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNSVEwgJiYgb3ZlcnJ1bGVSVEwgIT09ICEwID8gdmFsdWVHZXQuY2FsbCh0aGlzLmVsKS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IHZhbHVlR2V0LmNhbGwodGhpcy5lbCk7XHJcbiAgICAgICAgICAgIH0sIG5wdC5pbnB1dG1hc2suX192YWx1ZVNldCA9IHZhbHVlU2V0LCBucHQuaW5wdXRtYXNrLl92YWx1ZVNldCA9IGZ1bmN0aW9uICh2YWx1ZSwgb3ZlcnJ1bGVSVEwpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlU2V0LmNhbGwodGhpcy5lbCwgbnVsbCA9PT0gdmFsdWUgfHwgdm9pZCAwID09PSB2YWx1ZSA/IFwiXCIgOiBvdmVycnVsZVJUTCAhPT0gITAgJiYgaXNSVEwgPyB2YWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IHZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShpbnB1dCwgaywgcG9zLCBzdHJpY3QpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhbGl6ZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLmtlZXBTdGF0aWMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoITApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0QWx0LCB2YWxpZElucHV0cyA9IFtdLCBwb3NpdGlvbnNDbG9uZSA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxhc3RBbHQgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpIDsgbGFzdEFsdCA+PSAwOyBsYXN0QWx0LS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRQb3MgJiYgKG51bGwgIT0gdmFsaWRQb3MubWF0Y2guZm4gJiYgdmFsaWRJbnB1dHMucHVzaCh2YWxpZFBvcy5pbnB1dCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0sIHZvaWQgMCAhPT0gdmFsaWRQb3MuYWx0ZXJuYXRpb24gJiYgdmFsaWRQb3MubG9jYXRvclt2YWxpZFBvcy5hbHRlcm5hdGlvbl0gPT09IGdldFRlc3RUZW1wbGF0ZShsYXN0QWx0KS5sb2NhdG9yW3ZhbGlkUG9zLmFsdGVybmF0aW9uXSkpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEFsdCA+IC0xKSBmb3IgKDsgdmFsaWRJbnB1dHMubGVuZ3RoID4gMDspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXByZXNzID0gJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlwcmVzcy53aGljaCA9IHZhbGlkSW5wdXRzLnBvcCgpLmNoYXJDb2RlQXQoMCksIGtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMSwgITEsIGdldE1hc2tTZXQoKS5wKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gJC5leHRlbmQoITAsIHt9LCBwb3NpdGlvbnNDbG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChvcHRzLm51bWVyaWNJbnB1dCB8fCBpc1JUTCkgJiYgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSA/IGsgPSBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUgOiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUgJiYgKGsgPSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UpLFxyXG4gICAgICAgICAgICBpc1JUTCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwZW5kID0gcG9zLmVuZDtcclxuICAgICAgICAgICAgICAgIHBvcy5lbmQgPSBwb3MuYmVnaW4sIHBvcy5iZWdpbiA9IHBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFICYmIChwb3MuZW5kIC0gcG9zLmJlZ2luIDwgMSB8fCBvcHRzLmluc2VydE1vZGUgPT09ICExKSA/IChwb3MuYmVnaW4gPSBzZWVrUHJldmlvdXMocG9zLmJlZ2luKSxcclxuICAgICAgICAgICAgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXSB8fCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCAhPT0gb3B0cy5ncm91cFNlcGFyYXRvciAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCAhPT0gb3B0cy5yYWRpeFBvaW50IHx8IHBvcy5iZWdpbi0tKSA6IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkRFTEVURSAmJiBwb3MuYmVnaW4gPT09IHBvcy5lbmQgJiYgKHBvcy5lbmQgPSBpc01hc2socG9zLmVuZCkgPyBwb3MuZW5kICsgMSA6IHNlZWtOZXh0KHBvcy5lbmQpICsgMSxcclxuICAgICAgICAgICAgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXSB8fCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCAhPT0gb3B0cy5ncm91cFNlcGFyYXRvciAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCAhPT0gb3B0cy5yYWRpeFBvaW50IHx8IHBvcy5lbmQrKyksXHJcbiAgICAgICAgICAgIHN0cmlwVmFsaWRQb3NpdGlvbnMocG9zLmJlZ2luLCBwb3MuZW5kLCAhMSwgc3RyaWN0KSwgc3RyaWN0ICE9PSAhMCAmJiBnZW5lcmFsaXplKCk7XHJcbiAgICAgICAgICAgIHZhciBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbihwb3MuYmVnaW4pO1xyXG4gICAgICAgICAgICBsdnAgPCBwb3MuYmVnaW4gPyAoLTEgPT09IGx2cCAmJiByZXNldE1hc2tTZXQoKSwgZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dChsdnApKSA6IHN0cmljdCAhPT0gITAgJiYgKGdldE1hc2tTZXQoKS5wID0gcG9zLmJlZ2luKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24ga2V5ZG93bkV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgJGlucHV0ID0gJChpbnB1dCksIGsgPSBlLmtleUNvZGUsIHBvcyA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFIHx8IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkRFTEVURSB8fCBpcGhvbmUgJiYgMTI3ID09PSBrIHx8IGUuY3RybEtleSAmJiA4OCA9PT0gayAmJiAhaXNJbnB1dEV2ZW50U3VwcG9ydGVkKFwiY3V0XCIpID8gKGUucHJldmVudERlZmF1bHQoKSxcclxuICAgICAgICAgICAgODggPT09IGsgJiYgKHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikpLCBoYW5kbGVSZW1vdmUoaW5wdXQsIGssIHBvcyksIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgZ2V0TWFza1NldCgpLnAsIGUsIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSksXHJcbiAgICAgICAgICAgIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpID8gJGlucHV0LnRyaWdnZXIoXCJjbGVhcmVkXCIpIDogaXNDb21wbGV0ZShnZXRCdWZmZXIoKSkgPT09ICEwICYmICRpbnB1dC50cmlnZ2VyKFwiY29tcGxldGVcIiksXHJcbiAgICAgICAgICAgIG9wdHMuc2hvd1Rvb2x0aXAgJiYgKGlucHV0LnRpdGxlID0gb3B0cy50b29sdGlwIHx8IGdldE1hc2tTZXQoKS5tYXNrKSkgOiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5FTkQgfHwgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUEFHRV9ET1dOID8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKTtcclxuICAgICAgICAgICAgICAgIG9wdHMuaW5zZXJ0TW9kZSB8fCBjYXJldFBvcyAhPT0gZ2V0TWFza0xlbmd0aCgpIHx8IGUuc2hpZnRLZXkgfHwgY2FyZXRQb3MtLSwgY2FyZXQoaW5wdXQsIGUuc2hpZnRLZXkgPyBwb3MuYmVnaW4gOiBjYXJldFBvcywgY2FyZXRQb3MpO1xyXG4gICAgICAgICAgICB9LCAwKSA6IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkhPTUUgJiYgIWUuc2hpZnRLZXkgfHwgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUEFHRV9VUCA/IGNhcmV0KGlucHV0LCAwLCBlLnNoaWZ0S2V5ID8gcG9zLmJlZ2luIDogMCkgOiAob3B0cy51bmRvT25Fc2NhcGUgJiYgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuRVNDQVBFIHx8IDkwID09PSBrICYmIGUuY3RybEtleSkgJiYgZS5hbHRLZXkgIT09ICEwID8gKGNoZWNrVmFsKGlucHV0LCAhMCwgITEsIHVuZG9WYWx1ZS5zcGxpdChcIlwiKSksXHJcbiAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwiY2xpY2tcIikpIDogayAhPT0gSW5wdXRtYXNrLmtleUNvZGUuSU5TRVJUIHx8IGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5ID8gb3B0cy50YWJUaHJvdWdoID09PSAhMCAmJiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5UQUIgPyAoZS5zaGlmdEtleSA9PT0gITAgPyAobnVsbCA9PT0gZ2V0VGVzdChwb3MuYmVnaW4pLmZuICYmIChwb3MuYmVnaW4gPSBzZWVrTmV4dChwb3MuYmVnaW4pKSxcclxuICAgICAgICAgICAgcG9zLmVuZCA9IHNlZWtQcmV2aW91cyhwb3MuYmVnaW4sICEwKSwgcG9zLmJlZ2luID0gc2Vla1ByZXZpb3VzKHBvcy5lbmQsICEwKSkgOiAocG9zLmJlZ2luID0gc2Vla05leHQocG9zLmJlZ2luLCAhMCksXHJcbiAgICAgICAgICAgIHBvcy5lbmQgPSBzZWVrTmV4dChwb3MuYmVnaW4sICEwKSwgcG9zLmVuZCA8IGdldE1hc2tMZW5ndGgoKSAmJiBwb3MuZW5kLS0pLCBwb3MuYmVnaW4gPCBnZXRNYXNrTGVuZ3RoKCkgJiYgKGUucHJldmVudERlZmF1bHQoKSxcclxuICAgICAgICAgICAgY2FyZXQoaW5wdXQsIHBvcy5iZWdpbiwgcG9zLmVuZCkpKSA6IG9wdHMuaW5zZXJ0TW9kZSAhPT0gITEgfHwgZS5zaGlmdEtleSB8fCAoayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJldFBvcyA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCBjYXJldFBvcy5iZWdpbik7XHJcbiAgICAgICAgICAgIH0sIDApIDogayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuTEVGVCAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJldFBvcyA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCBpc1JUTCA/IGNhcmV0UG9zLmJlZ2luICsgMSA6IGNhcmV0UG9zLmJlZ2luIC0gMSk7XHJcbiAgICAgICAgICAgIH0sIDApKSA6IChvcHRzLmluc2VydE1vZGUgPSAhb3B0cy5pbnNlcnRNb2RlLCBjYXJldChpbnB1dCwgb3B0cy5pbnNlcnRNb2RlIHx8IHBvcy5iZWdpbiAhPT0gZ2V0TWFza0xlbmd0aCgpID8gcG9zLmJlZ2luIDogcG9zLmJlZ2luIC0gMSkpLFxyXG4gICAgICAgICAgICBvcHRzLm9uS2V5RG93bihlLCBnZXRCdWZmZXIoKSwgY2FyZXQoaW5wdXQpLmJlZ2luLCBvcHRzKSwgaWdub3JhYmxlID0gLTEgIT09ICQuaW5BcnJheShrLCBvcHRzLmlnbm9yYWJsZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBrZXlwcmVzc0V2ZW50KGUsIGNoZWNrdmFsLCB3cml0ZU91dCwgc3RyaWN0LCBuZHgpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgJGlucHV0ID0gJChpbnB1dCksIGsgPSBlLndoaWNoIHx8IGUuY2hhckNvZGUgfHwgZS5rZXlDb2RlO1xyXG4gICAgICAgICAgICBpZiAoIShjaGVja3ZhbCA9PT0gITAgfHwgZS5jdHJsS2V5ICYmIGUuYWx0S2V5KSAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBpZ25vcmFibGUpKSByZXR1cm4gayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuRU5URVIgJiYgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpICYmICh1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLFxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcbiAgICAgICAgICAgIH0sIDApKSwgITA7XHJcbiAgICAgICAgICAgIGlmIChrKSB7XHJcbiAgICAgICAgICAgICAgICA0NiA9PT0gayAmJiBlLnNoaWZ0S2V5ID09PSAhMSAmJiBcIixcIiA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChrID0gNDQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcndhcmRQb3NpdGlvbiwgcG9zID0gY2hlY2t2YWwgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46IG5keCxcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IG5keFxyXG4gICAgICAgICAgICAgICAgfSA6IGNhcmV0KGlucHV0KSwgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoayksIGlzU2xjdG4gPSBpc1NlbGVjdGlvbihwb3MuYmVnaW4sIHBvcy5lbmQpO1xyXG4gICAgICAgICAgICAgICAgaXNTbGN0biAmJiAoZ2V0TWFza1NldCgpLnVuZG9Qb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVSZW1vdmUoaW5wdXQsIElucHV0bWFzay5rZXlDb2RlLkRFTEVURSwgcG9zLCAhMCksIHBvcy5iZWdpbiA9IGdldE1hc2tTZXQoKS5wLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5pbnNlcnRNb2RlIHx8IChvcHRzLmluc2VydE1vZGUgPSAhb3B0cy5pbnNlcnRNb2RlLCBzZXRWYWxpZFBvc2l0aW9uKHBvcy5iZWdpbiwgc3RyaWN0KSxcclxuICAgICAgICAgICAgICAgIG9wdHMuaW5zZXJ0TW9kZSA9ICFvcHRzLmluc2VydE1vZGUpLCBpc1NsY3RuID0gIW9wdHMubXVsdGkpLCBnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXIgPSAhMDtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gaXNSVEwgJiYgIWlzU2xjdG4gPyBwb3MuZW5kIDogcG9zLmJlZ2luLCB2YWxSZXN1bHQgPSBpc1ZhbGlkKHAsIGMsIHN0cmljdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsUmVzdWx0ICE9PSAhMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxSZXN1bHQgIT09ICEwICYmIChwID0gdm9pZCAwICE9PSB2YWxSZXN1bHQucG9zID8gdmFsUmVzdWx0LnBvcyA6IHAsIGMgPSB2b2lkIDAgIT09IHZhbFJlc3VsdC5jID8gdmFsUmVzdWx0LmMgOiBjKSxcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoITApLCB2b2lkIDAgIT09IHZhbFJlc3VsdC5jYXJldCkgZm9yd2FyZFBvc2l0aW9uID0gdmFsUmVzdWx0LmNhcmV0OyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZwcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBvc2l0aW9uID0gIW9wdHMua2VlcFN0YXRpYyAmJiAodm9pZCAwICE9PSB2cHNbcCArIDFdICYmIGdldFRlc3RzKHAgKyAxLCB2cHNbcF0ubG9jYXRvci5zbGljZSgpLCBwKS5sZW5ndGggPiAxIHx8IHZvaWQgMCAhPT0gdnBzW3BdLmFsdGVybmF0aW9uKSA/IHAgKyAxIDogc2Vla05leHQocCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS5wID0gZm9yd2FyZFBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlT3V0ICE9PSAhMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMub25LZXlWYWxpZGF0aW9uLmNhbGwoc2VsZiwgdmFsUmVzdWx0LCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAwKSwgZ2V0TWFza1NldCgpLndyaXRlT3V0QnVmZmVyICYmIHZhbFJlc3VsdCAhPT0gITEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgYnVmZmVyLCBjaGVja3ZhbCA/IHZvaWQgMCA6IG9wdHMubnVtZXJpY0lucHV0ID8gc2Vla1ByZXZpb3VzKGZvcndhcmRQb3NpdGlvbikgOiBmb3J3YXJkUG9zaXRpb24sIGUsIGNoZWNrdmFsICE9PSAhMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrdmFsICE9PSAhMCAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGUoYnVmZmVyKSA9PT0gITAgJiYgJGlucHV0LnRyaWdnZXIoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlzU2xjdG4gJiYgKGdldE1hc2tTZXQoKS5idWZmZXIgPSB2b2lkIDAsIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9IGdldE1hc2tTZXQoKS51bmRvUG9zaXRpb25zKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpc1NsY3RuICYmIChnZXRNYXNrU2V0KCkuYnVmZmVyID0gdm9pZCAwLCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSBnZXRNYXNrU2V0KCkudW5kb1Bvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5zaG93VG9vbHRpcCAmJiAoaW5wdXQudGl0bGUgPSBvcHRzLnRvb2x0aXAgfHwgZ2V0TWFza1NldCgpLm1hc2spLCBjaGVja3ZhbCAmJiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRzLm9uQmVmb3JlV3JpdGUoZSwgZ2V0QnVmZmVyKCksIGZvcndhcmRQb3NpdGlvbiwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSByZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKHJlZnJlc2ggPT09ICEwID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCByZXN1bHQuYnVmZmVyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKSwgcmVzdWx0LmNhcmV0ICYmIChnZXRNYXNrU2V0KCkucCA9IHJlc3VsdC5jYXJldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgY2hlY2t2YWwpIHJldHVybiB2YWxSZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGFzdGVFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsIGV2ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsICRpbnB1dCA9ICQoaW5wdXQpLCBpbnB1dFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCghMCksIGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICBpZiAoXCJwcm9wZXJ0eWNoYW5nZVwiID09PSBlLnR5cGUgJiYgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCA8PSBnZXRNYXNrTGVuZ3RoKCkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgaWYgKFwicGFzdGVcIiA9PT0gZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVCZWZvcmVDYXJldCA9IGlucHV0VmFsdWUuc3Vic3RyKDAsIGNhcmV0UG9zLmJlZ2luKSwgdmFsdWVBZnRlckNhcmV0ID0gaW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuZW5kLCBpbnB1dFZhbHVlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZUJlZm9yZUNhcmV0ID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKDAsIGNhcmV0UG9zLmJlZ2luKS5qb2luKFwiXCIpICYmICh2YWx1ZUJlZm9yZUNhcmV0ID0gXCJcIiksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZUFmdGVyQ2FyZXQgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoY2FyZXRQb3MuZW5kKS5qb2luKFwiXCIpICYmICh2YWx1ZUFmdGVyQ2FyZXQgPSBcIlwiKSxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGlwYm9hcmREYXRhICYmIHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEgPyBpbnB1dFZhbHVlID0gdmFsdWVCZWZvcmVDYXJldCArIHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpICsgdmFsdWVBZnRlckNhcmV0IDogZXYuY2xpcGJvYXJkRGF0YSAmJiBldi5jbGlwYm9hcmREYXRhLmdldERhdGEgJiYgKGlucHV0VmFsdWUgPSB2YWx1ZUJlZm9yZUNhcmV0ICsgZXYuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSArIHZhbHVlQWZ0ZXJDYXJldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBhc3RlVmFsdWUgPSBpbnB1dFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVQYXN0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXN0ZVZhbHVlID0gb3B0cy5vbkJlZm9yZVBhc3RlLmNhbGwoaW5wdXQsIGlucHV0VmFsdWUsIG9wdHMpLCBwYXN0ZVZhbHVlID09PSAhMSkgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxcclxuICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgcGFzdGVWYWx1ZSB8fCAocGFzdGVWYWx1ZSA9IGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja1ZhbChpbnB1dCwgITEsICExLCBpc1JUTCA/IHBhc3RlVmFsdWUuc3BsaXQoXCJcIikucmV2ZXJzZSgpIDogcGFzdGVWYWx1ZS50b1N0cmluZygpLnNwbGl0KFwiXCIpKSxcclxuICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCB2b2lkIDAsIGUsICEwKSwgJGlucHV0LnRyaWdnZXIoXCJjbGlja1wiKSwgaXNDb21wbGV0ZShnZXRCdWZmZXIoKSkgPT09ICEwICYmICRpbnB1dC50cmlnZ2VyKFwiY29tcGxldGVcIiksXHJcbiAgICAgICAgICAgICExO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpbnB1dEZhbGxCYWNrRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBjaGVja1ZhbChpbnB1dCwgITAsICExLCBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkuc3BsaXQoXCJcIikpLCBpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSA9PT0gITAgJiYgJChpbnB1dCkudHJpZ2dlcihcImNvbXBsZXRlXCIpLFxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vYmlsZUlucHV0RXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCBjYXJldFBvcyA9IGNhcmV0KGlucHV0KSwgY3VycmVudFZhbHVlID0gaW5wdXQuX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgoZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpKSArIFwiKSpcIiksIFwiXCIpLFxyXG4gICAgICAgICAgICBjYXJldFBvcy5iZWdpbiA+IGN1cnJlbnRWYWx1ZS5sZW5ndGggJiYgKGNhcmV0KGlucHV0LCBjdXJyZW50VmFsdWUubGVuZ3RoKSwgY2FyZXRQb3MgPSBjYXJldChpbnB1dCkpLFxyXG4gICAgICAgICAgICBnZXRCdWZmZXIoKS5sZW5ndGggLSBjdXJyZW50VmFsdWUubGVuZ3RoICE9PSAxIHx8IGN1cnJlbnRWYWx1ZS5jaGFyQXQoY2FyZXRQb3MuYmVnaW4pID09PSBnZXRCdWZmZXIoKVtjYXJldFBvcy5iZWdpbl0gfHwgY3VycmVudFZhbHVlLmNoYXJBdChjYXJldFBvcy5iZWdpbiArIDEpID09PSBnZXRCdWZmZXIoKVtjYXJldFBvcy5iZWdpbl0gfHwgaXNNYXNrKGNhcmV0UG9zLmJlZ2luKSA/IGlucHV0RmFsbEJhY2tFdmVudC5jYWxsKHRoaXMsIGUpIDogKGUua2V5Q29kZSA9IG9wdHMua2V5Q29kZS5CQUNLU1BBQ0UsXHJcbiAgICAgICAgICAgIGtleWRvd25FdmVudC5jYWxsKGlucHV0LCBlKSksIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY29tcG9zaXRpb25TdGFydEV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGV2ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGU7XHJcbiAgICAgICAgICAgIHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksIFwiXCIgPT09IGNvbXBvc2l0aW9uRGF0YSB8fCAwICE9PSBldi5kYXRhLmluZGV4T2YoY29tcG9zaXRpb25EYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY29tcG9zaXRpb25VcGRhdGVFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsIGV2ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGU7XHJcbiAgICAgICAgICAgIDAgPT09IGV2LmRhdGEuaW5kZXhPZihjb21wb3NpdGlvbkRhdGEpICYmIChyZXNldE1hc2tTZXQoKSwgZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dCgtMSksXHJcbiAgICAgICAgICAgIHNraXBJbnB1dEV2ZW50ID0gITApO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBuZXdEYXRhID0gZXYuZGF0YSwgaSA9IDA7IGkgPCBuZXdEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSAkLkV2ZW50KFwia2V5cHJlc3NcIik7XHJcbiAgICAgICAgICAgICAgICBrZXlwcmVzcy53aGljaCA9IG5ld0RhdGEuY2hhckNvZGVBdChpKSwgc2tpcEtleVByZXNzRXZlbnQgPSAhMSwgaWdub3JhYmxlID0gITEsXHJcbiAgICAgICAgICAgICAgICBrZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsIGtleXByZXNzLCAhMCwgITEsICExLCBnZXRNYXNrU2V0KCkucCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9yd2FyZFBvc2l0aW9uID0gZ2V0TWFza1NldCgpLnA7XHJcbiAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIG9wdHMubnVtZXJpY0lucHV0ID8gc2Vla1ByZXZpb3VzKGZvcndhcmRQb3NpdGlvbikgOiBmb3J3YXJkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9LCAwKSwgY29tcG9zaXRpb25EYXRhID0gZXYuZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY29tcG9zaXRpb25FbmRFdmVudChlKSB7IH1cclxuICAgICAgICBmdW5jdGlvbiBzZXRWYWx1ZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgdmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgIGNoZWNrVmFsKGlucHV0LCAhMCwgITEsICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gb3B0cy5vbkJlZm9yZU1hc2suY2FsbChpbnB1dCwgdmFsdWUsIG9wdHMpIHx8IHZhbHVlIDogdmFsdWUpLnNwbGl0KFwiXCIpKSxcclxuICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSwgKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgfHwgb3B0cy5jbGVhckluY29tcGxldGUpICYmIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpICYmIGlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGZvY3VzRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCBucHRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgb3B0cy5zaG93TWFza09uRm9jdXMgJiYgKCFvcHRzLnNob3dNYXNrT25Ib3ZlciB8fCBvcHRzLnNob3dNYXNrT25Ib3ZlciAmJiBcIlwiID09PSBucHRWYWx1ZSkgPyBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSkgOiBtb3VzZUVudGVyID09PSAhMSAmJiBjYXJldChpbnB1dCwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpLFxyXG4gICAgICAgICAgICBvcHRzLnBvc2l0aW9uQ2FyZXRPblRhYiA9PT0gITAgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpO1xyXG4gICAgICAgICAgICB9LCAwKSwgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW91c2VsZWF2ZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKG1vdXNlRW50ZXIgPSAhMSwgb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLnNsaWNlKCksIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQgJiYgbnB0VmFsdWUgIT09IGlucHV0LmdldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpICYmIFwiXCIgIT09IG5wdFZhbHVlICYmICgtMSA9PT0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSAmJiBucHRWYWx1ZSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpID8gYnVmZmVyID0gW10gOiBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpLFxyXG4gICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGJ1ZmZlcikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrRXZlbnQoZSkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBkb1JhZGl4Rm9jdXMoY2xpY2tQb3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnJhZGl4Rm9jdXMgJiYgXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZwcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSB2cHNbY2xpY2tQb3NdIHx8IHZwc1tjbGlja1Bvc10uaW5wdXQgPT09IGdldFBsYWNlaG9sZGVyKGNsaWNrUG9zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tQb3MgPCBzZWVrTmV4dCgtMSkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4UG9zID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgZ2V0QnVmZmVyKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgIT09IHJhZGl4UG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2cCBpbiB2cHMpIGlmICh2cCA+IHJhZGl4UG9zICYmIHZwc1t2cF0uaW5wdXQgIT09IGdldFBsYWNlaG9sZGVyKHZwKSkgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkQ2FyZXQgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDYXJldC5iZWdpbiA9PT0gc2VsZWN0ZWRDYXJldC5lbmQpIGlmIChkb1JhZGl4Rm9jdXMoc2VsZWN0ZWRDYXJldC5iZWdpbikpIGNhcmV0KGlucHV0LCAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBnZXRCdWZmZXIoKSkpOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tQb3NpdGlvbiA9IHNlbGVjdGVkQ2FyZXQuYmVnaW4sIGx2Y2xpY2tQb3NpdGlvbiA9IGdldExhc3RWYWxpZFBvc2l0aW9uKGNsaWNrUG9zaXRpb24pLCBsYXN0UG9zaXRpb24gPSBzZWVrTmV4dChsdmNsaWNrUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RQb3NpdGlvbiA+IGNsaWNrUG9zaXRpb24gPyBjYXJldChpbnB1dCwgaXNNYXNrKGNsaWNrUG9zaXRpb24pIHx8IGlzTWFzayhjbGlja1Bvc2l0aW9uIC0gMSkgPyBjbGlja1Bvc2l0aW9uIDogc2Vla05leHQoY2xpY2tQb3NpdGlvbikpIDogY2FyZXQoaW5wdXQsIG9wdHMubnVtZXJpY0lucHV0ID8gMCA6IGxhc3RQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZGJsY2xpY2tFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIDAsIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGN1dEV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgJGlucHV0ID0gJChpbnB1dCksIHBvcyA9IGNhcmV0KGlucHV0KSwgZXYgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZSwgY2xpcGJvYXJkRGF0YSA9IHdpbmRvdy5jbGlwYm9hcmREYXRhIHx8IGV2LmNsaXBib2FyZERhdGEsIGNsaXBEYXRhID0gaXNSVEwgPyBnZXRCdWZmZXIoKS5zbGljZShwb3MuZW5kLCBwb3MuYmVnaW4pIDogZ2V0QnVmZmVyKCkuc2xpY2UocG9zLmJlZ2luLCBwb3MuZW5kKTtcclxuICAgICAgICAgICAgY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dFwiLCBpc1JUTCA/IGNsaXBEYXRhLnJldmVyc2UoKS5qb2luKFwiXCIpIDogY2xpcERhdGEuam9pbihcIlwiKSksXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kICYmIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKSwgaGFuZGxlUmVtb3ZlKGlucHV0LCBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUsIHBvcyksXHJcbiAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgZ2V0TWFza1NldCgpLnAsIGUsIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSksXHJcbiAgICAgICAgICAgIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpICYmICRpbnB1dC50cmlnZ2VyKFwiY2xlYXJlZFwiKSxcclxuICAgICAgICAgICAgb3B0cy5zaG93VG9vbHRpcCAmJiAoaW5wdXQudGl0bGUgPSBvcHRzLnRvb2x0aXAgfHwgZ2V0TWFza1NldCgpLm1hc2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBibHVyRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKSwgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnB0VmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCksIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgIT09IGJ1ZmZlci5qb2luKFwiXCIpICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpLCB1bmRvVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgIH0sIDApLCBcIlwiICE9PSBucHRWYWx1ZSAmJiAob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyAmJiAoLTEgPT09IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgJiYgbnB0VmFsdWUgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/IGJ1ZmZlciA9IFtdIDogY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKSksXHJcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlKGJ1ZmZlcikgPT09ICExICYmIChzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcImluY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICB9LCAwKSwgb3B0cy5jbGVhckluY29tcGxldGUgJiYgKHJlc2V0TWFza1NldCgpLCBidWZmZXIgPSBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzID8gW10gOiBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKCkpKSxcclxuICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIHZvaWQgMCwgZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vdXNlZW50ZXJFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgIG1vdXNlRW50ZXIgPSAhMCwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQgJiYgb3B0cy5zaG93TWFza09uSG92ZXIgJiYgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpICYmIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1hc2soZWxlbSkge1xyXG4gICAgICAgICAgICBpZiAoZWwgPSBlbGVtLCAkZWwgPSAkKGVsKSwgb3B0cy5zaG93VG9vbHRpcCAmJiAoZWwudGl0bGUgPSBvcHRzLnRvb2x0aXAgfHwgZ2V0TWFza1NldCgpLm1hc2spLFxyXG4gICAgICAgICAgICAoXCJydGxcIiA9PT0gZWwuZGlyIHx8IG9wdHMucmlnaHRBbGlnbikgJiYgKGVsLnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIiksIChcInJ0bFwiID09PSBlbC5kaXIgfHwgb3B0cy5udW1lcmljSW5wdXQpICYmIChlbC5kaXIgPSBcImx0clwiLFxyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIiksIGVsLmlucHV0bWFzay5pc1JUTCA9ICEwLCBpc1JUTCA9ICEwKSwgJGVsLm9mZihcIi5pbnB1dG1hc2tcIiksXHJcbiAgICAgICAgICAgIHBhdGNoVmFsdWVQcm9wZXJ0eShlbCksIChcIklOUFVUXCIgPT09IGVsLnRhZ05hbWUgJiYgaXNJbnB1dFR5cGVTdXBwb3J0ZWQoZWwuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgfHwgZWwuaXNDb250ZW50RWRpdGFibGUpICYmICgkKGVsLmZvcm0pLm9uKFwic3VibWl0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAmJiAkZWwudHJpZ2dlcihcImNoYW5nZVwiKSwgb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyAmJiAtMSA9PT0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSAmJiBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0ICYmIGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpICYmIGVsLmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIiksXHJcbiAgICAgICAgICAgICAgICBvcHRzLnJlbW92ZU1hc2tPblN1Ym1pdCAmJiAoZWwuaW5wdXRtYXNrLl92YWx1ZVNldChlbC5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpLCAhMCksXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihlbCwgZ2V0QnVmZmVyKCkpO1xyXG4gICAgICAgICAgICB9LCAwKSk7XHJcbiAgICAgICAgICAgIH0pLm9uKFwicmVzZXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsLnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9KSwgJGVsLm9uKFwibW91c2VlbnRlci5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIobW91c2VlbnRlckV2ZW50KSkub24oXCJibHVyLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihibHVyRXZlbnQpKS5vbihcImZvY3VzLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihmb2N1c0V2ZW50KSkub24oXCJtb3VzZWxlYXZlLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihtb3VzZWxlYXZlRXZlbnQpKS5vbihcImNsaWNrLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihjbGlja0V2ZW50KSkub24oXCJkYmxjbGljay5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoZGJsY2xpY2tFdmVudCkpLm9uKFBhc3RlRXZlbnRUeXBlICsgXCIuaW5wdXRtYXNrIGRyYWdkcm9wLmlucHV0bWFzayBkcm9wLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihwYXN0ZUV2ZW50KSkub24oXCJjdXQuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGN1dEV2ZW50KSkub24oXCJjb21wbGV0ZS5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIob3B0cy5vbmNvbXBsZXRlKSkub24oXCJpbmNvbXBsZXRlLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihvcHRzLm9uaW5jb21wbGV0ZSkpLm9uKFwiY2xlYXJlZC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIob3B0cy5vbmNsZWFyZWQpKS5vbihcImtleWRvd24uaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGtleWRvd25FdmVudCkpLm9uKFwia2V5cHJlc3MuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGtleXByZXNzRXZlbnQpKSxcclxuICAgICAgICAgICAgYW5kcm9pZGZpcmVmb3ggfHwgJGVsLm9uKFwiY29tcG9zaXRpb25zdGFydC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoY29tcG9zaXRpb25TdGFydEV2ZW50KSkub24oXCJjb21wb3NpdGlvbnVwZGF0ZS5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoY29tcG9zaXRpb25VcGRhdGVFdmVudCkpLm9uKFwiY29tcG9zaXRpb25lbmQuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGNvbXBvc2l0aW9uRW5kRXZlbnQpKSxcclxuICAgICAgICAgICAgXCJwYXN0ZVwiID09PSBQYXN0ZUV2ZW50VHlwZSAmJiAkZWwub24oXCJpbnB1dC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoaW5wdXRGYWxsQmFja0V2ZW50KSksXHJcbiAgICAgICAgICAgIChhbmRyb2lkIHx8IGFuZHJvaWRmaXJlZm94IHx8IGFuZHJvaWRjaHJvbWUgfHwga2luZGxlKSAmJiAoJGVsLm9mZihcImlucHV0LmlucHV0bWFza1wiKSxcclxuICAgICAgICAgICAgJGVsLm9uKFwiaW5wdXQuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKG1vYmlsZUlucHV0RXZlbnQpKSkpLCAkZWwub24oXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoc2V0VmFsdWVFdmVudCkpLFxyXG4gICAgICAgICAgICBcIlwiICE9PSBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgfHwgb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyA9PT0gITEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gb3B0cy5vbkJlZm9yZU1hc2suY2FsbChlbCwgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpLCBvcHRzKSB8fCBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgOiBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgICAgICBjaGVja1ZhbChlbCwgITAsICExLCBpbml0aWFsVmFsdWUuc3BsaXQoXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKSwgaXNDb21wbGV0ZShidWZmZXIpID09PSAhMSAmJiBvcHRzLmNsZWFySW5jb21wbGV0ZSAmJiByZXNldE1hc2tTZXQoKSxcclxuICAgICAgICAgICAgICAgIG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgKGJ1ZmZlci5qb2luKFwiXCIpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyBidWZmZXIgPSBbXSA6IGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcikpLFxyXG4gICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoZWwsIGJ1ZmZlciksIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsICYmIGNhcmV0KGVsLCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuZG9WYWx1ZSwgY29tcG9zaXRpb25EYXRhLCBlbCwgJGVsLCBtYXhMZW5ndGgsIHZhbHVlQnVmZmVyLCBpc1JUTCA9ICExLCBza2lwS2V5UHJlc3NFdmVudCA9ICExLCBza2lwSW5wdXRFdmVudCA9ICExLCBpZ25vcmFibGUgPSAhMSwgbW91c2VFbnRlciA9ICEwO1xyXG4gICAgICAgIGlmICh2b2lkIDAgIT09IGFjdGlvbk9iaikgc3dpdGNoIChhY3Rpb25PYmouYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpc0NvbXBsZXRlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwgPSBhY3Rpb25PYmouZWwsIGlzQ29tcGxldGUoZ2V0QnVmZmVyKCkpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInVubWFza2VkdmFsdWVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbCA9IGFjdGlvbk9iai5lbCwgdm9pZCAwICE9PSBlbCAmJiB2b2lkIDAgIT09IGVsLmlucHV0bWFzayA/IChtYXNrc2V0ID0gZWwuaW5wdXRtYXNrLm1hc2tzZXQsXHJcbiAgICAgICAgICAgICAgICBvcHRzID0gZWwuaW5wdXRtYXNrLm9wdHMsIGlzUlRMID0gZWwuaW5wdXRtYXNrLmlzUlRMLCB2YWx1ZUJ1ZmZlciA9IGlzUlRMID8gZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpKSA6IHZhbHVlQnVmZmVyID0gYWN0aW9uT2JqLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgJiYgKGlzUlRMID0gITApLCB2YWx1ZUJ1ZmZlciA9ICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gb3B0cy5vbkJlZm9yZU1hc2sodmFsdWVCdWZmZXIsIG9wdHMpIHx8IHZhbHVlQnVmZmVyIDogdmFsdWVCdWZmZXIpLnNwbGl0KFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwodm9pZCAwLCAhMSwgITEsIGlzUlRMID8gdmFsdWVCdWZmZXIucmV2ZXJzZSgpIDogdmFsdWVCdWZmZXIpLCAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSAmJiBvcHRzLm9uQmVmb3JlV3JpdGUodm9pZCAwLCBnZXRCdWZmZXIoKSwgMCwgb3B0cyksXHJcbiAgICAgICAgICAgICAgICB1bm1hc2tlZHZhbHVlKGVsKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJtYXNrXCI6XHJcbiAgICAgICAgICAgICAgICBlbCA9IGFjdGlvbk9iai5lbCwgbWFza3NldCA9IGVsLmlucHV0bWFzay5tYXNrc2V0LCBvcHRzID0gZWwuaW5wdXRtYXNrLm9wdHMsIGlzUlRMID0gZWwuaW5wdXRtYXNrLmlzUlRMLFxyXG4gICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSwgbWFzayhlbCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJmb3JtYXRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLm51bWVyaWNJbnB1dCAmJiAoaXNSVEwgPSAhMCksIHZhbHVlQnVmZmVyID0gKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyBvcHRzLm9uQmVmb3JlTWFzayhhY3Rpb25PYmoudmFsdWUsIG9wdHMpIHx8IGFjdGlvbk9iai52YWx1ZSA6IGFjdGlvbk9iai52YWx1ZSkuc3BsaXQoXCJcIiksXHJcbiAgICAgICAgICAgICAgICBjaGVja1ZhbCh2b2lkIDAsICExLCAhMSwgaXNSVEwgPyB2YWx1ZUJ1ZmZlci5yZXZlcnNlKCkgOiB2YWx1ZUJ1ZmZlciksICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpICYmIG9wdHMub25CZWZvcmVXcml0ZSh2b2lkIDAsIGdldEJ1ZmZlcigpLCAwLCBvcHRzKSxcclxuICAgICAgICAgICAgICAgIGFjdGlvbk9iai5tZXRhZGF0YSA/IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNSVEwgPyBnZXRCdWZmZXIoKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogZ2V0QnVmZmVyKCkuam9pbihcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImdldG1ldGFkYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICB9LCBtYXNrc2V0LCBvcHRzKVxyXG4gICAgICAgICAgICAgICAgfSA6IGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGdldEJ1ZmZlcigpLmpvaW4oXCJcIik7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiaXNWYWxpZFwiOlxyXG4gICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgJiYgKGlzUlRMID0gITApLCB2YWx1ZUJ1ZmZlciA9IGFjdGlvbk9iai52YWx1ZS5zcGxpdChcIlwiKSwgY2hlY2tWYWwodm9pZCAwLCAhMSwgITAsIGlzUlRMID8gdmFsdWVCdWZmZXIucmV2ZXJzZSgpIDogdmFsdWVCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCksIHJsID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oKSwgbG1pYiA9IGJ1ZmZlci5sZW5ndGggLSAxOyBsbWliID4gcmwgJiYgIWlzTWFzayhsbWliKSA7IGxtaWItLSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyLnNwbGljZShybCwgbG1pYiArIDEgLSBybCksIGlzQ29tcGxldGUoYnVmZmVyKSAmJiBhY3Rpb25PYmoudmFsdWUgPT09IGJ1ZmZlci5qb2luKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImdldGVtcHR5bWFza1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEJ1ZmZlclRlbXBsYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICBlbCA9IGFjdGlvbk9iai5lbCwgJGVsID0gJChlbCksIG1hc2tzZXQgPSBlbC5pbnB1dG1hc2subWFza3NldCwgb3B0cyA9IGVsLmlucHV0bWFzay5vcHRzLFxyXG4gICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLl92YWx1ZVNldCh1bm1hc2tlZHZhbHVlKGVsKSksICRlbC5vZmYoXCIuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlUHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmICh2YWx1ZVByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlbCwgXCJ2YWx1ZVwiKSksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZVByb3BlcnR5ICYmIHZhbHVlUHJvcGVydHkuZ2V0ID8gZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldDogZWwuaW5wdXRtYXNrLl9fdmFsdWVTZXRcclxuICAgICAgICAgICAgICAgIH0pIDogZG9jdW1lbnQuX19sb29rdXBHZXR0ZXJfXyAmJiBlbC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikgJiYgZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQgJiYgKGVsLl9fZGVmaW5lR2V0dGVyX18oXCJ2YWx1ZVwiLCBlbC5pbnB1dG1hc2suX192YWx1ZUdldCksXHJcbiAgICAgICAgICAgICAgICBlbC5fX2RlZmluZVNldHRlcl9fKFwidmFsdWVcIiwgZWwuaW5wdXRtYXNrLl9fdmFsdWVTZXQpKSwgZWwuaW5wdXRtYXNrID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0bWV0YWRhdGFcIjpcclxuICAgICAgICAgICAgICAgIGlmICgkLmlzQXJyYXkobWFza3NldC5tZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhbHRlcm5hdGlvbiwgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgZmlyc3RBbHQgPSBsdnA7IGZpcnN0QWx0ID49IDA7IGZpcnN0QWx0LS0pIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZmlyc3RBbHRdICYmIHZvaWQgMCAhPT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ZpcnN0QWx0XS5hbHRlcm5hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbiA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tmaXJzdEFsdF0uYWx0ZXJuYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBhbHRlcm5hdGlvbiA/IG1hc2tzZXQubWV0YWRhdGFbZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0ubG9jYXRvclthbHRlcm5hdGlvbl1dIDogbWFza3NldC5tZXRhZGF0YVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrc2V0Lm1ldGFkYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIElucHV0bWFzay5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgZGVmYXVsdHM6IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiX1wiLFxyXG4gICAgICAgICAgICBvcHRpb25hbG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IFwiW1wiLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBcIl1cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBxdWFudGlmaWVybWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogXCJ7XCIsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IFwifVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdyb3VwbWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogXCIoXCIsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IFwiKVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFsdGVybmF0b3JtYXJrZXI6IFwifFwiLFxyXG4gICAgICAgICAgICBlc2NhcGVDaGFyOiBcIlxcXFxcIixcclxuICAgICAgICAgICAgbWFzazogbnVsbCxcclxuICAgICAgICAgICAgb25jb21wbGV0ZTogJC5ub29wLFxyXG4gICAgICAgICAgICBvbmluY29tcGxldGU6ICQubm9vcCxcclxuICAgICAgICAgICAgb25jbGVhcmVkOiAkLm5vb3AsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMCxcclxuICAgICAgICAgICAgZ3JlZWR5OiAhMCxcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITEsXHJcbiAgICAgICAgICAgIHJlbW92ZU1hc2tPblN1Ym1pdDogITEsXHJcbiAgICAgICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiAhMCxcclxuICAgICAgICAgICAgaW5zZXJ0TW9kZTogITAsXHJcbiAgICAgICAgICAgIGNsZWFySW5jb21wbGV0ZTogITEsXHJcbiAgICAgICAgICAgIGFsaWFzZXM6IHt9LFxyXG4gICAgICAgICAgICBhbGlhczogbnVsbCxcclxuICAgICAgICAgICAgb25LZXlEb3duOiAkLm5vb3AsXHJcbiAgICAgICAgICAgIG9uQmVmb3JlTWFzazogbnVsbCxcclxuICAgICAgICAgICAgb25CZWZvcmVQYXN0ZTogZnVuY3Rpb24gKHBhc3RlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrKHBhc3RlZFZhbHVlLCBvcHRzKSA6IHBhc3RlZFZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkJlZm9yZVdyaXRlOiBudWxsLFxyXG4gICAgICAgICAgICBvblVuTWFzazogbnVsbCxcclxuICAgICAgICAgICAgc2hvd01hc2tPbkZvY3VzOiAhMCxcclxuICAgICAgICAgICAgc2hvd01hc2tPbkhvdmVyOiAhMCxcclxuICAgICAgICAgICAgb25LZXlWYWxpZGF0aW9uOiAkLm5vb3AsXHJcbiAgICAgICAgICAgIHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6IFwiIFwiLFxyXG4gICAgICAgICAgICBzaG93VG9vbHRpcDogITEsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IHZvaWQgMCxcclxuICAgICAgICAgICAgbnVtZXJpY0lucHV0OiAhMSxcclxuICAgICAgICAgICAgcmlnaHRBbGlnbjogITEsXHJcbiAgICAgICAgICAgIHVuZG9PbkVzY2FwZTogITAsXHJcbiAgICAgICAgICAgIHJhZGl4UG9pbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yOiBcIlwiLFxyXG4gICAgICAgICAgICByYWRpeEZvY3VzOiAhMSxcclxuICAgICAgICAgICAgbm9qdW1wczogITEsXHJcbiAgICAgICAgICAgIG5vanVtcHNUaHJlc2hvbGQ6IDAsXHJcbiAgICAgICAgICAgIGtlZXBTdGF0aWM6IG51bGwsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uQ2FyZXRPblRhYjogITEsXHJcbiAgICAgICAgICAgIHRhYlRocm91Z2g6ICExLFxyXG4gICAgICAgICAgICBzdXBwb3J0c0lucHV0VHlwZTogW10sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBcIjlcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25TeW1ib2w6IFwiKlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25TeW1ib2w6IFwiKlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCIqXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpZ25vcmFibGVzOiBbOCwgOSwgMTMsIDE5LCAyNywgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0NSwgNDYsIDkzLCAxMTIsIDExMywgMTE0LCAxMTUsIDExNiwgMTE3LCAxMTgsIDExOSwgMTIwLCAxMjEsIDEyMiwgMTIzXSxcclxuICAgICAgICAgICAgaXNDb21wbGV0ZTogbnVsbCxcclxuICAgICAgICAgICAgY2FuQ2xlYXJQb3NpdGlvbjogJC5ub29wLFxyXG4gICAgICAgICAgICBwb3N0VmFsaWRhdGlvbjogbnVsbFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWFza3NDYWNoZToge30sXHJcbiAgICAgICAgbWFzazogZnVuY3Rpb24gKGVsZW1zKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIGVsZW1zICYmIChlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSwgZWxlbXMgPSBlbGVtcy5ub2RlTmFtZSA/IFtlbGVtc10gOiBlbGVtcyxcclxuICAgICAgICAgICAgJC5lYWNoKGVsZW1zLCBmdW5jdGlvbiAobmR4LCBlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlZE9wdHMgPSAkLmV4dGVuZCghMCwge30sIHRoYXQub3B0cyk7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRBdHRyaWJ1dGVPcHRpb25zKGVsLCBzY29wZWRPcHRzLCAkLmV4dGVuZCghMCwge30sIHRoYXQudXNlck9wdGlvbnMpKTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrc2V0ID0gZ2VuZXJhdGVNYXNrU2V0KHNjb3BlZE9wdHMsIHRoYXQubm9NYXNrc0NhY2hlKTtcclxuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gbWFza3NldCAmJiAodm9pZCAwICE9PSBlbC5pbnB1dG1hc2sgJiYgZWwuaW5wdXRtYXNrLnJlbW92ZSgpLCBlbC5pbnB1dG1hc2sgPSBuZXcgSW5wdXRtYXNrKCksXHJcbiAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2sub3B0cyA9IHNjb3BlZE9wdHMsIGVsLmlucHV0bWFzay5ub01hc2tzQ2FjaGUgPSB0aGF0Lm5vTWFza3NDYWNoZSwgZWwuaW5wdXRtYXNrLnVzZXJPcHRpb25zID0gJC5leHRlbmQoITAsIHt9LCB0aGF0LnVzZXJPcHRpb25zKSxcclxuICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5lbCA9IGVsLCBlbC5pbnB1dG1hc2subWFza3NldCA9IG1hc2tzZXQsIGVsLmlucHV0bWFzay5pc1JUTCA9ICExLCAkLmRhdGEoZWwsIFwiX2lucHV0bWFza19vcHRzXCIsIHNjb3BlZE9wdHMpLFxyXG4gICAgICAgICAgICAgICAgbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwibWFza1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGVsOiBlbFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9KSwgZWxlbXMgPyBlbGVtc1swXS5pbnB1dG1hc2sgfHwgdGhpcyA6IHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb246IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBvcHRpb25zID8gdGhpcy5vcHRzW29wdGlvbnNdIDogXCJvYmplY3RcIiA9PSB0eXBlb2Ygb3B0aW9ucyA/ICgkLmV4dGVuZCh0aGlzLm9wdHMsIG9wdGlvbnMpLFxyXG4gICAgICAgICAgICAkLmV4dGVuZCh0aGlzLnVzZXJPcHRpb25zLCBvcHRpb25zKSwgdGhpcy5lbCAmJiAodm9pZCAwICE9PSBvcHRpb25zLm1hc2sgfHwgdm9pZCAwICE9PSBvcHRpb25zLmFsaWFzID8gdGhpcy5tYXNrKHRoaXMuZWwpIDogKCQuZGF0YSh0aGlzLmVsLCBcIl9pbnB1dG1hc2tfb3B0c1wiLCB0aGlzLm9wdHMpLFxyXG4gICAgICAgICAgICBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcIm1hc2tcIixcclxuICAgICAgICAgICAgICAgIGVsOiB0aGlzLmVsXHJcbiAgICAgICAgICAgIH0pKSksIHRoaXMpIDogdm9pZCAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5tYXNrZWR2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcInVubWFza2VkdmFsdWVcIixcclxuICAgICAgICAgICAgICAgIGVsOiB0aGlzLmVsLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgIH0sIHRoaXMuZWwgJiYgdGhpcy5lbC5pbnB1dG1hc2sgPyB0aGlzLmVsLmlucHV0bWFzay5tYXNrc2V0IDogZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsID8gKG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgICBlbDogdGhpcy5lbFxyXG4gICAgICAgICAgICB9KSwgdGhpcy5lbC5pbnB1dG1hc2sgPSB2b2lkIDAsIHRoaXMuZWwpIDogdm9pZCAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0ZW1wdHltYXNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImdldGVtcHR5bWFza1wiXHJcbiAgICAgICAgICAgIH0sIHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIHRoaXMub3B0cyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYXNNYXNrZWRWYWx1ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMub3B0cy5hdXRvVW5tYXNrO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNDb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJpc0NvbXBsZXRlXCIsXHJcbiAgICAgICAgICAgICAgICBlbDogdGhpcy5lbFxyXG4gICAgICAgICAgICB9LCB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0bWV0YWRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiZ2V0bWV0YWRhdGFcIlxyXG4gICAgICAgICAgICB9LCB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNWYWxpZDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImlzVmFsaWRcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICB9LCB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAodmFsdWUsIG1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImZvcm1hdFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhXHJcbiAgICAgICAgICAgIH0sIHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIHRoaXMub3B0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgSW5wdXRtYXNrLmV4dGVuZERlZmF1bHRzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAkLmV4dGVuZCghMCwgSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICB9LCBJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnMgPSBmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xyXG4gICAgICAgICQuZXh0ZW5kKCEwLCBJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLmRlZmluaXRpb25zLCBkZWZpbml0aW9uKTtcclxuICAgIH0sIElucHV0bWFzay5leHRlbmRBbGlhc2VzID0gZnVuY3Rpb24gKGFsaWFzKSB7XHJcbiAgICAgICAgJC5leHRlbmQoITAsIElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMuYWxpYXNlcywgYWxpYXMpO1xyXG4gICAgfSwgSW5wdXRtYXNrLmZvcm1hdCA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucywgbWV0YWRhdGEpIHtcclxuICAgICAgICByZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLmZvcm1hdCh2YWx1ZSwgbWV0YWRhdGEpO1xyXG4gICAgfSwgSW5wdXRtYXNrLnVubWFzayA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBJbnB1dG1hc2sob3B0aW9ucykudW5tYXNrZWR2YWx1ZSh2YWx1ZSk7XHJcbiAgICB9LCBJbnB1dG1hc2suaXNWYWxpZCA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBJbnB1dG1hc2sob3B0aW9ucykuaXNWYWxpZCh2YWx1ZSk7XHJcbiAgICB9LCBJbnB1dG1hc2sucmVtb3ZlID0gZnVuY3Rpb24gKGVsZW1zKSB7XHJcbiAgICAgICAgJC5lYWNoKGVsZW1zLCBmdW5jdGlvbiAobmR4LCBlbCkge1xyXG4gICAgICAgICAgICBlbC5pbnB1dG1hc2sgJiYgZWwuaW5wdXRtYXNrLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIHZhciBzcGVjaWFscyA9IFtcIi9cIiwgXCIuXCIsIFwiKlwiLCBcIitcIiwgXCI/XCIsIFwifFwiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBcIlxcXFxcIiwgXCIkXCIsIFwiXlwiXTtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChcIihcXFxcXCIgKyBzcGVjaWFscy5qb2luKFwifFxcXFxcIikgKyBcIilcIiwgXCJnaW1cIiksIFwiXFxcXCQxXCIpO1xyXG4gICAgfSwgSW5wdXRtYXNrLmtleUNvZGUgPSB7XHJcbiAgICAgICAgQUxUOiAxOCxcclxuICAgICAgICBCQUNLU1BBQ0U6IDgsXHJcbiAgICAgICAgQ0FQU19MT0NLOiAyMCxcclxuICAgICAgICBDT01NQTogMTg4LFxyXG4gICAgICAgIENPTU1BTkQ6IDkxLFxyXG4gICAgICAgIENPTU1BTkRfTEVGVDogOTEsXHJcbiAgICAgICAgQ09NTUFORF9SSUdIVDogOTMsXHJcbiAgICAgICAgQ09OVFJPTDogMTcsXHJcbiAgICAgICAgREVMRVRFOiA0NixcclxuICAgICAgICBET1dOOiA0MCxcclxuICAgICAgICBFTkQ6IDM1LFxyXG4gICAgICAgIEVOVEVSOiAxMyxcclxuICAgICAgICBFU0NBUEU6IDI3LFxyXG4gICAgICAgIEhPTUU6IDM2LFxyXG4gICAgICAgIElOU0VSVDogNDUsXHJcbiAgICAgICAgTEVGVDogMzcsXHJcbiAgICAgICAgTUVOVTogOTMsXHJcbiAgICAgICAgTlVNUEFEX0FERDogMTA3LFxyXG4gICAgICAgIE5VTVBBRF9ERUNJTUFMOiAxMTAsXHJcbiAgICAgICAgTlVNUEFEX0RJVklERTogMTExLFxyXG4gICAgICAgIE5VTVBBRF9FTlRFUjogMTA4LFxyXG4gICAgICAgIE5VTVBBRF9NVUxUSVBMWTogMTA2LFxyXG4gICAgICAgIE5VTVBBRF9TVUJUUkFDVDogMTA5LFxyXG4gICAgICAgIFBBR0VfRE9XTjogMzQsXHJcbiAgICAgICAgUEFHRV9VUDogMzMsXHJcbiAgICAgICAgUEVSSU9EOiAxOTAsXHJcbiAgICAgICAgUklHSFQ6IDM5LFxyXG4gICAgICAgIFNISUZUOiAxNixcclxuICAgICAgICBTUEFDRTogMzIsXHJcbiAgICAgICAgVEFCOiA5LFxyXG4gICAgICAgIFVQOiAzOCxcclxuICAgICAgICBXSU5ET1dTOiA5MVxyXG4gICAgfTtcclxuICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsIGlwaG9uZSA9IG51bGwgIT09IHVhLm1hdGNoKG5ldyBSZWdFeHAoXCJpcGhvbmVcIiwgXCJpXCIpKSwgYW5kcm9pZCA9IG51bGwgIT09IHVhLm1hdGNoKG5ldyBSZWdFeHAoXCJhbmRyb2lkLipzYWZhcmkuKlwiLCBcImlcIikpLCBhbmRyb2lkY2hyb21lID0gbnVsbCAhPT0gdWEubWF0Y2gobmV3IFJlZ0V4cChcImFuZHJvaWQuKmNocm9tZS4qXCIsIFwiaVwiKSksIGFuZHJvaWRmaXJlZm94ID0gbnVsbCAhPT0gdWEubWF0Y2gobmV3IFJlZ0V4cChcImFuZHJvaWQuKmZpcmVmb3guKlwiLCBcImlcIikpLCBraW5kbGUgPSAvS2luZGxlL2kudGVzdCh1YSkgfHwgL1NpbGsvaS50ZXN0KHVhKSB8fCAvS0ZUVC9pLnRlc3QodWEpIHx8IC9LRk9UL2kudGVzdCh1YSkgfHwgL0tGSldBL2kudGVzdCh1YSkgfHwgL0tGSldJL2kudGVzdCh1YSkgfHwgL0tGU09XSS9pLnRlc3QodWEpIHx8IC9LRlRIV0EvaS50ZXN0KHVhKSB8fCAvS0ZUSFdJL2kudGVzdCh1YSkgfHwgL0tGQVBXQS9pLnRlc3QodWEpIHx8IC9LRkFQV0kvaS50ZXN0KHVhKSwgUGFzdGVFdmVudFR5cGUgPSBpc0lucHV0RXZlbnRTdXBwb3J0ZWQoXCJwYXN0ZVwiKSA/IFwicGFzdGVcIiA6IGlzSW5wdXRFdmVudFN1cHBvcnRlZChcImlucHV0XCIpID8gXCJpbnB1dFwiIDogXCJwcm9wZXJ0eWNoYW5nZVwiO1xyXG4gICAgcmV0dXJuIHdpbmRvdy5JbnB1dG1hc2sgPSBJbnB1dG1hc2ssIElucHV0bWFzaztcclxufShqUXVlcnkpLCBmdW5jdGlvbiAoJCwgSW5wdXRtYXNrKSB7XHJcbiAgICByZXR1cm4gdm9pZCAwID09PSAkLmZuLmlucHV0bWFzayAmJiAoJC5mbi5pbnB1dG1hc2sgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgbnB0bWFzaywgaW5wdXQ7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LCBcInN0cmluZ1wiID09IHR5cGVvZiBmbikgc3dpdGNoIChmbikge1xyXG4gICAgICAgICAgICBjYXNlIFwibWFza1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5wdG1hc2sgPSBuZXcgSW5wdXRtYXNrKG9wdGlvbnMpLCB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5wdG1hc2subWFzayh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInVubWFza2VkdmFsdWVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCBpbnB1dC5pbnB1dG1hc2sgPyBpbnB1dC5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpIDogJChpbnB1dCkudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0bWFzayAmJiB0aGlzLmlucHV0bWFzay5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImdldGVtcHR5bWFza1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsIGlucHV0LmlucHV0bWFzayA/IGlucHV0LmlucHV0bWFzay5nZXRlbXB0eW1hc2soKSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiaGFzTWFza2VkVmFsdWVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCBpbnB1dC5pbnB1dG1hc2sgPyBpbnB1dC5pbnB1dG1hc2suaGFzTWFza2VkVmFsdWUoKSA6ICExO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImlzQ29tcGxldGVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCBpbnB1dC5pbnB1dG1hc2sgPyBpbnB1dC5pbnB1dG1hc2suaXNDb21wbGV0ZSgpIDogITA7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0bWV0YWRhdGFcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCBpbnB1dC5pbnB1dG1hc2sgPyBpbnB1dC5pbnB1dG1hc2suZ2V0bWV0YWRhdGEoKSA6IHZvaWQgMDtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJzZXR2YWx1ZVwiOlxyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgJChpbnB1dCkudmFsKG9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSBpbnB1dC5pbnB1dG1hc2sgJiYgJChpbnB1dCkudHJpZ2dlckhhbmRsZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJvcHRpb25cIjpcclxuICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBvcHRpb25zKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0aGlzLmlucHV0bWFzayA/IHRoaXMuaW5wdXRtYXNrLm9wdGlvbihvcHRpb25zKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsIHZvaWQgMCAhPT0gaW5wdXQuaW5wdXRtYXNrKSByZXR1cm4gaW5wdXQuaW5wdXRtYXNrLm9wdGlvbihvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmFsaWFzID0gZm4sIG5wdG1hc2sgPSBuZXcgSW5wdXRtYXNrKG9wdGlvbnMpLCB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5wdG1hc2subWFzayh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBmbikgcmV0dXJuIG5wdG1hc2sgPSBuZXcgSW5wdXRtYXNrKGZuKSwgdm9pZCAwID09PSBmbi5tYXNrICYmIHZvaWQgMCA9PT0gZm4uYWxpYXMgPyB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5pbnB1dG1hc2sgPyB0aGlzLmlucHV0bWFzay5vcHRpb24oZm4pIDogdm9pZCBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgIH0pIDogdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG5wdG1hc2subWFzayh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IGZuKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG5wdG1hc2sgPSBuZXcgSW5wdXRtYXNrKG9wdGlvbnMpLCBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pLCAkLmZuLmlucHV0bWFzaztcclxufShqUXVlcnksIElucHV0bWFzayksIGZ1bmN0aW9uICgkLCBJbnB1dG1hc2spIHtcclxuICAgIHJldHVybiBJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnMoe1xyXG4gICAgICAgIGg6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswMV1bMC05XXwyWzAtM11cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC0yXVwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHM6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTVdWzAtOV1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC01XVwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGQ6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIjBbMS05XXxbMTJdWzAtOV18M1swMV1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC0zXVwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG06IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIjBbMS05XXwxWzAxMl1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMDFdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeToge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiKDE5fDIwKVxcXFxkezJ9XCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiA0LFxyXG4gICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzEyXVwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIigxOXwyMClcIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCIoMTl8MjApXFxcXGRcIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICBcImRkL21tL3l5eXlcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEvMi95XCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkL21tL3l5eXlcIixcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIHZhbDFwcmU6IG5ldyBSZWdFeHAoXCJbMC0zXVwiKSxcclxuICAgICAgICAgICAgICAgIHZhbDE6IG5ldyBSZWdFeHAoXCIwWzEtOV18WzEyXVswLTldfDNbMDFdXCIpLFxyXG4gICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfFsxMl1bMC05XXwzWzAxXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswMV0pXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXxbMTJdWzAtOV0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxLTldfDFbMDEyXSkpfCgzMFwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMTMtOV18MVswMTJdKSl8KDMxXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxMzU3OF18MVswMl0pKVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhcGRheTogXCIyOS8wMi9cIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi9cIixcclxuICAgICAgICAgICAgeWVhcnJhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICBtaW55ZWFyOiAxOTAwLFxyXG4gICAgICAgICAgICAgICAgbWF4eWVhcjogMjA5OVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0luWWVhclJhbmdlOiBmdW5jdGlvbiAoY2hycywgbWlueWVhciwgbWF4eWVhcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGNocnMpKSByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50ZXJlZHllYXIgPSBwYXJzZUludChjaHJzLmNvbmNhdChtaW55ZWFyLnRvU3RyaW5nKCkuc2xpY2UoY2hycy5sZW5ndGgpKSksIGVudGVyZWR5ZWFyMiA9IHBhcnNlSW50KGNocnMuY29uY2F0KG1heHllYXIudG9TdHJpbmcoKS5zbGljZShjaHJzLmxlbmd0aCkpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoaXNOYU4oZW50ZXJlZHllYXIpID8gITEgOiBlbnRlcmVkeWVhciA+PSBtaW55ZWFyICYmIG1heHllYXIgPj0gZW50ZXJlZHllYXIpIHx8IChpc05hTihlbnRlcmVkeWVhcjIpID8gITEgOiBlbnRlcmVkeWVhcjIgPj0gbWlueWVhciAmJiBtYXh5ZWFyID49IGVudGVyZWR5ZWFyMik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRldGVybWluZWJhc2V5ZWFyOiBmdW5jdGlvbiAobWlueWVhciwgbWF4eWVhciwgaGludCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnR5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbnllYXIgPiBjdXJyZW50eWVhcikgcmV0dXJuIG1pbnllYXI7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudHllYXIgPiBtYXh5ZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbWF4WWVhclByZWZpeCA9IG1heHllYXIudG9TdHJpbmcoKS5zbGljZSgwLCAyKSwgbWF4WWVhclBvc3RmaXggPSBtYXh5ZWFyLnRvU3RyaW5nKCkuc2xpY2UoMiwgNCkgOyBtYXhZZWFyUHJlZml4ICsgaGludCA+IG1heHllYXI7KSBtYXhZZWFyUHJlZml4LS07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heHhZZWFyID0gbWF4WWVhclByZWZpeCArIG1heFllYXJQb3N0Zml4O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW55ZWFyID4gbWF4eFllYXIgPyBtaW55ZWFyIDogbWF4eFllYXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudHllYXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKSxcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0RnJvbnRWYWx1ZTogZnVuY3Rpb24gKG1hc2ssIGJ1ZmZlciwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgc3RhcnQgPSAwLCBsZW5ndGggPSAwLCBpID0gMDsgaSA8IG1hc2subGVuZ3RoICYmIFwiMlwiICE9PSBtYXNrLmNoYXJBdChpKSA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWZpbml0aW9uID0gb3B0cy5kZWZpbml0aW9uc1ttYXNrLmNoYXJBdChpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA/IChzdGFydCArPSBsZW5ndGgsIGxlbmd0aCA9IGRlZmluaXRpb24uY2FyZGluYWxpdHkpIDogbGVuZ3RoKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyKHN0YXJ0LCBsZW5ndGgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgXCIxXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgY2hycy5jaGFyQXQoMSkgIT09IG9wdHMuc2VwYXJhdG9yICYmIC0xID09PSBcIi0uL1wiLmluZGV4T2YoY2hycy5jaGFyQXQoMSkpIHx8ICEoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMS50ZXN0KFwiMFwiICsgY2hycy5jaGFyQXQoMCkpKSA/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogY2hycy5jaGFyQXQoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGNocnMgPSBjaHJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOYU4obWFza3NldC5idWZmZXJbcG9zICsgMV0pIHx8IChwY2hycyArPSBtYXNrc2V0LmJ1ZmZlcltwb3MgKyAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IDEgPT09IHBjaHJzLmxlbmd0aCA/IG9wdHMucmVnZXgudmFsMXByZS50ZXN0KHBjaHJzKSA6IG9wdHMucmVnZXgudmFsMS50ZXN0KHBjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDEudGVzdChjaHJzICsgXCIwXCIpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zXSA9IGNocnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbKytwb3NdID0gXCIwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMS50ZXN0KFwiMFwiICsgY2hycykpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zKyssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIjJcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9udFZhbHVlID0gb3B0cy5nZXRGcm9udFZhbHVlKG1hc2tzZXQubWFzaywgbWFza3NldC5idWZmZXIsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtMSAhPT0gZnJvbnRWYWx1ZS5pbmRleE9mKG9wdHMucGxhY2Vob2xkZXJbMF0pICYmIChmcm9udFZhbHVlID0gXCIwMVwiICsgb3B0cy5zZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMihvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICFpc1ZhbGlkICYmIChjaHJzLmNoYXJBdCgxKSA9PT0gb3B0cy5zZXBhcmF0b3IgfHwgLTEgIT09IFwiLS4vXCIuaW5kZXhPZihjaHJzLmNoYXJBdCgxKSkpICYmIChpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBcIjBcIiArIGNocnMuY2hhckF0KDApKSkpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBjaHJzLmNoYXJBdCgwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5tYXNrLmluZGV4T2YoXCIyXCIpID09PSBvcHRzLm1hc2subGVuZ3RoIC0gMSAmJiBpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5TW9udGhWYWx1ZSA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyKDQsIDQpICsgY2hycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlNb250aFZhbHVlICE9PSBvcHRzLmxlYXBkYXkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQobWFza3NldC5idWZmZXIuam9pbihcIlwiKS5zdWJzdHIoMCwgNCksIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyICUgNCA9PT0gMCA/IHllYXIgJSAxMDAgPT09IDAgPyB5ZWFyICUgNDAwID09PSAwID8gITAgOiAhMSA6ICEwIDogITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05hTihtYXNrc2V0LmJ1ZmZlcltwb3MgKyAxXSkgfHwgKGNocnMgKz0gbWFza3NldC5idWZmZXJbcG9zICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb250VmFsdWUgPSBvcHRzLmdldEZyb250VmFsdWUobWFza3NldC5tYXNrLCBtYXNrc2V0LmJ1ZmZlciwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMSAhPT0gZnJvbnRWYWx1ZS5pbmRleE9mKG9wdHMucGxhY2Vob2xkZXJbMF0pICYmIChmcm9udFZhbHVlID0gXCIwMVwiICsgb3B0cy5zZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSAxID09PSBjaHJzLmxlbmd0aCA/IG9wdHMucmVnZXgudmFsMnByZShvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgY2hycykgOiBvcHRzLnJlZ2V4LnZhbDIob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmljdCB8fCBpc1ZhbGlkIHx8ICEoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMihvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgXCIwXCIgKyBjaHJzKSkgPyBpc1ZhbGlkIDogKG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgeToge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlNb250aFZhbHVlID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5zdWJzdHIoMCwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5TW9udGhWYWx1ZSAhPT0gb3B0cy5sZWFwZGF5KSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KGNocnMsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyICUgNCA9PT0gMCA/IHllYXIgJSAxMDAgPT09IDAgPyB5ZWFyICUgNDAwID09PSAwID8gITAgOiAhMSA6ICEwIDogITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyUHJlZml4ID0gb3B0cy5kZXRlcm1pbmViYXNleWVhcihvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyLCBjaHJzICsgXCIwXCIpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoeWVhclByZWZpeCArIGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMgKyBcIjBcIikudG9TdHJpbmcoKS5zbGljZSgwLCAyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKHllYXJQcmVmaXggKyBjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDEpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycykudG9TdHJpbmcoKS5zbGljZSgwLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZShjaHJzWzBdICsgeWVhclByZWZpeFsxXSArIGNocnNbMV0sIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5pc0luWWVhclJhbmdlKHllYXJQcmVmaXggKyBjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5TW9udGhWYWx1ZSA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyKDAsIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5TW9udGhWYWx1ZSAhPT0gb3B0cy5sZWFwZGF5KSBpc1ZhbGlkID0gITA7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludChjaHJzLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0geWVhciAlIDQgPT09IDAgPyB5ZWFyICUgMTAwID09PSAwID8geWVhciAlIDQwMCA9PT0gMCA/ICEwIDogITEgOiAhMCA6ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlzVmFsaWQgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0geWVhclByZWZpeC5jaGFyQXQoMCksIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IGNocnMuY2hhckF0KDApLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMlxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5zZXJ0TW9kZTogITEsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIm1tL2RkL3l5eXlcIjoge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS9kZC95eXl5XCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIixcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIHZhbDJwcmU6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMTMtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtM10pfCgwMlwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtMl0pXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxLTldfFsxMl1bMC05XSkpfCgoMFsxMy05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMCl8KCgwWzEzNTc4XXwxWzAyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMxKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAxXVwiKSxcclxuICAgICAgICAgICAgICAgIHZhbDE6IG5ldyBSZWdFeHAoXCIwWzEtOV18MVswMTJdXCIpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMDIvMjkvXCIsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKCh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKSxcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJ5eXl5L21tL2RkXCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJ5LzEvMlwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5L21tL2RkXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm1tL2RkL3l5eXlcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIvMDIvMjlcIixcclxuICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiAoZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwodG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImRkLm1tLnl5eXlcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEuMi55XCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkLm1tLnl5eXlcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIyOS4wMi5cIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi5cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGQvbW0veXl5eVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImRkLW1tLXl5eXlcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEtMi15XCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkLW1tLXl5eXlcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIyOS0wMi1cIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGQvbW0veXl5eVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIm1tLmRkLnl5eXlcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEuMi55XCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm1tLmRkLnl5eXlcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIwMi4yOS5cIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi5cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIm1tLWRkLXl5eXlcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEtMi15XCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm1tLWRkLXl5eXlcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIwMi0yOS1cIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInl5eXkubW0uZGRcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcInkuMS4yXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcInl5eXkubW0uZGRcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIuMDIuMjlcIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi5cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwieXl5eS9tbS9kZFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInl5eXktbW0tZGRcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcInktMS0yXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcInl5eXktbW0tZGRcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCItMDItMjlcIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwieXl5eS9tbS9kZFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRldGltZToge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEvMi95IGg6c1wiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJkZC9tbS95eXl5IGhoOm1tXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIixcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIGhyc3ByZTogbmV3IFJlZ0V4cChcIlswMTJdXCIpLFxyXG4gICAgICAgICAgICAgICAgaHJzMjQ6IG5ldyBSZWdFeHAoXCIyWzAtNF18MVszLTldXCIpLFxyXG4gICAgICAgICAgICAgICAgaHJzOiBuZXcgUmVnRXhwKFwiWzAxXVswLTldfDJbMC00XVwiKSxcclxuICAgICAgICAgICAgICAgIGFtcG06IG5ldyBSZWdFeHAoXCJeW2F8cHxBfFBdW218TV1cIiksXHJcbiAgICAgICAgICAgICAgICBtc3ByZTogbmV3IFJlZ0V4cChcIlswLTVdXCIpLFxyXG4gICAgICAgICAgICAgICAgbXM6IG5ldyBSZWdFeHAoXCJbMC01XVswLTldXCIpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpbWVzZXBhcmF0b3I6IFwiOlwiLFxyXG4gICAgICAgICAgICBob3VyRm9ybWF0OiBcIjI0XCIsXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiMjRcIiA9PT0gb3B0cy5ob3VyRm9ybWF0ICYmIDI0ID09PSBwYXJzZUludChjaHJzLCAxMCkpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBcIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXguaHJzLnRlc3QoY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICFpc1ZhbGlkICYmIChjaHJzLmNoYXJBdCgxKSA9PT0gb3B0cy50aW1lc2VwYXJhdG9yIHx8IC0xICE9PSBcIi0uOlwiLmluZGV4T2YoY2hycy5jaGFyQXQoMSkpKSAmJiAoaXNWYWxpZCA9IG9wdHMucmVnZXguaHJzLnRlc3QoXCIwXCIgKyBjaHJzLmNoYXJBdCgwKSkpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zXSA9IGNocnMuY2hhckF0KDApLCBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy50aW1lc2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIFwiMjRcIiAhPT0gb3B0cy5ob3VyRm9ybWF0ICYmIG9wdHMucmVnZXguaHJzMjQudGVzdChjaHJzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHBhcnNlSW50KGNocnMsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyNCA9PT0gdG1wID8gKG1hc2tzZXQuYnVmZmVyW3BvcyArIDVdID0gXCJhXCIsIG1hc2tzZXQuYnVmZmVyW3BvcyArIDZdID0gXCJtXCIpIDogKG1hc2tzZXQuYnVmZmVyW3BvcyArIDVdID0gXCJwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgKyA2XSA9IFwibVwiKSwgdG1wIC09IDEyLCAxMCA+IHRtcCA/IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gdG1wLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiKSA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gdG1wLnRvU3RyaW5nKCkuY2hhckF0KDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSB0bXAudG9TdHJpbmcoKS5jaGFyQXQoMCkpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zICsgNlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogbWFza3NldC5idWZmZXJbcG9zXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnNwcmUudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhycy50ZXN0KFwiMFwiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHM6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtNV1bMC05XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC5tc3ByZS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmljdCB8fCBpc1ZhbGlkIHx8ICEoaXNWYWxpZCA9IG9wdHMucmVnZXgubXMudGVzdChcIjBcIiArIGNocnMpKSA/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zKyssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMucmVnZXguYW1wbS50ZXN0KGNocnMgKyBcIm1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwibG93ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnNlcnRNb2RlOiAhMSxcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGV0aW1lMTI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLzIveSBoOnMgdFxcXFxtXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkL21tL3l5eXkgaGg6bW0geG1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgaG91ckZvcm1hdDogXCIxMlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIm1tL2RkL3l5eXkgaGg6bW0geG1cIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEvMi95IGg6cyB0XFxcXG1cIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0vZGQveXl5eSBoaDptbSB4bVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkYXRldGltZTEyXCIsXHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICB2YWwycHJlOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEzLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTNdKXwoMDJcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTJdKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwyOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXxbMTJdWzAtOV0pKXwoKDBbMTMtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzApfCgoMFsxMzU3OF18MVswMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMXByZTogbmV3IFJlZ0V4cChcIlswMV1cIiksXHJcbiAgICAgICAgICAgICAgICB2YWwxOiBuZXcgUmVnRXhwKFwiMFsxLTldfDFbMDEyXVwiKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjAyLzI5L1wiLFxyXG4gICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIChlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbCgodG9kYXkuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiaGg6bW0gdFwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiaDpzIHRcXFxcbVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJoaDptbSB4bVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICBob3VyRm9ybWF0OiBcIjEyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiaDpzIHRcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcImg6cyB0XFxcXG1cIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiaGg6bW0geG1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgaG91ckZvcm1hdDogXCIxMlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImhoOm1tOnNzXCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJoOnM6c1wiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJoaDptbTpzc1wiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJoaDptbVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiaDpzXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImhoOm1tXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtbS95eXl5XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxL3lcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0veXl5eVwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcImRvbm90dXNlXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCIvXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm1tL2RkL3l5eXlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2hhbXNpOiB7XHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICB2YWwycHJlOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtM10pXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxLTldfFsxMl1bMC05XSkpfCgoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMwKXwoKDBbMS02XSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMxKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAxXVwiKSxcclxuICAgICAgICAgICAgICAgIHZhbDE6IG5ldyBSZWdFeHAoXCIwWzEtOV18MVswMTJdXCIpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHllYXJyYW5nZToge1xyXG4gICAgICAgICAgICAgICAgbWlueWVhcjogMTMwMCxcclxuICAgICAgICAgICAgICAgIG1heHllYXI6IDE0OTlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWFzazogXCJ5LzEvMlwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIi8xMi8zMFwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5L21tL2RkXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm1tL2RkL3l5eXlcIixcclxuICAgICAgICAgICAgY2xlYXJJbmNvbXBsZXRlOiAhMFxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2s7XHJcbn0oalF1ZXJ5LCBJbnB1dG1hc2spLCBmdW5jdGlvbiAoJCwgSW5wdXRtYXNrKSB7XHJcbiAgICByZXR1cm4gSW5wdXRtYXNrLmV4dGVuZERlZmluaXRpb25zKHtcclxuICAgICAgICBBOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgY2FzaW5nOiBcInVwcGVyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiJlwiOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgY2FzaW5nOiBcInVwcGVyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiI1wiOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1GYS1mXVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgY2FzaW5nOiBcInVwcGVyXCJcclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgIHVybDoge1xyXG4gICAgICAgICAgICBtYXNrOiBcImlyXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiXCIsXHJcbiAgICAgICAgICAgIGRlZmF1bHRQcmVmaXg6IFwiaHR0cDovL1wiLFxyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgdXJscHJlMTogbmV3IFJlZ0V4cChcIltmaF1cIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmUyOiBuZXcgUmVnRXhwKFwiKGZ0fGh0KVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTM6IG5ldyBSZWdFeHAoXCIoZnRwfGh0dClcIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmU0OiBuZXcgUmVnRXhwKFwiKGZ0cDp8aHR0cHxmdHBzKVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTU6IG5ldyBSZWdFeHAoXCIoZnRwOi98ZnRwczp8aHR0cDp8aHR0cHMpXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlNjogbmV3IFJlZ0V4cChcIihmdHA6Ly98ZnRwczovfGh0dHA6L3xodHRwczopXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlNzogbmV3IFJlZ0V4cChcIihmdHA6Ly98ZnRwczovL3xodHRwOi8vfGh0dHBzOi8pXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlODogbmV3IFJlZ0V4cChcIihmdHA6Ly98ZnRwczovL3xodHRwOi8vfGh0dHBzOi8vKVwiKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgaToge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiA4LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByZXN1bHQgPSBbXSwgcHJlZml4TGltaXQgPSA4LCBpID0gMDsgcHJlZml4TGltaXQgPiBpOyBpKyspIHJlc3VsdFtpXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMucmVnZXhbXCJ1cmxwcmVcIiArIChqICsgMSldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaywgdG1wID0gY2hycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogKyAxIC0gY2hycy5sZW5ndGggPiAwICYmICh0bXAgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cmluZygwLCBqICsgMSAtIGNocnMubGVuZ3RoKSArIFwiXCIgKyB0bXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4W1widXJscHJlXCIgKyAoaiArIDEpXS50ZXN0KHRtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocG9zIC09IGosIGsgPSAwOyBrIDwgb3B0cy5kZWZhdWx0UHJlZml4Lmxlbmd0aDsgaysrKSBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gb3B0cy5kZWZhdWx0UHJlZml4W2tdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCB0bXAubGVuZ3RoIC0gMTsgaysrKSBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gdG1wW2tdLCBwb3MrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogalxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0oKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiA1MFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnNlcnRNb2RlOiAhMSxcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlwOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiaVtpW2ldXS5pW2lbaV1dLmlbaVtpXV0uaVtpW2ldXVwiLFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgaToge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3MgLSAxID4gLTEgJiYgXCIuXCIgIT09IG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID8gKGNocnMgPSBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSArIGNocnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNocnMgPSBwb3MgLSAyID4gLTEgJiYgXCIuXCIgIT09IG1hc2tzZXQuYnVmZmVyW3BvcyAtIDJdID8gbWFza3NldC5idWZmZXJbcG9zIC0gMl0gKyBjaHJzIDogXCIwXCIgKyBjaHJzKSA6IGNocnMgPSBcIjAwXCIgKyBjaHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFwiMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdWzAtOV1bMC05XVwiKS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Vbk1hc2s6IGZ1bmN0aW9uIChtYXNrZWRWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tlZFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbWFpbDoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIip7MSw2NH1bLip7MSw2NH1dWy4qezEsNjR9XVsuKnsxLDY0fV1AKnsxLDY0fVsuKnsyLDY0fV1bLip7Miw2fV1bLip7MSwyfV1cIixcclxuICAgICAgICAgICAgZ3JlZWR5OiAhMSxcclxuICAgICAgICAgICAgb25CZWZvcmVQYXN0ZTogZnVuY3Rpb24gKHBhc3RlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFzdGVkVmFsdWUgPSBwYXN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpLCBwYXN0ZWRWYWx1ZS5yZXBsYWNlKFwibWFpbHRvOlwiLCBcIlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIFwiKlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLVphLXohIyQlJicqKy89P15fYHt8fX4tXVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2luZzogXCJsb3dlclwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbiAobWFza2VkVmFsdWUsIHVubWFza2VkVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrZWRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWFjOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiIyM6IyM6IyM6IyM6IyM6IyNcIlxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2s7XHJcbn0oalF1ZXJ5LCBJbnB1dG1hc2spLCBmdW5jdGlvbiAoJCwgSW5wdXRtYXNrKSB7XHJcbiAgICByZXR1cm4gSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgIG51bWVyaWM6IHtcclxuICAgICAgICAgICAgbWFzazogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGF1dG9Fc2NhcGUodHh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXNjYXBlZFR4dCA9IFwiXCIsIGkgPSAwOyBpIDwgdHh0Lmxlbmd0aDsgaSsrKSBlc2NhcGVkVHh0ICs9IG9wdHMuZGVmaW5pdGlvbnNbdHh0LmNoYXJBdChpKV0gPyBcIlxcXFxcIiArIHR4dC5jaGFyQXQoaSkgOiB0eHQuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVkVHh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IG9wdHMucmVwZWF0ICYmIGlzTmFOKG9wdHMuaW50ZWdlckRpZ2l0cykgJiYgKG9wdHMuaW50ZWdlckRpZ2l0cyA9IG9wdHMucmVwZWF0KSxcclxuICAgICAgICAgICAgICAgIG9wdHMucmVwZWF0ID0gMCwgb3B0cy5ncm91cFNlcGFyYXRvciA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChcIi5cIiA9PT0gb3B0cy5yYWRpeFBvaW50ID8gb3B0cy5ncm91cFNlcGFyYXRvciA9IFwiLFwiIDogXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCA/IG9wdHMuZ3JvdXBTZXBhcmF0b3IgPSBcIi5cIiA6IG9wdHMuZ3JvdXBTZXBhcmF0b3IgPSBcIlwiKSxcclxuICAgICAgICAgICAgICAgIFwiIFwiID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIChvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgPSB2b2lkIDApLCBvcHRzLmF1dG9Hcm91cCA9IG9wdHMuYXV0b0dyb3VwICYmIFwiXCIgIT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IsXHJcbiAgICAgICAgICAgICAgICBvcHRzLmF1dG9Hcm91cCAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2Ygb3B0cy5ncm91cFNpemUgJiYgaXNGaW5pdGUob3B0cy5ncm91cFNpemUpICYmIChvcHRzLmdyb3VwU2l6ZSA9IHBhcnNlSW50KG9wdHMuZ3JvdXBTaXplKSksXHJcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShvcHRzLmludGVnZXJEaWdpdHMpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXBzID0gTWF0aC5mbG9vcihvcHRzLmludGVnZXJEaWdpdHMgLyBvcHRzLmdyb3VwU2l6ZSksIG1vZCA9IG9wdHMuaW50ZWdlckRpZ2l0cyAlIG9wdHMuZ3JvdXBTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaW50ZWdlckRpZ2l0cyA9IHBhcnNlSW50KG9wdHMuaW50ZWdlckRpZ2l0cykgKyAoMCA9PT0gbW9kID8gc2VwcyAtIDEgOiBzZXBzKSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRzLmludGVnZXJEaWdpdHMgPCAxICYmIChvcHRzLmludGVnZXJEaWdpdHMgPSBcIipcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCA+IDEgJiYgKG9wdHMucGxhY2Vob2xkZXIgPSBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSksXHJcbiAgICAgICAgICAgICAgICBvcHRzLnJhZGl4Rm9jdXMgPSBvcHRzLnJhZGl4Rm9jdXMgJiYgXCJcIiAhPT0gb3B0cy5wbGFjZWhvbGRlciAmJiBvcHRzLmludGVnZXJPcHRpb25hbCA9PT0gITAsXHJcbiAgICAgICAgICAgICAgICBvcHRzLmRlZmluaXRpb25zW1wiO1wiXSA9IG9wdHMuZGVmaW5pdGlvbnNbXCJ+XCJdLCBvcHRzLmRlZmluaXRpb25zW1wiO1wiXS5kZWZpbml0aW9uU3ltYm9sID0gXCJ+XCIsXHJcbiAgICAgICAgICAgICAgICBvcHRzLm51bWVyaWNJbnB1dCA9PT0gITAgJiYgKG9wdHMucmFkaXhGb2N1cyA9ICExLCBvcHRzLmRpZ2l0c09wdGlvbmFsID0gITEsIGlzTmFOKG9wdHMuZGlnaXRzKSAmJiAob3B0cy5kaWdpdHMgPSAyKSxcclxuICAgICAgICAgICAgICAgIG9wdHMuZGVjaW1hbFByb3RlY3QgPSAhMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFzayA9IGF1dG9Fc2NhcGUob3B0cy5wcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2sgKz0gXCJbK11cIiwgbWFzayArPSBvcHRzLmludGVnZXJPcHRpb25hbCA9PT0gITAgPyBcIn57MSxcIiArIG9wdHMuaW50ZWdlckRpZ2l0cyArIFwifVwiIDogXCJ+e1wiICsgb3B0cy5pbnRlZ2VyRGlnaXRzICsgXCJ9XCIsXHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IG9wdHMuZGlnaXRzICYmIChpc05hTihvcHRzLmRpZ2l0cykgfHwgcGFyc2VJbnQob3B0cy5kaWdpdHMpID4gMCkgJiYgKG1hc2sgKz0gb3B0cy5kaWdpdHNPcHRpb25hbCA/IFwiW1wiICsgKG9wdHMuZGVjaW1hbFByb3RlY3QgPyBcIjpcIiA6IG9wdHMucmFkaXhQb2ludCkgKyBcIjt7MSxcIiArIG9wdHMuZGlnaXRzICsgXCJ9XVwiIDogKG9wdHMuZGVjaW1hbFByb3RlY3QgPyBcIjpcIiA6IG9wdHMucmFkaXhQb2ludCkgKyBcIjt7XCIgKyBvcHRzLmRpZ2l0cyArIFwifVwiKSxcclxuICAgICAgICAgICAgICAgIFwiXCIgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayAmJiAobWFzayArPSBcIlstXVwiKSwgbWFzayArPSBhdXRvRXNjYXBlKG9wdHMuc3VmZml4KSxcclxuICAgICAgICAgICAgICAgIG9wdHMuZ3JlZWR5ID0gITEsIG1hc2s7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiLFxyXG4gICAgICAgICAgICBncmVlZHk6ICExLFxyXG4gICAgICAgICAgICBkaWdpdHM6IFwiKlwiLFxyXG4gICAgICAgICAgICBkaWdpdHNPcHRpb25hbDogITAsXHJcbiAgICAgICAgICAgIHJhZGl4UG9pbnQ6IFwiLlwiLFxyXG4gICAgICAgICAgICByYWRpeEZvY3VzOiAhMCxcclxuICAgICAgICAgICAgZ3JvdXBTaXplOiAzLFxyXG4gICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCJcIixcclxuICAgICAgICAgICAgYXV0b0dyb3VwOiAhMSxcclxuICAgICAgICAgICAgYWxsb3dQbHVzOiAhMCxcclxuICAgICAgICAgICAgYWxsb3dNaW51czogITAsXHJcbiAgICAgICAgICAgIG5lZ2F0aW9uU3ltYm9sOiB7XHJcbiAgICAgICAgICAgICAgICBmcm9udDogXCItXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrOiBcIlwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludGVnZXJEaWdpdHM6IFwiK1wiLFxyXG4gICAgICAgICAgICBpbnRlZ2VyT3B0aW9uYWw6ICEwLFxyXG4gICAgICAgICAgICBwcmVmaXg6IFwiXCIsXHJcbiAgICAgICAgICAgIHN1ZmZpeDogXCJcIixcclxuICAgICAgICAgICAgcmlnaHRBbGlnbjogITAsXHJcbiAgICAgICAgICAgIGRlY2ltYWxQcm90ZWN0OiAhMCxcclxuICAgICAgICAgICAgbWluOiBudWxsLFxyXG4gICAgICAgICAgICBtYXg6IG51bGwsXHJcbiAgICAgICAgICAgIHN0ZXA6IDEsXHJcbiAgICAgICAgICAgIGluc2VydE1vZGU6ICEwLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMSxcclxuICAgICAgICAgICAgdW5tYXNrQXNOdW1iZXI6ICExLFxyXG4gICAgICAgICAgICBwb3N0Rm9ybWF0OiBmdW5jdGlvbiAoYnVmZmVyLCBwb3MsIHJlZm9ybWF0T25seSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgPT09ICEwICYmIChidWZmZXIgPSBidWZmZXIucmV2ZXJzZSgpLCBpc0Zpbml0ZShwb3MpICYmIChwb3MgPSBidWZmZXIuam9pbihcIlwiKS5sZW5ndGggLSBwb3MgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgbCwgc3VmZml4U3RyaXBwZWQgPSAhMTtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5sZW5ndGggPj0gb3B0cy5zdWZmaXgubGVuZ3RoICYmIGJ1ZmZlci5qb2luKFwiXCIpLmluZGV4T2Yob3B0cy5zdWZmaXgpID09PSBidWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoICYmIChidWZmZXIubGVuZ3RoID0gYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHN1ZmZpeFN0cmlwcGVkID0gITApLCBwb3MgPSBwb3MgPj0gYnVmZmVyLmxlbmd0aCA/IGJ1ZmZlci5sZW5ndGggLSAxIDogcG9zIDwgb3B0cy5wcmVmaXgubGVuZ3RoID8gb3B0cy5wcmVmaXgubGVuZ3RoIDogcG9zO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzUmVmcmVzaCA9ICExLCBjaGFyQXRQb3MgPSBidWZmZXJbcG9zXTtcclxuICAgICAgICAgICAgICAgIGlmIChcIlwiID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yIHx8IG9wdHMubnVtZXJpY0lucHV0ICE9PSAhMCAmJiAtMSAhPT0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKSAmJiBwb3MgPiAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpIHx8IG5ldyBSZWdFeHAoXCJbXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkgKyBcIitdXCIpLnRlc3QoY2hhckF0UG9zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWZmaXhTdHJpcHBlZCkgZm9yIChpID0gMCwgbCA9IG9wdHMuc3VmZml4Lmxlbmd0aDsgbCA+IGk7IGkrKykgYnVmZmVyLnB1c2gob3B0cy5zdWZmaXguY2hhckF0KGkpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgY2J1ZiA9IGJ1ZmZlci5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgY2hhckF0UG9zID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIChjYnVmLnNwbGljZShwb3MtLSwgMSksIGNoYXJBdFBvcyA9IGNidWZbcG9zXSksXHJcbiAgICAgICAgICAgICAgICByZWZvcm1hdE9ubHkgPyBjaGFyQXRQb3MgIT09IG9wdHMucmFkaXhQb2ludCAmJiAoY2J1Zltwb3NdID0gXCI/XCIpIDogY2J1Zi5zcGxpY2UocG9zLCAwLCBcIj9cIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnVmVmFsID0gY2J1Zi5qb2luKFwiXCIpLCBidWZWYWxPcmlnaW4gPSBidWZWYWw7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnVmVmFsLmxlbmd0aCA+IDAgJiYgb3B0cy5hdXRvR3JvdXAgfHwgcmVmb3JtYXRPbmx5ICYmIC0xICE9PSBidWZWYWwuaW5kZXhPZihvcHRzLmdyb3VwU2VwYXJhdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkR3JvdXBTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgbmVlZHNSZWZyZXNoID0gMCA9PT0gYnVmVmFsLmluZGV4T2Yob3B0cy5ncm91cFNlcGFyYXRvciksIGJ1ZlZhbCA9IGJ1ZlZhbC5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlZEdyb3VwU2VwYXJhdG9yLCBcImdcIiksIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByYWRpeFNwbGl0ID0gYnVmVmFsLnNwbGl0KG9wdHMucmFkaXhQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZlZhbCA9IFwiXCIgPT09IG9wdHMucmFkaXhQb2ludCA/IGJ1ZlZhbCA6IHJhZGl4U3BsaXRbMF0sIGJ1ZlZhbCAhPT0gb3B0cy5wcmVmaXggKyBcIj8wXCIgJiYgYnVmVmFsLmxlbmd0aCA+PSBvcHRzLmdyb3VwU2l6ZSArIG9wdHMucHJlZml4Lmxlbmd0aCkgZm9yICh2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihbLStdP1tcXFxcZD9dKykoW1xcXFxkP117XCIgKyBvcHRzLmdyb3VwU2l6ZSArIFwifSlcIikgOyByZWcudGVzdChidWZWYWwpIDspIGJ1ZlZhbCA9IGJ1ZlZhbC5yZXBsYWNlKHJlZywgXCIkMVwiICsgb3B0cy5ncm91cFNlcGFyYXRvciArIFwiJDJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmVmFsID0gYnVmVmFsLnJlcGxhY2Uob3B0cy5ncm91cFNlcGFyYXRvciArIG9wdHMuZ3JvdXBTZXBhcmF0b3IsIG9wdHMuZ3JvdXBTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCAmJiByYWRpeFNwbGl0Lmxlbmd0aCA+IDEgJiYgKGJ1ZlZhbCArPSBvcHRzLnJhZGl4UG9pbnQgKyByYWRpeFNwbGl0WzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobmVlZHNSZWZyZXNoID0gYnVmVmFsT3JpZ2luICE9PSBidWZWYWwsIGJ1ZmZlci5sZW5ndGggPSBidWZWYWwubGVuZ3RoLCBpID0gMCxcclxuICAgICAgICAgICAgICAgIGwgPSBidWZWYWwubGVuZ3RoOyBsID4gaTsgaSsrKSBidWZmZXJbaV0gPSBidWZWYWwuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1BvcyA9ICQuaW5BcnJheShcIj9cIiwgYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIGlmICgtMSA9PT0gbmV3UG9zICYmIGNoYXJBdFBvcyA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChuZXdQb3MgPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpKSxcclxuICAgICAgICAgICAgICAgIHJlZm9ybWF0T25seSA/IGJ1ZmZlcltuZXdQb3NdID0gY2hhckF0UG9zIDogYnVmZmVyLnNwbGljZShuZXdQb3MsIDEpLCAhbmVlZHNSZWZyZXNoICYmIHN1ZmZpeFN0cmlwcGVkKSBmb3IgKGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgbCA9IG9wdHMuc3VmZml4Lmxlbmd0aDsgbCA+IGk7IGkrKykgYnVmZmVyLnB1c2gob3B0cy5zdWZmaXguY2hhckF0KGkpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdQb3MgPSBvcHRzLm51bWVyaWNJbnB1dCAmJiBpc0Zpbml0ZShwb3MpID8gYnVmZmVyLmpvaW4oXCJcIikubGVuZ3RoIC0gbmV3UG9zIC0gMSA6IG5ld1BvcyxcclxuICAgICAgICAgICAgICAgIG9wdHMubnVtZXJpY0lucHV0ICYmIChidWZmZXIgPSBidWZmZXIucmV2ZXJzZSgpLCAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpIDwgbmV3UG9zICYmIGJ1ZmZlci5qb2luKFwiXCIpLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAhPT0gbmV3UG9zICYmIChuZXdQb3MgLT0gMSkpLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvczogbmV3UG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiBuZWVkc1JlZnJlc2gsXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBidWZmZXJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQmVmb3JlV3JpdGU6IGZ1bmN0aW9uIChlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZSAmJiAoXCJibHVyXCIgPT09IGUudHlwZSB8fCBcImNoZWNrdmFsXCIgPT09IGUudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFza2VkVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gbWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LCBcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCAmJiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCksIFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICAgICAgaXNGaW5pdGUocHJvY2Vzc1ZhbHVlKSAmJiBpc0Zpbml0ZShvcHRzLm1pbikgJiYgcGFyc2VGbG9hdChwcm9jZXNzVmFsdWUpIDwgcGFyc2VGbG9hdChvcHRzLm1pbikpIHJldHVybiAkLmV4dGVuZCghMCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogITAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogKG9wdHMucHJlZml4ICsgb3B0cy5taW4pLnNwbGl0KFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0cy5wb3N0Rm9ybWF0KChvcHRzLnByZWZpeCArIG9wdHMubWluKS5zcGxpdChcIlwiKSwgMCwgITAsIG9wdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5udW1lcmljSW5wdXQgIT09ICEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBCdWZTcGxpdCA9IFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCA/IGJ1ZmZlci5qb2luKFwiXCIpLnNwbGl0KG9wdHMucmFkaXhQb2ludCkgOiBbYnVmZmVyLmpvaW4oXCJcIildLCBtYXRjaFJzbHQgPSB0bXBCdWZTcGxpdFswXS5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJQYXJ0KG9wdHMpKSwgbWF0Y2hSc2x0RGlnaXRzID0gMiA9PT0gdG1wQnVmU3BsaXQubGVuZ3RoID8gdG1wQnVmU3BsaXRbMV0ubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyTlBhcnQob3B0cykpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSc2x0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJzbHRbMF0gIT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgKyBcIjBcIiAmJiBtYXRjaFJzbHRbMF0gIT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgJiYgXCIrXCIgIT09IG1hdGNoUnNsdFswXSB8fCB2b2lkIDAgIT09IG1hdGNoUnNsdERpZ2l0cyAmJiAhbWF0Y2hSc2x0RGlnaXRzWzBdLm1hdGNoKC9eMCskLykgfHwgYnVmZmVyLnNwbGljZShtYXRjaFJzbHQuaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4UG9zaXRpb24gPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSByYWRpeFBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmluaXRlKG9wdHMuZGlnaXRzKSAmJiAhb3B0cy5kaWdpdHNPcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBvcHRzLmRpZ2l0czsgaSsrKSAodm9pZCAwID09PSBidWZmZXJbcmFkaXhQb3NpdGlvbiArIGldIHx8IGJ1ZmZlcltyYWRpeFBvc2l0aW9uICsgaV0gPT09IG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApKSAmJiAoYnVmZmVyW3JhZGl4UG9zaXRpb24gKyBpXSA9IFwiMFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiBtYXNrZWRWYWx1ZSAhPT0gYnVmZmVyLmpvaW4oXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFkaXhQb3NpdGlvbiA9PT0gYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAtIDEpIHJldHVybiBidWZmZXIuc3BsaWNlKHJhZGl4UG9zaXRpb24sIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5hdXRvR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcnNsdCA9IG9wdHMucG9zdEZvcm1hdChidWZmZXIsIG9wdHMubnVtZXJpY0lucHV0ID8gY2FyZXRQb3MgOiBjYXJldFBvcyAtIDEsICEwLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnNsdC5jYXJldCA9IGNhcmV0UG9zIDw9IG9wdHMucHJlZml4Lmxlbmd0aCA/IHJzbHQucG9zIDogcnNsdC5wb3MgKyAxLCByc2x0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgaW50ZWdlclBhcnQ6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJbXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkgKyBcIitdP1xcXFxkK1wiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpbnRlZ2VyTlBhcnQ6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJbXFxcXGRcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSArIFwiXStcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNpZ25IYW5kbGVyOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmIG9wdHMuYWxsb3dNaW51cyAmJiBcIi1cIiA9PT0gY2hycyB8fCBvcHRzLmFsbG93UGx1cyAmJiBcIitcIiA9PT0gY2hycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaFJzbHQgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlclBhcnQob3B0cykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFJzbHQgJiYgbWF0Y2hSc2x0WzBdLmxlbmd0aCA+IDApIHJldHVybiBtYXNrc2V0LmJ1ZmZlclttYXRjaFJzbHQuaW5kZXhdID09PSAoXCItXCIgPT09IGNocnMgPyBcIitcIiA6IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpID8gXCItXCIgPT09IGNocnMgPyBcIlwiICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hc2tzZXQuYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgIH0gOiBcIlwiICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBcIitcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBbbWF0Y2hSc2x0LmluZGV4LCBtYXNrc2V0LmJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBcIitcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3NcclxuICAgICAgICAgICAgICAgICAgICB9IDogbWFza3NldC5idWZmZXJbbWF0Y2hSc2x0LmluZGV4XSA9PT0gKFwiLVwiID09PSBjaHJzID8gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCA6IFwiK1wiKSA/IFwiLVwiID09PSBjaHJzICYmIFwiXCIgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBbbWF0Y2hSc2x0LmluZGV4LCBtYXNrc2V0LmJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9IDogXCItXCIgPT09IGNocnMgPyBcIlwiICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hc2tzZXQuYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IGNocnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmFkaXhIYW5kbGVyOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICgtMSAhPT0gJC5pbkFycmF5KGNocnMsIFtcIixcIiwgXCIuXCJdKSAmJiAoY2hycyA9IG9wdHMucmFkaXhQb2ludCksXHJcbiAgICAgICAgICAgICAgICBjaHJzID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgdm9pZCAwICE9PSBvcHRzLmRpZ2l0cyAmJiAoaXNOYU4ob3B0cy5kaWdpdHMpIHx8IHBhcnNlSW50KG9wdHMuZGlnaXRzKSA+IDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByYWRpeFBvcyA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIG1hc2tzZXQuYnVmZmVyKSwgaW50ZWdlclZhbHVlID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJQYXJ0KG9wdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoLTEgIT09IHJhZGl4UG9zICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmFkaXhQb3NdKSByZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9uc1tyYWRpeFBvcyAtIDFdID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcmFkaXhQb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBpbnRlZ2VyVmFsdWUuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IGludGVnZXJWYWx1ZVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHJhZGl4UG9zICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlZ2VyVmFsdWUgfHwgXCIwXCIgPT09IGludGVnZXJWYWx1ZVswXSAmJiBpbnRlZ2VyVmFsdWUuaW5kZXggKyAxICE9PSBwb3MpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltpbnRlZ2VyVmFsdWUgPyBpbnRlZ2VyVmFsdWUuaW5kZXggOiBwb3NdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IChpbnRlZ2VyVmFsdWUgPyBpbnRlZ2VyVmFsdWUuaW5kZXggOiBwb3MpICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5yYWRpeFBvaW50XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhZGluZ1plcm9IYW5kbGVyOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLm51bWVyaWNJbnB1dCA9PT0gITApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXCIwXCIgPT09IG1hc2tzZXQuYnVmZmVyW21hc2tzZXQuYnVmZmVyLmxlbmd0aCAtIG9wdHMucHJlZml4Lmxlbmd0aCAtIDFdKSByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXNrc2V0LmJ1ZmZlci5sZW5ndGggLSBvcHRzLnByZWZpeC5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoUnNsdCA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyTlBhcnQob3B0cykpLCByYWRpeFBvc2l0aW9uID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgbWFza3NldC5idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFJzbHQgJiYgIXN0cmljdCAmJiAoLTEgPT09IHJhZGl4UG9zaXRpb24gfHwgcmFkaXhQb3NpdGlvbiA+PSBwb3MpKSBpZiAoMCA9PT0gbWF0Y2hSc2x0WzBdLmluZGV4T2YoXCIwXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA8IG9wdHMucHJlZml4Lmxlbmd0aCAmJiAocG9zID0gbWF0Y2hSc2x0LmluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yYWRpeFBvc2l0aW9uID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgbWFza3NldC5fYnVmZmVyKSwgZGlnaXRzTWF0Y2ggPSBtYXNrc2V0Ll9idWZmZXIgJiYgbWFza3NldC5idWZmZXIuc2xpY2UocmFkaXhQb3NpdGlvbikuam9pbihcIlwiKSA9PT0gbWFza3NldC5fYnVmZmVyLnNsaWNlKF9yYWRpeFBvc2l0aW9uKS5qb2luKFwiXCIpIHx8IDAgPT09IHBhcnNlSW50KG1hc2tzZXQuYnVmZmVyLnNsaWNlKHJhZGl4UG9zaXRpb24gKyAxKS5qb2luKFwiXCIpKSwgaW50ZWdlck1hdGNoID0gbWFza3NldC5fYnVmZmVyICYmIG1hc2tzZXQuYnVmZmVyLnNsaWNlKG1hdGNoUnNsdC5pbmRleCwgcmFkaXhQb3NpdGlvbikuam9pbihcIlwiKSA9PT0gbWFza3NldC5fYnVmZmVyLnNsaWNlKG9wdHMucHJlZml4Lmxlbmd0aCwgX3JhZGl4UG9zaXRpb24pLmpvaW4oXCJcIikgfHwgXCIwXCIgPT09IG1hc2tzZXQuYnVmZmVyLnNsaWNlKG1hdGNoUnNsdC5pbmRleCwgcmFkaXhQb3NpdGlvbikuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xID09PSByYWRpeFBvc2l0aW9uIHx8IGRpZ2l0c01hdGNoICYmIGludGVnZXJNYXRjaCkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyLnNwbGljZShtYXRjaFJzbHQuaW5kZXgsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBwb3MgPiBtYXRjaFJzbHQuaW5kZXggPyBwb3MgLSAxIDogbWF0Y2hSc2x0LmluZGV4LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWF0Y2hSc2x0LmluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFJzbHQuaW5kZXggKyAxID09PSBwb3MgfHwgXCIwXCIgPT09IGNocnMpIHJldHVybiBtYXNrc2V0LmJ1ZmZlci5zcGxpY2UobWF0Y2hSc2x0LmluZGV4LCAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gbWF0Y2hSc2x0LmluZGV4LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWF0Y2hSc2x0LmluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcIjBcIiA9PT0gY2hycyAmJiBwb3MgPD0gbWF0Y2hSc2x0LmluZGV4ICYmIG1hdGNoUnNsdFswXSAhPT0gb3B0cy5ncm91cFNlcGFyYXRvcikgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb3N0VmFsaWRhdGlvbjogZnVuY3Rpb24gKGJ1ZmZlciwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSAhMCwgbWFza2VkVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gbWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsIFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIFwiLFwiID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnJhZGl4UG9pbnQpLCBcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSksIFwiLVwiKSxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykgKyBcIiRcIiksIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250ID8gcHJvY2Vzc1ZhbHVlICsgXCIwXCIgOiBwcm9jZXNzVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShwcm9jZXNzVmFsdWUpICYmIChudWxsICE9PSBvcHRzLm1heCAmJiBpc0Zpbml0ZShvcHRzLm1heCkgJiYgKGlzVmFsaWQgPSBwYXJzZUZsb2F0KHByb2Nlc3NWYWx1ZSkgPD0gcGFyc2VGbG9hdChvcHRzLm1heCkpLFxyXG4gICAgICAgICAgICAgICAgaXNWYWxpZCAmJiBudWxsICE9PSBvcHRzLm1pbiAmJiBpc0Zpbml0ZShvcHRzLm1pbikgJiYgKDAgPj0gcHJvY2Vzc1ZhbHVlIHx8IHByb2Nlc3NWYWx1ZS50b1N0cmluZygpLmxlbmd0aCA+PSBvcHRzLm1pbi50b1N0cmluZygpLmxlbmd0aCkgJiYgKGlzVmFsaWQgPSBwYXJzZUZsb2F0KHByb2Nlc3NWYWx1ZSkgPj0gcGFyc2VGbG9hdChvcHRzLm1pbiksXHJcbiAgICAgICAgICAgICAgICBpc1ZhbGlkIHx8IChpc1ZhbGlkID0gJC5leHRlbmQoITAsIHtcclxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogITAsXHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiAob3B0cy5wcmVmaXggKyBvcHRzLm1pbikuc3BsaXQoXCJcIilcclxuICAgICAgICAgICAgICAgIH0sIG9wdHMucG9zdEZvcm1hdCgob3B0cy5wcmVmaXggKyBvcHRzLm1pbikuc3BsaXQoXCJcIiksIDAsICEwLCBvcHRzKSksIGlzVmFsaWQucmVmcmVzaEZyb21CdWZmZXIgPSAhMCkpKSxcclxuICAgICAgICAgICAgICAgIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBcIn5cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5zaWduSGFuZGxlcihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCAmJiAoaXNWYWxpZCA9IG9wdHMucmFkaXhIYW5kbGVyKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzVmFsaWQgJiYgKGlzVmFsaWQgPSBzdHJpY3QgPyBuZXcgUmVnRXhwKFwiWzAtOVwiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpICsgXCJdXCIpLnRlc3QoY2hycykgOiBuZXcgUmVnRXhwKFwiWzAtOV1cIikudGVzdChjaHJzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9PT0gITAgJiYgKGlzVmFsaWQgPSBvcHRzLmxlYWRpbmdaZXJvSGFuZGxlcihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPT09ICEwKSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3NpdGlvbiA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIG1hc2tzZXQuYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSAtMSAhPT0gcmFkaXhQb3NpdGlvbiAmJiBvcHRzLmRpZ2l0c09wdGlvbmFsID09PSAhMSAmJiBvcHRzLm51bWVyaWNJbnB1dCAhPT0gITAgJiYgcG9zID4gcmFkaXhQb3NpdGlvbiAmJiAhc3RyaWN0ID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCIrXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuc2lnbkhhbmRsZXIoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWlzVmFsaWQgJiYgKHN0cmljdCAmJiBvcHRzLmFsbG93TWludXMgJiYgY2hycyA9PT0gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCB8fCBvcHRzLmFsbG93TWludXMgJiYgXCItXCIgPT09IGNocnMgfHwgb3B0cy5hbGxvd1BsdXMgJiYgXCIrXCIgPT09IGNocnMpICYmIChpc1ZhbGlkID0gXCItXCIgPT09IGNocnMgPyBcIlwiICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiLVwiID09PSBjaHJzID8gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCA6IFwiK1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hc2tzZXQuYnVmZmVyLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogXCItXCIgPT09IGNocnMgPyBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250IDogXCIrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zICsgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IDogITApLCBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCItXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuc2lnbkhhbmRsZXIoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWlzVmFsaWQgJiYgc3RyaWN0ICYmIG9wdHMuYWxsb3dNaW51cyAmJiBjaHJzID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgJiYgKGlzVmFsaWQgPSAhMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIjpcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5zaWduSGFuZGxlcihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4ID0gXCJbXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5yYWRpeFBvaW50KSArIFwiLFxcXFwuXVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IG5ldyBSZWdFeHAocmFkaXgpLnRlc3QoY2hycyksIGlzVmFsaWQgJiYgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5tYXRjaC5wbGFjZWhvbGRlciA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChpc1ZhbGlkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZCA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMucmFkaXhQb2ludFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IDogaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMucmFkaXhQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbiAobWFza2VkVmFsdWUsIHVubWFza2VkVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzVmFsdWUgPSBtYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShvcHRzLnN1ZmZpeCwgXCJcIiksIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy51bm1hc2tBc051bWJlciA/IChcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgLTEgIT09IHByb2Nlc3NWYWx1ZS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCkgJiYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIG9wdHMucmFkaXhQb2ludCksIFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBOdW1iZXIocHJvY2Vzc1ZhbHVlKSkgOiBwcm9jZXNzVmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzQ29tcGxldGU6IGZ1bmN0aW9uIChidWZmZXIsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrZWRWYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpLCBidWZDbG9uZSA9IGJ1ZmZlci5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMucG9zdEZvcm1hdChidWZDbG9uZSwgMCwgITAsIG9wdHMpLCBidWZDbG9uZS5qb2luKFwiXCIpICE9PSBtYXNrZWRWYWx1ZSkgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NWYWx1ZSA9IG1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5wcmVmaXgsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LCBcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcIixcIiA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5yYWRpeFBvaW50KSwgXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHByb2Nlc3NWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQmVmb3JlTWFzazogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCAmJiBpc0Zpbml0ZShpbml0aWFsVmFsdWUpKSBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBvcHRzLnJhZGl4UG9pbnQpOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga29tbWFNYXRjaGVzID0gaW5pdGlhbFZhbHVlLm1hdGNoKC8sL2cpLCBkb3RNYXRjaGVzID0gaW5pdGlhbFZhbHVlLm1hdGNoKC9cXC4vZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG90TWF0Y2hlcyAmJiBrb21tYU1hdGNoZXMgPyBkb3RNYXRjaGVzLmxlbmd0aCA+IGtvbW1hTWF0Y2hlcy5sZW5ndGggPyAoaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoL1xcLi9nLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZShcIixcIiwgb3B0cy5yYWRpeFBvaW50KSkgOiBrb21tYU1hdGNoZXMubGVuZ3RoID4gZG90TWF0Y2hlcy5sZW5ndGggPyAoaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoLywvZywgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoXCIuXCIsIG9wdHMucmFkaXhQb2ludCkpIDogaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIuXCIpIDwgaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIsXCIpID8gaW5pdGlhbFZhbHVlLnJlcGxhY2UoL1xcLi9nLCBcIlwiKSA6IGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKC8sL2csIFwiXCIpIDogaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gb3B0cy5kaWdpdHMgJiYgKC0xICE9PSBpbml0aWFsVmFsdWUuaW5kZXhPZihcIi5cIikgPyBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUuc3Vic3RyaW5nKDAsIGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLlwiKSkgOiAtMSAhPT0gaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIsXCIpICYmIChpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUuc3Vic3RyaW5nKDAsIGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLFwiKSkpKSxcclxuICAgICAgICAgICAgICAgIFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCAmJiBpc0Zpbml0ZShvcHRzLmRpZ2l0cykgJiYgLTEgIT09IGluaXRpYWxWYWx1ZS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVQYXJ0cyA9IGluaXRpYWxWYWx1ZS5zcGxpdChvcHRzLnJhZGl4UG9pbnQpLCBkZWNQYXJ0ID0gdmFsdWVQYXJ0c1sxXS5tYXRjaChuZXcgUmVnRXhwKFwiXFxcXGQqXCIpKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQob3B0cy5kaWdpdHMpIDwgZGVjUGFydC50b1N0cmluZygpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlnaXRzRmFjdG9yID0gTWF0aC5wb3coMTAsIHBhcnNlSW50KG9wdHMuZGlnaXRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnJhZGl4UG9pbnQpLCBcIi5cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChpbml0aWFsVmFsdWUpICogZGlnaXRzRmFjdG9yKSAvIGRpZ2l0c0ZhY3RvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdGlhbFZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbkNsZWFyUG9zaXRpb246IGZ1bmN0aW9uIChtYXNrc2V0LCBwb3NpdGlvbiwgbHZwLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbklucHV0ID0gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0uaW5wdXQsIGNhbkNsZWFyID0gcG9zaXRpb25JbnB1dCAhPT0gb3B0cy5yYWRpeFBvaW50IHx8IG51bGwgIT09IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dLm1hdGNoLmZuICYmIG9wdHMuZGVjaW1hbFByb3RlY3QgPT09ICExIHx8IGlzRmluaXRlKHBvc2l0aW9uSW5wdXQpIHx8IHBvc2l0aW9uID09PSBsdnAgfHwgcG9zaXRpb25JbnB1dCA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciB8fCBwb3NpdGlvbklucHV0ID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250IHx8IHBvc2l0aW9uSW5wdXQgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaztcclxuICAgICAgICAgICAgICAgIGlmIChjYW5DbGVhciAmJiBpc0Zpbml0ZShwb3NpdGlvbklucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaFJzbHQsIHJhZGl4UG9zID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgbWFza3NldC5idWZmZXIpLCByYWRpeEluamVjdGlvbiA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmFkaXhQb3NdICYmIChtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG9wdHMucmFkaXhQb2ludFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHJhZGl4SW5qZWN0aW9uID0gITApLCAhc3RyaWN0ICYmIG1hc2tzZXQuYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUnNsdCA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyKDAsIHBvc2l0aW9uKS5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJOUGFydChvcHRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBwb3NpdGlvbiArIDEsIGlzTnVsbCA9IG51bGwgPT0gbWF0Y2hSc2x0IHx8IDAgPT09IHBhcnNlSW50KG1hdGNoUnNsdFswXS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVsbCkgZm9yICg7IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSAmJiAobWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLmlucHV0ID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yIHx8IFwiMFwiID09PSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQpIDspIGRlbGV0ZSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdnAgaW4gbWFza3NldC52YWxpZFBvc2l0aW9ucykgdm9pZCAwICE9PSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ZwXS5pbnB1dCAmJiBidWZmZXIucHVzaChtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ZwXS5pbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhZGl4SW5qZWN0aW9uICYmIGRlbGV0ZSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zXSwgcmFkaXhQb3MgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZWYWwgPSBidWZmZXIuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUnNsdCA9IGJ1ZlZhbC5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJOUGFydChvcHRzKSkpIGlmIChyYWRpeFBvcyA+PSBwb3NpdGlvbikgaWYgKDAgPT09IG1hdGNoUnNsdFswXS5pbmRleE9mKFwiMFwiKSkgY2FuQ2xlYXIgPSBtYXRjaFJzbHQuaW5kZXggIT09IHBvc2l0aW9uIHx8IFwiMFwiID09PSBvcHRzLnBsYWNlaG9sZGVyOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnRQYXJ0ID0gcGFyc2VJbnQobWF0Y2hSc2x0WzBdLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIikpLCByYWRpeFBhcnQgPSBwYXJzZUludChidWZWYWwuc3BsaXQob3B0cy5yYWRpeFBvaW50KVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMCA+IGludFBhcnQgJiYgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0gJiYgKFwiMFwiICE9PSBvcHRzLnBsYWNlaG9sZGVyIHx8IHJhZGl4UGFydCA+IDApICYmIChtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uXS5pbnB1dCA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5wID0gb3B0cy5wcmVmaXgubGVuZ3RoICsgMSwgY2FuQ2xlYXIgPSAhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAwID09PSBtYXRjaFJzbHRbMF0uaW5kZXhPZihcIjBcIikgJiYgMyA9PT0gYnVmVmFsLmxlbmd0aCAmJiAobWFza3NldC52YWxpZFBvc2l0aW9ucyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5DbGVhciA9ICExKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuQ2xlYXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSkgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIElucHV0bWFzay5rZXlDb2RlLlVQOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKSArIHBhcnNlSW50KG9wdHMuc3RlcCkpLCAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgSW5wdXRtYXNrLmtleUNvZGUuRE9XTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbChwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSkgLSBwYXJzZUludChvcHRzLnN0ZXApKSwgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGN1cnJlbmN5OiB7XHJcbiAgICAgICAgICAgIHByZWZpeDogXCIkIFwiLFxyXG4gICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCIsXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiMFwiLFxyXG4gICAgICAgICAgICBhdXRvR3JvdXA6ICEwLFxyXG4gICAgICAgICAgICBkaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIGRpZ2l0c09wdGlvbmFsOiAhMSxcclxuICAgICAgICAgICAgY2xlYXJNYXNrT25Mb3N0Rm9jdXM6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWNpbWFsOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW50ZWdlcjoge1xyXG4gICAgICAgICAgICBhbGlhczogXCJudW1lcmljXCIsXHJcbiAgICAgICAgICAgIGRpZ2l0czogMCxcclxuICAgICAgICAgICAgcmFkaXhQb2ludDogXCJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGVyY2VudGFnZToge1xyXG4gICAgICAgICAgICBhbGlhczogXCJudW1lcmljXCIsXHJcbiAgICAgICAgICAgIGRpZ2l0czogMixcclxuICAgICAgICAgICAgcmFkaXhQb2ludDogXCIuXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIixcclxuICAgICAgICAgICAgYXV0b0dyb3VwOiAhMSxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBtYXg6IDEwMCxcclxuICAgICAgICAgICAgc3VmZml4OiBcIiAlXCIsXHJcbiAgICAgICAgICAgIGFsbG93UGx1czogITEsXHJcbiAgICAgICAgICAgIGFsbG93TWludXM6ICExXHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzaztcclxufShqUXVlcnksIElucHV0bWFzayksIGZ1bmN0aW9uICgkLCBJbnB1dG1hc2spIHtcclxuICAgIHJldHVybiBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7XHJcbiAgICAgICAgcGhvbmU6IHtcclxuICAgICAgICAgICAgdXJsOiBcInBob25lLWNvZGVzL3Bob25lLWNvZGVzLmpzXCIsXHJcbiAgICAgICAgICAgIGNvdW50cnljb2RlOiBcIlwiLFxyXG4gICAgICAgICAgICBtYXNrOiBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5kZWZpbml0aW9uc1tcIiNcIl0gPSBvcHRzLmRlZmluaXRpb25zWzldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2tMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IG9wdHMudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiAhMSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tMaXN0ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgYWpheE9wdGlvbnMsIHRocm93bkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHRocm93bkVycm9yICsgXCIgLSBcIiArIG9wdHMudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSwgbWFza0xpc3QgPSBtYXNrTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhLm1hc2sgfHwgYSkgPCAoYi5tYXNrIHx8IGIpID8gLTEgOiAxO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGtlZXBTdGF0aWM6ICExLFxyXG4gICAgICAgICAgICBub2p1bXBzOiAhMCxcclxuICAgICAgICAgICAgbm9qdW1wc1RocmVzaG9sZDogMSxcclxuICAgICAgICAgICAgb25CZWZvcmVNYXNrOiBmdW5jdGlvbiAodmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzZWRWYWx1ZSA9IHZhbHVlLnJlcGxhY2UoL14wL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChwcm9jZXNzZWRWYWx1ZS5pbmRleE9mKG9wdHMuY291bnRyeWNvZGUpID4gMSB8fCAtMSA9PT0gcHJvY2Vzc2VkVmFsdWUuaW5kZXhPZihvcHRzLmNvdW50cnljb2RlKSkgJiYgKHByb2Nlc3NlZFZhbHVlID0gXCIrXCIgKyBvcHRzLmNvdW50cnljb2RlICsgcHJvY2Vzc2VkVmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHBob25lYmU6IHtcclxuICAgICAgICAgICAgYWxpYXM6IFwicGhvbmVcIixcclxuICAgICAgICAgICAgdXJsOiBcInBob25lLWNvZGVzL3Bob25lLWJlLmpzXCIsXHJcbiAgICAgICAgICAgIGNvdW50cnljb2RlOiBcIjMyXCIsXHJcbiAgICAgICAgICAgIG5vanVtcHNUaHJlc2hvbGQ6IDRcclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrO1xyXG59KGpRdWVyeSwgSW5wdXRtYXNrKSwgZnVuY3Rpb24gKCQsIElucHV0bWFzaykge1xyXG4gICAgcmV0dXJuIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICBSZWdleDoge1xyXG4gICAgICAgICAgICBtYXNrOiBcInJcIixcclxuICAgICAgICAgICAgZ3JlZWR5OiAhMSxcclxuICAgICAgICAgICAgcmVwZWF0OiBcIipcIixcclxuICAgICAgICAgICAgcmVnZXg6IG51bGwsXHJcbiAgICAgICAgICAgIHJlZ2V4VG9rZW5zOiBudWxsLFxyXG4gICAgICAgICAgICB0b2tlbml6ZXI6IC9cXFtcXF4/XT8oPzpbXlxcXFxcXF1dK3xcXFxcW1xcU1xcc10/KSpdP3xcXFxcKD86MCg/OlswLTNdWzAtN117MCwyfXxbNC03XVswLTddPyk/fFsxLTldWzAtOV0qfHhbMC05QS1GYS1mXXsyfXx1WzAtOUEtRmEtZl17NH18Y1tBLVphLXpdfFtcXFNcXHNdPyl8XFwoKD86XFw/Wzo9IV0/KT98KD86Wz8qK118XFx7WzAtOV0rKD86LFswLTldKik/XFx9KVxcPz98W14uPyorXiR7WygpfFxcXFxdK3wuL2csXHJcbiAgICAgICAgICAgIHF1YW50aWZpZXJGaWx0ZXI6IC9bMC05XStbXixdLyxcclxuICAgICAgICAgICAgaXNDb21wbGV0ZTogZnVuY3Rpb24gKGJ1ZmZlciwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAob3B0cy5yZWdleCkudGVzdChidWZmZXIuam9pbihcIlwiKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICByOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gUmVnZXhUb2tlbihpc0dyb3VwLCBpc1F1YW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IFtdLCB0aGlzLmlzR3JvdXAgPSBpc0dyb3VwIHx8ICExLCB0aGlzLmlzUXVhbnRpZmllciA9IGlzUXVhbnRpZmllciB8fCAhMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnJlcGVhdGVyUGFydCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhbmFseXNlUmVnZXgoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2gsIG0sIGN1cnJlbnRUb2tlbiA9IG5ldyBSZWdleFRva2VuKCksIG9wZW5ncm91cHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAob3B0cy5yZWdleFRva2VucyA9IFtdOyBtYXRjaCA9IG9wdHMudG9rZW5pemVyLmV4ZWMob3B0cy5yZWdleCkgOykgc3dpdGNoIChtID0gbWF0Y2hbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLmNoYXJBdCgwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5ncm91cHMucHVzaChuZXcgUmVnZXhUb2tlbighMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIilcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBUb2tlbiA9IG9wZW5ncm91cHMucG9wKCksIG9wZW5ncm91cHMubGVuZ3RoID4gMCA/IG9wZW5ncm91cHNbb3Blbmdyb3Vwcy5sZW5ndGggLSAxXS5tYXRjaGVzLnB1c2goZ3JvdXBUb2tlbikgOiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGdyb3VwVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIntcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWFudGlmaWVyVG9rZW4gPSBuZXcgUmVnZXhUb2tlbighMSwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0gbS5yZXBsYWNlKC9be31dL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXEgPSBtLnNwbGl0KFwiLFwiKSwgbXEwID0gaXNOYU4obXFbMF0pID8gbXFbMF0gOiBwYXJzZUludChtcVswXSksIG1xMSA9IDEgPT09IG1xLmxlbmd0aCA/IG1xMCA6IGlzTmFOKG1xWzFdKSA/IG1xWzFdIDogcGFyc2VJbnQobXFbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVhbnRpZmllclRva2VuLnF1YW50aWZpZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IG1xMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogbXExXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9wZW5ncm91cHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBvcGVuZ3JvdXBzW29wZW5ncm91cHMubGVuZ3RoIC0gMV0ubWF0Y2hlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gbWF0Y2hlcy5wb3AoKSwgbWF0Y2guaXNHcm91cCB8fCAoZ3JvdXBUb2tlbiA9IG5ldyBSZWdleFRva2VuKCEwKSwgZ3JvdXBUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBncm91cFRva2VuKSwgbWF0Y2hlcy5wdXNoKG1hdGNoKSwgbWF0Y2hlcy5wdXNoKHF1YW50aWZpZXJUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBtYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnBvcCgpLCBtYXRjaC5pc0dyb3VwIHx8IChncm91cFRva2VuID0gbmV3IFJlZ2V4VG9rZW4oITApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cFRva2VuLm1hdGNoZXMucHVzaChtYXRjaCksIG1hdGNoID0gZ3JvdXBUb2tlbiksIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKHF1YW50aWZpZXJUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuZ3JvdXBzLmxlbmd0aCA+IDAgPyBvcGVuZ3JvdXBzW29wZW5ncm91cHMubGVuZ3RoIC0gMV0ubWF0Y2hlcy5wdXNoKG0pIDogY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgb3B0cy5yZWdleFRva2Vucy5wdXNoKGN1cnJlbnRUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVSZWdleFRva2VuKHRva2VuLCBmcm9tR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc3ZhbGlkID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tR3JvdXAgJiYgKHJlZ2V4UGFydCArPSBcIihcIiwgb3Blbkdyb3VwQ291bnQrKyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtbmR4ID0gMDsgbW5keCA8IHRva2VuLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hUb2tlbiA9IHRva2VuLm1hdGNoZXNbbW5keF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoVG9rZW4uaXNHcm91cCA9PT0gITApIGlzdmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hUb2tlbiwgITApOyBlbHNlIGlmIChtYXRjaFRva2VuLmlzUXVhbnRpZmllciA9PT0gITApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNycm50bmR4ID0gJC5pbkFycmF5KG1hdGNoVG9rZW4sIHRva2VuLm1hdGNoZXMpLCBtYXRjaEdyb3VwID0gdG9rZW4ubWF0Y2hlc1tjcnJudG5keCAtIDFdLCByZWdleFBhcnRCYWsgPSByZWdleFBhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihtYXRjaFRva2VuLnF1YW50aWZpZXIubWF4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IG1hdGNoVG9rZW4ucmVwZWF0ZXJQYXJ0ICYmIG1hdGNoVG9rZW4ucmVwZWF0ZXJQYXJ0ICE9PSByZWdleFBhcnQgJiYgbWF0Y2hUb2tlbi5yZXBlYXRlclBhcnQubGVuZ3RoID4gcmVnZXhQYXJ0Lmxlbmd0aCAmJiAhKGlzdmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hHcm91cCwgITApKSA7KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzdmFsaWQgPSBpc3ZhbGlkIHx8IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaEdyb3VwLCAhMCksIGlzdmFsaWQgJiYgKG1hdGNoVG9rZW4ucmVwZWF0ZXJQYXJ0ID0gcmVnZXhQYXJ0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGFydCA9IHJlZ2V4UGFydEJhayArIG1hdGNoVG9rZW4ucXVhbnRpZmllci5tYXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgcW0gPSBtYXRjaFRva2VuLnF1YW50aWZpZXIubWF4IC0gMTsgcW0gPiBpICYmICEoaXN2YWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaEdyb3VwLCAhMCkpIDsgaSsrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGFydCA9IHJlZ2V4UGFydEJhayArIFwie1wiICsgbWF0Y2hUb2tlbi5xdWFudGlmaWVyLm1pbiArIFwiLFwiICsgbWF0Y2hUb2tlbi5xdWFudGlmaWVyLm1heCArIFwifVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IG1hdGNoVG9rZW4ubWF0Y2hlcykgZm9yICh2YXIgayA9IDA7IGsgPCBtYXRjaFRva2VuLmxlbmd0aCAmJiAhKGlzdmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hUb2tlbltrXSwgZnJvbUdyb3VwKSkgOyBrKyspOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3RFeHA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIltcIiA9PSBtYXRjaFRva2VuLmNoYXJBdCgwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdEV4cCA9IHJlZ2V4UGFydCwgdGVzdEV4cCArPSBtYXRjaFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IG9wZW5Hcm91cENvdW50ID4gajsgaisrKSB0ZXN0RXhwICs9IFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cCA9IG5ldyBSZWdFeHAoXCJeKFwiICsgdGVzdEV4cCArIFwiKSRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3ZhbGlkID0gZXhwLnRlc3QoYnVmZmVyU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGZvciAodmFyIGwgPSAwLCB0bCA9IG1hdGNoVG9rZW4ubGVuZ3RoOyB0bCA+IGw7IGwrKykgaWYgKFwiXFxcXFwiICE9PSBtYXRjaFRva2VuLmNoYXJBdChsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdEV4cCA9IHJlZ2V4UGFydCwgdGVzdEV4cCArPSBtYXRjaFRva2VuLnN1YnN0cigwLCBsICsgMSksIHRlc3RFeHAgPSB0ZXN0RXhwLnJlcGxhY2UoL1xcfCQvLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBvcGVuR3JvdXBDb3VudCA+IGo7IGorKykgdGVzdEV4cCArPSBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHAgPSBuZXcgUmVnRXhwKFwiXihcIiArIHRlc3RFeHAgKyBcIikkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzdmFsaWQgPSBleHAudGVzdChidWZmZXJTdHIpKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhcnQgKz0gbWF0Y2hUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzdmFsaWQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb21Hcm91cCAmJiAocmVnZXhQYXJ0ICs9IFwiKVwiLCBvcGVuR3JvdXBDb3VudC0tKSwgaXN2YWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBUb2tlbiwgY2J1ZmZlciA9IG1hc2tzZXQuYnVmZmVyLnNsaWNlKCksIHJlZ2V4UGFydCA9IFwiXCIsIGlzVmFsaWQgPSAhMSwgb3Blbkdyb3VwQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsID09PSBvcHRzLnJlZ2V4VG9rZW5zICYmIGFuYWx5c2VSZWdleCgpLCBjYnVmZmVyLnNwbGljZShwb3MsIDAsIGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBidWZmZXJTdHIgPSBjYnVmZmVyLmpvaW4oXCJcIiksIGkgPSAwOyBpIDwgb3B0cy5yZWdleFRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4VG9rZW4gPSBvcHRzLnJlZ2V4VG9rZW5zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4ocmVnZXhUb2tlbiwgcmVnZXhUb2tlbi5pc0dyb3VwKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzaztcclxufShqUXVlcnksIElucHV0bWFzayk7XHJcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLFxyXG4gICAgICAgIFsnbmdSZXNvdXJjZScsICd1aS5yb3V0ZXInLCAnbmdDb29raWVzJywgJ3VpLm1hc2snLCAndWkuYm9vdHN0cmFwJywgJ2lzdGV2ZW4tbXVsdGktc2VsZWN0JywgJ25nSW5wdXRNb2RpZmllZCcsICd1aS52YWxpZGF0ZScsICdjZ0J1c3knLFxyXG4gICAgICAgICAgICAnYW5ndWxhci5maWx0ZXInLCAneGVkaXRhYmxlJywgJ2NoZWNrbGlzdC1tb2RlbCcsICduZ0ZpbGVVcGxvYWQnLCAnU1ROUmVzb3VyY2UnLCAndWkuYm9vdHN0cmFwLmRhdGV0aW1lcGlja2VyJywgJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ25nSGFuZHNvbnRhYmxlJyxcclxuICAgICAgICAgICAgJ1NUTkNvbnRyb2xsZXJzJywgJ0xvZ0luT3V0Q29udHJvbGxlcicsICdNb2RhbENvbnRyb2xsZXJzJywgJ1NldHRpbmdzQ29udHJvbGxlcnMnLCAnV2lNLlNlcnZpY2VzJywgJ1dpTS5FdmVudCcsICd3aW1fYW5ndWxhcicsICdhbmd1bGFyU3Bpbm5lcnMnXSk7XHJcblxyXG4gICAgYXBwLmNvbnN0YW50KCdTRVJWRVJfVVJMJywgJ2h0dHBzOi8vc3RuLndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlcycpO1xyXG4gICAgLy9hcHAuY29uc3RhbnQoJ1NFUlZFUl9VUkwnLCAnaHR0cHM6Ly9zdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczInKTtcclxuICAgIC8vYXBwLmNvbnN0YW50KCdTRVJWRVJfVVJMJywgJ2h0dHA6Ly9sb2NhbGhvc3QvU1ROU2VydmljZXMyJyk7XHJcblxyXG4gICAgLy8gYXBwLmNvbnN0YW50KCdFTlZJUk9OTUVOVCcsICdUZXN0aW5nJyk7XHJcbiAgICBhcHAuY29uc3RhbnQoJ0VOVklST05NRU5UJywgJ1Byb2R1Y3Rpb24nKTtcclxuXHJcbiAgICBhcHAucnVuKFsnJHJvb3RTY29wZScsICckdWliTW9kYWxTdGFjaycsICckY29va2llcycsICckc3RhdGUnLCAnRU5WSVJPTk1FTlQnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHVpYk1vZGFsU3RhY2ssICRjb29raWVzLCAkc3RhdGUsIEVOVklST05NRU5UKSB7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmICgoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSAmJiB0b1N0YXRlLmF1dGhlbnRpY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlID0gdG9TdGF0ZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlUGFyYW1zID0gdG9QYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdlbnRyeScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTtcclxuICAgICAgICAgICAgICAgIC8vY2xvc2UgYWxsIG1vZGFscyB3aGVuIGNoYW5naW5nIHN0YXRlcyAoc2l0ZSBjcmVhdGUgb3Blbiwgd2FudCB0byB1c2UgYSBuZWFyYnkgc2l0ZSBvciBqdXN0IGNoYW5nZSB0aGUgdXJsIHVwIHRvcCwgY2xvc2UgdGhlIG1vZGFsIHRvbylcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbFN0YWNrLmRpc21pc3NBbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodG9TdGF0ZS51cmwgPT0gXCIvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2UgdXNlcm5hbWUgZm9jdXNcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3VzZXJOYW1lRm9jdXNcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmVudmlyb25tZW50ID0gRU5WSVJPTk1FTlQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhbGVydChcIkVycm9yIG9jY3VycmVkOiBTdGF0dXNcIiArIGVycm9yLnN0YXR1cyArIFwiLCBcIiArIGVycm9yLnN0YXR1c1RleHQgKyBcIi4gVGhlIGZvbGxvd2luZyByZXF1ZXN0IHdhcyB1bnN1Y2Nlc3NmdWw6IFwiICsgZXJyb3IuY29uZmlnLnVybCArIFwiIFBsZWFzZSByZWZyZXNoIGFuZCB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1dKTtcclxuICAgIC8vYXBwLmNvbmZpZyhmdW5jdGlvbiB0aGF0IGRlZmluZXMgdGhlIGNvbmZpZyBjb2RlLiAndWkuc2VsZWN0JywgJ25nU2FuaXRpemUnLCckbG9jYXRpb25Qcm92aWRlcicsICRsb2NhdGlvblByb3ZpZGVyXHJcbiAgICBhcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuICAgICAgICAgICAgLy9pZiBubyBhY3RpdmUgc3RhdGUsIGRpc3BsYXkgc3RhdGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZnJhZ21lbnQgaWRlbnRpZmllclxyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xOTcyMTEyNS9yZXNvbHZlLWh0dHAtcmVxdWVzdC1iZWZvcmUtcnVubmluZy1hcHAtYW5kLXN3aXRjaGluZy10by1hLXJvdXRlLW9yLXN0YXRlXHJcbiAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjUzNzMxMS9hbmd1bGFyLXVpLXJvdXRlci1sb2dpbi1hdXRoZW50aWNhdGlvblxyXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAgICAgLy8gZW50cnlQb2ludFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZW50cnlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L21haW4vbWFpblZpZXcuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWFpbkN0cmxcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYXBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcIm1hcFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9NYXBcIixcclxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ01hcENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L21hcC9tYXAuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXBGaWx0ZXJzQG1hcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L21hcC9tYXBGaWx0ZXJzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ01hcEZpbHRlcnNDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlTGlzdDogZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zVDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JUeXBlczogZnVuY3Rpb24gKHNlbnNUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdOOiAnTkVUV09SS19OQU1FJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChuZXR3Tikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV0d04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFwU2l0ZUluZm9AbWFwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvc2l0ZS9tYXBTaXRlSW5mb1ZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwU2l0ZUluZm9Db250cm9sbGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFwUGVha3NWaWV3QG1hcCc6IHsgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvcGVhay9tYXBQZWFrc1ZpZXcuaHRtbCcsIGNvbnRyb2xsZXI6ICdNYXBQZWFrc0NvbnRyb2xsZXInIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXBTZW5zb3JQcm9wb3NlQG1hcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3NlbnNvci9tYXBTZW5zb3JQcm9wb3NlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR0OiAnREVQTE9ZTUVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3lUeXBlczogZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNkOiAnU0VOU09SX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNEZXBzOiBmdW5jdGlvbiAoc2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNkLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwU2Vuc29yUHJvcG9zZUNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gYXBwcm92YWwgcGFnZVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiYXBwcm92YWxcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvQXBwcm92YWxcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvYXBwcm92YWwvYXBwcm92YWwuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwiYXBwcm92YWxDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NUQVRFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVMaXN0OiBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT1VOVElFUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eUxpc3Q6IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaTogJ0lOU1RSVU1FTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50TGlzdDogZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc29yVHlwZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdDogJ0RFUExPWU1FTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcFR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHE6ICdIV01fUVVBTElUWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bVF1YWxMaXN0OiBmdW5jdGlvbiAoaHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHQ6ICdIV01fVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bVR5cGVMaXN0OiBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBzaXRlc1NlYXJjaCBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInNpdGVTZWFyY2hcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2l0ZVNlYXJjaFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zaXRlU2VhcmNoL3NpdGVTZWFyY2guaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwic2l0ZVNlYXJjaEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUxpc3Q6IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc1Q6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc2Vuc1QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d046ICdORVRXT1JLX05BTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChuZXR3Tikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldHdOLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIHJlcG9ydGluZ1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVwb3J0aW5nXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1JlcG9ydGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInJlcG9ydGluZ0N0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudHM6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICdSRVBPUlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxSZXBvcnRzOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV0OiAnRVZFTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50VHlwZXM6IGZ1bmN0aW9uIChldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlczogJ0VWRU5UX1NUQVRVUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50U3RhdHVzOiBmdW5jdGlvbiAoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWc6ICdBR0VOQ1knLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxBZ2VuY2llczogZnVuY3Rpb24gKGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWcuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlclJlcG9ydHM6IGZ1bmN0aW9uIChyLCAkY29va2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1JRCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5nZXRNZW1iZXJSZXBvcnRzKHsgbWVtYmVySWQ6IG1JRCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0aW5nLnJlcG9ydERhc2hcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlcG9ydGluZy5yZXBvcnREYXNoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0Rhc2hib2FyZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nRGFzaGJvYXJkLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInJlcG9ydGluZ0Rhc2hDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJ1JFUE9SVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFJlcG9ydHNBZ2FpbjogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZXBvcnRpbmcuU3VibWl0UmVwb3J0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXBvcnRpbmcuc3VibWl0UmVwb3J0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1N1Ym1pdFJlcG9ydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvc3VibWl0UmVwb3J0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInN1Ym1pdFJlcG9ydEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0aW5nLkdlbmVyYXRlUmVwb3J0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXBvcnRpbmcuZ2VuZXJhdGVSZXBvcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvR2VuZXJhdGVSZXBvcnRcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVwb3J0aW5nL2dlbmVyYXRlUmVwb3J0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZ3MgXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJzZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TZXR0aW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zZXR0aW5ncy9zZXR0aW5ncy5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJzZXR0aW5nc0N0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbWVtYmVyc1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwibWVtYmVyc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9NZW1iZXJzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOiBudWxsIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiB1aS12aWV3PjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWVtYmVyQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICdST0xFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsUm9sZXM6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYTogJ0FHRU5DWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFnZW5jaWVzOiBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm9maWxlSWQ6IGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlUGFyYW1zLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbWVtYmVycy5NZW1iZXJzTGlzdFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwibWVtYmVycy5NZW1iZXJzTGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9NZW1iZXJzTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9tZW1iZXIvbWVtYmVyc0xpc3QuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBldmVudHNcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcImV2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9FdmVudHNcIixcclxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IHVpLXZpZXc+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJldmVudEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudHM6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXQ6ICdFVkVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRUeXBlczogZnVuY3Rpb24gKGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzOiAnRVZFTlRfU1RBVFVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRTdGF0czogZnVuY3Rpb24gKGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG06ICdNRU1CRVInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb29yZE1lbWJlcnM6IGZ1bmN0aW9uIChtLCAkaHR0cCwgJGNvb2tpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdldFJvbGVNZW1iZXJzKHsgcm9sZUlkOiAxIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBldmVudHMuRXZlbnRzTGlzdFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZXZlbnRzLkV2ZW50c0xpc3RcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRXZlbnRzTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9ldmVudC9ldmVudHNMaXN0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBldmVudHMuRXZlbnRJbmZvZlxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZXZlbnRzLkV2ZW50SW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9ldmVudEluZm8vOmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L2V2ZW50L2V2ZW50SW5mby5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJldmVudEluZm9DdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZTogJ0VWRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudElkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLnF1ZXJ5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiBldmVudElkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIHJlc291cmNlcyAgICBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9SZXNvdXJjZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IHVpLXZpZXc+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJyZXNvdXJjZXNDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnOiAnQUdFTkNZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQWdlbmNpZXM6IGZ1bmN0aW9uIChhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFnLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09OVEFDVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29udGFjdFR5cGVzOiBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQ6ICdERVBMT1lNRU5UX1BSSU9SSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95UHJpb3JpdGllczogZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlczogJ0VWRU5UX1NUQVRVUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50U3RhdHM6IGZ1bmN0aW9uIChlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldDogJ0VWRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudFR5cGVzOiBmdW5jdGlvbiAoZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnQ6ICdGSUxFX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxGaWxlVHlwZXM6IGZ1bmN0aW9uIChmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoY206ICdIT1JJWk9OVEFMX0NPTExfTUVUSE9EUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckNvbGxNZXRob2RzOiBmdW5jdGlvbiAoaGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGNtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZDogJ0hPUklaT05UQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIb3JEYXR1bXM6IGZ1bmN0aW9uIChoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhkLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hPVVNJTkdfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvdXNlVHlwZXM6IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNcXVhbGl0aWVzOiBmdW5jdGlvbiAoaHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtVDogJ0hXTV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNdHlwZXM6IGZ1bmN0aW9uIChod21UKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHdtVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNjOiAnSU5TVF9DT0xMX0NPTkRJVElPTicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEluc3RDb2xsZWN0Q29uZGl0aW9uczogZnVuY3Rpb24gKGljYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGljYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01BUktFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1hcmtlcnM6IGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm46ICdORVRXT1JLX05BTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChubikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5uLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHE6ICdPUF9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT2JqUHRRdWFsaXRpZXM6IGZ1bmN0aW9uIChvcHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdDogJ09QX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPYmpQdFR5cGVzOiBmdW5jdGlvbiAob3B0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYjogJ1NFTlNPUl9CUkFORCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvckJyYW5kczogZnVuY3Rpb24gKHNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2IuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR0OiAnREVQTE9ZTUVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95bWVudFR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3N0YXQ6ICdTVEFUVVNfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXR1c1R5cGVzOiBmdW5jdGlvbiAoc3N0YXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzc3RhdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Q6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnQ6ICdORVRXT1JLX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrVHlwZXM6IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2Y206ICdWRVJUSUNBTF9DT0xMX01FVEhPRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnRpY2FsQ29sbE1ldGhvZHM6IGZ1bmN0aW9uICh2Y20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2Y20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZkOiAnVkVSVElDQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0aWNhbERhdHVtczogZnVuY3Rpb24gKHZkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlc291cmNlcy5SZXNvdXJjZXNMaXN0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9SZXNvdXJjZXNMaXN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9yZXNvdXJjZXNMaXN0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWxsIGxvb2t1cCBodG1sc1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuYWdlbmN5XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0FnZW5jaWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9hZ2VuY3kuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkNvbnRhY3RUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0NvbnRhY3RUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvY29udGFjdFR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkRlcFByaW9yaXR5XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0RlcGxveW1lbnRQcmlvcml0aWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9kZXBsb3ltZW50UHJpb3JpdHkuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkV2ZW50U3RhdHVzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0V2ZW50U3RhdHVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9ldmVudFN0YXR1cy5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuRXZlbnRUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0V2ZW50VHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2V2ZW50VHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuRmlsZVR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRmlsZVR5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9maWxlVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSG9yQ29sbE1ldGhkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hvcml6b250YWxDb2xsTWV0aG9kc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvaG9yaXpvbnRhbENvbGxlY3Rpb25NZXRob2QuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkhvckRhdHVtXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hvcml6b250YWxEYXR1bXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2hvcml6b250YWxEYXR1bS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSG91c2luZ1R5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSG91c2luZ1R5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9ob3VzaW5nVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSFdNUXVhbFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9IV01RdWFsaXRpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2h3bVF1YWxpdHkuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkhXTVR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSFdNVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2h3bVR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0Lkluc3RyQ29sbENvbmRpdGlvblwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9JbnN0ckNvbGxDb25kaXRpb25zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9pbnN0cnVtZW50Q29sbGVjdGlvbkNvbmRpdGlvbi5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuTWFya2VyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL01hcmtlcnNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL21hcmtlci5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuTmV0d29ya05hbWVzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL05ldHdvcmtOYW1lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvbmV0d29ya05hbWVzLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5PUHF1YWxpdHlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvT2JqUG9pbnRRdWFsaXRpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL29iamVjdGl2ZVBvaW50UXVhbGl0eS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuT1BUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL09ialBvaW50VHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvb2JqZWN0aXZlUG9pbnRUeXBlLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5TZW5zb3JCcmFuZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TZW5zb3JCcmFuZHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3NlbnNvckJyYW5kLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5TZW5EZXBUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NlbnNvckRlcGxveW1lbnRUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvZGVwbG95bWVudFR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlN0YXR1c1R5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU3RhdHVzVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3N0YXR1c1R5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlNlbnNvclR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2Vuc29yVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3NlbnNvclR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0Lk5ldHdvcmtUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL05ldHdvcmtUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvbmV0d29ya1R5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlZlcnRDb2xsTWV0aG9kXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1ZlcnRpY2FsQ29sbE1ldGhvZHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3ZlcnRpY2FsQ29sbGVjdGlvbk1ldGhvZC5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuVmVydERhdHVtXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1ZlcnRpY2FsRGF0dW1zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy92ZXJ0aWNhbERhdHVtLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYnVsayBod20gYWRqdXN0bWVudCBwYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJidWxrSFdNQWRqXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0J1bGtIV01fYWRqdXN0bWVudHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvaHdtL2J1bGtIV01BZGouaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcImJ1bGtIV01BZGpDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3Q6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NUQVRFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVMaXN0OiBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT1VOVElFUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eUxpc3Q6IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYnVsayBod20gYWRqdXN0bWVudCBwYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJidWxrSFdNXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hpc3RvcmljSFdNX1VwbG9hZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9od20vYnVsa0hXTS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwiYnVsa0hXTUN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUxpc3Q6IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogJ0NPVU5USUVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5TGlzdDogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hXTV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtVHlwZUxpc3Q6IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiAnTUFSS0VSJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyTGlzdDogZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtUXVhbExpc3Q6IGZ1bmN0aW9uIChocSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhxLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZDogJ0hPUklaT05UQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3JpekRhdHVtTGlzdDogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yQ29sbE1ldGhMaXN0OiBmdW5jdGlvbiAoaGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGNtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZDogJ1ZFUlRJQ0FMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydERhdHVtTGlzdDogZnVuY3Rpb24gKHZkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZjbTogJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydENvbGxNZXRoTGlzdDogZnVuY3Rpb24gKHZjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZjbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZjogJ0ZJTEVfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlc0xpc3Q6IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYTogJ0FHRU5DWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jaWVzTGlzdDogZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2l0ZSAoYWJzdHJhY3QpXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJzaXRlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NpdGUvOmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogeyB2YWx1ZTogbnVsbCwgc3F1YXNoOiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogeyB2YWx1ZTogbnVsbCwgc3F1YXNoOiB0cnVlIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zaXRlL3NpdGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnU2l0ZV9TY3JpcHQnLCAncnVubmluZ1NjcmlwdCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgU2l0ZV9TY3JpcHQsIHJ1bm5pbmdTY3JpcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJRCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaXRlSUQgIT0gXCIwXCIpIFNpdGVfU2NyaXB0LnNldElzU2NyaXB0UnVubmluZyhydW5uaW5nU2NyaXB0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpdGUgc3R1ZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NJVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nU2NyaXB0OiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLnNlbnNvclNjcmlwdFJ1bm5pbmcoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZTogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5xdWVyeSh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGxvbmc6IGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMubGF0aXR1ZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0bG9uZ2FycmF5ID0gWyRzdGF0ZVBhcmFtcy5sYXRpdHVkZSwgJHN0YXRlUGFyYW1zLmxvbmdpdHVkZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhdGxvbmdhcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVOZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZU5ldHdvcmtOYW1lcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlTmV0d29ya1R5cGVzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVOZXR3b3JrVHlwZXMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUhvdXNpbmdzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVIb3VzaW5ncyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlT1BzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVPUHMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZVNlbnNvcnMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUhXTXM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMsICRodHRwLCAkY29va2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVIV01zKHsgaWQ6ICRzdGF0ZVBhcmFtcy5pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVGaWxlczogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRTaXRlRmlsZXMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVBlYWtzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVQZWFrcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkOiAnSE9SSVpPTlRBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckRhdHVtczogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHM6IGZ1bmN0aW9uIChoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0OiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09VTlRJRVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb3VudGllczogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hPVVNJTkdfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvdXNpbmdUeXBlczogZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5uOiAnTkVUV09SS19OQU1FJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTmV0d29ya05hbWVzOiBmdW5jdGlvbiAobm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBubi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnQ6ICdORVRXT1JLX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrVHlwZXM6IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdDogJ0RFUExPWU1FTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcGxveVR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHA6ICdERVBMT1lNRU5UX1BSSU9SSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95UHJpb3JpdGllczogZnVuY3Rpb24gKGRwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHAuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wIHN0dWZmICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdDogJ09QX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPUFR5cGVzOiBmdW5jdGlvbiAob3B0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0RGF0czogJ1ZFUlRJQ0FMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydERhdHVtczogZnVuY3Rpb24gKHZlcnREYXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRDb2xNZXQ6ICdWRVJUSUNBTF9DT0xMX01FVEhPRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnRDb2xNZXRob2RzOiBmdW5jdGlvbiAodmVydENvbE1ldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnRDb2xNZXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wUXVhbDogJ09QX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPUFF1YWxpdGllczogZnVuY3Rpb24gKG9wUXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wUXVhbC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2Vuc29yIHN0dWZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW50OiAnU0VOU09SX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTZW5zb3JUeXBlczogZnVuY3Rpb24gKHNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYjogJ1NFTlNPUl9CUkFORCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvckJyYW5kczogZnVuY3Rpb24gKHNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2IuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh3bSBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod210OiAnSFdNX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIV01UeXBlczogZnVuY3Rpb24gKGh3bXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod210LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNUXVhbGl0aWVzOiBmdW5jdGlvbiAoaHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01BUktFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1hcmtlcnM6IGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdDogJ0ZJTEVfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEZpbGVUeXBlczogZnVuY3Rpb24gKGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGE6ICdBR0VOQ1knLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxBZ2VuY2llczogZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzaXRlLmluZm9cclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInNpdGUuZGFzaGJvYXJkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NpdGVEYXNoYm9hcmRcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NpdGVObyc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRjb29raWVzJywgJ3RoaXNTaXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsIHRoaXNTaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlTm8gPSB0aGlzU2l0ZS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdj48aDIgc3R5bGU9XCJtYXJnaW4tdG9wOjBcIj5TaXRlIHt7U2l0ZU5vfX0gLSBGb3Ige3tzZXNzaW9uRXZlbnR9fTwvaDI+PC9kaXY+PGhyIC8+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYU1hcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlTWFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9zaXRlL3NpdGVNYXBWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFTaXRlOiBmdW5jdGlvbiAodGhpc1NpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzU2l0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHQ6ICdERVBMT1lNRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRUeXBlczogZnVuY3Rpb24gKHRoaXNTaXRlLCBkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGR0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NJVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVIV01zOiBmdW5jdGlvbiAodGhpc1NpdGUsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVIV01zKHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6ICdJTlNUUlVNRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJvU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdiYXJvX3ZpZXcnIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ21ldF92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmRnU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdyZGdfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JtU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdzdG9ybXRpZGVfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdmVTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3dhdmVoZWlnaHRfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNUZW1wU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdwcmVzc3VyZXRlbXBfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZXJtU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICd0aGVybV92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViY2FtU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICd3ZWJjYW1fdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaW5nYWdlU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdyYWluZ2FnZV92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FTaXRlJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3NpdGUvc2l0ZUluZm9WaWV3Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdvYmplY3RpdmVQb2ludEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvb2JqZWN0aXZlUG9pbnRMaXN0Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZW5zb3InOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2Vuc29yQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9zZW5zb3Ivc2Vuc29yTGlzdC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHdtJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2h3bUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvaHdtL2h3bUxpc3QuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbGUnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvZmlsZS9maWxlTGlzdC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGVhayc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwZWFrQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9wZWFrL3BlYWtMaXN0Lmh0bWwnXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBRdWlja0hXTSBwYWdlXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJxdWlja0NyZWF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9RdWlja0NyZWF0ZS86aWRcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvc2l0ZS9xdWlja0NyZWF0ZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJxdWlja0NyZWF0ZUN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGljaFF1aWNrOiBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaXRlIHN0dWZmICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkOiAnSE9SSVpPTlRBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckRhdHVtczogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHM6IGZ1bmN0aW9uIChoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0OiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09VTlRJRVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb3VudGllczogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvcCBzdHVmZiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQ6ICdPUF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT1BUeXBlczogZnVuY3Rpb24gKG9wdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydERhdHM6ICdWRVJUSUNBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnREYXR1bXM6IGZ1bmN0aW9uICh2ZXJ0RGF0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnREYXRzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0Q29sTWV0OiAnVkVSVElDQUxfQ09MTF9NRVRIT0QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0Q29sTWV0aG9kczogZnVuY3Rpb24gKHZlcnRDb2xNZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZXJ0Q29sTWV0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcFF1YWw6ICdPUF9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT1BRdWFsaXRpZXM6IGZ1bmN0aW9uIChvcFF1YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcFF1YWwuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh3bSBzdHVmZiAoaWYgaWQ9J2h3bScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bXQ6ICdIV01fVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhXTVR5cGVzOiBmdW5jdGlvbiAoaHdtdCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdIV00nKSByZXR1cm4gaHdtdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHE6ICdIV01fUVVBTElUWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhXTVF1YWxpdGllczogZnVuY3Rpb24gKGhxLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ0hXTScpIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01BUktFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1hcmtlcnM6IGZ1bmN0aW9uIChtLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ0hXTScpIHJldHVybiBtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5zb3Igc3R1ZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHQ6ICdERVBMT1lNRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3lUeXBlczogZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA9PSAnU2Vuc29yJykgcmV0dXJuIGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnQ6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc2VudCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdTZW5zb3InKSByZXR1cm4gc2VudC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2I6ICdTRU5TT1JfQlJBTkQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTZW5zb3JCcmFuZHM6IGZ1bmN0aW9uIChzYiwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdTZW5zb3InKSByZXR1cm4gc2IuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0OiAnSE9VU0lOR19UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG91c2luZ1R5cGVzOiBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBTdGF0dXM0MDQgTm90IGZvdW5kIG9uIGNvbXBvbmVudC9tYWluL21haW5WaWV3Lmh0bWxcclxuICAgICAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xyXG4gICAgICAgICAgICAvLyAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyAgICByZXF1aXJlQmFzZTogZmFsc2VcclxuICAgICAgICAgICAgLy99KTtcclxuICAgICAgICB9XHJcbiAgICBdKTtcclxufSgpKTtcclxuIl19
